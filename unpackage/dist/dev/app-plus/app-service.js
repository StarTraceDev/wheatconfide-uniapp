var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
if (typeof Promise !== "undefined" && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor;
    return this.then(
      (value) => promise.resolve(callback()).then(() => value),
      (reason) => promise.resolve(callback()).then(() => {
        throw reason;
      })
    );
  };
}
;
if (typeof uni !== "undefined" && uni && uni.requireGlobal) {
  const global2 = uni.requireGlobal();
  ArrayBuffer = global2.ArrayBuffer;
  Int8Array = global2.Int8Array;
  Uint8Array = global2.Uint8Array;
  Uint8ClampedArray = global2.Uint8ClampedArray;
  Int16Array = global2.Int16Array;
  Uint16Array = global2.Uint16Array;
  Int32Array = global2.Int32Array;
  Uint32Array = global2.Uint32Array;
  Float32Array = global2.Float32Array;
  Float64Array = global2.Float64Array;
  BigInt64Array = global2.BigInt64Array;
  BigUint64Array = global2.BigUint64Array;
}
;
if (uni.restoreGlobal) {
  uni.restoreGlobal(Vue, weex, plus, setTimeout, clearTimeout, setInterval, clearInterval);
}
(function(vue) {
  "use strict";
  var _a, _b;
  const ON_SHOW = "onShow";
  const ON_LOAD = "onLoad";
  const ON_READY = "onReady";
  const ON_UNLOAD = "onUnload";
  const ON_BACK_PRESS = "onBackPress";
  const ON_PAGE_SCROLL = "onPageScroll";
  const ON_REACH_BOTTOM = "onReachBottom";
  const ON_PULL_DOWN_REFRESH = "onPullDownRefresh";
  function requireNativePlugin(name) {
    return weex.requireModule(name);
  }
  function formatAppLog(type, filename, ...args) {
    if (uni.__log__) {
      uni.__log__(type, filename, ...args);
    } else {
      console[type].apply(console, [...args, filename]);
    }
  }
  function resolveEasycom(component, easycom) {
    return typeof component === "string" ? easycom : component;
  }
  const createLifeCycleHook = (lifecycle, flag = 0) => (hook, target = vue.getCurrentInstance()) => {
    !vue.isInSSRComponentSetup && vue.injectHook(lifecycle, hook, target);
  };
  const onShow = /* @__PURE__ */ createLifeCycleHook(
    ON_SHOW,
    1 | 2
    /* HookFlags.PAGE */
  );
  const onLoad = /* @__PURE__ */ createLifeCycleHook(
    ON_LOAD,
    2
    /* HookFlags.PAGE */
  );
  const onReady = /* @__PURE__ */ createLifeCycleHook(
    ON_READY,
    2
    /* HookFlags.PAGE */
  );
  const onUnload = /* @__PURE__ */ createLifeCycleHook(
    ON_UNLOAD,
    2
    /* HookFlags.PAGE */
  );
  const onBackPress = /* @__PURE__ */ createLifeCycleHook(
    ON_BACK_PRESS,
    2
    /* HookFlags.PAGE */
  );
  const onPageScroll = /* @__PURE__ */ createLifeCycleHook(
    ON_PAGE_SCROLL,
    2
    /* HookFlags.PAGE */
  );
  const onReachBottom = /* @__PURE__ */ createLifeCycleHook(
    ON_REACH_BOTTOM,
    2
    /* HookFlags.PAGE */
  );
  const onPullDownRefresh = /* @__PURE__ */ createLifeCycleHook(
    ON_PULL_DOWN_REFRESH,
    2
    /* HookFlags.PAGE */
  );
  var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
  function getDefaultExportFromCjs(x) {
    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
  }
  var jsonBigint = { exports: {} };
  var stringify = { exports: {} };
  var lookup = [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    62,
    0,
    62,
    0,
    63,
    52,
    53,
    54,
    55,
    56,
    57,
    58,
    59,
    60,
    61,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    0,
    0,
    0,
    0,
    63,
    0,
    26,
    27,
    28,
    29,
    30,
    31,
    32,
    33,
    34,
    35,
    36,
    37,
    38,
    39,
    40,
    41,
    42,
    43,
    44,
    45,
    46,
    47,
    48,
    49,
    50,
    51
  ];
  function base64Decode(source, target) {
    var sourceLength = source.length;
    var paddingLength = source[sourceLength - 2] === "=" ? 2 : source[sourceLength - 1] === "=" ? 1 : 0;
    var tmp;
    var byteIndex = 0;
    var baseLength = sourceLength - paddingLength & 4294967292;
    for (var i2 = 0; i2 < baseLength; i2 += 4) {
      tmp = lookup[source.charCodeAt(i2)] << 18 | lookup[source.charCodeAt(i2 + 1)] << 12 | lookup[source.charCodeAt(i2 + 2)] << 6 | lookup[source.charCodeAt(i2 + 3)];
      target[byteIndex++] = tmp >> 16 & 255;
      target[byteIndex++] = tmp >> 8 & 255;
      target[byteIndex++] = tmp & 255;
    }
    if (paddingLength === 1) {
      tmp = lookup[source.charCodeAt(i2)] << 10 | lookup[source.charCodeAt(i2 + 1)] << 4 | lookup[source.charCodeAt(i2 + 2)] >> 2;
      target[byteIndex++] = tmp >> 8 & 255;
      target[byteIndex++] = tmp & 255;
    }
    if (paddingLength === 2) {
      tmp = lookup[source.charCodeAt(i2)] << 2 | lookup[source.charCodeAt(i2 + 1)] >> 4;
      target[byteIndex++] = tmp & 255;
    }
  }
  const crypto = {
    getRandomValues(arr) {
      if (!(arr instanceof Int8Array || arr instanceof Uint8Array || arr instanceof Int16Array || arr instanceof Uint16Array || arr instanceof Int32Array || arr instanceof Uint32Array || arr instanceof Uint8ClampedArray)) {
        throw new Error("Expected an integer array");
      }
      if (arr.byteLength > 65536) {
        throw new Error("Can only request a maximum of 65536 bytes");
      }
      var crypto2 = requireNativePlugin("DCloud-Crypto");
      base64Decode(crypto2.getRandomValues(arr.byteLength), new Uint8Array(
        arr.buffer,
        arr.byteOffset,
        arr.byteLength
      ));
      return arr;
    }
  };
  var bignumber = { exports: {} };
  (function(module) {
    (function(globalObject) {
      var BigNumber2, isNumeric = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, mathceil = Math.ceil, mathfloor = Math.floor, bignumberError = "[BigNumber Error] ", tooManyDigits = bignumberError + "Number primitive has more than 15 significant digits: ", BASE = 1e14, LOG_BASE = 14, MAX_SAFE_INTEGER = 9007199254740991, POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], SQRT_BASE = 1e7, MAX = 1e9;
      function clone(configObject) {
        var div, convertBase, parseNumeric, P2 = BigNumber3.prototype = { constructor: BigNumber3, toString: null, valueOf: null }, ONE = new BigNumber3(1), DECIMAL_PLACES = 20, ROUNDING_MODE = 4, TO_EXP_NEG = -7, TO_EXP_POS = 21, MIN_EXP = -1e7, MAX_EXP = 1e7, CRYPTO = false, MODULO_MODE = 1, POW_PRECISION = 0, FORMAT = {
          prefix: "",
          groupSize: 3,
          secondaryGroupSize: 0,
          groupSeparator: ",",
          decimalSeparator: ".",
          fractionGroupSize: 0,
          fractionGroupSeparator: " ",
          // non-breaking space
          suffix: ""
        }, ALPHABET = "0123456789abcdefghijklmnopqrstuvwxyz", alphabetHasNormalDecimalDigits = true;
        function BigNumber3(v2, b2) {
          var alphabet, c2, caseChanged, e2, i2, isNum, len, str, x = this;
          if (!(x instanceof BigNumber3))
            return new BigNumber3(v2, b2);
          if (b2 == null) {
            if (v2 && v2._isBigNumber === true) {
              x.s = v2.s;
              if (!v2.c || v2.e > MAX_EXP) {
                x.c = x.e = null;
              } else if (v2.e < MIN_EXP) {
                x.c = [x.e = 0];
              } else {
                x.e = v2.e;
                x.c = v2.c.slice();
              }
              return;
            }
            if ((isNum = typeof v2 == "number") && v2 * 0 == 0) {
              x.s = 1 / v2 < 0 ? (v2 = -v2, -1) : 1;
              if (v2 === ~~v2) {
                for (e2 = 0, i2 = v2; i2 >= 10; i2 /= 10, e2++)
                  ;
                if (e2 > MAX_EXP) {
                  x.c = x.e = null;
                } else {
                  x.e = e2;
                  x.c = [v2];
                }
                return;
              }
              str = String(v2);
            } else {
              if (!isNumeric.test(str = String(v2)))
                return parseNumeric(x, str, isNum);
              x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;
            }
            if ((e2 = str.indexOf(".")) > -1)
              str = str.replace(".", "");
            if ((i2 = str.search(/e/i)) > 0) {
              if (e2 < 0)
                e2 = i2;
              e2 += +str.slice(i2 + 1);
              str = str.substring(0, i2);
            } else if (e2 < 0) {
              e2 = str.length;
            }
          } else {
            intCheck(b2, 2, ALPHABET.length, "Base");
            if (b2 == 10 && alphabetHasNormalDecimalDigits) {
              x = new BigNumber3(v2);
              return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);
            }
            str = String(v2);
            if (isNum = typeof v2 == "number") {
              if (v2 * 0 != 0)
                return parseNumeric(x, str, isNum, b2);
              x.s = 1 / v2 < 0 ? (str = str.slice(1), -1) : 1;
              if (BigNumber3.DEBUG && str.replace(/^0\.0*|\./, "").length > 15) {
                throw Error(tooManyDigits + v2);
              }
            } else {
              x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;
            }
            alphabet = ALPHABET.slice(0, b2);
            e2 = i2 = 0;
            for (len = str.length; i2 < len; i2++) {
              if (alphabet.indexOf(c2 = str.charAt(i2)) < 0) {
                if (c2 == ".") {
                  if (i2 > e2) {
                    e2 = len;
                    continue;
                  }
                } else if (!caseChanged) {
                  if (str == str.toUpperCase() && (str = str.toLowerCase()) || str == str.toLowerCase() && (str = str.toUpperCase())) {
                    caseChanged = true;
                    i2 = -1;
                    e2 = 0;
                    continue;
                  }
                }
                return parseNumeric(x, String(v2), isNum, b2);
              }
            }
            isNum = false;
            str = convertBase(str, b2, 10, x.s);
            if ((e2 = str.indexOf(".")) > -1)
              str = str.replace(".", "");
            else
              e2 = str.length;
          }
          for (i2 = 0; str.charCodeAt(i2) === 48; i2++)
            ;
          for (len = str.length; str.charCodeAt(--len) === 48; )
            ;
          if (str = str.slice(i2, ++len)) {
            len -= i2;
            if (isNum && BigNumber3.DEBUG && len > 15 && (v2 > MAX_SAFE_INTEGER || v2 !== mathfloor(v2))) {
              throw Error(tooManyDigits + x.s * v2);
            }
            if ((e2 = e2 - i2 - 1) > MAX_EXP) {
              x.c = x.e = null;
            } else if (e2 < MIN_EXP) {
              x.c = [x.e = 0];
            } else {
              x.e = e2;
              x.c = [];
              i2 = (e2 + 1) % LOG_BASE;
              if (e2 < 0)
                i2 += LOG_BASE;
              if (i2 < len) {
                if (i2)
                  x.c.push(+str.slice(0, i2));
                for (len -= LOG_BASE; i2 < len; ) {
                  x.c.push(+str.slice(i2, i2 += LOG_BASE));
                }
                i2 = LOG_BASE - (str = str.slice(i2)).length;
              } else {
                i2 -= len;
              }
              for (; i2--; str += "0")
                ;
              x.c.push(+str);
            }
          } else {
            x.c = [x.e = 0];
          }
        }
        BigNumber3.clone = clone;
        BigNumber3.ROUND_UP = 0;
        BigNumber3.ROUND_DOWN = 1;
        BigNumber3.ROUND_CEIL = 2;
        BigNumber3.ROUND_FLOOR = 3;
        BigNumber3.ROUND_HALF_UP = 4;
        BigNumber3.ROUND_HALF_DOWN = 5;
        BigNumber3.ROUND_HALF_EVEN = 6;
        BigNumber3.ROUND_HALF_CEIL = 7;
        BigNumber3.ROUND_HALF_FLOOR = 8;
        BigNumber3.EUCLID = 9;
        BigNumber3.config = BigNumber3.set = function(obj) {
          var p2, v2;
          if (obj != null) {
            if (typeof obj == "object") {
              if (obj.hasOwnProperty(p2 = "DECIMAL_PLACES")) {
                v2 = obj[p2];
                intCheck(v2, 0, MAX, p2);
                DECIMAL_PLACES = v2;
              }
              if (obj.hasOwnProperty(p2 = "ROUNDING_MODE")) {
                v2 = obj[p2];
                intCheck(v2, 0, 8, p2);
                ROUNDING_MODE = v2;
              }
              if (obj.hasOwnProperty(p2 = "EXPONENTIAL_AT")) {
                v2 = obj[p2];
                if (v2 && v2.pop) {
                  intCheck(v2[0], -MAX, 0, p2);
                  intCheck(v2[1], 0, MAX, p2);
                  TO_EXP_NEG = v2[0];
                  TO_EXP_POS = v2[1];
                } else {
                  intCheck(v2, -MAX, MAX, p2);
                  TO_EXP_NEG = -(TO_EXP_POS = v2 < 0 ? -v2 : v2);
                }
              }
              if (obj.hasOwnProperty(p2 = "RANGE")) {
                v2 = obj[p2];
                if (v2 && v2.pop) {
                  intCheck(v2[0], -MAX, -1, p2);
                  intCheck(v2[1], 1, MAX, p2);
                  MIN_EXP = v2[0];
                  MAX_EXP = v2[1];
                } else {
                  intCheck(v2, -MAX, MAX, p2);
                  if (v2) {
                    MIN_EXP = -(MAX_EXP = v2 < 0 ? -v2 : v2);
                  } else {
                    throw Error(bignumberError + p2 + " cannot be zero: " + v2);
                  }
                }
              }
              if (obj.hasOwnProperty(p2 = "CRYPTO")) {
                v2 = obj[p2];
                if (v2 === !!v2) {
                  if (v2) {
                    if (typeof crypto != "undefined" && crypto && (crypto.getRandomValues || crypto.randomBytes)) {
                      CRYPTO = v2;
                    } else {
                      CRYPTO = !v2;
                      throw Error(bignumberError + "crypto unavailable");
                    }
                  } else {
                    CRYPTO = v2;
                  }
                } else {
                  throw Error(bignumberError + p2 + " not true or false: " + v2);
                }
              }
              if (obj.hasOwnProperty(p2 = "MODULO_MODE")) {
                v2 = obj[p2];
                intCheck(v2, 0, 9, p2);
                MODULO_MODE = v2;
              }
              if (obj.hasOwnProperty(p2 = "POW_PRECISION")) {
                v2 = obj[p2];
                intCheck(v2, 0, MAX, p2);
                POW_PRECISION = v2;
              }
              if (obj.hasOwnProperty(p2 = "FORMAT")) {
                v2 = obj[p2];
                if (typeof v2 == "object")
                  FORMAT = v2;
                else
                  throw Error(bignumberError + p2 + " not an object: " + v2);
              }
              if (obj.hasOwnProperty(p2 = "ALPHABET")) {
                v2 = obj[p2];
                if (typeof v2 == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(v2)) {
                  alphabetHasNormalDecimalDigits = v2.slice(0, 10) == "0123456789";
                  ALPHABET = v2;
                } else {
                  throw Error(bignumberError + p2 + " invalid: " + v2);
                }
              }
            } else {
              throw Error(bignumberError + "Object expected: " + obj);
            }
          }
          return {
            DECIMAL_PLACES,
            ROUNDING_MODE,
            EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],
            RANGE: [MIN_EXP, MAX_EXP],
            CRYPTO,
            MODULO_MODE,
            POW_PRECISION,
            FORMAT,
            ALPHABET
          };
        };
        BigNumber3.isBigNumber = function(v2) {
          if (!v2 || v2._isBigNumber !== true)
            return false;
          if (!BigNumber3.DEBUG)
            return true;
          var i2, n2, c2 = v2.c, e2 = v2.e, s2 = v2.s;
          out:
            if ({}.toString.call(c2) == "[object Array]") {
              if ((s2 === 1 || s2 === -1) && e2 >= -MAX && e2 <= MAX && e2 === mathfloor(e2)) {
                if (c2[0] === 0) {
                  if (e2 === 0 && c2.length === 1)
                    return true;
                  break out;
                }
                i2 = (e2 + 1) % LOG_BASE;
                if (i2 < 1)
                  i2 += LOG_BASE;
                if (String(c2[0]).length == i2) {
                  for (i2 = 0; i2 < c2.length; i2++) {
                    n2 = c2[i2];
                    if (n2 < 0 || n2 >= BASE || n2 !== mathfloor(n2))
                      break out;
                  }
                  if (n2 !== 0)
                    return true;
                }
              }
            } else if (c2 === null && e2 === null && (s2 === null || s2 === 1 || s2 === -1)) {
              return true;
            }
          throw Error(bignumberError + "Invalid BigNumber: " + v2);
        };
        BigNumber3.maximum = BigNumber3.max = function() {
          return maxOrMin(arguments, -1);
        };
        BigNumber3.minimum = BigNumber3.min = function() {
          return maxOrMin(arguments, 1);
        };
        BigNumber3.random = function() {
          var pow2_53 = 9007199254740992;
          var random53bitInt = Math.random() * pow2_53 & 2097151 ? function() {
            return mathfloor(Math.random() * pow2_53);
          } : function() {
            return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
          };
          return function(dp) {
            var a2, b2, e2, k, v2, i2 = 0, c2 = [], rand = new BigNumber3(ONE);
            if (dp == null)
              dp = DECIMAL_PLACES;
            else
              intCheck(dp, 0, MAX);
            k = mathceil(dp / LOG_BASE);
            if (CRYPTO) {
              if (crypto.getRandomValues) {
                a2 = crypto.getRandomValues(new Uint32Array(k *= 2));
                for (; i2 < k; ) {
                  v2 = a2[i2] * 131072 + (a2[i2 + 1] >>> 11);
                  if (v2 >= 9e15) {
                    b2 = crypto.getRandomValues(new Uint32Array(2));
                    a2[i2] = b2[0];
                    a2[i2 + 1] = b2[1];
                  } else {
                    c2.push(v2 % 1e14);
                    i2 += 2;
                  }
                }
                i2 = k / 2;
              } else if (crypto.randomBytes) {
                a2 = crypto.randomBytes(k *= 7);
                for (; i2 < k; ) {
                  v2 = (a2[i2] & 31) * 281474976710656 + a2[i2 + 1] * 1099511627776 + a2[i2 + 2] * 4294967296 + a2[i2 + 3] * 16777216 + (a2[i2 + 4] << 16) + (a2[i2 + 5] << 8) + a2[i2 + 6];
                  if (v2 >= 9e15) {
                    crypto.randomBytes(7).copy(a2, i2);
                  } else {
                    c2.push(v2 % 1e14);
                    i2 += 7;
                  }
                }
                i2 = k / 7;
              } else {
                CRYPTO = false;
                throw Error(bignumberError + "crypto unavailable");
              }
            }
            if (!CRYPTO) {
              for (; i2 < k; ) {
                v2 = random53bitInt();
                if (v2 < 9e15)
                  c2[i2++] = v2 % 1e14;
              }
            }
            k = c2[--i2];
            dp %= LOG_BASE;
            if (k && dp) {
              v2 = POWS_TEN[LOG_BASE - dp];
              c2[i2] = mathfloor(k / v2) * v2;
            }
            for (; c2[i2] === 0; c2.pop(), i2--)
              ;
            if (i2 < 0) {
              c2 = [e2 = 0];
            } else {
              for (e2 = -1; c2[0] === 0; c2.splice(0, 1), e2 -= LOG_BASE)
                ;
              for (i2 = 1, v2 = c2[0]; v2 >= 10; v2 /= 10, i2++)
                ;
              if (i2 < LOG_BASE)
                e2 -= LOG_BASE - i2;
            }
            rand.e = e2;
            rand.c = c2;
            return rand;
          };
        }();
        BigNumber3.sum = function() {
          var i2 = 1, args = arguments, sum = new BigNumber3(args[0]);
          for (; i2 < args.length; )
            sum = sum.plus(args[i2++]);
          return sum;
        };
        convertBase = /* @__PURE__ */ function() {
          var decimal = "0123456789";
          function toBaseOut(str, baseIn, baseOut, alphabet) {
            var j2, arr = [0], arrL, i2 = 0, len = str.length;
            for (; i2 < len; ) {
              for (arrL = arr.length; arrL--; arr[arrL] *= baseIn)
                ;
              arr[0] += alphabet.indexOf(str.charAt(i2++));
              for (j2 = 0; j2 < arr.length; j2++) {
                if (arr[j2] > baseOut - 1) {
                  if (arr[j2 + 1] == null)
                    arr[j2 + 1] = 0;
                  arr[j2 + 1] += arr[j2] / baseOut | 0;
                  arr[j2] %= baseOut;
                }
              }
            }
            return arr.reverse();
          }
          return function(str, baseIn, baseOut, sign, callerIsToString) {
            var alphabet, d2, e2, k, r2, x, xc, y2, i2 = str.indexOf("."), dp = DECIMAL_PLACES, rm = ROUNDING_MODE;
            if (i2 >= 0) {
              k = POW_PRECISION;
              POW_PRECISION = 0;
              str = str.replace(".", "");
              y2 = new BigNumber3(baseIn);
              x = y2.pow(str.length - i2);
              POW_PRECISION = k;
              y2.c = toBaseOut(
                toFixedPoint(coeffToString(x.c), x.e, "0"),
                10,
                baseOut,
                decimal
              );
              y2.e = y2.c.length;
            }
            xc = toBaseOut(str, baseIn, baseOut, callerIsToString ? (alphabet = ALPHABET, decimal) : (alphabet = decimal, ALPHABET));
            e2 = k = xc.length;
            for (; xc[--k] == 0; xc.pop())
              ;
            if (!xc[0])
              return alphabet.charAt(0);
            if (i2 < 0) {
              --e2;
            } else {
              x.c = xc;
              x.e = e2;
              x.s = sign;
              x = div(x, y2, dp, rm, baseOut);
              xc = x.c;
              r2 = x.r;
              e2 = x.e;
            }
            d2 = e2 + dp + 1;
            i2 = xc[d2];
            k = baseOut / 2;
            r2 = r2 || d2 < 0 || xc[d2 + 1] != null;
            r2 = rm < 4 ? (i2 != null || r2) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : i2 > k || i2 == k && (rm == 4 || r2 || rm == 6 && xc[d2 - 1] & 1 || rm == (x.s < 0 ? 8 : 7));
            if (d2 < 1 || !xc[0]) {
              str = r2 ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);
            } else {
              xc.length = d2;
              if (r2) {
                for (--baseOut; ++xc[--d2] > baseOut; ) {
                  xc[d2] = 0;
                  if (!d2) {
                    ++e2;
                    xc = [1].concat(xc);
                  }
                }
              }
              for (k = xc.length; !xc[--k]; )
                ;
              for (i2 = 0, str = ""; i2 <= k; str += alphabet.charAt(xc[i2++]))
                ;
              str = toFixedPoint(str, e2, alphabet.charAt(0));
            }
            return str;
          };
        }();
        div = /* @__PURE__ */ function() {
          function multiply(x, k, base) {
            var m2, temp, xlo, xhi, carry = 0, i2 = x.length, klo = k % SQRT_BASE, khi = k / SQRT_BASE | 0;
            for (x = x.slice(); i2--; ) {
              xlo = x[i2] % SQRT_BASE;
              xhi = x[i2] / SQRT_BASE | 0;
              m2 = khi * xlo + xhi * klo;
              temp = klo * xlo + m2 % SQRT_BASE * SQRT_BASE + carry;
              carry = (temp / base | 0) + (m2 / SQRT_BASE | 0) + khi * xhi;
              x[i2] = temp % base;
            }
            if (carry)
              x = [carry].concat(x);
            return x;
          }
          function compare2(a2, b2, aL, bL) {
            var i2, cmp;
            if (aL != bL) {
              cmp = aL > bL ? 1 : -1;
            } else {
              for (i2 = cmp = 0; i2 < aL; i2++) {
                if (a2[i2] != b2[i2]) {
                  cmp = a2[i2] > b2[i2] ? 1 : -1;
                  break;
                }
              }
            }
            return cmp;
          }
          function subtract(a2, b2, aL, base) {
            var i2 = 0;
            for (; aL--; ) {
              a2[aL] -= i2;
              i2 = a2[aL] < b2[aL] ? 1 : 0;
              a2[aL] = i2 * base + a2[aL] - b2[aL];
            }
            for (; !a2[0] && a2.length > 1; a2.splice(0, 1))
              ;
          }
          return function(x, y2, dp, rm, base) {
            var cmp, e2, i2, more, n2, prod, prodL, q2, qc, rem, remL, rem0, xi, xL, yc0, yL, yz, s2 = x.s == y2.s ? 1 : -1, xc = x.c, yc = y2.c;
            if (!xc || !xc[0] || !yc || !yc[0]) {
              return new BigNumber3(
                // Return NaN if either NaN, or both Infinity or 0.
                !x.s || !y2.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN : (
                  // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.
                  xc && xc[0] == 0 || !yc ? s2 * 0 : s2 / 0
                )
              );
            }
            q2 = new BigNumber3(s2);
            qc = q2.c = [];
            e2 = x.e - y2.e;
            s2 = dp + e2 + 1;
            if (!base) {
              base = BASE;
              e2 = bitFloor(x.e / LOG_BASE) - bitFloor(y2.e / LOG_BASE);
              s2 = s2 / LOG_BASE | 0;
            }
            for (i2 = 0; yc[i2] == (xc[i2] || 0); i2++)
              ;
            if (yc[i2] > (xc[i2] || 0))
              e2--;
            if (s2 < 0) {
              qc.push(1);
              more = true;
            } else {
              xL = xc.length;
              yL = yc.length;
              i2 = 0;
              s2 += 2;
              n2 = mathfloor(base / (yc[0] + 1));
              if (n2 > 1) {
                yc = multiply(yc, n2, base);
                xc = multiply(xc, n2, base);
                yL = yc.length;
                xL = xc.length;
              }
              xi = yL;
              rem = xc.slice(0, yL);
              remL = rem.length;
              for (; remL < yL; rem[remL++] = 0)
                ;
              yz = yc.slice();
              yz = [0].concat(yz);
              yc0 = yc[0];
              if (yc[1] >= base / 2)
                yc0++;
              do {
                n2 = 0;
                cmp = compare2(yc, rem, yL, remL);
                if (cmp < 0) {
                  rem0 = rem[0];
                  if (yL != remL)
                    rem0 = rem0 * base + (rem[1] || 0);
                  n2 = mathfloor(rem0 / yc0);
                  if (n2 > 1) {
                    if (n2 >= base)
                      n2 = base - 1;
                    prod = multiply(yc, n2, base);
                    prodL = prod.length;
                    remL = rem.length;
                    while (compare2(prod, rem, prodL, remL) == 1) {
                      n2--;
                      subtract(prod, yL < prodL ? yz : yc, prodL, base);
                      prodL = prod.length;
                      cmp = 1;
                    }
                  } else {
                    if (n2 == 0) {
                      cmp = n2 = 1;
                    }
                    prod = yc.slice();
                    prodL = prod.length;
                  }
                  if (prodL < remL)
                    prod = [0].concat(prod);
                  subtract(rem, prod, remL, base);
                  remL = rem.length;
                  if (cmp == -1) {
                    while (compare2(yc, rem, yL, remL) < 1) {
                      n2++;
                      subtract(rem, yL < remL ? yz : yc, remL, base);
                      remL = rem.length;
                    }
                  }
                } else if (cmp === 0) {
                  n2++;
                  rem = [0];
                }
                qc[i2++] = n2;
                if (rem[0]) {
                  rem[remL++] = xc[xi] || 0;
                } else {
                  rem = [xc[xi]];
                  remL = 1;
                }
              } while ((xi++ < xL || rem[0] != null) && s2--);
              more = rem[0] != null;
              if (!qc[0])
                qc.splice(0, 1);
            }
            if (base == BASE) {
              for (i2 = 1, s2 = qc[0]; s2 >= 10; s2 /= 10, i2++)
                ;
              round(q2, dp + (q2.e = i2 + e2 * LOG_BASE - 1) + 1, rm, more);
            } else {
              q2.e = e2;
              q2.r = +more;
            }
            return q2;
          };
        }();
        function format(n2, i2, rm, id2) {
          var c0, e2, ne2, len, str;
          if (rm == null)
            rm = ROUNDING_MODE;
          else
            intCheck(rm, 0, 8);
          if (!n2.c)
            return n2.toString();
          c0 = n2.c[0];
          ne2 = n2.e;
          if (i2 == null) {
            str = coeffToString(n2.c);
            str = id2 == 1 || id2 == 2 && (ne2 <= TO_EXP_NEG || ne2 >= TO_EXP_POS) ? toExponential(str, ne2) : toFixedPoint(str, ne2, "0");
          } else {
            n2 = round(new BigNumber3(n2), i2, rm);
            e2 = n2.e;
            str = coeffToString(n2.c);
            len = str.length;
            if (id2 == 1 || id2 == 2 && (i2 <= e2 || e2 <= TO_EXP_NEG)) {
              for (; len < i2; str += "0", len++)
                ;
              str = toExponential(str, e2);
            } else {
              i2 -= ne2 + (id2 === 2 && e2 > ne2);
              str = toFixedPoint(str, e2, "0");
              if (e2 + 1 > len) {
                if (--i2 > 0)
                  for (str += "."; i2--; str += "0")
                    ;
              } else {
                i2 += e2 - len;
                if (i2 > 0) {
                  if (e2 + 1 == len)
                    str += ".";
                  for (; i2--; str += "0")
                    ;
                }
              }
            }
          }
          return n2.s < 0 && c0 ? "-" + str : str;
        }
        function maxOrMin(args, n2) {
          var k, y2, i2 = 1, x = new BigNumber3(args[0]);
          for (; i2 < args.length; i2++) {
            y2 = new BigNumber3(args[i2]);
            if (!y2.s || (k = compare(x, y2)) === n2 || k === 0 && x.s === n2) {
              x = y2;
            }
          }
          return x;
        }
        function normalise(n2, c2, e2) {
          var i2 = 1, j2 = c2.length;
          for (; !c2[--j2]; c2.pop())
            ;
          for (j2 = c2[0]; j2 >= 10; j2 /= 10, i2++)
            ;
          if ((e2 = i2 + e2 * LOG_BASE - 1) > MAX_EXP) {
            n2.c = n2.e = null;
          } else if (e2 < MIN_EXP) {
            n2.c = [n2.e = 0];
          } else {
            n2.e = e2;
            n2.c = c2;
          }
          return n2;
        }
        parseNumeric = /* @__PURE__ */ function() {
          var basePrefix = /^(-?)0([xbo])(?=\w[\w.]*$)/i, dotAfter = /^([^.]+)\.$/, dotBefore = /^\.([^.]+)$/, isInfinityOrNaN = /^-?(Infinity|NaN)$/, whitespaceOrPlus = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
          return function(x, str, isNum, b2) {
            var base, s2 = isNum ? str : str.replace(whitespaceOrPlus, "");
            if (isInfinityOrNaN.test(s2)) {
              x.s = isNaN(s2) ? null : s2 < 0 ? -1 : 1;
            } else {
              if (!isNum) {
                s2 = s2.replace(basePrefix, function(m2, p1, p2) {
                  base = (p2 = p2.toLowerCase()) == "x" ? 16 : p2 == "b" ? 2 : 8;
                  return !b2 || b2 == base ? p1 : m2;
                });
                if (b2) {
                  base = b2;
                  s2 = s2.replace(dotAfter, "$1").replace(dotBefore, "0.$1");
                }
                if (str != s2)
                  return new BigNumber3(s2, base);
              }
              if (BigNumber3.DEBUG) {
                throw Error(bignumberError + "Not a" + (b2 ? " base " + b2 : "") + " number: " + str);
              }
              x.s = null;
            }
            x.c = x.e = null;
          };
        }();
        function round(x, sd, rm, r2) {
          var d2, i2, j2, k, n2, ni, rd, xc = x.c, pows10 = POWS_TEN;
          if (xc) {
            out: {
              for (d2 = 1, k = xc[0]; k >= 10; k /= 10, d2++)
                ;
              i2 = sd - d2;
              if (i2 < 0) {
                i2 += LOG_BASE;
                j2 = sd;
                n2 = xc[ni = 0];
                rd = mathfloor(n2 / pows10[d2 - j2 - 1] % 10);
              } else {
                ni = mathceil((i2 + 1) / LOG_BASE);
                if (ni >= xc.length) {
                  if (r2) {
                    for (; xc.length <= ni; xc.push(0))
                      ;
                    n2 = rd = 0;
                    d2 = 1;
                    i2 %= LOG_BASE;
                    j2 = i2 - LOG_BASE + 1;
                  } else {
                    break out;
                  }
                } else {
                  n2 = k = xc[ni];
                  for (d2 = 1; k >= 10; k /= 10, d2++)
                    ;
                  i2 %= LOG_BASE;
                  j2 = i2 - LOG_BASE + d2;
                  rd = j2 < 0 ? 0 : mathfloor(n2 / pows10[d2 - j2 - 1] % 10);
                }
              }
              r2 = r2 || sd < 0 || // Are there any non-zero digits after the rounding digit?
              // The expression  n % pows10[d - j - 1]  returns all digits of n to the right
              // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.
              xc[ni + 1] != null || (j2 < 0 ? n2 : n2 % pows10[d2 - j2 - 1]);
              r2 = rm < 4 ? (rd || r2) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || r2 || rm == 6 && // Check whether the digit to the left of the rounding digit is odd.
              (i2 > 0 ? j2 > 0 ? n2 / pows10[d2 - j2] : 0 : xc[ni - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));
              if (sd < 1 || !xc[0]) {
                xc.length = 0;
                if (r2) {
                  sd -= x.e + 1;
                  xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];
                  x.e = -sd || 0;
                } else {
                  xc[0] = x.e = 0;
                }
                return x;
              }
              if (i2 == 0) {
                xc.length = ni;
                k = 1;
                ni--;
              } else {
                xc.length = ni + 1;
                k = pows10[LOG_BASE - i2];
                xc[ni] = j2 > 0 ? mathfloor(n2 / pows10[d2 - j2] % pows10[j2]) * k : 0;
              }
              if (r2) {
                for (; ; ) {
                  if (ni == 0) {
                    for (i2 = 1, j2 = xc[0]; j2 >= 10; j2 /= 10, i2++)
                      ;
                    j2 = xc[0] += k;
                    for (k = 1; j2 >= 10; j2 /= 10, k++)
                      ;
                    if (i2 != k) {
                      x.e++;
                      if (xc[0] == BASE)
                        xc[0] = 1;
                    }
                    break;
                  } else {
                    xc[ni] += k;
                    if (xc[ni] != BASE)
                      break;
                    xc[ni--] = 0;
                    k = 1;
                  }
                }
              }
              for (i2 = xc.length; xc[--i2] === 0; xc.pop())
                ;
            }
            if (x.e > MAX_EXP) {
              x.c = x.e = null;
            } else if (x.e < MIN_EXP) {
              x.c = [x.e = 0];
            }
          }
          return x;
        }
        function valueOf(n2) {
          var str, e2 = n2.e;
          if (e2 === null)
            return n2.toString();
          str = coeffToString(n2.c);
          str = e2 <= TO_EXP_NEG || e2 >= TO_EXP_POS ? toExponential(str, e2) : toFixedPoint(str, e2, "0");
          return n2.s < 0 ? "-" + str : str;
        }
        P2.absoluteValue = P2.abs = function() {
          var x = new BigNumber3(this);
          if (x.s < 0)
            x.s = 1;
          return x;
        };
        P2.comparedTo = function(y2, b2) {
          return compare(this, new BigNumber3(y2, b2));
        };
        P2.decimalPlaces = P2.dp = function(dp, rm) {
          var c2, n2, v2, x = this;
          if (dp != null) {
            intCheck(dp, 0, MAX);
            if (rm == null)
              rm = ROUNDING_MODE;
            else
              intCheck(rm, 0, 8);
            return round(new BigNumber3(x), dp + x.e + 1, rm);
          }
          if (!(c2 = x.c))
            return null;
          n2 = ((v2 = c2.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;
          if (v2 = c2[v2])
            for (; v2 % 10 == 0; v2 /= 10, n2--)
              ;
          if (n2 < 0)
            n2 = 0;
          return n2;
        };
        P2.dividedBy = P2.div = function(y2, b2) {
          return div(this, new BigNumber3(y2, b2), DECIMAL_PLACES, ROUNDING_MODE);
        };
        P2.dividedToIntegerBy = P2.idiv = function(y2, b2) {
          return div(this, new BigNumber3(y2, b2), 0, 1);
        };
        P2.exponentiatedBy = P2.pow = function(n2, m2) {
          var half, isModExp, i2, k, more, nIsBig, nIsNeg, nIsOdd, y2, x = this;
          n2 = new BigNumber3(n2);
          if (n2.c && !n2.isInteger()) {
            throw Error(bignumberError + "Exponent not an integer: " + valueOf(n2));
          }
          if (m2 != null)
            m2 = new BigNumber3(m2);
          nIsBig = n2.e > 14;
          if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n2.c || !n2.c[0]) {
            y2 = new BigNumber3(Math.pow(+valueOf(x), nIsBig ? n2.s * (2 - isOdd(n2)) : +valueOf(n2)));
            return m2 ? y2.mod(m2) : y2;
          }
          nIsNeg = n2.s < 0;
          if (m2) {
            if (m2.c ? !m2.c[0] : !m2.s)
              return new BigNumber3(NaN);
            isModExp = !nIsNeg && x.isInteger() && m2.isInteger();
            if (isModExp)
              x = x.mod(m2);
          } else if (n2.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0 ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7 : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {
            k = x.s < 0 && isOdd(n2) ? -0 : 0;
            if (x.e > -1)
              k = 1 / k;
            return new BigNumber3(nIsNeg ? 1 / k : k);
          } else if (POW_PRECISION) {
            k = mathceil(POW_PRECISION / LOG_BASE + 2);
          }
          if (nIsBig) {
            half = new BigNumber3(0.5);
            if (nIsNeg)
              n2.s = 1;
            nIsOdd = isOdd(n2);
          } else {
            i2 = Math.abs(+valueOf(n2));
            nIsOdd = i2 % 2;
          }
          y2 = new BigNumber3(ONE);
          for (; ; ) {
            if (nIsOdd) {
              y2 = y2.times(x);
              if (!y2.c)
                break;
              if (k) {
                if (y2.c.length > k)
                  y2.c.length = k;
              } else if (isModExp) {
                y2 = y2.mod(m2);
              }
            }
            if (i2) {
              i2 = mathfloor(i2 / 2);
              if (i2 === 0)
                break;
              nIsOdd = i2 % 2;
            } else {
              n2 = n2.times(half);
              round(n2, n2.e + 1, 1);
              if (n2.e > 14) {
                nIsOdd = isOdd(n2);
              } else {
                i2 = +valueOf(n2);
                if (i2 === 0)
                  break;
                nIsOdd = i2 % 2;
              }
            }
            x = x.times(x);
            if (k) {
              if (x.c && x.c.length > k)
                x.c.length = k;
            } else if (isModExp) {
              x = x.mod(m2);
            }
          }
          if (isModExp)
            return y2;
          if (nIsNeg)
            y2 = ONE.div(y2);
          return m2 ? y2.mod(m2) : k ? round(y2, POW_PRECISION, ROUNDING_MODE, more) : y2;
        };
        P2.integerValue = function(rm) {
          var n2 = new BigNumber3(this);
          if (rm == null)
            rm = ROUNDING_MODE;
          else
            intCheck(rm, 0, 8);
          return round(n2, n2.e + 1, rm);
        };
        P2.isEqualTo = P2.eq = function(y2, b2) {
          return compare(this, new BigNumber3(y2, b2)) === 0;
        };
        P2.isFinite = function() {
          return !!this.c;
        };
        P2.isGreaterThan = P2.gt = function(y2, b2) {
          return compare(this, new BigNumber3(y2, b2)) > 0;
        };
        P2.isGreaterThanOrEqualTo = P2.gte = function(y2, b2) {
          return (b2 = compare(this, new BigNumber3(y2, b2))) === 1 || b2 === 0;
        };
        P2.isInteger = function() {
          return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;
        };
        P2.isLessThan = P2.lt = function(y2, b2) {
          return compare(this, new BigNumber3(y2, b2)) < 0;
        };
        P2.isLessThanOrEqualTo = P2.lte = function(y2, b2) {
          return (b2 = compare(this, new BigNumber3(y2, b2))) === -1 || b2 === 0;
        };
        P2.isNaN = function() {
          return !this.s;
        };
        P2.isNegative = function() {
          return this.s < 0;
        };
        P2.isPositive = function() {
          return this.s > 0;
        };
        P2.isZero = function() {
          return !!this.c && this.c[0] == 0;
        };
        P2.minus = function(y2, b2) {
          var i2, j2, t2, xLTy, x = this, a2 = x.s;
          y2 = new BigNumber3(y2, b2);
          b2 = y2.s;
          if (!a2 || !b2)
            return new BigNumber3(NaN);
          if (a2 != b2) {
            y2.s = -b2;
            return x.plus(y2);
          }
          var xe2 = x.e / LOG_BASE, ye2 = y2.e / LOG_BASE, xc = x.c, yc = y2.c;
          if (!xe2 || !ye2) {
            if (!xc || !yc)
              return xc ? (y2.s = -b2, y2) : new BigNumber3(yc ? x : NaN);
            if (!xc[0] || !yc[0]) {
              return yc[0] ? (y2.s = -b2, y2) : new BigNumber3(xc[0] ? x : (
                // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity
                ROUNDING_MODE == 3 ? -0 : 0
              ));
            }
          }
          xe2 = bitFloor(xe2);
          ye2 = bitFloor(ye2);
          xc = xc.slice();
          if (a2 = xe2 - ye2) {
            if (xLTy = a2 < 0) {
              a2 = -a2;
              t2 = xc;
            } else {
              ye2 = xe2;
              t2 = yc;
            }
            t2.reverse();
            for (b2 = a2; b2--; t2.push(0))
              ;
            t2.reverse();
          } else {
            j2 = (xLTy = (a2 = xc.length) < (b2 = yc.length)) ? a2 : b2;
            for (a2 = b2 = 0; b2 < j2; b2++) {
              if (xc[b2] != yc[b2]) {
                xLTy = xc[b2] < yc[b2];
                break;
              }
            }
          }
          if (xLTy) {
            t2 = xc;
            xc = yc;
            yc = t2;
            y2.s = -y2.s;
          }
          b2 = (j2 = yc.length) - (i2 = xc.length);
          if (b2 > 0)
            for (; b2--; xc[i2++] = 0)
              ;
          b2 = BASE - 1;
          for (; j2 > a2; ) {
            if (xc[--j2] < yc[j2]) {
              for (i2 = j2; i2 && !xc[--i2]; xc[i2] = b2)
                ;
              --xc[i2];
              xc[j2] += BASE;
            }
            xc[j2] -= yc[j2];
          }
          for (; xc[0] == 0; xc.splice(0, 1), --ye2)
            ;
          if (!xc[0]) {
            y2.s = ROUNDING_MODE == 3 ? -1 : 1;
            y2.c = [y2.e = 0];
            return y2;
          }
          return normalise(y2, xc, ye2);
        };
        P2.modulo = P2.mod = function(y2, b2) {
          var q2, s2, x = this;
          y2 = new BigNumber3(y2, b2);
          if (!x.c || !y2.s || y2.c && !y2.c[0]) {
            return new BigNumber3(NaN);
          } else if (!y2.c || x.c && !x.c[0]) {
            return new BigNumber3(x);
          }
          if (MODULO_MODE == 9) {
            s2 = y2.s;
            y2.s = 1;
            q2 = div(x, y2, 0, 3);
            y2.s = s2;
            q2.s *= s2;
          } else {
            q2 = div(x, y2, 0, MODULO_MODE);
          }
          y2 = x.minus(q2.times(y2));
          if (!y2.c[0] && MODULO_MODE == 1)
            y2.s = x.s;
          return y2;
        };
        P2.multipliedBy = P2.times = function(y2, b2) {
          var c2, e2, i2, j2, k, m2, xcL, xlo, xhi, ycL, ylo, yhi, zc, base, sqrtBase, x = this, xc = x.c, yc = (y2 = new BigNumber3(y2, b2)).c;
          if (!xc || !yc || !xc[0] || !yc[0]) {
            if (!x.s || !y2.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {
              y2.c = y2.e = y2.s = null;
            } else {
              y2.s *= x.s;
              if (!xc || !yc) {
                y2.c = y2.e = null;
              } else {
                y2.c = [0];
                y2.e = 0;
              }
            }
            return y2;
          }
          e2 = bitFloor(x.e / LOG_BASE) + bitFloor(y2.e / LOG_BASE);
          y2.s *= x.s;
          xcL = xc.length;
          ycL = yc.length;
          if (xcL < ycL) {
            zc = xc;
            xc = yc;
            yc = zc;
            i2 = xcL;
            xcL = ycL;
            ycL = i2;
          }
          for (i2 = xcL + ycL, zc = []; i2--; zc.push(0))
            ;
          base = BASE;
          sqrtBase = SQRT_BASE;
          for (i2 = ycL; --i2 >= 0; ) {
            c2 = 0;
            ylo = yc[i2] % sqrtBase;
            yhi = yc[i2] / sqrtBase | 0;
            for (k = xcL, j2 = i2 + k; j2 > i2; ) {
              xlo = xc[--k] % sqrtBase;
              xhi = xc[k] / sqrtBase | 0;
              m2 = yhi * xlo + xhi * ylo;
              xlo = ylo * xlo + m2 % sqrtBase * sqrtBase + zc[j2] + c2;
              c2 = (xlo / base | 0) + (m2 / sqrtBase | 0) + yhi * xhi;
              zc[j2--] = xlo % base;
            }
            zc[j2] = c2;
          }
          if (c2) {
            ++e2;
          } else {
            zc.splice(0, 1);
          }
          return normalise(y2, zc, e2);
        };
        P2.negated = function() {
          var x = new BigNumber3(this);
          x.s = -x.s || null;
          return x;
        };
        P2.plus = function(y2, b2) {
          var t2, x = this, a2 = x.s;
          y2 = new BigNumber3(y2, b2);
          b2 = y2.s;
          if (!a2 || !b2)
            return new BigNumber3(NaN);
          if (a2 != b2) {
            y2.s = -b2;
            return x.minus(y2);
          }
          var xe2 = x.e / LOG_BASE, ye2 = y2.e / LOG_BASE, xc = x.c, yc = y2.c;
          if (!xe2 || !ye2) {
            if (!xc || !yc)
              return new BigNumber3(a2 / 0);
            if (!xc[0] || !yc[0])
              return yc[0] ? y2 : new BigNumber3(xc[0] ? x : a2 * 0);
          }
          xe2 = bitFloor(xe2);
          ye2 = bitFloor(ye2);
          xc = xc.slice();
          if (a2 = xe2 - ye2) {
            if (a2 > 0) {
              ye2 = xe2;
              t2 = yc;
            } else {
              a2 = -a2;
              t2 = xc;
            }
            t2.reverse();
            for (; a2--; t2.push(0))
              ;
            t2.reverse();
          }
          a2 = xc.length;
          b2 = yc.length;
          if (a2 - b2 < 0) {
            t2 = yc;
            yc = xc;
            xc = t2;
            b2 = a2;
          }
          for (a2 = 0; b2; ) {
            a2 = (xc[--b2] = xc[b2] + yc[b2] + a2) / BASE | 0;
            xc[b2] = BASE === xc[b2] ? 0 : xc[b2] % BASE;
          }
          if (a2) {
            xc = [a2].concat(xc);
            ++ye2;
          }
          return normalise(y2, xc, ye2);
        };
        P2.precision = P2.sd = function(sd, rm) {
          var c2, n2, v2, x = this;
          if (sd != null && sd !== !!sd) {
            intCheck(sd, 1, MAX);
            if (rm == null)
              rm = ROUNDING_MODE;
            else
              intCheck(rm, 0, 8);
            return round(new BigNumber3(x), sd, rm);
          }
          if (!(c2 = x.c))
            return null;
          v2 = c2.length - 1;
          n2 = v2 * LOG_BASE + 1;
          if (v2 = c2[v2]) {
            for (; v2 % 10 == 0; v2 /= 10, n2--)
              ;
            for (v2 = c2[0]; v2 >= 10; v2 /= 10, n2++)
              ;
          }
          if (sd && x.e + 1 > n2)
            n2 = x.e + 1;
          return n2;
        };
        P2.shiftedBy = function(k) {
          intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);
          return this.times("1e" + k);
        };
        P2.squareRoot = P2.sqrt = function() {
          var m2, n2, r2, rep, t2, x = this, c2 = x.c, s2 = x.s, e2 = x.e, dp = DECIMAL_PLACES + 4, half = new BigNumber3("0.5");
          if (s2 !== 1 || !c2 || !c2[0]) {
            return new BigNumber3(!s2 || s2 < 0 && (!c2 || c2[0]) ? NaN : c2 ? x : 1 / 0);
          }
          s2 = Math.sqrt(+valueOf(x));
          if (s2 == 0 || s2 == 1 / 0) {
            n2 = coeffToString(c2);
            if ((n2.length + e2) % 2 == 0)
              n2 += "0";
            s2 = Math.sqrt(+n2);
            e2 = bitFloor((e2 + 1) / 2) - (e2 < 0 || e2 % 2);
            if (s2 == 1 / 0) {
              n2 = "5e" + e2;
            } else {
              n2 = s2.toExponential();
              n2 = n2.slice(0, n2.indexOf("e") + 1) + e2;
            }
            r2 = new BigNumber3(n2);
          } else {
            r2 = new BigNumber3(s2 + "");
          }
          if (r2.c[0]) {
            e2 = r2.e;
            s2 = e2 + dp;
            if (s2 < 3)
              s2 = 0;
            for (; ; ) {
              t2 = r2;
              r2 = half.times(t2.plus(div(x, t2, dp, 1)));
              if (coeffToString(t2.c).slice(0, s2) === (n2 = coeffToString(r2.c)).slice(0, s2)) {
                if (r2.e < e2)
                  --s2;
                n2 = n2.slice(s2 - 3, s2 + 1);
                if (n2 == "9999" || !rep && n2 == "4999") {
                  if (!rep) {
                    round(t2, t2.e + DECIMAL_PLACES + 2, 0);
                    if (t2.times(t2).eq(x)) {
                      r2 = t2;
                      break;
                    }
                  }
                  dp += 4;
                  s2 += 4;
                  rep = 1;
                } else {
                  if (!+n2 || !+n2.slice(1) && n2.charAt(0) == "5") {
                    round(r2, r2.e + DECIMAL_PLACES + 2, 1);
                    m2 = !r2.times(r2).eq(x);
                  }
                  break;
                }
              }
            }
          }
          return round(r2, r2.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m2);
        };
        P2.toExponential = function(dp, rm) {
          if (dp != null) {
            intCheck(dp, 0, MAX);
            dp++;
          }
          return format(this, dp, rm, 1);
        };
        P2.toFixed = function(dp, rm) {
          if (dp != null) {
            intCheck(dp, 0, MAX);
            dp = dp + this.e + 1;
          }
          return format(this, dp, rm);
        };
        P2.toFormat = function(dp, rm, format2) {
          var str, x = this;
          if (format2 == null) {
            if (dp != null && rm && typeof rm == "object") {
              format2 = rm;
              rm = null;
            } else if (dp && typeof dp == "object") {
              format2 = dp;
              dp = rm = null;
            } else {
              format2 = FORMAT;
            }
          } else if (typeof format2 != "object") {
            throw Error(bignumberError + "Argument not an object: " + format2);
          }
          str = x.toFixed(dp, rm);
          if (x.c) {
            var i2, arr = str.split("."), g1 = +format2.groupSize, g2 = +format2.secondaryGroupSize, groupSeparator = format2.groupSeparator || "", intPart = arr[0], fractionPart = arr[1], isNeg = x.s < 0, intDigits = isNeg ? intPart.slice(1) : intPart, len = intDigits.length;
            if (g2) {
              i2 = g1;
              g1 = g2;
              g2 = i2;
              len -= i2;
            }
            if (g1 > 0 && len > 0) {
              i2 = len % g1 || g1;
              intPart = intDigits.substr(0, i2);
              for (; i2 < len; i2 += g1)
                intPart += groupSeparator + intDigits.substr(i2, g1);
              if (g2 > 0)
                intPart += groupSeparator + intDigits.slice(i2);
              if (isNeg)
                intPart = "-" + intPart;
            }
            str = fractionPart ? intPart + (format2.decimalSeparator || "") + ((g2 = +format2.fractionGroupSize) ? fractionPart.replace(
              new RegExp("\\d{" + g2 + "}\\B", "g"),
              "$&" + (format2.fractionGroupSeparator || "")
            ) : fractionPart) : intPart;
          }
          return (format2.prefix || "") + str + (format2.suffix || "");
        };
        P2.toFraction = function(md) {
          var d2, d0, d1, d22, e2, exp, n2, n0, n1, q2, r2, s2, x = this, xc = x.c;
          if (md != null) {
            n2 = new BigNumber3(md);
            if (!n2.isInteger() && (n2.c || n2.s !== 1) || n2.lt(ONE)) {
              throw Error(bignumberError + "Argument " + (n2.isInteger() ? "out of range: " : "not an integer: ") + valueOf(n2));
            }
          }
          if (!xc)
            return new BigNumber3(x);
          d2 = new BigNumber3(ONE);
          n1 = d0 = new BigNumber3(ONE);
          d1 = n0 = new BigNumber3(ONE);
          s2 = coeffToString(xc);
          e2 = d2.e = s2.length - x.e - 1;
          d2.c[0] = POWS_TEN[(exp = e2 % LOG_BASE) < 0 ? LOG_BASE + exp : exp];
          md = !md || n2.comparedTo(d2) > 0 ? e2 > 0 ? d2 : n1 : n2;
          exp = MAX_EXP;
          MAX_EXP = 1 / 0;
          n2 = new BigNumber3(s2);
          n0.c[0] = 0;
          for (; ; ) {
            q2 = div(n2, d2, 0, 1);
            d22 = d0.plus(q2.times(d1));
            if (d22.comparedTo(md) == 1)
              break;
            d0 = d1;
            d1 = d22;
            n1 = n0.plus(q2.times(d22 = n1));
            n0 = d22;
            d2 = n2.minus(q2.times(d22 = d2));
            n2 = d22;
          }
          d22 = div(md.minus(d0), d1, 0, 1);
          n0 = n0.plus(d22.times(n1));
          d0 = d0.plus(d22.times(d1));
          n0.s = n1.s = x.s;
          e2 = e2 * 2;
          r2 = div(n1, d1, e2, ROUNDING_MODE).minus(x).abs().comparedTo(
            div(n0, d0, e2, ROUNDING_MODE).minus(x).abs()
          ) < 1 ? [n1, d1] : [n0, d0];
          MAX_EXP = exp;
          return r2;
        };
        P2.toNumber = function() {
          return +valueOf(this);
        };
        P2.toPrecision = function(sd, rm) {
          if (sd != null)
            intCheck(sd, 1, MAX);
          return format(this, sd, rm, 2);
        };
        P2.toString = function(b2) {
          var str, n2 = this, s2 = n2.s, e2 = n2.e;
          if (e2 === null) {
            if (s2) {
              str = "Infinity";
              if (s2 < 0)
                str = "-" + str;
            } else {
              str = "NaN";
            }
          } else {
            if (b2 == null) {
              str = e2 <= TO_EXP_NEG || e2 >= TO_EXP_POS ? toExponential(coeffToString(n2.c), e2) : toFixedPoint(coeffToString(n2.c), e2, "0");
            } else if (b2 === 10 && alphabetHasNormalDecimalDigits) {
              n2 = round(new BigNumber3(n2), DECIMAL_PLACES + e2 + 1, ROUNDING_MODE);
              str = toFixedPoint(coeffToString(n2.c), n2.e, "0");
            } else {
              intCheck(b2, 2, ALPHABET.length, "Base");
              str = convertBase(toFixedPoint(coeffToString(n2.c), e2, "0"), 10, b2, s2, true);
            }
            if (s2 < 0 && n2.c[0])
              str = "-" + str;
          }
          return str;
        };
        P2.valueOf = P2.toJSON = function() {
          return valueOf(this);
        };
        P2._isBigNumber = true;
        if (configObject != null)
          BigNumber3.set(configObject);
        return BigNumber3;
      }
      function bitFloor(n2) {
        var i2 = n2 | 0;
        return n2 > 0 || n2 === i2 ? i2 : i2 - 1;
      }
      function coeffToString(a2) {
        var s2, z2, i2 = 1, j2 = a2.length, r2 = a2[0] + "";
        for (; i2 < j2; ) {
          s2 = a2[i2++] + "";
          z2 = LOG_BASE - s2.length;
          for (; z2--; s2 = "0" + s2)
            ;
          r2 += s2;
        }
        for (j2 = r2.length; r2.charCodeAt(--j2) === 48; )
          ;
        return r2.slice(0, j2 + 1 || 1);
      }
      function compare(x, y2) {
        var a2, b2, xc = x.c, yc = y2.c, i2 = x.s, j2 = y2.s, k = x.e, l2 = y2.e;
        if (!i2 || !j2)
          return null;
        a2 = xc && !xc[0];
        b2 = yc && !yc[0];
        if (a2 || b2)
          return a2 ? b2 ? 0 : -j2 : i2;
        if (i2 != j2)
          return i2;
        a2 = i2 < 0;
        b2 = k == l2;
        if (!xc || !yc)
          return b2 ? 0 : !xc ^ a2 ? 1 : -1;
        if (!b2)
          return k > l2 ^ a2 ? 1 : -1;
        j2 = (k = xc.length) < (l2 = yc.length) ? k : l2;
        for (i2 = 0; i2 < j2; i2++)
          if (xc[i2] != yc[i2])
            return xc[i2] > yc[i2] ^ a2 ? 1 : -1;
        return k == l2 ? 0 : k > l2 ^ a2 ? 1 : -1;
      }
      function intCheck(n2, min, max, name) {
        if (n2 < min || n2 > max || n2 !== mathfloor(n2)) {
          throw Error(bignumberError + (name || "Argument") + (typeof n2 == "number" ? n2 < min || n2 > max ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(n2));
        }
      }
      function isOdd(n2) {
        var k = n2.c.length - 1;
        return bitFloor(n2.e / LOG_BASE) == k && n2.c[k] % 2 != 0;
      }
      function toExponential(str, e2) {
        return (str.length > 1 ? str.charAt(0) + "." + str.slice(1) : str) + (e2 < 0 ? "e" : "e+") + e2;
      }
      function toFixedPoint(str, e2, z2) {
        var len, zs2;
        if (e2 < 0) {
          for (zs2 = z2 + "."; ++e2; zs2 += z2)
            ;
          str = zs2 + str;
        } else {
          len = str.length;
          if (++e2 > len) {
            for (zs2 = z2, e2 -= len; --e2; zs2 += z2)
              ;
            str += zs2;
          } else if (e2 < len) {
            str = str.slice(0, e2) + "." + str.slice(e2);
          }
        }
        return str;
      }
      BigNumber2 = clone();
      BigNumber2["default"] = BigNumber2.BigNumber = BigNumber2;
      if (module.exports) {
        module.exports = BigNumber2;
      } else {
        if (!globalObject) {
          globalObject = typeof self != "undefined" && self ? self : window;
        }
        globalObject.BigNumber = BigNumber2;
      }
    })(commonjsGlobal);
  })(bignumber);
  var bignumberExports = bignumber.exports;
  (function(module) {
    var BigNumber2 = bignumberExports;
    var JSON2 = module.exports;
    (function() {
      var escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
        // table of character substitutions
        "\b": "\\b",
        "	": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
      }, rep;
      function quote(string2) {
        escapable.lastIndex = 0;
        return escapable.test(string2) ? '"' + string2.replace(escapable, function(a2) {
          var c2 = meta[a2];
          return typeof c2 === "string" ? c2 : "\\u" + ("0000" + a2.charCodeAt(0).toString(16)).slice(-4);
        }) + '"' : '"' + string2 + '"';
      }
      function str(key, holder) {
        var i2, k, v2, length, mind = gap, partial, value = holder[key], isBigNumber = value != null && (value instanceof BigNumber2 || BigNumber2.isBigNumber(value));
        if (value && typeof value === "object" && typeof value.toJSON === "function") {
          value = value.toJSON(key);
        }
        if (typeof rep === "function") {
          value = rep.call(holder, key, value);
        }
        switch (typeof value) {
          case "string":
            if (isBigNumber) {
              return value;
            } else {
              return quote(value);
            }
          case "number":
            return isFinite(value) ? String(value) : "null";
          case "boolean":
          case "null":
          case "bigint":
            return String(value);
          case "object":
            if (!value) {
              return "null";
            }
            gap += indent;
            partial = [];
            if (Object.prototype.toString.apply(value) === "[object Array]") {
              length = value.length;
              for (i2 = 0; i2 < length; i2 += 1) {
                partial[i2] = str(i2, value) || "null";
              }
              v2 = partial.length === 0 ? "[]" : gap ? "[\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "]" : "[" + partial.join(",") + "]";
              gap = mind;
              return v2;
            }
            if (rep && typeof rep === "object") {
              length = rep.length;
              for (i2 = 0; i2 < length; i2 += 1) {
                if (typeof rep[i2] === "string") {
                  k = rep[i2];
                  v2 = str(k, value);
                  if (v2) {
                    partial.push(quote(k) + (gap ? ": " : ":") + v2);
                  }
                }
              }
            } else {
              Object.keys(value).forEach(function(k2) {
                var v3 = str(k2, value);
                if (v3) {
                  partial.push(quote(k2) + (gap ? ": " : ":") + v3);
                }
              });
            }
            v2 = partial.length === 0 ? "{}" : gap ? "{\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "}" : "{" + partial.join(",") + "}";
            gap = mind;
            return v2;
        }
      }
      if (typeof JSON2.stringify !== "function") {
        JSON2.stringify = function(value, replacer, space) {
          var i2;
          gap = "";
          indent = "";
          if (typeof space === "number") {
            for (i2 = 0; i2 < space; i2 += 1) {
              indent += " ";
            }
          } else if (typeof space === "string") {
            indent = space;
          }
          rep = replacer;
          if (replacer && typeof replacer !== "function" && (typeof replacer !== "object" || typeof replacer.length !== "number")) {
            throw new Error("JSON.stringify");
          }
          return str("", { "": value });
        };
      }
    })();
  })(stringify);
  var stringifyExports = stringify.exports;
  var BigNumber = null;
  const suspectProtoRx = /(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/;
  const suspectConstructorRx = /(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;
  var json_parse$1 = function(options) {
    var _options = {
      strict: false,
      // not being strict means do not generate syntax errors for "duplicate key"
      storeAsString: false,
      // toggles whether the values should be stored as BigNumber (default) or a string
      alwaysParseAsBig: false,
      // toggles whether all numbers should be Big
      useNativeBigInt: false,
      // toggles whether to use native BigInt instead of bignumber.js
      protoAction: "error",
      constructorAction: "error"
    };
    if (options !== void 0 && options !== null) {
      if (options.strict === true) {
        _options.strict = true;
      }
      if (options.storeAsString === true) {
        _options.storeAsString = true;
      }
      _options.alwaysParseAsBig = options.alwaysParseAsBig === true ? options.alwaysParseAsBig : false;
      _options.useNativeBigInt = options.useNativeBigInt === true ? options.useNativeBigInt : false;
      if (typeof options.constructorAction !== "undefined") {
        if (options.constructorAction === "error" || options.constructorAction === "ignore" || options.constructorAction === "preserve") {
          _options.constructorAction = options.constructorAction;
        } else {
          throw new Error(
            `Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${options.constructorAction}`
          );
        }
      }
      if (typeof options.protoAction !== "undefined") {
        if (options.protoAction === "error" || options.protoAction === "ignore" || options.protoAction === "preserve") {
          _options.protoAction = options.protoAction;
        } else {
          throw new Error(
            `Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${options.protoAction}`
          );
        }
      }
    }
    var at2, ch, escapee = {
      '"': '"',
      "\\": "\\",
      "/": "/",
      b: "\b",
      f: "\f",
      n: "\n",
      r: "\r",
      t: "	"
    }, text, error = function(m2) {
      throw {
        name: "SyntaxError",
        message: m2,
        at: at2,
        text
      };
    }, next = function(c2) {
      if (c2 && c2 !== ch) {
        error("Expected '" + c2 + "' instead of '" + ch + "'");
      }
      ch = text.charAt(at2);
      at2 += 1;
      return ch;
    }, number2 = function() {
      var number3, string3 = "";
      if (ch === "-") {
        string3 = "-";
        next("-");
      }
      while (ch >= "0" && ch <= "9") {
        string3 += ch;
        next();
      }
      if (ch === ".") {
        string3 += ".";
        while (next() && ch >= "0" && ch <= "9") {
          string3 += ch;
        }
      }
      if (ch === "e" || ch === "E") {
        string3 += ch;
        next();
        if (ch === "-" || ch === "+") {
          string3 += ch;
          next();
        }
        while (ch >= "0" && ch <= "9") {
          string3 += ch;
          next();
        }
      }
      number3 = +string3;
      if (!isFinite(number3)) {
        error("Bad number");
      } else {
        if (BigNumber == null)
          BigNumber = bignumberExports;
        if (string3.length > 15)
          return _options.storeAsString ? string3 : _options.useNativeBigInt ? BigInt(string3) : new BigNumber(string3);
        else
          return !_options.alwaysParseAsBig ? number3 : _options.useNativeBigInt ? BigInt(number3) : new BigNumber(number3);
      }
    }, string2 = function() {
      var hex, i2, string3 = "", uffff;
      if (ch === '"') {
        var startAt = at2;
        while (next()) {
          if (ch === '"') {
            if (at2 - 1 > startAt)
              string3 += text.substring(startAt, at2 - 1);
            next();
            return string3;
          }
          if (ch === "\\") {
            if (at2 - 1 > startAt)
              string3 += text.substring(startAt, at2 - 1);
            next();
            if (ch === "u") {
              uffff = 0;
              for (i2 = 0; i2 < 4; i2 += 1) {
                hex = parseInt(next(), 16);
                if (!isFinite(hex)) {
                  break;
                }
                uffff = uffff * 16 + hex;
              }
              string3 += String.fromCharCode(uffff);
            } else if (typeof escapee[ch] === "string") {
              string3 += escapee[ch];
            } else {
              break;
            }
            startAt = at2;
          }
        }
      }
      error("Bad string");
    }, white = function() {
      while (ch && ch <= " ") {
        next();
      }
    }, word = function() {
      switch (ch) {
        case "t":
          next("t");
          next("r");
          next("u");
          next("e");
          return true;
        case "f":
          next("f");
          next("a");
          next("l");
          next("s");
          next("e");
          return false;
        case "n":
          next("n");
          next("u");
          next("l");
          next("l");
          return null;
      }
      error("Unexpected '" + ch + "'");
    }, value, array2 = function() {
      var array3 = [];
      if (ch === "[") {
        next("[");
        white();
        if (ch === "]") {
          next("]");
          return array3;
        }
        while (ch) {
          array3.push(value());
          white();
          if (ch === "]") {
            next("]");
            return array3;
          }
          next(",");
          white();
        }
      }
      error("Bad array");
    }, object2 = function() {
      var key, object3 = /* @__PURE__ */ Object.create(null);
      if (ch === "{") {
        next("{");
        white();
        if (ch === "}") {
          next("}");
          return object3;
        }
        while (ch) {
          key = string2();
          white();
          next(":");
          if (_options.strict === true && Object.hasOwnProperty.call(object3, key)) {
            error('Duplicate key "' + key + '"');
          }
          if (suspectProtoRx.test(key) === true) {
            if (_options.protoAction === "error") {
              error("Object contains forbidden prototype property");
            } else if (_options.protoAction === "ignore") {
              value();
            } else {
              object3[key] = value();
            }
          } else if (suspectConstructorRx.test(key) === true) {
            if (_options.constructorAction === "error") {
              error("Object contains forbidden constructor property");
            } else if (_options.constructorAction === "ignore") {
              value();
            } else {
              object3[key] = value();
            }
          } else {
            object3[key] = value();
          }
          white();
          if (ch === "}") {
            next("}");
            return object3;
          }
          next(",");
          white();
        }
      }
      error("Bad object");
    };
    value = function() {
      white();
      switch (ch) {
        case "{":
          return object2();
        case "[":
          return array2();
        case '"':
          return string2();
        case "-":
          return number2();
        default:
          return ch >= "0" && ch <= "9" ? number2() : word();
      }
    };
    return function(source, reviver) {
      var result;
      text = source + "";
      at2 = 0;
      ch = " ";
      result = value();
      white();
      if (ch) {
        error("Syntax error");
      }
      return typeof reviver === "function" ? function walk(holder, key) {
        var v2, value2 = holder[key];
        if (value2 && typeof value2 === "object") {
          Object.keys(value2).forEach(function(k) {
            v2 = walk(value2, k);
            if (v2 !== void 0) {
              value2[k] = v2;
            } else {
              delete value2[k];
            }
          });
        }
        return reviver.call(holder, key, value2);
      }({ "": result }, "") : result;
    };
  };
  var parse$1 = json_parse$1;
  var json_stringify = stringifyExports.stringify;
  var json_parse = parse$1;
  jsonBigint.exports = function(options) {
    return {
      parse: json_parse(options),
      stringify: json_stringify
    };
  };
  jsonBigint.exports.parse = json_parse();
  jsonBigint.exports.stringify = json_stringify;
  var jsonBigintExports = jsonBigint.exports;
  const JSONBig = /* @__PURE__ */ getDefaultExportFromCjs(jsonBigintExports);
  const baseURL$1 = "https://ceshi.maimiaoqingsu.com";
  const requestConfig = {
    baseURL: baseURL$1,
    timeout: 3e4,
    header: {
      "Content-Type": "application/json"
    },
    dataType: "text"
  };
  const request = (options) => {
    const config2 = { ...requestConfig, ...options };
    if (config2.url && !config2.url.startsWith("http")) {
      const baseUrl = config2.baseURL.endsWith("/") ? config2.baseURL : config2.baseURL + "/";
      const path = config2.url.startsWith("/") ? config2.url.substring(1) : config2.url;
      config2.url = baseUrl + path;
    }
    const token = uni.getStorageSync("token");
    if (token) {
      config2.header = { ...config2.header, token };
    }
    return new Promise((resolve, reject) => {
      uni.request({
        ...config2,
        success: (res2) => {
          if (res2.statusCode !== 200) {
            uni.showToast({ title: "服务器异常，请稍后重试", icon: "none" });
            reject(res2);
            return;
          }
          let data = res2.data;
          if (typeof data !== "string")
            data = JSON.stringify(data);
          try {
            data = JSONBig.parse(data);
          } catch (e2) {
            formatAppLog("error", "at utils/request.js:49", "JSON解析失败:", e2);
            data = res2.data;
          }
          const custom = config2.custom || {};
          if (data.code !== 0 && data.code !== 409999) {
            if (custom.toast !== false) {
              uni.showToast({
                title: data.msg || "请求失败",
                icon: "error"
              });
              if (data.code === 401 || data.code === 10010002) {
                uni.showToast({ title: "登录已过期，请重新登录", icon: "none" });
                uni.removeStorageSync("logoInfo");
                setTimeout(() => {
                  uni.reLaunch({ url: "/pages/login/login" });
                }, 1e3);
              }
            }
            reject({ statusCode: res2.statusCode, data, message: data.msg || "请求失败" });
            return;
          }
          resolve(data);
        },
        fail: (err) => {
          uni.showToast({ title: "网络错误，请稍后再试", icon: "none" });
          reject(err);
        }
      });
    });
  };
  const http$1 = {
    get(url2, data = {}, config2 = {}) {
      return request({ url: url2, method: "GET", data, ...config2 });
    },
    post(url2, data = {}, config2 = {}) {
      return request({ url: url2, method: "POST", data, ...config2 });
    },
    put(url2, data = {}, config2 = {}) {
      return request({ url: url2, method: "PUT", data, ...config2 });
    },
    delete(url2, data = {}, config2 = {}) {
      return request({ url: url2, method: "DELETE", data, ...config2 });
    }
  };
  const login = (params, config2 = {}) => http$1.post(
    "/api/user/login",
    params,
    config2
  );
  const getUserInfo = (params, config2 = {}) => http$1.post(
    "/api/user/userInfo",
    params,
    config2
  );
  const sendSms = (params, config2 = {}) => http$1.post(
    "/api/sms/sms/sendSms",
    params,
    config2
  );
  const smsLogin = (params, config2 = {}) => http$1.post(
    "/api/user/smsLogin",
    params,
    config2
  );
  const register = (params, config2 = {}) => http$1.post("/api/user/register", params, config2);
  const articleByType$1 = (params, config2 = {}) => http$1.get("/api/agreement/page?current=1&size=10", params, config2);
  const cities = (params, config2 = {}) => http$1.get("/api/city/list");
  const userSummary = (params, config2 = {}) => http$1.get(`/api/user/summary?userId=${params.userId}`, params, config2);
  const getMallSwitch = (params, config2 = {}) => http$1.get("/api/mall/config/getMallSwitch", params, config2);
  var isVue2 = false;
  function set(target, key, val2) {
    if (Array.isArray(target)) {
      target.length = Math.max(target.length, key);
      target.splice(key, 1, val2);
      return val2;
    }
    target[key] = val2;
    return val2;
  }
  function del(target, key) {
    if (Array.isArray(target)) {
      target.splice(key, 1);
      return;
    }
    delete target[key];
  }
  function getDevtoolsGlobalHook() {
    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;
  }
  function getTarget() {
    return typeof navigator !== "undefined" && typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : {};
  }
  const isProxyAvailable = typeof Proxy === "function";
  const HOOK_SETUP = "devtools-plugin:setup";
  const HOOK_PLUGIN_SETTINGS_SET = "plugin:settings:set";
  let supported;
  let perf;
  function isPerformanceSupported() {
    var _a2;
    if (supported !== void 0) {
      return supported;
    }
    if (typeof window !== "undefined" && window.performance) {
      supported = true;
      perf = window.performance;
    } else if (typeof global !== "undefined" && ((_a2 = global.perf_hooks) === null || _a2 === void 0 ? void 0 : _a2.performance)) {
      supported = true;
      perf = global.perf_hooks.performance;
    } else {
      supported = false;
    }
    return supported;
  }
  function now() {
    return isPerformanceSupported() ? perf.now() : Date.now();
  }
  class ApiProxy {
    constructor(plugin, hook) {
      this.target = null;
      this.targetQueue = [];
      this.onQueue = [];
      this.plugin = plugin;
      this.hook = hook;
      const defaultSettings = {};
      if (plugin.settings) {
        for (const id2 in plugin.settings) {
          const item = plugin.settings[id2];
          defaultSettings[id2] = item.defaultValue;
        }
      }
      const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;
      let currentSettings = Object.assign({}, defaultSettings);
      try {
        const raw = localStorage.getItem(localSettingsSaveId);
        const data = JSON.parse(raw);
        Object.assign(currentSettings, data);
      } catch (e2) {
      }
      this.fallbacks = {
        getSettings() {
          return currentSettings;
        },
        setSettings(value) {
          try {
            localStorage.setItem(localSettingsSaveId, JSON.stringify(value));
          } catch (e2) {
          }
          currentSettings = value;
        },
        now() {
          return now();
        }
      };
      if (hook) {
        hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {
          if (pluginId === this.plugin.id) {
            this.fallbacks.setSettings(value);
          }
        });
      }
      this.proxiedOn = new Proxy({}, {
        get: (_target, prop) => {
          if (this.target) {
            return this.target.on[prop];
          } else {
            return (...args) => {
              this.onQueue.push({
                method: prop,
                args
              });
            };
          }
        }
      });
      this.proxiedTarget = new Proxy({}, {
        get: (_target, prop) => {
          if (this.target) {
            return this.target[prop];
          } else if (prop === "on") {
            return this.proxiedOn;
          } else if (Object.keys(this.fallbacks).includes(prop)) {
            return (...args) => {
              this.targetQueue.push({
                method: prop,
                args,
                resolve: () => {
                }
              });
              return this.fallbacks[prop](...args);
            };
          } else {
            return (...args) => {
              return new Promise((resolve) => {
                this.targetQueue.push({
                  method: prop,
                  args,
                  resolve
                });
              });
            };
          }
        }
      });
    }
    async setRealTarget(target) {
      this.target = target;
      for (const item of this.onQueue) {
        this.target.on[item.method](...item.args);
      }
      for (const item of this.targetQueue) {
        item.resolve(await this.target[item.method](...item.args));
      }
    }
  }
  function setupDevtoolsPlugin(pluginDescriptor, setupFn) {
    const descriptor = pluginDescriptor;
    const target = getTarget();
    const hook = getDevtoolsGlobalHook();
    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;
    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {
      hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);
    } else {
      const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;
      const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];
      list.push({
        pluginDescriptor: descriptor,
        setupFn,
        proxy
      });
      if (proxy)
        setupFn(proxy.proxiedTarget);
    }
  }
  /*!
   * pinia v2.1.7
   * (c) 2023 Eduardo San Martin Morote
   * @license MIT
   */
  let activePinia;
  const setActivePinia = (pinia) => activePinia = pinia;
  const piniaSymbol = Symbol("pinia");
  function isPlainObject(o2) {
    return o2 && typeof o2 === "object" && Object.prototype.toString.call(o2) === "[object Object]" && typeof o2.toJSON !== "function";
  }
  var MutationType;
  (function(MutationType2) {
    MutationType2["direct"] = "direct";
    MutationType2["patchObject"] = "patch object";
    MutationType2["patchFunction"] = "patch function";
  })(MutationType || (MutationType = {}));
  const IS_CLIENT = typeof window !== "undefined";
  const USE_DEVTOOLS = IS_CLIENT;
  const _global = /* @__PURE__ */ (() => typeof window === "object" && window.window === window ? window : typeof self === "object" && self.self === self ? self : typeof global === "object" && global.global === global ? global : typeof globalThis === "object" ? globalThis : { HTMLElement: null })();
  function bom(blob, { autoBom = false } = {}) {
    if (autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
      return new Blob([String.fromCharCode(65279), blob], { type: blob.type });
    }
    return blob;
  }
  function download(url2, name, opts) {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", url2);
    xhr.responseType = "blob";
    xhr.onload = function() {
      saveAs(xhr.response, name, opts);
    };
    xhr.onerror = function() {
      console.error("could not download file");
    };
    xhr.send();
  }
  function corsEnabled(url2) {
    const xhr = new XMLHttpRequest();
    xhr.open("HEAD", url2, false);
    try {
      xhr.send();
    } catch (e2) {
    }
    return xhr.status >= 200 && xhr.status <= 299;
  }
  function click(node) {
    try {
      node.dispatchEvent(new MouseEvent("click"));
    } catch (e2) {
      const evt = document.createEvent("MouseEvents");
      evt.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);
      node.dispatchEvent(evt);
    }
  }
  const _navigator = typeof navigator === "object" ? navigator : { userAgent: "" };
  const isMacOSWebView = /* @__PURE__ */ (() => /Macintosh/.test(_navigator.userAgent) && /AppleWebKit/.test(_navigator.userAgent) && !/Safari/.test(_navigator.userAgent))();
  const saveAs = !IS_CLIENT ? () => {
  } : (
    // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program
    typeof HTMLAnchorElement !== "undefined" && "download" in HTMLAnchorElement.prototype && !isMacOSWebView ? downloadSaveAs : (
      // Use msSaveOrOpenBlob as a second approach
      "msSaveOrOpenBlob" in _navigator ? msSaveAs : (
        // Fallback to using FileReader and a popup
        fileSaverSaveAs
      )
    )
  );
  function downloadSaveAs(blob, name = "download", opts) {
    const a2 = document.createElement("a");
    a2.download = name;
    a2.rel = "noopener";
    if (typeof blob === "string") {
      a2.href = blob;
      if (a2.origin !== location.origin) {
        if (corsEnabled(a2.href)) {
          download(blob, name, opts);
        } else {
          a2.target = "_blank";
          click(a2);
        }
      } else {
        click(a2);
      }
    } else {
      a2.href = URL.createObjectURL(blob);
      setTimeout(function() {
        URL.revokeObjectURL(a2.href);
      }, 4e4);
      setTimeout(function() {
        click(a2);
      }, 0);
    }
  }
  function msSaveAs(blob, name = "download", opts) {
    if (typeof blob === "string") {
      if (corsEnabled(blob)) {
        download(blob, name, opts);
      } else {
        const a2 = document.createElement("a");
        a2.href = blob;
        a2.target = "_blank";
        setTimeout(function() {
          click(a2);
        });
      }
    } else {
      navigator.msSaveOrOpenBlob(bom(blob, opts), name);
    }
  }
  function fileSaverSaveAs(blob, name, opts, popup) {
    popup = popup || open("", "_blank");
    if (popup) {
      popup.document.title = popup.document.body.innerText = "downloading...";
    }
    if (typeof blob === "string")
      return download(blob, name, opts);
    const force = blob.type === "application/octet-stream";
    const isSafari = /constructor/i.test(String(_global.HTMLElement)) || "safari" in _global;
    const isChromeIOS = /CriOS\/[\d]+/.test(navigator.userAgent);
    if ((isChromeIOS || force && isSafari || isMacOSWebView) && typeof FileReader !== "undefined") {
      const reader = new FileReader();
      reader.onloadend = function() {
        let url2 = reader.result;
        if (typeof url2 !== "string") {
          popup = null;
          throw new Error("Wrong reader.result type");
        }
        url2 = isChromeIOS ? url2 : url2.replace(/^data:[^;]*;/, "data:attachment/file;");
        if (popup) {
          popup.location.href = url2;
        } else {
          location.assign(url2);
        }
        popup = null;
      };
      reader.readAsDataURL(blob);
    } else {
      const url2 = URL.createObjectURL(blob);
      if (popup)
        popup.location.assign(url2);
      else
        location.href = url2;
      popup = null;
      setTimeout(function() {
        URL.revokeObjectURL(url2);
      }, 4e4);
    }
  }
  function toastMessage(message2, type) {
    const piniaMessage = "🍍 " + message2;
    if (typeof __VUE_DEVTOOLS_TOAST__ === "function") {
      __VUE_DEVTOOLS_TOAST__(piniaMessage, type);
    } else if (type === "error") {
      console.error(piniaMessage);
    } else if (type === "warn") {
      console.warn(piniaMessage);
    } else {
      console.log(piniaMessage);
    }
  }
  function isPinia(o2) {
    return "_a" in o2 && "install" in o2;
  }
  function checkClipboardAccess() {
    if (!("clipboard" in navigator)) {
      toastMessage(`Your browser doesn't support the Clipboard API`, "error");
      return true;
    }
  }
  function checkNotFocusedError(error) {
    if (error instanceof Error && error.message.toLowerCase().includes("document is not focused")) {
      toastMessage('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.', "warn");
      return true;
    }
    return false;
  }
  async function actionGlobalCopyState(pinia) {
    if (checkClipboardAccess())
      return;
    try {
      await navigator.clipboard.writeText(JSON.stringify(pinia.state.value));
      toastMessage("Global state copied to clipboard.");
    } catch (error) {
      if (checkNotFocusedError(error))
        return;
      toastMessage(`Failed to serialize the state. Check the console for more details.`, "error");
      console.error(error);
    }
  }
  async function actionGlobalPasteState(pinia) {
    if (checkClipboardAccess())
      return;
    try {
      loadStoresState(pinia, JSON.parse(await navigator.clipboard.readText()));
      toastMessage("Global state pasted from clipboard.");
    } catch (error) {
      if (checkNotFocusedError(error))
        return;
      toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, "error");
      console.error(error);
    }
  }
  async function actionGlobalSaveState(pinia) {
    try {
      saveAs(new Blob([JSON.stringify(pinia.state.value)], {
        type: "text/plain;charset=utf-8"
      }), "pinia-state.json");
    } catch (error) {
      toastMessage(`Failed to export the state as JSON. Check the console for more details.`, "error");
      console.error(error);
    }
  }
  let fileInput;
  function getFileOpener() {
    if (!fileInput) {
      fileInput = document.createElement("input");
      fileInput.type = "file";
      fileInput.accept = ".json";
    }
    function openFile() {
      return new Promise((resolve, reject) => {
        fileInput.onchange = async () => {
          const files = fileInput.files;
          if (!files)
            return resolve(null);
          const file = files.item(0);
          if (!file)
            return resolve(null);
          return resolve({ text: await file.text(), file });
        };
        fileInput.oncancel = () => resolve(null);
        fileInput.onerror = reject;
        fileInput.click();
      });
    }
    return openFile;
  }
  async function actionGlobalOpenStateFile(pinia) {
    try {
      const open2 = getFileOpener();
      const result = await open2();
      if (!result)
        return;
      const { text, file } = result;
      loadStoresState(pinia, JSON.parse(text));
      toastMessage(`Global state imported from "${file.name}".`);
    } catch (error) {
      toastMessage(`Failed to import the state from JSON. Check the console for more details.`, "error");
      console.error(error);
    }
  }
  function loadStoresState(pinia, state) {
    for (const key in state) {
      const storeState = pinia.state.value[key];
      if (storeState) {
        Object.assign(storeState, state[key]);
      } else {
        pinia.state.value[key] = state[key];
      }
    }
  }
  function formatDisplay(display) {
    return {
      _custom: {
        display
      }
    };
  }
  const PINIA_ROOT_LABEL = "🍍 Pinia (root)";
  const PINIA_ROOT_ID = "_root";
  function formatStoreForInspectorTree(store) {
    return isPinia(store) ? {
      id: PINIA_ROOT_ID,
      label: PINIA_ROOT_LABEL
    } : {
      id: store.$id,
      label: store.$id
    };
  }
  function formatStoreForInspectorState(store) {
    if (isPinia(store)) {
      const storeNames = Array.from(store._s.keys());
      const storeMap = store._s;
      const state2 = {
        state: storeNames.map((storeId) => ({
          editable: true,
          key: storeId,
          value: store.state.value[storeId]
        })),
        getters: storeNames.filter((id2) => storeMap.get(id2)._getters).map((id2) => {
          const store2 = storeMap.get(id2);
          return {
            editable: false,
            key: id2,
            value: store2._getters.reduce((getters, key) => {
              getters[key] = store2[key];
              return getters;
            }, {})
          };
        })
      };
      return state2;
    }
    const state = {
      state: Object.keys(store.$state).map((key) => ({
        editable: true,
        key,
        value: store.$state[key]
      }))
    };
    if (store._getters && store._getters.length) {
      state.getters = store._getters.map((getterName) => ({
        editable: false,
        key: getterName,
        value: store[getterName]
      }));
    }
    if (store._customProperties.size) {
      state.customProperties = Array.from(store._customProperties).map((key) => ({
        editable: true,
        key,
        value: store[key]
      }));
    }
    return state;
  }
  function formatEventData(events) {
    if (!events)
      return {};
    if (Array.isArray(events)) {
      return events.reduce((data, event) => {
        data.keys.push(event.key);
        data.operations.push(event.type);
        data.oldValue[event.key] = event.oldValue;
        data.newValue[event.key] = event.newValue;
        return data;
      }, {
        oldValue: {},
        keys: [],
        operations: [],
        newValue: {}
      });
    } else {
      return {
        operation: formatDisplay(events.type),
        key: formatDisplay(events.key),
        oldValue: events.oldValue,
        newValue: events.newValue
      };
    }
  }
  function formatMutationType(type) {
    switch (type) {
      case MutationType.direct:
        return "mutation";
      case MutationType.patchFunction:
        return "$patch";
      case MutationType.patchObject:
        return "$patch";
      default:
        return "unknown";
    }
  }
  let isTimelineActive = true;
  const componentStateTypes = [];
  const MUTATIONS_LAYER_ID = "pinia:mutations";
  const INSPECTOR_ID = "pinia";
  const { assign: assign$1 } = Object;
  const getStoreType = (id2) => "🍍 " + id2;
  function registerPiniaDevtools(app, pinia) {
    setupDevtoolsPlugin({
      id: "dev.esm.pinia",
      label: "Pinia 🍍",
      logo: "https://pinia.vuejs.org/logo.svg",
      packageName: "pinia",
      homepage: "https://pinia.vuejs.org",
      componentStateTypes,
      app
    }, (api) => {
      if (typeof api.now !== "function") {
        toastMessage("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.");
      }
      api.addTimelineLayer({
        id: MUTATIONS_LAYER_ID,
        label: `Pinia 🍍`,
        color: 15064968
      });
      api.addInspector({
        id: INSPECTOR_ID,
        label: "Pinia 🍍",
        icon: "storage",
        treeFilterPlaceholder: "Search stores",
        actions: [
          {
            icon: "content_copy",
            action: () => {
              actionGlobalCopyState(pinia);
            },
            tooltip: "Serialize and copy the state"
          },
          {
            icon: "content_paste",
            action: async () => {
              await actionGlobalPasteState(pinia);
              api.sendInspectorTree(INSPECTOR_ID);
              api.sendInspectorState(INSPECTOR_ID);
            },
            tooltip: "Replace the state with the content of your clipboard"
          },
          {
            icon: "save",
            action: () => {
              actionGlobalSaveState(pinia);
            },
            tooltip: "Save the state as a JSON file"
          },
          {
            icon: "folder_open",
            action: async () => {
              await actionGlobalOpenStateFile(pinia);
              api.sendInspectorTree(INSPECTOR_ID);
              api.sendInspectorState(INSPECTOR_ID);
            },
            tooltip: "Import the state from a JSON file"
          }
        ],
        nodeActions: [
          {
            icon: "restore",
            tooltip: 'Reset the state (with "$reset")',
            action: (nodeId) => {
              const store = pinia._s.get(nodeId);
              if (!store) {
                toastMessage(`Cannot reset "${nodeId}" store because it wasn't found.`, "warn");
              } else if (typeof store.$reset !== "function") {
                toastMessage(`Cannot reset "${nodeId}" store because it doesn't have a "$reset" method implemented.`, "warn");
              } else {
                store.$reset();
                toastMessage(`Store "${nodeId}" reset.`);
              }
            }
          }
        ]
      });
      api.on.inspectComponent((payload, ctx) => {
        const proxy = payload.componentInstance && payload.componentInstance.proxy;
        if (proxy && proxy._pStores) {
          const piniaStores = payload.componentInstance.proxy._pStores;
          Object.values(piniaStores).forEach((store) => {
            payload.instanceData.state.push({
              type: getStoreType(store.$id),
              key: "state",
              editable: true,
              value: store._isOptionsAPI ? {
                _custom: {
                  value: vue.toRaw(store.$state),
                  actions: [
                    {
                      icon: "restore",
                      tooltip: "Reset the state of this store",
                      action: () => store.$reset()
                    }
                  ]
                }
              } : (
                // NOTE: workaround to unwrap transferred refs
                Object.keys(store.$state).reduce((state, key) => {
                  state[key] = store.$state[key];
                  return state;
                }, {})
              )
            });
            if (store._getters && store._getters.length) {
              payload.instanceData.state.push({
                type: getStoreType(store.$id),
                key: "getters",
                editable: false,
                value: store._getters.reduce((getters, key) => {
                  try {
                    getters[key] = store[key];
                  } catch (error) {
                    getters[key] = error;
                  }
                  return getters;
                }, {})
              });
            }
          });
        }
      });
      api.on.getInspectorTree((payload) => {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          let stores = [pinia];
          stores = stores.concat(Array.from(pinia._s.values()));
          payload.rootNodes = (payload.filter ? stores.filter((store) => "$id" in store ? store.$id.toLowerCase().includes(payload.filter.toLowerCase()) : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase())) : stores).map(formatStoreForInspectorTree);
        }
      });
      api.on.getInspectorState((payload) => {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          const inspectedStore = payload.nodeId === PINIA_ROOT_ID ? pinia : pinia._s.get(payload.nodeId);
          if (!inspectedStore) {
            return;
          }
          if (inspectedStore) {
            payload.state = formatStoreForInspectorState(inspectedStore);
          }
        }
      });
      api.on.editInspectorState((payload, ctx) => {
        if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
          const inspectedStore = payload.nodeId === PINIA_ROOT_ID ? pinia : pinia._s.get(payload.nodeId);
          if (!inspectedStore) {
            return toastMessage(`store "${payload.nodeId}" not found`, "error");
          }
          const { path } = payload;
          if (!isPinia(inspectedStore)) {
            if (path.length !== 1 || !inspectedStore._customProperties.has(path[0]) || path[0] in inspectedStore.$state) {
              path.unshift("$state");
            }
          } else {
            path.unshift("state");
          }
          isTimelineActive = false;
          payload.set(inspectedStore, path, payload.state.value);
          isTimelineActive = true;
        }
      });
      api.on.editComponentState((payload) => {
        if (payload.type.startsWith("🍍")) {
          const storeId = payload.type.replace(/^🍍\s*/, "");
          const store = pinia._s.get(storeId);
          if (!store) {
            return toastMessage(`store "${storeId}" not found`, "error");
          }
          const { path } = payload;
          if (path[0] !== "state") {
            return toastMessage(`Invalid path for store "${storeId}":
${path}
Only state can be modified.`);
          }
          path[0] = "$state";
          isTimelineActive = false;
          payload.set(store, path, payload.state.value);
          isTimelineActive = true;
        }
      });
    });
  }
  function addStoreToDevtools(app, store) {
    if (!componentStateTypes.includes(getStoreType(store.$id))) {
      componentStateTypes.push(getStoreType(store.$id));
    }
    setupDevtoolsPlugin({
      id: "dev.esm.pinia",
      label: "Pinia 🍍",
      logo: "https://pinia.vuejs.org/logo.svg",
      packageName: "pinia",
      homepage: "https://pinia.vuejs.org",
      componentStateTypes,
      app,
      settings: {
        logStoreChanges: {
          label: "Notify about new/deleted stores",
          type: "boolean",
          defaultValue: true
        }
        // useEmojis: {
        //   label: 'Use emojis in messages ⚡️',
        //   type: 'boolean',
        //   defaultValue: true,
        // },
      }
    }, (api) => {
      const now2 = typeof api.now === "function" ? api.now.bind(api) : Date.now;
      store.$onAction(({ after, onError, name, args }) => {
        const groupId = runningActionId++;
        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: {
            time: now2(),
            title: "🛫 " + name,
            subtitle: "start",
            data: {
              store: formatDisplay(store.$id),
              action: formatDisplay(name),
              args
            },
            groupId
          }
        });
        after((result) => {
          activeAction = void 0;
          api.addTimelineEvent({
            layerId: MUTATIONS_LAYER_ID,
            event: {
              time: now2(),
              title: "🛬 " + name,
              subtitle: "end",
              data: {
                store: formatDisplay(store.$id),
                action: formatDisplay(name),
                args,
                result
              },
              groupId
            }
          });
        });
        onError((error) => {
          activeAction = void 0;
          api.addTimelineEvent({
            layerId: MUTATIONS_LAYER_ID,
            event: {
              time: now2(),
              logType: "error",
              title: "💥 " + name,
              subtitle: "end",
              data: {
                store: formatDisplay(store.$id),
                action: formatDisplay(name),
                args,
                error
              },
              groupId
            }
          });
        });
      }, true);
      store._customProperties.forEach((name) => {
        vue.watch(() => vue.unref(store[name]), (newValue, oldValue) => {
          api.notifyComponentUpdate();
          api.sendInspectorState(INSPECTOR_ID);
          if (isTimelineActive) {
            api.addTimelineEvent({
              layerId: MUTATIONS_LAYER_ID,
              event: {
                time: now2(),
                title: "Change",
                subtitle: name,
                data: {
                  newValue,
                  oldValue
                },
                groupId: activeAction
              }
            });
          }
        }, { deep: true });
      });
      store.$subscribe(({ events, type }, state) => {
        api.notifyComponentUpdate();
        api.sendInspectorState(INSPECTOR_ID);
        if (!isTimelineActive)
          return;
        const eventData = {
          time: now2(),
          title: formatMutationType(type),
          data: assign$1({ store: formatDisplay(store.$id) }, formatEventData(events)),
          groupId: activeAction
        };
        if (type === MutationType.patchFunction) {
          eventData.subtitle = "⤵️";
        } else if (type === MutationType.patchObject) {
          eventData.subtitle = "🧩";
        } else if (events && !Array.isArray(events)) {
          eventData.subtitle = events.type;
        }
        if (events) {
          eventData.data["rawEvent(s)"] = {
            _custom: {
              display: "DebuggerEvent",
              type: "object",
              tooltip: "raw DebuggerEvent[]",
              value: events
            }
          };
        }
        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: eventData
        });
      }, { detached: true, flush: "sync" });
      const hotUpdate = store._hotUpdate;
      store._hotUpdate = vue.markRaw((newStore) => {
        hotUpdate(newStore);
        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: {
            time: now2(),
            title: "🔥 " + store.$id,
            subtitle: "HMR update",
            data: {
              store: formatDisplay(store.$id),
              info: formatDisplay(`HMR update`)
            }
          }
        });
        api.notifyComponentUpdate();
        api.sendInspectorTree(INSPECTOR_ID);
        api.sendInspectorState(INSPECTOR_ID);
      });
      const { $dispose } = store;
      store.$dispose = () => {
        $dispose();
        api.notifyComponentUpdate();
        api.sendInspectorTree(INSPECTOR_ID);
        api.sendInspectorState(INSPECTOR_ID);
        api.getSettings().logStoreChanges && toastMessage(`Disposed "${store.$id}" store 🗑`);
      };
      api.notifyComponentUpdate();
      api.sendInspectorTree(INSPECTOR_ID);
      api.sendInspectorState(INSPECTOR_ID);
      api.getSettings().logStoreChanges && toastMessage(`"${store.$id}" store installed 🆕`);
    });
  }
  let runningActionId = 0;
  let activeAction;
  function patchActionForGrouping(store, actionNames, wrapWithProxy) {
    const actions = actionNames.reduce((storeActions, actionName) => {
      storeActions[actionName] = vue.toRaw(store)[actionName];
      return storeActions;
    }, {});
    for (const actionName in actions) {
      store[actionName] = function() {
        const _actionId = runningActionId;
        const trackedStore = wrapWithProxy ? new Proxy(store, {
          get(...args) {
            activeAction = _actionId;
            return Reflect.get(...args);
          },
          set(...args) {
            activeAction = _actionId;
            return Reflect.set(...args);
          }
        }) : store;
        activeAction = _actionId;
        const retValue = actions[actionName].apply(trackedStore, arguments);
        activeAction = void 0;
        return retValue;
      };
    }
  }
  function devtoolsPlugin({ app, store, options }) {
    if (store.$id.startsWith("__hot:")) {
      return;
    }
    store._isOptionsAPI = !!options.state;
    patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);
    const originalHotUpdate = store._hotUpdate;
    vue.toRaw(store)._hotUpdate = function(newStore) {
      originalHotUpdate.apply(this, arguments);
      patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);
    };
    addStoreToDevtools(
      app,
      // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?
      store
    );
  }
  function createPinia() {
    const scope = vue.effectScope(true);
    const state = scope.run(() => vue.ref({}));
    let _p = [];
    let toBeInstalled = [];
    const pinia = vue.markRaw({
      install(app) {
        setActivePinia(pinia);
        {
          pinia._a = app;
          app.provide(piniaSymbol, pinia);
          app.config.globalProperties.$pinia = pinia;
          if (USE_DEVTOOLS) {
            registerPiniaDevtools(app, pinia);
          }
          toBeInstalled.forEach((plugin) => _p.push(plugin));
          toBeInstalled = [];
        }
      },
      use(plugin) {
        if (!this._a && !isVue2) {
          toBeInstalled.push(plugin);
        } else {
          _p.push(plugin);
        }
        return this;
      },
      _p,
      // it's actually undefined here
      // @ts-expect-error
      _a: null,
      _e: scope,
      _s: /* @__PURE__ */ new Map(),
      state
    });
    if (USE_DEVTOOLS && typeof Proxy !== "undefined") {
      pinia.use(devtoolsPlugin);
    }
    return pinia;
  }
  function patchObject(newState, oldState) {
    for (const key in oldState) {
      const subPatch = oldState[key];
      if (!(key in newState)) {
        continue;
      }
      const targetValue = newState[key];
      if (isPlainObject(targetValue) && isPlainObject(subPatch) && !vue.isRef(subPatch) && !vue.isReactive(subPatch)) {
        newState[key] = patchObject(targetValue, subPatch);
      } else {
        {
          newState[key] = subPatch;
        }
      }
    }
    return newState;
  }
  const noop = () => {
  };
  function addSubscription(subscriptions, callback, detached, onCleanup = noop) {
    subscriptions.push(callback);
    const removeSubscription = () => {
      const idx = subscriptions.indexOf(callback);
      if (idx > -1) {
        subscriptions.splice(idx, 1);
        onCleanup();
      }
    };
    if (!detached && vue.getCurrentScope()) {
      vue.onScopeDispose(removeSubscription);
    }
    return removeSubscription;
  }
  function triggerSubscriptions(subscriptions, ...args) {
    subscriptions.slice().forEach((callback) => {
      callback(...args);
    });
  }
  const fallbackRunWithContext = (fn) => fn();
  function mergeReactiveObjects(target, patchToApply) {
    if (target instanceof Map && patchToApply instanceof Map) {
      patchToApply.forEach((value, key) => target.set(key, value));
    }
    if (target instanceof Set && patchToApply instanceof Set) {
      patchToApply.forEach(target.add, target);
    }
    for (const key in patchToApply) {
      if (!patchToApply.hasOwnProperty(key))
        continue;
      const subPatch = patchToApply[key];
      const targetValue = target[key];
      if (isPlainObject(targetValue) && isPlainObject(subPatch) && target.hasOwnProperty(key) && !vue.isRef(subPatch) && !vue.isReactive(subPatch)) {
        target[key] = mergeReactiveObjects(targetValue, subPatch);
      } else {
        target[key] = subPatch;
      }
    }
    return target;
  }
  const skipHydrateSymbol = Symbol("pinia:skipHydration");
  function shouldHydrate(obj) {
    return !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);
  }
  const { assign } = Object;
  function isComputed(o2) {
    return !!(vue.isRef(o2) && o2.effect);
  }
  function createOptionsStore(id2, options, pinia, hot) {
    const { state, actions, getters } = options;
    const initialState = pinia.state.value[id2];
    let store;
    function setup() {
      if (!initialState && !hot) {
        {
          pinia.state.value[id2] = state ? state() : {};
        }
      }
      const localState = hot ? (
        // use ref() to unwrap refs inside state TODO: check if this is still necessary
        vue.toRefs(vue.ref(state ? state() : {}).value)
      ) : vue.toRefs(pinia.state.value[id2]);
      return assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {
        if (name in localState) {
          console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${name}" in store "${id2}".`);
        }
        computedGetters[name] = vue.markRaw(vue.computed(() => {
          setActivePinia(pinia);
          const store2 = pinia._s.get(id2);
          return getters[name].call(store2, store2);
        }));
        return computedGetters;
      }, {}));
    }
    store = createSetupStore(id2, setup, options, pinia, hot, true);
    return store;
  }
  function createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {
    let scope;
    const optionsForPlugin = assign({ actions: {} }, options);
    if (!pinia._e.active) {
      throw new Error("Pinia destroyed");
    }
    const $subscribeOptions = {
      deep: true
      // flush: 'post',
    };
    {
      $subscribeOptions.onTrigger = (event) => {
        if (isListening) {
          debuggerEvents = event;
        } else if (isListening == false && !store._hotUpdating) {
          if (Array.isArray(debuggerEvents)) {
            debuggerEvents.push(event);
          } else {
            console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug.");
          }
        }
      };
    }
    let isListening;
    let isSyncListening;
    let subscriptions = [];
    let actionSubscriptions = [];
    let debuggerEvents;
    const initialState = pinia.state.value[$id];
    if (!isOptionsStore && !initialState && !hot) {
      {
        pinia.state.value[$id] = {};
      }
    }
    const hotState = vue.ref({});
    let activeListener;
    function $patch(partialStateOrMutator) {
      let subscriptionMutation;
      isListening = isSyncListening = false;
      {
        debuggerEvents = [];
      }
      if (typeof partialStateOrMutator === "function") {
        partialStateOrMutator(pinia.state.value[$id]);
        subscriptionMutation = {
          type: MutationType.patchFunction,
          storeId: $id,
          events: debuggerEvents
        };
      } else {
        mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);
        subscriptionMutation = {
          type: MutationType.patchObject,
          payload: partialStateOrMutator,
          storeId: $id,
          events: debuggerEvents
        };
      }
      const myListenerId = activeListener = Symbol();
      vue.nextTick().then(() => {
        if (activeListener === myListenerId) {
          isListening = true;
        }
      });
      isSyncListening = true;
      triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);
    }
    const $reset = isOptionsStore ? function $reset2() {
      const { state } = options;
      const newState = state ? state() : {};
      this.$patch(($state) => {
        assign($state, newState);
      });
    } : (
      /* istanbul ignore next */
      () => {
        throw new Error(`🍍: Store "${$id}" is built using the setup syntax and does not implement $reset().`);
      }
    );
    function $dispose() {
      scope.stop();
      subscriptions = [];
      actionSubscriptions = [];
      pinia._s.delete($id);
    }
    function wrapAction(name, action) {
      return function() {
        setActivePinia(pinia);
        const args = Array.from(arguments);
        const afterCallbackList = [];
        const onErrorCallbackList = [];
        function after(callback) {
          afterCallbackList.push(callback);
        }
        function onError(callback) {
          onErrorCallbackList.push(callback);
        }
        triggerSubscriptions(actionSubscriptions, {
          args,
          name,
          store,
          after,
          onError
        });
        let ret;
        try {
          ret = action.apply(this && this.$id === $id ? this : store, args);
        } catch (error) {
          triggerSubscriptions(onErrorCallbackList, error);
          throw error;
        }
        if (ret instanceof Promise) {
          return ret.then((value) => {
            triggerSubscriptions(afterCallbackList, value);
            return value;
          }).catch((error) => {
            triggerSubscriptions(onErrorCallbackList, error);
            return Promise.reject(error);
          });
        }
        triggerSubscriptions(afterCallbackList, ret);
        return ret;
      };
    }
    const _hmrPayload = /* @__PURE__ */ vue.markRaw({
      actions: {},
      getters: {},
      state: [],
      hotState
    });
    const partialStore = {
      _p: pinia,
      // _s: scope,
      $id,
      $onAction: addSubscription.bind(null, actionSubscriptions),
      $patch,
      $reset,
      $subscribe(callback, options2 = {}) {
        const removeSubscription = addSubscription(subscriptions, callback, options2.detached, () => stopWatcher());
        const stopWatcher = scope.run(() => vue.watch(() => pinia.state.value[$id], (state) => {
          if (options2.flush === "sync" ? isSyncListening : isListening) {
            callback({
              storeId: $id,
              type: MutationType.direct,
              events: debuggerEvents
            }, state);
          }
        }, assign({}, $subscribeOptions, options2)));
        return removeSubscription;
      },
      $dispose
    };
    const store = vue.reactive(assign(
      {
        _hmrPayload,
        _customProperties: vue.markRaw(/* @__PURE__ */ new Set())
        // devtools custom properties
      },
      partialStore
      // must be added later
      // setupStore
    ));
    pinia._s.set($id, store);
    const runWithContext = pinia._a && pinia._a.runWithContext || fallbackRunWithContext;
    const setupStore = runWithContext(() => pinia._e.run(() => (scope = vue.effectScope()).run(setup)));
    for (const key in setupStore) {
      const prop = setupStore[key];
      if (vue.isRef(prop) && !isComputed(prop) || vue.isReactive(prop)) {
        if (hot) {
          set(hotState.value, key, vue.toRef(setupStore, key));
        } else if (!isOptionsStore) {
          if (initialState && shouldHydrate(prop)) {
            if (vue.isRef(prop)) {
              prop.value = initialState[key];
            } else {
              mergeReactiveObjects(prop, initialState[key]);
            }
          }
          {
            pinia.state.value[$id][key] = prop;
          }
        }
        {
          _hmrPayload.state.push(key);
        }
      } else if (typeof prop === "function") {
        const actionValue = hot ? prop : wrapAction(key, prop);
        {
          setupStore[key] = actionValue;
        }
        {
          _hmrPayload.actions[key] = prop;
        }
        optionsForPlugin.actions[key] = prop;
      } else {
        if (isComputed(prop)) {
          _hmrPayload.getters[key] = isOptionsStore ? (
            // @ts-expect-error
            options.getters[key]
          ) : prop;
          if (IS_CLIENT) {
            const getters = setupStore._getters || // @ts-expect-error: same
            (setupStore._getters = vue.markRaw([]));
            getters.push(key);
          }
        }
      }
    }
    {
      assign(store, setupStore);
      assign(vue.toRaw(store), setupStore);
    }
    Object.defineProperty(store, "$state", {
      get: () => hot ? hotState.value : pinia.state.value[$id],
      set: (state) => {
        if (hot) {
          throw new Error("cannot set hotState");
        }
        $patch(($state) => {
          assign($state, state);
        });
      }
    });
    {
      store._hotUpdate = vue.markRaw((newStore) => {
        store._hotUpdating = true;
        newStore._hmrPayload.state.forEach((stateKey) => {
          if (stateKey in store.$state) {
            const newStateTarget = newStore.$state[stateKey];
            const oldStateSource = store.$state[stateKey];
            if (typeof newStateTarget === "object" && isPlainObject(newStateTarget) && isPlainObject(oldStateSource)) {
              patchObject(newStateTarget, oldStateSource);
            } else {
              newStore.$state[stateKey] = oldStateSource;
            }
          }
          set(store, stateKey, vue.toRef(newStore.$state, stateKey));
        });
        Object.keys(store.$state).forEach((stateKey) => {
          if (!(stateKey in newStore.$state)) {
            del(store, stateKey);
          }
        });
        isListening = false;
        isSyncListening = false;
        pinia.state.value[$id] = vue.toRef(newStore._hmrPayload, "hotState");
        isSyncListening = true;
        vue.nextTick().then(() => {
          isListening = true;
        });
        for (const actionName in newStore._hmrPayload.actions) {
          const action = newStore[actionName];
          set(store, actionName, wrapAction(actionName, action));
        }
        for (const getterName in newStore._hmrPayload.getters) {
          const getter = newStore._hmrPayload.getters[getterName];
          const getterValue = isOptionsStore ? (
            // special handling of options api
            vue.computed(() => {
              setActivePinia(pinia);
              return getter.call(store, store);
            })
          ) : getter;
          set(store, getterName, getterValue);
        }
        Object.keys(store._hmrPayload.getters).forEach((key) => {
          if (!(key in newStore._hmrPayload.getters)) {
            del(store, key);
          }
        });
        Object.keys(store._hmrPayload.actions).forEach((key) => {
          if (!(key in newStore._hmrPayload.actions)) {
            del(store, key);
          }
        });
        store._hmrPayload = newStore._hmrPayload;
        store._getters = newStore._getters;
        store._hotUpdating = false;
      });
    }
    if (USE_DEVTOOLS) {
      const nonEnumerable = {
        writable: true,
        configurable: true,
        // avoid warning on devtools trying to display this property
        enumerable: false
      };
      ["_p", "_hmrPayload", "_getters", "_customProperties"].forEach((p2) => {
        Object.defineProperty(store, p2, assign({ value: store[p2] }, nonEnumerable));
      });
    }
    pinia._p.forEach((extender) => {
      if (USE_DEVTOOLS) {
        const extensions = scope.run(() => extender({
          store,
          app: pinia._a,
          pinia,
          options: optionsForPlugin
        }));
        Object.keys(extensions || {}).forEach((key) => store._customProperties.add(key));
        assign(store, extensions);
      } else {
        assign(store, scope.run(() => extender({
          store,
          app: pinia._a,
          pinia,
          options: optionsForPlugin
        })));
      }
    });
    if (store.$state && typeof store.$state === "object" && typeof store.$state.constructor === "function" && !store.$state.constructor.toString().includes("[native code]")) {
      console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${store.$id}".`);
    }
    if (initialState && isOptionsStore && options.hydrate) {
      options.hydrate(store.$state, initialState);
    }
    isListening = true;
    isSyncListening = true;
    return store;
  }
  function defineStore(idOrOptions, setup, setupOptions) {
    let id2;
    let options;
    const isSetupStore = typeof setup === "function";
    if (typeof idOrOptions === "string") {
      id2 = idOrOptions;
      options = isSetupStore ? setupOptions : setup;
    } else {
      options = idOrOptions;
      id2 = idOrOptions.id;
      if (typeof id2 !== "string") {
        throw new Error(`[🍍]: "defineStore()" must be passed a store id as its first argument.`);
      }
    }
    function useStore(pinia, hot) {
      const hasContext = vue.hasInjectionContext();
      pinia = // in test mode, ignore the argument provided as we can always retrieve a
      // pinia instance with getActivePinia()
      pinia || (hasContext ? vue.inject(piniaSymbol, null) : null);
      if (pinia)
        setActivePinia(pinia);
      if (!activePinia) {
        throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);
      }
      pinia = activePinia;
      if (!pinia._s.has(id2)) {
        if (isSetupStore) {
          createSetupStore(id2, setup, options, pinia);
        } else {
          createOptionsStore(id2, options, pinia);
        }
        {
          useStore._pinia = pinia;
        }
      }
      const store = pinia._s.get(id2);
      if (hot) {
        const hotId = "__hot:" + id2;
        const newStore = isSetupStore ? createSetupStore(hotId, setup, options, pinia, true) : createOptionsStore(hotId, assign({}, options), pinia, true);
        hot._hotUpdate(newStore);
        delete pinia.state.value[hotId];
        pinia._s.delete(hotId);
      }
      if (IS_CLIENT) {
        const currentInstance = vue.getCurrentInstance();
        if (currentInstance && currentInstance.proxy && // avoid adding stores that are just built for hot module replacement
        !hot) {
          const vm = currentInstance.proxy;
          const cache = "_pStores" in vm ? vm._pStores : vm._pStores = {};
          cache[id2] = store;
        }
      }
      return store;
    }
    useStore.$id = id2;
    return useStore;
  }
  const systemInfo$1 = uni.getSystemInfoSync();
  const useGlobalDataStore = defineStore("global", {
    state: () => ({
      statusBarHeight: systemInfo$1.statusBarHeight + 50 || 0,
      token: uni.getStorageSync("token") || "",
      // 从本地存储初始化Token
      userInfo: uni.getStorageSync("userInfo") || "",
      // 从本地存储初始化Token
      mallSwitch: uni.getStorageSync("mallSwitch") || ""
      // 商城状态
    }),
    actions: {
      // 设置Token并保存到本地存储
      setToken(token) {
        this.token = token;
        uni.setStorageSync("token", token);
      },
      setMallSwitch(mallSwitch) {
        this.mallSwitch = mallSwitch;
        uni.setStorageSync("mallSwitch", mallSwitch);
      },
      // 清除Token（用于登出）
      clearToken() {
        this.token = "";
        uni.removeStorageSync("token");
      },
      setUserInfo(userInfo) {
        this.userInfo = userInfo;
        uni.setStorageSync("userInfo", userInfo);
      }
    },
    getters: {
      // 获取Token（可用于计算属性或组件）
      getToken: (state) => state.token,
      getUserInfo: (state) => state.userInfo,
      getMallSwitch: (state) => state.mallSwitch,
      // 判断是否已登录
      isLoggedIn: (state) => !!state.token
    }
  });
  const _imports_0$q = "/static/login/bg-top.png";
  const _imports_1$h = "/static/login/logo.png";
  const _imports_2$a = "/static/login/code-active.png";
  const _imports_3$6 = "/static/login/code.png";
  const _imports_4$6 = "/static/login/psd-active.png";
  const _imports_5$4 = "/static/login/psd.png";
  const _imports_6$3 = "/static/login/wechat.png";
  const _export_sfc = (sfc, props) => {
    const target = sfc.__vccOpts || sfc;
    for (const [key, val2] of props) {
      target[key] = val2;
    }
    return target;
  };
  const _sfc_main$28 = {
    __name: "login",
    setup(__props, { expose: __expose }) {
      __expose();
      const store = useGlobalDataStore();
      let type = vue.ref(1);
      const state = vue.ref({
        userName: "",
        password: "",
        code: ""
      });
      const gotoPrivacy = (type2) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type2}`
        });
      };
      const changeLoginTypeFn = (val2) => {
        type.value = val2;
      };
      const loginFn = async () => {
        if (type.value == 1) {
          if (!state.value.userName || !state.value.code)
            return uni.showToast({ title: `请输入账号或验证码`, icon: "error" });
        }
        if (type.value == 2) {
          if (!state.value.userName || !state.value.password)
            return uni.showToast({ title: `请输入账号或密码`, icon: "error" });
        }
        try {
          const api = type.value == 1 ? smsLogin : login;
          const { data } = await api(state.value);
          uni.setStorageSync("token", data.token);
          store.setToken(data.token);
          uni.setStorageSync("currentUser", data);
          getMallSwitchApi();
          uni.switchTab({
            url: "/pages/index/index"
          });
        } catch (error) {
          formatAppLog("log", "at pages/login/login.vue:137", error);
        }
      };
      const getMallSwitchApi = async () => {
        try {
          const { data } = await getMallSwitch();
          uni.setStorageSync("mallSwitch", data);
          store.setMallSwitch(data);
        } catch (error) {
          formatAppLog("log", "at pages/login/login.vue:147", error);
        }
      };
      const gotoRegister = () => {
        uni.navigateTo({
          url: "/pages/register/register"
        });
      };
      const userInfo = vue.ref(null);
      const wxAppLogin = async () => {
        try {
          const loginRes = await uni.login({
            provider: "weixin"
          });
          const infoRes = await uni.getUserInfo({
            provider: "weixin"
          });
          userInfo.value = {
            ...infoRes.userInfo,
            openid: infoRes.userInfo.openId,
            unionid: infoRes.userInfo.unionId
          };
          const res2 = await login({
            openid: userInfo.value.openid,
            logintype: "wxApp"
          });
          if (res2.success) {
            uni.setStorageSync("token", res2.data.token);
            uni.setStorageSync("currentUser", res2.data);
            let user = res2.data;
            getMallSwitchApi();
            uni.switchTab({
              url: "/pages/index/index"
            });
          } else {
            uni.navigateTo({
              url: `../wx-bind/wx-bind?userInfo=${JSON.stringify(userInfo.value)}`
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/login/login.vue:202", "Login failed:", error);
        }
      };
      const onSendSms = async () => {
        if (disabled.value)
          return;
        let res2 = await sendSms({
          phone: state.value.userName,
          type: 1
        });
        if (res2.code == 0) {
          getCurrentDown();
        }
        formatAppLog("log", "at pages/login/login.vue:220", res2);
      };
      const disabled = vue.ref(false);
      const btnText = vue.ref("获取验证码");
      const second = vue.ref(60);
      const getCurrentDown = () => {
        disabled.value = true;
        var interval = setInterval(() => {
          btnText.value = second.value + "s 重新获取";
          second.value--;
          if (second.value == 0) {
            clearInterval(interval);
            second.value = 60;
            btnText.value = "获取验证码";
            disabled.value = false;
          }
        }, 1e3);
      };
      const __returned__ = { store, get type() {
        return type;
      }, set type(v2) {
        type = v2;
      }, state, gotoPrivacy, changeLoginTypeFn, loginFn, getMallSwitchApi, gotoRegister, userInfo, wxAppLogin, onSendSms, disabled, btnText, second, getCurrentDown, get login() {
        return login;
      }, get sendSms() {
        return sendSms;
      }, get smsLogin() {
        return smsLogin;
      }, get getMallSwitch() {
        return getMallSwitch;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$27(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-box" }, [
      vue.createElementVNode("view", { class: "login-bg" }, [
        vue.createElementVNode("view", { class: "bg-top" }, [
          vue.createElementVNode("image", {
            src: _imports_0$q,
            class: "image"
          })
        ]),
        vue.createElementVNode("view", { class: "bg-top-content" }, [
          vue.createElementVNode("image", {
            src: _imports_1$h,
            class: "logo"
          }),
          vue.createElementVNode("view", { class: "welcome" }, [
            vue.createElementVNode("text", null, "欢迎来到"),
            vue.createTextVNode(),
            vue.createElementVNode("text", { class: "txt" }, "「麦苗倾诉」")
          ]),
          vue.createElementVNode("view", { class: "msg" }, "欢迎登录麦苗App")
        ])
      ]),
      vue.createElementVNode("view", { class: "login-area" }, [
        vue.createElementVNode("view", { class: "change-login-type" }, [
          vue.createElementVNode("view", {
            class: "phone-type login-type",
            onClick: _cache[0] || (_cache[0] = ($event) => $setup.changeLoginTypeFn(1))
          }, [
            $setup.type == 1 ? (vue.openBlock(), vue.createElementBlock("image", {
              key: 0,
              src: _imports_2$a,
              class: "image"
            })) : (vue.openBlock(), vue.createElementBlock("image", {
              key: 1,
              src: _imports_3$6,
              class: "image"
            })),
            vue.createElementVNode(
              "text",
              {
                class: vue.normalizeClass(["login-msg", $setup.type == 1 ? "active" : ""])
              },
              "手机快速登录",
              2
              /* CLASS */
            )
          ]),
          vue.createElementVNode("view", {
            class: "code-type login-type",
            onClick: _cache[1] || (_cache[1] = ($event) => $setup.changeLoginTypeFn(2))
          }, [
            $setup.type == 2 ? (vue.openBlock(), vue.createElementBlock("image", {
              key: 0,
              src: _imports_4$6,
              class: "image"
            })) : (vue.openBlock(), vue.createElementBlock("image", {
              key: 1,
              src: _imports_5$4,
              class: "image"
            })),
            vue.createElementVNode(
              "text",
              {
                class: vue.normalizeClass(["login-msg", $setup.type == 2 ? "active" : ""])
              },
              "账号密码登录",
              2
              /* CLASS */
            )
          ])
        ]),
        vue.createElementVNode("view", { class: "login-content" }, [
          vue.createElementVNode("view", { class: "phone" }, [
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "uni-input",
                type: "number",
                "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.state.userName = $event),
                placeholder: "请输入手机号",
                "placeholder-class": "msg",
                maxlength: "11"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $setup.state.userName]
            ])
          ]),
          $setup.type == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "code"
          }, [
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "code-input",
                "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.state.code = $event),
                placeholder: "请输入验证码",
                "placeholder-class": "msg"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $setup.state.code]
            ]),
            vue.createElementVNode("text", {
              class: "send-code",
              disabled: $setup.disabled,
              onClick: $setup.onSendSms
            }, vue.toDisplayString($setup.btnText), 9, ["disabled"])
          ])) : (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "psd"
          }, [
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "uni-input",
                type: "password",
                "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $setup.state.password = $event),
                placeholder: "请输入密码",
                "placeholder-class": "msg"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $setup.state.password]
            ])
          ])),
          vue.createElementVNode("view", {
            class: "login-btn",
            onClick: $setup.loginFn
          }, "立即登录"),
          vue.createElementVNode("view", { class: "register" }, [
            vue.createElementVNode("text", { class: "register-msg" }, "还没有账号？现在去"),
            vue.createElementVNode("text", {
              onClick: $setup.gotoRegister,
              style: { "color": "#34a755" }
            }, "注册>>")
          ])
        ]),
        vue.createElementVNode("view", { class: "wechat-login" }, [
          vue.createElementVNode("text", { class: "wechat-msg" }, "第三方登录"),
          vue.createElementVNode("view", {
            class: "wechat-content",
            onClick: $setup.wxAppLogin
          }, [
            vue.createElementVNode("image", {
              src: _imports_6$3,
              class: "wechat"
            })
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "agree" }, [
        vue.createTextVNode(" 注册即代表同意 "),
        vue.createElementVNode("text", {
          class: "txt",
          onClick: _cache[5] || (_cache[5] = ($event) => $setup.gotoPrivacy("用户注册协议"))
        }, "《用户注册协议》"),
        vue.createTextVNode("和"),
        vue.createElementVNode("text", {
          class: "txt",
          onClick: _cache[6] || (_cache[6] = ($event) => $setup.gotoPrivacy("隐私协议"))
        }, "《隐私协议》")
      ])
    ]);
  }
  const PagesLoginLogin = /* @__PURE__ */ _export_sfc(_sfc_main$28, [["render", _sfc_render$27], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/login/login.vue"]]);
  const fontData = [
    {
      "font_class": "arrow-down",
      "unicode": ""
    },
    {
      "font_class": "arrow-left",
      "unicode": ""
    },
    {
      "font_class": "arrow-right",
      "unicode": ""
    },
    {
      "font_class": "arrow-up",
      "unicode": ""
    },
    {
      "font_class": "auth",
      "unicode": ""
    },
    {
      "font_class": "auth-filled",
      "unicode": ""
    },
    {
      "font_class": "back",
      "unicode": ""
    },
    {
      "font_class": "bars",
      "unicode": ""
    },
    {
      "font_class": "calendar",
      "unicode": ""
    },
    {
      "font_class": "calendar-filled",
      "unicode": ""
    },
    {
      "font_class": "camera",
      "unicode": ""
    },
    {
      "font_class": "camera-filled",
      "unicode": ""
    },
    {
      "font_class": "cart",
      "unicode": ""
    },
    {
      "font_class": "cart-filled",
      "unicode": ""
    },
    {
      "font_class": "chat",
      "unicode": ""
    },
    {
      "font_class": "chat-filled",
      "unicode": ""
    },
    {
      "font_class": "chatboxes",
      "unicode": ""
    },
    {
      "font_class": "chatboxes-filled",
      "unicode": ""
    },
    {
      "font_class": "chatbubble",
      "unicode": ""
    },
    {
      "font_class": "chatbubble-filled",
      "unicode": ""
    },
    {
      "font_class": "checkbox",
      "unicode": ""
    },
    {
      "font_class": "checkbox-filled",
      "unicode": ""
    },
    {
      "font_class": "checkmarkempty",
      "unicode": ""
    },
    {
      "font_class": "circle",
      "unicode": ""
    },
    {
      "font_class": "circle-filled",
      "unicode": ""
    },
    {
      "font_class": "clear",
      "unicode": ""
    },
    {
      "font_class": "close",
      "unicode": ""
    },
    {
      "font_class": "closeempty",
      "unicode": ""
    },
    {
      "font_class": "cloud-download",
      "unicode": ""
    },
    {
      "font_class": "cloud-download-filled",
      "unicode": ""
    },
    {
      "font_class": "cloud-upload",
      "unicode": ""
    },
    {
      "font_class": "cloud-upload-filled",
      "unicode": ""
    },
    {
      "font_class": "color",
      "unicode": ""
    },
    {
      "font_class": "color-filled",
      "unicode": ""
    },
    {
      "font_class": "compose",
      "unicode": ""
    },
    {
      "font_class": "contact",
      "unicode": ""
    },
    {
      "font_class": "contact-filled",
      "unicode": ""
    },
    {
      "font_class": "down",
      "unicode": ""
    },
    {
      "font_class": "bottom",
      "unicode": ""
    },
    {
      "font_class": "download",
      "unicode": ""
    },
    {
      "font_class": "download-filled",
      "unicode": ""
    },
    {
      "font_class": "email",
      "unicode": ""
    },
    {
      "font_class": "email-filled",
      "unicode": ""
    },
    {
      "font_class": "eye",
      "unicode": ""
    },
    {
      "font_class": "eye-filled",
      "unicode": ""
    },
    {
      "font_class": "eye-slash",
      "unicode": ""
    },
    {
      "font_class": "eye-slash-filled",
      "unicode": ""
    },
    {
      "font_class": "fire",
      "unicode": ""
    },
    {
      "font_class": "fire-filled",
      "unicode": ""
    },
    {
      "font_class": "flag",
      "unicode": ""
    },
    {
      "font_class": "flag-filled",
      "unicode": ""
    },
    {
      "font_class": "folder-add",
      "unicode": ""
    },
    {
      "font_class": "folder-add-filled",
      "unicode": ""
    },
    {
      "font_class": "font",
      "unicode": ""
    },
    {
      "font_class": "forward",
      "unicode": ""
    },
    {
      "font_class": "gear",
      "unicode": ""
    },
    {
      "font_class": "gear-filled",
      "unicode": ""
    },
    {
      "font_class": "gift",
      "unicode": ""
    },
    {
      "font_class": "gift-filled",
      "unicode": ""
    },
    {
      "font_class": "hand-down",
      "unicode": ""
    },
    {
      "font_class": "hand-down-filled",
      "unicode": ""
    },
    {
      "font_class": "hand-up",
      "unicode": ""
    },
    {
      "font_class": "hand-up-filled",
      "unicode": ""
    },
    {
      "font_class": "headphones",
      "unicode": ""
    },
    {
      "font_class": "heart",
      "unicode": ""
    },
    {
      "font_class": "heart-filled",
      "unicode": ""
    },
    {
      "font_class": "help",
      "unicode": ""
    },
    {
      "font_class": "help-filled",
      "unicode": ""
    },
    {
      "font_class": "home",
      "unicode": ""
    },
    {
      "font_class": "home-filled",
      "unicode": ""
    },
    {
      "font_class": "image",
      "unicode": ""
    },
    {
      "font_class": "image-filled",
      "unicode": ""
    },
    {
      "font_class": "images",
      "unicode": ""
    },
    {
      "font_class": "images-filled",
      "unicode": ""
    },
    {
      "font_class": "info",
      "unicode": ""
    },
    {
      "font_class": "info-filled",
      "unicode": ""
    },
    {
      "font_class": "left",
      "unicode": ""
    },
    {
      "font_class": "link",
      "unicode": ""
    },
    {
      "font_class": "list",
      "unicode": ""
    },
    {
      "font_class": "location",
      "unicode": ""
    },
    {
      "font_class": "location-filled",
      "unicode": ""
    },
    {
      "font_class": "locked",
      "unicode": ""
    },
    {
      "font_class": "locked-filled",
      "unicode": ""
    },
    {
      "font_class": "loop",
      "unicode": ""
    },
    {
      "font_class": "mail-open",
      "unicode": ""
    },
    {
      "font_class": "mail-open-filled",
      "unicode": ""
    },
    {
      "font_class": "map",
      "unicode": ""
    },
    {
      "font_class": "map-filled",
      "unicode": ""
    },
    {
      "font_class": "map-pin",
      "unicode": ""
    },
    {
      "font_class": "map-pin-ellipse",
      "unicode": ""
    },
    {
      "font_class": "medal",
      "unicode": ""
    },
    {
      "font_class": "medal-filled",
      "unicode": ""
    },
    {
      "font_class": "mic",
      "unicode": ""
    },
    {
      "font_class": "mic-filled",
      "unicode": ""
    },
    {
      "font_class": "micoff",
      "unicode": ""
    },
    {
      "font_class": "micoff-filled",
      "unicode": ""
    },
    {
      "font_class": "minus",
      "unicode": ""
    },
    {
      "font_class": "minus-filled",
      "unicode": ""
    },
    {
      "font_class": "more",
      "unicode": ""
    },
    {
      "font_class": "more-filled",
      "unicode": ""
    },
    {
      "font_class": "navigate",
      "unicode": ""
    },
    {
      "font_class": "navigate-filled",
      "unicode": ""
    },
    {
      "font_class": "notification",
      "unicode": ""
    },
    {
      "font_class": "notification-filled",
      "unicode": ""
    },
    {
      "font_class": "paperclip",
      "unicode": ""
    },
    {
      "font_class": "paperplane",
      "unicode": ""
    },
    {
      "font_class": "paperplane-filled",
      "unicode": ""
    },
    {
      "font_class": "person",
      "unicode": ""
    },
    {
      "font_class": "person-filled",
      "unicode": ""
    },
    {
      "font_class": "personadd",
      "unicode": ""
    },
    {
      "font_class": "personadd-filled",
      "unicode": ""
    },
    {
      "font_class": "personadd-filled-copy",
      "unicode": ""
    },
    {
      "font_class": "phone",
      "unicode": ""
    },
    {
      "font_class": "phone-filled",
      "unicode": ""
    },
    {
      "font_class": "plus",
      "unicode": ""
    },
    {
      "font_class": "plus-filled",
      "unicode": ""
    },
    {
      "font_class": "plusempty",
      "unicode": ""
    },
    {
      "font_class": "pulldown",
      "unicode": ""
    },
    {
      "font_class": "pyq",
      "unicode": ""
    },
    {
      "font_class": "qq",
      "unicode": ""
    },
    {
      "font_class": "redo",
      "unicode": ""
    },
    {
      "font_class": "redo-filled",
      "unicode": ""
    },
    {
      "font_class": "refresh",
      "unicode": ""
    },
    {
      "font_class": "refresh-filled",
      "unicode": ""
    },
    {
      "font_class": "refreshempty",
      "unicode": ""
    },
    {
      "font_class": "reload",
      "unicode": ""
    },
    {
      "font_class": "right",
      "unicode": ""
    },
    {
      "font_class": "scan",
      "unicode": ""
    },
    {
      "font_class": "search",
      "unicode": ""
    },
    {
      "font_class": "settings",
      "unicode": ""
    },
    {
      "font_class": "settings-filled",
      "unicode": ""
    },
    {
      "font_class": "shop",
      "unicode": ""
    },
    {
      "font_class": "shop-filled",
      "unicode": ""
    },
    {
      "font_class": "smallcircle",
      "unicode": ""
    },
    {
      "font_class": "smallcircle-filled",
      "unicode": ""
    },
    {
      "font_class": "sound",
      "unicode": ""
    },
    {
      "font_class": "sound-filled",
      "unicode": ""
    },
    {
      "font_class": "spinner-cycle",
      "unicode": ""
    },
    {
      "font_class": "staff",
      "unicode": ""
    },
    {
      "font_class": "staff-filled",
      "unicode": ""
    },
    {
      "font_class": "star",
      "unicode": ""
    },
    {
      "font_class": "star-filled",
      "unicode": ""
    },
    {
      "font_class": "starhalf",
      "unicode": ""
    },
    {
      "font_class": "trash",
      "unicode": ""
    },
    {
      "font_class": "trash-filled",
      "unicode": ""
    },
    {
      "font_class": "tune",
      "unicode": ""
    },
    {
      "font_class": "tune-filled",
      "unicode": ""
    },
    {
      "font_class": "undo",
      "unicode": ""
    },
    {
      "font_class": "undo-filled",
      "unicode": ""
    },
    {
      "font_class": "up",
      "unicode": ""
    },
    {
      "font_class": "top",
      "unicode": ""
    },
    {
      "font_class": "upload",
      "unicode": ""
    },
    {
      "font_class": "upload-filled",
      "unicode": ""
    },
    {
      "font_class": "videocam",
      "unicode": ""
    },
    {
      "font_class": "videocam-filled",
      "unicode": ""
    },
    {
      "font_class": "vip",
      "unicode": ""
    },
    {
      "font_class": "vip-filled",
      "unicode": ""
    },
    {
      "font_class": "wallet",
      "unicode": ""
    },
    {
      "font_class": "wallet-filled",
      "unicode": ""
    },
    {
      "font_class": "weibo",
      "unicode": ""
    },
    {
      "font_class": "weixin",
      "unicode": ""
    }
  ];
  const getVal$1 = (val2) => {
    const reg = /^[0-9]*$/g;
    return typeof val2 === "number" || reg.test(val2) ? val2 + "px" : val2;
  };
  const _sfc_main$27 = {
    name: "UniIcons",
    emits: ["click"],
    props: {
      type: {
        type: String,
        default: ""
      },
      color: {
        type: String,
        default: "#333333"
      },
      size: {
        type: [Number, String],
        default: 16
      },
      customPrefix: {
        type: String,
        default: ""
      },
      fontFamily: {
        type: String,
        default: ""
      }
    },
    data() {
      return {
        icons: fontData
      };
    },
    computed: {
      unicode() {
        let code2 = this.icons.find((v2) => v2.font_class === this.type);
        if (code2) {
          return code2.unicode;
        }
        return "";
      },
      iconSize() {
        return getVal$1(this.size);
      },
      styleObj() {
        if (this.fontFamily !== "") {
          return `color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`;
        }
        return `color: ${this.color}; font-size: ${this.iconSize};`;
      }
    },
    methods: {
      _onClick() {
        this.$emit("click");
      }
    }
  };
  function _sfc_render$26(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "text",
      {
        style: vue.normalizeStyle($options.styleObj),
        class: vue.normalizeClass(["uni-icons", ["uniui-" + $props.type, $props.customPrefix, $props.customPrefix ? $props.type : ""]]),
        onClick: _cache[0] || (_cache[0] = (...args) => $options._onClick && $options._onClick(...args))
      },
      [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ],
      6
      /* CLASS, STYLE */
    );
  }
  const __easycom_0$8 = /* @__PURE__ */ _export_sfc(_sfc_main$27, [["render", _sfc_render$26], ["__scopeId", "data-v-d31e1c47"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-icons/components/uni-icons/uni-icons.vue"]]);
  const isObject$1 = (val2) => val2 !== null && typeof val2 === "object";
  const defaultDelimiters = ["{", "}"];
  class BaseFormatter {
    constructor() {
      this._caches = /* @__PURE__ */ Object.create(null);
    }
    interpolate(message2, values, delimiters = defaultDelimiters) {
      if (!values) {
        return [message2];
      }
      let tokens = this._caches[message2];
      if (!tokens) {
        tokens = parse(message2, delimiters);
        this._caches[message2] = tokens;
      }
      return compile(tokens, values);
    }
  }
  const RE_TOKEN_LIST_VALUE = /^(?:\d)+/;
  const RE_TOKEN_NAMED_VALUE = /^(?:\w)+/;
  function parse(format, [startDelimiter, endDelimiter]) {
    const tokens = [];
    let position = 0;
    let text = "";
    while (position < format.length) {
      let char = format[position++];
      if (char === startDelimiter) {
        if (text) {
          tokens.push({ type: "text", value: text });
        }
        text = "";
        let sub = "";
        char = format[position++];
        while (char !== void 0 && char !== endDelimiter) {
          sub += char;
          char = format[position++];
        }
        const isClosed = char === endDelimiter;
        const type = RE_TOKEN_LIST_VALUE.test(sub) ? "list" : isClosed && RE_TOKEN_NAMED_VALUE.test(sub) ? "named" : "unknown";
        tokens.push({ value: sub, type });
      } else {
        text += char;
      }
    }
    text && tokens.push({ type: "text", value: text });
    return tokens;
  }
  function compile(tokens, values) {
    const compiled = [];
    let index = 0;
    const mode = Array.isArray(values) ? "list" : isObject$1(values) ? "named" : "unknown";
    if (mode === "unknown") {
      return compiled;
    }
    while (index < tokens.length) {
      const token = tokens[index];
      switch (token.type) {
        case "text":
          compiled.push(token.value);
          break;
        case "list":
          compiled.push(values[parseInt(token.value, 10)]);
          break;
        case "named":
          if (mode === "named") {
            compiled.push(values[token.value]);
          } else {
            {
              console.warn(`Type of token '${token.type}' and format of value '${mode}' don't match!`);
            }
          }
          break;
        case "unknown":
          {
            console.warn(`Detect 'unknown' type of token!`);
          }
          break;
      }
      index++;
    }
    return compiled;
  }
  const LOCALE_ZH_HANS = "zh-Hans";
  const LOCALE_ZH_HANT = "zh-Hant";
  const LOCALE_EN = "en";
  const LOCALE_FR = "fr";
  const LOCALE_ES = "es";
  const hasOwnProperty$2 = Object.prototype.hasOwnProperty;
  const hasOwn = (val2, key) => hasOwnProperty$2.call(val2, key);
  const defaultFormatter = new BaseFormatter();
  function include(str, parts) {
    return !!parts.find((part) => str.indexOf(part) !== -1);
  }
  function startsWith(str, parts) {
    return parts.find((part) => str.indexOf(part) === 0);
  }
  function normalizeLocale(locale, messages2) {
    if (!locale) {
      return;
    }
    locale = locale.trim().replace(/_/g, "-");
    if (messages2 && messages2[locale]) {
      return locale;
    }
    locale = locale.toLowerCase();
    if (locale === "chinese") {
      return LOCALE_ZH_HANS;
    }
    if (locale.indexOf("zh") === 0) {
      if (locale.indexOf("-hans") > -1) {
        return LOCALE_ZH_HANS;
      }
      if (locale.indexOf("-hant") > -1) {
        return LOCALE_ZH_HANT;
      }
      if (include(locale, ["-tw", "-hk", "-mo", "-cht"])) {
        return LOCALE_ZH_HANT;
      }
      return LOCALE_ZH_HANS;
    }
    let locales = [LOCALE_EN, LOCALE_FR, LOCALE_ES];
    if (messages2 && Object.keys(messages2).length > 0) {
      locales = Object.keys(messages2);
    }
    const lang = startsWith(locale, locales);
    if (lang) {
      return lang;
    }
  }
  class I18n {
    constructor({ locale, fallbackLocale, messages: messages2, watcher, formater: formater2 }) {
      this.locale = LOCALE_EN;
      this.fallbackLocale = LOCALE_EN;
      this.message = {};
      this.messages = {};
      this.watchers = [];
      if (fallbackLocale) {
        this.fallbackLocale = fallbackLocale;
      }
      this.formater = formater2 || defaultFormatter;
      this.messages = messages2 || {};
      this.setLocale(locale || LOCALE_EN);
      if (watcher) {
        this.watchLocale(watcher);
      }
    }
    setLocale(locale) {
      const oldLocale = this.locale;
      this.locale = normalizeLocale(locale, this.messages) || this.fallbackLocale;
      if (!this.messages[this.locale]) {
        this.messages[this.locale] = {};
      }
      this.message = this.messages[this.locale];
      if (oldLocale !== this.locale) {
        this.watchers.forEach((watcher) => {
          watcher(this.locale, oldLocale);
        });
      }
    }
    getLocale() {
      return this.locale;
    }
    watchLocale(fn) {
      const index = this.watchers.push(fn) - 1;
      return () => {
        this.watchers.splice(index, 1);
      };
    }
    add(locale, message2, override = true) {
      const curMessages = this.messages[locale];
      if (curMessages) {
        if (override) {
          Object.assign(curMessages, message2);
        } else {
          Object.keys(message2).forEach((key) => {
            if (!hasOwn(curMessages, key)) {
              curMessages[key] = message2[key];
            }
          });
        }
      } else {
        this.messages[locale] = message2;
      }
    }
    f(message2, values, delimiters) {
      return this.formater.interpolate(message2, values, delimiters).join("");
    }
    t(key, locale, values) {
      let message2 = this.message;
      if (typeof locale === "string") {
        locale = normalizeLocale(locale, this.messages);
        locale && (message2 = this.messages[locale]);
      } else {
        values = locale;
      }
      if (!hasOwn(message2, key)) {
        console.warn(`Cannot translate the value of keypath ${key}. Use the value of keypath as default.`);
        return key;
      }
      return this.formater.interpolate(message2[key], values).join("");
    }
  }
  function watchAppLocale(appVm, i18n) {
    if (appVm.$watchLocale) {
      appVm.$watchLocale((newLocale) => {
        i18n.setLocale(newLocale);
      });
    } else {
      appVm.$watch(() => appVm.$locale, (newLocale) => {
        i18n.setLocale(newLocale);
      });
    }
  }
  function getDefaultLocale() {
    if (typeof uni !== "undefined" && uni.getLocale) {
      return uni.getLocale();
    }
    if (typeof global !== "undefined" && global.getLocale) {
      return global.getLocale();
    }
    return LOCALE_EN;
  }
  function initVueI18n(locale, messages2 = {}, fallbackLocale, watcher) {
    if (typeof locale !== "string") {
      const options = [
        messages2,
        locale
      ];
      locale = options[0];
      messages2 = options[1];
    }
    if (typeof locale !== "string") {
      locale = getDefaultLocale();
    }
    if (typeof fallbackLocale !== "string") {
      fallbackLocale = typeof __uniConfig !== "undefined" && __uniConfig.fallbackLocale || LOCALE_EN;
    }
    const i18n = new I18n({
      locale,
      fallbackLocale,
      messages: messages2,
      watcher
    });
    let t2 = (key, values) => {
      if (typeof getApp !== "function") {
        t2 = function(key2, values2) {
          return i18n.t(key2, values2);
        };
      } else {
        let isWatchedAppLocale = false;
        t2 = function(key2, values2) {
          const appVm = getApp().$vm;
          if (appVm) {
            appVm.$locale;
            if (!isWatchedAppLocale) {
              isWatchedAppLocale = true;
              watchAppLocale(appVm, i18n);
            }
          }
          return i18n.t(key2, values2);
        };
      }
      return t2(key, values);
    };
    return {
      i18n,
      f(message2, values, delimiters) {
        return i18n.f(message2, values, delimiters);
      },
      t(key, values) {
        return t2(key, values);
      },
      add(locale2, message2, override = true) {
        return i18n.add(locale2, message2, override);
      },
      watch(fn) {
        return i18n.watchLocale(fn);
      },
      getLocale() {
        return i18n.getLocale();
      },
      setLocale(newLocale) {
        return i18n.setLocale(newLocale);
      }
    };
  }
  const en$3 = {
    "uni-search-bar.cancel": "cancel",
    "uni-search-bar.placeholder": "Search enter content"
  };
  const zhHans$2 = {
    "uni-search-bar.cancel": "取消",
    "uni-search-bar.placeholder": "请输入搜索内容"
  };
  const zhHant$2 = {
    "uni-search-bar.cancel": "取消",
    "uni-search-bar.placeholder": "請輸入搜索內容"
  };
  const messages$1 = {
    en: en$3,
    "zh-Hans": zhHans$2,
    "zh-Hant": zhHant$2
  };
  const {
    t: t$4
  } = initVueI18n(messages$1);
  const _sfc_main$26 = {
    name: "UniSearchBar",
    emits: ["input", "update:modelValue", "clear", "cancel", "confirm", "blur", "focus"],
    props: {
      placeholder: {
        type: String,
        default: ""
      },
      radius: {
        type: [Number, String],
        default: 5
      },
      clearButton: {
        type: String,
        default: "auto"
      },
      cancelButton: {
        type: String,
        default: "auto"
      },
      cancelText: {
        type: String,
        default: ""
      },
      bgColor: {
        type: String,
        default: "#F8F8F8"
      },
      textColor: {
        type: String,
        default: "#000000"
      },
      maxlength: {
        type: [Number, String],
        default: 100
      },
      value: {
        type: [Number, String],
        default: ""
      },
      modelValue: {
        type: [Number, String],
        default: ""
      },
      focus: {
        type: Boolean,
        default: false
      },
      readonly: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {
        show: false,
        showSync: false,
        searchVal: ""
      };
    },
    computed: {
      cancelTextI18n() {
        return this.cancelText || t$4("uni-search-bar.cancel");
      },
      placeholderText() {
        return this.placeholder || t$4("uni-search-bar.placeholder");
      }
    },
    watch: {
      modelValue: {
        immediate: true,
        handler(newVal) {
          this.searchVal = newVal;
          if (newVal) {
            this.show = true;
          }
        }
      },
      focus: {
        immediate: true,
        handler(newVal) {
          if (newVal) {
            if (this.readonly)
              return;
            this.show = true;
            this.$nextTick(() => {
              this.showSync = true;
            });
          }
        }
      },
      searchVal(newVal, oldVal) {
        this.$emit("input", newVal);
        this.$emit("update:modelValue", newVal);
      }
    },
    methods: {
      searchClick() {
        if (this.readonly)
          return;
        if (this.show) {
          return;
        }
        this.show = true;
        this.$nextTick(() => {
          this.showSync = true;
        });
      },
      clear() {
        this.searchVal = "";
        this.$nextTick(() => {
          this.$emit("clear", { value: "" });
        });
      },
      cancel() {
        if (this.readonly)
          return;
        this.$emit("cancel", {
          value: this.searchVal
        });
        this.searchVal = "";
        this.show = false;
        this.showSync = false;
        plus.key.hideSoftKeybord();
      },
      confirm() {
        plus.key.hideSoftKeybord();
        this.$emit("confirm", {
          value: this.searchVal
        });
      },
      blur() {
        plus.key.hideSoftKeybord();
        this.$emit("blur", {
          value: this.searchVal
        });
      },
      emitFocus(e2) {
        this.$emit("focus", e2.detail);
      }
    }
  };
  function _sfc_render$25(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-searchbar" }, [
      vue.createElementVNode(
        "view",
        {
          style: vue.normalizeStyle({ borderRadius: $props.radius + "px", backgroundColor: $props.bgColor }),
          class: "uni-searchbar__box",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.searchClick && $options.searchClick(...args))
        },
        [
          vue.createElementVNode("view", { class: "uni-searchbar__box-icon-search" }, [
            vue.renderSlot(_ctx.$slots, "searchIcon", {}, () => [
              vue.createVNode(_component_uni_icons, {
                color: "#c0c4cc",
                size: "18",
                type: "search"
              })
            ], true)
          ]),
          $data.show || $data.searchVal ? vue.withDirectives((vue.openBlock(), vue.createElementBlock("input", {
            key: 0,
            focus: $data.showSync,
            disabled: $props.readonly,
            placeholder: $options.placeholderText,
            maxlength: $props.maxlength,
            class: "uni-searchbar__box-search-input",
            "confirm-type": "search",
            type: "text",
            "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.searchVal = $event),
            style: vue.normalizeStyle({ color: $props.textColor }),
            onConfirm: _cache[1] || (_cache[1] = (...args) => $options.confirm && $options.confirm(...args)),
            onBlur: _cache[2] || (_cache[2] = (...args) => $options.blur && $options.blur(...args)),
            onFocus: _cache[3] || (_cache[3] = (...args) => $options.emitFocus && $options.emitFocus(...args))
          }, null, 44, ["focus", "disabled", "placeholder", "maxlength"])), [
            [vue.vModelText, $data.searchVal]
          ]) : (vue.openBlock(), vue.createElementBlock(
            "text",
            {
              key: 1,
              class: "uni-searchbar__text-placeholder"
            },
            vue.toDisplayString($props.placeholder),
            1
            /* TEXT */
          )),
          $data.show && ($props.clearButton === "always" || $props.clearButton === "auto" && $data.searchVal !== "") && !$props.readonly ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 2,
            class: "uni-searchbar__box-icon-clear",
            onClick: _cache[4] || (_cache[4] = (...args) => $options.clear && $options.clear(...args))
          }, [
            vue.renderSlot(_ctx.$slots, "clearIcon", {}, () => [
              vue.createVNode(_component_uni_icons, {
                color: "#c0c4cc",
                size: "20",
                type: "clear"
              })
            ], true)
          ])) : vue.createCommentVNode("v-if", true)
        ],
        4
        /* STYLE */
      ),
      $props.cancelButton === "always" || $data.show && $props.cancelButton === "auto" ? (vue.openBlock(), vue.createElementBlock(
        "text",
        {
          key: 0,
          onClick: _cache[6] || (_cache[6] = (...args) => $options.cancel && $options.cancel(...args)),
          class: "uni-searchbar__cancel"
        },
        vue.toDisplayString($options.cancelTextI18n),
        1
        /* TEXT */
      )) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const __easycom_2$e = /* @__PURE__ */ _export_sfc(_sfc_main$26, [["render", _sfc_render$25], ["__scopeId", "data-v-f07ef577"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue"]]);
  const _sfc_main$25 = {
    name: "u-sticky",
    emits: ["fixed", "unfixed"],
    props: {
      // 吸顶容器到顶部某个距离的时候，进行吸顶，在H5平台，NavigationBar为44px
      offsetTop: {
        type: [Number, String],
        default: 0
      },
      //列表中的索引值
      index: {
        type: [Number, String],
        default: ""
      },
      // 是否开启吸顶功能
      enable: {
        type: Boolean,
        default: true
      },
      // h5顶部导航栏的高度
      h5NavHeight: {
        type: [Number, String],
        default: 44
      },
      // 吸顶区域的背景颜色
      bgColor: {
        type: String,
        default: "#ffffff"
      },
      // z-index值
      zIndex: {
        type: [Number, String],
        default: ""
      }
    },
    data() {
      return {
        fixed: false,
        height: "auto",
        stickyTop: 0,
        elClass: this.$u.guid(),
        left: 0,
        width: "auto"
      };
    },
    watch: {
      offsetTop(val2) {
        this.initObserver();
      },
      enable(val2) {
        if (val2 == false) {
          this.fixed = false;
          this.disconnectObserver("contentObserver");
        } else {
          this.initObserver();
        }
      }
    },
    computed: {
      uZIndex() {
        return this.zIndex ? this.zIndex : this.$u.zIndex.sticky;
      }
    },
    mounted() {
      this.initObserver();
    },
    methods: {
      initObserver() {
        if (!this.enable)
          return;
        this.stickyTop = this.offsetTop != 0 ? uni.upx2px(this.offsetTop) : 0;
        this.disconnectObserver("contentObserver");
        this.$uGetRect("." + this.elClass).then((res2) => {
          this.height = res2.height;
          this.left = res2.left;
          this.width = res2.width;
          this.$nextTick(() => {
            this.observeContent();
          });
        });
      },
      observeContent() {
        this.disconnectObserver("contentObserver");
        const contentObserver = uni.createIntersectionObserver(this, {
          thresholds: [0.95, 0.98, 1]
        });
        contentObserver.relativeToViewport({
          top: -this.stickyTop
        });
        contentObserver.observe("." + this.elClass, (res2) => {
          if (!this.enable)
            return;
          this.setFixed(res2.boundingClientRect.top);
        });
        this.contentObserver = contentObserver;
      },
      setFixed(top) {
        const fixed = top < this.stickyTop;
        if (fixed)
          this.$emit("fixed", this.index);
        else if (this.fixed)
          this.$emit("unfixed", this.index);
        this.fixed = fixed;
      },
      disconnectObserver(observerName) {
        const observer = this[observerName];
        observer && observer.disconnect();
      }
    },
    beforeUnmount() {
      this.disconnectObserver("contentObserver");
    }
  };
  function _sfc_render$24(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "" }, [
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["u-sticky-wrap", [$data.elClass]]),
          style: vue.normalizeStyle({
            height: $data.fixed ? $data.height + "px" : "auto",
            backgroundColor: $props.bgColor
          })
        },
        [
          vue.createElementVNode(
            "view",
            {
              class: "u-sticky",
              style: vue.normalizeStyle({
                position: $data.fixed ? "fixed" : "static",
                top: $data.stickyTop + "px",
                left: $data.left + "px",
                width: $data.width == "auto" ? "auto" : $data.width + "px",
                zIndex: $options.uZIndex
              })
            },
            [
              vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
            ],
            4
            /* STYLE */
          )
        ],
        6
        /* CLASS, STYLE */
      )
    ]);
  }
  const __easycom_2$d = /* @__PURE__ */ _export_sfc(_sfc_main$25, [["render", _sfc_render$24], ["__scopeId", "data-v-0087e446"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-sticky/u-sticky.vue"]]);
  const pages = [
    {
      path: "pages/login/login",
      style: {
        navigationBarTitleText: "登录",
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/confide/index",
      style: {
        navigationBarTitleText: "倾听师首页"
      }
    },
    {
      path: "pages/confide/detail",
      style: {
        navigationBarTitleText: "倾听师详情"
      }
    },
    {
      path: "pages/consult/index",
      style: {
        navigationBarTitleText: "咨询师首页"
      }
    },
    {
      path: "pages/consult/detail",
      style: {
        navigationBarTitleText: "咨询师详情"
      }
    },
    {
      path: "pages/index/index",
      style: {
        navigationBarTitleText: "首页"
      }
    },
    {
      path: "pages/message/index",
      style: {
        navigationBarTitleText: "消息"
      }
    },
    {
      path: "pages/my/index",
      style: {
        navigationStyle: "custom",
        backgroundColor: "#F4F6F8",
        navigationBarTitleText: "我的"
      }
    },
    {
      path: "pages/readArticle/readArticle",
      style: {
        navigationBarTitleText: "文章列表"
      }
    },
    {
      path: "pages/readArticle/articleDetail",
      style: {
        navigationBarTitleText: "文章详情"
      }
    },
    {
      path: "pages/settled/settled",
      style: {
        navigationBarTitleText: "入驻"
      }
    },
    {
      path: "pages/settled/application",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/consult-feel/consult-feel",
      style: {
        navigationBarTitleText: "咨询感受"
      }
    },
    {
      path: "pages/evaluate/evaluate",
      style: {
        navigationBarTitleText: "评价列表"
      }
    },
    {
      path: "pages/forum/index/index",
      style: {
        navigationBarTitleText: "论坛首页"
      }
    },
    {
      path: "pages/forum/write/write",
      style: {
        navigationBarTitleText: "写"
      }
    },
    {
      path: "pages/forum/my/my",
      style: {
        navigationBarTitleText: "个人空间"
      }
    },
    {
      path: "pages/forum/other/other",
      style: {
        navigationBarTitleText: "其他人空间"
      }
    },
    {
      path: "pages/forum/mailbox/mailbox",
      style: {
        navigationBarTitleText: "信箱详情"
      }
    },
    {
      path: "pages/forum/write/ask-question/ask-question",
      style: {
        navigationBarTitleText: "提问题"
      }
    },
    {
      path: "pages/forum/write/send-dynamics/send-dynamics",
      style: {
        navigationBarTitleText: "发动态"
      }
    },
    {
      path: "pages/forum/write/write-mailbox/write-mailbox",
      style: {
        navigationBarTitleText: "写信"
      }
    },
    {
      path: "pages/forum/my/userInfo",
      style: {
        navigationBarTitleText: "用户信息"
      }
    },
    {
      path: "pages/forum/my/info",
      style: {
        navigationBarTitleText: "用户信息"
      }
    },
    {
      path: "pages/forum/write/choose-topic/choose-topic",
      style: {
        navigationBarTitleText: "选择话题"
      }
    },
    {
      path: "pages/forum/index/qaDetail",
      style: {
        navigationBarTitleText: "问答详情"
      }
    },
    {
      path: "pages/psychological-test/index/index",
      style: {
        navigationBarTitleText: "心理测试"
      }
    },
    {
      path: "pages/psychological-test/order/order",
      style: {
        navigationBarTitleText: "我的评测"
      }
    },
    {
      path: "pages/psychological-test/test-type/test-type",
      style: {
        navigationBarTitleText: "评测类型"
      }
    },
    {
      path: "pages/psychological-test/start-test/start-test",
      style: {
        navigationBarTitleText: "潜意识投射测试"
      }
    },
    {
      path: "pages/psychological-test/comment/comment",
      style: {
        navigationBarTitleText: "评论"
      }
    },
    {
      path: "pages/psychological-test/contact-consult/contact-consult",
      style: {
        navigationBarTitleText: "联系咨询师"
      }
    },
    {
      path: "pages/psychological-test/test-result/test-result",
      style: {
        navigationBarTitleText: "测试结果"
      }
    },
    {
      path: "pages/psychological-test/charge-test/charge-test",
      style: {
        navigationBarTitleText: "收费测试"
      }
    },
    {
      path: "pages/psychological-test/free-test/free-test",
      style: {
        navigationBarTitleText: "免费测试"
      }
    },
    {
      path: "pages/message/private-chat",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/supplementInfo/supplementInfo",
      style: {
        navigationBarTitleText: "补充资料",
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/serviceSettings",
      style: {
        navigationStyle: "default",
        navigationBarTitleText: "服务设置"
      }
    },
    {
      path: "pages/settings/help-center",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/service-setup",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/service-price",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/feedback",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/complaint",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/payment/order/refund-order",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/record",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/payment/order/consult-order",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/payment/order/exam-order",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/payment/order/listener-order",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/payment/order/bill-order",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/payment/order/evaluation-order",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/services",
      style: {
        navigationStyle: "custom",
        navigationBarTitleText: "服务资料"
      }
    },
    {
      path: "pages/auth/auth",
      style: {
        navigationBarTitleText: "认证",
        navigationBarBackgroundColor: "#F4F6F8",
        navigationStyle: "default",
        navigationBarTextStyle: "black"
      }
    },
    {
      path: "pages/auth/cityChoose",
      style: {
        navigationBarTitleText: "城市选择",
        navigationBarBackgroundColor: "#F4F6F8",
        navigationBarTextStyle: "black"
      }
    },
    {
      path: "pages/payment/payment",
      style: {
        navigationBarTitleText: "订单支付",
        navigationBarBackgroundColor: "#F4F6F8",
        navigationBarTextStyle: "black"
      }
    },
    {
      path: "pages/payment/payment-records",
      style: {
        navigationBarTitleText: "我的订单",
        navigationBarBackgroundColor: "#F4F6F8",
        navigationBarTextStyle: "black"
      }
    },
    {
      path: "pages/payment/order-details",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/register/register",
      style: {
        navigationBarTitleText: "",
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/settings/settings",
      style: {
        navigationBarTitleText: "设置",
        navigationStyle: "default"
      }
    },
    {
      path: "pages/account/security",
      style: {
        navigationBarTitleText: "账号安全",
        navigationStyle: "default"
      }
    },
    {
      path: "pages/webview/webview",
      style: {
        navigationBarTitleText: "",
        navigationStyle: "default"
      }
    },
    {
      path: "pages/my/wallet/bill",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/my/wallet/withdrawal",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/my/wallet/bank-card",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/my/wallet/mine",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/mall-home",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/product-details",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/shopping-cart",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/delivery-address",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/operation-address",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/order-details",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/order-list",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/shopping-mall/order-confirmation",
      style: {
        navigationStyle: "custom"
      }
    }
  ];
  const tabBar = {
    color: "#7A7E83",
    selectedColor: "#3cc51f",
    borderStyle: "black",
    backgroundColor: "#ffffff",
    list: [
      {
        pagePath: "pages/index/index",
        iconPath: "/static/switchIcon/index.png",
        selectedIconPath: "/static/switchIcon/index-active.png",
        text: "首页"
      },
      {
        pagePath: "pages/consult/index",
        iconPath: "/static/switchIcon/consult.png",
        selectedIconPath: "/static/switchIcon/consult-active.png",
        text: "咨询"
      },
      {
        pagePath: "pages/confide/index",
        iconPath: "/static/switchIcon/confide.png",
        selectedIconPath: "/static/switchIcon/confide-active.png",
        text: "倾诉"
      },
      {
        pagePath: "pages/message/index",
        iconPath: "/static/switchIcon/message.png",
        selectedIconPath: "/static/switchIcon/message-active.png",
        text: "消息"
      },
      {
        pagePath: "pages/my/index",
        iconPath: "/static/switchIcon/my.png",
        selectedIconPath: "/static/switchIcon/my-active.png",
        text: "我的"
      }
    ]
  };
  const globalStyle = {
    navigationBarTitleText: "",
    navigationStyle: "custom",
    navigationBarBackgroundColor: "#ffffff",
    pageOrientation: "portrait",
    navigationBarTextStyle: "black",
    backgroundColor: "#F4F6F8",
    backgroundColorTop: "#F4F5F6",
    backgroundColorBottom: "#F4F5F6",
    h5: {
      maxWidth: 1190,
      navigationBarTextStyle: "white",
      navigationBarBackgroundColor: "#007AFF"
    },
    bounce: "none"
  };
  const uniIdRouter = {};
  const condition = {
    current: 0,
    list: [
      {
        name: "",
        path: "pages/login/login",
        query: ""
      }
    ]
  };
  const e = {
    pages,
    tabBar,
    globalStyle,
    uniIdRouter,
    condition
  };
  var define_process_env_UNI_SECURE_NETWORK_CONFIG_default = [];
  function t$3(e2) {
    return e2 && e2.__esModule && Object.prototype.hasOwnProperty.call(e2, "default") ? e2.default : e2;
  }
  function n(e2, t2, n2) {
    return e2(n2 = { path: t2, exports: {}, require: function(e3, t3) {
      return function() {
        throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
      }(null == t3 && n2.path);
    } }, n2.exports), n2.exports;
  }
  var s = n(function(e2, t2) {
    var n2;
    e2.exports = (n2 = n2 || function(e3, t3) {
      var n3 = Object.create || /* @__PURE__ */ function() {
        function e4() {
        }
        return function(t4) {
          var n4;
          return e4.prototype = t4, n4 = new e4(), e4.prototype = null, n4;
        };
      }(), s2 = {}, r2 = s2.lib = {}, i2 = r2.Base = { extend: function(e4) {
        var t4 = n3(this);
        return e4 && t4.mixIn(e4), t4.hasOwnProperty("init") && this.init !== t4.init || (t4.init = function() {
          t4.$super.init.apply(this, arguments);
        }), t4.init.prototype = t4, t4.$super = this, t4;
      }, create: function() {
        var e4 = this.extend();
        return e4.init.apply(e4, arguments), e4;
      }, init: function() {
      }, mixIn: function(e4) {
        for (var t4 in e4)
          e4.hasOwnProperty(t4) && (this[t4] = e4[t4]);
        e4.hasOwnProperty("toString") && (this.toString = e4.toString);
      }, clone: function() {
        return this.init.prototype.extend(this);
      } }, o2 = r2.WordArray = i2.extend({ init: function(e4, n4) {
        e4 = this.words = e4 || [], this.sigBytes = n4 != t3 ? n4 : 4 * e4.length;
      }, toString: function(e4) {
        return (e4 || c2).stringify(this);
      }, concat: function(e4) {
        var t4 = this.words, n4 = e4.words, s3 = this.sigBytes, r3 = e4.sigBytes;
        if (this.clamp(), s3 % 4)
          for (var i3 = 0; i3 < r3; i3++) {
            var o3 = n4[i3 >>> 2] >>> 24 - i3 % 4 * 8 & 255;
            t4[s3 + i3 >>> 2] |= o3 << 24 - (s3 + i3) % 4 * 8;
          }
        else
          for (i3 = 0; i3 < r3; i3 += 4)
            t4[s3 + i3 >>> 2] = n4[i3 >>> 2];
        return this.sigBytes += r3, this;
      }, clamp: function() {
        var t4 = this.words, n4 = this.sigBytes;
        t4[n4 >>> 2] &= 4294967295 << 32 - n4 % 4 * 8, t4.length = e3.ceil(n4 / 4);
      }, clone: function() {
        var e4 = i2.clone.call(this);
        return e4.words = this.words.slice(0), e4;
      }, random: function(t4) {
        for (var n4, s3 = [], r3 = function(t5) {
          var n5 = 987654321, s4 = 4294967295;
          return function() {
            var r4 = ((n5 = 36969 * (65535 & n5) + (n5 >> 16) & s4) << 16) + (t5 = 18e3 * (65535 & t5) + (t5 >> 16) & s4) & s4;
            return r4 /= 4294967296, (r4 += 0.5) * (e3.random() > 0.5 ? 1 : -1);
          };
        }, i3 = 0; i3 < t4; i3 += 4) {
          var a3 = r3(4294967296 * (n4 || e3.random()));
          n4 = 987654071 * a3(), s3.push(4294967296 * a3() | 0);
        }
        return new o2.init(s3, t4);
      } }), a2 = s2.enc = {}, c2 = a2.Hex = { stringify: function(e4) {
        for (var t4 = e4.words, n4 = e4.sigBytes, s3 = [], r3 = 0; r3 < n4; r3++) {
          var i3 = t4[r3 >>> 2] >>> 24 - r3 % 4 * 8 & 255;
          s3.push((i3 >>> 4).toString(16)), s3.push((15 & i3).toString(16));
        }
        return s3.join("");
      }, parse: function(e4) {
        for (var t4 = e4.length, n4 = [], s3 = 0; s3 < t4; s3 += 2)
          n4[s3 >>> 3] |= parseInt(e4.substr(s3, 2), 16) << 24 - s3 % 8 * 4;
        return new o2.init(n4, t4 / 2);
      } }, u2 = a2.Latin1 = { stringify: function(e4) {
        for (var t4 = e4.words, n4 = e4.sigBytes, s3 = [], r3 = 0; r3 < n4; r3++) {
          var i3 = t4[r3 >>> 2] >>> 24 - r3 % 4 * 8 & 255;
          s3.push(String.fromCharCode(i3));
        }
        return s3.join("");
      }, parse: function(e4) {
        for (var t4 = e4.length, n4 = [], s3 = 0; s3 < t4; s3++)
          n4[s3 >>> 2] |= (255 & e4.charCodeAt(s3)) << 24 - s3 % 4 * 8;
        return new o2.init(n4, t4);
      } }, h2 = a2.Utf8 = { stringify: function(e4) {
        try {
          return decodeURIComponent(escape(u2.stringify(e4)));
        } catch (e5) {
          throw new Error("Malformed UTF-8 data");
        }
      }, parse: function(e4) {
        return u2.parse(unescape(encodeURIComponent(e4)));
      } }, l2 = r2.BufferedBlockAlgorithm = i2.extend({ reset: function() {
        this._data = new o2.init(), this._nDataBytes = 0;
      }, _append: function(e4) {
        "string" == typeof e4 && (e4 = h2.parse(e4)), this._data.concat(e4), this._nDataBytes += e4.sigBytes;
      }, _process: function(t4) {
        var n4 = this._data, s3 = n4.words, r3 = n4.sigBytes, i3 = this.blockSize, a3 = r3 / (4 * i3), c3 = (a3 = t4 ? e3.ceil(a3) : e3.max((0 | a3) - this._minBufferSize, 0)) * i3, u3 = e3.min(4 * c3, r3);
        if (c3) {
          for (var h3 = 0; h3 < c3; h3 += i3)
            this._doProcessBlock(s3, h3);
          var l3 = s3.splice(0, c3);
          n4.sigBytes -= u3;
        }
        return new o2.init(l3, u3);
      }, clone: function() {
        var e4 = i2.clone.call(this);
        return e4._data = this._data.clone(), e4;
      }, _minBufferSize: 0 });
      r2.Hasher = l2.extend({ cfg: i2.extend(), init: function(e4) {
        this.cfg = this.cfg.extend(e4), this.reset();
      }, reset: function() {
        l2.reset.call(this), this._doReset();
      }, update: function(e4) {
        return this._append(e4), this._process(), this;
      }, finalize: function(e4) {
        return e4 && this._append(e4), this._doFinalize();
      }, blockSize: 16, _createHelper: function(e4) {
        return function(t4, n4) {
          return new e4.init(n4).finalize(t4);
        };
      }, _createHmacHelper: function(e4) {
        return function(t4, n4) {
          return new d2.HMAC.init(e4, n4).finalize(t4);
        };
      } });
      var d2 = s2.algo = {};
      return s2;
    }(Math), n2);
  }), r = s, i = (n(function(e2, t2) {
    var n2;
    e2.exports = (n2 = r, function(e3) {
      var t3 = n2, s2 = t3.lib, r2 = s2.WordArray, i2 = s2.Hasher, o2 = t3.algo, a2 = [];
      !function() {
        for (var t4 = 0; t4 < 64; t4++)
          a2[t4] = 4294967296 * e3.abs(e3.sin(t4 + 1)) | 0;
      }();
      var c2 = o2.MD5 = i2.extend({ _doReset: function() {
        this._hash = new r2.init([1732584193, 4023233417, 2562383102, 271733878]);
      }, _doProcessBlock: function(e4, t4) {
        for (var n3 = 0; n3 < 16; n3++) {
          var s3 = t4 + n3, r3 = e4[s3];
          e4[s3] = 16711935 & (r3 << 8 | r3 >>> 24) | 4278255360 & (r3 << 24 | r3 >>> 8);
        }
        var i3 = this._hash.words, o3 = e4[t4 + 0], c3 = e4[t4 + 1], p2 = e4[t4 + 2], f2 = e4[t4 + 3], g2 = e4[t4 + 4], m2 = e4[t4 + 5], y2 = e4[t4 + 6], _2 = e4[t4 + 7], w2 = e4[t4 + 8], I2 = e4[t4 + 9], v2 = e4[t4 + 10], S2 = e4[t4 + 11], T2 = e4[t4 + 12], b2 = e4[t4 + 13], E2 = e4[t4 + 14], k2 = e4[t4 + 15], A2 = i3[0], P2 = i3[1], C2 = i3[2], O2 = i3[3];
        A2 = u2(A2, P2, C2, O2, o3, 7, a2[0]), O2 = u2(O2, A2, P2, C2, c3, 12, a2[1]), C2 = u2(C2, O2, A2, P2, p2, 17, a2[2]), P2 = u2(P2, C2, O2, A2, f2, 22, a2[3]), A2 = u2(A2, P2, C2, O2, g2, 7, a2[4]), O2 = u2(O2, A2, P2, C2, m2, 12, a2[5]), C2 = u2(C2, O2, A2, P2, y2, 17, a2[6]), P2 = u2(P2, C2, O2, A2, _2, 22, a2[7]), A2 = u2(A2, P2, C2, O2, w2, 7, a2[8]), O2 = u2(O2, A2, P2, C2, I2, 12, a2[9]), C2 = u2(C2, O2, A2, P2, v2, 17, a2[10]), P2 = u2(P2, C2, O2, A2, S2, 22, a2[11]), A2 = u2(A2, P2, C2, O2, T2, 7, a2[12]), O2 = u2(O2, A2, P2, C2, b2, 12, a2[13]), C2 = u2(C2, O2, A2, P2, E2, 17, a2[14]), A2 = h2(A2, P2 = u2(P2, C2, O2, A2, k2, 22, a2[15]), C2, O2, c3, 5, a2[16]), O2 = h2(O2, A2, P2, C2, y2, 9, a2[17]), C2 = h2(C2, O2, A2, P2, S2, 14, a2[18]), P2 = h2(P2, C2, O2, A2, o3, 20, a2[19]), A2 = h2(A2, P2, C2, O2, m2, 5, a2[20]), O2 = h2(O2, A2, P2, C2, v2, 9, a2[21]), C2 = h2(C2, O2, A2, P2, k2, 14, a2[22]), P2 = h2(P2, C2, O2, A2, g2, 20, a2[23]), A2 = h2(A2, P2, C2, O2, I2, 5, a2[24]), O2 = h2(O2, A2, P2, C2, E2, 9, a2[25]), C2 = h2(C2, O2, A2, P2, f2, 14, a2[26]), P2 = h2(P2, C2, O2, A2, w2, 20, a2[27]), A2 = h2(A2, P2, C2, O2, b2, 5, a2[28]), O2 = h2(O2, A2, P2, C2, p2, 9, a2[29]), C2 = h2(C2, O2, A2, P2, _2, 14, a2[30]), A2 = l2(A2, P2 = h2(P2, C2, O2, A2, T2, 20, a2[31]), C2, O2, m2, 4, a2[32]), O2 = l2(O2, A2, P2, C2, w2, 11, a2[33]), C2 = l2(C2, O2, A2, P2, S2, 16, a2[34]), P2 = l2(P2, C2, O2, A2, E2, 23, a2[35]), A2 = l2(A2, P2, C2, O2, c3, 4, a2[36]), O2 = l2(O2, A2, P2, C2, g2, 11, a2[37]), C2 = l2(C2, O2, A2, P2, _2, 16, a2[38]), P2 = l2(P2, C2, O2, A2, v2, 23, a2[39]), A2 = l2(A2, P2, C2, O2, b2, 4, a2[40]), O2 = l2(O2, A2, P2, C2, o3, 11, a2[41]), C2 = l2(C2, O2, A2, P2, f2, 16, a2[42]), P2 = l2(P2, C2, O2, A2, y2, 23, a2[43]), A2 = l2(A2, P2, C2, O2, I2, 4, a2[44]), O2 = l2(O2, A2, P2, C2, T2, 11, a2[45]), C2 = l2(C2, O2, A2, P2, k2, 16, a2[46]), A2 = d2(A2, P2 = l2(P2, C2, O2, A2, p2, 23, a2[47]), C2, O2, o3, 6, a2[48]), O2 = d2(O2, A2, P2, C2, _2, 10, a2[49]), C2 = d2(C2, O2, A2, P2, E2, 15, a2[50]), P2 = d2(P2, C2, O2, A2, m2, 21, a2[51]), A2 = d2(A2, P2, C2, O2, T2, 6, a2[52]), O2 = d2(O2, A2, P2, C2, f2, 10, a2[53]), C2 = d2(C2, O2, A2, P2, v2, 15, a2[54]), P2 = d2(P2, C2, O2, A2, c3, 21, a2[55]), A2 = d2(A2, P2, C2, O2, w2, 6, a2[56]), O2 = d2(O2, A2, P2, C2, k2, 10, a2[57]), C2 = d2(C2, O2, A2, P2, y2, 15, a2[58]), P2 = d2(P2, C2, O2, A2, b2, 21, a2[59]), A2 = d2(A2, P2, C2, O2, g2, 6, a2[60]), O2 = d2(O2, A2, P2, C2, S2, 10, a2[61]), C2 = d2(C2, O2, A2, P2, p2, 15, a2[62]), P2 = d2(P2, C2, O2, A2, I2, 21, a2[63]), i3[0] = i3[0] + A2 | 0, i3[1] = i3[1] + P2 | 0, i3[2] = i3[2] + C2 | 0, i3[3] = i3[3] + O2 | 0;
      }, _doFinalize: function() {
        var t4 = this._data, n3 = t4.words, s3 = 8 * this._nDataBytes, r3 = 8 * t4.sigBytes;
        n3[r3 >>> 5] |= 128 << 24 - r3 % 32;
        var i3 = e3.floor(s3 / 4294967296), o3 = s3;
        n3[15 + (r3 + 64 >>> 9 << 4)] = 16711935 & (i3 << 8 | i3 >>> 24) | 4278255360 & (i3 << 24 | i3 >>> 8), n3[14 + (r3 + 64 >>> 9 << 4)] = 16711935 & (o3 << 8 | o3 >>> 24) | 4278255360 & (o3 << 24 | o3 >>> 8), t4.sigBytes = 4 * (n3.length + 1), this._process();
        for (var a3 = this._hash, c3 = a3.words, u3 = 0; u3 < 4; u3++) {
          var h3 = c3[u3];
          c3[u3] = 16711935 & (h3 << 8 | h3 >>> 24) | 4278255360 & (h3 << 24 | h3 >>> 8);
        }
        return a3;
      }, clone: function() {
        var e4 = i2.clone.call(this);
        return e4._hash = this._hash.clone(), e4;
      } });
      function u2(e4, t4, n3, s3, r3, i3, o3) {
        var a3 = e4 + (t4 & n3 | ~t4 & s3) + r3 + o3;
        return (a3 << i3 | a3 >>> 32 - i3) + t4;
      }
      function h2(e4, t4, n3, s3, r3, i3, o3) {
        var a3 = e4 + (t4 & s3 | n3 & ~s3) + r3 + o3;
        return (a3 << i3 | a3 >>> 32 - i3) + t4;
      }
      function l2(e4, t4, n3, s3, r3, i3, o3) {
        var a3 = e4 + (t4 ^ n3 ^ s3) + r3 + o3;
        return (a3 << i3 | a3 >>> 32 - i3) + t4;
      }
      function d2(e4, t4, n3, s3, r3, i3, o3) {
        var a3 = e4 + (n3 ^ (t4 | ~s3)) + r3 + o3;
        return (a3 << i3 | a3 >>> 32 - i3) + t4;
      }
      t3.MD5 = i2._createHelper(c2), t3.HmacMD5 = i2._createHmacHelper(c2);
    }(Math), n2.MD5);
  }), n(function(e2, t2) {
    var n2;
    e2.exports = (n2 = r, void function() {
      var e3 = n2, t3 = e3.lib.Base, s2 = e3.enc.Utf8;
      e3.algo.HMAC = t3.extend({ init: function(e4, t4) {
        e4 = this._hasher = new e4.init(), "string" == typeof t4 && (t4 = s2.parse(t4));
        var n3 = e4.blockSize, r2 = 4 * n3;
        t4.sigBytes > r2 && (t4 = e4.finalize(t4)), t4.clamp();
        for (var i2 = this._oKey = t4.clone(), o2 = this._iKey = t4.clone(), a2 = i2.words, c2 = o2.words, u2 = 0; u2 < n3; u2++)
          a2[u2] ^= 1549556828, c2[u2] ^= 909522486;
        i2.sigBytes = o2.sigBytes = r2, this.reset();
      }, reset: function() {
        var e4 = this._hasher;
        e4.reset(), e4.update(this._iKey);
      }, update: function(e4) {
        return this._hasher.update(e4), this;
      }, finalize: function(e4) {
        var t4 = this._hasher, n3 = t4.finalize(e4);
        return t4.reset(), t4.finalize(this._oKey.clone().concat(n3));
      } });
    }());
  }), n(function(e2, t2) {
    e2.exports = r.HmacMD5;
  })), o = n(function(e2, t2) {
    e2.exports = r.enc.Utf8;
  }), a = n(function(e2, t2) {
    var n2;
    e2.exports = (n2 = r, function() {
      var e3 = n2, t3 = e3.lib.WordArray;
      function s2(e4, n3, s3) {
        for (var r2 = [], i2 = 0, o2 = 0; o2 < n3; o2++)
          if (o2 % 4) {
            var a2 = s3[e4.charCodeAt(o2 - 1)] << o2 % 4 * 2, c2 = s3[e4.charCodeAt(o2)] >>> 6 - o2 % 4 * 2;
            r2[i2 >>> 2] |= (a2 | c2) << 24 - i2 % 4 * 8, i2++;
          }
        return t3.create(r2, i2);
      }
      e3.enc.Base64 = { stringify: function(e4) {
        var t4 = e4.words, n3 = e4.sigBytes, s3 = this._map;
        e4.clamp();
        for (var r2 = [], i2 = 0; i2 < n3; i2 += 3)
          for (var o2 = (t4[i2 >>> 2] >>> 24 - i2 % 4 * 8 & 255) << 16 | (t4[i2 + 1 >>> 2] >>> 24 - (i2 + 1) % 4 * 8 & 255) << 8 | t4[i2 + 2 >>> 2] >>> 24 - (i2 + 2) % 4 * 8 & 255, a2 = 0; a2 < 4 && i2 + 0.75 * a2 < n3; a2++)
            r2.push(s3.charAt(o2 >>> 6 * (3 - a2) & 63));
        var c2 = s3.charAt(64);
        if (c2)
          for (; r2.length % 4; )
            r2.push(c2);
        return r2.join("");
      }, parse: function(e4) {
        var t4 = e4.length, n3 = this._map, r2 = this._reverseMap;
        if (!r2) {
          r2 = this._reverseMap = [];
          for (var i2 = 0; i2 < n3.length; i2++)
            r2[n3.charCodeAt(i2)] = i2;
        }
        var o2 = n3.charAt(64);
        if (o2) {
          var a2 = e4.indexOf(o2);
          -1 !== a2 && (t4 = a2);
        }
        return s2(e4, t4, r2);
      }, _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" };
    }(), n2.enc.Base64);
  });
  const c = "uni_id_token", u = "uni_id_token_expired", h = "uniIdToken", l = { DEFAULT: "FUNCTION", FUNCTION: "FUNCTION", OBJECT: "OBJECT", CLIENT_DB: "CLIENT_DB" }, d = "pending", p = "fulfilled", f = "rejected";
  function g(e2) {
    return Object.prototype.toString.call(e2).slice(8, -1).toLowerCase();
  }
  function m(e2) {
    return "object" === g(e2);
  }
  function y(e2) {
    return "function" == typeof e2;
  }
  function _(e2) {
    return function() {
      try {
        return e2.apply(e2, arguments);
      } catch (e3) {
        console.error(e3);
      }
    };
  }
  const w = "REJECTED", I = "NOT_PENDING";
  class v {
    constructor({ createPromise: e2, retryRule: t2 = w } = {}) {
      this.createPromise = e2, this.status = null, this.promise = null, this.retryRule = t2;
    }
    get needRetry() {
      if (!this.status)
        return true;
      switch (this.retryRule) {
        case w:
          return this.status === f;
        case I:
          return this.status !== d;
      }
    }
    exec() {
      return this.needRetry ? (this.status = d, this.promise = this.createPromise().then((e2) => (this.status = p, Promise.resolve(e2)), (e2) => (this.status = f, Promise.reject(e2))), this.promise) : this.promise;
    }
  }
  class S {
    constructor() {
      this._callback = {};
    }
    addListener(e2, t2) {
      this._callback[e2] || (this._callback[e2] = []), this._callback[e2].push(t2);
    }
    on(e2, t2) {
      return this.addListener(e2, t2);
    }
    removeListener(e2, t2) {
      if (!t2)
        throw new Error('The "listener" argument must be of type function. Received undefined');
      const n2 = this._callback[e2];
      if (!n2)
        return;
      const s2 = function(e3, t3) {
        for (let n3 = e3.length - 1; n3 >= 0; n3--)
          if (e3[n3] === t3)
            return n3;
        return -1;
      }(n2, t2);
      n2.splice(s2, 1);
    }
    off(e2, t2) {
      return this.removeListener(e2, t2);
    }
    removeAllListener(e2) {
      delete this._callback[e2];
    }
    emit(e2, ...t2) {
      const n2 = this._callback[e2];
      if (n2)
        for (let e3 = 0; e3 < n2.length; e3++)
          n2[e3](...t2);
    }
  }
  function T(e2) {
    return e2 && "string" == typeof e2 ? JSON.parse(e2) : e2;
  }
  const b = true, E = "app", A = T(define_process_env_UNI_SECURE_NETWORK_CONFIG_default), P = E, C = T(""), O = T("[]") || [];
  let N = "";
  try {
    N = "__UNI__6548FAC";
  } catch (e2) {
  }
  let R, L = {};
  function U(e2, t2 = {}) {
    var n2, s2;
    return n2 = L, s2 = e2, Object.prototype.hasOwnProperty.call(n2, s2) || (L[e2] = t2), L[e2];
  }
  function D() {
    return R || (R = function() {
      if ("undefined" != typeof globalThis)
        return globalThis;
      if ("undefined" != typeof self)
        return self;
      if ("undefined" != typeof window)
        return window;
      function e2() {
        return this;
      }
      return void 0 !== e2() ? e2() : new Function("return this")();
    }(), R);
  }
  L = uni._globalUniCloudObj ? uni._globalUniCloudObj : uni._globalUniCloudObj = {};
  const M = ["invoke", "success", "fail", "complete"], q = U("_globalUniCloudInterceptor");
  function F(e2, t2) {
    q[e2] || (q[e2] = {}), m(t2) && Object.keys(t2).forEach((n2) => {
      M.indexOf(n2) > -1 && function(e3, t3, n3) {
        let s2 = q[e3][t3];
        s2 || (s2 = q[e3][t3] = []), -1 === s2.indexOf(n3) && y(n3) && s2.push(n3);
      }(e2, n2, t2[n2]);
    });
  }
  function K(e2, t2) {
    q[e2] || (q[e2] = {}), m(t2) ? Object.keys(t2).forEach((n2) => {
      M.indexOf(n2) > -1 && function(e3, t3, n3) {
        const s2 = q[e3][t3];
        if (!s2)
          return;
        const r2 = s2.indexOf(n3);
        r2 > -1 && s2.splice(r2, 1);
      }(e2, n2, t2[n2]);
    }) : delete q[e2];
  }
  function j(e2, t2) {
    return e2 && 0 !== e2.length ? e2.reduce((e3, n2) => e3.then(() => n2(t2)), Promise.resolve()) : Promise.resolve();
  }
  function $(e2, t2) {
    return q[e2] && q[e2][t2] || [];
  }
  function B(e2) {
    F("callObject", e2);
  }
  const W = U("_globalUniCloudListener"), H = { RESPONSE: "response", NEED_LOGIN: "needLogin", REFRESH_TOKEN: "refreshToken" }, J = { CLIENT_DB: "clientdb", CLOUD_FUNCTION: "cloudfunction", CLOUD_OBJECT: "cloudobject" };
  function z(e2) {
    return W[e2] || (W[e2] = []), W[e2];
  }
  function V(e2, t2) {
    const n2 = z(e2);
    n2.includes(t2) || n2.push(t2);
  }
  function G(e2, t2) {
    const n2 = z(e2), s2 = n2.indexOf(t2);
    -1 !== s2 && n2.splice(s2, 1);
  }
  function Y(e2, t2) {
    const n2 = z(e2);
    for (let e3 = 0; e3 < n2.length; e3++) {
      (0, n2[e3])(t2);
    }
  }
  let Q, X = false;
  function Z() {
    return Q || (Q = new Promise((e2) => {
      X && e2(), function t2() {
        if ("function" == typeof getCurrentPages) {
          const t3 = getCurrentPages();
          t3 && t3[0] && (X = true, e2());
        }
        X || setTimeout(() => {
          t2();
        }, 30);
      }();
    }), Q);
  }
  function ee(e2) {
    const t2 = {};
    for (const n2 in e2) {
      const s2 = e2[n2];
      y(s2) && (t2[n2] = _(s2));
    }
    return t2;
  }
  class te extends Error {
    constructor(e2) {
      const t2 = e2.message || e2.errMsg || "unknown system error";
      super(t2), this.errMsg = t2, this.code = this.errCode = e2.code || e2.errCode || "SYSTEM_ERROR", this.errSubject = this.subject = e2.subject || e2.errSubject, this.cause = e2.cause, this.requestId = e2.requestId;
    }
    toJson(e2 = 0) {
      if (!(e2 >= 10))
        return e2++, { errCode: this.errCode, errMsg: this.errMsg, errSubject: this.errSubject, cause: this.cause && this.cause.toJson ? this.cause.toJson(e2) : this.cause };
    }
  }
  var ne = { request: (e2) => uni.request(e2), uploadFile: (e2) => uni.uploadFile(e2), setStorageSync: (e2, t2) => uni.setStorageSync(e2, t2), getStorageSync: (e2) => uni.getStorageSync(e2), removeStorageSync: (e2) => uni.removeStorageSync(e2), clearStorageSync: () => uni.clearStorageSync(), connectSocket: (e2) => uni.connectSocket(e2) };
  function se(e2) {
    return e2 && se(e2.__v_raw) || e2;
  }
  function re() {
    return { token: ne.getStorageSync(c) || ne.getStorageSync(h), tokenExpired: ne.getStorageSync(u) };
  }
  function ie({ token: e2, tokenExpired: t2 } = {}) {
    e2 && ne.setStorageSync(c, e2), t2 && ne.setStorageSync(u, t2);
  }
  let oe, ae;
  function ce() {
    return oe || (oe = uni.getSystemInfoSync()), oe;
  }
  function ue() {
    let e2, t2;
    try {
      if (uni.getLaunchOptionsSync) {
        if (uni.getLaunchOptionsSync.toString().indexOf("not yet implemented") > -1)
          return;
        const { scene: n2, channel: s2 } = uni.getLaunchOptionsSync();
        e2 = s2, t2 = n2;
      }
    } catch (e3) {
    }
    return { channel: e2, scene: t2 };
  }
  let he = {};
  function le() {
    const e2 = uni.getLocale && uni.getLocale() || "en";
    if (ae)
      return { ...he, ...ae, locale: e2, LOCALE: e2 };
    const t2 = ce(), { deviceId: n2, osName: s2, uniPlatform: r2, appId: i2 } = t2, o2 = ["appId", "appLanguage", "appName", "appVersion", "appVersionCode", "appWgtVersion", "browserName", "browserVersion", "deviceBrand", "deviceId", "deviceModel", "deviceType", "osName", "osVersion", "romName", "romVersion", "ua", "hostName", "hostVersion", "uniPlatform", "uniRuntimeVersion", "uniRuntimeVersionCode", "uniCompilerVersion", "uniCompilerVersionCode"];
    for (const e3 in t2)
      Object.hasOwnProperty.call(t2, e3) && -1 === o2.indexOf(e3) && delete t2[e3];
    return ae = { PLATFORM: r2, OS: s2, APPID: i2, DEVICEID: n2, ...ue(), ...t2 }, { ...he, ...ae, locale: e2, LOCALE: e2 };
  }
  var de = { sign: function(e2, t2) {
    let n2 = "";
    return Object.keys(e2).sort().forEach(function(t3) {
      e2[t3] && (n2 = n2 + "&" + t3 + "=" + e2[t3]);
    }), n2 = n2.slice(1), i(n2, t2).toString();
  }, wrappedRequest: function(e2, t2) {
    return new Promise((n2, s2) => {
      t2(Object.assign(e2, { complete(e3) {
        e3 || (e3 = {});
        const t3 = e3.data && e3.data.header && e3.data.header["x-serverless-request-id"] || e3.header && e3.header["request-id"];
        if (!e3.statusCode || e3.statusCode >= 400) {
          const n3 = e3.data && e3.data.error && e3.data.error.code || "SYS_ERR", r3 = e3.data && e3.data.error && e3.data.error.message || e3.errMsg || "request:fail";
          return s2(new te({ code: n3, message: r3, requestId: t3 }));
        }
        const r2 = e3.data;
        if (r2.error)
          return s2(new te({ code: r2.error.code, message: r2.error.message, requestId: t3 }));
        r2.result = r2.data, r2.requestId = t3, delete r2.data, n2(r2);
      } }));
    });
  }, toBase64: function(e2) {
    return a.stringify(o.parse(e2));
  } };
  var pe = class {
    constructor(e2) {
      ["spaceId", "clientSecret"].forEach((t2) => {
        if (!Object.prototype.hasOwnProperty.call(e2, t2))
          throw new Error(`${t2} required`);
      }), this.config = Object.assign({}, { endpoint: 0 === e2.spaceId.indexOf("mp-") ? "https://api.next.bspapp.com" : "https://api.bspapp.com" }, e2), this.config.provider = "aliyun", this.config.requestUrl = this.config.endpoint + "/client", this.config.envType = this.config.envType || "public", this.config.accessTokenKey = "access_token_" + this.config.spaceId, this.adapter = ne, this._getAccessTokenPromiseHub = new v({ createPromise: () => this.requestAuth(this.setupRequest({ method: "serverless.auth.user.anonymousAuthorize", params: "{}" }, "auth")).then((e3) => {
        if (!e3.result || !e3.result.accessToken)
          throw new te({ code: "AUTH_FAILED", message: "获取accessToken失败" });
        this.setAccessToken(e3.result.accessToken);
      }), retryRule: I });
    }
    get hasAccessToken() {
      return !!this.accessToken;
    }
    setAccessToken(e2) {
      this.accessToken = e2;
    }
    requestWrapped(e2) {
      return de.wrappedRequest(e2, this.adapter.request);
    }
    requestAuth(e2) {
      return this.requestWrapped(e2);
    }
    request(e2, t2) {
      return Promise.resolve().then(() => this.hasAccessToken ? t2 ? this.requestWrapped(e2) : this.requestWrapped(e2).catch((t3) => new Promise((e3, n2) => {
        !t3 || "GATEWAY_INVALID_TOKEN" !== t3.code && "InvalidParameter.InvalidToken" !== t3.code ? n2(t3) : e3();
      }).then(() => this.getAccessToken()).then(() => {
        const t4 = this.rebuildRequest(e2);
        return this.request(t4, true);
      })) : this.getAccessToken().then(() => {
        const t3 = this.rebuildRequest(e2);
        return this.request(t3, true);
      }));
    }
    rebuildRequest(e2) {
      const t2 = Object.assign({}, e2);
      return t2.data.token = this.accessToken, t2.header["x-basement-token"] = this.accessToken, t2.header["x-serverless-sign"] = de.sign(t2.data, this.config.clientSecret), t2;
    }
    setupRequest(e2, t2) {
      const n2 = Object.assign({}, e2, { spaceId: this.config.spaceId, timestamp: Date.now() }), s2 = { "Content-Type": "application/json" };
      return "auth" !== t2 && (n2.token = this.accessToken, s2["x-basement-token"] = this.accessToken), s2["x-serverless-sign"] = de.sign(n2, this.config.clientSecret), { url: this.config.requestUrl, method: "POST", data: n2, dataType: "json", header: s2 };
    }
    getAccessToken() {
      return this._getAccessTokenPromiseHub.exec();
    }
    async authorize() {
      await this.getAccessToken();
    }
    callFunction(e2) {
      const t2 = { method: "serverless.function.runtime.invoke", params: JSON.stringify({ functionTarget: e2.name, functionArgs: e2.data || {} }) };
      return this.request({ ...this.setupRequest(t2), timeout: e2.timeout });
    }
    getOSSUploadOptionsFromPath(e2) {
      const t2 = { method: "serverless.file.resource.generateProximalSign", params: JSON.stringify(e2) };
      return this.request(this.setupRequest(t2));
    }
    uploadFileToOSS({ url: e2, formData: t2, name: n2, filePath: s2, fileType: r2, onUploadProgress: i2 }) {
      return new Promise((o2, a2) => {
        const c2 = this.adapter.uploadFile({ url: e2, formData: t2, name: n2, filePath: s2, fileType: r2, header: { "X-OSS-server-side-encrpytion": "AES256" }, success(e3) {
          e3 && e3.statusCode < 400 ? o2(e3) : a2(new te({ code: "UPLOAD_FAILED", message: "文件上传失败" }));
        }, fail(e3) {
          a2(new te({ code: e3.code || "UPLOAD_FAILED", message: e3.message || e3.errMsg || "文件上传失败" }));
        } });
        "function" == typeof i2 && c2 && "function" == typeof c2.onProgressUpdate && c2.onProgressUpdate((e3) => {
          i2({ loaded: e3.totalBytesSent, total: e3.totalBytesExpectedToSend });
        });
      });
    }
    reportOSSUpload(e2) {
      const t2 = { method: "serverless.file.resource.report", params: JSON.stringify(e2) };
      return this.request(this.setupRequest(t2));
    }
    async uploadFile({ filePath: e2, cloudPath: t2, fileType: n2 = "image", cloudPathAsRealPath: s2 = false, onUploadProgress: r2, config: i2 }) {
      if ("string" !== g(t2))
        throw new te({ code: "INVALID_PARAM", message: "cloudPath必须为字符串类型" });
      if (!(t2 = t2.trim()))
        throw new te({ code: "INVALID_PARAM", message: "cloudPath不可为空" });
      if (/:\/\//.test(t2))
        throw new te({ code: "INVALID_PARAM", message: "cloudPath不合法" });
      const o2 = i2 && i2.envType || this.config.envType;
      if (s2 && ("/" !== t2[0] && (t2 = "/" + t2), t2.indexOf("\\") > -1))
        throw new te({ code: "INVALID_PARAM", message: "使用cloudPath作为路径时，cloudPath不可包含“\\”" });
      const a2 = (await this.getOSSUploadOptionsFromPath({ env: o2, filename: s2 ? t2.split("/").pop() : t2, fileId: s2 ? t2 : void 0 })).result, c2 = "https://" + a2.cdnDomain + "/" + a2.ossPath, { securityToken: u2, accessKeyId: h2, signature: l2, host: d2, ossPath: p2, id: f2, policy: m2, ossCallbackUrl: y2 } = a2, _2 = { "Cache-Control": "max-age=2592000", "Content-Disposition": "attachment", OSSAccessKeyId: h2, Signature: l2, host: d2, id: f2, key: p2, policy: m2, success_action_status: 200 };
      if (u2 && (_2["x-oss-security-token"] = u2), y2) {
        const e3 = JSON.stringify({ callbackUrl: y2, callbackBody: JSON.stringify({ fileId: f2, spaceId: this.config.spaceId }), callbackBodyType: "application/json" });
        _2.callback = de.toBase64(e3);
      }
      const w2 = { url: "https://" + a2.host, formData: _2, fileName: "file", name: "file", filePath: e2, fileType: n2 };
      if (await this.uploadFileToOSS(Object.assign({}, w2, { onUploadProgress: r2 })), y2)
        return { success: true, filePath: e2, fileID: c2 };
      if ((await this.reportOSSUpload({ id: f2 })).success)
        return { success: true, filePath: e2, fileID: c2 };
      throw new te({ code: "UPLOAD_FAILED", message: "文件上传失败" });
    }
    getTempFileURL({ fileList: e2 } = {}) {
      return new Promise((t2, n2) => {
        Array.isArray(e2) && 0 !== e2.length || n2(new te({ code: "INVALID_PARAM", message: "fileList的元素必须是非空的字符串" })), this.getFileInfo({ fileList: e2 }).then((n3) => {
          t2({ fileList: e2.map((e3, t3) => {
            const s2 = n3.fileList[t3];
            return { fileID: e3, tempFileURL: s2 && s2.url || e3 };
          }) });
        });
      });
    }
    async getFileInfo({ fileList: e2 } = {}) {
      if (!Array.isArray(e2) || 0 === e2.length)
        throw new te({ code: "INVALID_PARAM", message: "fileList的元素必须是非空的字符串" });
      const t2 = { method: "serverless.file.resource.info", params: JSON.stringify({ id: e2.map((e3) => e3.split("?")[0]).join(",") }) };
      return { fileList: (await this.request(this.setupRequest(t2))).result };
    }
  };
  var fe = { init(e2) {
    const t2 = new pe(e2), n2 = { signInAnonymously: function() {
      return t2.authorize();
    }, getLoginState: function() {
      return Promise.resolve(false);
    } };
    return t2.auth = function() {
      return n2;
    }, t2.customAuth = t2.auth, t2;
  } };
  const ge = "undefined" != typeof location && "http:" === location.protocol ? "http:" : "https:";
  var me;
  !function(e2) {
    e2.local = "local", e2.none = "none", e2.session = "session";
  }(me || (me = {}));
  var ye = function() {
  }, _e = n(function(e2, t2) {
    var n2;
    e2.exports = (n2 = r, function(e3) {
      var t3 = n2, s2 = t3.lib, r2 = s2.WordArray, i2 = s2.Hasher, o2 = t3.algo, a2 = [], c2 = [];
      !function() {
        function t4(t5) {
          for (var n4 = e3.sqrt(t5), s4 = 2; s4 <= n4; s4++)
            if (!(t5 % s4))
              return false;
          return true;
        }
        function n3(e4) {
          return 4294967296 * (e4 - (0 | e4)) | 0;
        }
        for (var s3 = 2, r3 = 0; r3 < 64; )
          t4(s3) && (r3 < 8 && (a2[r3] = n3(e3.pow(s3, 0.5))), c2[r3] = n3(e3.pow(s3, 1 / 3)), r3++), s3++;
      }();
      var u2 = [], h2 = o2.SHA256 = i2.extend({ _doReset: function() {
        this._hash = new r2.init(a2.slice(0));
      }, _doProcessBlock: function(e4, t4) {
        for (var n3 = this._hash.words, s3 = n3[0], r3 = n3[1], i3 = n3[2], o3 = n3[3], a3 = n3[4], h3 = n3[5], l2 = n3[6], d2 = n3[7], p2 = 0; p2 < 64; p2++) {
          if (p2 < 16)
            u2[p2] = 0 | e4[t4 + p2];
          else {
            var f2 = u2[p2 - 15], g2 = (f2 << 25 | f2 >>> 7) ^ (f2 << 14 | f2 >>> 18) ^ f2 >>> 3, m2 = u2[p2 - 2], y2 = (m2 << 15 | m2 >>> 17) ^ (m2 << 13 | m2 >>> 19) ^ m2 >>> 10;
            u2[p2] = g2 + u2[p2 - 7] + y2 + u2[p2 - 16];
          }
          var _2 = s3 & r3 ^ s3 & i3 ^ r3 & i3, w2 = (s3 << 30 | s3 >>> 2) ^ (s3 << 19 | s3 >>> 13) ^ (s3 << 10 | s3 >>> 22), I2 = d2 + ((a3 << 26 | a3 >>> 6) ^ (a3 << 21 | a3 >>> 11) ^ (a3 << 7 | a3 >>> 25)) + (a3 & h3 ^ ~a3 & l2) + c2[p2] + u2[p2];
          d2 = l2, l2 = h3, h3 = a3, a3 = o3 + I2 | 0, o3 = i3, i3 = r3, r3 = s3, s3 = I2 + (w2 + _2) | 0;
        }
        n3[0] = n3[0] + s3 | 0, n3[1] = n3[1] + r3 | 0, n3[2] = n3[2] + i3 | 0, n3[3] = n3[3] + o3 | 0, n3[4] = n3[4] + a3 | 0, n3[5] = n3[5] + h3 | 0, n3[6] = n3[6] + l2 | 0, n3[7] = n3[7] + d2 | 0;
      }, _doFinalize: function() {
        var t4 = this._data, n3 = t4.words, s3 = 8 * this._nDataBytes, r3 = 8 * t4.sigBytes;
        return n3[r3 >>> 5] |= 128 << 24 - r3 % 32, n3[14 + (r3 + 64 >>> 9 << 4)] = e3.floor(s3 / 4294967296), n3[15 + (r3 + 64 >>> 9 << 4)] = s3, t4.sigBytes = 4 * n3.length, this._process(), this._hash;
      }, clone: function() {
        var e4 = i2.clone.call(this);
        return e4._hash = this._hash.clone(), e4;
      } });
      t3.SHA256 = i2._createHelper(h2), t3.HmacSHA256 = i2._createHmacHelper(h2);
    }(Math), n2.SHA256);
  }), we = _e, Ie = n(function(e2, t2) {
    e2.exports = r.HmacSHA256;
  });
  const ve = () => {
    let e2;
    if (!Promise) {
      e2 = () => {
      }, e2.promise = {};
      const t3 = () => {
        throw new te({ message: 'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.' });
      };
      return Object.defineProperty(e2.promise, "then", { get: t3 }), Object.defineProperty(e2.promise, "catch", { get: t3 }), e2;
    }
    const t2 = new Promise((t3, n2) => {
      e2 = (e3, s2) => e3 ? n2(e3) : t3(s2);
    });
    return e2.promise = t2, e2;
  };
  function Se(e2) {
    return void 0 === e2;
  }
  function Te(e2) {
    return "[object Null]" === Object.prototype.toString.call(e2);
  }
  function be(e2 = "") {
    return e2.replace(/([\s\S]+)\s+(请前往云开发AI小助手查看问题：.*)/, "$1");
  }
  function Ee(e2 = 32) {
    const t2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let n2 = "";
    for (let s2 = 0; s2 < e2; s2++)
      n2 += t2.charAt(Math.floor(62 * Math.random()));
    return n2;
  }
  var ke;
  function Ae(e2) {
    const t2 = (n2 = e2, "[object Array]" === Object.prototype.toString.call(n2) ? e2 : [e2]);
    var n2;
    for (const e3 of t2) {
      const { isMatch: t3, genAdapter: n3, runtime: s2 } = e3;
      if (t3())
        return { adapter: n3(), runtime: s2 };
    }
  }
  !function(e2) {
    e2.WEB = "web", e2.WX_MP = "wx_mp";
  }(ke || (ke = {}));
  const Pe = { adapter: null, runtime: void 0 }, Ce = ["anonymousUuidKey"];
  class Oe extends ye {
    constructor() {
      super(), Pe.adapter.root.tcbObject || (Pe.adapter.root.tcbObject = {});
    }
    setItem(e2, t2) {
      Pe.adapter.root.tcbObject[e2] = t2;
    }
    getItem(e2) {
      return Pe.adapter.root.tcbObject[e2];
    }
    removeItem(e2) {
      delete Pe.adapter.root.tcbObject[e2];
    }
    clear() {
      delete Pe.adapter.root.tcbObject;
    }
  }
  function xe(e2, t2) {
    switch (e2) {
      case "local":
        return t2.localStorage || new Oe();
      case "none":
        return new Oe();
      default:
        return t2.sessionStorage || new Oe();
    }
  }
  class Ne {
    constructor(e2) {
      if (!this._storage) {
        this._persistence = Pe.adapter.primaryStorage || e2.persistence, this._storage = xe(this._persistence, Pe.adapter);
        const t2 = `access_token_${e2.env}`, n2 = `access_token_expire_${e2.env}`, s2 = `refresh_token_${e2.env}`, r2 = `anonymous_uuid_${e2.env}`, i2 = `login_type_${e2.env}`, o2 = "device_id", a2 = `token_type_${e2.env}`, c2 = `user_info_${e2.env}`;
        this.keys = { accessTokenKey: t2, accessTokenExpireKey: n2, refreshTokenKey: s2, anonymousUuidKey: r2, loginTypeKey: i2, userInfoKey: c2, deviceIdKey: o2, tokenTypeKey: a2 };
      }
    }
    updatePersistence(e2) {
      if (e2 === this._persistence)
        return;
      const t2 = "local" === this._persistence;
      this._persistence = e2;
      const n2 = xe(e2, Pe.adapter);
      for (const e3 in this.keys) {
        const s2 = this.keys[e3];
        if (t2 && Ce.includes(e3))
          continue;
        const r2 = this._storage.getItem(s2);
        Se(r2) || Te(r2) || (n2.setItem(s2, r2), this._storage.removeItem(s2));
      }
      this._storage = n2;
    }
    setStore(e2, t2, n2) {
      if (!this._storage)
        return;
      const s2 = { version: n2 || "localCachev1", content: t2 }, r2 = JSON.stringify(s2);
      try {
        this._storage.setItem(e2, r2);
      } catch (e3) {
        throw e3;
      }
    }
    getStore(e2, t2) {
      try {
        if (!this._storage)
          return;
      } catch (e3) {
        return "";
      }
      t2 = t2 || "localCachev1";
      const n2 = this._storage.getItem(e2);
      if (!n2)
        return "";
      if (n2.indexOf(t2) >= 0) {
        return JSON.parse(n2).content;
      }
      return "";
    }
    removeStore(e2) {
      this._storage.removeItem(e2);
    }
  }
  const Re = {}, Le = {};
  function Ue(e2) {
    return Re[e2];
  }
  class De {
    constructor(e2, t2) {
      this.data = t2 || null, this.name = e2;
    }
  }
  class Me extends De {
    constructor(e2, t2) {
      super("error", { error: e2, data: t2 }), this.error = e2;
    }
  }
  const qe = new class {
    constructor() {
      this._listeners = {};
    }
    on(e2, t2) {
      return function(e3, t3, n2) {
        n2[e3] = n2[e3] || [], n2[e3].push(t3);
      }(e2, t2, this._listeners), this;
    }
    off(e2, t2) {
      return function(e3, t3, n2) {
        if (n2 && n2[e3]) {
          const s2 = n2[e3].indexOf(t3);
          -1 !== s2 && n2[e3].splice(s2, 1);
        }
      }(e2, t2, this._listeners), this;
    }
    fire(e2, t2) {
      if (e2 instanceof Me)
        return console.error(e2.error), this;
      const n2 = "string" == typeof e2 ? new De(e2, t2 || {}) : e2;
      const s2 = n2.name;
      if (this._listens(s2)) {
        n2.target = this;
        const e3 = this._listeners[s2] ? [...this._listeners[s2]] : [];
        for (const t3 of e3)
          t3.call(this, n2);
      }
      return this;
    }
    _listens(e2) {
      return this._listeners[e2] && this._listeners[e2].length > 0;
    }
  }();
  function Fe(e2, t2) {
    qe.on(e2, t2);
  }
  function Ke(e2, t2 = {}) {
    qe.fire(e2, t2);
  }
  function je(e2, t2) {
    qe.off(e2, t2);
  }
  const $e = "loginStateChanged", Be = "loginStateExpire", We = "loginTypeChanged", He = "anonymousConverted", Je = "refreshAccessToken";
  var ze;
  !function(e2) {
    e2.ANONYMOUS = "ANONYMOUS", e2.WECHAT = "WECHAT", e2.WECHAT_PUBLIC = "WECHAT-PUBLIC", e2.WECHAT_OPEN = "WECHAT-OPEN", e2.CUSTOM = "CUSTOM", e2.EMAIL = "EMAIL", e2.USERNAME = "USERNAME", e2.NULL = "NULL";
  }(ze || (ze = {}));
  class Ve {
    constructor() {
      this._fnPromiseMap = /* @__PURE__ */ new Map();
    }
    async run(e2, t2) {
      let n2 = this._fnPromiseMap.get(e2);
      return n2 || (n2 = new Promise(async (n3, s2) => {
        try {
          await this._runIdlePromise();
          const e3 = t2();
          n3(await e3);
        } catch (e3) {
          s2(e3);
        } finally {
          this._fnPromiseMap.delete(e2);
        }
      }), this._fnPromiseMap.set(e2, n2)), n2;
    }
    _runIdlePromise() {
      return Promise.resolve();
    }
  }
  class Ge {
    constructor(e2) {
      this._singlePromise = new Ve(), this._cache = Ue(e2.env), this._baseURL = `https://${e2.env}.ap-shanghai.tcb-api.tencentcloudapi.com`, this._reqClass = new Pe.adapter.reqClass({ timeout: e2.timeout, timeoutMsg: `请求在${e2.timeout / 1e3}s内未完成，已中断`, restrictedMethods: ["post"] });
    }
    _getDeviceId() {
      if (this._deviceID)
        return this._deviceID;
      const { deviceIdKey: e2 } = this._cache.keys;
      let t2 = this._cache.getStore(e2);
      return "string" == typeof t2 && t2.length >= 16 && t2.length <= 48 || (t2 = Ee(), this._cache.setStore(e2, t2)), this._deviceID = t2, t2;
    }
    async _request(e2, t2, n2 = {}) {
      const s2 = { "x-request-id": Ee(), "x-device-id": this._getDeviceId() };
      if (n2.withAccessToken) {
        const { tokenTypeKey: e3 } = this._cache.keys, t3 = await this.getAccessToken(), n3 = this._cache.getStore(e3);
        s2.authorization = `${n3} ${t3}`;
      }
      return this._reqClass["get" === n2.method ? "get" : "post"]({ url: `${this._baseURL}${e2}`, data: t2, headers: s2 });
    }
    async _fetchAccessToken() {
      const { loginTypeKey: e2, accessTokenKey: t2, accessTokenExpireKey: n2, tokenTypeKey: s2 } = this._cache.keys, r2 = this._cache.getStore(e2);
      if (r2 && r2 !== ze.ANONYMOUS)
        throw new te({ code: "INVALID_OPERATION", message: "非匿名登录不支持刷新 access token" });
      const i2 = await this._singlePromise.run("fetchAccessToken", async () => (await this._request("/auth/v1/signin/anonymously", {}, { method: "post" })).data), { access_token: o2, expires_in: a2, token_type: c2 } = i2;
      return this._cache.setStore(s2, c2), this._cache.setStore(t2, o2), this._cache.setStore(n2, Date.now() + 1e3 * a2), o2;
    }
    isAccessTokenExpired(e2, t2) {
      let n2 = true;
      return e2 && t2 && (n2 = t2 < Date.now()), n2;
    }
    async getAccessToken() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2 } = this._cache.keys, n2 = this._cache.getStore(e2), s2 = this._cache.getStore(t2);
      return this.isAccessTokenExpired(n2, s2) ? this._fetchAccessToken() : n2;
    }
    async refreshAccessToken() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2, loginTypeKey: n2 } = this._cache.keys;
      return this._cache.removeStore(e2), this._cache.removeStore(t2), this._cache.setStore(n2, ze.ANONYMOUS), this.getAccessToken();
    }
    async getUserInfo() {
      return this._singlePromise.run("getUserInfo", async () => (await this._request("/auth/v1/user/me", {}, { withAccessToken: true, method: "get" })).data);
    }
  }
  const Ye = ["auth.getJwt", "auth.logout", "auth.signInWithTicket", "auth.signInAnonymously", "auth.signIn", "auth.fetchAccessTokenWithRefreshToken", "auth.signUpWithEmailAndPassword", "auth.activateEndUserMail", "auth.sendPasswordResetEmail", "auth.resetPasswordWithToken", "auth.isUsernameRegistered"], Qe = { "X-SDK-Version": "1.3.5" };
  function Xe(e2, t2, n2) {
    const s2 = e2[t2];
    e2[t2] = function(t3) {
      const r2 = {}, i2 = {};
      n2.forEach((n3) => {
        const { data: s3, headers: o3 } = n3.call(e2, t3);
        Object.assign(r2, s3), Object.assign(i2, o3);
      });
      const o2 = t3.data;
      return o2 && (() => {
        var e3;
        if (e3 = o2, "[object FormData]" !== Object.prototype.toString.call(e3))
          t3.data = { ...o2, ...r2 };
        else
          for (const e4 in r2)
            o2.append(e4, r2[e4]);
      })(), t3.headers = { ...t3.headers || {}, ...i2 }, s2.call(e2, t3);
    };
  }
  function Ze() {
    const e2 = Math.random().toString(16).slice(2);
    return { data: { seqId: e2 }, headers: { ...Qe, "x-seqid": e2 } };
  }
  class et {
    constructor(e2 = {}) {
      var t2;
      this.config = e2, this._reqClass = new Pe.adapter.reqClass({ timeout: this.config.timeout, timeoutMsg: `请求在${this.config.timeout / 1e3}s内未完成，已中断`, restrictedMethods: ["post"] }), this._cache = Ue(this.config.env), this._localCache = (t2 = this.config.env, Le[t2]), this.oauth = new Ge(this.config), Xe(this._reqClass, "post", [Ze]), Xe(this._reqClass, "upload", [Ze]), Xe(this._reqClass, "download", [Ze]);
    }
    async post(e2) {
      return await this._reqClass.post(e2);
    }
    async upload(e2) {
      return await this._reqClass.upload(e2);
    }
    async download(e2) {
      return await this._reqClass.download(e2);
    }
    async refreshAccessToken() {
      let e2, t2;
      this._refreshAccessTokenPromise || (this._refreshAccessTokenPromise = this._refreshAccessToken());
      try {
        e2 = await this._refreshAccessTokenPromise;
      } catch (e3) {
        t2 = e3;
      }
      if (this._refreshAccessTokenPromise = null, this._shouldRefreshAccessTokenHook = null, t2)
        throw t2;
      return e2;
    }
    async _refreshAccessToken() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2, refreshTokenKey: n2, loginTypeKey: s2, anonymousUuidKey: r2 } = this._cache.keys;
      this._cache.removeStore(e2), this._cache.removeStore(t2);
      let i2 = this._cache.getStore(n2);
      if (!i2)
        throw new te({ message: "未登录CloudBase" });
      const o2 = { refresh_token: i2 }, a2 = await this.request("auth.fetchAccessTokenWithRefreshToken", o2);
      if (a2.data.code) {
        const { code: e3 } = a2.data;
        if ("SIGN_PARAM_INVALID" === e3 || "REFRESH_TOKEN_EXPIRED" === e3 || "INVALID_REFRESH_TOKEN" === e3) {
          if (this._cache.getStore(s2) === ze.ANONYMOUS && "INVALID_REFRESH_TOKEN" === e3) {
            const e4 = this._cache.getStore(r2), t3 = this._cache.getStore(n2), s3 = await this.send("auth.signInAnonymously", { anonymous_uuid: e4, refresh_token: t3 });
            return this.setRefreshToken(s3.refresh_token), this._refreshAccessToken();
          }
          Ke(Be), this._cache.removeStore(n2);
        }
        throw new te({ code: a2.data.code, message: `刷新access token失败：${a2.data.code}` });
      }
      if (a2.data.access_token)
        return Ke(Je), this._cache.setStore(e2, a2.data.access_token), this._cache.setStore(t2, a2.data.access_token_expire + Date.now()), { accessToken: a2.data.access_token, accessTokenExpire: a2.data.access_token_expire };
      a2.data.refresh_token && (this._cache.removeStore(n2), this._cache.setStore(n2, a2.data.refresh_token), this._refreshAccessToken());
    }
    async getAccessToken() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2, refreshTokenKey: n2 } = this._cache.keys;
      if (!this._cache.getStore(n2))
        throw new te({ message: "refresh token不存在，登录状态异常" });
      let s2 = this._cache.getStore(e2), r2 = this._cache.getStore(t2), i2 = true;
      return this._shouldRefreshAccessTokenHook && !await this._shouldRefreshAccessTokenHook(s2, r2) && (i2 = false), (!s2 || !r2 || r2 < Date.now()) && i2 ? this.refreshAccessToken() : { accessToken: s2, accessTokenExpire: r2 };
    }
    async request(e2, t2, n2) {
      const s2 = `x-tcb-trace_${this.config.env}`;
      let r2 = "application/x-www-form-urlencoded";
      const i2 = { action: e2, env: this.config.env, dataVersion: "2019-08-16", ...t2 };
      let o2;
      if (-1 === Ye.indexOf(e2) && (this._cache.keys, i2.access_token = await this.oauth.getAccessToken()), "storage.uploadFile" === e2) {
        o2 = new FormData();
        for (let e3 in o2)
          o2.hasOwnProperty(e3) && void 0 !== o2[e3] && o2.append(e3, i2[e3]);
        r2 = "multipart/form-data";
      } else {
        r2 = "application/json", o2 = {};
        for (let e3 in i2)
          void 0 !== i2[e3] && (o2[e3] = i2[e3]);
      }
      let a2 = { headers: { "content-type": r2 } };
      n2 && n2.timeout && (a2.timeout = n2.timeout), n2 && n2.onUploadProgress && (a2.onUploadProgress = n2.onUploadProgress);
      const c2 = this._localCache.getStore(s2);
      c2 && (a2.headers["X-TCB-Trace"] = c2);
      const { parse: u2, inQuery: h2, search: l2 } = t2;
      let d2 = { env: this.config.env };
      u2 && (d2.parse = true), h2 && (d2 = { ...h2, ...d2 });
      let p2 = function(e3, t3, n3 = {}) {
        const s3 = /\?/.test(t3);
        let r3 = "";
        for (let e4 in n3)
          "" === r3 ? !s3 && (t3 += "?") : r3 += "&", r3 += `${e4}=${encodeURIComponent(n3[e4])}`;
        return /^http(s)?\:\/\//.test(t3 += r3) ? t3 : `${e3}${t3}`;
      }(ge, "//tcb-api.tencentcloudapi.com/web", d2);
      l2 && (p2 += l2);
      const f2 = await this.post({ url: p2, data: o2, ...a2 }), g2 = f2.header && f2.header["x-tcb-trace"];
      if (g2 && this._localCache.setStore(s2, g2), 200 !== Number(f2.status) && 200 !== Number(f2.statusCode) || !f2.data)
        throw new te({ code: "NETWORK_ERROR", message: "network request error" });
      return f2;
    }
    async send(e2, t2 = {}, n2 = {}) {
      const s2 = await this.request(e2, t2, { ...n2, onUploadProgress: t2.onUploadProgress });
      if (("ACCESS_TOKEN_DISABLED" === s2.data.code || "ACCESS_TOKEN_EXPIRED" === s2.data.code) && -1 === Ye.indexOf(e2)) {
        await this.oauth.refreshAccessToken();
        const s3 = await this.request(e2, t2, { ...n2, onUploadProgress: t2.onUploadProgress });
        if (s3.data.code)
          throw new te({ code: s3.data.code, message: be(s3.data.message) });
        return s3.data;
      }
      if (s2.data.code)
        throw new te({ code: s2.data.code, message: be(s2.data.message) });
      return s2.data;
    }
    setRefreshToken(e2) {
      const { accessTokenKey: t2, accessTokenExpireKey: n2, refreshTokenKey: s2 } = this._cache.keys;
      this._cache.removeStore(t2), this._cache.removeStore(n2), this._cache.setStore(s2, e2);
    }
  }
  const tt$1 = {};
  function nt(e2) {
    return tt$1[e2];
  }
  class st {
    constructor(e2) {
      this.config = e2, this._cache = Ue(e2.env), this._request = nt(e2.env);
    }
    setRefreshToken(e2) {
      const { accessTokenKey: t2, accessTokenExpireKey: n2, refreshTokenKey: s2 } = this._cache.keys;
      this._cache.removeStore(t2), this._cache.removeStore(n2), this._cache.setStore(s2, e2);
    }
    setAccessToken(e2, t2) {
      const { accessTokenKey: n2, accessTokenExpireKey: s2 } = this._cache.keys;
      this._cache.setStore(n2, e2), this._cache.setStore(s2, t2);
    }
    async refreshUserInfo() {
      const { data: e2 } = await this._request.send("auth.getUserInfo", {});
      return this.setLocalUserInfo(e2), e2;
    }
    setLocalUserInfo(e2) {
      const { userInfoKey: t2 } = this._cache.keys;
      this._cache.setStore(t2, e2);
    }
  }
  class rt {
    constructor(e2) {
      if (!e2)
        throw new te({ code: "PARAM_ERROR", message: "envId is not defined" });
      this._envId = e2, this._cache = Ue(this._envId), this._request = nt(this._envId), this.setUserInfo();
    }
    linkWithTicket(e2) {
      if ("string" != typeof e2)
        throw new te({ code: "PARAM_ERROR", message: "ticket must be string" });
      return this._request.send("auth.linkWithTicket", { ticket: e2 });
    }
    linkWithRedirect(e2) {
      e2.signInWithRedirect();
    }
    updatePassword(e2, t2) {
      return this._request.send("auth.updatePassword", { oldPassword: t2, newPassword: e2 });
    }
    updateEmail(e2) {
      return this._request.send("auth.updateEmail", { newEmail: e2 });
    }
    updateUsername(e2) {
      if ("string" != typeof e2)
        throw new te({ code: "PARAM_ERROR", message: "username must be a string" });
      return this._request.send("auth.updateUsername", { username: e2 });
    }
    async getLinkedUidList() {
      const { data: e2 } = await this._request.send("auth.getLinkedUidList", {});
      let t2 = false;
      const { users: n2 } = e2;
      return n2.forEach((e3) => {
        e3.wxOpenId && e3.wxPublicId && (t2 = true);
      }), { users: n2, hasPrimaryUid: t2 };
    }
    setPrimaryUid(e2) {
      return this._request.send("auth.setPrimaryUid", { uid: e2 });
    }
    unlink(e2) {
      return this._request.send("auth.unlink", { platform: e2 });
    }
    async update(e2) {
      const { nickName: t2, gender: n2, avatarUrl: s2, province: r2, country: i2, city: o2 } = e2, { data: a2 } = await this._request.send("auth.updateUserInfo", { nickName: t2, gender: n2, avatarUrl: s2, province: r2, country: i2, city: o2 });
      this.setLocalUserInfo(a2);
    }
    async refresh() {
      const e2 = await this._request.oauth.getUserInfo();
      return this.setLocalUserInfo(e2), e2;
    }
    setUserInfo() {
      const { userInfoKey: e2 } = this._cache.keys, t2 = this._cache.getStore(e2);
      ["uid", "loginType", "openid", "wxOpenId", "wxPublicId", "unionId", "qqMiniOpenId", "email", "hasPassword", "customUserId", "nickName", "gender", "avatarUrl"].forEach((e3) => {
        this[e3] = t2[e3];
      }), this.location = { country: t2.country, province: t2.province, city: t2.city };
    }
    setLocalUserInfo(e2) {
      const { userInfoKey: t2 } = this._cache.keys;
      this._cache.setStore(t2, e2), this.setUserInfo();
    }
  }
  class it {
    constructor(e2) {
      if (!e2)
        throw new te({ code: "PARAM_ERROR", message: "envId is not defined" });
      this._cache = Ue(e2);
      const { refreshTokenKey: t2, accessTokenKey: n2, accessTokenExpireKey: s2 } = this._cache.keys, r2 = this._cache.getStore(t2), i2 = this._cache.getStore(n2), o2 = this._cache.getStore(s2);
      this.credential = { refreshToken: r2, accessToken: i2, accessTokenExpire: o2 }, this.user = new rt(e2);
    }
    get isAnonymousAuth() {
      return this.loginType === ze.ANONYMOUS;
    }
    get isCustomAuth() {
      return this.loginType === ze.CUSTOM;
    }
    get isWeixinAuth() {
      return this.loginType === ze.WECHAT || this.loginType === ze.WECHAT_OPEN || this.loginType === ze.WECHAT_PUBLIC;
    }
    get loginType() {
      return this._cache.getStore(this._cache.keys.loginTypeKey);
    }
  }
  class ot extends st {
    async signIn() {
      this._cache.updatePersistence("local"), await this._request.oauth.getAccessToken(), Ke($e), Ke(We, { env: this.config.env, loginType: ze.ANONYMOUS, persistence: "local" });
      const e2 = new it(this.config.env);
      return await e2.user.refresh(), e2;
    }
    async linkAndRetrieveDataWithTicket(e2) {
      const { anonymousUuidKey: t2, refreshTokenKey: n2 } = this._cache.keys, s2 = this._cache.getStore(t2), r2 = this._cache.getStore(n2), i2 = await this._request.send("auth.linkAndRetrieveDataWithTicket", { anonymous_uuid: s2, refresh_token: r2, ticket: e2 });
      if (i2.refresh_token)
        return this._clearAnonymousUUID(), this.setRefreshToken(i2.refresh_token), await this._request.refreshAccessToken(), Ke(He, { env: this.config.env }), Ke(We, { loginType: ze.CUSTOM, persistence: "local" }), { credential: { refreshToken: i2.refresh_token } };
      throw new te({ message: "匿名转化失败" });
    }
    _setAnonymousUUID(e2) {
      const { anonymousUuidKey: t2, loginTypeKey: n2 } = this._cache.keys;
      this._cache.removeStore(t2), this._cache.setStore(t2, e2), this._cache.setStore(n2, ze.ANONYMOUS);
    }
    _clearAnonymousUUID() {
      this._cache.removeStore(this._cache.keys.anonymousUuidKey);
    }
  }
  class at extends st {
    async signIn(e2) {
      if ("string" != typeof e2)
        throw new te({ code: "PARAM_ERROR", message: "ticket must be a string" });
      const { refreshTokenKey: t2 } = this._cache.keys, n2 = await this._request.send("auth.signInWithTicket", { ticket: e2, refresh_token: this._cache.getStore(t2) || "" });
      if (n2.refresh_token)
        return this.setRefreshToken(n2.refresh_token), await this._request.refreshAccessToken(), Ke($e), Ke(We, { env: this.config.env, loginType: ze.CUSTOM, persistence: this.config.persistence }), await this.refreshUserInfo(), new it(this.config.env);
      throw new te({ message: "自定义登录失败" });
    }
  }
  class ct extends st {
    async signIn(e2, t2) {
      if ("string" != typeof e2)
        throw new te({ code: "PARAM_ERROR", message: "email must be a string" });
      const { refreshTokenKey: n2 } = this._cache.keys, s2 = await this._request.send("auth.signIn", { loginType: "EMAIL", email: e2, password: t2, refresh_token: this._cache.getStore(n2) || "" }), { refresh_token: r2, access_token: i2, access_token_expire: o2 } = s2;
      if (r2)
        return this.setRefreshToken(r2), i2 && o2 ? this.setAccessToken(i2, o2) : await this._request.refreshAccessToken(), await this.refreshUserInfo(), Ke($e), Ke(We, { env: this.config.env, loginType: ze.EMAIL, persistence: this.config.persistence }), new it(this.config.env);
      throw s2.code ? new te({ code: s2.code, message: `邮箱登录失败: ${s2.message}` }) : new te({ message: "邮箱登录失败" });
    }
    async activate(e2) {
      return this._request.send("auth.activateEndUserMail", { token: e2 });
    }
    async resetPasswordWithToken(e2, t2) {
      return this._request.send("auth.resetPasswordWithToken", { token: e2, newPassword: t2 });
    }
  }
  class ut extends st {
    async signIn(e2, t2) {
      if ("string" != typeof e2)
        throw new te({ code: "PARAM_ERROR", message: "username must be a string" });
      "string" != typeof t2 && (t2 = "", console.warn("password is empty"));
      const { refreshTokenKey: n2 } = this._cache.keys, s2 = await this._request.send("auth.signIn", { loginType: ze.USERNAME, username: e2, password: t2, refresh_token: this._cache.getStore(n2) || "" }), { refresh_token: r2, access_token_expire: i2, access_token: o2 } = s2;
      if (r2)
        return this.setRefreshToken(r2), o2 && i2 ? this.setAccessToken(o2, i2) : await this._request.refreshAccessToken(), await this.refreshUserInfo(), Ke($e), Ke(We, { env: this.config.env, loginType: ze.USERNAME, persistence: this.config.persistence }), new it(this.config.env);
      throw s2.code ? new te({ code: s2.code, message: `用户名密码登录失败: ${s2.message}` }) : new te({ message: "用户名密码登录失败" });
    }
  }
  class ht {
    constructor(e2) {
      this.config = e2, this._cache = Ue(e2.env), this._request = nt(e2.env), this._onAnonymousConverted = this._onAnonymousConverted.bind(this), this._onLoginTypeChanged = this._onLoginTypeChanged.bind(this), Fe(We, this._onLoginTypeChanged);
    }
    get currentUser() {
      const e2 = this.hasLoginState();
      return e2 && e2.user || null;
    }
    get loginType() {
      return this._cache.getStore(this._cache.keys.loginTypeKey);
    }
    anonymousAuthProvider() {
      return new ot(this.config);
    }
    customAuthProvider() {
      return new at(this.config);
    }
    emailAuthProvider() {
      return new ct(this.config);
    }
    usernameAuthProvider() {
      return new ut(this.config);
    }
    async signInAnonymously() {
      return new ot(this.config).signIn();
    }
    async signInWithEmailAndPassword(e2, t2) {
      return new ct(this.config).signIn(e2, t2);
    }
    signInWithUsernameAndPassword(e2, t2) {
      return new ut(this.config).signIn(e2, t2);
    }
    async linkAndRetrieveDataWithTicket(e2) {
      this._anonymousAuthProvider || (this._anonymousAuthProvider = new ot(this.config)), Fe(He, this._onAnonymousConverted);
      return await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e2);
    }
    async signOut() {
      if (this.loginType === ze.ANONYMOUS)
        throw new te({ message: "匿名用户不支持登出操作" });
      const { refreshTokenKey: e2, accessTokenKey: t2, accessTokenExpireKey: n2 } = this._cache.keys, s2 = this._cache.getStore(e2);
      if (!s2)
        return;
      const r2 = await this._request.send("auth.logout", { refresh_token: s2 });
      return this._cache.removeStore(e2), this._cache.removeStore(t2), this._cache.removeStore(n2), Ke($e), Ke(We, { env: this.config.env, loginType: ze.NULL, persistence: this.config.persistence }), r2;
    }
    async signUpWithEmailAndPassword(e2, t2) {
      return this._request.send("auth.signUpWithEmailAndPassword", { email: e2, password: t2 });
    }
    async sendPasswordResetEmail(e2) {
      return this._request.send("auth.sendPasswordResetEmail", { email: e2 });
    }
    onLoginStateChanged(e2) {
      Fe($e, () => {
        const t3 = this.hasLoginState();
        e2.call(this, t3);
      });
      const t2 = this.hasLoginState();
      e2.call(this, t2);
    }
    onLoginStateExpired(e2) {
      Fe(Be, e2.bind(this));
    }
    onAccessTokenRefreshed(e2) {
      Fe(Je, e2.bind(this));
    }
    onAnonymousConverted(e2) {
      Fe(He, e2.bind(this));
    }
    onLoginTypeChanged(e2) {
      Fe(We, () => {
        const t2 = this.hasLoginState();
        e2.call(this, t2);
      });
    }
    async getAccessToken() {
      return { accessToken: (await this._request.getAccessToken()).accessToken, env: this.config.env };
    }
    hasLoginState() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2 } = this._cache.keys, n2 = this._cache.getStore(e2), s2 = this._cache.getStore(t2);
      return this._request.oauth.isAccessTokenExpired(n2, s2) ? null : new it(this.config.env);
    }
    async isUsernameRegistered(e2) {
      if ("string" != typeof e2)
        throw new te({ code: "PARAM_ERROR", message: "username must be a string" });
      const { data: t2 } = await this._request.send("auth.isUsernameRegistered", { username: e2 });
      return t2 && t2.isRegistered;
    }
    getLoginState() {
      return Promise.resolve(this.hasLoginState());
    }
    async signInWithTicket(e2) {
      return new at(this.config).signIn(e2);
    }
    shouldRefreshAccessToken(e2) {
      this._request._shouldRefreshAccessTokenHook = e2.bind(this);
    }
    getUserInfo() {
      return this._request.send("auth.getUserInfo", {}).then((e2) => e2.code ? e2 : { ...e2.data, requestId: e2.seqId });
    }
    getAuthHeader() {
      const { refreshTokenKey: e2, accessTokenKey: t2 } = this._cache.keys, n2 = this._cache.getStore(e2);
      return { "x-cloudbase-credentials": this._cache.getStore(t2) + "/@@/" + n2 };
    }
    _onAnonymousConverted(e2) {
      const { env: t2 } = e2.data;
      t2 === this.config.env && this._cache.updatePersistence(this.config.persistence);
    }
    _onLoginTypeChanged(e2) {
      const { loginType: t2, persistence: n2, env: s2 } = e2.data;
      s2 === this.config.env && (this._cache.updatePersistence(n2), this._cache.setStore(this._cache.keys.loginTypeKey, t2));
    }
  }
  const lt = function(e2, t2) {
    t2 = t2 || ve();
    const n2 = nt(this.config.env), { cloudPath: s2, filePath: r2, onUploadProgress: i2, fileType: o2 = "image" } = e2;
    return n2.send("storage.getUploadMetadata", { path: s2 }).then((e3) => {
      const { data: { url: a2, authorization: c2, token: u2, fileId: h2, cosFileId: l2 }, requestId: d2 } = e3, p2 = { key: s2, signature: c2, "x-cos-meta-fileid": l2, success_action_status: "201", "x-cos-security-token": u2 };
      n2.upload({ url: a2, data: p2, file: r2, name: s2, fileType: o2, onUploadProgress: i2 }).then((e4) => {
        201 === e4.statusCode ? t2(null, { fileID: h2, requestId: d2 }) : t2(new te({ code: "STORAGE_REQUEST_FAIL", message: `STORAGE_REQUEST_FAIL: ${e4.data}` }));
      }).catch((e4) => {
        t2(e4);
      });
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, dt = function(e2, t2) {
    t2 = t2 || ve();
    const n2 = nt(this.config.env), { cloudPath: s2 } = e2;
    return n2.send("storage.getUploadMetadata", { path: s2 }).then((e3) => {
      t2(null, e3);
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, pt = function({ fileList: e2 }, t2) {
    if (t2 = t2 || ve(), !e2 || !Array.isArray(e2))
      return { code: "INVALID_PARAM", message: "fileList必须是非空的数组" };
    for (let t3 of e2)
      if (!t3 || "string" != typeof t3)
        return { code: "INVALID_PARAM", message: "fileList的元素必须是非空的字符串" };
    const n2 = { fileid_list: e2 };
    return nt(this.config.env).send("storage.batchDeleteFile", n2).then((e3) => {
      e3.code ? t2(null, e3) : t2(null, { fileList: e3.data.delete_list, requestId: e3.requestId });
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, ft = function({ fileList: e2 }, t2) {
    t2 = t2 || ve(), e2 && Array.isArray(e2) || t2(null, { code: "INVALID_PARAM", message: "fileList必须是非空的数组" });
    let n2 = [];
    for (let s3 of e2)
      "object" == typeof s3 ? (s3.hasOwnProperty("fileID") && s3.hasOwnProperty("maxAge") || t2(null, { code: "INVALID_PARAM", message: "fileList的元素必须是包含fileID和maxAge的对象" }), n2.push({ fileid: s3.fileID, max_age: s3.maxAge })) : "string" == typeof s3 ? n2.push({ fileid: s3 }) : t2(null, { code: "INVALID_PARAM", message: "fileList的元素必须是字符串" });
    const s2 = { file_list: n2 };
    return nt(this.config.env).send("storage.batchGetDownloadUrl", s2).then((e3) => {
      e3.code ? t2(null, e3) : t2(null, { fileList: e3.data.download_list, requestId: e3.requestId });
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, gt = async function({ fileID: e2 }, t2) {
    const n2 = (await ft.call(this, { fileList: [{ fileID: e2, maxAge: 600 }] })).fileList[0];
    if ("SUCCESS" !== n2.code)
      return t2 ? t2(n2) : new Promise((e3) => {
        e3(n2);
      });
    const s2 = nt(this.config.env);
    let r2 = n2.download_url;
    if (r2 = encodeURI(r2), !t2)
      return s2.download({ url: r2 });
    t2(await s2.download({ url: r2 }));
  }, mt = function({ name: e2, data: t2, query: n2, parse: s2, search: r2, timeout: i2 }, o2) {
    const a2 = o2 || ve();
    let c2;
    try {
      c2 = t2 ? JSON.stringify(t2) : "";
    } catch (e3) {
      return Promise.reject(e3);
    }
    if (!e2)
      return Promise.reject(new te({ code: "PARAM_ERROR", message: "函数名不能为空" }));
    const u2 = { inQuery: n2, parse: s2, search: r2, function_name: e2, request_data: c2 };
    return nt(this.config.env).send("functions.invokeFunction", u2, { timeout: i2 }).then((e3) => {
      if (e3.code)
        a2(null, e3);
      else {
        let t3 = e3.data.response_data;
        if (s2)
          a2(null, { result: t3, requestId: e3.requestId });
        else
          try {
            t3 = JSON.parse(e3.data.response_data), a2(null, { result: t3, requestId: e3.requestId });
          } catch (e4) {
            a2(new te({ message: "response data must be json" }));
          }
      }
      return a2.promise;
    }).catch((e3) => {
      a2(e3);
    }), a2.promise;
  }, yt = { timeout: 15e3, persistence: "session" }, _t = 6e5, wt = {};
  class It {
    constructor(e2) {
      this.config = e2 || this.config, this.authObj = void 0;
    }
    init(e2) {
      switch (Pe.adapter || (this.requestClient = new Pe.adapter.reqClass({ timeout: e2.timeout || 5e3, timeoutMsg: `请求在${(e2.timeout || 5e3) / 1e3}s内未完成，已中断` })), this.config = { ...yt, ...e2 }, true) {
        case this.config.timeout > _t:
          console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"), this.config.timeout = _t;
          break;
        case this.config.timeout < 100:
          console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"), this.config.timeout = 100;
      }
      return new It(this.config);
    }
    auth({ persistence: e2 } = {}) {
      if (this.authObj)
        return this.authObj;
      const t2 = e2 || Pe.adapter.primaryStorage || yt.persistence;
      var n2;
      return t2 !== this.config.persistence && (this.config.persistence = t2), function(e3) {
        const { env: t3 } = e3;
        Re[t3] = new Ne(e3), Le[t3] = new Ne({ ...e3, persistence: "local" });
      }(this.config), n2 = this.config, tt$1[n2.env] = new et(n2), this.authObj = new ht(this.config), this.authObj;
    }
    on(e2, t2) {
      return Fe.apply(this, [e2, t2]);
    }
    off(e2, t2) {
      return je.apply(this, [e2, t2]);
    }
    callFunction(e2, t2) {
      return mt.apply(this, [e2, t2]);
    }
    deleteFile(e2, t2) {
      return pt.apply(this, [e2, t2]);
    }
    getTempFileURL(e2, t2) {
      return ft.apply(this, [e2, t2]);
    }
    downloadFile(e2, t2) {
      return gt.apply(this, [e2, t2]);
    }
    uploadFile(e2, t2) {
      return lt.apply(this, [e2, t2]);
    }
    getUploadMetadata(e2, t2) {
      return dt.apply(this, [e2, t2]);
    }
    registerExtension(e2) {
      wt[e2.name] = e2;
    }
    async invokeExtension(e2, t2) {
      const n2 = wt[e2];
      if (!n2)
        throw new te({ message: `扩展${e2} 必须先注册` });
      return await n2.invoke(t2, this);
    }
    useAdapters(e2) {
      const { adapter: t2, runtime: n2 } = Ae(e2) || {};
      t2 && (Pe.adapter = t2), n2 && (Pe.runtime = n2);
    }
  }
  var vt = new It();
  function St(e2, t2, n2) {
    void 0 === n2 && (n2 = {});
    var s2 = /\?/.test(t2), r2 = "";
    for (var i2 in n2)
      "" === r2 ? !s2 && (t2 += "?") : r2 += "&", r2 += i2 + "=" + encodeURIComponent(n2[i2]);
    return /^http(s)?:\/\//.test(t2 += r2) ? t2 : "" + e2 + t2;
  }
  class Tt {
    get(e2) {
      const { url: t2, data: n2, headers: s2, timeout: r2 } = e2;
      return new Promise((e3, i2) => {
        ne.request({ url: St("https:", t2), data: n2, method: "GET", header: s2, timeout: r2, success(t3) {
          e3(t3);
        }, fail(e4) {
          i2(e4);
        } });
      });
    }
    post(e2) {
      const { url: t2, data: n2, headers: s2, timeout: r2 } = e2;
      return new Promise((e3, i2) => {
        ne.request({ url: St("https:", t2), data: n2, method: "POST", header: s2, timeout: r2, success(t3) {
          e3(t3);
        }, fail(e4) {
          i2(e4);
        } });
      });
    }
    upload(e2) {
      return new Promise((t2, n2) => {
        const { url: s2, file: r2, data: i2, headers: o2, fileType: a2 } = e2, c2 = ne.uploadFile({ url: St("https:", s2), name: "file", formData: Object.assign({}, i2), filePath: r2, fileType: a2, header: o2, success(e3) {
          const n3 = { statusCode: e3.statusCode, data: e3.data || {} };
          200 === e3.statusCode && i2.success_action_status && (n3.statusCode = parseInt(i2.success_action_status, 10)), t2(n3);
        }, fail(e3) {
          n2(new Error(e3.errMsg || "uploadFile:fail"));
        } });
        "function" == typeof e2.onUploadProgress && c2 && "function" == typeof c2.onProgressUpdate && c2.onProgressUpdate((t3) => {
          e2.onUploadProgress({ loaded: t3.totalBytesSent, total: t3.totalBytesExpectedToSend });
        });
      });
    }
  }
  const bt = { setItem(e2, t2) {
    ne.setStorageSync(e2, t2);
  }, getItem: (e2) => ne.getStorageSync(e2), removeItem(e2) {
    ne.removeStorageSync(e2);
  }, clear() {
    ne.clearStorageSync();
  } };
  var Et = { genAdapter: function() {
    return { root: {}, reqClass: Tt, localStorage: bt, primaryStorage: "local" };
  }, isMatch: function() {
    return true;
  }, runtime: "uni_app" };
  vt.useAdapters(Et);
  const kt = vt, At = kt.init;
  kt.init = function(e2) {
    e2.env = e2.spaceId;
    const t2 = At.call(this, e2);
    t2.config.provider = "tencent", t2.config.spaceId = e2.spaceId;
    const n2 = t2.auth;
    return t2.auth = function(e3) {
      const t3 = n2.call(this, e3);
      return ["linkAndRetrieveDataWithTicket", "signInAnonymously", "signOut", "getAccessToken", "getLoginState", "signInWithTicket", "getUserInfo"].forEach((e4) => {
        var n3;
        t3[e4] = (n3 = t3[e4], function(e5) {
          e5 = e5 || {};
          const { success: t4, fail: s2, complete: r2 } = ee(e5);
          if (!(t4 || s2 || r2))
            return n3.call(this, e5);
          n3.call(this, e5).then((e6) => {
            t4 && t4(e6), r2 && r2(e6);
          }, (e6) => {
            s2 && s2(e6), r2 && r2(e6);
          });
        }).bind(t3);
      }), t3;
    }, t2.customAuth = t2.auth, t2;
  };
  var Pt = kt;
  async function Ct(e2, t2) {
    const n2 = `http://${e2}:${t2}/system/ping`;
    try {
      const e3 = await (s2 = { url: n2, timeout: 500 }, new Promise((e4, t3) => {
        ne.request({ ...s2, success(t4) {
          e4(t4);
        }, fail(e5) {
          t3(e5);
        } });
      }));
      return !(!e3.data || 0 !== e3.data.code);
    } catch (e3) {
      return false;
    }
    var s2;
  }
  async function Ot(e2, t2) {
    let n2;
    for (let s2 = 0; s2 < e2.length; s2++) {
      const r2 = e2[s2];
      if (await Ct(r2, t2)) {
        n2 = r2;
        break;
      }
    }
    return { address: n2, port: t2 };
  }
  const xt = { "serverless.file.resource.generateProximalSign": "storage/generate-proximal-sign", "serverless.file.resource.report": "storage/report", "serverless.file.resource.delete": "storage/delete", "serverless.file.resource.getTempFileURL": "storage/get-temp-file-url" };
  var Nt = class {
    constructor(e2) {
      if (["spaceId", "clientSecret"].forEach((t2) => {
        if (!Object.prototype.hasOwnProperty.call(e2, t2))
          throw new Error(`${t2} required`);
      }), !e2.endpoint)
        throw new Error("集群空间未配置ApiEndpoint，配置后需要重新关联服务空间后生效");
      this.config = Object.assign({}, e2), this.config.provider = "dcloud", this.config.requestUrl = this.config.endpoint + "/client", this.config.envType = this.config.envType || "public", this.adapter = ne;
    }
    async request(e2, t2 = true) {
      const n2 = t2;
      return e2 = n2 ? await this.setupLocalRequest(e2) : this.setupRequest(e2), Promise.resolve().then(() => n2 ? this.requestLocal(e2) : de.wrappedRequest(e2, this.adapter.request));
    }
    requestLocal(e2) {
      return new Promise((t2, n2) => {
        this.adapter.request(Object.assign(e2, { complete(e3) {
          if (e3 || (e3 = {}), !e3.statusCode || e3.statusCode >= 400) {
            const t3 = e3.data && e3.data.code || "SYS_ERR", s2 = e3.data && e3.data.message || "request:fail";
            return n2(new te({ code: t3, message: s2 }));
          }
          t2({ success: true, result: e3.data });
        } }));
      });
    }
    setupRequest(e2) {
      const t2 = Object.assign({}, e2, { spaceId: this.config.spaceId, timestamp: Date.now() }), n2 = { "Content-Type": "application/json" };
      n2["x-serverless-sign"] = de.sign(t2, this.config.clientSecret);
      const s2 = le();
      n2["x-client-info"] = encodeURIComponent(JSON.stringify(s2));
      const { token: r2 } = re();
      return n2["x-client-token"] = r2, { url: this.config.requestUrl, method: "POST", data: t2, dataType: "json", header: JSON.parse(JSON.stringify(n2)) };
    }
    async setupLocalRequest(e2) {
      const t2 = le(), { token: n2 } = re(), s2 = Object.assign({}, e2, { spaceId: this.config.spaceId, timestamp: Date.now(), clientInfo: t2, token: n2 }), { address: r2, servePort: i2 } = this.__dev__ && this.__dev__.debugInfo || {}, { address: o2 } = await Ot(r2, i2);
      return { url: `http://${o2}:${i2}/${xt[e2.method]}`, method: "POST", data: s2, dataType: "json", header: JSON.parse(JSON.stringify({ "Content-Type": "application/json" })) };
    }
    callFunction(e2) {
      const t2 = { method: "serverless.function.runtime.invoke", params: JSON.stringify({ functionTarget: e2.name, functionArgs: e2.data || {} }) };
      return this.request(t2, false);
    }
    getUploadFileOptions(e2) {
      const t2 = { method: "serverless.file.resource.generateProximalSign", params: JSON.stringify(e2) };
      return this.request(t2);
    }
    reportUploadFile(e2) {
      const t2 = { method: "serverless.file.resource.report", params: JSON.stringify(e2) };
      return this.request(t2);
    }
    uploadFile({ filePath: e2, cloudPath: t2, fileType: n2 = "image", onUploadProgress: s2 }) {
      if (!t2)
        throw new te({ code: "CLOUDPATH_REQUIRED", message: "cloudPath不可为空" });
      let r2;
      return this.getUploadFileOptions({ cloudPath: t2 }).then((t3) => {
        const { url: i2, formData: o2, name: a2 } = t3.result;
        return r2 = t3.result.fileUrl, new Promise((t4, r3) => {
          const c2 = this.adapter.uploadFile({ url: i2, formData: o2, name: a2, filePath: e2, fileType: n2, success(e3) {
            e3 && e3.statusCode < 400 ? t4(e3) : r3(new te({ code: "UPLOAD_FAILED", message: "文件上传失败" }));
          }, fail(e3) {
            r3(new te({ code: e3.code || "UPLOAD_FAILED", message: e3.message || e3.errMsg || "文件上传失败" }));
          } });
          "function" == typeof s2 && c2 && "function" == typeof c2.onProgressUpdate && c2.onProgressUpdate((e3) => {
            s2({ loaded: e3.totalBytesSent, total: e3.totalBytesExpectedToSend });
          });
        });
      }).then(() => this.reportUploadFile({ cloudPath: t2 })).then((t3) => new Promise((n3, s3) => {
        t3.success ? n3({ success: true, filePath: e2, fileID: r2 }) : s3(new te({ code: "UPLOAD_FAILED", message: "文件上传失败" }));
      }));
    }
    deleteFile({ fileList: e2 }) {
      const t2 = { method: "serverless.file.resource.delete", params: JSON.stringify({ fileList: e2 }) };
      return this.request(t2).then((e3) => {
        if (e3.success)
          return e3.result;
        throw new te({ code: "DELETE_FILE_FAILED", message: "删除文件失败" });
      });
    }
    getTempFileURL({ fileList: e2, maxAge: t2 } = {}) {
      if (!Array.isArray(e2) || 0 === e2.length)
        throw new te({ code: "INVALID_PARAM", message: "fileList的元素必须是非空的字符串" });
      const n2 = { method: "serverless.file.resource.getTempFileURL", params: JSON.stringify({ fileList: e2, maxAge: t2 }) };
      return this.request(n2).then((e3) => {
        if (e3.success)
          return { fileList: e3.result.fileList.map((e4) => ({ fileID: e4.fileID, tempFileURL: e4.tempFileURL })) };
        throw new te({ code: "GET_TEMP_FILE_URL_FAILED", message: "获取临时文件链接失败" });
      });
    }
  };
  var Rt = { init(e2) {
    const t2 = new Nt(e2), n2 = { signInAnonymously: function() {
      return Promise.resolve();
    }, getLoginState: function() {
      return Promise.resolve(false);
    } };
    return t2.auth = function() {
      return n2;
    }, t2.customAuth = t2.auth, t2;
  } }, Lt = n(function(e2, t2) {
    e2.exports = r.enc.Hex;
  });
  function Ut() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e2) {
      var t2 = 16 * Math.random() | 0;
      return ("x" === e2 ? t2 : 3 & t2 | 8).toString(16);
    });
  }
  function Dt(e2 = "", t2 = {}) {
    const { data: n2, functionName: s2, method: r2, headers: i2, signHeaderKeys: o2 = [], config: a2 } = t2, c2 = String(Date.now()), u2 = Ut(), h2 = Object.assign({}, i2, { "x-from-app-id": a2.spaceAppId, "x-from-env-id": a2.spaceId, "x-to-env-id": a2.spaceId, "x-from-instance-id": c2, "x-from-function-name": s2, "x-client-timestamp": c2, "x-alipay-source": "client", "x-request-id": u2, "x-alipay-callid": u2, "x-trace-id": u2 }), l2 = ["x-from-app-id", "x-from-env-id", "x-to-env-id", "x-from-instance-id", "x-from-function-name", "x-client-timestamp"].concat(o2), [d2 = "", p2 = ""] = e2.split("?") || [], f2 = function(e3) {
      const t3 = "HMAC-SHA256", n3 = e3.signedHeaders.join(";"), s3 = e3.signedHeaders.map((t4) => `${t4.toLowerCase()}:${e3.headers[t4]}
`).join(""), r3 = we(e3.body).toString(Lt), i3 = `${e3.method.toUpperCase()}
${e3.path}
${e3.query}
${s3}
${n3}
${r3}
`, o3 = we(i3).toString(Lt), a3 = `${t3}
${e3.timestamp}
${o3}
`, c3 = Ie(a3, e3.secretKey).toString(Lt);
      return `${t3} Credential=${e3.secretId}, SignedHeaders=${n3}, Signature=${c3}`;
    }({ path: d2, query: p2, method: r2, headers: h2, timestamp: c2, body: JSON.stringify(n2), secretId: a2.accessKey, secretKey: a2.secretKey, signedHeaders: l2.sort() });
    return { url: `${a2.endpoint}${e2}`, headers: Object.assign({}, h2, { Authorization: f2 }) };
  }
  function Mt({ url: e2, data: t2, method: n2 = "POST", headers: s2 = {}, timeout: r2 }) {
    return new Promise((i2, o2) => {
      ne.request({ url: e2, method: n2, data: "object" == typeof t2 ? JSON.stringify(t2) : t2, header: s2, dataType: "json", timeout: r2, complete: (e3 = {}) => {
        const t3 = s2["x-trace-id"] || "";
        if (!e3.statusCode || e3.statusCode >= 400) {
          const { message: n3, errMsg: s3, trace_id: r3 } = e3.data || {};
          return o2(new te({ code: "SYS_ERR", message: n3 || s3 || "request:fail", requestId: r3 || t3 }));
        }
        i2({ status: e3.statusCode, data: e3.data, headers: e3.header, requestId: t3 });
      } });
    });
  }
  function qt(e2, t2) {
    const { path: n2, data: s2, method: r2 = "GET" } = e2, { url: i2, headers: o2 } = Dt(n2, { functionName: "", data: s2, method: r2, headers: { "x-alipay-cloud-mode": "oss", "x-data-api-type": "oss", "x-expire-timestamp": String(Date.now() + 6e4) }, signHeaderKeys: ["x-data-api-type", "x-expire-timestamp"], config: t2 });
    return Mt({ url: i2, data: s2, method: r2, headers: o2 }).then((e3) => {
      const t3 = e3.data || {};
      if (!t3.success)
        throw new te({ code: e3.errCode, message: e3.errMsg, requestId: e3.requestId });
      return t3.data || {};
    }).catch((e3) => {
      throw new te({ code: e3.errCode, message: e3.errMsg, requestId: e3.requestId });
    });
  }
  function Ft(e2 = "") {
    const t2 = e2.trim().replace(/^cloud:\/\//, ""), n2 = t2.indexOf("/");
    if (n2 <= 0)
      throw new te({ code: "INVALID_PARAM", message: "fileID不合法" });
    const s2 = t2.substring(0, n2), r2 = t2.substring(n2 + 1);
    return s2 !== this.config.spaceId && console.warn("file ".concat(e2, " does not belong to env ").concat(this.config.spaceId)), r2;
  }
  function Kt(e2 = "") {
    return "cloud://".concat(this.config.spaceId, "/").concat(e2.replace(/^\/+/, ""));
  }
  class jt {
    constructor(e2) {
      this.config = e2;
    }
    signedURL(e2, t2 = {}) {
      const n2 = `/ws/function/${e2}`, s2 = this.config.wsEndpoint.replace(/^ws(s)?:\/\//, ""), r2 = Object.assign({}, t2, { accessKeyId: this.config.accessKey, signatureNonce: Ut(), timestamp: "" + Date.now() }), i2 = [n2, ["accessKeyId", "authorization", "signatureNonce", "timestamp"].sort().map(function(e3) {
        return r2[e3] ? "".concat(e3, "=").concat(r2[e3]) : null;
      }).filter(Boolean).join("&"), `host:${s2}`].join("\n"), o2 = ["HMAC-SHA256", we(i2).toString(Lt)].join("\n"), a2 = Ie(o2, this.config.secretKey).toString(Lt), c2 = Object.keys(r2).map((e3) => `${e3}=${encodeURIComponent(r2[e3])}`).join("&");
      return `${this.config.wsEndpoint}${n2}?${c2}&signature=${a2}`;
    }
  }
  var $t = class {
    constructor(e2) {
      if (["spaceId", "spaceAppId", "accessKey", "secretKey"].forEach((t2) => {
        if (!Object.prototype.hasOwnProperty.call(e2, t2))
          throw new Error(`${t2} required`);
      }), e2.endpoint) {
        if ("string" != typeof e2.endpoint)
          throw new Error("endpoint must be string");
        if (!/^https:\/\//.test(e2.endpoint))
          throw new Error("endpoint must start with https://");
        e2.endpoint = e2.endpoint.replace(/\/$/, "");
      }
      this.config = Object.assign({}, e2, { endpoint: e2.endpoint || `https://${e2.spaceId}.api-hz.cloudbasefunction.cn`, wsEndpoint: e2.wsEndpoint || `wss://${e2.spaceId}.api-hz.cloudbasefunction.cn` }), this._websocket = new jt(this.config);
    }
    callFunction(e2) {
      return function(e3, t2) {
        const { name: n2, data: s2, async: r2 = false, timeout: i2 } = e3, o2 = "POST", a2 = { "x-to-function-name": n2 };
        r2 && (a2["x-function-invoke-type"] = "async");
        const { url: c2, headers: u2 } = Dt("/functions/invokeFunction", { functionName: n2, data: s2, method: o2, headers: a2, signHeaderKeys: ["x-to-function-name"], config: t2 });
        return Mt({ url: c2, data: s2, method: o2, headers: u2, timeout: i2 }).then((e4) => {
          let t3 = 0;
          if (r2) {
            const n3 = e4.data || {};
            t3 = "200" === n3.errCode ? 0 : n3.errCode, e4.data = n3.data || {}, e4.errMsg = n3.errMsg;
          }
          if (0 !== t3)
            throw new te({ code: t3, message: e4.errMsg, requestId: e4.requestId });
          return { errCode: t3, success: 0 === t3, requestId: e4.requestId, result: e4.data };
        }).catch((e4) => {
          throw new te({ code: e4.errCode, message: e4.errMsg, requestId: e4.requestId });
        });
      }(e2, this.config);
    }
    uploadFileToOSS({ url: e2, filePath: t2, fileType: n2, formData: s2, onUploadProgress: r2 }) {
      return new Promise((i2, o2) => {
        const a2 = ne.uploadFile({ url: e2, filePath: t2, fileType: n2, formData: s2, name: "file", success(e3) {
          e3 && e3.statusCode < 400 ? i2(e3) : o2(new te({ code: "UPLOAD_FAILED", message: "文件上传失败" }));
        }, fail(e3) {
          o2(new te({ code: e3.code || "UPLOAD_FAILED", message: e3.message || e3.errMsg || "文件上传失败" }));
        } });
        "function" == typeof r2 && a2 && "function" == typeof a2.onProgressUpdate && a2.onProgressUpdate((e3) => {
          r2({ loaded: e3.totalBytesSent, total: e3.totalBytesExpectedToSend });
        });
      });
    }
    async uploadFile({ filePath: e2, cloudPath: t2 = "", fileType: n2 = "image", onUploadProgress: s2 }) {
      if ("string" !== g(t2))
        throw new te({ code: "INVALID_PARAM", message: "cloudPath必须为字符串类型" });
      if (!(t2 = t2.trim()))
        throw new te({ code: "INVALID_PARAM", message: "cloudPath不可为空" });
      if (/:\/\//.test(t2))
        throw new te({ code: "INVALID_PARAM", message: "cloudPath不合法" });
      const r2 = await qt({ path: "/".concat(t2.replace(/^\//, ""), "?post_url") }, this.config), { file_id: i2, upload_url: o2, form_data: a2 } = r2, c2 = a2 && a2.reduce((e3, t3) => (e3[t3.key] = t3.value, e3), {});
      return this.uploadFileToOSS({ url: o2, filePath: e2, fileType: n2, formData: c2, onUploadProgress: s2 }).then(() => ({ fileID: i2 }));
    }
    async getTempFileURL({ fileList: e2 }) {
      return new Promise((t2, n2) => {
        (!e2 || e2.length < 0) && t2({ code: "INVALID_PARAM", message: "fileList不能为空数组" }), e2.length > 50 && t2({ code: "INVALID_PARAM", message: "fileList数组长度不能超过50" });
        const s2 = [];
        for (const n3 of e2) {
          let e3;
          "string" !== g(n3) && t2({ code: "INVALID_PARAM", message: "fileList的元素必须是非空的字符串" });
          try {
            e3 = Ft.call(this, n3);
          } catch (t3) {
            console.warn(t3.errCode, t3.errMsg), e3 = n3;
          }
          s2.push({ file_id: e3, expire: 600 });
        }
        qt({ path: "/?download_url", data: { file_list: s2 }, method: "POST" }, this.config).then((e3) => {
          const { file_list: n3 = [] } = e3;
          t2({ fileList: n3.map((e4) => ({ fileID: Kt.call(this, e4.file_id), tempFileURL: e4.download_url })) });
        }).catch((e3) => n2(e3));
      });
    }
    async connectWebSocket(e2) {
      const { name: t2, query: n2 } = e2;
      return ne.connectSocket({ url: this._websocket.signedURL(t2, n2), complete: () => {
      } });
    }
  };
  var Bt = { init: (e2) => {
    e2.provider = "alipay";
    const t2 = new $t(e2);
    return t2.auth = function() {
      return { signInAnonymously: function() {
        return Promise.resolve();
      }, getLoginState: function() {
        return Promise.resolve(true);
      } };
    }, t2;
  } };
  function Wt({ data: e2 }) {
    let t2;
    t2 = le();
    const n2 = JSON.parse(JSON.stringify(e2 || {}));
    if (Object.assign(n2, { clientInfo: t2 }), !n2.uniIdToken) {
      const { token: e3 } = re();
      e3 && (n2.uniIdToken = e3);
    }
    return n2;
  }
  async function Ht(e2 = {}) {
    await this.__dev__.initLocalNetwork();
    const { localAddress: t2, localPort: n2 } = this.__dev__, s2 = { aliyun: "aliyun", tencent: "tcb", alipay: "alipay", dcloud: "dcloud" }[this.config.provider], r2 = this.config.spaceId, i2 = `http://${t2}:${n2}/system/check-function`, o2 = `http://${t2}:${n2}/cloudfunctions/${e2.name}`;
    return new Promise((t3, n3) => {
      ne.request({ method: "POST", url: i2, data: { name: e2.name, platform: P, provider: s2, spaceId: r2 }, timeout: 3e3, success(e3) {
        t3(e3);
      }, fail() {
        t3({ data: { code: "NETWORK_ERROR", message: "连接本地调试服务失败，请检查客户端是否和主机在同一局域网下，自动切换为已部署的云函数。" } });
      } });
    }).then(({ data: e3 } = {}) => {
      const { code: t3, message: n3 } = e3 || {};
      return { code: 0 === t3 ? 0 : t3 || "SYS_ERR", message: n3 || "SYS_ERR" };
    }).then(({ code: t3, message: n3 }) => {
      if (0 !== t3) {
        switch (t3) {
          case "MODULE_ENCRYPTED":
            console.error(`此云函数（${e2.name}）依赖加密公共模块不可本地调试，自动切换为云端已部署的云函数`);
            break;
          case "FUNCTION_ENCRYPTED":
            console.error(`此云函数（${e2.name}）已加密不可本地调试，自动切换为云端已部署的云函数`);
            break;
          case "ACTION_ENCRYPTED":
            console.error(n3 || "需要访问加密的uni-clientDB-action，自动切换为云端环境");
            break;
          case "NETWORK_ERROR":
            console.error(n3 || "连接本地调试服务失败，请检查客户端是否和主机在同一局域网下");
            break;
          case "SWITCH_TO_CLOUD":
            break;
          default: {
            const e3 = `检测本地调试服务出现错误：${n3}，请检查网络环境或重启客户端再试`;
            throw console.error(e3), new Error(e3);
          }
        }
        return this._callCloudFunction(e2);
      }
      return new Promise((t4, n4) => {
        const r3 = Wt.call(this, { data: e2.data });
        ne.request({ method: "POST", url: o2, data: { provider: s2, platform: P, param: r3 }, timeout: e2.timeout, success: ({ statusCode: e3, data: s3 } = {}) => !e3 || e3 >= 400 ? n4(new te({ code: s3.code || "SYS_ERR", message: s3.message || "request:fail" })) : t4({ result: s3 }), fail(e3) {
          n4(new te({ code: e3.code || e3.errCode || "SYS_ERR", message: e3.message || e3.errMsg || "request:fail" }));
        } });
      });
    });
  }
  const Jt = [{ rule: /fc_function_not_found|FUNCTION_NOT_FOUND/, content: "，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间", mode: "append" }];
  var zt = /[\\^$.*+?()[\]{}|]/g, Vt = RegExp(zt.source);
  function Gt(e2, t2, n2) {
    return e2.replace(new RegExp((s2 = t2) && Vt.test(s2) ? s2.replace(zt, "\\$&") : s2, "g"), n2);
    var s2;
  }
  const Yt = { NONE: "none", REQUEST: "request", RESPONSE: "response", BOTH: "both" }, Qt = "_globalUniCloudStatus", Xt = "_globalUniCloudSecureNetworkCache__{spaceId}", Zt = "uni-secure-network", en$2 = { SYSTEM_ERROR: { code: 2e4, message: "System error" }, APP_INFO_INVALID: { code: 20101, message: "Invalid client" }, GET_ENCRYPT_KEY_FAILED: { code: 20102, message: "Get encrypt key failed" } };
  function nn(e2) {
    const { errSubject: t2, subject: n2, errCode: s2, errMsg: r2, code: i2, message: o2, cause: a2 } = e2 || {};
    return new te({ subject: t2 || n2 || Zt, code: s2 || i2 || en$2.SYSTEM_ERROR.code, message: r2 || o2, cause: a2 });
  }
  let Kn;
  function Hn({ secretType: e2 } = {}) {
    return e2 === Yt.REQUEST || e2 === Yt.RESPONSE || e2 === Yt.BOTH;
  }
  function Jn({ name: e2, data: t2 = {} } = {}) {
    return "DCloud-clientDB" === e2 && "encryption" === t2.redirectTo && "getAppClientKey" === t2.action;
  }
  function zn({ provider: e2, spaceId: t2, functionName: n2 } = {}) {
    const { appId: s2, uniPlatform: r2, osName: i2 } = ce();
    let o2 = r2;
    "app" === r2 && (o2 = i2);
    const a2 = function({ provider: e3, spaceId: t3 } = {}) {
      const n3 = A;
      if (!n3)
        return {};
      e3 = /* @__PURE__ */ function(e4) {
        return "tencent" === e4 ? "tcb" : e4;
      }(e3);
      const s3 = n3.find((n4) => n4.provider === e3 && n4.spaceId === t3);
      return s3 && s3.config;
    }({ provider: e2, spaceId: t2 });
    if (!a2 || !a2.accessControl || !a2.accessControl.enable)
      return false;
    const c2 = a2.accessControl.function || {}, u2 = Object.keys(c2);
    if (0 === u2.length)
      return true;
    const h2 = function(e3, t3) {
      let n3, s3, r3;
      for (let i3 = 0; i3 < e3.length; i3++) {
        const o3 = e3[i3];
        o3 !== t3 ? "*" !== o3 ? o3.split(",").map((e4) => e4.trim()).indexOf(t3) > -1 && (s3 = o3) : r3 = o3 : n3 = o3;
      }
      return n3 || s3 || r3;
    }(u2, n2);
    if (!h2)
      return false;
    if ((c2[h2] || []).find((e3 = {}) => e3.appId === s2 && (e3.platform || "").toLowerCase() === o2.toLowerCase()))
      return true;
    throw console.error(`此应用[appId: ${s2}, platform: ${o2}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`), nn(en$2.APP_INFO_INVALID);
  }
  function Vn({ functionName: e2, result: t2, logPvd: n2 }) {
    if (this.__dev__.debugLog && t2 && t2.requestId) {
      const s2 = JSON.stringify({ spaceId: this.config.spaceId, functionName: e2, requestId: t2.requestId });
      console.log(`[${n2}-request]${s2}[/${n2}-request]`);
    }
  }
  function Gn(e2) {
    const t2 = e2.callFunction, n2 = function(n3) {
      const s2 = n3.name;
      n3.data = Wt.call(e2, { data: n3.data });
      const r2 = { aliyun: "aliyun", tencent: "tcb", tcb: "tcb", alipay: "alipay", dcloud: "dcloud" }[this.config.provider], i2 = Hn(n3), o2 = Jn(n3), a2 = i2 || o2;
      return t2.call(this, n3).then((e3) => (e3.errCode = 0, !a2 && Vn.call(this, { functionName: s2, result: e3, logPvd: r2 }), Promise.resolve(e3)), (e3) => (!a2 && Vn.call(this, { functionName: s2, result: e3, logPvd: r2 }), e3 && e3.message && (e3.message = function({ message: e4 = "", extraInfo: t3 = {}, formatter: n4 = [] } = {}) {
        for (let s3 = 0; s3 < n4.length; s3++) {
          const { rule: r3, content: i3, mode: o3 } = n4[s3], a3 = e4.match(r3);
          if (!a3)
            continue;
          let c2 = i3;
          for (let e5 = 1; e5 < a3.length; e5++)
            c2 = Gt(c2, `{$${e5}}`, a3[e5]);
          for (const e5 in t3)
            c2 = Gt(c2, `{${e5}}`, t3[e5]);
          return "replace" === o3 ? c2 : e4 + c2;
        }
        return e4;
      }({ message: `[${n3.name}]: ${e3.message}`, formatter: Jt, extraInfo: { functionName: s2 } })), Promise.reject(e3)));
    };
    e2.callFunction = function(t3) {
      const { provider: s2, spaceId: r2 } = e2.config, i2 = t3.name;
      let o2, a2;
      if (t3.data = t3.data || {}, e2.__dev__.debugInfo && !e2.__dev__.debugInfo.forceRemote && O ? (e2._callCloudFunction || (e2._callCloudFunction = n2, e2._callLocalFunction = Ht), o2 = Ht) : o2 = n2, o2 = o2.bind(e2), Jn(t3))
        a2 = n2.call(e2, t3);
      else if (Hn(t3)) {
        a2 = new Kn({ secretType: t3.secretType, uniCloudIns: e2 }).wrapEncryptDataCallFunction(n2.bind(e2))(t3);
      } else if (zn({ provider: s2, spaceId: r2, functionName: i2 })) {
        a2 = new Kn({ secretType: t3.secretType, uniCloudIns: e2 }).wrapVerifyClientCallFunction(n2.bind(e2))(t3);
      } else
        a2 = o2(t3);
      return Object.defineProperty(a2, "result", { get: () => (console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"), {}) }), a2.then((e3) => e3);
    };
  }
  Kn = class {
    constructor() {
      throw nn({ message: `Platform ${P} is not enabled, please check whether secure network module is enabled in your manifest.json` });
    }
  };
  const Yn = Symbol("CLIENT_DB_INTERNAL");
  function Qn(e2, t2) {
    return e2.then = "DoNotReturnProxyWithAFunctionNamedThen", e2._internalType = Yn, e2.inspect = null, e2.__v_raw = void 0, new Proxy(e2, { get(e3, n2, s2) {
      if ("_uniClient" === n2)
        return null;
      if ("symbol" == typeof n2)
        return e3[n2];
      if (n2 in e3 || "string" != typeof n2) {
        const t3 = e3[n2];
        return "function" == typeof t3 ? t3.bind(e3) : t3;
      }
      return t2.get(e3, n2, s2);
    } });
  }
  function Xn(e2) {
    return { on: (t2, n2) => {
      e2[t2] = e2[t2] || [], e2[t2].indexOf(n2) > -1 || e2[t2].push(n2);
    }, off: (t2, n2) => {
      e2[t2] = e2[t2] || [];
      const s2 = e2[t2].indexOf(n2);
      -1 !== s2 && e2[t2].splice(s2, 1);
    } };
  }
  const Zn = ["db.Geo", "db.command", "command.aggregate"];
  function es(e2, t2) {
    return Zn.indexOf(`${e2}.${t2}`) > -1;
  }
  function ts(e2) {
    switch (g(e2 = se(e2))) {
      case "array":
        return e2.map((e3) => ts(e3));
      case "object":
        return e2._internalType === Yn || Object.keys(e2).forEach((t2) => {
          e2[t2] = ts(e2[t2]);
        }), e2;
      case "regexp":
        return { $regexp: { source: e2.source, flags: e2.flags } };
      case "date":
        return { $date: e2.toISOString() };
      default:
        return e2;
    }
  }
  function ns(e2) {
    return e2 && e2.content && e2.content.$method;
  }
  class ss {
    constructor(e2, t2, n2) {
      this.content = e2, this.prevStage = t2 || null, this.udb = null, this._database = n2;
    }
    toJSON() {
      let e2 = this;
      const t2 = [e2.content];
      for (; e2.prevStage; )
        e2 = e2.prevStage, t2.push(e2.content);
      return { $db: t2.reverse().map((e3) => ({ $method: e3.$method, $param: ts(e3.$param) })) };
    }
    toString() {
      return JSON.stringify(this.toJSON());
    }
    getAction() {
      const e2 = this.toJSON().$db.find((e3) => "action" === e3.$method);
      return e2 && e2.$param && e2.$param[0];
    }
    getCommand() {
      return { $db: this.toJSON().$db.filter((e2) => "action" !== e2.$method) };
    }
    get isAggregate() {
      let e2 = this;
      for (; e2; ) {
        const t2 = ns(e2), n2 = ns(e2.prevStage);
        if ("aggregate" === t2 && "collection" === n2 || "pipeline" === t2)
          return true;
        e2 = e2.prevStage;
      }
      return false;
    }
    get isCommand() {
      let e2 = this;
      for (; e2; ) {
        if ("command" === ns(e2))
          return true;
        e2 = e2.prevStage;
      }
      return false;
    }
    get isAggregateCommand() {
      let e2 = this;
      for (; e2; ) {
        const t2 = ns(e2), n2 = ns(e2.prevStage);
        if ("aggregate" === t2 && "command" === n2)
          return true;
        e2 = e2.prevStage;
      }
      return false;
    }
    getNextStageFn(e2) {
      const t2 = this;
      return function() {
        return rs({ $method: e2, $param: ts(Array.from(arguments)) }, t2, t2._database);
      };
    }
    get count() {
      return this.isAggregate ? this.getNextStageFn("count") : function() {
        return this._send("count", Array.from(arguments));
      };
    }
    get remove() {
      return this.isCommand ? this.getNextStageFn("remove") : function() {
        return this._send("remove", Array.from(arguments));
      };
    }
    get() {
      return this._send("get", Array.from(arguments));
    }
    get add() {
      return this.isCommand ? this.getNextStageFn("add") : function() {
        return this._send("add", Array.from(arguments));
      };
    }
    update() {
      return this._send("update", Array.from(arguments));
    }
    end() {
      return this._send("end", Array.from(arguments));
    }
    get set() {
      return this.isCommand ? this.getNextStageFn("set") : function() {
        throw new Error("JQL禁止使用set方法");
      };
    }
    _send(e2, t2) {
      const n2 = this.getAction(), s2 = this.getCommand();
      if (s2.$db.push({ $method: e2, $param: ts(t2) }), b) {
        const e3 = s2.$db.find((e4) => "collection" === e4.$method), t3 = e3 && e3.$param;
        t3 && 1 === t3.length && "string" == typeof e3.$param[0] && e3.$param[0].indexOf(",") > -1 && console.warn("检测到使用JQL语法联表查询时，未使用getTemp先过滤主表数据，在主表数据量大的情况下可能会查询缓慢。\n- 如何优化请参考此文档：https://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp \n- 如果主表数据量很小请忽略此信息，项目发行时不会出现此提示。");
      }
      return this._database._callCloudFunction({ action: n2, command: s2 });
    }
  }
  function rs(e2, t2, n2) {
    return Qn(new ss(e2, t2, n2), { get(e3, t3) {
      let s2 = "db";
      return e3 && e3.content && (s2 = e3.content.$method), es(s2, t3) ? rs({ $method: t3 }, e3, n2) : function() {
        return rs({ $method: t3, $param: ts(Array.from(arguments)) }, e3, n2);
      };
    } });
  }
  function is({ path: e2, method: t2 }) {
    return class {
      constructor() {
        this.param = Array.from(arguments);
      }
      toJSON() {
        return { $newDb: [...e2.map((e3) => ({ $method: e3 })), { $method: t2, $param: this.param }] };
      }
      toString() {
        return JSON.stringify(this.toJSON());
      }
    };
  }
  let os$1 = class os {
    constructor({ uniClient: e2 = {}, isJQL: t2 = false } = {}) {
      this._uniClient = e2, this._authCallBacks = {}, this._dbCallBacks = {}, e2._isDefault && (this._dbCallBacks = U("_globalUniCloudDatabaseCallback")), t2 || (this.auth = Xn(this._authCallBacks)), this._isJQL = t2, Object.assign(this, Xn(this._dbCallBacks)), this.env = Qn({}, { get: (e3, t3) => ({ $env: t3 }) }), this.Geo = Qn({}, { get: (e3, t3) => is({ path: ["Geo"], method: t3 }) }), this.serverDate = is({ path: [], method: "serverDate" }), this.RegExp = is({ path: [], method: "RegExp" });
    }
    getCloudEnv(e2) {
      if ("string" != typeof e2 || !e2.trim())
        throw new Error("getCloudEnv参数错误");
      return { $env: e2.replace("$cloudEnv_", "") };
    }
    _callback(e2, t2) {
      const n2 = this._dbCallBacks;
      n2[e2] && n2[e2].forEach((e3) => {
        e3(...t2);
      });
    }
    _callbackAuth(e2, t2) {
      const n2 = this._authCallBacks;
      n2[e2] && n2[e2].forEach((e3) => {
        e3(...t2);
      });
    }
    multiSend() {
      const e2 = Array.from(arguments), t2 = e2.map((e3) => {
        const t3 = e3.getAction(), n2 = e3.getCommand();
        if ("getTemp" !== n2.$db[n2.$db.length - 1].$method)
          throw new Error("multiSend只支持子命令内使用getTemp");
        return { action: t3, command: n2 };
      });
      return this._callCloudFunction({ multiCommand: t2, queryList: e2 });
    }
  };
  function as(e2, t2 = {}) {
    return Qn(new e2(t2), { get: (e3, t3) => es("db", t3) ? rs({ $method: t3 }, null, e3) : function() {
      return rs({ $method: t3, $param: ts(Array.from(arguments)) }, null, e3);
    } });
  }
  class cs extends os$1 {
    _parseResult(e2) {
      return this._isJQL ? e2.result : e2;
    }
    _callCloudFunction({ action: e2, command: t2, multiCommand: n2, queryList: s2 }) {
      function r2(e3, t3) {
        if (n2 && s2)
          for (let n3 = 0; n3 < s2.length; n3++) {
            const r3 = s2[n3];
            r3.udb && "function" == typeof r3.udb.setResult && (t3 ? r3.udb.setResult(t3) : r3.udb.setResult(e3.result.dataList[n3]));
          }
      }
      const i2 = this, o2 = this._isJQL ? "databaseForJQL" : "database";
      function a2(e3) {
        return i2._callback("error", [e3]), j($(o2, "fail"), e3).then(() => j($(o2, "complete"), e3)).then(() => (r2(null, e3), Y(H.RESPONSE, { type: J.CLIENT_DB, content: e3 }), Promise.reject(e3)));
      }
      const c2 = j($(o2, "invoke")), u2 = this._uniClient;
      return c2.then(() => u2.callFunction({ name: "DCloud-clientDB", type: l.CLIENT_DB, data: { action: e2, command: t2, multiCommand: n2 } })).then((e3) => {
        const { code: t3, message: n3, token: s3, tokenExpired: c3, systemInfo: u3 = [] } = e3.result;
        if (u3)
          for (let e4 = 0; e4 < u3.length; e4++) {
            const { level: t4, message: n4, detail: s4 } = u3[e4];
            let r3 = "[System Info]" + n4;
            s4 && (r3 = `${r3}
详细信息：${s4}`), (console["warn" === t4 ? "error" : t4] || console.log)(r3);
          }
        if (t3) {
          return a2(new te({ code: t3, message: n3, requestId: e3.requestId }));
        }
        e3.result.errCode = e3.result.errCode || e3.result.code, e3.result.errMsg = e3.result.errMsg || e3.result.message, s3 && c3 && (ie({ token: s3, tokenExpired: c3 }), this._callbackAuth("refreshToken", [{ token: s3, tokenExpired: c3 }]), this._callback("refreshToken", [{ token: s3, tokenExpired: c3 }]), Y(H.REFRESH_TOKEN, { token: s3, tokenExpired: c3 }));
        const h2 = [{ prop: "affectedDocs", tips: "affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代" }, { prop: "code", tips: "code不再推荐使用，请使用errCode替代" }, { prop: "message", tips: "message不再推荐使用，请使用errMsg替代" }];
        for (let t4 = 0; t4 < h2.length; t4++) {
          const { prop: n4, tips: s4 } = h2[t4];
          if (n4 in e3.result) {
            const t5 = e3.result[n4];
            Object.defineProperty(e3.result, n4, { get: () => (console.warn(s4), t5) });
          }
        }
        return function(e4) {
          return j($(o2, "success"), e4).then(() => j($(o2, "complete"), e4)).then(() => {
            r2(e4, null);
            const t4 = i2._parseResult(e4);
            return Y(H.RESPONSE, { type: J.CLIENT_DB, content: t4 }), Promise.resolve(t4);
          });
        }(e3);
      }, (e3) => {
        /fc_function_not_found|FUNCTION_NOT_FOUND/g.test(e3.message) && console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB");
        return a2(new te({ code: e3.code || "SYSTEM_ERROR", message: e3.message, requestId: e3.requestId }));
      });
    }
  }
  const us = "token无效，跳转登录页面", hs = "token过期，跳转登录页面", ls = { TOKEN_INVALID_TOKEN_EXPIRED: hs, TOKEN_INVALID_INVALID_CLIENTID: us, TOKEN_INVALID: us, TOKEN_INVALID_WRONG_TOKEN: us, TOKEN_INVALID_ANONYMOUS_USER: us }, ds = { "uni-id-token-expired": hs, "uni-id-check-token-failed": us, "uni-id-token-not-exist": us, "uni-id-check-device-feature-failed": us }, ps = { ...ls, ...ds, default: "用户未登录或登录状态过期，自动跳转登录页面" };
  function fs(e2, t2) {
    let n2 = "";
    return n2 = e2 ? `${e2}/${t2}` : t2, n2.replace(/^\//, "");
  }
  function gs(e2 = [], t2 = "") {
    const n2 = [], s2 = [];
    return e2.forEach((e3) => {
      true === e3.needLogin ? n2.push(fs(t2, e3.path)) : false === e3.needLogin && s2.push(fs(t2, e3.path));
    }), { needLoginPage: n2, notNeedLoginPage: s2 };
  }
  function ms(e2) {
    return e2.split("?")[0].replace(/^\//, "");
  }
  function ys() {
    return function(e2) {
      let t2 = e2 && e2.$page && e2.$page.fullPath;
      return t2 ? ("/" !== t2.charAt(0) && (t2 = "/" + t2), t2) : "";
    }(function() {
      const e2 = getCurrentPages();
      return e2[e2.length - 1];
    }());
  }
  function _s() {
    return ms(ys());
  }
  function ws(e2 = "", t2 = {}) {
    if (!e2)
      return false;
    if (!(t2 && t2.list && t2.list.length))
      return false;
    const n2 = t2.list, s2 = ms(e2);
    return n2.some((e3) => e3.pagePath === s2);
  }
  const Is = !!e.uniIdRouter;
  const { loginPage: vs, routerNeedLogin: Ss, resToLogin: Ts, needLoginPage: bs, notNeedLoginPage: Es, loginPageInTabBar: ks } = function({ pages: t2 = [], subPackages: n2 = [], uniIdRouter: s2 = {}, tabBar: r2 = {} } = e) {
    const { loginPage: i2, needLogin: o2 = [], resToLogin: a2 = true } = s2, { needLoginPage: c2, notNeedLoginPage: u2 } = gs(t2), { needLoginPage: h2, notNeedLoginPage: l2 } = function(e2 = []) {
      const t3 = [], n3 = [];
      return e2.forEach((e3) => {
        const { root: s3, pages: r3 = [] } = e3, { needLoginPage: i3, notNeedLoginPage: o3 } = gs(r3, s3);
        t3.push(...i3), n3.push(...o3);
      }), { needLoginPage: t3, notNeedLoginPage: n3 };
    }(n2);
    return { loginPage: i2, routerNeedLogin: o2, resToLogin: a2, needLoginPage: [...c2, ...h2], notNeedLoginPage: [...u2, ...l2], loginPageInTabBar: ws(i2, r2) };
  }();
  if (bs.indexOf(vs) > -1)
    throw new Error(`Login page [${vs}] should not be "needLogin", please check your pages.json`);
  function As(e2) {
    const t2 = _s();
    if ("/" === e2.charAt(0))
      return e2;
    const [n2, s2] = e2.split("?"), r2 = n2.replace(/^\//, "").split("/"), i2 = t2.split("/");
    i2.pop();
    for (let e3 = 0; e3 < r2.length; e3++) {
      const t3 = r2[e3];
      ".." === t3 ? i2.pop() : "." !== t3 && i2.push(t3);
    }
    return "" === i2[0] && i2.shift(), "/" + i2.join("/") + (s2 ? "?" + s2 : "");
  }
  function Ps(e2) {
    const t2 = ms(As(e2));
    return !(Es.indexOf(t2) > -1) && (bs.indexOf(t2) > -1 || Ss.some((t3) => function(e3, t4) {
      return new RegExp(t4).test(e3);
    }(e2, t3)));
  }
  function Cs({ redirect: e2 }) {
    const t2 = ms(e2), n2 = ms(vs);
    return _s() !== n2 && t2 !== n2;
  }
  function Os({ api: e2, redirect: t2 } = {}) {
    if (!t2 || !Cs({ redirect: t2 }))
      return;
    const n2 = function(e3, t3) {
      return "/" !== e3.charAt(0) && (e3 = "/" + e3), t3 ? e3.indexOf("?") > -1 ? e3 + `&uniIdRedirectUrl=${encodeURIComponent(t3)}` : e3 + `?uniIdRedirectUrl=${encodeURIComponent(t3)}` : e3;
    }(vs, t2);
    ks ? "navigateTo" !== e2 && "redirectTo" !== e2 || (e2 = "switchTab") : "switchTab" === e2 && (e2 = "navigateTo");
    const s2 = { navigateTo: uni.navigateTo, redirectTo: uni.redirectTo, switchTab: uni.switchTab, reLaunch: uni.reLaunch };
    setTimeout(() => {
      s2[e2]({ url: n2 });
    }, 0);
  }
  function xs({ url: e2 } = {}) {
    const t2 = { abortLoginPageJump: false, autoToLoginPage: false }, n2 = function() {
      const { token: e3, tokenExpired: t3 } = re();
      let n3;
      if (e3) {
        if (t3 < Date.now()) {
          const e4 = "uni-id-token-expired";
          n3 = { errCode: e4, errMsg: ps[e4] };
        }
      } else {
        const e4 = "uni-id-check-token-failed";
        n3 = { errCode: e4, errMsg: ps[e4] };
      }
      return n3;
    }();
    if (Ps(e2) && n2) {
      n2.uniIdRedirectUrl = e2;
      if (z(H.NEED_LOGIN).length > 0)
        return setTimeout(() => {
          Y(H.NEED_LOGIN, n2);
        }, 0), t2.abortLoginPageJump = true, t2;
      t2.autoToLoginPage = true;
    }
    return t2;
  }
  function Ns() {
    !function() {
      const e3 = ys(), { abortLoginPageJump: t2, autoToLoginPage: n2 } = xs({ url: e3 });
      t2 || n2 && Os({ api: "redirectTo", redirect: e3 });
    }();
    const e2 = ["navigateTo", "redirectTo", "reLaunch", "switchTab"];
    for (let t2 = 0; t2 < e2.length; t2++) {
      const n2 = e2[t2];
      uni.addInterceptor(n2, { invoke(e3) {
        const { abortLoginPageJump: t3, autoToLoginPage: s2 } = xs({ url: e3.url });
        return t3 ? e3 : s2 ? (Os({ api: n2, redirect: As(e3.url) }), false) : e3;
      } });
    }
  }
  function Rs() {
    this.onResponse((e2) => {
      const { type: t2, content: n2 } = e2;
      let s2 = false;
      switch (t2) {
        case "cloudobject":
          s2 = function(e3) {
            if ("object" != typeof e3)
              return false;
            const { errCode: t3 } = e3 || {};
            return t3 in ps;
          }(n2);
          break;
        case "clientdb":
          s2 = function(e3) {
            if ("object" != typeof e3)
              return false;
            const { errCode: t3 } = e3 || {};
            return t3 in ls;
          }(n2);
      }
      s2 && function(e3 = {}) {
        const t3 = z(H.NEED_LOGIN);
        Z().then(() => {
          const n3 = ys();
          if (n3 && Cs({ redirect: n3 }))
            return t3.length > 0 ? Y(H.NEED_LOGIN, Object.assign({ uniIdRedirectUrl: n3 }, e3)) : void (vs && Os({ api: "navigateTo", redirect: n3 }));
        });
      }(n2);
    });
  }
  function Ls(e2) {
    !function(e3) {
      e3.onResponse = function(e4) {
        V(H.RESPONSE, e4);
      }, e3.offResponse = function(e4) {
        G(H.RESPONSE, e4);
      };
    }(e2), function(e3) {
      e3.onNeedLogin = function(e4) {
        V(H.NEED_LOGIN, e4);
      }, e3.offNeedLogin = function(e4) {
        G(H.NEED_LOGIN, e4);
      }, Is && (U(Qt).needLoginInit || (U(Qt).needLoginInit = true, Z().then(() => {
        Ns.call(e3);
      }), Ts && Rs.call(e3)));
    }(e2), function(e3) {
      e3.onRefreshToken = function(e4) {
        V(H.REFRESH_TOKEN, e4);
      }, e3.offRefreshToken = function(e4) {
        G(H.REFRESH_TOKEN, e4);
      };
    }(e2);
  }
  let Us;
  const Ds = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", Ms = /^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;
  function qs() {
    const e2 = re().token || "", t2 = e2.split(".");
    if (!e2 || 3 !== t2.length)
      return { uid: null, role: [], permission: [], tokenExpired: 0 };
    let n2;
    try {
      n2 = JSON.parse((s2 = t2[1], decodeURIComponent(Us(s2).split("").map(function(e3) {
        return "%" + ("00" + e3.charCodeAt(0).toString(16)).slice(-2);
      }).join(""))));
    } catch (e3) {
      throw new Error("获取当前用户信息出错，详细错误信息为：" + e3.message);
    }
    var s2;
    return n2.tokenExpired = 1e3 * n2.exp, delete n2.exp, delete n2.iat, n2;
  }
  Us = "function" != typeof atob ? function(e2) {
    if (e2 = String(e2).replace(/[\t\n\f\r ]+/g, ""), !Ms.test(e2))
      throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");
    var t2;
    e2 += "==".slice(2 - (3 & e2.length));
    for (var n2, s2, r2 = "", i2 = 0; i2 < e2.length; )
      t2 = Ds.indexOf(e2.charAt(i2++)) << 18 | Ds.indexOf(e2.charAt(i2++)) << 12 | (n2 = Ds.indexOf(e2.charAt(i2++))) << 6 | (s2 = Ds.indexOf(e2.charAt(i2++))), r2 += 64 === n2 ? String.fromCharCode(t2 >> 16 & 255) : 64 === s2 ? String.fromCharCode(t2 >> 16 & 255, t2 >> 8 & 255) : String.fromCharCode(t2 >> 16 & 255, t2 >> 8 & 255, 255 & t2);
    return r2;
  } : atob;
  var Fs = n(function(e2, t2) {
    Object.defineProperty(t2, "__esModule", { value: true });
    const n2 = "chooseAndUploadFile:ok", s2 = "chooseAndUploadFile:fail";
    function r2(e3, t3) {
      return e3.tempFiles.forEach((e4, n3) => {
        e4.name || (e4.name = e4.path.substring(e4.path.lastIndexOf("/") + 1)), t3 && (e4.fileType = t3), e4.cloudPath = Date.now() + "_" + n3 + e4.name.substring(e4.name.lastIndexOf("."));
      }), e3.tempFilePaths || (e3.tempFilePaths = e3.tempFiles.map((e4) => e4.path)), e3;
    }
    function i2(e3, t3, { onChooseFile: s3, onUploadProgress: r3 }) {
      return t3.then((e4) => {
        if (s3) {
          const t4 = s3(e4);
          if (void 0 !== t4)
            return Promise.resolve(t4).then((t5) => void 0 === t5 ? e4 : t5);
        }
        return e4;
      }).then((t4) => false === t4 ? { errMsg: n2, tempFilePaths: [], tempFiles: [] } : function(e4, t5, s4 = 5, r4) {
        (t5 = Object.assign({}, t5)).errMsg = n2;
        const i3 = t5.tempFiles, o2 = i3.length;
        let a2 = 0;
        return new Promise((n3) => {
          for (; a2 < s4; )
            c2();
          function c2() {
            const s5 = a2++;
            if (s5 >= o2)
              return void (!i3.find((e5) => !e5.url && !e5.errMsg) && n3(t5));
            const u2 = i3[s5];
            e4.uploadFile({ provider: u2.provider, filePath: u2.path, cloudPath: u2.cloudPath, fileType: u2.fileType, cloudPathAsRealPath: u2.cloudPathAsRealPath, onUploadProgress(e5) {
              e5.index = s5, e5.tempFile = u2, e5.tempFilePath = u2.path, r4 && r4(e5);
            } }).then((e5) => {
              u2.url = e5.fileID, s5 < o2 && c2();
            }).catch((e5) => {
              u2.errMsg = e5.errMsg || e5.message, s5 < o2 && c2();
            });
          }
        });
      }(e3, t4, 5, r3));
    }
    t2.initChooseAndUploadFile = function(e3) {
      return function(t3 = { type: "all" }) {
        return "image" === t3.type ? i2(e3, function(e4) {
          const { count: t4, sizeType: n3, sourceType: i3 = ["album", "camera"], extension: o2 } = e4;
          return new Promise((e5, a2) => {
            uni.chooseImage({ count: t4, sizeType: n3, sourceType: i3, extension: o2, success(t5) {
              e5(r2(t5, "image"));
            }, fail(e6) {
              a2({ errMsg: e6.errMsg.replace("chooseImage:fail", s2) });
            } });
          });
        }(t3), t3) : "video" === t3.type ? i2(e3, function(e4) {
          const { camera: t4, compressed: n3, maxDuration: i3, sourceType: o2 = ["album", "camera"], extension: a2 } = e4;
          return new Promise((e5, c2) => {
            uni.chooseVideo({ camera: t4, compressed: n3, maxDuration: i3, sourceType: o2, extension: a2, success(t5) {
              const { tempFilePath: n4, duration: s3, size: i4, height: o3, width: a3 } = t5;
              e5(r2({ errMsg: "chooseVideo:ok", tempFilePaths: [n4], tempFiles: [{ name: t5.tempFile && t5.tempFile.name || "", path: n4, size: i4, type: t5.tempFile && t5.tempFile.type || "", width: a3, height: o3, duration: s3, fileType: "video", cloudPath: "" }] }, "video"));
            }, fail(e6) {
              c2({ errMsg: e6.errMsg.replace("chooseVideo:fail", s2) });
            } });
          });
        }(t3), t3) : i2(e3, function(e4) {
          const { count: t4, extension: n3 } = e4;
          return new Promise((e5, i3) => {
            let o2 = uni.chooseFile;
            if ("undefined" != typeof wx && "function" == typeof wx.chooseMessageFile && (o2 = wx.chooseMessageFile), "function" != typeof o2)
              return i3({ errMsg: s2 + " 请指定 type 类型，该平台仅支持选择 image 或 video。" });
            o2({ type: "all", count: t4, extension: n3, success(t5) {
              e5(r2(t5));
            }, fail(e6) {
              i3({ errMsg: e6.errMsg.replace("chooseFile:fail", s2) });
            } });
          });
        }(t3), t3);
      };
    };
  }), Ks = t$3(Fs);
  const js = { auto: "auto", onready: "onready", manual: "manual" };
  function $s(e2) {
    return { props: { localdata: { type: Array, default: () => [] }, options: { type: [Object, Array], default: () => ({}) }, spaceInfo: { type: Object, default: () => ({}) }, collection: { type: [String, Array], default: "" }, action: { type: String, default: "" }, field: { type: String, default: "" }, orderby: { type: String, default: "" }, where: { type: [String, Object], default: "" }, pageData: { type: String, default: "add" }, pageCurrent: { type: Number, default: 1 }, pageSize: { type: Number, default: 20 }, getcount: { type: [Boolean, String], default: false }, gettree: { type: [Boolean, String], default: false }, gettreepath: { type: [Boolean, String], default: false }, startwith: { type: String, default: "" }, limitlevel: { type: Number, default: 10 }, groupby: { type: String, default: "" }, groupField: { type: String, default: "" }, distinct: { type: [Boolean, String], default: false }, foreignKey: { type: String, default: "" }, loadtime: { type: String, default: "auto" }, manual: { type: Boolean, default: false } }, data: () => ({ mixinDatacomLoading: false, mixinDatacomHasMore: false, mixinDatacomResData: [], mixinDatacomErrorMessage: "", mixinDatacomPage: {}, mixinDatacomError: null }), created() {
      this.mixinDatacomPage = { current: this.pageCurrent, size: this.pageSize, count: 0 }, this.$watch(() => {
        var e3 = [];
        return ["pageCurrent", "pageSize", "localdata", "collection", "action", "field", "orderby", "where", "getont", "getcount", "gettree", "groupby", "groupField", "distinct"].forEach((t2) => {
          e3.push(this[t2]);
        }), e3;
      }, (e3, t2) => {
        if (this.loadtime === js.manual)
          return;
        let n2 = false;
        const s2 = [];
        for (let r2 = 2; r2 < e3.length; r2++)
          e3[r2] !== t2[r2] && (s2.push(e3[r2]), n2 = true);
        e3[0] !== t2[0] && (this.mixinDatacomPage.current = this.pageCurrent), this.mixinDatacomPage.size = this.pageSize, this.onMixinDatacomPropsChange(n2, s2);
      });
    }, methods: { onMixinDatacomPropsChange(e3, t2) {
    }, mixinDatacomEasyGet({ getone: e3 = false, success: t2, fail: n2 } = {}) {
      this.mixinDatacomLoading || (this.mixinDatacomLoading = true, this.mixinDatacomErrorMessage = "", this.mixinDatacomError = null, this.mixinDatacomGet().then((n3) => {
        this.mixinDatacomLoading = false;
        const { data: s2, count: r2 } = n3.result;
        this.getcount && (this.mixinDatacomPage.count = r2), this.mixinDatacomHasMore = s2.length < this.pageSize;
        const i2 = e3 ? s2.length ? s2[0] : void 0 : s2;
        this.mixinDatacomResData = i2, t2 && t2(i2);
      }).catch((e4) => {
        this.mixinDatacomLoading = false, this.mixinDatacomErrorMessage = e4, this.mixinDatacomError = e4, n2 && n2(e4);
      }));
    }, mixinDatacomGet(t2 = {}) {
      let n2;
      t2 = t2 || {}, n2 = "undefined" != typeof __uniX && __uniX ? e2.databaseForJQL(this.spaceInfo) : e2.database(this.spaceInfo);
      const s2 = t2.action || this.action;
      s2 && (n2 = n2.action(s2));
      const r2 = t2.collection || this.collection;
      n2 = Array.isArray(r2) ? n2.collection(...r2) : n2.collection(r2);
      const i2 = t2.where || this.where;
      i2 && Object.keys(i2).length && (n2 = n2.where(i2));
      const o2 = t2.field || this.field;
      o2 && (n2 = n2.field(o2));
      const a2 = t2.foreignKey || this.foreignKey;
      a2 && (n2 = n2.foreignKey(a2));
      const c2 = t2.groupby || this.groupby;
      c2 && (n2 = n2.groupBy(c2));
      const u2 = t2.groupField || this.groupField;
      u2 && (n2 = n2.groupField(u2));
      true === (void 0 !== t2.distinct ? t2.distinct : this.distinct) && (n2 = n2.distinct());
      const h2 = t2.orderby || this.orderby;
      h2 && (n2 = n2.orderBy(h2));
      const l2 = void 0 !== t2.pageCurrent ? t2.pageCurrent : this.mixinDatacomPage.current, d2 = void 0 !== t2.pageSize ? t2.pageSize : this.mixinDatacomPage.size, p2 = void 0 !== t2.getcount ? t2.getcount : this.getcount, f2 = void 0 !== t2.gettree ? t2.gettree : this.gettree, g2 = void 0 !== t2.gettreepath ? t2.gettreepath : this.gettreepath, m2 = { getCount: p2 }, y2 = { limitLevel: void 0 !== t2.limitlevel ? t2.limitlevel : this.limitlevel, startWith: void 0 !== t2.startwith ? t2.startwith : this.startwith };
      return f2 && (m2.getTree = y2), g2 && (m2.getTreePath = y2), n2 = n2.skip(d2 * (l2 - 1)).limit(d2).get(m2), n2;
    } } };
  }
  function Bs(e2) {
    return function(t2, n2 = {}) {
      n2 = function(e3, t3 = {}) {
        return e3.customUI = t3.customUI || e3.customUI, e3.parseSystemError = t3.parseSystemError || e3.parseSystemError, Object.assign(e3.loadingOptions, t3.loadingOptions), Object.assign(e3.errorOptions, t3.errorOptions), "object" == typeof t3.secretMethods && (e3.secretMethods = t3.secretMethods), e3;
      }({ customUI: false, loadingOptions: { title: "加载中...", mask: true }, errorOptions: { type: "modal", retry: false } }, n2);
      const { customUI: s2, loadingOptions: r2, errorOptions: i2, parseSystemError: o2 } = n2, a2 = !s2;
      return new Proxy({}, { get(s3, c2) {
        switch (c2) {
          case "toString":
            return "[object UniCloudObject]";
          case "toJSON":
            return {};
        }
        return function({ fn: e3, interceptorName: t3, getCallbackArgs: n3 } = {}) {
          return async function(...s4) {
            const r3 = n3 ? n3({ params: s4 }) : {};
            let i3, o3;
            try {
              return await j($(t3, "invoke"), { ...r3 }), i3 = await e3(...s4), await j($(t3, "success"), { ...r3, result: i3 }), i3;
            } catch (e4) {
              throw o3 = e4, await j($(t3, "fail"), { ...r3, error: o3 }), o3;
            } finally {
              await j($(t3, "complete"), o3 ? { ...r3, error: o3 } : { ...r3, result: i3 });
            }
          };
        }({ fn: async function s4(...u2) {
          let h2;
          a2 && uni.showLoading({ title: r2.title, mask: r2.mask });
          const d2 = { name: t2, type: l.OBJECT, data: { method: c2, params: u2 } };
          "object" == typeof n2.secretMethods && function(e3, t3) {
            const n3 = t3.data.method, s5 = e3.secretMethods || {}, r3 = s5[n3] || s5["*"];
            r3 && (t3.secretType = r3);
          }(n2, d2);
          let p2 = false;
          try {
            h2 = await e2.callFunction(d2);
          } catch (e3) {
            p2 = true, h2 = { result: new te(e3) };
          }
          const { errSubject: f2, errCode: g2, errMsg: m2, newToken: y2 } = h2.result || {};
          if (a2 && uni.hideLoading(), y2 && y2.token && y2.tokenExpired && (ie(y2), Y(H.REFRESH_TOKEN, { ...y2 })), g2) {
            let e3 = m2;
            if (p2 && o2) {
              e3 = (await o2({ objectName: t2, methodName: c2, params: u2, errSubject: f2, errCode: g2, errMsg: m2 })).errMsg || m2;
            }
            if (a2)
              if ("toast" === i2.type)
                uni.showToast({ title: e3, icon: "none" });
              else {
                if ("modal" !== i2.type)
                  throw new Error(`Invalid errorOptions.type: ${i2.type}`);
                {
                  const { confirm: t3 } = await async function({ title: e4, content: t4, showCancel: n4, cancelText: s5, confirmText: r3 } = {}) {
                    return new Promise((i3, o3) => {
                      uni.showModal({ title: e4, content: t4, showCancel: n4, cancelText: s5, confirmText: r3, success(e5) {
                        i3(e5);
                      }, fail() {
                        i3({ confirm: false, cancel: true });
                      } });
                    });
                  }({ title: "提示", content: e3, showCancel: i2.retry, cancelText: "取消", confirmText: i2.retry ? "重试" : "确定" });
                  if (i2.retry && t3)
                    return s4(...u2);
                }
              }
            const n3 = new te({ subject: f2, code: g2, message: m2, requestId: h2.requestId });
            throw n3.detail = h2.result, Y(H.RESPONSE, { type: J.CLOUD_OBJECT, content: n3 }), n3;
          }
          return Y(H.RESPONSE, { type: J.CLOUD_OBJECT, content: h2.result }), h2.result;
        }, interceptorName: "callObject", getCallbackArgs: function({ params: e3 } = {}) {
          return { objectName: t2, methodName: c2, params: e3 };
        } });
      } });
    };
  }
  function Ws(e2) {
    return U(Xt.replace("{spaceId}", e2.config.spaceId));
  }
  async function Hs({ openid: e2, callLoginByWeixin: t2 = false } = {}) {
    Ws(this);
    throw new Error(`[SecureNetwork] API \`initSecureNetworkByWeixin\` is not supported on platform \`${P}\``);
  }
  async function Js(e2) {
    const t2 = Ws(this);
    return t2.initPromise || (t2.initPromise = Hs.call(this, e2).then((e3) => e3).catch((e3) => {
      throw delete t2.initPromise, e3;
    })), t2.initPromise;
  }
  function zs(e2) {
    return function({ openid: t2, callLoginByWeixin: n2 = false } = {}) {
      return Js.call(e2, { openid: t2, callLoginByWeixin: n2 });
    };
  }
  function Vs(e2) {
    !function(e3) {
      he = e3;
    }(e2);
  }
  function Gs(e2) {
    const n2 = { getAppBaseInfo: uni.getSystemInfo, getPushClientId: uni.getPushClientId };
    return function(s2) {
      return new Promise((r2, i2) => {
        n2[e2]({ ...s2, success(e3) {
          r2(e3);
        }, fail(e3) {
          i2(e3);
        } });
      });
    };
  }
  class Ys extends S {
    constructor() {
      super(), this._uniPushMessageCallback = this._receivePushMessage.bind(this), this._currentMessageId = -1, this._payloadQueue = [];
    }
    init() {
      return Promise.all([Gs("getAppBaseInfo")(), Gs("getPushClientId")()]).then(([{ appId: e2 } = {}, { cid: t2 } = {}] = []) => {
        if (!e2)
          throw new Error("Invalid appId, please check the manifest.json file");
        if (!t2)
          throw new Error("Invalid push client id");
        this._appId = e2, this._pushClientId = t2, this._seqId = Date.now() + "-" + Math.floor(9e5 * Math.random() + 1e5), this.emit("open"), this._initMessageListener();
      }, (e2) => {
        throw this.emit("error", e2), this.close(), e2;
      });
    }
    async open() {
      return this.init();
    }
    _isUniCloudSSE(e2) {
      if ("receive" !== e2.type)
        return false;
      const t2 = e2 && e2.data && e2.data.payload;
      return !(!t2 || "UNI_CLOUD_SSE" !== t2.channel || t2.seqId !== this._seqId);
    }
    _receivePushMessage(e2) {
      if (!this._isUniCloudSSE(e2))
        return;
      const t2 = e2 && e2.data && e2.data.payload, { action: n2, messageId: s2, message: r2 } = t2;
      this._payloadQueue.push({ action: n2, messageId: s2, message: r2 }), this._consumMessage();
    }
    _consumMessage() {
      for (; ; ) {
        const e2 = this._payloadQueue.find((e3) => e3.messageId === this._currentMessageId + 1);
        if (!e2)
          break;
        this._currentMessageId++, this._parseMessagePayload(e2);
      }
    }
    _parseMessagePayload(e2) {
      const { action: t2, messageId: n2, message: s2 } = e2;
      "end" === t2 ? this._end({ messageId: n2, message: s2 }) : "message" === t2 && this._appendMessage({ messageId: n2, message: s2 });
    }
    _appendMessage({ messageId: e2, message: t2 } = {}) {
      this.emit("message", t2);
    }
    _end({ messageId: e2, message: t2 } = {}) {
      this.emit("end", t2), this.close();
    }
    _initMessageListener() {
      uni.onPushMessage(this._uniPushMessageCallback);
    }
    _destroy() {
      uni.offPushMessage(this._uniPushMessageCallback);
    }
    toJSON() {
      return { appId: this._appId, pushClientId: this._pushClientId, seqId: this._seqId };
    }
    close() {
      this._destroy(), this.emit("close");
    }
  }
  async function Qs(e2) {
    {
      const { osName: e3, osVersion: t3 } = ce();
      "ios" === e3 && function(e4) {
        if (!e4 || "string" != typeof e4)
          return 0;
        const t4 = e4.match(/^(\d+)./);
        return t4 && t4[1] ? parseInt(t4[1]) : 0;
      }(t3) >= 14 && console.warn("iOS 14及以上版本连接uniCloud本地调试服务需要允许客户端查找并连接到本地网络上的设备（仅开发期间需要，发行后不需要）");
    }
    const t2 = e2.__dev__;
    if (!t2.debugInfo)
      return;
    const { address: n2, servePort: s2 } = t2.debugInfo, { address: r2 } = await Ot(n2, s2);
    if (r2)
      return t2.localAddress = r2, void (t2.localPort = s2);
    const i2 = console["error"];
    let o2 = "";
    if ("remote" === t2.debugInfo.initialLaunchType ? (t2.debugInfo.forceRemote = true, o2 = "当前客户端和HBuilderX不在同一局域网下（或其他网络原因无法连接HBuilderX），uniCloud本地调试服务不对当前客户端生效。\n- 如果不使用uniCloud本地调试服务，请直接忽略此信息。\n- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。") : o2 = "无法连接uniCloud本地调试服务，请检查当前客户端是否与主机在同一局域网下。\n- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。", o2 += "\n- 如果在HBuilderX开启的状态下切换过网络环境，请重启HBuilderX后再试\n- 检查系统防火墙是否拦截了HBuilderX自带的nodejs\n- 检查是否错误的使用拦截器修改uni.request方法的参数", 0 === P.indexOf("mp-") && (o2 += "\n- 小程序中如何使用uniCloud，请参考：https://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp"), !t2.debugInfo.forceRemote)
      throw new Error(o2);
    i2(o2);
  }
  function Xs(e2) {
    e2._initPromiseHub || (e2._initPromiseHub = new v({ createPromise: function() {
      let t2 = Promise.resolve();
      var n2;
      n2 = 1, t2 = new Promise((e3) => {
        setTimeout(() => {
          e3();
        }, n2);
      });
      const s2 = e2.auth();
      return t2.then(() => s2.getLoginState()).then((e3) => e3 ? Promise.resolve() : s2.signInAnonymously());
    } }));
  }
  const Zs = { tcb: Pt, tencent: Pt, aliyun: fe, private: Rt, dcloud: Rt, alipay: Bt };
  let er = new class {
    init(e2) {
      let t2 = {};
      const n2 = Zs[e2.provider];
      if (!n2)
        throw new Error("未提供正确的provider参数");
      t2 = n2.init(e2), function(e3) {
        const t3 = {};
        e3.__dev__ = t3, t3.debugLog = "app" === P;
        const n3 = C;
        n3 && !n3.code && (t3.debugInfo = n3);
        const s2 = new v({ createPromise: function() {
          return Qs(e3);
        } });
        t3.initLocalNetwork = function() {
          return s2.exec();
        };
      }(t2), Xs(t2), Gn(t2), function(e3) {
        const t3 = e3.uploadFile;
        e3.uploadFile = function(e4) {
          return t3.call(this, e4);
        };
      }(t2), function(e3) {
        e3.database = function(t3) {
          if (t3 && Object.keys(t3).length > 0)
            return e3.init(t3).database();
          if (this._database)
            return this._database;
          const n3 = as(cs, { uniClient: e3 });
          return this._database = n3, n3;
        }, e3.databaseForJQL = function(t3) {
          if (t3 && Object.keys(t3).length > 0)
            return e3.init(t3).databaseForJQL();
          if (this._databaseForJQL)
            return this._databaseForJQL;
          const n3 = as(cs, { uniClient: e3, isJQL: true });
          return this._databaseForJQL = n3, n3;
        };
      }(t2), function(e3) {
        e3.getCurrentUserInfo = qs, e3.chooseAndUploadFile = Ks.initChooseAndUploadFile(e3), Object.assign(e3, { get mixinDatacom() {
          return $s(e3);
        } }), e3.SSEChannel = Ys, e3.initSecureNetworkByWeixin = zs(e3), e3.setCustomClientInfo = Vs, e3.importObject = Bs(e3);
      }(t2);
      return ["callFunction", "uploadFile", "deleteFile", "getTempFileURL", "downloadFile", "chooseAndUploadFile"].forEach((e3) => {
        if (!t2[e3])
          return;
        const n3 = t2[e3];
        t2[e3] = function() {
          return n3.apply(t2, Array.from(arguments));
        }, t2[e3] = (/* @__PURE__ */ function(e4, t3) {
          return function(n4) {
            let s2 = false;
            if ("callFunction" === t3) {
              const e5 = n4 && n4.type || l.DEFAULT;
              s2 = e5 !== l.DEFAULT;
            }
            const r2 = "callFunction" === t3 && !s2, i2 = this._initPromiseHub.exec();
            n4 = n4 || {};
            const { success: o2, fail: a2, complete: c2 } = ee(n4), u2 = i2.then(() => s2 ? Promise.resolve() : j($(t3, "invoke"), n4)).then(() => e4.call(this, n4)).then((e5) => s2 ? Promise.resolve(e5) : j($(t3, "success"), e5).then(() => j($(t3, "complete"), e5)).then(() => (r2 && Y(H.RESPONSE, { type: J.CLOUD_FUNCTION, content: e5 }), Promise.resolve(e5))), (e5) => s2 ? Promise.reject(e5) : j($(t3, "fail"), e5).then(() => j($(t3, "complete"), e5)).then(() => (Y(H.RESPONSE, { type: J.CLOUD_FUNCTION, content: e5 }), Promise.reject(e5))));
            if (!(o2 || a2 || c2))
              return u2;
            u2.then((e5) => {
              o2 && o2(e5), c2 && c2(e5), r2 && Y(H.RESPONSE, { type: J.CLOUD_FUNCTION, content: e5 });
            }, (e5) => {
              a2 && a2(e5), c2 && c2(e5), r2 && Y(H.RESPONSE, { type: J.CLOUD_FUNCTION, content: e5 });
            });
          };
        }(t2[e3], e3)).bind(t2);
      }), t2.init = this.init, t2;
    }
  }();
  (() => {
    const e2 = O;
    let t2 = {};
    if (e2 && 1 === e2.length)
      t2 = e2[0], er = er.init(t2), er._isDefault = true;
    else {
      const t3 = ["auth", "callFunction", "uploadFile", "deleteFile", "getTempFileURL", "downloadFile"], n2 = ["database", "getCurrentUserInfo", "importObject"];
      let s2;
      s2 = e2 && e2.length > 0 ? "应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间" : "应用未关联服务空间，请在uniCloud目录右键关联服务空间", [...t3, ...n2].forEach((e3) => {
        er[e3] = function() {
          if (console.error(s2), -1 === n2.indexOf(e3))
            return Promise.reject(new te({ code: "SYS_ERR", message: s2 }));
          console.error(s2);
        };
      });
    }
    if (Object.assign(er, { get mixinDatacom() {
      return $s(er);
    } }), Ls(er), er.addInterceptor = F, er.removeInterceptor = K, er.interceptObject = B, uni.__uniCloud = er, "app" === P) {
      const e3 = D();
      e3.uniCloud = er, e3.UniCloudError = te;
    }
  })();
  var tr = er;
  const en$1 = {
    "uni-load-more.contentdown": "Pull up to show more",
    "uni-load-more.contentrefresh": "loading...",
    "uni-load-more.contentnomore": "No more data"
  };
  const zhHans$1 = {
    "uni-load-more.contentdown": "上拉显示更多",
    "uni-load-more.contentrefresh": "正在加载...",
    "uni-load-more.contentnomore": "没有更多数据了"
  };
  const zhHant$1 = {
    "uni-load-more.contentdown": "上拉顯示更多",
    "uni-load-more.contentrefresh": "正在加載...",
    "uni-load-more.contentnomore": "沒有更多數據了"
  };
  const messages = {
    en: en$1,
    "zh-Hans": zhHans$1,
    "zh-Hant": zhHant$1
  };
  let platform;
  setTimeout(() => {
    platform = uni.getSystemInfoSync().platform;
  }, 16);
  const {
    t: t$2
  } = initVueI18n(messages);
  const _sfc_main$24 = {
    name: "UniLoadMore",
    emits: ["clickLoadMore"],
    props: {
      status: {
        // 上拉的状态：more-loading前；loading-loading中；noMore-没有更多了
        type: String,
        default: "more"
      },
      showIcon: {
        type: Boolean,
        default: true
      },
      iconType: {
        type: String,
        default: "auto"
      },
      iconSize: {
        type: Number,
        default: 24
      },
      color: {
        type: String,
        default: "#777777"
      },
      contentText: {
        type: Object,
        default() {
          return {
            contentdown: "",
            contentrefresh: "",
            contentnomore: ""
          };
        }
      },
      showText: {
        type: Boolean,
        default: true
      }
    },
    data() {
      return {
        webviewHide: false,
        platform,
        imgBase64: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="
      };
    },
    computed: {
      iconSnowWidth() {
        return (Math.floor(this.iconSize / 24) || 1) * 2;
      },
      contentdownText() {
        return this.contentText.contentdown || t$2("uni-load-more.contentdown");
      },
      contentrefreshText() {
        return this.contentText.contentrefresh || t$2("uni-load-more.contentrefresh");
      },
      contentnomoreText() {
        return this.contentText.contentnomore || t$2("uni-load-more.contentnomore");
      }
    },
    mounted() {
      var pages2 = getCurrentPages();
      var page = pages2[pages2.length - 1];
      var currentWebview = page.$getAppWebview();
      currentWebview.addEventListener("hide", () => {
        this.webviewHide = true;
      });
      currentWebview.addEventListener("show", () => {
        this.webviewHide = false;
      });
    },
    methods: {
      onClick() {
        this.$emit("clickLoadMore", {
          detail: {
            status: this.status
          }
        });
      }
    }
  };
  function _sfc_render$23(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", {
      class: "uni-load-more",
      onClick: _cache[0] || (_cache[0] = (...args) => $options.onClick && $options.onClick(...args))
    }, [
      !$data.webviewHide && ($props.iconType === "circle" || $props.iconType === "auto" && $data.platform === "android") && $props.status === "loading" && $props.showIcon ? (vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 0,
          style: vue.normalizeStyle({ width: $props.iconSize + "px", height: $props.iconSize + "px" }),
          class: "uni-load-more__img uni-load-more__img--android-MP"
        },
        [
          vue.createElementVNode(
            "view",
            {
              class: "uni-load-more__img-icon",
              style: vue.normalizeStyle({ borderTopColor: $props.color, borderTopWidth: $props.iconSize / 12 })
            },
            null,
            4
            /* STYLE */
          ),
          vue.createElementVNode(
            "view",
            {
              class: "uni-load-more__img-icon",
              style: vue.normalizeStyle({ borderTopColor: $props.color, borderTopWidth: $props.iconSize / 12 })
            },
            null,
            4
            /* STYLE */
          ),
          vue.createElementVNode(
            "view",
            {
              class: "uni-load-more__img-icon",
              style: vue.normalizeStyle({ borderTopColor: $props.color, borderTopWidth: $props.iconSize / 12 })
            },
            null,
            4
            /* STYLE */
          )
        ],
        4
        /* STYLE */
      )) : !$data.webviewHide && $props.status === "loading" && $props.showIcon ? (vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 1,
          style: vue.normalizeStyle({ width: $props.iconSize + "px", height: $props.iconSize + "px" }),
          class: "uni-load-more__img uni-load-more__img--ios-H5"
        },
        [
          vue.createElementVNode("image", {
            src: $data.imgBase64,
            mode: "widthFix"
          }, null, 8, ["src"])
        ],
        4
        /* STYLE */
      )) : vue.createCommentVNode("v-if", true),
      $props.showText ? (vue.openBlock(), vue.createElementBlock(
        "text",
        {
          key: 2,
          class: "uni-load-more__text",
          style: vue.normalizeStyle({ color: $props.color })
        },
        vue.toDisplayString($props.status === "more" ? $options.contentdownText : $props.status === "loading" ? $options.contentrefreshText : $options.contentnomoreText),
        5
        /* TEXT, STYLE */
      )) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const __easycom_0$7 = /* @__PURE__ */ _export_sfc(_sfc_main$24, [["render", _sfc_render$23], ["__scopeId", "data-v-9245e42c"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue"]]);
  const _sfc_main$23 = {
    name: "uniDataChecklist",
    mixins: [tr.mixinDatacom || {}],
    emits: ["input", "update:modelValue", "change"],
    props: {
      mode: {
        type: String,
        default: "default"
      },
      multiple: {
        type: Boolean,
        default: false
      },
      value: {
        type: [Array, String, Number],
        default() {
          return "";
        }
      },
      // TODO vue3
      modelValue: {
        type: [Array, String, Number],
        default() {
          return "";
        }
      },
      localdata: {
        type: Array,
        default() {
          return [];
        }
      },
      min: {
        type: [Number, String],
        default: ""
      },
      max: {
        type: [Number, String],
        default: ""
      },
      wrap: {
        type: Boolean,
        default: false
      },
      icon: {
        type: String,
        default: "left"
      },
      selectedColor: {
        type: String,
        default: ""
      },
      selectedTextColor: {
        type: String,
        default: ""
      },
      emptyText: {
        type: String,
        default: "暂无数据"
      },
      disabled: {
        type: Boolean,
        default: false
      },
      map: {
        type: Object,
        default() {
          return {
            text: "text",
            value: "value"
          };
        }
      }
    },
    watch: {
      localdata: {
        handler(newVal) {
          this.range = newVal;
          this.dataList = this.getDataList(this.getSelectedValue(newVal));
        },
        deep: true
      },
      mixinDatacomResData(newVal) {
        this.range = newVal;
        this.dataList = this.getDataList(this.getSelectedValue(newVal));
      },
      value(newVal) {
        this.dataList = this.getDataList(newVal);
      },
      modelValue(newVal) {
        this.dataList = this.getDataList(newVal);
      }
    },
    data() {
      return {
        dataList: [],
        range: [],
        contentText: {
          contentdown: "查看更多",
          contentrefresh: "加载中",
          contentnomore: "没有更多"
        },
        isLocal: true,
        styles: {
          selectedColor: "#2979ff",
          selectedTextColor: "#666"
        },
        isTop: 0
      };
    },
    computed: {
      dataValue() {
        if (this.value === "")
          return this.modelValue;
        if (this.modelValue === "")
          return this.value;
        return this.value;
      }
    },
    created() {
      if (this.localdata && this.localdata.length !== 0) {
        this.isLocal = true;
        this.range = this.localdata;
        this.dataList = this.getDataList(this.getSelectedValue(this.range));
      } else {
        if (this.collection) {
          this.isLocal = false;
          this.loadData();
        }
      }
    },
    methods: {
      loadData() {
        this.mixinDatacomGet().then((res2) => {
          this.mixinDatacomResData = res2.result.data;
          if (this.mixinDatacomResData.length === 0) {
            this.isLocal = false;
            this.mixinDatacomErrorMessage = this.emptyText;
          } else {
            this.isLocal = true;
          }
        }).catch((err) => {
          this.mixinDatacomErrorMessage = err.message;
        });
      },
      /**
       * 获取父元素实例
       */
      getForm(name = "uniForms") {
        let parent = this.$parent;
        let parentName = parent.$options.name;
        while (parentName !== name) {
          parent = parent.$parent;
          if (!parent)
            return false;
          parentName = parent.$options.name;
        }
        return parent;
      },
      change(e2) {
        const values = e2.detail.value;
        let detail = {
          value: [],
          data: []
        };
        if (this.multiple) {
          this.range.forEach((item) => {
            if (values.includes(item[this.map.value] + "")) {
              detail.value.push(item[this.map.value]);
              detail.data.push(item);
            }
          });
        } else {
          const range2 = this.range.find((item) => item[this.map.value] + "" === values);
          if (range2) {
            detail = {
              value: range2[this.map.value],
              data: range2
            };
          }
        }
        this.$emit("input", detail.value);
        this.$emit("update:modelValue", detail.value);
        this.$emit("change", {
          detail
        });
        if (this.multiple) {
          this.dataList = this.getDataList(detail.value, true);
        } else {
          this.dataList = this.getDataList(detail.value);
        }
      },
      /**
       * 获取渲染的新数组
       * @param {Object} value 选中内容
       */
      getDataList(value) {
        let dataList = JSON.parse(JSON.stringify(this.range));
        let list = [];
        if (this.multiple) {
          if (!Array.isArray(value)) {
            value = [];
          }
        } else {
          if (Array.isArray(value) && value.length) {
            value = value[0];
          }
        }
        dataList.forEach((item, index) => {
          item.disabled = item.disable || item.disabled || false;
          if (this.multiple) {
            if (value.length > 0) {
              let have = value.find((val2) => val2 === item[this.map.value]);
              item.selected = have !== void 0;
            } else {
              item.selected = false;
            }
          } else {
            item.selected = value === item[this.map.value];
          }
          list.push(item);
        });
        return this.setRange(list);
      },
      /**
       * 处理最大最小值
       * @param {Object} list
       */
      setRange(list) {
        let selectList = list.filter((item) => item.selected);
        let min = Number(this.min) || 0;
        let max = Number(this.max) || "";
        list.forEach((item, index) => {
          if (this.multiple) {
            if (selectList.length <= min) {
              let have = selectList.find((val2) => val2[this.map.value] === item[this.map.value]);
              if (have !== void 0) {
                item.disabled = true;
              }
            }
            if (selectList.length >= max && max !== "") {
              let have = selectList.find((val2) => val2[this.map.value] === item[this.map.value]);
              if (have === void 0) {
                item.disabled = true;
              }
            }
          }
          this.setStyles(item, index);
          list[index] = item;
        });
        return list;
      },
      /**
       * 设置 class
       * @param {Object} item
       * @param {Object} index
       */
      setStyles(item, index) {
        item.styleBackgroud = this.setStyleBackgroud(item);
        item.styleIcon = this.setStyleIcon(item);
        item.styleIconText = this.setStyleIconText(item);
        item.styleRightIcon = this.setStyleRightIcon(item);
      },
      /**
       * 获取选中值
       * @param {Object} range
       */
      getSelectedValue(range2) {
        if (!this.multiple)
          return this.dataValue;
        let selectedArr = [];
        range2.forEach((item) => {
          if (item.selected) {
            selectedArr.push(item[this.map.value]);
          }
        });
        return this.dataValue.length > 0 ? this.dataValue : selectedArr;
      },
      /**
       * 设置背景样式
       */
      setStyleBackgroud(item) {
        let styles = {};
        let selectedColor = this.selectedColor ? this.selectedColor : "#2979ff";
        if (this.selectedColor) {
          if (this.mode !== "list") {
            styles["border-color"] = item.selected ? selectedColor : "#DCDFE6";
          }
          if (this.mode === "tag") {
            styles["background-color"] = item.selected ? selectedColor : "#f5f5f5";
          }
        }
        let classles = "";
        for (let i2 in styles) {
          classles += `${i2}:${styles[i2]};`;
        }
        return classles;
      },
      setStyleIcon(item) {
        let styles = {};
        let classles = "";
        if (this.selectedColor) {
          let selectedColor = this.selectedColor ? this.selectedColor : "#2979ff";
          styles["background-color"] = item.selected ? selectedColor : "#fff";
          styles["border-color"] = item.selected ? selectedColor : "#DCDFE6";
          if (!item.selected && item.disabled) {
            styles["background-color"] = "#F2F6FC";
            styles["border-color"] = item.selected ? selectedColor : "#DCDFE6";
          }
        }
        for (let i2 in styles) {
          classles += `${i2}:${styles[i2]};`;
        }
        return classles;
      },
      setStyleIconText(item) {
        let styles = {};
        let classles = "";
        if (this.selectedColor) {
          let selectedColor = this.selectedColor ? this.selectedColor : "#2979ff";
          if (this.mode === "tag") {
            styles.color = item.selected ? this.selectedTextColor ? this.selectedTextColor : "#fff" : "#666";
          } else {
            styles.color = item.selected ? this.selectedTextColor ? this.selectedTextColor : selectedColor : "#666";
          }
          if (!item.selected && item.disabled) {
            styles.color = "#999";
          }
        }
        for (let i2 in styles) {
          classles += `${i2}:${styles[i2]};`;
        }
        return classles;
      },
      setStyleRightIcon(item) {
        let styles = {};
        let classles = "";
        if (this.mode === "list") {
          styles["border-color"] = item.selected ? this.styles.selectedColor : "#DCDFE6";
        }
        for (let i2 in styles) {
          classles += `${i2}:${styles[i2]};`;
        }
        return classles;
      }
    }
  };
  function _sfc_render$22(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_load_more = resolveEasycom(vue.resolveDynamicComponent("uni-load-more"), __easycom_0$7);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "uni-data-checklist",
        style: vue.normalizeStyle({ "margin-top": $data.isTop + "px" })
      },
      [
        !$data.isLocal ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "uni-data-loading"
        }, [
          !_ctx.mixinDatacomErrorMessage ? (vue.openBlock(), vue.createBlock(_component_uni_load_more, {
            key: 0,
            status: "loading",
            iconType: "snow",
            iconSize: 18,
            "content-text": $data.contentText
          }, null, 8, ["content-text"])) : (vue.openBlock(), vue.createElementBlock(
            "text",
            { key: 1 },
            vue.toDisplayString(_ctx.mixinDatacomErrorMessage),
            1
            /* TEXT */
          ))
        ])) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            $props.multiple ? (vue.openBlock(), vue.createElementBlock(
              "checkbox-group",
              {
                key: 0,
                class: vue.normalizeClass(["checklist-group", { "is-list": $props.mode === "list" || $props.wrap }]),
                onChange: _cache[0] || (_cache[0] = (...args) => $options.change && $options.change(...args))
              },
              [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.dataList, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock(
                      "label",
                      {
                        class: vue.normalizeClass(["checklist-box", ["is--" + $props.mode, item.selected ? "is-checked" : "", $props.disabled || !!item.disabled ? "is-disable" : "", index !== 0 && $props.mode === "list" ? "is-list-border" : ""]]),
                        style: vue.normalizeStyle(item.styleBackgroud),
                        key: index
                      },
                      [
                        vue.createElementVNode("checkbox", {
                          class: "hidden",
                          hidden: "",
                          disabled: $props.disabled || !!item.disabled,
                          value: item[$props.map.value] + "",
                          checked: item.selected
                        }, null, 8, ["disabled", "value", "checked"]),
                        $props.mode !== "tag" && $props.mode !== "list" || $props.mode === "list" && $props.icon === "left" ? (vue.openBlock(), vue.createElementBlock(
                          "view",
                          {
                            key: 0,
                            class: "checkbox__inner",
                            style: vue.normalizeStyle(item.styleIcon)
                          },
                          [
                            vue.createElementVNode("view", { class: "checkbox__inner-icon" })
                          ],
                          4
                          /* STYLE */
                        )) : vue.createCommentVNode("v-if", true),
                        vue.createElementVNode(
                          "view",
                          {
                            class: vue.normalizeClass(["checklist-content", { "list-content": $props.mode === "list" && $props.icon === "left" }])
                          },
                          [
                            vue.createElementVNode(
                              "text",
                              {
                                class: "checklist-text",
                                style: vue.normalizeStyle(item.styleIconText)
                              },
                              vue.toDisplayString(item[$props.map.text]),
                              5
                              /* TEXT, STYLE */
                            ),
                            $props.mode === "list" && $props.icon === "right" ? (vue.openBlock(), vue.createElementBlock(
                              "view",
                              {
                                key: 0,
                                class: "checkobx__list",
                                style: vue.normalizeStyle(item.styleBackgroud)
                              },
                              null,
                              4
                              /* STYLE */
                            )) : vue.createCommentVNode("v-if", true)
                          ],
                          2
                          /* CLASS */
                        )
                      ],
                      6
                      /* CLASS, STYLE */
                    );
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ],
              34
              /* CLASS, NEED_HYDRATION */
            )) : (vue.openBlock(), vue.createElementBlock(
              "radio-group",
              {
                key: 1,
                class: vue.normalizeClass(["checklist-group", { "is-list": $props.mode === "list", "is-wrap": $props.wrap }]),
                onChange: _cache[1] || (_cache[1] = (...args) => $options.change && $options.change(...args))
              },
              [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.dataList, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock(
                      "label",
                      {
                        class: vue.normalizeClass(["checklist-box", ["is--" + $props.mode, item.selected ? "is-checked" : "", $props.disabled || !!item.disabled ? "is-disable" : "", index !== 0 && $props.mode === "list" ? "is-list-border" : ""]]),
                        style: vue.normalizeStyle(item.styleBackgroud),
                        key: index
                      },
                      [
                        vue.createElementVNode("radio", {
                          class: "hidden",
                          hidden: "",
                          disabled: $props.disabled || item.disabled,
                          value: item[$props.map.value] + "",
                          checked: item.selected
                        }, null, 8, ["disabled", "value", "checked"]),
                        $props.mode !== "tag" && $props.mode !== "list" || $props.mode === "list" && $props.icon === "left" ? (vue.openBlock(), vue.createElementBlock(
                          "view",
                          {
                            key: 0,
                            class: "radio__inner",
                            style: vue.normalizeStyle(item.styleBackgroud)
                          },
                          [
                            vue.createElementVNode(
                              "view",
                              {
                                class: "radio__inner-icon",
                                style: vue.normalizeStyle(item.styleIcon)
                              },
                              null,
                              4
                              /* STYLE */
                            )
                          ],
                          4
                          /* STYLE */
                        )) : vue.createCommentVNode("v-if", true),
                        vue.createElementVNode(
                          "view",
                          {
                            class: vue.normalizeClass(["checklist-content", { "list-content": $props.mode === "list" && $props.icon === "left" }])
                          },
                          [
                            vue.createElementVNode(
                              "text",
                              {
                                class: "checklist-text",
                                style: vue.normalizeStyle(item.styleIconText)
                              },
                              vue.toDisplayString(item[$props.map.text]),
                              5
                              /* TEXT, STYLE */
                            ),
                            $props.mode === "list" && $props.icon === "right" ? (vue.openBlock(), vue.createElementBlock(
                              "view",
                              {
                                key: 0,
                                style: vue.normalizeStyle(item.styleRightIcon),
                                class: "checkobx__list"
                              },
                              null,
                              4
                              /* STYLE */
                            )) : vue.createCommentVNode("v-if", true)
                          ],
                          2
                          /* CLASS */
                        )
                      ],
                      6
                      /* CLASS, STYLE */
                    );
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ],
              34
              /* CLASS, NEED_HYDRATION */
            ))
          ],
          64
          /* STABLE_FRAGMENT */
        ))
      ],
      4
      /* STYLE */
    );
  }
  const __easycom_0$6 = /* @__PURE__ */ _export_sfc(_sfc_main$23, [["render", _sfc_render$22], ["__scopeId", "data-v-2f788efd"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue"]]);
  const _imports_0$p = "/static/auth/current-address.png";
  const _sfc_main$22 = {
    __name: "SingleLinageSelector",
    props: {
      categories: { type: Array, default: () => [] },
      colorType: { type: Number, default: 1 }
    },
    emits: ["update:selected"],
    setup(__props, { expose: __expose, emit: __emit }) {
      vue.useCssVars((_ctx) => ({
        "034e6136-colorSelected": colorSelected.value
      }));
      const props = __props;
      const instance = vue.getCurrentInstance();
      const emit = __emit;
      const currentCategoryIndex = vue.ref(0);
      const rightScrollTop = vue.ref(0);
      const leftScrollTop = vue.ref(0);
      const localCategories = vue.ref([]);
      const selectedText = vue.ref("");
      const cityInfo = vue.ref({
        province: "定位中...",
        city: "",
        district: "",
        latitude: "",
        // 纬度
        longitude: ""
        // 经度
      });
      const getCurrentCity = async () => {
        try {
          const authRes = await uni.authorize({
            scope: "scope.userLocation"
          });
          if (authRes.errMsg !== "authorize:ok") {
            uni.showToast({ title: "请开启定位权限", icon: "none" });
            return;
          }
          uni.getLocation({
            type: "gcj02",
            // 国测局坐标系【必须用这个】，国内地图统一标准，解析城市不偏移
            altitude: false,
            success: async (res2) => {
              cityInfo.value.latitude = res2.latitude;
              cityInfo.value.longitude = res2.longitude;
              const { data } = await uni.request({
                url: "https://apis.map.qq.com/ws/geocoder/v1/",
                method: "GET",
                data: {
                  location: `${res2.latitude},${res2.longitude}`,
                  key: "OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77",
                  // 腾讯地图免费公用key，可直接用
                  get_poi: 0
                  // 不需要周边POI，提高解析速度
                }
              });
              if (data.status === 0) {
                const address = data.result.address_component;
                cityInfo.value.province = address.province;
                cityInfo.value.city = address.city || address.province;
                cityInfo.value.district = address.district;
              } else {
                uni.showToast({ title: "城市解析失败", icon: "none" });
              }
            },
            fail: (err) => {
              if (err.errMsg.includes("auth deny")) {
                uni.showToast({ title: "您拒绝了定位权限", icon: "none" });
              } else {
                uni.showToast({ title: "定位失败，请检查网络", icon: "none" });
              }
              formatAppLog("log", "at components/SingleLinageSelector.vue:151", "定位失败：", err);
            }
          });
        } catch (err) {
          uni.showToast({ title: "授权失败", icon: "none" });
        }
      };
      const colorSelected = vue.ref("#35c996");
      vue.onMounted(() => {
        props.colorType == 1 ? colorSelected.value = "#35c996" : colorSelected.value = "#ffa767";
        localCategories.value = props.categories.map((cat) => ({
          ...cat,
          allSelected: false,
          children: (cat.children || []).map((c2) => ({ ...c2, selected: false }))
        }));
        if (localCategories.value.length > 0) {
          handleProvinceClick(0);
        }
      });
      const handleProvinceClick = (index) => {
        currentCategoryIndex.value = index;
        rightScrollTop.value = 0;
        localCategories.value.forEach((cat) => {
          cat.allSelected = false;
          if (cat.children)
            cat.children.forEach((c2) => c2.selected = false);
        });
        localCategories.value[index].allSelected = true;
        emitSelectedChange();
      };
      const onRightScroll = (e2) => {
        rightScrollTop.value = e2.detail.scrollTop;
      };
      const onLeftScroll = (e2) => {
        leftScrollTop.value = e2.detail.scrollTop;
      };
      const selectChild = (catIdx, childIdx) => {
        localCategories.value.forEach((cat2) => {
          cat2.allSelected = false;
          if (cat2.children)
            cat2.children.forEach((c2) => c2.selected = false);
        });
        const cat = localCategories.value[catIdx];
        if (childIdx === -1)
          cat.allSelected = true;
        else
          cat.children[childIdx].selected = true;
        emitSelectedChange();
      };
      const emitSelectedChange = () => {
        const selected = [];
        localCategories.value.forEach((cat) => {
          if (cat.allSelected)
            selected.push({ catId: cat.id, childId: "all", name: cat.name });
          else if (cat.children) {
            cat.children.forEach((c2) => {
              if (c2.selected)
                selected.push({ catId: cat.id, childId: c2.id, name: c2.name });
            });
          }
        });
        selectedText.value = selected[0].name;
        emit("update:selected", selected);
      };
      const reset = () => {
        localCategories.value.forEach((e2) => {
          e2.allSelected = false;
          e2.children.forEach((d2) => {
            d2.selected = false;
          });
        });
        if (localCategories.value.length > 0) {
          handleProvinceClick(0);
        }
      };
      const getCurrentSelectedRegion = vue.computed(() => {
        var _a2;
        const currentCat = localCategories.value[currentCategoryIndex.value];
        if (!currentCat)
          return "未选择";
        if (currentCat.allSelected)
          return currentCat.name;
        const selectedChild = (_a2 = currentCat.children) == null ? void 0 : _a2.find((c2) => c2.selected);
        return selectedChild ? `${currentCat.name} / ${selectedChild.name}` : currentCat.name;
      });
      __expose({
        reset
      });
      const __returned__ = { props, instance, emit, currentCategoryIndex, rightScrollTop, leftScrollTop, localCategories, selectedText, cityInfo, getCurrentCity, colorSelected, handleProvinceClick, onRightScroll, onLeftScroll, selectChild, emitSelectedChange, reset, getCurrentSelectedRegion, ref: vue.ref, onMounted: vue.onMounted, nextTick: vue.nextTick, getCurrentInstance: vue.getCurrentInstance, computed: vue.computed };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$21(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createTextVNode(
        " 当前定位城市：" + vue.toDisplayString($setup.cityInfo.province) + " - " + vue.toDisplayString($setup.cityInfo.city) + " - " + vue.toDisplayString($setup.cityInfo.district) + " ",
        1
        /* TEXT */
      ),
      vue.createElementVNode("view", { class: "top-region-bar" }, [
        vue.createElementVNode("view", { class: "current-region" }, [
          vue.createElementVNode("text", { class: "region-label" }, "当前地区："),
          vue.createElementVNode(
            "text",
            { class: "region-value" },
            vue.toDisplayString($setup.selectedText),
            1
            /* TEXT */
          )
        ]),
        vue.createElementVNode("view", {
          class: "locate-btn",
          onClick: $setup.getCurrentCity
        }, [
          vue.createElementVNode("image", {
            src: _imports_0$p,
            class: "img",
            style: { "width": "30rpx", "height": "30rpx" }
          }),
          vue.createElementVNode("view", null, "自动定位")
        ])
      ]),
      vue.createElementVNode("view", { class: "select-title" }, "选择地区"),
      vue.createElementVNode("view", { class: "top-region-bar" }, [
        vue.createElementVNode(
          "text",
          { class: "region-label" },
          vue.toDisplayString($setup.getCurrentSelectedRegion),
          1
          /* TEXT */
        )
      ]),
      vue.createElementVNode("view", { class: "selector-wrap" }, [
        vue.createElementVNode("scroll-view", {
          class: "left-scroll",
          "scroll-y": "",
          "scroll-top": $setup.leftScrollTop,
          onScroll: $setup.onLeftScroll
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.localCategories, (cat, idx) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                key: cat.id,
                class: vue.normalizeClass(["province-item", { "province-item--active": $setup.currentCategoryIndex === idx }]),
                onClick: ($event) => $setup.handleProvinceClick(idx)
              }, [
                vue.createElementVNode(
                  "view",
                  null,
                  vue.toDisplayString(cat.name),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_icons, {
                  type: "right",
                  size: "16",
                  color: $setup.currentCategoryIndex === idx ? $setup.colorSelected : "#333",
                  class: "arrow-icon"
                }, null, 8, ["color"])
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ], 40, ["scroll-top"]),
        vue.createElementVNode("view", { class: "split-line" }),
        vue.createElementVNode("scroll-view", {
          class: "right-scroll",
          "scroll-y": "",
          onScroll: $setup.onRightScroll,
          "scroll-top": $setup.rightScrollTop
        }, [
          $setup.localCategories[$setup.currentCategoryIndex] ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "city-block"
          }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["city-item", { "city-item--selected-1": $setup.localCategories[$setup.currentCategoryIndex].allSelected }]),
                onClick: _cache[0] || (_cache[0] = vue.withModifiers(($event) => $setup.selectChild($setup.currentCategoryIndex, -1), ["stop"]))
              },
              " 全部 ",
              2
              /* CLASS */
            ),
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.localCategories[$setup.currentCategoryIndex].children, (child, cidx) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: child.id,
                  class: vue.normalizeClass(["city-item", { "city-item--selected": child.selected }]),
                  onClick: vue.withModifiers(($event) => $setup.selectChild($setup.currentCategoryIndex, cidx), ["stop"])
                }, vue.toDisplayString(child.name), 11, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])) : vue.createCommentVNode("v-if", true)
        ], 40, ["scroll-top"])
      ])
    ]);
  }
  const SingleLinageSelector = /* @__PURE__ */ _export_sfc(_sfc_main$22, [["render", _sfc_render$21], ["__scopeId", "data-v-034e6136"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/SingleLinageSelector.vue"]]);
  const _sfc_main$21 = {
    name: "u-icon",
    emits: ["click", "touchstart"],
    props: {
      // 图标类名
      name: {
        type: String,
        default: ""
      },
      // 图标颜色，可接受主题色
      color: {
        type: [String, null],
        default: ""
      },
      // 字体大小，单位rpx
      size: {
        type: [Number, String],
        default: "inherit"
      },
      // 是否显示粗体
      bold: {
        type: Boolean,
        default: false
      },
      // 点击图标的时候传递事件出去的index（用于区分点击了哪一个）
      index: {
        type: [Number, String],
        default: ""
      },
      // 触摸图标时的类名
      hoverClass: {
        type: String,
        default: ""
      },
      // 自定义扩展前缀，方便用户扩展自己的图标库
      customPrefix: {
        type: String,
        default: "uicon"
      },
      // 图标右边或者下面的文字
      label: {
        type: [String, Number],
        default: ""
      },
      // label的位置，只能右边或者下边
      labelPos: {
        type: String,
        default: "right"
      },
      // label的大小
      labelSize: {
        type: [String, Number],
        default: "28"
      },
      // label的颜色
      labelColor: {
        type: String,
        default: "#606266"
      },
      // label与图标的距离(横向排列)
      marginLeft: {
        type: [String, Number],
        default: "6"
      },
      // label与图标的距离(竖向排列)
      marginTop: {
        type: [String, Number],
        default: "6"
      },
      // label与图标的距离(竖向排列)
      marginRight: {
        type: [String, Number],
        default: "6"
      },
      // label与图标的距离(竖向排列)
      marginBottom: {
        type: [String, Number],
        default: "6"
      },
      // 图片的mode
      imgMode: {
        type: String,
        default: "widthFix"
      },
      // 自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 用于显示图片小图标时，图片的宽度
      width: {
        type: [String, Number],
        default: ""
      },
      // 用于显示图片小图标时，图片的高度
      height: {
        type: [String, Number],
        default: ""
      },
      // 用于解决某些情况下，让图标垂直居中的用途
      top: {
        type: [String, Number],
        default: 0
      },
      // 是否为DecimalIcon
      showDecimalIcon: {
        type: Boolean,
        default: false
      },
      // 背景颜色，可接受主题色，仅Decimal时有效
      inactiveColor: {
        type: String,
        default: "#ececec"
      },
      // 显示的百分比，仅Decimal时有效
      percent: {
        type: [Number, String],
        default: "50"
      }
    },
    computed: {
      customClass() {
        let classes = [];
        let { customPrefix, name } = this;
        let index = name.indexOf("-icon-");
        if (index > -1) {
          customPrefix = name.substring(0, index + 5);
          classes.push(name);
        } else {
          classes.push(`${customPrefix}-${name}`);
        }
        if (customPrefix === "uicon") {
          classes.push("u-iconfont");
        } else {
          classes.push(customPrefix);
        }
        if (this.showDecimalIcon && this.inactiveColor && this.$u.config.type.includes(this.inactiveColor)) {
          classes.push("u-icon__icon--" + this.inactiveColor);
        } else if (this.color && this.$u.config.type.includes(this.color))
          classes.push("u-icon__icon--" + this.color);
        return classes;
      },
      iconStyle() {
        let style = {};
        style = {
          fontSize: this.size == "inherit" ? "inherit" : this.$u.addUnit(this.size),
          fontWeight: this.bold ? "bold" : "normal",
          // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中
          top: this.$u.addUnit(this.top)
        };
        if (this.showDecimalIcon && this.inactiveColor && !this.$u.config.type.includes(this.inactiveColor)) {
          style.color = this.inactiveColor;
        } else if (this.color && !this.$u.config.type.includes(this.color))
          style.color = this.color;
        return style;
      },
      // 判断传入的name属性，是否图片路径，只要带有"/"均认为是图片形式
      isImg() {
        return this.name.indexOf("/") !== -1;
      },
      imgStyle() {
        let style = {};
        style.width = this.width ? this.$u.addUnit(this.width) : this.$u.addUnit(this.size);
        style.height = this.height ? this.$u.addUnit(this.height) : this.$u.addUnit(this.size);
        return style;
      },
      decimalIconStyle() {
        let style = {};
        style = {
          fontSize: this.size == "inherit" ? "inherit" : this.$u.addUnit(this.size),
          fontWeight: this.bold ? "bold" : "normal",
          // 某些特殊情况需要设置一个到顶部的距离，才能更好的垂直居中
          top: this.$u.addUnit(this.top),
          width: this.percent + "%"
        };
        if (this.color && !this.$u.config.type.includes(this.color))
          style.color = this.color;
        return style;
      },
      decimalIconClass() {
        let classes = [];
        classes.push(this.customPrefix + "-" + this.name);
        if (this.customPrefix == "uicon") {
          classes.push("u-iconfont");
        } else {
          classes.push(this.customPrefix);
        }
        if (this.color && this.$u.config.type.includes(this.color))
          classes.push("u-icon__icon--" + this.color);
        else
          classes.push("u-icon__icon--primary");
        return classes;
      }
    },
    methods: {
      click() {
        this.$emit("click", this.index);
      },
      touchstart() {
        this.$emit("touchstart", this.index);
      }
    }
  };
  function _sfc_render$20(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        style: vue.normalizeStyle([$props.customStyle]),
        class: vue.normalizeClass(["u-icon", ["u-icon--" + $props.labelPos]]),
        onClick: _cache[1] || (_cache[1] = (...args) => $options.click && $options.click(...args))
      },
      [
        $options.isImg ? (vue.openBlock(), vue.createElementBlock("image", {
          key: 0,
          class: "u-icon__img",
          src: $props.name,
          mode: $props.imgMode,
          style: vue.normalizeStyle([$options.imgStyle])
        }, null, 12, ["src", "mode"])) : (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: vue.normalizeClass(["u-icon__icon", $options.customClass]),
          style: vue.normalizeStyle([$options.iconStyle]),
          "hover-class": $props.hoverClass,
          onTouchstart: _cache[0] || (_cache[0] = (...args) => $options.touchstart && $options.touchstart(...args))
        }, [
          $props.showDecimalIcon ? (vue.openBlock(), vue.createElementBlock("text", {
            key: 0,
            style: vue.normalizeStyle([$options.decimalIconStyle]),
            class: vue.normalizeClass([$options.decimalIconClass, "u-icon__decimal"]),
            "hover-class": $props.hoverClass
          }, null, 14, ["hover-class"])) : vue.createCommentVNode("v-if", true)
        ], 46, ["hover-class"])),
        $props.label !== "" && $props.label !== null ? (vue.openBlock(), vue.createElementBlock(
          "text",
          {
            key: 2,
            class: "u-icon__label",
            style: vue.normalizeStyle({
              color: $props.labelColor,
              fontSize: _ctx.$u.addUnit($props.labelSize),
              marginLeft: $props.labelPos == "right" ? _ctx.$u.addUnit($props.marginLeft) : 0,
              marginTop: $props.labelPos == "bottom" ? _ctx.$u.addUnit($props.marginTop) : 0,
              marginRight: $props.labelPos == "left" ? _ctx.$u.addUnit($props.marginRight) : 0,
              marginBottom: $props.labelPos == "top" ? _ctx.$u.addUnit($props.marginBottom) : 0
            })
          },
          vue.toDisplayString($props.label),
          5
          /* TEXT, STYLE */
        )) : vue.createCommentVNode("v-if", true)
      ],
      6
      /* CLASS, STYLE */
    );
  }
  const __easycom_0$5 = /* @__PURE__ */ _export_sfc(_sfc_main$21, [["render", _sfc_render$20], ["__scopeId", "data-v-5de67484"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-icon/u-icon.vue"]]);
  var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
  var freeSelf = typeof self == "object" && self && self.Object === Object && self;
  var root = freeGlobal || freeSelf || Function("return this")();
  var Symbol$1 = root.Symbol;
  var objectProto$2 = Object.prototype;
  var hasOwnProperty$1 = objectProto$2.hasOwnProperty;
  var nativeObjectToString$1 = objectProto$2.toString;
  var symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : void 0;
  function getRawTag(value) {
    var isOwn = hasOwnProperty$1.call(value, symToStringTag$1), tag = value[symToStringTag$1];
    try {
      value[symToStringTag$1] = void 0;
      var unmasked = true;
    } catch (e2) {
    }
    var result = nativeObjectToString$1.call(value);
    if (unmasked) {
      if (isOwn) {
        value[symToStringTag$1] = tag;
      } else {
        delete value[symToStringTag$1];
      }
    }
    return result;
  }
  var objectProto$1 = Object.prototype;
  var nativeObjectToString = objectProto$1.toString;
  function objectToString(value) {
    return nativeObjectToString.call(value);
  }
  var nullTag = "[object Null]", undefinedTag = "[object Undefined]";
  var symToStringTag = Symbol$1 ? Symbol$1.toStringTag : void 0;
  function baseGetTag(value) {
    if (value == null) {
      return value === void 0 ? undefinedTag : nullTag;
    }
    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
  }
  function isObjectLike(value) {
    return value != null && typeof value == "object";
  }
  var symbolTag = "[object Symbol]";
  function isSymbol(value) {
    return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
  }
  var reWhitespace = /\s/;
  function trimmedEndIndex(string2) {
    var index = string2.length;
    while (index-- && reWhitespace.test(string2.charAt(index))) {
    }
    return index;
  }
  var reTrimStart = /^\s+/;
  function baseTrim(string2) {
    return string2 ? string2.slice(0, trimmedEndIndex(string2) + 1).replace(reTrimStart, "") : string2;
  }
  function isObject(value) {
    var type = typeof value;
    return value != null && (type == "object" || type == "function");
  }
  var NAN = 0 / 0;
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
  var reIsBinary = /^0b[01]+$/i;
  var reIsOctal = /^0o[0-7]+$/i;
  var freeParseInt = parseInt;
  function toNumber(value) {
    if (typeof value == "number") {
      return value;
    }
    if (isSymbol(value)) {
      return NAN;
    }
    if (isObject(value)) {
      var other = typeof value.valueOf == "function" ? value.valueOf() : value;
      value = isObject(other) ? other + "" : other;
    }
    if (typeof value != "string") {
      return value === 0 ? value : +value;
    }
    value = baseTrim(value);
    var isBinary = reIsBinary.test(value);
    return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
  }
  var INFINITY = 1 / 0, MAX_INTEGER = 17976931348623157e292;
  function toFinite(value) {
    if (!value) {
      return value === 0 ? value : 0;
    }
    value = toNumber(value);
    if (value === INFINITY || value === -INFINITY) {
      var sign = value < 0 ? -1 : 1;
      return sign * MAX_INTEGER;
    }
    return value === value ? value : 0;
  }
  function toInteger(value) {
    var result = toFinite(value), remainder = result % 1;
    return result === result ? remainder ? result - remainder : result : 0;
  }
  function identity(value) {
    return value;
  }
  var asyncTag = "[object AsyncFunction]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", proxyTag = "[object Proxy]";
  function isFunction(value) {
    if (!isObject(value)) {
      return false;
    }
    var tag = baseGetTag(value);
    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
  }
  var coreJsData = root["__core-js_shared__"];
  var maskSrcKey = function() {
    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
    return uid ? "Symbol(src)_1." + uid : "";
  }();
  function isMasked(func2) {
    return !!maskSrcKey && maskSrcKey in func2;
  }
  var funcProto$1 = Function.prototype;
  var funcToString$1 = funcProto$1.toString;
  function toSource(func2) {
    if (func2 != null) {
      try {
        return funcToString$1.call(func2);
      } catch (e2) {
      }
      try {
        return func2 + "";
      } catch (e2) {
      }
    }
    return "";
  }
  var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
  var reIsHostCtor = /^\[object .+?Constructor\]$/;
  var funcProto = Function.prototype, objectProto = Object.prototype;
  var funcToString = funcProto.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var reIsNative = RegExp(
    "^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  );
  function baseIsNative(value) {
    if (!isObject(value) || isMasked(value)) {
      return false;
    }
    var pattern2 = isFunction(value) ? reIsNative : reIsHostCtor;
    return pattern2.test(toSource(value));
  }
  function getValue$1(object2, key) {
    return object2 == null ? void 0 : object2[key];
  }
  function getNative(object2, key) {
    var value = getValue$1(object2, key);
    return baseIsNative(value) ? value : void 0;
  }
  function apply$1(func2, thisArg, args) {
    switch (args.length) {
      case 0:
        return func2.call(thisArg);
      case 1:
        return func2.call(thisArg, args[0]);
      case 2:
        return func2.call(thisArg, args[0], args[1]);
      case 3:
        return func2.call(thisArg, args[0], args[1], args[2]);
    }
    return func2.apply(thisArg, args);
  }
  var HOT_COUNT = 800, HOT_SPAN = 16;
  var nativeNow = Date.now;
  function shortOut(func2) {
    var count = 0, lastCalled = 0;
    return function() {
      var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
      lastCalled = stamp;
      if (remaining > 0) {
        if (++count >= HOT_COUNT) {
          return arguments[0];
        }
      } else {
        count = 0;
      }
      return func2.apply(void 0, arguments);
    };
  }
  function constant(value) {
    return function() {
      return value;
    };
  }
  var defineProperty = function() {
    try {
      var func2 = getNative(Object, "defineProperty");
      func2({}, "", {});
      return func2;
    } catch (e2) {
    }
  }();
  var baseSetToString = !defineProperty ? identity : function(func2, string2) {
    return defineProperty(func2, "toString", {
      "configurable": true,
      "enumerable": false,
      "value": constant(string2),
      "writable": true
    });
  };
  const baseSetToString$1 = baseSetToString;
  var setToString = shortOut(baseSetToString$1);
  var nativeMax$1 = Math.max;
  function overRest(func2, start, transform) {
    start = nativeMax$1(start === void 0 ? func2.length - 1 : start, 0);
    return function() {
      var args = arguments, index = -1, length = nativeMax$1(args.length - start, 0), array2 = Array(length);
      while (++index < length) {
        array2[index] = args[start + index];
      }
      index = -1;
      var otherArgs = Array(start + 1);
      while (++index < start) {
        otherArgs[index] = args[index];
      }
      otherArgs[start] = transform(array2);
      return apply$1(func2, this, otherArgs);
    };
  }
  function baseRest(func2, start) {
    return setToString(overRest(func2, start, identity), func2 + "");
  }
  function arrayPush(array2, values) {
    var index = -1, length = values.length, offset = array2.length;
    while (++index < length) {
      array2[offset + index] = values[index];
    }
    return array2;
  }
  function baseSlice(array2, start, end) {
    var index = -1, length = array2.length;
    if (start < 0) {
      start = -start > length ? 0 : length + start;
    }
    end = end > length ? length : end;
    if (end < 0) {
      end += length;
    }
    length = start > end ? 0 : end - start >>> 0;
    start >>>= 0;
    var result = Array(length);
    while (++index < length) {
      result[index] = array2[index + start];
    }
    return result;
  }
  function castSlice(array2, start, end) {
    var length = array2.length;
    end = end === void 0 ? length : end;
    return !start && end >= length ? array2 : baseSlice(array2, start, end);
  }
  var FUNC_ERROR_TEXT = "Expected a function";
  var nativeMax = Math.max;
  function spread(func2, start) {
    if (typeof func2 != "function") {
      throw new TypeError(FUNC_ERROR_TEXT);
    }
    start = start == null ? 0 : nativeMax(toInteger(start), 0);
    return baseRest(function(args) {
      var array2 = args[start], otherArgs = castSlice(args, 0, start);
      if (array2) {
        arrayPush(otherArgs, array2);
      }
      return apply$1(func2, this, otherArgs);
    });
  }
  const _sfc_main$20 = {
    __name: "LinkageSelector",
    props: {
      categories: {
        type: Array,
        default: () => []
      },
      maxSelect: {
        type: Number,
        default: 5
      }
    },
    emits: ["update:selected"],
    setup(__props, { expose: __expose, emit: __emit }) {
      __expose();
      const emit = __emit;
      const instance = vue.getCurrentInstance();
      const props = __props;
      const activeIndex = vue.ref(0);
      const leftScrollId = vue.ref("");
      const rightScrollId = vue.ref("");
      const rightHeights = vue.ref([]);
      const currentCategoryIndex = vue.ref(0);
      const scrollIntoView = vue.ref("");
      const rightScrollTop = vue.ref(0);
      const localCategories = vue.ref([]);
      const updateActiveIndex = () => {
        for (let i2 = 0; i2 < rightHeights.value.length; i2++) {
          const { top, bottom } = rightHeights.value[i2];
          if (rightScrollTop.value >= top && rightScrollTop.value < bottom) {
            activeIndex.value = i2;
            return;
          }
        }
      };
      const scrollToRight = (index) => {
        activeIndex.value = index;
        rightScrollId.value = "right-" + props.categories[index].id;
        leftScrollId.value = "left-" + props.categories[index].id;
      };
      const toggleSelect = (catId, childId) => {
        const cat = props.categories.find((c2) => c2.id === catId);
        if (!cat)
          return;
        const item = cat.children.find((ch) => ch.id === childId);
        if (item)
          item.selected = !item.selected;
        vue.nextTick(() => {
        });
      };
      const ensureTagVisible = (catId, childId) => {
        const query = uni.createSelectorQuery().in(instance == null ? void 0 : instance.proxy);
        query.select(".right-content").boundingClientRect((rightRect) => {
          query.select(`#tag-${catId}-${childId}`).boundingClientRect((tagRect) => {
            if (!tagRect || !rightRect)
              return;
            if (tagRect.top < rightRect.top || tagRect.bottom > rightRect.bottom) {
              const scrollOffset = tagRect.top - rightRect.top - rightRect.height / 3;
              query.select(".right-content").scrollOffset((scroll) => {
                uni.pageScrollTo({
                  scrollTop: scroll.scrollTop + scrollOffset,
                  duration: 300
                });
              }).exec();
            }
          }).exec();
        }).exec();
      };
      const calcHeights = () => {
        const query = uni.createSelectorQuery().in(this);
        let total = 0;
        query.selectAll(".right-group").boundingClientRect((rects) => {
          rightHeights.value = rects.map((rect) => {
            const top = total;
            total += rect.height;
            return { top, bottom: total };
          });
        }).exec();
      };
      const scrollToCategory = (index) => {
        currentCategoryIndex.value = index;
        scrollIntoView.value = "cat-" + index;
      };
      const onRightScroll = (e2) => {
        uni.createSelectorQuery().selectAll(".category-block").boundingClientRect((res2) => {
          const visible = res2.findIndex((r2) => r2.top >= 0 && r2.top < 400);
          if (visible !== -1)
            currentCategoryIndex.value = visible;
        }).exec();
      };
      const toggleExpand = (index) => {
        localCategories.value[index].spread = !localCategories.value[index].spread;
      };
      const visibleChildren = (cat) => {
        const allTag = { id: "all", name: "全部", selected: cat.children.every((c2) => c2.selected) };
        const children = cat.spread ? [...cat.children] : cat.children.slice(0, 9);
        return [allTag, ...children];
      };
      const selectedCount = vue.computed(() => {
        let count = 0;
        localCategories.value.forEach((cat) => {
          if (cat.allSelected)
            count++;
          else if (cat.children) {
            cat.children.forEach((c2) => {
              if (c2.selected)
                count++;
            });
          }
        });
        return count;
      });
      const selectChild = (catIdx, childIdx) => {
        const cat = localCategories.value[catIdx];
        if (childIdx === -1) {
          if (selectedCount.value >= props.maxSelect && !cat.allSelected) {
            uni.showToast({ title: `最多选择 ${props.maxSelect} 个标签`, icon: "none" });
            return;
          }
          cat.allSelected = !cat.allSelected;
          cat.children.forEach((c2) => c2.selected = false);
        } else {
          if (selectedCount.value >= props.maxSelect && !cat.children[childIdx].selected) {
            uni.showToast({ title: `最多选择 ${props.maxSelect} 个标签`, icon: "none" });
            return;
          }
          cat.children[childIdx].selected = !cat.children[childIdx].selected;
          if (cat.children[childIdx].selected)
            cat.allSelected = false;
        }
        const selected = [];
        localCategories.value.forEach((cat2) => {
          if (cat2.allSelected)
            selected.push({ catId: cat2.id, childId: "all", name: cat2.name });
          else if (cat2.children) {
            cat2.children.forEach((c2) => {
              if (c2.selected)
                selected.push({ catId: cat2.id, childId: c2.id, name: c2.name });
            });
          }
        });
        emit("update:selected", selected);
      };
      vue.onMounted(() => {
        localCategories.value = props.categories.map((item) => ({
          ...item,
          spread: false,
          children: item.children.map((c2) => ({ ...c2, selected: false }))
        }));
        vue.nextTick(() => {
          setTimeout(calcHeights, 300);
        });
      });
      const __returned__ = { emit, instance, props, activeIndex, leftScrollId, rightScrollId, rightHeights, currentCategoryIndex, scrollIntoView, rightScrollTop, localCategories, updateActiveIndex, scrollToRight, toggleSelect, ensureTagVisible, calcHeights, scrollToCategory, onRightScroll, toggleExpand, visibleChildren, selectedCount, selectChild, get spread() {
        return spread;
      }, ref: vue.ref, nextTick: vue.nextTick, onMounted: vue.onMounted, computed: vue.computed, getCurrentInstance: vue.getCurrentInstance };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1$(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createElementVNode("scroll-view", {
        class: "left-menu",
        "scroll-y": ""
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.localCategories, (cat, idx) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: cat.id,
              class: vue.normalizeClass(["left-item", { active: $setup.currentCategoryIndex === idx }]),
              onClick: ($event) => $setup.scrollToCategory(idx)
            }, vue.toDisplayString(cat.name), 11, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("scroll-view", {
        class: "right-content",
        "scroll-y": "",
        "scroll-into-view": $setup.scrollIntoView,
        onScroll: $setup.onRightScroll
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.localCategories, (cat, idx) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: cat.id,
              class: "category-block",
              id: "cat-" + idx
            }, [
              vue.createElementVNode("view", { class: "category-header" }, [
                vue.createElementVNode(
                  "view",
                  { class: "header-title" },
                  vue.toDisplayString(cat.name),
                  1
                  /* TEXT */
                ),
                cat.children.length > 9 ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "toggle-btn",
                  onClick: vue.withModifiers(($event) => $setup.toggleExpand(idx), ["stop"])
                }, [
                  vue.createTextVNode(
                    vue.toDisplayString(cat.spread ? "收起" : "更多") + " ",
                    1
                    /* TEXT */
                  ),
                  vue.createVNode(_component_u_icon, {
                    name: cat.spread ? "arrow-up" : "arrow-down",
                    size: "14",
                    color: "#35C996"
                  }, null, 8, ["name"])
                ], 8, ["onClick"])) : vue.createCommentVNode("v-if", true)
              ]),
              vue.createElementVNode("view", { class: "child-wrap" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.visibleChildren(cat), (child, cidx) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      key: child.id,
                      class: vue.normalizeClass(["child-item", { selected: child.id === "all" ? cat.allSelected : child.selected }]),
                      onClick: vue.withModifiers(($event) => $setup.selectChild(idx, cidx - 1), ["stop"])
                    }, vue.toDisplayString(child.name), 11, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ], 8, ["id"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ], 40, ["scroll-into-view"])
    ]);
  }
  const LinkageSelector = /* @__PURE__ */ _export_sfc(_sfc_main$20, [["render", _sfc_render$1$], ["__scopeId", "data-v-bb75eca2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/LinkageSelector.vue"]]);
  const _sfc_main$1$ = {
    __name: "range-slider",
    props: {
      // 金额最小值
      min: {
        type: Number,
        default: 0
      },
      // 金额最大值
      max: {
        type: Number,
        default: 100
      },
      // 滑块轨道宽度
      width: {
        type: Number,
        default: 300
      },
      // 步长（每次变化的金额）
      step: {
        type: Number,
        default: 1
      },
      // 初始最小值
      initMin: {
        type: Number,
        default: 0
      },
      // 初始最大值
      initMax: {
        type: Number,
        default: 50
      },
      colorChange: {
        type: String,
        default: "#35CA95"
      }
    },
    emits: ["change", "update:minValue", "update:maxValue"],
    setup(__props, { expose: __expose, emit: __emit }) {
      __expose();
      const props = __props;
      const emit = __emit;
      const trackRef = vue.ref(null);
      const trackInfo = vue.ref({ width: 0, left: 0 });
      const leftPercent = vue.ref(0);
      const rightPercent = vue.ref(0);
      const minValue = vue.ref(props.initMin);
      const maxValue = vue.ref(props.initMax);
      const isDragging = vue.ref(false);
      const draggingType = vue.ref("");
      const activeWidth = vue.computed(() => {
        return rightPercent.value - leftPercent.value;
      });
      const initSlider = () => {
        leftPercent.value = (props.initMin - props.min) / (props.max - props.min) * 100;
        rightPercent.value = (props.initMax - props.min) / (props.max - props.min) * 100;
        minValue.value = props.initMin;
        maxValue.value = props.initMax;
      };
      const getTrackInfo = () => {
        return new Promise((resolve) => {
          const query = uni.createSelectorQuery().in(vue.getCurrentInstance());
          query.select(".slider-track").boundingClientRect((rect) => {
            trackInfo.value = {
              width: rect.width,
              left: rect.left
            };
            resolve(trackInfo.value);
          }).exec();
        });
      };
      vue.onMounted(async () => {
        await getTrackInfo();
        initSlider();
      });
      vue.watch([() => props.min, () => props.max, () => props.initMin, () => props.initMax], () => {
        initSlider();
      });
      const handleTouchStart = (e2, type) => {
        isDragging.value = true;
        draggingType.value = type;
        e2.preventDefault();
      };
      const handleMouseDown = (e2, type) => {
        isDragging.value = true;
        draggingType.value = type;
        e2.preventDefault();
      };
      const handleTouchMove = (e2, type) => {
        if (!isDragging.value || !trackInfo.value.width)
          return;
        const touchX = e2.touches[0].clientX;
        calculatePosition(touchX, draggingType.value);
      };
      const handleMouseMove = (e2, type) => {
        if (!isDragging.value || !trackInfo.value.width)
          return;
        const mouseX = e2.clientX;
        calculatePosition(mouseX, draggingType.value);
      };
      const calculatePosition = (clientX, type) => {
        let currentX = clientX - trackInfo.value.left;
        currentX = Math.max(0, Math.min(currentX, trackInfo.value.width));
        const percent = currentX / trackInfo.value.width * 100;
        const value = Math.round(((props.max - props.min) * percent / 100 + props.min) / props.step) * props.step;
        if (type === "left") {
          if (value >= maxValue.value)
            return;
          minValue.value = value;
          leftPercent.value = percent;
        } else {
          if (value <= minValue.value)
            return;
          maxValue.value = value;
          rightPercent.value = percent;
        }
        emit("change", { min: minValue.value, max: maxValue.value });
        emit("update:minValue", minValue.value);
        emit("update:maxValue", maxValue.value);
      };
      const handleTouchEnd = () => {
        isDragging.value = false;
        draggingType.value = "";
      };
      const handleMouseUp = () => {
        isDragging.value = false;
        draggingType.value = "";
      };
      const __returned__ = { props, emit, trackRef, trackInfo, leftPercent, rightPercent, minValue, maxValue, isDragging, draggingType, activeWidth, initSlider, getTrackInfo, handleTouchStart, handleMouseDown, handleTouchMove, handleMouseMove, calculatePosition, handleTouchEnd, handleMouseUp, ref: vue.ref, watch: vue.watch, computed: vue.computed, onMounted: vue.onMounted, getCurrentInstance: vue.getCurrentInstance };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1_(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "range-slider-container",
        style: vue.normalizeStyle({ width: $props.width + "px" })
      },
      [
        vue.createElementVNode(
          "view",
          {
            class: "slider-track",
            ref: "trackRef"
          },
          [
            vue.createElementVNode(
              "view",
              {
                class: "slider-track-active",
                style: vue.normalizeStyle({ left: $setup.leftPercent + "%", width: $setup.activeWidth + "%", backgroundColor: $props.colorChange })
              },
              null,
              4
              /* STYLE */
            )
          ],
          512
          /* NEED_PATCH */
        ),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["slider-handle left-handle", $props.colorChange == "#35CA95" ? "slider-img2" : "slider-img"]),
            style: vue.normalizeStyle({ left: $setup.leftPercent + "%" }),
            onTouchstart: _cache[0] || (_cache[0] = (e2) => $setup.handleTouchStart(e2, "left")),
            onTouchmove: _cache[1] || (_cache[1] = (e2) => $setup.handleTouchMove(e2, "left")),
            onTouchend: $setup.handleTouchEnd,
            onMousedown: _cache[2] || (_cache[2] = (e2) => $setup.handleMouseDown(e2, "left")),
            onMousemove: _cache[3] || (_cache[3] = (e2) => $setup.handleMouseMove(e2, "left")),
            onMouseup: $setup.handleMouseUp,
            onMouseleave: $setup.handleMouseUp
          },
          null,
          38
          /* CLASS, STYLE, NEED_HYDRATION */
        ),
        vue.createElementVNode(
          "view",
          {
            class: "slider-value-text left-value",
            style: vue.normalizeStyle({ left: $setup.leftPercent + "%" })
          },
          vue.toDisplayString($setup.minValue),
          5
          /* TEXT, STYLE */
        ),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["slider-handle right-handle", $props.colorChange == "#35CA95" ? "slider-img2" : "slider-img"]),
            style: vue.normalizeStyle({ left: $setup.rightPercent + "%" }),
            onTouchstart: _cache[4] || (_cache[4] = (e2) => $setup.handleTouchStart(e2, "right")),
            onTouchmove: _cache[5] || (_cache[5] = (e2) => $setup.handleTouchMove(e2, "right")),
            onTouchend: $setup.handleTouchEnd,
            onMousedown: _cache[6] || (_cache[6] = (e2) => $setup.handleMouseDown(e2, "right")),
            onMousemove: _cache[7] || (_cache[7] = (e2) => $setup.handleMouseMove(e2, "right")),
            onMouseup: $setup.handleMouseUp,
            onMouseleave: $setup.handleMouseUp
          },
          null,
          38
          /* CLASS, STYLE, NEED_HYDRATION */
        ),
        vue.createElementVNode(
          "view",
          {
            class: "slider-value-text right-value",
            style: vue.normalizeStyle({ left: $setup.rightPercent + "%" })
          },
          vue.toDisplayString($setup.maxValue),
          5
          /* TEXT, STYLE */
        )
      ],
      4
      /* STYLE */
    );
  }
  const RangeSlider = /* @__PURE__ */ _export_sfc(_sfc_main$1$, [["render", _sfc_render$1_], ["__scopeId", "data-v-e4116359"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/range-slider.vue"]]);
  const _sfc_main$1_ = {
    __name: "List-Filtering",
    props: {
      colorType: {
        type: Number,
        default: 1
      },
      layoutType: {
        type: Number,
        default: 1
        // 1排序 2筛选
      },
      serviceTypes: {
        type: Array,
        default: () => []
      },
      confusionList: {
        type: Array,
        default: () => []
      }
    },
    setup(__props, { expose: __expose }) {
      const props = __props;
      const colorChange = vue.computed(() => {
        if (props.colorType == 1) {
          return "#35CA95";
        }
        return "#ffa767";
      });
      const sortType = vue.ref(1);
      const sortLsit = vue.ref([
        { value: 1, text: "综合排序" },
        { value: 2, text: "价格高优先" },
        { value: 3, text: "价格低优先" },
        { value: 4, text: "好评率高" },
        { value: 5, text: "经验最多" },
        { value: 6, text: "从业年限" }
      ]);
      const screeningArry = vue.ref([
        {
          id: 1,
          title: "咨询师性别",
          arrSelect: [
            { value: "", text: "不限" },
            { value: "男", text: "男性咨询师" },
            { value: "女", text: "女性咨询师" }
          ]
        },
        {
          id: 2,
          title: "年龄筛选",
          arrSelect: [
            { value: "", text: "不限" },
            { value: "60后", text: "60后" },
            { value: "70后", text: "70后" },
            { value: "80后", text: "80后" },
            { value: "90后", text: "90后" },
            { value: "00后", text: "00后" }
          ]
        },
        {
          id: 3,
          title: "星座筛选",
          arrSelect: [
            { value: "", text: "不限" },
            { value: "白羊座", text: "白羊座" },
            { value: "金牛座", text: "金牛座" },
            { value: "双子座", text: "双子座" },
            { value: "巨蟹座", text: "巨蟹座" },
            { value: "狮子座", text: "狮子座" },
            { value: "处女座", text: "处女座" },
            { value: "天秤座", text: "天秤座" },
            { value: "天蝎座", text: "天蝎座" },
            { value: "射手座", text: "射手座" },
            { value: "摩羯座", text: "摩羯座" },
            { value: "水瓶座", text: "水瓶座" },
            { value: "双鱼座", text: "双鱼座" }
          ]
        }
        // {
        //   id: 4,
        //   title: "学历筛选",
        //   arrSelect: [
        //     { value: 0, text: "不限" },
        //     { value: 2, text: "本科" },
        //     { value: 3, text: "研究生" },
        //     { value: 4, text: "博士" },
        //   ],
        // },
      ]);
      const distressId = vue.ref([]);
      const changeServiceType = (e2) => {
        distressId.value = e2.map((item) => item.childId).join(",");
      };
      const city = vue.ref(null);
      const changeCity = (e2) => {
        city.value = e2[0].name;
      };
      const currentRange = vue.ref({ minPrice: 10, maxPrice: 60 });
      const onRangeChange = (range2) => {
        const { min, max } = range2;
        currentRange.value = { minPrice: min, maxPrice: max };
      };
      const idToKeyMap = {
        1: "sex",
        // itemId=1 → sex属性
        2: "maxAge",
        // itemId=2 → maxAge属性
        3: "constellation"
        // itemId=3 → constellation属性
      };
      const resultObj = {};
      const change = (itemId, e2) => {
        const key = idToKeyMap[itemId];
        if (!key) {
          formatAppLog("warn", "at components/List-Filtering.vue:177", `未找到itemId=${itemId}对应的属性名`);
          return;
        }
        const value = e2.detail.value;
        resultObj[key] = value;
      };
      __expose({
        distressId,
        city,
        currentRange,
        sortType,
        resultObj
      });
      const __returned__ = { props, colorChange, sortType, sortLsit, screeningArry, distressId, changeServiceType, city, changeCity, currentRange, onRangeChange, idToKeyMap, resultObj, change, ref: vue.ref, computed: vue.computed, SingleLinageSelector, LinkageSelector, RangeSlider };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1Z(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_data_checkbox = resolveEasycom(vue.resolveDynamicComponent("uni-data-checkbox"), __easycom_0$6);
    return vue.openBlock(), vue.createElementBlock(
      "div",
      {
        class: vue.normalizeClass(["layout-container", `layout-type-${$props.layoutType}`])
      },
      [
        $props.layoutType == 1 ? (vue.openBlock(), vue.createElementBlock("div", { key: 0 }, [
          vue.createVNode($setup["LinkageSelector"], {
            "onUpdate:selected": $setup.changeServiceType,
            categories: $props.serviceTypes
          }, null, 8, ["categories"])
        ])) : vue.createCommentVNode("v-if", true),
        $props.layoutType == 2 ? (vue.openBlock(), vue.createElementBlock("div", { key: 1 }, [
          vue.createVNode($setup["SingleLinageSelector"], {
            "onUpdate:selected": $setup.changeCity,
            categories: $props.confusionList,
            colorType: $props.colorType
          }, null, 8, ["categories", "colorType"])
        ])) : vue.createCommentVNode("v-if", true),
        $props.layoutType == 3 ? (vue.openBlock(), vue.createElementBlock("div", { key: 2 }, [
          vue.createVNode($setup["RangeSlider"], {
            minPrice: 0,
            maxPrice: 100,
            width: 300,
            step: 1,
            initMin: 10,
            initMax: 60,
            colorChange: $setup.colorChange,
            onChange: $setup.onRangeChange
          }, null, 8, ["colorChange"]),
          vue.createElementVNode("div", { class: "slider-value" }, [
            vue.createElementVNode(
              "div",
              { class: "text-value" },
              vue.toDisplayString($setup.currentRange.minPrice),
              1
              /* TEXT */
            ),
            vue.createElementVNode("div", { class: "slider-value-line" }, "至"),
            vue.createElementVNode(
              "div",
              { class: "text-value" },
              vue.toDisplayString($setup.currentRange.maxPrice),
              1
              /* TEXT */
            )
          ])
        ])) : vue.createCommentVNode("v-if", true),
        $props.layoutType == 4 ? (vue.openBlock(), vue.createElementBlock("div", { key: 3 }, [
          vue.createVNode(_component_uni_data_checkbox, {
            selectedColor: $setup.colorChange,
            modelValue: $setup.sortType,
            "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.sortType = $event),
            localdata: $setup.sortLsit
          }, null, 8, ["selectedColor", "modelValue", "localdata"])
        ])) : vue.createCommentVNode("v-if", true),
        $props.layoutType == 5 ? (vue.openBlock(), vue.createElementBlock("div", { key: 4 }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.screeningArry, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("div", { key: index }, [
                vue.createElementVNode(
                  "div",
                  null,
                  vue.toDisplayString(item.title),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_data_checkbox, {
                  mode: "tag",
                  modelValue: item.selected,
                  "onUpdate:modelValue": ($event) => item.selected = $event,
                  localdata: item.arrSelect,
                  selectedColor: $setup.colorChange,
                  onChange: (e2) => $setup.change(item.id, e2)
                }, null, 8, ["modelValue", "onUpdate:modelValue", "localdata", "selectedColor", "onChange"])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true)
      ],
      2
      /* CLASS */
    );
  }
  const ListFiltering = /* @__PURE__ */ _export_sfc(_sfc_main$1_, [["render", _sfc_render$1Z], ["__scopeId", "data-v-d5740161"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/List-Filtering.vue"]]);
  const getListenerList = (params, config2 = {}) => http$1.post("/api/listener/getListenerList", params, config2);
  const getListenerById = (params, config2 = {}) => http$1.post("/api/listener/getListenerByUserId", params, config2);
  const registerListenerStep1 = (params, config2 = {}) => http$1.post("/api/listener/step1", params, config2);
  const registerListenerStep2 = (params, config2 = {}) => http$1.post("/api/listener/step2", params, config2);
  const registerListenerStep3 = (params, config2 = {}) => http$1.post("/api/listener/step3", params, config2);
  const getListenerByUserId = (params, config2 = {}) => http$1.post("/api/listener/getListenerByUserId", params, config2);
  const getOccupation = (params, config2 = {}) => http$1.get("/api/admin/occupation/list", params, config2);
  const getQualification = (params, config2 = {}) => http$1.get("/api/admin/qualification/list", params, config2);
  const getCommentInfo$1 = (params, config2 = {}) => http$1.get(`/api/listener/commentInfo?id=${params.id}`, params, config2);
  const getCommentList$1 = (params, config2 = {}) => http$1.get("/api/listener/commentList", params, config2);
  const getServiceExperience = (params, config2 = {}) => http$1.get(`/api/listener/serviceExperience?id=${params.id}`, params, config2);
  const formatDate$1 = (timestamp) => {
    const targetDate = new Date(timestamp * 1e3);
    const now2 = /* @__PURE__ */ new Date();
    const padZero = (num) => num.toString().padStart(2, "0");
    const targetYear = targetDate.getFullYear();
    const targetMonth = targetDate.getMonth() + 1;
    const targetDay = targetDate.getDate();
    const targetHours = targetDate.getHours();
    const targetMinutes = targetDate.getMinutes();
    const nowYear = now2.getFullYear();
    const nowMonth = now2.getMonth() + 1;
    const nowDay = now2.getDate();
    const targetDateStr = `${targetYear}-${padZero(targetMonth)}-${padZero(targetDay)}`;
    const nowDateStr = `${nowYear}-${padZero(nowMonth)}-${padZero(nowDay)}`;
    const yesterday = new Date(now2);
    yesterday.setDate(nowDay - 1);
    const yesterdayYear = yesterday.getFullYear();
    const yesterdayMonth = yesterday.getMonth() + 1;
    const yesterdayDay = yesterday.getDate();
    const yesterdayDateStr = `${yesterdayYear}-${padZero(yesterdayMonth)}-${padZero(yesterdayDay)}`;
    if (targetDateStr === nowDateStr) {
      return `${padZero(targetHours)}:${padZero(targetMinutes)}`;
    } else if (targetDateStr === yesterdayDateStr) {
      return "昨天";
    } else {
      return `${padZero(targetMonth)}/${padZero(targetDay)}`;
    }
  };
  const formatTimeToYearMonth = (timeStr) => {
    if (!timeStr || typeof timeStr !== "string") {
      return "未知时间";
    }
    const datePart = timeStr.split(" ")[0];
    const [year, month] = datePart.split("-");
    if (!year || !month) {
      return "格式错误";
    }
    return `${year}.${month}`;
  };
  const handleCareerList = (careerList = []) => {
    return careerList.map((item) => {
      const formattedStartTime = formatTimeToYearMonth(item.startTime);
      const formattedEndTime = formatTimeToYearMonth(item.endTime);
      return {
        title: `${formattedStartTime} - ${formattedEndTime}`,
        desc: item.career || "无职业信息"
      };
    });
  };
  const getGenerationByBirthdate = (birthdate) => {
    if (!birthdate || typeof birthdate !== "string") {
      return "出生年月格式错误";
    }
    const [yearStr, monthStr] = birthdate.split("-");
    if (!yearStr || !monthStr || yearStr.length !== 4 || monthStr.length !== 2) {
      return "出生年月格式错误（需为YYYY-MM）";
    }
    const birthYear = Number(yearStr);
    if (isNaN(birthYear)) {
      return "出生年份不是有效数字";
    }
    if (birthYear >= 1980 && birthYear <= 1989) {
      return "80后";
    } else if (birthYear >= 1990 && birthYear <= 1999) {
      return "90后";
    } else if (birthYear >= 2e3 && birthYear <= 2009) {
      return "00后";
    } else if (birthYear >= 2010 && birthYear <= 2019) {
      return "10后";
    } else if (birthYear >= 2020 && birthYear <= 2029) {
      return "20后";
    } else if (birthYear >= 1970 && birthYear <= 1979) {
      return "70后";
    } else {
      return `${Math.floor(birthYear / 10) * 10}后`;
    }
  };
  const timeStrToSecondTimestamp = (timeStr) => {
    if (typeof timeStr !== "string" || timeStr.trim() === "") {
      formatAppLog("error", "at lib/utils.js:148", "输入的时间必须是非空字符串");
      return null;
    }
    const isoTimeStr = timeStr.replace(" ", "T");
    const date2 = new Date(isoTimeStr);
    const timestampMs = date2.getTime();
    if (isNaN(timestampMs)) {
      formatAppLog("error", "at lib/utils.js:156", "输入的时间格式无效，请检查时间字符串");
      return null;
    }
    const timestampSecond = Math.floor(timestampMs / 1e3);
    return timestampSecond;
  };
  const formatTime = (timestamp) => {
    const date2 = new Date(timestamp * 1e3);
    const Y2 = date2.getFullYear();
    const M2 = (date2.getMonth() + 1 + "").padStart(2, "0");
    const D2 = (date2.getDate() + "").padStart(2, "0");
    const h2 = (date2.getHours() + "").padStart(2, "0");
    const m2 = (date2.getMinutes() + "").padStart(2, "0");
    const s2 = (date2.getSeconds() + "").padStart(2, "0");
    return `${Y2}-${M2}-${D2} ${h2}:${m2}:${s2}`;
  };
  const getConsultantList = (params, config2 = {}) => http$1.post("/api/consultant/consultant/getConsultantList", params, config2);
  const getCommentInfo = (params, config2 = {}) => http$1.get(`/api/consultant/consultant/commentInfo?id=${params.id}`, params, config2);
  const getCommentList = (params, config2 = {}) => http$1.get("/api/consultant/consultant/commentList", params, config2);
  const getServiceExperienceCon = (params, config2 = {}) => http$1.get(`/api/consultant/consultant/serviceExperience?id=${params.id}`, params, config2);
  const getConsultantById = (params, config2 = {}) => http$1.post("/api/consultant/consultant/getConsultantById", params, config2);
  const saveConsultant = (params, config2 = {}) => http$1.post("/api/consultant/consultant/saveConsultant", params, config2);
  const registerConsultantStep1 = (params, config2 = {}) => http$1.post("/api/consultant/consultant/step1", params, config2);
  const registerConsultantStep2 = (params, config2 = {}) => http$1.post("/api/consultant/consultant/step2", params, config2);
  const registerConsultantStep3 = (params, config2 = {}) => http$1.post("/api/consultant/consultant/step3", params, config2);
  const getConsultantByUserId = (params, config2 = {}) => http$1.post("/api/consultant/consultant/getConsultantByUserId", params, config2);
  const consultMenus = (params, config2 = {}) => http$1.get("api/consultant/consultant/menu");
  const tencentSigIm = (params, config2 = {}) => http$1.post("/api/tencent/sig/im", params, config2);
  const tencentSigTrtc = (params, config2 = {}) => http$1.post("/api/tencent/sig/trtc", params, config2);
  const checkPolicy = (params, config2 = {}) => http$1.post("/api/chat/policy/check", params, config2);
  const postAdminList = (params, config2 = {}) => http$1.post("/exam/api/sys/user-admin/paging", params, config2);
  const bannerList = (params, config2 = {}) => http$1.get("/api/banner/list", params, config2);
  const getConsultantMenus = (params, config2 = {}) => http$1.get("/api/appMenu/menus", params, config2);
  const listHomeExams = (params, config2 = {}) => http$1.get("/api/psychology/exam/listHome", params, config2);
  const serviceTypes = (params, config2 = {}) => http$1.get("/api/appMenu/allServices");
  const serviceList = (params, config2 = {}) => http$1.get("/api/admin/consultant/services");
  class MPAnimation {
    constructor(options, _this) {
      this.options = options;
      this.animation = uni.createAnimation({
        ...options
      });
      this.currentStepAnimates = {};
      this.next = 0;
      this.$ = _this;
    }
    _nvuePushAnimates(type, args) {
      let aniObj = this.currentStepAnimates[this.next];
      let styles = {};
      if (!aniObj) {
        styles = {
          styles: {},
          config: {}
        };
      } else {
        styles = aniObj;
      }
      if (animateTypes1.includes(type)) {
        if (!styles.styles.transform) {
          styles.styles.transform = "";
        }
        let unit = "";
        if (type === "rotate") {
          unit = "deg";
        }
        styles.styles.transform += `${type}(${args + unit}) `;
      } else {
        styles.styles[type] = `${args}`;
      }
      this.currentStepAnimates[this.next] = styles;
    }
    _animateRun(styles = {}, config2 = {}) {
      let ref = this.$.$refs["ani"].ref;
      if (!ref)
        return;
      return new Promise((resolve, reject) => {
        nvueAnimation.transition(ref, {
          styles,
          ...config2
        }, (res2) => {
          resolve();
        });
      });
    }
    _nvueNextAnimate(animates, step = 0, fn) {
      let obj = animates[step];
      if (obj) {
        let {
          styles,
          config: config2
        } = obj;
        this._animateRun(styles, config2).then(() => {
          step += 1;
          this._nvueNextAnimate(animates, step, fn);
        });
      } else {
        this.currentStepAnimates = {};
        typeof fn === "function" && fn();
        this.isEnd = true;
      }
    }
    step(config2 = {}) {
      this.animation.step(config2);
      return this;
    }
    run(fn) {
      this.$.animationData = this.animation.export();
      this.$.timer = setTimeout(() => {
        typeof fn === "function" && fn();
      }, this.$.durationTime);
    }
  }
  const animateTypes1 = [
    "matrix",
    "matrix3d",
    "rotate",
    "rotate3d",
    "rotateX",
    "rotateY",
    "rotateZ",
    "scale",
    "scale3d",
    "scaleX",
    "scaleY",
    "scaleZ",
    "skew",
    "skewX",
    "skewY",
    "translate",
    "translate3d",
    "translateX",
    "translateY",
    "translateZ"
  ];
  const animateTypes2 = ["opacity", "backgroundColor"];
  const animateTypes3 = ["width", "height", "left", "right", "top", "bottom"];
  animateTypes1.concat(animateTypes2, animateTypes3).forEach((type) => {
    MPAnimation.prototype[type] = function(...args) {
      this.animation[type](...args);
      return this;
    };
  });
  function createAnimation(option, _this) {
    if (!_this)
      return;
    clearTimeout(_this.timer);
    return new MPAnimation(option, _this);
  }
  const _sfc_main$1Z = {
    name: "uniTransition",
    emits: ["click", "change"],
    props: {
      show: {
        type: Boolean,
        default: false
      },
      modeClass: {
        type: [Array, String],
        default() {
          return "fade";
        }
      },
      duration: {
        type: Number,
        default: 300
      },
      styles: {
        type: Object,
        default() {
          return {};
        }
      },
      customClass: {
        type: String,
        default: ""
      },
      onceRender: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {
        isShow: false,
        transform: "",
        opacity: 1,
        animationData: {},
        durationTime: 300,
        config: {}
      };
    },
    watch: {
      show: {
        handler(newVal) {
          if (newVal) {
            this.open();
          } else {
            if (this.isShow) {
              this.close();
            }
          }
        },
        immediate: true
      }
    },
    computed: {
      // 生成样式数据
      stylesObject() {
        let styles = {
          ...this.styles,
          "transition-duration": this.duration / 1e3 + "s"
        };
        let transform = "";
        for (let i2 in styles) {
          let line = this.toLine(i2);
          transform += line + ":" + styles[i2] + ";";
        }
        return transform;
      },
      // 初始化动画条件
      transformStyles() {
        return "transform:" + this.transform + ";opacity:" + this.opacity + ";" + this.stylesObject;
      }
    },
    created() {
      this.config = {
        duration: this.duration,
        timingFunction: "ease",
        transformOrigin: "50% 50%",
        delay: 0
      };
      this.durationTime = this.duration;
    },
    methods: {
      /**
       *  ref 触发 初始化动画
       */
      init(obj = {}) {
        if (obj.duration) {
          this.durationTime = obj.duration;
        }
        this.animation = createAnimation(Object.assign(this.config, obj), this);
      },
      /**
       * 点击组件触发回调
       */
      onClick() {
        this.$emit("click", {
          detail: this.isShow
        });
      },
      /**
       * ref 触发 动画分组
       * @param {Object} obj
       */
      step(obj, config2 = {}) {
        if (!this.animation)
          return;
        for (let i2 in obj) {
          try {
            if (typeof obj[i2] === "object") {
              this.animation[i2](...obj[i2]);
            } else {
              this.animation[i2](obj[i2]);
            }
          } catch (e2) {
            formatAppLog("error", "at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148", `方法 ${i2} 不存在`);
          }
        }
        this.animation.step(config2);
        return this;
      },
      /**
       *  ref 触发 执行动画
       */
      run(fn) {
        if (!this.animation)
          return;
        this.animation.run(fn);
      },
      // 开始过度动画
      open() {
        clearTimeout(this.timer);
        this.transform = "";
        this.isShow = true;
        let { opacity, transform } = this.styleInit(false);
        if (typeof opacity !== "undefined") {
          this.opacity = opacity;
        }
        this.transform = transform;
        this.$nextTick(() => {
          this.timer = setTimeout(() => {
            this.animation = createAnimation(this.config, this);
            this.tranfromInit(false).step();
            this.animation.run(() => {
              this.transform = "";
              this.opacity = opacity || 1;
            });
            this.$emit("change", {
              detail: this.isShow
            });
          }, 20);
        });
      },
      // 关闭过度动画
      close(type) {
        if (!this.animation)
          return;
        this.tranfromInit(true).step().run(() => {
          this.isShow = false;
          this.animationData = null;
          this.animation = null;
          let { opacity, transform } = this.styleInit(false);
          this.opacity = opacity || 1;
          this.transform = transform;
          this.$emit("change", {
            detail: this.isShow
          });
        });
      },
      // 处理动画开始前的默认样式
      styleInit(type) {
        let styles = {
          transform: ""
        };
        let buildStyle = (type2, mode) => {
          if (mode === "fade") {
            styles.opacity = this.animationType(type2)[mode];
          } else {
            styles.transform += this.animationType(type2)[mode] + " ";
          }
        };
        if (typeof this.modeClass === "string") {
          buildStyle(type, this.modeClass);
        } else {
          this.modeClass.forEach((mode) => {
            buildStyle(type, mode);
          });
        }
        return styles;
      },
      // 处理内置组合动画
      tranfromInit(type) {
        let buildTranfrom = (type2, mode) => {
          let aniNum = null;
          if (mode === "fade") {
            aniNum = type2 ? 0 : 1;
          } else {
            aniNum = type2 ? "-100%" : "0";
            if (mode === "zoom-in") {
              aniNum = type2 ? 0.8 : 1;
            }
            if (mode === "zoom-out") {
              aniNum = type2 ? 1.2 : 1;
            }
            if (mode === "slide-right") {
              aniNum = type2 ? "100%" : "0";
            }
            if (mode === "slide-bottom") {
              aniNum = type2 ? "100%" : "0";
            }
          }
          this.animation[this.animationMode()[mode]](aniNum);
        };
        if (typeof this.modeClass === "string") {
          buildTranfrom(type, this.modeClass);
        } else {
          this.modeClass.forEach((mode) => {
            buildTranfrom(type, mode);
          });
        }
        return this.animation;
      },
      animationType(type) {
        return {
          fade: type ? 0 : 1,
          "slide-top": `translateY(${type ? "0" : "-100%"})`,
          "slide-right": `translateX(${type ? "0" : "100%"})`,
          "slide-bottom": `translateY(${type ? "0" : "100%"})`,
          "slide-left": `translateX(${type ? "0" : "-100%"})`,
          "zoom-in": `scaleX(${type ? 1 : 0.8}) scaleY(${type ? 1 : 0.8})`,
          "zoom-out": `scaleX(${type ? 1 : 1.2}) scaleY(${type ? 1 : 1.2})`
        };
      },
      // 内置动画类型与实际动画对应字典
      animationMode() {
        return {
          fade: "opacity",
          "slide-top": "translateY",
          "slide-right": "translateX",
          "slide-bottom": "translateY",
          "slide-left": "translateX",
          "zoom-in": "scale",
          "zoom-out": "scale"
        };
      },
      // 驼峰转中横线
      toLine(name) {
        return name.replace(/([A-Z])/g, "-$1").toLowerCase();
      }
    }
  };
  function _sfc_render$1Y(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.withDirectives((vue.openBlock(), vue.createElementBlock("view", {
      ref: "ani",
      animation: $data.animationData,
      class: vue.normalizeClass($props.customClass),
      style: vue.normalizeStyle($options.transformStyles),
      onClick: _cache[0] || (_cache[0] = (...args) => $options.onClick && $options.onClick(...args))
    }, [
      vue.renderSlot(_ctx.$slots, "default")
    ], 14, ["animation"])), [
      [vue.vShow, $data.isShow]
    ]);
  }
  const __easycom_0$4 = /* @__PURE__ */ _export_sfc(_sfc_main$1Z, [["render", _sfc_render$1Y], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-transition/components/uni-transition/uni-transition.vue"]]);
  const _sfc_main$1Y = {
    name: "uniPopup",
    components: {},
    emits: ["change", "maskClick"],
    props: {
      // 开启动画
      animation: {
        type: Boolean,
        default: true
      },
      // 弹出层类型，可选值，top: 顶部弹出层；bottom：底部弹出层；center：全屏弹出层
      // message: 消息提示 ; dialog : 对话框
      type: {
        type: String,
        default: "center"
      },
      // maskClick
      isMaskClick: {
        type: Boolean,
        default: null
      },
      // TODO 2 个版本后废弃属性 ，使用 isMaskClick
      maskClick: {
        type: Boolean,
        default: null
      },
      backgroundColor: {
        type: String,
        default: "none"
      },
      safeArea: {
        type: Boolean,
        default: true
      },
      maskBackgroundColor: {
        type: String,
        default: "rgba(0, 0, 0, 0.4)"
      },
      borderRadius: {
        type: String
      }
    },
    watch: {
      /**
       * 监听type类型
       */
      type: {
        handler: function(type) {
          if (!this.config[type])
            return;
          this[this.config[type]](true);
        },
        immediate: true
      },
      isDesktop: {
        handler: function(newVal) {
          if (!this.config[newVal])
            return;
          this[this.config[this.type]](true);
        },
        immediate: true
      },
      /**
       * 监听遮罩是否可点击
       * @param {Object} val
       */
      maskClick: {
        handler: function(val2) {
          this.mkclick = val2;
        },
        immediate: true
      },
      isMaskClick: {
        handler: function(val2) {
          this.mkclick = val2;
        },
        immediate: true
      },
      // H5 下禁止底部滚动
      showPopup(show) {
      }
    },
    data() {
      return {
        duration: 300,
        ani: [],
        showPopup: false,
        showTrans: false,
        popupWidth: 0,
        popupHeight: 0,
        config: {
          top: "top",
          bottom: "bottom",
          center: "center",
          left: "left",
          right: "right",
          message: "top",
          dialog: "center",
          share: "bottom"
        },
        maskClass: {
          position: "fixed",
          bottom: 0,
          top: 0,
          left: 0,
          right: 0,
          backgroundColor: "rgba(0, 0, 0, 0.4)"
        },
        transClass: {
          backgroundColor: "transparent",
          borderRadius: this.borderRadius || "0",
          position: "fixed",
          left: 0,
          right: 0
        },
        maskShow: true,
        mkclick: true,
        popupstyle: "top"
      };
    },
    computed: {
      getStyles() {
        let res2 = { backgroundColor: this.bg };
        if (this.borderRadius || "0") {
          res2 = Object.assign(res2, { borderRadius: this.borderRadius });
        }
        return res2;
      },
      isDesktop() {
        return this.popupWidth >= 500 && this.popupHeight >= 500;
      },
      bg() {
        if (this.backgroundColor === "" || this.backgroundColor === "none") {
          return "transparent";
        }
        return this.backgroundColor;
      }
    },
    mounted() {
      const fixSize = () => {
        const {
          windowWidth,
          windowHeight,
          windowTop,
          safeArea,
          screenHeight,
          safeAreaInsets
        } = uni.getSystemInfoSync();
        this.popupWidth = windowWidth;
        this.popupHeight = windowHeight + (windowTop || 0);
        if (safeArea && this.safeArea) {
          this.safeAreaInsets = safeAreaInsets.bottom;
        } else {
          this.safeAreaInsets = 0;
        }
      };
      fixSize();
    },
    // TODO vue3
    unmounted() {
      this.setH5Visible();
    },
    activated() {
      this.setH5Visible(!this.showPopup);
    },
    deactivated() {
      this.setH5Visible(true);
    },
    created() {
      if (this.isMaskClick === null && this.maskClick === null) {
        this.mkclick = true;
      } else {
        this.mkclick = this.isMaskClick !== null ? this.isMaskClick : this.maskClick;
      }
      if (this.animation) {
        this.duration = 300;
      } else {
        this.duration = 0;
      }
      this.messageChild = null;
      this.clearPropagation = false;
      this.maskClass.backgroundColor = this.maskBackgroundColor;
    },
    methods: {
      setH5Visible(visible = true) {
      },
      /**
       * 公用方法，不显示遮罩层
       */
      closeMask() {
        this.maskShow = false;
      },
      /**
       * 公用方法，遮罩层禁止点击
       */
      disableMask() {
        this.mkclick = false;
      },
      // TODO nvue 取消冒泡
      clear(e2) {
        e2.stopPropagation();
        this.clearPropagation = true;
      },
      open(direction) {
        if (this.showPopup) {
          return;
        }
        let innerType = ["top", "center", "bottom", "left", "right", "message", "dialog", "share"];
        if (!(direction && innerType.indexOf(direction) !== -1)) {
          direction = this.type;
        }
        if (!this.config[direction]) {
          formatAppLog("error", "at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:310", "缺少类型：", direction);
          return;
        }
        this[this.config[direction]]();
        this.$emit("change", {
          show: true,
          type: direction
        });
      },
      close(type) {
        this.showTrans = false;
        this.$emit("change", {
          show: false,
          type: this.type
        });
        clearTimeout(this.timer);
        this.timer = setTimeout(() => {
          this.showPopup = false;
        }, 300);
      },
      // TODO 处理冒泡事件，头条的冒泡事件有问题 ，先这样兼容
      touchstart() {
        this.clearPropagation = false;
      },
      onTap() {
        if (this.clearPropagation) {
          this.clearPropagation = false;
          return;
        }
        this.$emit("maskClick");
        if (!this.mkclick)
          return;
        this.close();
      },
      /**
       * 顶部弹出样式处理
       */
      top(type) {
        this.popupstyle = this.isDesktop ? "fixforpc-top" : "top";
        this.ani = ["slide-top"];
        this.transClass = {
          position: "fixed",
          left: 0,
          right: 0,
          backgroundColor: this.bg,
          borderRadius: this.borderRadius || "0"
        };
        if (type)
          return;
        this.showPopup = true;
        this.showTrans = true;
        this.$nextTick(() => {
          this.showPoptrans();
          if (this.messageChild && this.type === "message") {
            this.messageChild.timerClose();
          }
        });
      },
      /**
       * 底部弹出样式处理
       */
      bottom(type) {
        this.popupstyle = "bottom";
        this.ani = ["slide-bottom"];
        this.transClass = {
          position: "fixed",
          left: 0,
          right: 0,
          bottom: 0,
          paddingBottom: this.safeAreaInsets + "px",
          backgroundColor: this.bg,
          borderRadius: this.borderRadius || "0"
        };
        if (type)
          return;
        this.showPoptrans();
      },
      /**
       * 中间弹出样式处理
       */
      center(type) {
        this.popupstyle = "center";
        this.ani = ["zoom-out", "fade"];
        this.transClass = {
          position: "fixed",
          display: "flex",
          flexDirection: "column",
          bottom: 0,
          left: 0,
          right: 0,
          top: 0,
          justifyContent: "center",
          alignItems: "center",
          borderRadius: this.borderRadius || "0"
        };
        if (type)
          return;
        this.showPoptrans();
      },
      left(type) {
        this.popupstyle = "left";
        this.ani = ["slide-left"];
        this.transClass = {
          position: "fixed",
          left: 0,
          bottom: 0,
          top: 0,
          backgroundColor: this.bg,
          borderRadius: this.borderRadius || "0",
          display: "flex",
          flexDirection: "column"
        };
        if (type)
          return;
        this.showPoptrans();
      },
      right(type) {
        this.popupstyle = "right";
        this.ani = ["slide-right"];
        this.transClass = {
          position: "fixed",
          bottom: 0,
          right: 0,
          top: 0,
          backgroundColor: this.bg,
          borderRadius: this.borderRadius || "0",
          display: "flex",
          flexDirection: "column"
        };
        if (type)
          return;
        this.showPoptrans();
      },
      showPoptrans() {
        this.$nextTick(() => {
          this.showPopup = true;
          this.showTrans = true;
        });
      }
    }
  };
  function _sfc_render$1X(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_transition = resolveEasycom(vue.resolveDynamicComponent("uni-transition"), __easycom_0$4);
    return $data.showPopup ? (vue.openBlock(), vue.createElementBlock(
      "view",
      {
        key: 0,
        class: vue.normalizeClass(["uni-popup", [$data.popupstyle, $options.isDesktop ? "fixforpc-z-index" : ""]])
      },
      [
        vue.createElementVNode(
          "view",
          {
            onTouchstart: _cache[1] || (_cache[1] = (...args) => $options.touchstart && $options.touchstart(...args))
          },
          [
            $data.maskShow ? (vue.openBlock(), vue.createBlock(_component_uni_transition, {
              key: "1",
              name: "mask",
              "mode-class": "fade",
              styles: $data.maskClass,
              duration: $data.duration,
              show: $data.showTrans,
              onClick: $options.onTap
            }, null, 8, ["styles", "duration", "show", "onClick"])) : vue.createCommentVNode("v-if", true),
            vue.createVNode(_component_uni_transition, {
              key: "2",
              "mode-class": $data.ani,
              name: "content",
              styles: $data.transClass,
              duration: $data.duration,
              show: $data.showTrans,
              onClick: $options.onTap
            }, {
              default: vue.withCtx(() => [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["uni-popup__wrapper", [$data.popupstyle]]),
                    style: vue.normalizeStyle($options.getStyles),
                    onClick: _cache[0] || (_cache[0] = (...args) => $options.clear && $options.clear(...args))
                  },
                  [
                    vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
                  ],
                  6
                  /* CLASS, STYLE */
                )
              ]),
              _: 3
              /* FORWARDED */
            }, 8, ["mode-class", "styles", "duration", "show", "onClick"])
          ],
          32
          /* NEED_HYDRATION */
        )
      ],
      2
      /* CLASS */
    )) : vue.createCommentVNode("v-if", true);
  }
  const __easycom_2$c = /* @__PURE__ */ _export_sfc(_sfc_main$1Y, [["render", _sfc_render$1X], ["__scopeId", "data-v-4dd3c44b"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-popup/components/uni-popup/uni-popup.vue"]]);
  const getWorryList = (params, config2 = {}) => http$1.post("/api/emotion/emotion/getEmotionList", params, config2);
  const complaintType = (params, config2 = {}) => http$1.post("/api/admin/complaint/type/page", params, config2);
  const consultantAdd = (params, config2 = {}) => http$1.post("/api/admin/consultant/quote/add", params, config2);
  const listenerAdd = (params, config2 = {}) => http$1.post("/api/admin/listener/quote/add", params, config2);
  const consultantList = (params, config2 = {}) => http$1.get(`/api/admin/consultant/quote/list?userId=${params}`, {}, config2);
  const listenerList = (params, config2 = {}) => http$1.get(`/api/admin/listener/quote/list?userId=${params}`, {}, config2);
  const listenerDelete = (params, config2 = {}) => http$1.post(`/api/admin/listener/quote/delete?id=${params}`, {}, config2);
  const consultantDelete = (params, config2 = {}) => http$1.post(`/api/admin/consultant/quote/delete?id=${params}`, {}, config2);
  const getAgreement = (params, config2 = {}) => http$1.get(`/api/agreement/page`, params, config2);
  const getOperation = (params, config2 = {}) => http$1.get(`/api/operation-settings/page?current=1&size=10`, params, config2);
  const listenerUpdate = (params, config2 = {}) => http$1.post(`/api/admin/listener/quote/update`, params, config2);
  const consultantUpdate = (params, config2 = {}) => http$1.post(`/api/admin/consultant/quote/update`, params, config2);
  const getCommentByTargetUserId = (params, config2 = {}) => http$1.get(`/api/comment/comment/getCommentByTargetUserId`, params, config2);
  const setBatch = (params, config2 = {}) => http$1.post(`/api/consultant/schedule/setBatch`, params, config2);
  const getSchedule = (params, config2 = {}) => http$1.get("/api/consultant/schedule/available?consultantId=", params, config2);
  const _sfc_main$1X = {
    __name: "Customer-Service",
    setup(__props, { expose: __expose }) {
      const imageUrl = vue.ref();
      const operationList = async () => {
        const { data } = await getOperation();
        const { customerServiceQrcode } = data.records[0];
        imageUrl.value = customerServiceQrcode;
      };
      operationList();
      const popup = vue.ref(null);
      const open2 = () => {
        popup.value.open("bottom");
      };
      const close = () => {
        popup.value.close();
      };
      __expose({
        open: open2
      });
      const handleLongPress = async () => {
        try {
          const downloadRes = await uni.downloadFile({
            url: imageUrl.value
          });
          if (downloadRes.statusCode !== 200) {
            throw new Error("下载失败");
          }
          await uni.saveImageToPhotosAlbum({
            filePath: downloadRes.tempFilePath
          });
          uni.showToast({ title: "保存成功", icon: "success" });
        } catch (err) {
          formatAppLog("error", "at components/Customer-Service.vue:50", "保存失败:", err);
          uni.showToast({ title: "保存失败", icon: "none" });
        }
      };
      const __returned__ = { imageUrl, operationList, popup, open: open2, close, handleLongPress, ref: vue.ref, get getOperation() {
        return getOperation;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1W(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createBlock(
      _component_uni_popup,
      {
        ref: "popup",
        type: "message"
      },
      {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "popup-content" }, [
            vue.createVNode(_component_uni_icons, {
              type: "closeempty",
              size: "20",
              color: "#A6A6A6",
              class: "close-icon",
              onClick: $setup.close
            }),
            vue.createElementVNode("view", { class: "title" }, "您的专属客服"),
            vue.createElementVNode("image", {
              src: $setup.imageUrl,
              onLongpress: $setup.handleLongPress
            }, null, 40, ["src"]),
            vue.createElementVNode("view", { class: "save-code" }, [
              vue.createVNode(_component_uni_icons, {
                type: "download",
                size: "25",
                color: "#35CA95"
              }),
              vue.createElementVNode("view", null, [
                vue.createElementVNode("text", null, "长按保存"),
                vue.createTextVNode("到相册")
              ])
            ])
          ])
        ]),
        _: 1
        /* STABLE */
      },
      512
      /* NEED_PATCH */
    );
  }
  const CustomerService = /* @__PURE__ */ _export_sfc(_sfc_main$1X, [["render", _sfc_render$1W], ["__scopeId", "data-v-d93a6781"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Customer-Service.vue"]]);
  const _imports_7$1 = "/static/my/contect.png";
  const _imports_1$g = "/static/consult/filter.png";
  const _imports_2$9 = "/static/consult/address.png";
  const _sfc_main$1W = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "882f34cc-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const scrollTop = vue.ref(0);
      const stickyOffsetTop = vue.ref(0);
      const showCityBox = vue.ref(false);
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "rpx");
      const banners = vue.ref([]);
      const sticky = vue.ref([
        { id: 1, name: "困扰", open: false },
        { id: 2, name: "城市", open: false },
        { id: 3, name: "价格", open: false },
        { id: 4, name: "排序", open: false },
        { id: 5, name: "筛选", open: false }
      ]);
      const serviceRef = vue.ref(null);
      const customerService = () => {
        serviceRef.value.open();
      };
      const getBanners = async () => {
        let res2 = await bannerList();
        banners.value = res2.data;
      };
      const fixed = vue.ref(false);
      const avatarImg = (item) => {
        const { masterGallery } = item;
        if (!masterGallery) {
          return "/static/consult/user.png";
        } else {
          return JSON.parse(masterGallery)[0].url;
        }
      };
      const data = vue.reactive({
        listParams: {
          current: 1,
          size: 10
        },
        list: []
      });
      const searchParams = vue.ref({
        serviceTypes: [],
        city: ""
      });
      const closeCityFilter = () => {
        showCityBox.value = false;
      };
      const blursearchFn = () => {
        getList();
      };
      const fixedTop = () => {
        fixed.value = true;
      };
      const unFixedTop = () => {
        fixed.value = false;
        scrollTop.value = 0;
      };
      const instance = vue.getCurrentInstance();
      const proxy = instance == null ? void 0 : instance.proxy;
      const currentScroll = vue.ref(0);
      const currentFilter = vue.ref(null);
      const city = vue.ref("");
      const showBox = async (type) => {
        currentFilter.value = type;
        if (!fixed.value) {
          await vue.nextTick();
          const query = uni.createSelectorQuery().in(proxy);
          query.select("#stickyBox").boundingClientRect();
          query.selectViewport().scrollOffset();
          query.exec((res2) => {
            if (!res2 || !res2[0])
              return;
            const boxTop = res2[0].top;
            const scrollOffset = currentScroll.value;
            scrollTop.value = scrollOffset + boxTop - 90;
            setTimeout(() => {
              openFilter(type);
            }, 300);
          });
        } else {
          openFilter(type);
        }
      };
      const typeColor = vue.ref("");
      const openFilter = (type) => {
        typeColor.value = type;
        showCityBox.value = true;
      };
      const onScroll = (e2) => {
        currentScroll.value = e2.detail.scrollTop;
      };
      const openDetail = (item) => {
        const { id: id2, userId } = item;
        uni.navigateTo({
          url: `/pages/confide/detail?id=${id2}&userId=${userId}`
        });
      };
      vue.watch(
        showCityBox,
        () => {
          if (!showCityBox.value) {
            typeColor.value = "";
          }
        }
      );
      const formData = vue.ref({
        current: 1,
        size: 10,
        consultantName: ""
      });
      onReachBottom(() => {
        data.listParams.current += 1;
        getList();
      });
      const getList = async () => {
        let params = {
          ...data.listParams,
          ...searchParams.value,
          params: formData.value
        };
        const res2 = await getListenerList(params);
        data.list = [...data.list, ...res2.data.records];
      };
      const listFiltering = vue.ref(null);
      const closeFilter = () => {
        data.list = [];
        const { distressId, city: city2, currentRange, sortType, resultObj } = listFiltering.value;
        if (currentFilter.value === 1) {
          formData.value.distressId = distressId;
        }
        if (currentFilter.value === 2) {
          formData.value.city = city2;
        }
        if (currentFilter.value === 3) {
          formData.value = { ...currentRange };
        }
        if (currentFilter.value === 4) {
          formData.value.sortType = sortType;
        }
        if (currentFilter.value === 5) {
          formData.value = { ...resultObj };
        }
        showCityBox.value = false;
        getList();
      };
      const resetOption = () => {
        formData.value = {
          current: 1,
          size: 10,
          consultantName: ""
        };
        data.list = [];
        showCityBox.value = false;
        getList();
      };
      const serviceTypes2 = vue.ref([]);
      const getConsultMenu = async () => {
        let resp = await consultMenus();
        const data2 = resp.data || [];
        const result = data2.map((group) => ({
          id: group.id,
          name: group.name,
          children: JSON.parse(group.children),
          spread: false
        }));
        serviceTypes2.value = result;
      };
      const allCity = vue.ref([]);
      const getCityInfo = async () => {
        let resp = await cities();
        const data2 = resp.data || [];
        const result = data2.map((group, index) => ({
          id: index + 1,
          name: group.name,
          children: JSON.parse(group.cities)
        }));
        allCity.value = result;
      };
      vue.onMounted(() => {
        stickyOffsetTop.value = globalStore.statusBarHeight + 88;
        getList();
        getConsultMenu();
        getCityInfo();
        getBanners();
      });
      const __returned__ = { globalStore, scrollTop, stickyOffsetTop, showCityBox, statusBarHeight, banners, sticky, serviceRef, customerService, getBanners, fixed, avatarImg, data, searchParams, closeCityFilter, blursearchFn, fixedTop, unFixedTop, instance, proxy, currentScroll, currentFilter, city, showBox, typeColor, openFilter, onScroll, openDetail, formData, getList, listFiltering, closeFilter, resetOption, serviceTypes: serviceTypes2, getConsultMenu, allCity, getCityInfo, ListFiltering, ref: vue.ref, reactive: vue.reactive, watch: vue.watch, getCurrentInstance: vue.getCurrentInstance, nextTick: vue.nextTick, onMounted: vue.onMounted, get getListenerList() {
        return getListenerList;
      }, get getGenerationByBirthdate() {
        return getGenerationByBirthdate;
      }, get cities() {
        return cities;
      }, get consultMenus() {
        return consultMenus;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onReachBottom() {
        return onReachBottom;
      }, get bannerList() {
        return bannerList;
      }, CustomerService };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1V(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_u_sticky = resolveEasycom(vue.resolveDynamicComponent("u-sticky"), __easycom_2$d);
    return vue.openBlock(), vue.createElementBlock("view", { class: "consult-box" }, [
      vue.createElementVNode("scroll-view", {
        class: "scroll-content",
        "scroll-y": "",
        "scroll-top": $setup.scrollTop,
        "show-scrollbar": false,
        onScroll: $setup.onScroll
      }, [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["search-content", $setup.currentScroll > 15 ? "activeClass" : ""])
          },
          [
            vue.createElementVNode("view", { class: "search" }, [
              vue.createVNode(_component_uni_search_bar, {
                modelValue: $setup.formData.consultantName,
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.formData.consultantName = $event),
                radius: "100",
                placeholder: "请输入咨询师姓名",
                clearButton: "auto",
                cancelButton: "none",
                onBlur: _cache[1] || (_cache[1] = ($event) => $setup.blursearchFn())
              }, null, 8, ["modelValue"])
            ]),
            vue.createElementVNode("view", {
              class: "contact",
              onClick: $setup.customerService
            }, [
              vue.createElementVNode("image", { src: _imports_7$1 }),
              vue.createElementVNode("text", null, "客服")
            ])
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode("view", { class: "operate-box" }, [
          vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
            vue.createElementVNode("swiper", {
              class: "swiper",
              circular: "",
              "indicator-dots": true,
              autoplay: true,
              interval: 5e3,
              duration: 500
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.banners, (i2, index) => {
                  return vue.openBlock(), vue.createElementBlock("swiper-item", {
                    key: index,
                    class: "swiper-item"
                  }, [
                    vue.createElementVNode("view", { class: "swiper-item uni-bg-red" }, [
                      vue.createElementVNode("image", {
                        src: i2.image,
                        mode: "aspectFill",
                        class: "img"
                      }, null, 8, ["src"])
                    ])
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ])
        ]),
        vue.createVNode(_component_u_sticky, {
          "offset-top": $setup.stickyOffsetTop,
          onFixed: $setup.fixedTop,
          onUnfixed: $setup.unFixedTop
        }, {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { id: "stickyBox" }, [
              vue.createElementVNode("view", { class: "filter-box" }, [
                vue.createElementVNode("view", { class: "filter-box-1" }, [
                  vue.createElementVNode("view", { class: "filter-box-1-1" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.sticky, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "filter-box-1-item",
                          key: index,
                          style: vue.normalizeStyle({ color: $setup.typeColor == item.id ? "#ffa867" : "black" }),
                          onClick: ($event) => $setup.showBox(item.id)
                        }, [
                          vue.createTextVNode(
                            vue.toDisplayString(item.name) + " ",
                            1
                            /* TEXT */
                          ),
                          item.id != 5 ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                            key: 0,
                            type: $setup.typeColor == item.id ? "up" : "down",
                            color: $setup.typeColor == item.id ? "#ffa867" : "",
                            size: "12",
                            class: "icon"
                          }, null, 8, ["type", "color"])) : vue.createCommentVNode("v-if", true),
                          item.id == 5 ? (vue.openBlock(), vue.createElementBlock("image", {
                            key: 1,
                            src: _imports_1$g,
                            style: { "width": "25rpx", "height": "25rpx" },
                            class: "filter icon"
                          })) : vue.createCommentVNode("v-if", true)
                        ], 12, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["offset-top"]),
        vue.createElementVNode("view", { class: "doctor-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "doctor-item",
                key: index,
                onClick: ($event) => $setup.openDetail(item)
              }, [
                vue.createElementVNode("view", { class: "doctor-auture" }, [
                  vue.createElementVNode("image", {
                    src: $setup.avatarImg(item)
                  }, null, 8, ["src"])
                ]),
                vue.createElementVNode("view", { class: "doctor-info" }, [
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode(
                      "view",
                      { class: "name" },
                      vue.toDisplayString(item.name),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode("view", { class: "info" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "age item" },
                        vue.toDisplayString($setup.getGenerationByBirthdate(item.birthdate)),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "line" }),
                      vue.createElementVNode(
                        "text",
                        { class: "edu item" },
                        vue.toDisplayString(item.education) + "硕士",
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "line" }),
                      vue.createElementVNode(
                        "text",
                        { class: "star item" },
                        vue.toDisplayString(item.constellation || "水瓶座"),
                        1
                        /* TEXT */
                      )
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode("view", { class: "exprise" }, [
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.commentCount),
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 服务人次 "),
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.platformHours) + "+",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 小时经验 "),
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.rating),
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 评分 ")
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode("view", { class: "point-list" }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList(item.serviceTypes, (item2, index2) => {
                          return vue.openBlock(), vue.createElementBlock(
                            "view",
                            {
                              class: "point-item",
                              key: index2
                            },
                            vue.toDisplayString(item2),
                            1
                            /* TEXT */
                          );
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    item.price ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "price"
                    }, [
                      item.price ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "unit"
                      }, "¥")) : vue.createCommentVNode("v-if", true),
                      vue.createTextVNode(
                        vue.toDisplayString(item.price),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true),
                    item.quoteList[0] ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 1,
                      class: "price"
                    }, [
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.quoteList[0].quoteAmount || 0),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", {
                        class: "unit",
                        style: { "color": "rgba(0, 0, 0, 0.5)" }
                      }, " /分钟起")
                    ])) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", { class: "address" }, [
                      vue.createElementVNode("image", { src: _imports_2$9 }),
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.address),
                        1
                        /* TEXT */
                      )
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "server-box" }, [
                  vue.createElementVNode("view", { class: "server-status" }, "服务中")
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ], 40, ["scroll-top"]),
      $setup.showCityBox ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "mask",
        onClick: $setup.closeCityFilter
      }, [
        vue.createElementVNode("view", {
          class: "filter-popup",
          onClick: _cache[4] || (_cache[4] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "popup-body" }, [
            vue.createVNode($setup["ListFiltering"], {
              ref: "listFiltering",
              colorType: 2,
              serviceTypes: $setup.serviceTypes,
              confusionList: $setup.allCity,
              layoutType: $setup.currentFilter
            }, null, 8, ["serviceTypes", "confusionList", "layoutType"])
          ]),
          vue.createElementVNode("view", { class: "popup-footer" }, [
            vue.createElementVNode("button", {
              class: "btn btn-reset",
              size: "mini",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.resetOption())
            }, " 重置 "),
            vue.createElementVNode("button", {
              class: "btn btn-confirm",
              size: "mini",
              onClick: _cache[3] || (_cache[3] = ($event) => $setup.closeFilter())
            }, " 完成 ")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createVNode(
        $setup["CustomerService"],
        { ref: "serviceRef" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesConfideIndex = /* @__PURE__ */ _export_sfc(_sfc_main$1W, [["render", _sfc_render$1V], ["__scopeId", "data-v-882f34cc"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/confide/index.vue"]]);
  const _sfc_main$1V = {
    name: "UniStatusBar",
    data() {
      return {
        statusBarHeight: uni.getSystemInfoSync().statusBarHeight + "px"
      };
    }
  };
  function _sfc_render$1U(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        style: vue.normalizeStyle({ height: $data.statusBarHeight }),
        class: "uni-status-bar"
      },
      [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ],
      4
      /* STYLE */
    );
  }
  const statusBar = /* @__PURE__ */ _export_sfc(_sfc_main$1V, [["render", _sfc_render$1U], ["__scopeId", "data-v-7920e3e0"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-status-bar.vue"]]);
  const getVal = (val2) => typeof val2 === "number" ? val2 + "px" : val2;
  const _sfc_main$1U = {
    name: "UniNavBar",
    components: {
      statusBar
    },
    emits: ["clickLeft", "clickRight", "clickTitle"],
    props: {
      dark: {
        type: Boolean,
        default: false
      },
      title: {
        type: String,
        default: ""
      },
      leftText: {
        type: String,
        default: ""
      },
      rightText: {
        type: String,
        default: ""
      },
      leftIcon: {
        type: String,
        default: ""
      },
      rightIcon: {
        type: String,
        default: ""
      },
      fixed: {
        type: [Boolean, String],
        default: false
      },
      color: {
        type: String,
        default: ""
      },
      backgroundColor: {
        type: String,
        default: ""
      },
      statusBar: {
        type: [Boolean, String],
        default: false
      },
      shadow: {
        type: [Boolean, String],
        default: false
      },
      border: {
        type: [Boolean, String],
        default: true
      },
      height: {
        type: [Number, String],
        default: 44
      },
      leftWidth: {
        type: [Number, String],
        default: 60
      },
      rightWidth: {
        type: [Number, String],
        default: 60
      },
      stat: {
        type: [Boolean, String],
        default: ""
      }
    },
    computed: {
      themeBgColor() {
        if (this.dark) {
          if (this.backgroundColor) {
            return this.backgroundColor;
          } else {
            return this.dark ? "#333" : "#FFF";
          }
        }
        return this.backgroundColor || "#FFF";
      },
      themeColor() {
        if (this.dark) {
          if (this.color) {
            return this.color;
          } else {
            return this.dark ? "#fff" : "#333";
          }
        }
        return this.color || "#333";
      },
      navbarHeight() {
        return getVal(this.height);
      },
      leftIconWidth() {
        return getVal(this.leftWidth);
      },
      rightIconWidth() {
        return getVal(this.rightWidth);
      }
    },
    mounted() {
      if (uni.report && this.stat && this.title !== "") {
        uni.report("title", this.title);
      }
    },
    methods: {
      onClickLeft() {
        this.$emit("clickLeft");
      },
      onClickRight() {
        this.$emit("clickRight");
      },
      onClickTitle() {
        this.$emit("clickTitle");
      }
    }
  };
  function _sfc_render$1T(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_status_bar = vue.resolveComponent("status-bar");
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["uni-navbar", { "uni-dark": $props.dark, "uni-nvue-fixed": $props.fixed }])
      },
      [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["uni-navbar__content", { "uni-navbar--fixed": $props.fixed, "uni-navbar--shadow": $props.shadow, "uni-navbar--border": $props.border }]),
            style: vue.normalizeStyle({ "background-color": $options.themeBgColor, "border-bottom-color": $options.themeColor })
          },
          [
            $props.statusBar ? (vue.openBlock(), vue.createBlock(_component_status_bar, { key: 0 })) : vue.createCommentVNode("v-if", true),
            vue.createElementVNode(
              "view",
              {
                style: vue.normalizeStyle({ color: $options.themeColor, backgroundColor: $options.themeBgColor, height: $options.navbarHeight }),
                class: "uni-navbar__header"
              },
              [
                vue.createElementVNode(
                  "view",
                  {
                    onClick: _cache[0] || (_cache[0] = (...args) => $options.onClickLeft && $options.onClickLeft(...args)),
                    class: "uni-navbar__header-btns uni-navbar__header-btns-left",
                    style: vue.normalizeStyle({ width: $options.leftIconWidth })
                  },
                  [
                    vue.renderSlot(_ctx.$slots, "left", {}, () => [
                      $props.leftIcon.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "uni-navbar__content_view"
                      }, [
                        vue.createVNode(_component_uni_icons, {
                          color: $options.themeColor,
                          type: $props.leftIcon,
                          size: "20"
                        }, null, 8, ["color", "type"])
                      ])) : vue.createCommentVNode("v-if", true),
                      $props.leftText.length ? (vue.openBlock(), vue.createElementBlock(
                        "view",
                        {
                          key: 1,
                          class: vue.normalizeClass([{ "uni-navbar-btn-icon-left": !$props.leftIcon.length > 0 }, "uni-navbar-btn-text"])
                        },
                        [
                          vue.createElementVNode(
                            "text",
                            {
                              style: vue.normalizeStyle({ color: $options.themeColor, fontSize: "12px" })
                            },
                            vue.toDisplayString($props.leftText),
                            5
                            /* TEXT, STYLE */
                          )
                        ],
                        2
                        /* CLASS */
                      )) : vue.createCommentVNode("v-if", true)
                    ], true)
                  ],
                  4
                  /* STYLE */
                ),
                vue.createElementVNode("view", {
                  class: "uni-navbar__header-container",
                  onClick: _cache[1] || (_cache[1] = (...args) => $options.onClickTitle && $options.onClickTitle(...args))
                }, [
                  vue.renderSlot(_ctx.$slots, "default", {}, () => [
                    $props.title.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "uni-navbar__header-container-inner"
                    }, [
                      vue.createElementVNode(
                        "text",
                        {
                          class: "uni-nav-bar-text uni-ellipsis-1",
                          style: vue.normalizeStyle({ color: $options.themeColor })
                        },
                        vue.toDisplayString($props.title),
                        5
                        /* TEXT, STYLE */
                      )
                    ])) : vue.createCommentVNode("v-if", true)
                  ], true)
                ]),
                vue.createElementVNode(
                  "view",
                  {
                    onClick: _cache[2] || (_cache[2] = (...args) => $options.onClickRight && $options.onClickRight(...args)),
                    class: "uni-navbar__header-btns uni-navbar__header-btns-right",
                    style: vue.normalizeStyle({ width: $options.rightIconWidth })
                  },
                  [
                    vue.renderSlot(_ctx.$slots, "right", {}, () => [
                      $props.rightIcon.length ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                        vue.createVNode(_component_uni_icons, {
                          color: $options.themeColor,
                          type: $props.rightIcon,
                          size: "22"
                        }, null, 8, ["color", "type"])
                      ])) : vue.createCommentVNode("v-if", true),
                      $props.rightText.length && !$props.rightIcon.length ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 1,
                        class: "uni-navbar-btn-text"
                      }, [
                        vue.createElementVNode(
                          "text",
                          {
                            class: "uni-nav-bar-right-text",
                            style: vue.normalizeStyle({ color: $options.themeColor })
                          },
                          vue.toDisplayString($props.rightText),
                          5
                          /* TEXT, STYLE */
                        )
                      ])) : vue.createCommentVNode("v-if", true)
                    ], true)
                  ],
                  4
                  /* STYLE */
                )
              ],
              4
              /* STYLE */
            )
          ],
          6
          /* CLASS, STYLE */
        ),
        $props.fixed ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "uni-navbar__placeholder"
        }, [
          $props.statusBar ? (vue.openBlock(), vue.createBlock(_component_status_bar, { key: 0 })) : vue.createCommentVNode("v-if", true),
          vue.createElementVNode(
            "view",
            {
              class: "uni-navbar__placeholder-view",
              style: vue.normalizeStyle({ height: $options.navbarHeight })
            },
            null,
            4
            /* STYLE */
          )
        ])) : vue.createCommentVNode("v-if", true)
      ],
      2
      /* CLASS */
    );
  }
  const __easycom_1$3 = /* @__PURE__ */ _export_sfc(_sfc_main$1U, [["render", _sfc_render$1T], ["__scopeId", "data-v-26544265"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue"]]);
  const _sfc_main$1T = {
    name: "UniSteps",
    props: {
      direction: {
        // 排列方向 row column
        type: String,
        default: "row"
      },
      activeColor: {
        // 激活状态颜色
        type: String,
        default: "#2979FF"
      },
      deactiveColor: {
        // 未激活状态颜色
        type: String,
        default: "#B7BDC6"
      },
      active: {
        // 当前步骤
        type: Number,
        default: 0
      },
      activeIcon: {
        // 当前步骤
        type: String,
        default: "checkbox-filled"
      },
      options: {
        type: Array,
        default() {
          return [];
        }
      }
      // 数据
    },
    data() {
      return {
        heightArr: []
      };
    },
    mounted() {
      if (this.direction === "column") {
        let that = this;
        uni.createSelectorQuery().in(this).selectAll(".uni-steps__column-text").boundingClientRect((data) => {
          that.heightArr = data.map((item) => item.height + 1);
        }).exec();
      }
    }
  };
  function _sfc_render$1S(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-steps" }, [
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column" : "uni-steps__row"])
        },
        [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-text-container" : "uni-steps__row-text-container"])
            },
            [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($props.options, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock(
                    "view",
                    {
                      key: index,
                      class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-text" : "uni-steps__row-text"])
                    },
                    [
                      vue.createElementVNode(
                        "text",
                        {
                          style: vue.normalizeStyle({ color: index === $props.active ? $props.activeColor : $props.deactiveColor }),
                          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-title" : "uni-steps__row-title"])
                        },
                        vue.toDisplayString(item.title),
                        7
                        /* TEXT, CLASS, STYLE */
                      ),
                      vue.createElementVNode(
                        "text",
                        {
                          style: vue.normalizeStyle({ color: $props.deactiveColor }),
                          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-desc" : "uni-steps__row-desc"])
                        },
                        vue.toDisplayString(item.desc),
                        7
                        /* TEXT, CLASS, STYLE */
                      )
                    ],
                    2
                    /* CLASS */
                  );
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-container" : "uni-steps__row-container"])
            },
            [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($props.options, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock(
                    "view",
                    {
                      class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-line-item" : "uni-steps__row-line-item"]),
                      key: index,
                      style: vue.normalizeStyle({ height: $props.direction === "column" ? $data.heightArr[index] + "px" : "14px" })
                    },
                    [
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-line" : "uni-steps__row-line", $props.direction === "column" ? "uni-steps__column-line--before" : "uni-steps__row-line--before"]),
                          style: vue.normalizeStyle({ backgroundColor: index <= $props.active && index !== 0 ? $props.activeColor : index === 0 ? "transparent" : $props.deactiveColor })
                        },
                        null,
                        6
                        /* CLASS, STYLE */
                      ),
                      index === $props.active ? (vue.openBlock(), vue.createElementBlock(
                        "view",
                        {
                          key: 0,
                          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-check" : "uni-steps__row-check"])
                        },
                        [
                          vue.createVNode(_component_uni_icons, {
                            color: $props.activeColor,
                            type: $props.activeIcon,
                            size: "14"
                          }, null, 8, ["color", "type"])
                        ],
                        2
                        /* CLASS */
                      )) : (vue.openBlock(), vue.createElementBlock(
                        "view",
                        {
                          key: 1,
                          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-circle" : "uni-steps__row-circle"]),
                          style: vue.normalizeStyle({ backgroundColor: index < $props.active ? $props.activeColor : $props.deactiveColor })
                        },
                        null,
                        6
                        /* CLASS, STYLE */
                      )),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass([$props.direction === "column" ? "uni-steps__column-line" : "uni-steps__row-line", $props.direction === "column" ? "uni-steps__column-line--after" : "uni-steps__row-line--after"]),
                          style: vue.normalizeStyle({ backgroundColor: index < $props.active && index !== $props.options.length - 1 ? $props.activeColor : index === $props.options.length - 1 ? "transparent" : $props.deactiveColor })
                        },
                        null,
                        6
                        /* CLASS, STYLE */
                      )
                    ],
                    6
                    /* CLASS, STYLE */
                  );
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ],
            2
            /* CLASS */
          )
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const __easycom_2$b = /* @__PURE__ */ _export_sfc(_sfc_main$1T, [["render", _sfc_render$1S], ["__scopeId", "data-v-c0a11c53"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-steps/components/uni-steps/uni-steps.vue"]]);
  const _sfc_main$1S = {
    name: "UniRate",
    props: {
      isFill: {
        // 星星的类型，是否镂空
        type: [Boolean, String],
        default: true
      },
      color: {
        // 星星未选中的颜色
        type: String,
        default: "#ececec"
      },
      activeColor: {
        // 星星选中状态颜色
        type: String,
        default: "#ffca3e"
      },
      disabledColor: {
        // 星星禁用状态颜色
        type: String,
        default: "#c0c0c0"
      },
      size: {
        // 星星的大小
        type: [Number, String],
        default: 24
      },
      value: {
        // 当前评分
        type: [Number, String],
        default: 0
      },
      modelValue: {
        // 当前评分
        type: [Number, String],
        default: 0
      },
      max: {
        // 最大评分
        type: [Number, String],
        default: 5
      },
      margin: {
        // 星星的间距
        type: [Number, String],
        default: 0
      },
      disabled: {
        // 是否可点击
        type: [Boolean, String],
        default: false
      },
      readonly: {
        // 是否只读
        type: [Boolean, String],
        default: false
      },
      allowHalf: {
        // 是否显示半星
        type: [Boolean, String],
        default: false
      },
      touchable: {
        // 是否支持滑动手势
        type: [Boolean, String],
        default: true
      }
    },
    data() {
      return {
        valueSync: "",
        userMouseFristMove: true,
        userRated: false,
        userLastRate: 1
      };
    },
    watch: {
      value(newVal) {
        this.valueSync = Number(newVal);
      },
      modelValue(newVal) {
        this.valueSync = Number(newVal);
      }
    },
    computed: {
      stars() {
        const value = this.valueSync ? this.valueSync : 0;
        const starList = [];
        const floorValue = Math.floor(value);
        const ceilValue = Math.ceil(value);
        for (let i2 = 0; i2 < this.max; i2++) {
          if (floorValue > i2) {
            starList.push({
              activeWitch: "100%"
            });
          } else if (ceilValue - 1 === i2) {
            starList.push({
              activeWitch: (value - floorValue) * 100 + "%"
            });
          } else {
            starList.push({
              activeWitch: "0"
            });
          }
        }
        return starList;
      },
      marginNumber() {
        return Number(this.margin);
      }
    },
    created() {
      this.valueSync = Number(this.value || this.modelValue);
      this._rateBoxLeft = 0;
      this._oldValue = null;
    },
    mounted() {
      setTimeout(() => {
        this._getSize();
      }, 100);
    },
    methods: {
      touchstart(e2) {
        if (this.readonly || this.disabled)
          return;
        const {
          clientX,
          screenX
        } = e2.changedTouches[0];
        this._getRateCount(clientX || screenX);
      },
      touchmove(e2) {
        if (this.readonly || this.disabled || !this.touchable)
          return;
        const {
          clientX,
          screenX
        } = e2.changedTouches[0];
        this._getRateCount(clientX || screenX);
      },
      /**
       * 兼容 PC @tian
       */
      mousedown(e2) {
      },
      mousemove(e2) {
      },
      mouseleave(e2) {
      },
      /**
       * 获取星星个数
       */
      _getRateCount(clientX) {
        this._getSize();
        const size = Number(this.size);
        if (isNaN(size)) {
          return new Error("size 属性只能设置为数字");
        }
        const rateMoveRange = clientX - this._rateBoxLeft;
        let index = parseInt(rateMoveRange / (size + this.marginNumber));
        index = index < 0 ? 0 : index;
        index = index > this.max ? this.max : index;
        const range2 = parseInt(rateMoveRange - (size + this.marginNumber) * index);
        let value = 0;
        if (this._oldValue === index && !this.PC)
          return;
        this._oldValue = index;
        if (this.allowHalf) {
          if (range2 > size / 2) {
            value = index + 1;
          } else {
            value = index + 0.5;
          }
        } else {
          value = index + 1;
        }
        value = Math.max(0.5, Math.min(value, this.max));
        this.valueSync = value;
        this._onChange();
      },
      /**
       * 触发动态修改
       */
      _onChange() {
        this.$emit("input", this.valueSync);
        this.$emit("update:modelValue", this.valueSync);
        this.$emit("change", {
          value: this.valueSync
        });
      },
      /**
       * 获取星星距离屏幕左侧距离
       */
      _getSize() {
        uni.createSelectorQuery().in(this).select(".uni-rate").boundingClientRect().exec((ret) => {
          if (ret) {
            this._rateBoxLeft = ret[0].left;
          }
        });
      }
    }
  };
  function _sfc_render$1R(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", null, [
      vue.createElementVNode(
        "view",
        {
          ref: "uni-rate",
          class: "uni-rate"
        },
        [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($options.stars, (star, index) => {
              return vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  class: vue.normalizeClass(["uni-rate__icon", { "uni-cursor-not-allowed": $props.disabled }]),
                  style: vue.normalizeStyle({ "margin-right": $options.marginNumber + "px" }),
                  key: index,
                  onTouchstart: _cache[0] || (_cache[0] = vue.withModifiers((...args) => $options.touchstart && $options.touchstart(...args), ["stop"])),
                  onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers((...args) => $options.touchmove && $options.touchmove(...args), ["stop"])),
                  onMousedown: _cache[2] || (_cache[2] = vue.withModifiers((...args) => $options.mousedown && $options.mousedown(...args), ["stop"])),
                  onMousemove: _cache[3] || (_cache[3] = vue.withModifiers((...args) => $options.mousemove && $options.mousemove(...args), ["stop"])),
                  onMouseleave: _cache[4] || (_cache[4] = (...args) => $options.mouseleave && $options.mouseleave(...args))
                },
                [
                  vue.createVNode(_component_uni_icons, {
                    color: $props.color,
                    size: $props.size,
                    type: $props.isFill ? "star-filled" : "star"
                  }, null, 8, ["color", "size", "type"]),
                  vue.createElementVNode(
                    "view",
                    {
                      style: vue.normalizeStyle({ width: star.activeWitch }),
                      class: "uni-rate__icon-on"
                    },
                    [
                      vue.createVNode(_component_uni_icons, {
                        color: $props.disabled ? $props.disabledColor : $props.activeColor,
                        size: $props.size,
                        type: "star-filled"
                      }, null, 8, ["color", "size"])
                    ],
                    4
                    /* STYLE */
                  )
                ],
                38
                /* CLASS, STYLE, NEED_HYDRATION */
              );
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ],
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const __easycom_2$a = /* @__PURE__ */ _export_sfc(_sfc_main$1S, [["render", _sfc_render$1R], ["__scopeId", "data-v-5c8fbdf3"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-rate/components/uni-rate/uni-rate.vue"]]);
  const _sfc_main$1R = {
    data() {
      return {
        // 是否隐藏多余行。初始状态不隐藏
        isHide: true,
        // 全量所占文本高度
        textHeight: 0,
        // 单行文本所占高度
        lineHeight: 1,
        // 占位文本
        placeholder: ""
      };
    },
    props: {
      // 展示多少行
      line: {
        type: [Number, String],
        default: 1
      },
      // 文本
      dt: {
        type: [String],
        default: ""
      },
      enableButton: {
        type: Boolean,
        default: true
      },
      // 自定义展开提示
      expandText: {
        type: String,
        default: "展开"
      },
      // 自定义收起提示
      foldHint: {
        type: String,
        default: "收起"
      }
    },
    watch: {
      dt() {
        let that = this;
        setTimeout(() => {
          let query = uni.createSelectorQuery().in(that);
          query.select(".content").boundingClientRect((data) => {
            that.textHeight = data.height;
          }).exec();
        }, 100);
      }
    },
    mounted() {
      if (this.enableButton) {
        let query = uni.createSelectorQuery().in(this);
        query.select(".content").boundingClientRect((data) => {
          this.textHeight = data.height;
        }).exec();
        query.select(".placeholder").boundingClientRect((data) => {
          this.lineHeight = data.height;
        }).exec();
      }
      this.placeholder = "";
    },
    computed: {
      // 全文本所占总行数
      lines() {
        if (!this.enableButton) {
          return this.line;
        }
        return Math.floor(this.textHeight > 0 && this.lineHeight > 0 ? this.textHeight / this.lineHeight : 0);
      }
    }
  };
  function _sfc_render$1Q(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", null, [
      $data.isHide ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        style: { "position": "relative" }
      }, [
        vue.createElementVNode(
          "view",
          {
            class: "dt-content",
            style: vue.normalizeStyle("-webkit-line-clamp:" + $props.line)
          },
          [
            vue.createElementVNode("text", { class: "content" }, [
              vue.renderSlot(_ctx.$slots, "default", {}, () => [
                vue.createTextVNode(
                  vue.toDisplayString($props.dt ? $props.dt : ""),
                  1
                  /* TEXT */
                )
              ], true)
            ])
          ],
          4
          /* STYLE */
        ),
        $props.enableButton && $options.lines > $props.line ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "button-show",
          onClick: _cache[0] || (_cache[0] = ($event) => $data.isHide = false)
        }, [
          vue.createElementVNode(
            "text",
            { style: { "color": "#35CA95" } },
            vue.toDisplayString($props.expandText),
            1
            /* TEXT */
          )
        ])) : vue.createCommentVNode("v-if", true)
      ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
        vue.createElementVNode("view", null, [
          vue.createElementVNode("text", { class: "content" }, [
            vue.renderSlot(_ctx.$slots, "default", {}, () => [
              vue.createTextVNode(
                vue.toDisplayString($props.dt ? $props.dt : ""),
                1
                /* TEXT */
              )
            ], true)
          ])
        ]),
        $props.foldHint ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "fold-hint"
        }, [
          vue.createElementVNode(
            "view",
            {
              onClick: _cache[1] || (_cache[1] = ($event) => $data.isHide = true)
            },
            vue.toDisplayString($props.foldHint),
            1
            /* TEXT */
          )
        ])) : vue.createCommentVNode("v-if", true)
      ])),
      vue.createElementVNode("view", null, [
        vue.createElementVNode(
          "text",
          { class: "placeholder" },
          vue.toDisplayString($data.placeholder),
          1
          /* TEXT */
        )
      ])
    ]);
  }
  const MoteLinesDivide = /* @__PURE__ */ _export_sfc(_sfc_main$1R, [["render", _sfc_render$1Q], ["__scopeId", "data-v-8964ac41"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/mote-lines-divide/mote-lines-divide.vue"]]);
  const _imports_0$o = "/static/common/back_circle.png";
  const _imports_0$n = "/static/confide/share.png";
  const _imports_2$8 = "/static/common/share_circle.png";
  const _imports_3$5 = "/static/common/yellow-follow.png";
  const _imports_4$5 = "/static/common/follwer-yellow.png";
  const _imports_5$3 = "/static/common/voice.png";
  const _imports_6$2 = "/static/common/message.png";
  const _imports_0$m = "/static/my/profile.png";
  const _sfc_main$1Q = {
    __name: "detail",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "0094f2d4-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const tabIndex = vue.ref(0);
      const fixedActive = vue.ref(false);
      const listenerInfo = vue.ref();
      const maxHeight = vue.ref("832rpx");
      const instance = vue.getCurrentInstance();
      const top = vue.ref(0);
      const scrollToTargetInScroll = async (targetId) => {
        await vue.nextTick();
        const query = uni.createSelectorQuery().in(instance);
        query.select(`#${targetId}`).boundingClientRect().select(`#scrollView`).boundingClientRect().exec((res2) => {
          const targetRect = res2[0];
          const scrollViewRect = res2[1];
          if (targetRect && scrollViewRect) {
            top.value = targetRect.top - scrollViewRect.top;
          }
        });
      };
      const userIds = vue.ref("");
      onLoad((options) => {
        userIds.value = options.userId;
        consultInfo(options.id);
        getListenerInfo(options.userId);
        getCommentByTargetUserIdApi(options.userId);
      });
      const more = () => {
        maxHeight.value = "none";
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const tabsList = vue.ref([
        {
          label: "服务",
          id: "tab-1",
          class: "tab6"
        },
        {
          label: "介绍",
          id: "tab-2",
          class: "tab7"
        },
        {
          label: "经历",
          id: "tab-3",
          class: "tab8"
        },
        {
          label: "擅长",
          id: "tab-4",
          class: "tab9"
        },
        {
          label: `评价(0)`,
          id: "tab-5",
          class: "tab10"
        }
      ]);
      const stepList = vue.ref([]);
      const evaluationList = vue.ref([]);
      const getCommentByTargetUserIdApi = async (id2) => {
        let { data } = await getCommentByTargetUserId({ targetUserId: id2, page: 1, pageSize: 10 });
        evaluationList.value = data;
        tabsList.value[4].label = `评价(${data.total})`;
      };
      const stepActive = vue.ref(stepList.value.length);
      const openEvaluate = () => {
        uni.navigateTo({
          url: `/pages/evaluate/evaluate?userId=${userIds.value}`
        });
      };
      const getListenerInfo = async (userId) => {
        let res2 = await getListenerById({
          userId
        });
        listenerInfo.value = res2.data;
        formatAppLog("log", "at pages/confide/detail.vue:467", res2.data);
        stepList.value = handleCareerList(res2.data.careerList);
      };
      const service = vue.ref({});
      const expData = vue.ref({});
      const consultInfo = async (id2) => {
        try {
          const info = await getCommentInfo$1({ id: id2 });
          const list = await getCommentList$1({ id: id2, page: 1, count: 10 });
          const exp = await getServiceExperience({ id: id2 });
          service.value = info.data;
          expData.value = exp.data;
          formatAppLog("log", "at pages/confide/detail.vue:481", info, list, exp, "info");
        } catch (e2) {
        }
      };
      const openReservation = () => {
        const { userId, name, avatar } = listenerInfo.value;
        uni.navigateTo({
          url: `/pages/payment/payment-records?id=${listenerInfo.value.id}&userId=${userId}&name=${name}&avatar=${avatar}`
        });
      };
      const toChat = () => {
        const { userId, name, avatar } = listenerInfo.value;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${userId}&name=${name}&avatar=${avatar}`
        });
      };
      const handleTagStr = (tagStr) => {
        return (tagStr ?? "").trim().split(",").filter((tag) => tag.trim());
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, tabIndex, fixedActive, listenerInfo, maxHeight, instance, top, scrollToTargetInScroll, userIds, more, backFn, tabsList, stepList, evaluationList, getCommentByTargetUserIdApi, stepActive, openEvaluate, getListenerInfo, service, expData, consultInfo, openReservation, toChat, handleTagStr, ref: vue.ref, nextTick: vue.nextTick, onMounted: vue.onMounted, getCurrentInstance: vue.getCurrentInstance, get onLoad() {
        return onLoad;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get handleCareerList() {
        return handleCareerList;
      }, get getGenerationByBirthdate() {
        return getGenerationByBirthdate;
      }, get getCommentByTargetUserId() {
        return getCommentByTargetUserId;
      }, get getListenerById() {
        return getListenerById;
      }, get getCommentInfo() {
        return getCommentInfo$1;
      }, get getCommentList() {
        return getCommentList$1;
      }, get getServiceExperience() {
        return getServiceExperience;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1P(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_steps = resolveEasycom(vue.resolveDynamicComponent("uni-steps"), __easycom_2$b);
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_2$a);
    return vue.openBlock(), vue.createElementBlock("view", { class: "consult-detail-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": $setup.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: $setup.scrollTop > 15 ? "#fff" : "transparent",
          border: false,
          title: $setup.scrollTop > 15 ? $setup.listenerInfo.name : "",
          class: "header-bar",
          statusBar: true,
          fixed: ""
        }, {
          left: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              $setup.scrollTop > 15 ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                key: 0,
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                onClick: $setup.backFn,
                src: _imports_0$o,
                style: { "width": "56rpx", "height": "56rpx" }
              }))
            ])
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              $setup.scrollTop > 15 ? (vue.openBlock(), vue.createElementBlock("image", {
                key: 0,
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                src: _imports_2$8,
                style: { "width": "56rpx", "height": "56rpx" }
              }))
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["backgroundColor", "title"]),
        vue.createElementVNode("view", { class: "consult-detail-content" }, [
          vue.createElementVNode("view", { class: "swiper-content" }, [
            vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
              vue.createElementVNode("swiper", {
                class: "swiper",
                circular: "",
                "indicator-dots": true,
                autoplay: true,
                interval: 5e3,
                duration: 500
              }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(JSON.parse($setup.listenerInfo.masterGallery), (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("swiper-item", {
                      key: index,
                      class: "swiper-item"
                    }, [
                      vue.createElementVNode("image", {
                        src: item.url,
                        mode: "aspectFill",
                        style: { "width": "100%", "height": "100%" }
                      }, null, 8, ["src"])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "consult-detail-info" }, [
            vue.createElementVNode("view", { class: "detail-item-line-1" }, [
              vue.createElementVNode("view", { class: "name" }, [
                vue.createElementVNode(
                  "text",
                  { class: "name-a" },
                  vue.toDisplayString($setup.listenerInfo.name),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "name-b" },
                  vue.toDisplayString($setup.listenerInfo.major),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "money" }, [
                vue.createElementVNode("image", {
                  src: _imports_3$5,
                  class: "img"
                }),
                vue.createElementVNode("text", { class: "txt" }, "关注")
              ])
            ]),
            vue.createElementVNode("view", { class: "detail-item-line-2" }, [
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString($setup.listenerInfo.address) + " | " + vue.toDisplayString($setup.getGenerationByBirthdate($setup.listenerInfo.birthdate)) + " | " + vue.toDisplayString($setup.listenerInfo.constellation),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode(
              "view",
              { class: "detail-item-line-3" },
              vue.toDisplayString($setup.listenerInfo.signature),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "detail-item-line-4" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "list" }, [
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.retainedCustomers),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "次")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "服务人次")
                  ]),
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.listenHours),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "小时")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "倾听时长")
                  ]),
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.retainedCustomers),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "次")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "回头客")
                  ]),
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.rating),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "分")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "综合评分")
                  ])
                ]),
                vue.createElementVNode("view", { class: "tips" }, [
                  vue.createElementVNode("image", { src: _imports_4$5 }),
                  vue.createElementVNode("text", { class: "txt" }, "服务经验")
                ])
              ])
            ]),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["detail-item-line-5", $setup.fixedActive ? "tabsFixed" : ""]),
                id: "tabs"
              },
              [
                vue.createElementVNode("view", { class: "tabs" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.tabsList, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: vue.normalizeClass(["tab-item", $setup.tabIndex == index ? "active" : ""]),
                        key: index,
                        onClick: ($event) => $setup.scrollToTargetInScroll(`tab-${index + 1}`)
                      }, vue.toDisplayString(item.label), 11, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 tab5",
              id: "tab-1"
            }, [
              vue.createElementVNode("view", { class: "tab5-content" }, [
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("view", { class: "voice-box" }, [
                    vue.createElementVNode("view", { class: "voice-info" }, [
                      vue.createElementVNode("view", { class: "title" }, [
                        vue.createTextVNode("语音咨询"),
                        vue.createElementVNode("text", { class: "money" }, "250"),
                        vue.createElementVNode("text", { class: "unit" }, "元/50分钟")
                      ]),
                      vue.createElementVNode("view", { class: "txt" }, "仅提供语音消息，咨询效果有一定影响")
                    ]),
                    vue.createElementVNode("view", { class: "voice-img" }, [
                      vue.createElementVNode("image", {
                        src: _imports_5$3,
                        class: "img"
                      })
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "voice-box text-box" }, [
                    vue.createElementVNode("view", { class: "voice-info" }, [
                      vue.createElementVNode("view", { class: "title" }, [
                        vue.createTextVNode("文字咨询"),
                        vue.createElementVNode("text", { class: "money" }, "250"),
                        vue.createElementVNode("text", { class: "unit" }, "元/50分钟")
                      ]),
                      vue.createElementVNode("view", { class: "txt" }, "擅长个人成长、情绪管理")
                    ]),
                    vue.createElementVNode("view", { class: "voice-img" }, [
                      vue.createElementVNode("image", {
                        src: _imports_6$2,
                        class: "img"
                      })
                    ])
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6",
              id: "tab-2"
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, "个人介绍"),
                vue.createElementVNode(
                  "view",
                  { class: "info" },
                  vue.toDisplayString($setup.listenerInfo.profile),
                  1
                  /* TEXT */
                )
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-8",
              id: "tab-3"
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: "info",
                    style: vue.normalizeStyle({ "max-height": $setup.maxHeight, overflow: "hidden" })
                  },
                  [
                    $setup.listenerInfo.certificateList ? (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      { key: 0 },
                      vue.renderList($setup.listenerInfo.certificateList, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "certificate-detail",
                          key: index
                        }, [
                          vue.createElementVNode("view", { class: "tag" }, "资质"),
                          vue.createElementVNode("view", { class: "tag-info" }, [
                            vue.createElementVNode(
                              "view",
                              { class: "tag-title" },
                              vue.toDisplayString(item.name),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode("view", { class: "certificate-info" }, [
                              vue.createElementVNode(
                                "view",
                                null,
                                "发证时间：" + vue.toDisplayString(item.date),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "view",
                                null,
                                "证书编号：" + vue.toDisplayString(item.number),
                                1
                                /* TEXT */
                              )
                            ])
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    )) : vue.createCommentVNode("v-if", true),
                    $setup.listenerInfo.educationList ? (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      { key: 1 },
                      vue.renderList($setup.listenerInfo.educationList, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "eduication-detail",
                          key: index
                        }, [
                          vue.createElementVNode("view", { class: "tag" }, "学历"),
                          vue.createElementVNode("view", { class: "tag-info" }, [
                            vue.createElementVNode(
                              "view",
                              { class: "tag-title" },
                              vue.toDisplayString(item.schoolName),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode("view", { class: "eduication-info" }, [
                              vue.createElementVNode("view"),
                              vue.createElementVNode(
                                "view",
                                null,
                                "发证时间：" + vue.toDisplayString(item.startTime),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "view",
                                null,
                                "证书编号：" + vue.toDisplayString(item.code),
                                1
                                /* TEXT */
                              )
                            ])
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    )) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", { class: "step-detail" }, [
                      vue.createElementVNode("view", { class: "training" }, [
                        vue.createElementVNode("view", { class: "training-title" }, "伦理培训"),
                        vue.createElementVNode(
                          "view",
                          { class: "training-timer" },
                          vue.toDisplayString($setup.stepList.length) + "项培训，累计40小时",
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "step-box" }, [
                        vue.createVNode(_component_uni_steps, {
                          options: $setup.stepList,
                          "active-color": "#EB9516",
                          active: $setup.stepActive,
                          direction: "column"
                        }, null, 8, ["options", "active"])
                      ])
                    ])
                  ],
                  4
                  /* STYLE */
                ),
                vue.createElementVNode("view", {
                  class: "more",
                  onClick: $setup.more,
                  style: { "background-color": "#fff !important" }
                }, "查看更多")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-7",
              id: "tab-4"
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, "擅长领域"),
                vue.createElementVNode("view", { class: "info" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.listenerInfo.serviceTypes, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        style: { "display": "flex", "flex-direction": "row" },
                        key: index
                      }, [
                        vue.createTextVNode(
                          vue.toDisplayString(item) + " ",
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "detail-title" }),
                        vue.createElementVNode("view", { class: "detail-content" }, "沟通不畅、社交恐惧、社交技巧、人际冲突、不合群、人际边界、社会适应难、信任危机、设有关系")
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  )),
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.listenerInfo.serviceTypes, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock(
                        "text",
                        { style: { "padding": "5rpx 15rpx", "background-color": "bisque", "border-radius": "8rpx", "margin-right": "10rpx", "margin-bottom": "10rpx" } },
                        vue.toDisplayString(item),
                        1
                        /* TEXT */
                      );
                    }),
                    256
                    /* UNKEYED_FRAGMENT */
                  ))
                ]),
                vue.createElementVNode("view", null, [
                  vue.createElementVNode("view", { class: "title" }, "擅长疗法"),
                  vue.createElementVNode("view", { class: "tags" }, [
                    vue.createElementVNode("text", { class: "tag-item" }, "沙盘疗法"),
                    vue.createElementVNode("text", { class: "tag-item" }, "心理动力取向")
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-9",
              id: "tab-5"
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("view", { class: "txt" }, [
                    vue.createTextVNode("评价"),
                    vue.createElementVNode(
                      "text",
                      null,
                      "(" + vue.toDisplayString($setup.evaluationList.total) + ")",
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", {
                    class: "more",
                    onClick: $setup.openEvaluate
                  }, [
                    vue.createTextVNode("查看更多真实评价"),
                    vue.createVNode(_component_uni_icons, {
                      type: "right",
                      size: "12",
                      color: "rgba(0, 0, 0, 0.5)"
                    })
                  ])
                ]),
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("view", { class: "feel-type-box" }, [
                    vue.createElementVNode("view", { class: "first" }, [
                      vue.createElementVNode("view", { class: "percent" }, [
                        vue.createTextVNode("99"),
                        vue.createElementVNode("text", { class: "txt" }, "%好评率")
                      ])
                    ]),
                    vue.createElementVNode("view", { class: "second" }, [
                      vue.createElementVNode("view", { class: "second-item" }, [
                        vue.createElementVNode("text", { class: "txt-1" }, "真实评价"),
                        vue.createElementVNode(
                          "text",
                          { class: "txt-2" },
                          vue.toDisplayString($setup.evaluationList.total) + "条",
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "second-item" }, [
                        vue.createElementVNode("text", { class: "txt-1" }, "用户推荐"),
                        vue.createElementVNode("text", { class: "txt-2" }, "100%")
                      ])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "comment-list" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.evaluationList.records, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "comment-item",
                          key: item.id
                        }, [
                          vue.createElementVNode("view", { class: "user-box" }, [
                            vue.createElementVNode("view", { class: "user-info" }, [
                              vue.createElementVNode("image", {
                                src: _imports_0$m,
                                class: "img"
                              }),
                              vue.createElementVNode(
                                "text",
                                { class: "txt" },
                                vue.toDisplayString(item.nickname),
                                1
                                /* TEXT */
                              )
                            ]),
                            vue.createElementVNode("view", { class: "star" }, [
                              vue.createVNode(_component_uni_rate, {
                                disabled: true,
                                disabledColor: "#FFC300",
                                value: item.star,
                                size: "12"
                              }, null, 8, ["value"])
                            ])
                          ]),
                          vue.createElementVNode("view", { class: "comment-content" }, [
                            vue.createVNode(
                              $setup["MoteLinesDivide"],
                              {
                                line: 3,
                                expandText: "展开",
                                foldHint: "收起"
                              },
                              {
                                default: vue.withCtx(() => [
                                  vue.createTextVNode(
                                    vue.toDisplayString(item.content),
                                    1
                                    /* TEXT */
                                  )
                                ]),
                                _: 2
                                /* DYNAMIC */
                              },
                              1024
                              /* DYNAMIC_SLOTS */
                            )
                          ]),
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList($setup.handleTagStr(item.tags), (tag, index2) => {
                              return vue.openBlock(), vue.createElementBlock("view", {
                                class: "tags",
                                key: index2
                              }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "tag-item" },
                                  vue.toDisplayString(tag),
                                  1
                                  /* TEXT */
                                )
                              ]);
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          )),
                          vue.createElementVNode("view", { class: "theme-date" }, [
                            vue.createElementVNode("view", { class: "theme" }, [
                              vue.createTextVNode(" 咨询主题："),
                              vue.createElementVNode("text", { class: "txt" }, "心理压抑")
                            ]),
                            vue.createElementVNode(
                              "view",
                              { class: "date" },
                              vue.toDisplayString(item.createTime),
                              1
                              /* TEXT */
                            )
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ])
          ])
        ])
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", {
          class: "message",
          onClick: $setup.toChat
        }, " 私信ta "),
        vue.createElementVNode("view", {
          class: "reservation",
          onClick: $setup.openReservation
        }, " 立即咨询 ")
      ])
    ]);
  }
  const PagesConfideDetail = /* @__PURE__ */ _export_sfc(_sfc_main$1Q, [["render", _sfc_render$1P], ["__scopeId", "data-v-0094f2d4"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/confide/detail.vue"]]);
  const _sfc_main$1P = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "7a0095d3-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const scrollTop = vue.ref(0);
      const stickyOffsetTop = vue.ref(0);
      const showCityBox = vue.ref(false);
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "rpx");
      const banners = vue.ref([]);
      const sticky = vue.ref([
        { id: 1, name: "困扰", open: false },
        { id: 2, name: "城市", open: false },
        { id: 3, name: "价格", open: false },
        { id: 4, name: "排序", open: false },
        { id: 5, name: "筛选", open: false }
      ]);
      const serviceRef = vue.ref(null);
      const customerService = () => {
        serviceRef.value.open();
      };
      const getBanners = async () => {
        let res2 = await bannerList();
        banners.value = res2.data;
      };
      const fixed = vue.ref(false);
      const data = vue.reactive({
        listParams: {
          current: 1,
          size: 10
        },
        list: []
      });
      const avatarImg = (item) => {
        const { masterGallery } = item;
        if (!masterGallery) {
          return "/static/consult/user.png";
        } else {
          return JSON.parse(masterGallery)[0];
        }
      };
      const searchParams = vue.ref({
        serviceTypes: [],
        city: ""
      });
      const closeCityFilter = () => {
        showCityBox.value = false;
      };
      const blursearchFn = () => {
        getList();
      };
      const fixedTop = () => {
        fixed.value = true;
      };
      const unFixedTop = () => {
        fixed.value = false;
        scrollTop.value = 0;
      };
      const instance = vue.getCurrentInstance();
      const proxy = instance == null ? void 0 : instance.proxy;
      const currentScroll = vue.ref(0);
      const currentFilter = vue.ref(null);
      const city = vue.ref("");
      const showBox = async (type) => {
        currentFilter.value = type;
        if (!fixed.value) {
          await vue.nextTick();
          const query = uni.createSelectorQuery().in(proxy);
          query.select("#stickyBox").boundingClientRect();
          query.selectViewport().scrollOffset();
          query.exec((res2) => {
            if (!res2 || !res2[0])
              return;
            const boxTop = res2[0].top;
            const scrollOffset = currentScroll.value;
            scrollTop.value = scrollOffset + boxTop - 65;
            setTimeout(() => {
              openFilter(type);
            }, 300);
          });
        } else {
          openFilter(type);
        }
      };
      const typeColor = vue.ref("");
      const openFilter = (type) => {
        typeColor.value = type;
        showCityBox.value = true;
      };
      const onScroll = (e2) => {
        currentScroll.value = e2.detail.scrollTop;
      };
      const openDetail = (item) => {
        var _a2, _b2;
        const { id: id2, userId, quoteList } = item;
        const quote = {
          quoteAmount: (_a2 = quoteList[0]) == null ? void 0 : _a2.quoteAmount,
          serviceDuration: (_b2 = quoteList[0]) == null ? void 0 : _b2.serviceDuration
        };
        const url2 = `id=${id2}&userId=${userId}&quoteList=${JSON.stringify(quote)}`;
        uni.navigateTo({
          url: `/pages/consult/detail?${url2}`
        });
      };
      vue.watch(
        showCityBox,
        () => {
          if (!showCityBox.value) {
            typeColor.value = "";
          }
        }
      );
      const formData = vue.ref({
        current: 1,
        size: 10,
        consultantName: ""
      });
      onReachBottom(() => {
        data.listParams.current += 1;
        formData.value.current = data.listParams.current;
        getList();
      });
      const getList = async () => {
        let params = {
          ...data.listParams,
          ...searchParams.value,
          params: formData.value
        };
        formatAppLog("log", "at pages/consult/index.vue:314", params, "params");
        const res2 = await getConsultantList(params);
        data.list = [...data.list, ...res2.data.records];
      };
      const listFiltering = vue.ref(null);
      const closeFilter = () => {
        const { distressId, city: city2, currentRange, sortType, resultObj } = listFiltering.value;
        if (currentFilter.value === 1) {
          formData.value.distressId = distressId;
        }
        if (currentFilter.value === 2) {
          formData.value.city = city2;
        }
        if (currentFilter.value === 3) {
          formData.value = { ...currentRange };
        }
        if (currentFilter.value === 4) {
          formData.value.sortType = sortType;
        }
        if (currentFilter.value === 5) {
          formData.value = { ...resultObj };
        }
        showCityBox.value = false;
        getList();
      };
      const resetOption = () => {
        formData.value = {
          current: 1,
          size: 10,
          consultantName: ""
        };
        showCityBox.value = false;
        getList();
      };
      const serviceTypes2 = vue.ref([]);
      const getConsultMenu = async () => {
        let resp = await consultMenus();
        const data2 = resp.data || [];
        const result = data2.map((group) => ({
          id: group.id,
          name: group.name,
          children: JSON.parse(group.children),
          spread: false
        }));
        serviceTypes2.value = result;
      };
      const allCity = vue.ref([]);
      const getCityInfo = async () => {
        let resp = await cities();
        const data2 = resp.data || [];
        const result = data2.map((group, index) => ({
          id: index + 1,
          name: group.name,
          children: JSON.parse(group.cities)
        }));
        allCity.value = result;
      };
      vue.onMounted(() => {
        stickyOffsetTop.value = globalStore.statusBarHeight + 88;
        getList();
        getConsultMenu();
        getCityInfo();
        getBanners();
      });
      const __returned__ = { globalStore, scrollTop, stickyOffsetTop, showCityBox, statusBarHeight, banners, sticky, serviceRef, customerService, getBanners, fixed, data, avatarImg, searchParams, closeCityFilter, blursearchFn, fixedTop, unFixedTop, instance, proxy, currentScroll, currentFilter, city, showBox, typeColor, openFilter, onScroll, openDetail, formData, getList, listFiltering, closeFilter, resetOption, serviceTypes: serviceTypes2, getConsultMenu, allCity, getCityInfo, ListFiltering, ref: vue.ref, reactive: vue.reactive, watch: vue.watch, getCurrentInstance: vue.getCurrentInstance, nextTick: vue.nextTick, onMounted: vue.onMounted, get getConsultantList() {
        return getConsultantList;
      }, get consultMenus() {
        return consultMenus;
      }, get cities() {
        return cities;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get bannerList() {
        return bannerList;
      }, get onReachBottom() {
        return onReachBottom;
      }, CustomerService };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1O(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_u_sticky = resolveEasycom(vue.resolveDynamicComponent("u-sticky"), __easycom_2$d);
    return vue.openBlock(), vue.createElementBlock("view", { class: "consult-box" }, [
      vue.createElementVNode("scroll-view", {
        class: "scroll-content",
        "scroll-y": "",
        "scroll-top": $setup.scrollTop,
        "show-scrollbar": false,
        onScroll: $setup.onScroll
      }, [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["search-content", $setup.currentScroll > 15 ? "activeClass" : ""])
          },
          [
            vue.createElementVNode("view", { class: "search" }, [
              vue.createVNode(_component_uni_search_bar, {
                modelValue: $setup.formData.consultantName,
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.formData.consultantName = $event),
                radius: "100",
                placeholder: "请输入咨询师姓名",
                clearButton: "auto",
                cancelButton: "none",
                onBlur: _cache[1] || (_cache[1] = ($event) => $setup.blursearchFn())
              }, null, 8, ["modelValue"])
            ]),
            vue.createElementVNode("view", {
              class: "contact",
              onClick: $setup.customerService
            }, [
              vue.createElementVNode("image", { src: _imports_7$1 }),
              vue.createElementVNode("text", null, "客服")
            ])
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode("view", { class: "operate-box" }, [
          vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
            vue.createElementVNode("swiper", {
              class: "swiper",
              circular: "",
              "indicator-dots": true,
              autoplay: true,
              interval: 5e3,
              duration: 500
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.banners, (i2, index) => {
                  return vue.openBlock(), vue.createElementBlock("swiper-item", {
                    key: index,
                    class: "swiper-item"
                  }, [
                    vue.createElementVNode("view", { class: "swiper-item uni-bg-red" }, [
                      vue.createElementVNode("image", {
                        src: i2.image,
                        mode: "aspectFill",
                        class: "img"
                      }, null, 8, ["src"])
                    ])
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ])
        ]),
        vue.createVNode(_component_u_sticky, {
          "offset-top": $setup.stickyOffsetTop,
          onFixed: $setup.fixedTop,
          onUnfixed: $setup.unFixedTop
        }, {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { id: "stickyBox" }, [
              vue.createElementVNode("view", { class: "filter-box" }, [
                vue.createElementVNode("view", { class: "filter-box-1" }, [
                  vue.createElementVNode("view", { class: "filter-box-1-1" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.sticky, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "filter-box-1-item",
                          key: index,
                          style: vue.normalizeStyle({ color: $setup.typeColor == item.id ? "#35C996" : "black" }),
                          onClick: ($event) => $setup.showBox(item.id)
                        }, [
                          vue.createTextVNode(
                            vue.toDisplayString(item.name) + " ",
                            1
                            /* TEXT */
                          ),
                          item.id != 5 ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                            key: 0,
                            type: $setup.typeColor == item.id ? "up" : "down",
                            color: $setup.typeColor == item.id ? "#35C996" : "",
                            size: "12",
                            class: "icon"
                          }, null, 8, ["type", "color"])) : vue.createCommentVNode("v-if", true),
                          item.id == 5 ? (vue.openBlock(), vue.createElementBlock("image", {
                            key: 1,
                            src: _imports_1$g,
                            style: { "width": "25rpx", "height": "25rpx" },
                            class: "filter icon"
                          })) : vue.createCommentVNode("v-if", true)
                        ], 12, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["offset-top"]),
        vue.createElementVNode("view", { class: "doctor-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "doctor-item",
                key: index,
                onClick: ($event) => $setup.openDetail(item)
              }, [
                vue.createElementVNode("view", { class: "doctor-auture" }, [
                  vue.createElementVNode("image", {
                    src: $setup.avatarImg(item),
                    style: { "border-radius": "20rpx" }
                  }, null, 8, ["src"])
                ]),
                vue.createElementVNode("view", { class: "doctor-info" }, [
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode(
                      "view",
                      { class: "name" },
                      vue.toDisplayString(item.name),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "date" }, "今天可约")
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode(
                      "view",
                      { class: "job" },
                      vue.toDisplayString(item.occupationName),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "address" }, [
                      vue.createElementVNode("image", { src: _imports_2$9 }),
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.address),
                        1
                        /* TEXT */
                      )
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode("view", { class: "exprise" }, [
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.platformHours) + "+",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 小时经验 "),
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.years) + "年",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 从业 "),
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(item.commentCount) + "+ ",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode("评价 ")
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    item.serviceType ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "point-list"
                    }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList(item.serviceTypes, (sub, index2) => {
                          return vue.openBlock(), vue.createElementBlock(
                            "view",
                            {
                              class: "point-item",
                              key: index2
                            },
                            vue.toDisplayString(sub),
                            1
                            /* TEXT */
                          );
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])) : vue.createCommentVNode("v-if", true)
                  ]),
                  vue.createElementVNode("view", { class: "doctor-info-1" }, [
                    vue.createElementVNode("view", { class: "discount" }),
                    item.quoteList[0] ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "price"
                    }, [
                      vue.createElementVNode("text", { class: "unit" }, "¥"),
                      vue.createTextVNode(
                        " " + vue.toDisplayString(item.quoteList[0].quoteAmount || 0),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true)
                  ])
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ], 40, ["scroll-top"]),
      $setup.showCityBox ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "mask",
        onClick: $setup.closeCityFilter
      }, [
        vue.createElementVNode("view", {
          class: "filter-popup",
          onClick: _cache[4] || (_cache[4] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "popup-body" }, [
            vue.createVNode($setup["ListFiltering"], {
              ref: "listFiltering",
              colorType: 1,
              serviceTypes: $setup.serviceTypes,
              confusionList: $setup.allCity,
              layoutType: $setup.currentFilter
            }, null, 8, ["serviceTypes", "confusionList", "layoutType"])
          ]),
          vue.createElementVNode("view", { class: "popup-footer" }, [
            vue.createElementVNode("button", {
              class: "btn btn-reset",
              size: "mini",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.resetOption())
            }, " 重置 "),
            vue.createElementVNode("button", {
              class: "btn btn-confirm",
              size: "mini",
              onClick: _cache[3] || (_cache[3] = ($event) => $setup.closeFilter())
            }, " 完成 ")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createVNode(
        $setup["CustomerService"],
        { ref: "serviceRef" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesConsultIndex = /* @__PURE__ */ _export_sfc(_sfc_main$1P, [["render", _sfc_render$1O], ["__scopeId", "data-v-7a0095d3"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/consult/index.vue"]]);
  const _imports_3$4 = "/static/common/address.png";
  const _imports_4$4 = "/static/common/follwer.png";
  const _imports_1$f = "/static/common/follow.png";
  const _imports_2$7 = "/static/common/contect.png";
  const _sfc_main$1O = {
    __name: "detail",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "067f89c2-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const tabIndex = vue.ref(0);
      const instance = vue.getCurrentInstance();
      const top = vue.ref(0);
      const fixedActive = vue.ref(false);
      const popup = vue.ref(null);
      const maxHeight = vue.ref("832rpx");
      const timeList = vue.ref([]);
      const consultantInfo2 = vue.ref({
        consultantName: "",
        gallery: ""
      });
      const userIds = vue.ref("");
      const quoteList = vue.ref({});
      onLoad((options) => {
        userIds.value = options.userId;
        quoteList.value = JSON.parse(options.quoteList);
        consultInfo(options.id);
        getConsultantInfo(options.id);
        getScheduleApi(options.id);
        getCommentByTargetUserIdApi(options.userId);
      });
      const getScheduleApi = async (id2) => {
        let res2 = await getSchedule({ consultantId: id2 });
        timeList.value = res2.data;
        const dateMap = {};
        res2.data.forEach((item) => {
          if (!dateMap[item.date]) {
            dateMap[item.date] = {
              date: item.date,
              day: item.date.split("-")[2],
              // 日期号（如10）
              week: ["周一", "周二", "周三", "周四", "周五", "周六", "周日"][item.dayOfWeek - 1],
              // 星期
              status: item.status
              // 取该日期的状态（可根据实际需求调整）
            };
          }
        });
        orderLists.value = Object.values(dateMap).sort((a2, b2) => new Date(a2.date) - new Date(b2.date));
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollToTargetInScroll = async (targetId) => {
        await vue.nextTick();
        const query = uni.createSelectorQuery().in(instance);
        query.select(`#${targetId}`).boundingClientRect().select(`#scrollView`).boundingClientRect().exec((res2) => {
          const targetRect = res2[0];
          const scrollViewRect = res2[1];
          if (targetRect && scrollViewRect) {
            top.value = targetRect.top - scrollViewRect.top;
          }
        });
      };
      const serviceRef = vue.ref(null);
      const customerService = () => {
        serviceRef.value.open();
      };
      const tabsList = vue.ref([
        {
          label: "个人简介",
          id: "tab-1",
          class: "tab6"
        },
        {
          label: "擅长领域",
          id: "tab-2",
          class: "tab7"
        },
        {
          label: "受训经历",
          id: "tab-3",
          class: "tab8"
        },
        {
          label: "咨询感受",
          id: "tab-4",
          class: "tab9"
        },
        {
          label: "预约时间",
          id: "tab-5",
          class: "tab10"
        }
      ]);
      const stepList = vue.ref([]);
      const orderLists = vue.ref([]);
      const evaluationList = vue.ref([]);
      const getCommentByTargetUserIdApi = async (id2) => {
        let { data } = await getCommentByTargetUserId({
          targetUserId: id2,
          page: 1,
          pageSize: 10
        });
        evaluationList.value = data.records;
      };
      const stepActive = vue.ref(stepList.value.length);
      const openPopupFn = () => {
        popup.value.open();
      };
      const openEvaluate = () => {
        uni.navigateTo({
          url: `/pages/consult-feel/consult-feel?userId=${userIds.value}&userInfo=${JSON.stringify(consultantInfo2.value)}`
        });
      };
      const more = () => {
        maxHeight.value = "none";
      };
      const getConsultantInfo = async (id2) => {
        let res2 = await getConsultantById({ id: id2 });
        consultantInfo2.value = res2.data;
        formatAppLog("log", "at pages/consult/detail.vue:617", res2.data);
        stepList.value = handleCareerList(res2.data.careerList);
      };
      const toChat = () => {
        const { userId, name, avatar } = consultantInfo2.value;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${userId}&name=${name}&avatar=${avatar}`
        });
      };
      const toPay = () => {
        if (selectedItem.value === null) {
          uni.showToast({
            title: "请选择预约时间",
            icon: "none"
          });
          return;
        }
        const { id: id2, userId, name, avatar } = consultantInfo2.value;
        uni.navigateTo({
          url: `/pages/payment/payment?id=${id2}&to=${userId}&name=${name}&avatar=${avatar}&time=${JSON.stringify(selectedItem.value)}`
        });
      };
      const service = vue.ref({});
      const expData = vue.ref({});
      const consultInfo = async (id2) => {
        try {
          const info = await getCommentInfo({ id: id2 });
          const list = await getCommentList({ id: id2, page: 1, count: 10 });
          const exp = await getServiceExperienceCon({ id: id2 });
          service.value = info.data;
          expData.value = exp.data;
        } catch (e2) {
        }
      };
      const dateGroups = vue.computed(() => {
        return timeList.value.reduce((acc, item) => {
          const { date: date2, dayOfWeek } = item;
          if (!acc[date2]) {
            acc[date2] = { date: date2, dayOfWeek, times: [], status: 1 };
          }
          acc[date2].times.push(item);
          const currentDateItem = acc[date2];
          const allStatusIs2 = currentDateItem.times.every((timeItem) => timeItem.status === 2);
          if (allStatusIs2) {
            currentDateItem.status = 2;
            currentDateItem.times = [];
          } else {
            currentDateItem.status = 1;
          }
          return acc;
        }, {});
      });
      const dateOptions = vue.computed(() => Object.values(dateGroups.value));
      const selectedDate = vue.ref(null);
      const selectedTime = vue.ref(null);
      const selectedItem = vue.ref(null);
      const handleDateSelect = (dateItem) => {
        selectedDate.value = dateItem;
        selectedTime.value = null;
        selectedItem.value = null;
      };
      const handleTimeSelect = (timeItem) => {
        if (!selectedDate.value || timeItem.status !== 1) {
          return;
        }
        selectedTime.value = timeItem;
        selectedItem.value = timeItem;
        formatAppLog("log", "at pages/consult/detail.vue:703", "最终选中对象：", selectedItem.value);
      };
      const getWeekText = (dayOfWeek) => {
        const today = (/* @__PURE__ */ new Date()).getDay();
        const todayWeekNum = today === 0 ? 7 : today;
        const weeks = ["", "周一", "周二", "周三", "周四", "周五", "周六", "周日"];
        return dayOfWeek == todayWeekNum ? "今天" : weeks[dayOfWeek] || "未知";
      };
      const filterTime = (type) => {
        if (!selectedDate.value)
          return [];
        return selectedDate.value.times.filter((item) => {
          const hour = Number(item.startTime.split(":")[0]);
          return type === "morning" ? hour < 12 : hour >= 12;
        });
      };
      const getStatusText = (status) => {
        const statusMap = {
          0: "不可约",
          1: "可约",
          2: "已满"
        };
        return statusMap[status] || "未知";
      };
      const getTimeStatusClass = (status) => {
        const classMap = {
          0: "status-disabled",
          // 不可约
          1: "status-available",
          // 可约
          2: "status-full"
          // 已满
        };
        return classMap[status] || "";
      };
      const hasAvailableTime = (dateItem) => {
        return dateItem.times.some((item) => item.status === 1);
      };
      vue.onMounted(() => {
        if (dateOptions.value.length > 0) {
          selectedDate.value = dateOptions.value[0];
        }
      });
      const __returned__ = { globalStore, statusBarHeight, scrollTop, tabIndex, instance, top, fixedActive, popup, maxHeight, timeList, consultantInfo: consultantInfo2, userIds, quoteList, getScheduleApi, backFn, scrollToTargetInScroll, serviceRef, customerService, tabsList, stepList, orderLists, evaluationList, getCommentByTargetUserIdApi, stepActive, openPopupFn, openEvaluate, more, getConsultantInfo, toChat, toPay, service, expData, consultInfo, dateGroups, dateOptions, selectedDate, selectedTime, selectedItem, handleDateSelect, handleTimeSelect, getWeekText, filterTime, getStatusText, getTimeStatusClass, hasAvailableTime, nextTick: vue.nextTick, onMounted: vue.onMounted, ref: vue.ref, getCurrentInstance: vue.getCurrentInstance, computed: vue.computed, get onLoad() {
        return onLoad;
      }, get onBackPress() {
        return onBackPress;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get handleCareerList() {
        return handleCareerList;
      }, get getGenerationByBirthdate() {
        return getGenerationByBirthdate;
      }, get getConsultantById() {
        return getConsultantById;
      }, get getCommentInfo() {
        return getCommentInfo;
      }, get getCommentList() {
        return getCommentList;
      }, get getServiceExperienceCon() {
        return getServiceExperienceCon;
      }, get getCommentByTargetUserId() {
        return getCommentByTargetUserId;
      }, get getSchedule() {
        return getSchedule;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      }, CustomerService };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1N(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_steps = resolveEasycom(vue.resolveDynamicComponent("uni-steps"), __easycom_2$b);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "consult-detail-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": $setup.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: $setup.scrollTop > 15 ? "#fff" : "transparent",
          border: false,
          title: $setup.scrollTop > 15 ? $setup.consultantInfo.consultantName : "",
          class: "header-bar",
          statusBar: true,
          fixed: ""
        }, {
          left: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              $setup.scrollTop > 15 ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                key: 0,
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                src: _imports_0$o,
                style: { "width": "56rpx", "height": "56rpx" },
                onClick: $setup.backFn
              }))
            ])
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              $setup.scrollTop > 15 ? (vue.openBlock(), vue.createElementBlock("image", {
                key: 0,
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                src: _imports_2$8,
                style: { "width": "56rpx", "height": "56rpx" }
              }))
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["backgroundColor", "title"]),
        vue.createElementVNode("view", { class: "consult-detail-content" }, [
          vue.createElementVNode("view", { class: "swiper-content" }, [
            vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
              vue.createElementVNode("swiper", {
                class: "swiper",
                circular: "",
                "indicator-dots": true,
                autoplay: true,
                interval: 5e3,
                duration: 500
              }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(JSON.parse(
                    $setup.consultantInfo.masterGallery
                  ), (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("swiper-item", {
                      key: index,
                      class: "swiper-item"
                    }, [
                      vue.createElementVNode("image", {
                        src: item,
                        style: { "height": "590rpx" },
                        mode: "heightFix"
                      }, null, 8, ["src"])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "consult-detail-info" }, [
            vue.createElementVNode("view", { class: "detail-item-line-1" }, [
              vue.createElementVNode("view", { class: "name" }, [
                vue.createElementVNode(
                  "text",
                  { class: "name-a" },
                  vue.toDisplayString($setup.consultantInfo.name),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "name-b" },
                  vue.toDisplayString($setup.consultantInfo.occupationName),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "name-c" },
                  vue.toDisplayString($setup.getGenerationByBirthdate($setup.consultantInfo.birthdate)),
                  1
                  /* TEXT */
                )
              ]),
              JSON.stringify($setup.quoteList) !== "{}" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "money"
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "num" },
                  vue.toDisplayString($setup.quoteList.quoteAmount),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  null,
                  "元/" + vue.toDisplayString($setup.quoteList.serviceDuration) + "分钟",
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true)
            ]),
            vue.createElementVNode("view", { class: "detail-item-line-2" }, [
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString($setup.consultantInfo.certificateList[0].name) + " | " + vue.toDisplayString($setup.consultantInfo.educationList[0].schoolName) + " | " + vue.toDisplayString($setup.consultantInfo.constellation),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "detail-item-line-3" }, [
              vue.createElementVNode("view", { class: "address" }, [
                vue.createElementVNode("image", { src: _imports_3$4 }),
                vue.createElementVNode(
                  "text",
                  null,
                  vue.toDisplayString($setup.consultantInfo.address),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "txt" }, [
                vue.createElementVNode("view", null, [
                  vue.createElementVNode("text", { class: "voice" }, "语音咨询"),
                  vue.createTextVNode(" | "),
                  vue.createElementVNode("text", { class: "quick" }, "最快可约最近3天"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "14",
                    color: "#35CA95"
                  })
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "detail-item-line-4" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "list" }, [
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.consultantInfo.workTime),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "年")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "从业年限")
                  ]),
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.platformHours),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "小时")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "平台时长")
                  ]),
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.consultUserCount),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "unit" }, "人")
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "咨询人数")
                  ]),
                  vue.createElementVNode("view", { class: "item" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "text",
                        { class: "num" },
                        vue.toDisplayString($setup.expData.commentCount),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "咨询感受")
                  ])
                ]),
                vue.createElementVNode("view", { class: "tips" }, [
                  vue.createElementVNode("image", { src: _imports_4$4 }),
                  vue.createElementVNode("text", { class: "txt" }, "服务经验")
                ])
              ])
            ]),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["detail-item-line-5", $setup.fixedActive ? "tabsFixed" : ""]),
                id: "tabs"
              },
              [
                vue.createElementVNode("view", { class: "tabs" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.tabsList, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: vue.normalizeClass(["tab-item", $setup.tabIndex == index ? "active" : ""]),
                        key: index,
                        onClick: ($event) => $setup.scrollToTargetInScroll(`tab-${index + 1}`)
                      }, vue.toDisplayString(item.label), 11, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 tab6",
              id: "tab-1"
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, "个人简介"),
                vue.createElementVNode(
                  "view",
                  { class: "info" },
                  vue.toDisplayString($setup.consultantInfo.profile),
                  1
                  /* TEXT */
                )
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-7",
              id: "tab-2"
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, "擅长方向"),
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("view", { class: "detail-item" }, [
                    vue.createElementVNode(
                      "view",
                      { class: "detail-content" },
                      vue.toDisplayString($setup.consultantInfo.serviceTypes.join("、")),
                      1
                      /* TEXT */
                    )
                  ])
                ]),
                vue.createElementVNode("view", { class: "title" }, "擅长疗法"),
                vue.createElementVNode("view", { class: "tags" }, [
                  vue.createElementVNode("text", { class: "tag-item" }, "沙盘疗法"),
                  vue.createElementVNode("text", { class: "tag-item" }, "心理动力取向"),
                  vue.createElementVNode("text", { class: "tag-item" }, "心理动力取向")
                ])
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-8",
              id: "tab-3"
            }, [
              vue.createElementVNode(
                "view",
                {
                  class: "content",
                  style: vue.normalizeStyle({ "max-height": $setup.maxHeight, overflow: "hidden" })
                },
                [
                  vue.createElementVNode("view", { class: "info" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.consultantInfo.certificateList, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "certificate-detail",
                          key: index
                        }, [
                          vue.createElementVNode("view", { class: "tag" }, "资质"),
                          vue.createElementVNode("view", { class: "tag-info" }, [
                            vue.createElementVNode(
                              "view",
                              { class: "tag-title" },
                              vue.toDisplayString(item.name),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode("view", { class: "certificate-info" }, [
                              vue.createElementVNode(
                                "view",
                                null,
                                "发证时间：" + vue.toDisplayString(item.date),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "view",
                                null,
                                "证书编号：" + vue.toDisplayString(item.number),
                                1
                                /* TEXT */
                              )
                            ])
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    )),
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.consultantInfo.educationList, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "eduication-detail",
                          key: index
                        }, [
                          vue.createElementVNode("view", { class: "tag" }, "学历"),
                          vue.createElementVNode("view", { class: "tag-info" }, [
                            vue.createElementVNode(
                              "view",
                              { class: "tag-title" },
                              vue.toDisplayString(item.schoolName),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode("view", { class: "eduication-info" }, [
                              vue.createElementVNode(
                                "view",
                                null,
                                "发证时间：" + vue.toDisplayString(item.endTime),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "view",
                                null,
                                "证书编号：" + vue.toDisplayString(item.code),
                                1
                                /* TEXT */
                              )
                            ])
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    )),
                    vue.createElementVNode("view", { class: "step-detail" }, [
                      vue.createElementVNode("view", { class: "training" }, [
                        vue.createElementVNode("view", { class: "training-title" }, "伦理培训"),
                        vue.createElementVNode(
                          "view",
                          { class: "training-timer" },
                          vue.toDisplayString($setup.stepList.length) + "项培训，累计40小时",
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "step-box" }, [
                        vue.createVNode(_component_uni_steps, {
                          options: $setup.stepList,
                          "active-color": "#35CA95",
                          active: $setup.stepActive,
                          direction: "column"
                        }, null, 8, ["options", "active"])
                      ])
                    ])
                  ])
                ],
                4
                /* STYLE */
              ),
              vue.createElementVNode("view", {
                class: "more",
                onClick: $setup.more,
                style: { "background-color": "#fff !important" }
              }, "查看更多")
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-9",
              id: "tab-4"
            }, [
              vue.createElementVNode("view", {
                class: "content",
                onClick: $setup.openEvaluate
              }, [
                vue.createElementVNode("view", { class: "title" }, "咨询感受"),
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("view", { class: "comment-list" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.evaluationList, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "comment-item",
                          key: index
                        }, [
                          vue.createElementVNode("view", { class: "comment-item-header" }, [
                            vue.createElementVNode("view", { class: "user" }, [
                              vue.createElementVNode("image", {
                                src: item.avatar,
                                style: { "border-radius": "50%" }
                              }, null, 8, ["src"]),
                              vue.createElementVNode(
                                "text",
                                null,
                                vue.toDisplayString(item.nickname),
                                1
                                /* TEXT */
                              )
                            ]),
                            vue.createElementVNode(
                              "view",
                              { class: "date" },
                              vue.toDisplayString(item.createTime),
                              1
                              /* TEXT */
                            )
                          ]),
                          vue.createElementVNode("view", { class: "comment-item-content" }, [
                            vue.createVNode(
                              $setup["MoteLinesDivide"],
                              {
                                line: 3,
                                expandText: "展开",
                                foldHint: "收起"
                              },
                              {
                                default: vue.withCtx(() => [
                                  vue.createTextVNode(
                                    vue.toDisplayString(item.content),
                                    1
                                    /* TEXT */
                                  )
                                ]),
                                _: 2
                                /* DYNAMIC */
                              },
                              1024
                              /* DYNAMIC_SLOTS */
                            )
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", {
              class: "detail-item-line-6 detail-item-line-10",
              id: "tab-5",
              onClick: $setup.openPopupFn
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createTextVNode("可约时间"),
                  vue.createElementVNode("text", { class: "remark" }, "（北京时间）")
                ]),
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("view", { class: "txt" }, "如果暂时无法确定具体的咨询时间，可以在预约成功后，再与咨询师协商具体时间。"),
                  vue.createElementVNode("view", { class: "order-timer-box" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.orderLists, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock(
                          "view",
                          {
                            class: vue.normalizeClass(["order-timer-item", item.status == 1 ? "active" : ""])
                          },
                          [
                            vue.createElementVNode(
                              "view",
                              { class: "month" },
                              vue.toDisplayString(item.month) + "月",
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode(
                              "view",
                              { class: "day" },
                              vue.toDisplayString(item.day),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode(
                              "view",
                              { class: "week" },
                              vue.toDisplayString(item.week),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode(
                              "view",
                              { class: "isOrder" },
                              vue.toDisplayString(item.status == 1 ? "可约" : "已满"),
                              1
                              /* TEXT */
                            )
                          ],
                          2
                          /* CLASS */
                        );
                      }),
                      256
                      /* UNKEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "detail-item-line-6 detail-item-line-11" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createTextVNode("预约须知"),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("view", { class: "info" }, [
                      vue.createElementVNode("view", null, "1、咨询为预约服务，您可选择咨询师可约时段下单，每次咨询50分钟或60分钟。"),
                      vue.createElementVNode("view", null, "2、订单支付成功后，您的预约需咨询师确认是否接受，确认后将短信通知您。"),
                      vue.createElementVNode("view", null, "3、咨询方式有面对面、视频、电话、文字四种，具体以咨询师展示的可选方式为准。"),
                      vue.createElementVNode("view", null, "4、因不可抗力因素变更时间或取消咨询预约，请提前24小时告知咨询师。")
                    ])
                  ])
                ])
              ])
            ])
          ])
        ])
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", { class: "follow" }, [
          vue.createElementVNode("image", { src: _imports_1$f }),
          vue.createElementVNode("text", null, "关注")
        ]),
        vue.createElementVNode("view", {
          class: "contact",
          onClick: $setup.customerService
        }, [
          vue.createElementVNode("image", { src: _imports_2$7 }),
          vue.createElementVNode("text", null, "客服")
        ]),
        vue.createElementVNode("view", {
          class: "message",
          onClick: $setup.toChat
        }, [
          vue.createElementVNode("text", { class: "txt" }, "私信ta")
        ]),
        vue.createElementVNode("view", {
          class: "reservation",
          onClick: $setup.openPopupFn
        }, [
          vue.createElementVNode("text", null, "预约咨询"),
          vue.createElementVNode("text", { class: "remark" }, "（语音/视频）")
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "bottom",
          "border-radius": "20rpx 20rpx 0 0"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-box" }, [
              vue.createElementVNode("view", { class: "popup-header" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createTextVNode("选择咨询时段"),
                  vue.createElementVNode("text", { class: "remark" }, "（北京时间）")
                ]),
                vue.createElementVNode("view", { class: "msg" }, "暂不选择咨询时间，可在下单后与咨询师协商时间")
              ]),
              vue.createElementVNode("view", { class: "time-selector" }, [
                vue.createElementVNode("scroll-view", {
                  class: "date-scroll",
                  "scroll-x": "true",
                  "show-scrollbar": "true"
                }, [
                  vue.createElementVNode("view", { class: "date-list" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.dateOptions, (dateItem, index) => {
                        var _a2, _b2;
                        return vue.openBlock(), vue.createElementBlock("view", {
                          key: `date-${index}-${dateItem.date}`,
                          class: vue.normalizeClass(["date-card", {
                            active: ((_a2 = $setup.selectedDate) == null ? void 0 : _a2.date) === dateItem.date,
                            "no-available": !$setup.hasAvailableTime(dateItem),
                            "status-disable": dateItem.status === 2
                          }]),
                          onClick: ($event) => dateItem.status !== 2 && $setup.handleDateSelect(dateItem)
                        }, [
                          vue.createElementVNode(
                            "text",
                            {
                              class: vue.normalizeClass(["week", {
                                "week-active": ((_b2 = $setup.selectedDate) == null ? void 0 : _b2.date) === dateItem.date,
                                "available": dateItem.status === 2
                              }])
                            },
                            vue.toDisplayString($setup.getWeekText(dateItem.dayOfWeek)),
                            3
                            /* TEXT, CLASS */
                          ),
                          vue.createElementVNode(
                            "text",
                            { class: "date" },
                            vue.toDisplayString(dateItem.date.slice(5)),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode(
                            "text",
                            {
                              class: vue.normalizeClass(["status", dateItem.status == 2 ? "available" : ""])
                            },
                            vue.toDisplayString($setup.hasAvailableTime(dateItem) ? "可约" : "已满"),
                            3
                            /* TEXT, CLASS */
                          )
                        ], 10, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ]),
                $setup.selectedDate ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "time-list"
                }, [
                  vue.createElementVNode("view", { class: "time-section" }, [
                    $setup.filterTime("morning").length ? (vue.openBlock(), vue.createElementBlock("text", {
                      key: 0,
                      class: "section-title"
                    }, "上午")) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", { class: "time-items" }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.filterTime("morning"), (timeItem, idx) => {
                          var _a2, _b2;
                          return vue.openBlock(), vue.createElementBlock("view", {
                            key: `time-morning-${idx}-${timeItem.date}-${timeItem.text}`,
                            class: vue.normalizeClass(["time-item", [
                              {
                                active: ((_a2 = $setup.selectedTime) == null ? void 0 : _a2.text) === timeItem.text && ((_b2 = $setup.selectedTime) == null ? void 0 : _b2.date) === timeItem.date
                              },
                              $setup.getTimeStatusClass(timeItem.status)
                              // 根据status动态添加样式类
                            ]]),
                            onClick: ($event) => $setup.handleTimeSelect(timeItem)
                          }, [
                            vue.createElementVNode(
                              "text",
                              { class: "time-text" },
                              vue.toDisplayString(timeItem.text),
                              1
                              /* TEXT */
                            ),
                            timeItem.status !== 1 ? (vue.openBlock(), vue.createElementBlock(
                              "text",
                              {
                                key: 0,
                                class: "status-tag"
                              },
                              vue.toDisplayString($setup.getStatusText(timeItem.status)),
                              1
                              /* TEXT */
                            )) : vue.createCommentVNode("v-if", true)
                          ], 10, ["onClick"]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "time-section" }, [
                    $setup.filterTime("afternoon").length ? (vue.openBlock(), vue.createElementBlock("text", {
                      key: 0,
                      class: "section-title"
                    }, "下午")) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", { class: "time-items" }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.filterTime("afternoon"), (timeItem, idx) => {
                          var _a2, _b2;
                          return vue.openBlock(), vue.createElementBlock("view", {
                            key: `time-afternoon-${idx}-${timeItem.date}-${timeItem.text}`,
                            class: vue.normalizeClass(["time-item", [
                              {
                                active: ((_a2 = $setup.selectedTime) == null ? void 0 : _a2.text) === timeItem.text && ((_b2 = $setup.selectedTime) == null ? void 0 : _b2.date) === timeItem.date
                              },
                              $setup.getTimeStatusClass(timeItem.status)
                              // 根据status动态添加样式类
                            ]]),
                            onClick: ($event) => $setup.handleTimeSelect(timeItem)
                          }, [
                            vue.createElementVNode(
                              "text",
                              { class: "time-text" },
                              vue.toDisplayString(timeItem.text),
                              1
                              /* TEXT */
                            ),
                            timeItem.status !== 1 ? (vue.openBlock(), vue.createElementBlock(
                              "text",
                              {
                                key: 0,
                                class: "status-tag"
                              },
                              vue.toDisplayString($setup.getStatusText(timeItem.status)),
                              1
                              /* TEXT */
                            )) : vue.createCommentVNode("v-if", true)
                          ], 10, ["onClick"]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])
                  ])
                ])) : vue.createCommentVNode("v-if", true)
              ]),
              vue.createElementVNode("view", { class: "popup-footer" }, [
                vue.createElementVNode("view", { class: "msg" }, [
                  $setup.selectedItem ? (vue.openBlock(), vue.createElementBlock(
                    "view",
                    {
                      key: 0,
                      class: "date"
                    },
                    vue.toDisplayString($setup.selectedItem.date) + "(" + vue.toDisplayString($setup.getWeekText($setup.selectedItem.dayOfWeek)) + ") | " + vue.toDisplayString($setup.selectedItem.text),
                    1
                    /* TEXT */
                  )) : vue.createCommentVNode("v-if", true),
                  vue.createElementVNode(
                    "view",
                    { class: "name" },
                    "咨询师：" + vue.toDisplayString($setup.consultantInfo.name),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", {
                  class: "confirm",
                  onClick: $setup.toPay
                }, "确认预约")
              ])
            ]),
            vue.createVNode(
              $setup["CustomerService"],
              { ref: "serviceRef" },
              null,
              512
              /* NEED_PATCH */
            )
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesConsultDetail = /* @__PURE__ */ _export_sfc(_sfc_main$1O, [["render", _sfc_render$1N], ["__scopeId", "data-v-067f89c2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/consult/detail.vue"]]);
  const getArticleList = (params, config2 = {}) => http$1.post("/api/article/article/getArticleList", params, config2);
  const getArticleByUserId = (params, config2 = {}) => http$1.post("/api/article/article/getArticleByUserId", params, config2);
  const getArticleDetail = (params, config2 = {}) => http$1.post("/api/article/article/getArticleDetail", params, config2);
  const saveArticle = (params, config2 = {}) => http$1.post("/api/article/article/saveArticle", params, config2);
  const getCommentById$1 = (params, config2 = {}) => http$1.post("/api/comment/comment/getCommentById", params, config2);
  const saveComment$2 = (params, config2 = {}) => http$1.post("/api/comment/comment/saveComment", params, config2);
  const relativeArticle = (params, config2 = {}) => http$1.get("/api/article/article/relativeArticle");
  const getFeedback = (params, config2 = {}) => http$1.post("/api/admin/feedback/page", params, config2);
  const getAnswerList = (params, config2 = {}) => http$1.post(
    "/api/answer/answer/getAnswerList",
    params,
    config2
  );
  const getAnswerDetail = (params, config2 = {}) => http$1.post(
    "/api/answer/answer/getAnswerDetail",
    params,
    config2
  );
  const getCommentById = (params, config2 = {}) => http$1.post(
    "/api/comment/comment/getCommentById",
    params,
    config2
  );
  const saveComment$1 = (params, config2 = {}) => http$1.post(
    "/api/comment/comment/saveComment",
    params,
    config2
  );
  const getHotQa = (params, config2 = {}) => http$1.get("/api/answer/answer/hotList", params, config2);
  const publishQuestion = (params, config2 = {}) => http$1.post("/api/answer/answer/saveAnswer", params, config2);
  const _sfc_main$1N = {
    __name: "Confide-Teacher-List-Item",
    props: {
      info: {
        type: Object
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const __returned__ = { props, get getGenerationByBirthdate() {
        return getGenerationByBirthdate;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1M(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "teacher-listener" }, [
      vue.createElementVNode("view", { class: "card-listener" }, [
        vue.createElementVNode("view", { class: "avatar-wrap-listener" }, [
          vue.createElementVNode("image", {
            class: "avatar-listener",
            src: "https://s.maimiaoqingsu.com/a624ea3f-e71f-4d00-b94d-1cc157055449.JPG",
            mode: "aspectFill"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { class: "info-wrap" }, [
          vue.createElementVNode("view", { class: "job-title" }, [
            vue.createElementVNode(
              "view",
              { class: "name-title" },
              vue.toDisplayString($props.info.name),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "view",
              null,
              vue.toDisplayString($setup.getGenerationByBirthdate($props.info.birthdate)) + " | " + vue.toDisplayString($props.info.constellation),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "tags" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($props.info.serviceTypes.slice(0, 2), (item, index) => {
                return vue.openBlock(), vue.createElementBlock(
                  "text",
                  { class: "tag" },
                  vue.toDisplayString(item),
                  1
                  /* TEXT */
                );
              }),
              256
              /* UNKEYED_FRAGMENT */
            ))
          ]),
          vue.createElementVNode("view", { class: "stats" }, [
            vue.createElementVNode("view", null, [
              vue.createElementVNode("view", { class: "stats-item" }, [
                vue.createElementVNode(
                  "view",
                  { class: "num" },
                  vue.toDisplayString($props.info.years) + "年",
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", null, "从业时间")
              ]),
              vue.createElementVNode("view", { class: "stats-item" }, [
                vue.createElementVNode(
                  "view",
                  { class: "num" },
                  vue.toDisplayString($props.info.platformHours) + "+",
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", null, "平台时长")
              ])
            ]),
            vue.createElementVNode("view", null, [
              vue.createElementVNode("view", { class: "stats-item" }, [
                vue.createElementVNode(
                  "view",
                  { class: "num" },
                  vue.toDisplayString($props.info.commentCount) + "+",
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", null, "评价")
              ]),
              vue.createElementVNode("view", { class: "stats-item" }, [
                vue.createElementVNode(
                  "view",
                  { class: "num" },
                  vue.toDisplayString($props.info.commentCount) + "+",
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", null, "回头客")
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "price-button" }, [
            vue.createElementVNode("view", { class: "contact" }, [
              vue.createVNode(_component_uni_icons, {
                type: "location",
                size: "20",
                color: "#9da6a4"
              }),
              vue.createElementVNode(
                "view",
                null,
                vue.toDisplayString($props.info.address),
                1
                /* TEXT */
              )
            ]),
            $props.info.quoteList[0] ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                style: { "font-size": "38rpx", "color": "red" }
              },
              "¥" + vue.toDisplayString($props.info.quoteList[0].quoteAmount),
              1
              /* TEXT */
            )) : vue.createCommentVNode("v-if", true)
          ])
        ])
      ])
    ]);
  }
  const ConfideTeacherListItem = /* @__PURE__ */ _export_sfc(_sfc_main$1N, [["render", _sfc_render$1M], ["__scopeId", "data-v-5a7db619"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Confide-Teacher-List-Item.vue"]]);
  const _sfc_main$1M = {
    __name: "Consult-Teacher-List-Item",
    props: {
      info: {
        type: Object
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const avatarImg = (item) => {
        const { masterGallery } = item;
        if (!masterGallery) {
          return "/static/consult/user.png";
        } else {
          return JSON.parse(masterGallery)[0];
        }
      };
      const __returned__ = { props, avatarImg, get getGenerationByBirthdate() {
        return getGenerationByBirthdate;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1L(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "teacher-container" }, [
      vue.createElementVNode("view", { class: "card" }, [
        vue.createElementVNode("view", { class: "avatar-wrap" }, [
          vue.createElementVNode("image", {
            class: "avatar",
            src: $setup.avatarImg($props.info),
            mode: "aspectFill"
          }, null, 8, ["src"]),
          vue.createElementVNode(
            "view",
            { class: "name-title" },
            vue.toDisplayString($props.info.name),
            1
            /* TEXT */
          )
        ]),
        vue.createElementVNode("view", { class: "info-wrap" }, [
          vue.createElementVNode(
            "view",
            { class: "job-title" },
            vue.toDisplayString($props.info.occupationName),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "tags" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($props.info.serviceTypes.slice(0, 2), (item, index) => {
                return vue.openBlock(), vue.createElementBlock(
                  "text",
                  { class: "tag" },
                  vue.toDisplayString(item),
                  1
                  /* TEXT */
                );
              }),
              256
              /* UNKEYED_FRAGMENT */
            ))
          ]),
          vue.createElementVNode("view", { class: "stats" }, [
            vue.createElementVNode("view", { class: "stats-item" }, [
              vue.createElementVNode(
                "view",
                { class: "num" },
                vue.toDisplayString($props.info.platformHours) + "+",
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", null, "平台时长")
            ]),
            vue.createElementVNode("view", { class: "stats-item" }, [
              vue.createElementVNode(
                "view",
                { class: "num" },
                vue.toDisplayString($props.info.years) + "年",
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", null, "从业时间")
            ]),
            vue.createElementVNode("view", { class: "stats-item" }, [
              vue.createElementVNode(
                "view",
                { class: "num" },
                vue.toDisplayString($props.info.commentCount) + "+",
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", null, "咨询人数")
            ]),
            vue.createElementVNode("view", { class: "stats-item" }, [
              vue.createElementVNode(
                "view",
                { class: "num" },
                vue.toDisplayString($props.info.commentCount) + "+",
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", null, "咨询感受")
            ])
          ]),
          vue.createElementVNode("view", { class: "price-button" }, [
            vue.createElementVNode("view", { class: "contact" }, [
              vue.createVNode(_component_uni_icons, {
                type: "location",
                size: "20",
                color: "#9da6a4"
              }),
              vue.createElementVNode(
                "view",
                null,
                vue.toDisplayString($props.info.address),
                1
                /* TEXT */
              )
            ]),
            $props.info.quoteList[0] ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                style: { "font-size": "38rpx", "color": "red" }
              },
              "¥" + vue.toDisplayString($props.info.quoteList[0].quoteAmount),
              1
              /* TEXT */
            )) : vue.createCommentVNode("v-if", true)
          ])
        ])
      ])
    ]);
  }
  const ConsultTeacherListItem = /* @__PURE__ */ _export_sfc(_sfc_main$1M, [["render", _sfc_render$1L], ["__scopeId", "data-v-07f0244f"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Consult-Teacher-List-Item.vue"]]);
  const _sfc_main$1L = {
    __name: "Recommend-Article-Item",
    props: {
      info: {
        type: Object
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const __returned__ = { props };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1K(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "recommend-article-Item" }, [
      vue.createElementVNode("view", { class: "recommend-article-content" }, [
        $props.info ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 0,
            class: "content"
          },
          vue.toDisplayString($props.info.title),
          1
          /* TEXT */
        )) : vue.createCommentVNode("v-if", true),
        $props.info ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 1,
            class: "content"
          },
          vue.toDisplayString($props.info.content),
          1
          /* TEXT */
        )) : vue.createCommentVNode("v-if", true),
        vue.createElementVNode("view", { class: "info" }, [
          vue.createElementVNode("view", { class: "user" }, [
            vue.createElementVNode("image", {
              src: _imports_0$m,
              class: "picture"
            }),
            vue.createElementVNode(
              "text",
              { class: "name" },
              vue.toDisplayString($props.info.realName),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "view" }, " 浏览7876 "),
          vue.createElementVNode(
            "view",
            { class: "date" },
            vue.toDisplayString($props.info.createTime.substring(0, 10)),
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createElementVNode("view", { class: "recommend-article-image" }, [
        vue.createElementVNode("image", {
          src: $props.info.imageUrl
        }, null, 8, ["src"])
      ])
    ]);
  }
  const RecommendArticleItem = /* @__PURE__ */ _export_sfc(_sfc_main$1L, [["render", _sfc_render$1K], ["__scopeId", "data-v-c9e42a9c"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Recommend-Article-Item.vue"]]);
  const _imports_2$6 = "/static/consult/user.png";
  const _sfc_main$1K = {
    __name: "Forum-Item",
    props: {
      info: {
        type: Object
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const __returned__ = { props };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1J(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-Item" }, [
      vue.createElementVNode("view", { class: "forum-content" }, [
        vue.createElementVNode(
          "view",
          { class: "content" },
          vue.toDisplayString($props.info.content),
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", { class: "forum-image" }, [
          vue.createElementVNode("scroll-view", {
            class: "scroll-view_H",
            "scroll-x": "true"
          }, [
            vue.createElementVNode("view", { class: "forum-image-list" }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(10, (i2) => {
                  return vue.createElementVNode("image", {
                    src: _imports_2$6,
                    class: "img"
                  });
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "info" }, [
          vue.createElementVNode("text", { class: "date" }, " 2025/01/02 "),
          vue.createElementVNode("text", { class: "date" }, "·"),
          vue.createElementVNode("text", { class: "view" }, " 浏览7876 ")
        ])
      ])
    ]);
  }
  const ForumItem = /* @__PURE__ */ _export_sfc(_sfc_main$1K, [["render", _sfc_render$1J], ["__scopeId", "data-v-94df90e2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Forum-Item.vue"]]);
  var timJs = { exports: {} };
  (function(module, exports) {
    !function(e2, t2) {
      module.exports = t2();
    }(commonjsGlobal, function() {
      function e2(e3, t3) {
        var n3 = Object.keys(e3);
        if (Object.getOwnPropertySymbols) {
          var o3 = Object.getOwnPropertySymbols(e3);
          t3 && (o3 = o3.filter(function(t4) {
            return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
          })), n3.push.apply(n3, o3);
        }
        return n3;
      }
      function t2(t3) {
        for (var n3 = 1; n3 < arguments.length; n3++) {
          var o3 = null != arguments[n3] ? arguments[n3] : {};
          n3 % 2 ? e2(Object(o3), true).forEach(function(e3) {
            i2(t3, e3, o3[e3]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(o3)) : e2(Object(o3)).forEach(function(e3) {
            Object.defineProperty(t3, e3, Object.getOwnPropertyDescriptor(o3, e3));
          });
        }
        return t3;
      }
      function n2(e3) {
        return (n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
          return typeof e4;
        } : function(e4) {
          return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
        })(e3);
      }
      function o2(e3, t3) {
        if (!(e3 instanceof t3))
          throw new TypeError("Cannot call a class as a function");
      }
      function s2(e3, t3) {
        for (var n3 = 0; n3 < t3.length; n3++) {
          var o3 = t3[n3];
          o3.enumerable = o3.enumerable || false, o3.configurable = true, "value" in o3 && (o3.writable = true), Object.defineProperty(e3, o3.key, o3);
        }
      }
      function a2(e3, t3, n3) {
        return t3 && s2(e3.prototype, t3), n3 && s2(e3, n3), Object.defineProperty(e3, "prototype", { writable: false }), e3;
      }
      function i2(e3, t3, n3) {
        return t3 in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
      }
      function r2(e3, t3) {
        if ("function" != typeof t3 && null !== t3)
          throw new TypeError("Super expression must either be null or a function");
        e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), Object.defineProperty(e3, "prototype", { writable: false }), t3 && c2(e3, t3);
      }
      function u2(e3) {
        return (u2 = Object.setPrototypeOf ? Object.getPrototypeOf : function(e4) {
          return e4.__proto__ || Object.getPrototypeOf(e4);
        })(e3);
      }
      function c2(e3, t3) {
        return (c2 = Object.setPrototypeOf || function(e4, t4) {
          return e4.__proto__ = t4, e4;
        })(e3, t3);
      }
      function l2() {
        if ("undefined" == typeof Reflect || !Reflect.construct)
          return false;
        if (Reflect.construct.sham)
          return false;
        if ("function" == typeof Proxy)
          return true;
        try {
          return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
          })), true;
        } catch (e3) {
          return false;
        }
      }
      function d2(e3, t3, n3) {
        return (d2 = l2() ? Reflect.construct : function(e4, t4, n4) {
          var o3 = [null];
          o3.push.apply(o3, t4);
          var s3 = new (Function.bind.apply(e4, o3))();
          return n4 && c2(s3, n4.prototype), s3;
        }).apply(null, arguments);
      }
      function p2(e3) {
        var t3 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
        return (p2 = function(e4) {
          if (null === e4 || (n3 = e4, -1 === Function.toString.call(n3).indexOf("[native code]")))
            return e4;
          var n3;
          if ("function" != typeof e4)
            throw new TypeError("Super expression must either be null or a function");
          if (void 0 !== t3) {
            if (t3.has(e4))
              return t3.get(e4);
            t3.set(e4, o3);
          }
          function o3() {
            return d2(e4, arguments, u2(this).constructor);
          }
          return o3.prototype = Object.create(e4.prototype, { constructor: { value: o3, enumerable: false, writable: true, configurable: true } }), c2(o3, e4);
        })(e3);
      }
      function g2(e3, t3) {
        if (null == e3)
          return {};
        var n3, o3, s3 = function(e4, t4) {
          if (null == e4)
            return {};
          var n4, o4, s4 = {}, a4 = Object.keys(e4);
          for (o4 = 0; o4 < a4.length; o4++)
            n4 = a4[o4], t4.indexOf(n4) >= 0 || (s4[n4] = e4[n4]);
          return s4;
        }(e3, t3);
        if (Object.getOwnPropertySymbols) {
          var a3 = Object.getOwnPropertySymbols(e3);
          for (o3 = 0; o3 < a3.length; o3++)
            n3 = a3[o3], t3.indexOf(n3) >= 0 || Object.prototype.propertyIsEnumerable.call(e3, n3) && (s3[n3] = e3[n3]);
        }
        return s3;
      }
      function h2(e3) {
        if (void 0 === e3)
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e3;
      }
      function _2(e3, t3) {
        if (t3 && ("object" == typeof t3 || "function" == typeof t3))
          return t3;
        if (void 0 !== t3)
          throw new TypeError("Derived constructors may only return object or undefined");
        return h2(e3);
      }
      function f2(e3) {
        var t3 = l2();
        return function() {
          var n3, o3 = u2(e3);
          if (t3) {
            var s3 = u2(this).constructor;
            n3 = Reflect.construct(o3, arguments, s3);
          } else
            n3 = o3.apply(this, arguments);
          return _2(this, n3);
        };
      }
      function v2(e3, t3) {
        return M2(e3) || function(e4, t4) {
          var n3 = null == e4 ? null : "undefined" != typeof Symbol && e4[Symbol.iterator] || e4["@@iterator"];
          if (null == n3)
            return;
          var o3, s3, a3 = [], i3 = true, r3 = false;
          try {
            for (n3 = n3.call(e4); !(i3 = (o3 = n3.next()).done) && (a3.push(o3.value), !t4 || a3.length !== t4); i3 = true)
              ;
          } catch (u3) {
            r3 = true, s3 = u3;
          } finally {
            try {
              i3 || null == n3.return || n3.return();
            } finally {
              if (r3)
                throw s3;
            }
          }
          return a3;
        }(e3, t3) || I2(e3, t3) || T2();
      }
      function m2(e3) {
        return function(e4) {
          if (Array.isArray(e4))
            return C2(e4);
        }(e3) || y2(e3) || I2(e3) || function() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }();
      }
      function M2(e3) {
        if (Array.isArray(e3))
          return e3;
      }
      function y2(e3) {
        if ("undefined" != typeof Symbol && null != e3[Symbol.iterator] || null != e3["@@iterator"])
          return Array.from(e3);
      }
      function I2(e3, t3) {
        if (e3) {
          if ("string" == typeof e3)
            return C2(e3, t3);
          var n3 = Object.prototype.toString.call(e3).slice(8, -1);
          return "Object" === n3 && e3.constructor && (n3 = e3.constructor.name), "Map" === n3 || "Set" === n3 ? Array.from(e3) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? C2(e3, t3) : void 0;
        }
      }
      function C2(e3, t3) {
        (null == t3 || t3 > e3.length) && (t3 = e3.length);
        for (var n3 = 0, o3 = new Array(t3); n3 < t3; n3++)
          o3[n3] = e3[n3];
        return o3;
      }
      function T2() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      function D2(e3, t3) {
        var n3 = "undefined" != typeof Symbol && e3[Symbol.iterator] || e3["@@iterator"];
        if (!n3) {
          if (Array.isArray(e3) || (n3 = I2(e3)) || t3 && e3 && "number" == typeof e3.length) {
            n3 && (e3 = n3);
            var o3 = 0, s3 = function() {
            };
            return { s: s3, n: function() {
              return o3 >= e3.length ? { done: true } : { done: false, value: e3[o3++] };
            }, e: function(e4) {
              throw e4;
            }, f: s3 };
          }
          throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        var a3, i3 = true, r3 = false;
        return { s: function() {
          n3 = n3.call(e3);
        }, n: function() {
          var e4 = n3.next();
          return i3 = e4.done, e4;
        }, e: function(e4) {
          r3 = true, a3 = e4;
        }, f: function() {
          try {
            i3 || null == n3.return || n3.return();
          } finally {
            if (r3)
              throw a3;
          }
        } };
      }
      var k = { SDK_READY: "sdkStateReady", SDK_NOT_READY: "sdkStateNotReady", SDK_DESTROY: "sdkDestroy", MESSAGE_RECEIVED: "onMessageReceived", MESSAGE_MODIFIED: "onMessageModified", MESSAGE_REVOKED: "onMessageRevoked", MESSAGE_READ_BY_PEER: "onMessageReadByPeer", MESSAGE_READ_RECEIPT_RECEIVED: "onMessageReadReceiptReceived", MESSAGE_EXTENSIONS_UPDATED: "onMessageExtensionsUpdated", MESSAGE_EXTENSIONS_DELETED: "onMessageExtensionsDeleted", CONVERSATION_LIST_UPDATED: "onConversationListUpdated", TOTAL_UNREAD_MESSAGE_COUNT_UPDATED: "onTotalUnreadMessageCountUpdated", CONVERSATION_GROUP_LIST_UPDATED: "onConversationGroupListUpdated", CONVERSATION_IN_GROUP_UPDATED: "onConversationInGroupUpdated", GROUP_LIST_UPDATED: "onGroupListUpdated", GROUP_SYSTEM_NOTICE_RECEIVED: "receiveGroupSystemNotice", GROUP_ATTRIBUTES_UPDATED: "groupAttributesUpdated", GROUP_COUNTER_UPDATED: "onGroupCounterUpdated", TOPIC_CREATED: "onTopicCreated", TOPIC_DELETED: "onTopicDeleted", TOPIC_UPDATED: "onTopicUpdated", PROFILE_UPDATED: "onProfileUpdated", USER_STATUS_UPDATED: "onUserStatusUpdated", BLACKLIST_UPDATED: "blacklistUpdated", FRIEND_LIST_UPDATED: "onFriendListUpdated", FRIEND_GROUP_LIST_UPDATED: "onFriendGroupListUpdated", FRIEND_APPLICATION_LIST_UPDATED: "onFriendApplicationListUpdated", KICKED_OUT: "kickedOut", ERROR: "error", NET_STATE_CHANGE: "netStateChange", SDK_RELOAD: "sdkReload" }, E2 = { MSG_TEXT: "TIMTextElem", MSG_IMAGE: "TIMImageElem", MSG_SOUND: "TIMSoundElem", MSG_AUDIO: "TIMSoundElem", MSG_FILE: "TIMFileElem", MSG_FACE: "TIMFaceElem", MSG_VIDEO: "TIMVideoFileElem", MSG_GEO: "TIMLocationElem", MSG_LOCATION: "TIMLocationElem", MSG_GRP_TIP: "TIMGroupTipElem", MSG_GRP_SYS_NOTICE: "TIMGroupSystemNoticeElem", MSG_CUSTOM: "TIMCustomElem", MSG_MERGER: "TIMRelayElem", MSG_PRIORITY_HIGH: "High", MSG_PRIORITY_NORMAL: "Normal", MSG_PRIORITY_LOW: "Low", MSG_PRIORITY_LOWEST: "Lowest", CONV_C2C: "C2C", CONV_GROUP: "GROUP", CONV_TOPIC: "TOPIC", CONV_SYSTEM: "@TIM#SYSTEM", CONV_AT_ME: 1, CONV_AT_ALL: 2, CONV_AT_ALL_AT_ME: 3, CONV_MARK_TYPE_STAR: 1, CONV_MARK_TYPE_UNREAD: 2, CONV_MARK_TYPE_FOLD: 4, CONV_MARK_TYPE_HIDE: 8, GRP_PRIVATE: "Private", GRP_WORK: "Private", GRP_PUBLIC: "Public", GRP_CHATROOM: "ChatRoom", GRP_MEETING: "ChatRoom", GRP_AVCHATROOM: "AVChatRoom", GRP_COMMUNITY: "Community", GRP_MBR_ROLE_OWNER: "Owner", GRP_MBR_ROLE_ADMIN: "Admin", GRP_MBR_ROLE_MEMBER: "Member", GRP_MBR_ROLE_CUSTOM: "Custom", GRP_TIP_MBR_JOIN: 1, GRP_TIP_MBR_QUIT: 2, GRP_TIP_MBR_KICKED_OUT: 3, GRP_TIP_MBR_SET_ADMIN: 4, GRP_TIP_MBR_CANCELED_ADMIN: 5, GRP_TIP_GRP_PROFILE_UPDATED: 6, GRP_TIP_MBR_PROFILE_UPDATED: 7, GRP_TIP_BAN_AVCHATROOM_MEMBER: 10, GRP_TIP_UNBAN_AVCHATROOM_MEMBER: 11, MSG_REMIND_ACPT_AND_NOTE: "AcceptAndNotify", MSG_REMIND_ACPT_NOT_NOTE: "AcceptNotNotify", MSG_REMIND_DISCARD: "Discard", GENDER_UNKNOWN: "Gender_Type_Unknown", GENDER_FEMALE: "Gender_Type_Female", GENDER_MALE: "Gender_Type_Male", KICKED_OUT_MULT_ACCOUNT: "multipleAccount", KICKED_OUT_MULT_DEVICE: "multipleDevice", KICKED_OUT_USERSIG_EXPIRED: "userSigExpired", KICKED_OUT_REST_API: "REST_API_Kick", ALLOW_TYPE_ALLOW_ANY: "AllowType_Type_AllowAny", ALLOW_TYPE_NEED_CONFIRM: "AllowType_Type_NeedConfirm", ALLOW_TYPE_DENY_ANY: "AllowType_Type_DenyAny", FORBID_TYPE_NONE: "AdminForbid_Type_None", FORBID_TYPE_SEND_OUT: "AdminForbid_Type_SendOut", JOIN_OPTIONS_FREE_ACCESS: "FreeAccess", JOIN_OPTIONS_NEED_PERMISSION: "NeedPermission", JOIN_OPTIONS_DISABLE_APPLY: "DisableApply", JOIN_STATUS_SUCCESS: "JoinedSuccess", JOIN_STATUS_ALREADY_IN_GROUP: "AlreadyInGroup", JOIN_STATUS_WAIT_APPROVAL: "WaitAdminApproval", INVITE_OPTIONS_DISABLE_INVITE: "DisableInvite", INVITE_OPTIONS_NEED_PERMISSION: "NeedPermission", INVITE_OPTIONS_FREE_ACCESS: "FreeAccess", GRP_PROFILE_OWNER_ID: "ownerID", GRP_PROFILE_CREATE_TIME: "createTime", GRP_PROFILE_LAST_INFO_TIME: "lastInfoTime", GRP_PROFILE_MEMBER_NUM: "memberNum", GRP_PROFILE_MAX_MEMBER_NUM: "maxMemberNum", GRP_PROFILE_JOIN_OPTION: "joinOption", GRP_PROFILE_INVITE_OPTION: "inviteOption", GRP_PROFILE_INTRODUCTION: "introduction", GRP_PROFILE_NOTIFICATION: "notification", GRP_PROFILE_MUTE_ALL_MBRS: "muteAllMembers", SNS_ADD_TYPE_SINGLE: "Add_Type_Single", SNS_ADD_TYPE_BOTH: "Add_Type_Both", SNS_DELETE_TYPE_SINGLE: "Delete_Type_Single", SNS_DELETE_TYPE_BOTH: "Delete_Type_Both", SNS_APPLICATION_TYPE_BOTH: "Pendency_Type_Both", SNS_APPLICATION_SENT_TO_ME: "Pendency_Type_ComeIn", SNS_APPLICATION_SENT_BY_ME: "Pendency_Type_SendOut", SNS_APPLICATION_AGREE: "Response_Action_Agree", SNS_APPLICATION_AGREE_AND_ADD: "Response_Action_AgreeAndAdd", SNS_CHECK_TYPE_BOTH: "CheckResult_Type_Both", SNS_CHECK_TYPE_SINGLE: "CheckResult_Type_Single", SNS_TYPE_NO_RELATION: "CheckResult_Type_NoRelation", SNS_TYPE_A_WITH_B: "CheckResult_Type_AWithB", SNS_TYPE_B_WITH_A: "CheckResult_Type_BWithA", SNS_TYPE_BOTH_WAY: "CheckResult_Type_BothWay", NET_STATE_CONNECTED: "connected", NET_STATE_CONNECTING: "connecting", NET_STATE_DISCONNECTED: "disconnected", MSG_AT_ALL: "__kImSDK_MesssageAtALL__", READ_ALL_C2C_MSG: "readAllC2CMessage", READ_ALL_GROUP_MSG: "readAllGroupMessage", READ_ALL_MSG: "readAllMessage", USER_STATUS_UNKNOWN: 0, USER_STATUS_ONLINE: 1, USER_STATUS_OFFLINE: 2, USER_STATUS_UNLOGINED: 3 }, S2 = function() {
        function e3() {
          o2(this, e3), this.cache = [], this.options = null;
        }
        return a2(e3, [{ key: "use", value: function(e4) {
          if ("function" != typeof e4)
            throw "middleware must be a function";
          return this.cache.push(e4), this;
        } }, { key: "next", value: function(e4) {
          if (this.middlewares && this.middlewares.length > 0)
            return this.middlewares.shift().call(this, this.options, this.next.bind(this));
        } }, { key: "run", value: function(e4) {
          return this.middlewares = this.cache.map(function(e5) {
            return e5;
          }), this.options = e4, this.next();
        } }]), e3;
      }(), L2 = function() {
        function e3() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
          o2(this, e3), this.high = t3, this.low = n3;
        }
        return a2(e3, [{ key: "equal", value: function(e4) {
          return null !== e4 && (this.low === e4.low && this.high === e4.high);
        } }, { key: "toString", value: function() {
          var e4 = Number(this.high).toString(16), t3 = Number(this.low).toString(16);
          if (t3.length < 8)
            for (var n3 = 8 - t3.length; n3; )
              t3 = "0" + t3, n3--;
          return e4 + t3;
        } }]), e3;
      }(), A2 = { TEST: { CHINA: { DEFAULT: "wss://wss-dev.tim.qq.com" }, OVERSEA: { DEFAULT: "wss://wss-dev.tim.qq.com" }, SINGAPORE: { DEFAULT: "wss://wsssgp-dev.im.qcloud.com" }, KOREA: { DEFAULT: "wss://wsskr-dev.im.qcloud.com" }, GERMANY: { DEFAULT: "wss://wssger-dev.im.qcloud.com" }, IND: { DEFAULT: "wss://wssind-dev.im.qcloud.com" }, JPN: { DEFAULT: "wss://wssjpn-dev.im.qcloud.com" }, USA: { DEFAULT: "wss://wssusa-dev.im.qcloud.com" } }, PRODUCTION: { CHINA: { DEFAULT: "wss://wss.im.qcloud.com", BACKUP: "wss://wss.tim.qq.com", STAT: "https://events.im.qcloud.com", ANYCAST: "wss://162.14.13.203" }, OVERSEA: { DEFAULT: "wss://wss.im.qcloud.com", BACKUP: "wss://wss.my-imcloud.com", STAT: "https://api.my-imcloud.com" }, SINGAPORE: { DEFAULT: "wss://wsssgp.im.qcloud.com", BACKUP: "wss://wsssgp.my-imcloud.com", STAT: "https://apisgp.my-imcloud.com" }, KOREA: { DEFAULT: "wss://wsskr.im.qcloud.com", BACKUP: "wss://wsskr.my-imcloud.com", STAT: "https://apikr.my-imcloud.com" }, GERMANY: { DEFAULT: "wss://wssger.im.qcloud.com", BACKUP: "wss://wssger.my-imcloud.com", STAT: "https://apiger.my-imcloud.com" }, IND: { DEFAULT: "wss://wssind.my-imcloud.com", BACKUP: "wss://wssind.im.qcloud.com", STAT: "https://apiind.my-imcloud.com" }, JPN: { DEFAULT: "wss://wssjpn.im.qcloud.com", BACKUP: "wss://wssjpn.my-imcloud.com", STAT: "https://apijpn.my-imcloud.com" }, USA: { DEFAULT: "wss://wssusa.im.qcloud.com", BACKUP: "wss://wssusa.my-imcloud.com", STAT: "https://apiusa.my-imcloud.com" } } }, R2 = { ANDROID: 2, IOS: 3, MAC: 4, WEB: 7, WX_MP: 8, QQ_MP: 9, TT_MP: 10, BAIDU_MP: 11, ALI_MP: 12, IPAD: 13, UNI_NATIVE_APP: 15 }, N2 = "1.7.3", O2 = 537048168, G2 = "CHINA", U2 = "OVERSEA", P2 = "SINGAPORE", b2 = "KOREA", w2 = "GERMANY", F2 = "IND", q2 = "JPN", x = "USA", V2 = { HOST: { CURRENT: { DEFAULT: "wss://wss.im.qcloud.com", STAT: "https://events.im.qcloud.com" }, setCurrent: function() {
        var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : G2;
        this.CURRENT = A2.PRODUCTION[e3];
      } }, NAME: { OPEN_IM: "openim", OPEN_IM_MSG_EXT: "openim_msg_ext_http_svc", GROUP: "group_open_http_svc", GROUP_AVCHATROOM: "group_open_avchatroom_http_svc", GROUP_COMMUNITY: "million_group_open_http_svc", GROUP_ATTR: "group_open_attr_http_svc", FRIEND: "sns", PROFILE: "profile", RECENT_CONTACT: "recentcontact", PIC: "openpic", BIG_GROUP_NO_AUTH: "group_open_http_noauth_svc", BIG_GROUP_LONG_POLLING: "group_open_long_polling_http_svc", BIG_GROUP_LONG_POLLING_NO_AUTH: "group_open_long_polling_http_noauth_svc", IM_OPEN_STAT: "imopenstat", WEB_IM: "webim", IM_COS_SIGN: "im_cos_sign_svr", CUSTOM_UPLOAD: "im_cos_msg", HEARTBEAT: "heartbeat", IM_OPEN_PUSH: "im_open_push", IM_OPEN_STATUS: "im_open_status", IM_LONG_MESSAGE: "im_long_msg", IM_CONFIG_MANAGER: "im_sdk_config_mgr", STAT_SERVICE: "StatSvc", OVERLOAD_PUSH: "OverLoadPush", IM_MSG_AUDIT_MGR: "im_msg_audit_mgr", TUIROOM_SVR: "tui_room_svr", IM_OPEN_TRANSLATE: "im_open_translate" }, CMD: { LOGIN: "wslogin", LOGOUT_LONG_POLL: "longpollinglogout", LOGOUT: "wslogout", HELLO: "wshello", STAT_BACKGROUND: "ws_stat_background", STAT_FOREGROUND: "ws_stat_foreground", SET_TOKEN: "ws_stat_settoken", PORTRAIT_GET: "portrait_get_all", PORTRAIT_SET: "portrait_set", GET_LONG_POLL_ID: "getlongpollingid", LONG_POLL: "longpolling", AVCHATROOM_LONG_POLL: "get_msg", ADD_FRIEND: "friend_add", UPDATE_FRIEND: "friend_update", GET_FRIEND_LIST: "friend_get", GET_FRIEND_PROFILE: "friend_get_specified", DELETE_FRIEND: "friend_delete", CHECK_FRIEND: "friend_check", GET_FRIEND_GROUP_LIST: "group_get", RESPOND_FRIEND_APPLICATION: "friend_response", GET_FRIEND_APPLICATION_LIST: "pendency_get", DELETE_FRIEND_APPLICATION: "pendency_delete", REPORT_FRIEND_APPLICATION: "pendency_report", GET_GROUP_APPLICATION: "get_pendency", CREATE_FRIEND_GROUP: "group_add", DELETE_FRIEND_GROUP: "group_delete", UPDATE_FRIEND_GROUP: "group_update", GET_BLACKLIST: "black_list_get", ADD_BLACKLIST: "black_list_add", DELETE_BLACKLIST: "black_list_delete", CREATE_GROUP: "create_group", GET_JOINED_GROUPS: "get_joined_group_list", SET_GROUP_ATTRIBUTES: "set_group_attr", MODIFY_GROUP_ATTRIBUTES: "modify_group_attr", DELETE_GROUP_ATTRIBUTES: "delete_group_attr", CLEAR_GROUP_ATTRIBUTES: "clear_group_attr", GET_GROUP_ATTRIBUTES: "get_group_attr", SEND_MESSAGE: "sendmsg", REVOKE_C2C_MESSAGE: "msgwithdraw", DELETE_C2C_MESSAGE: "delete_c2c_msg_ramble", MODIFY_C2C_MESSAGE: "modify_c2c_msg", MODIFY_C2C_MESSAGE_EXTENSIONS: "set_key_values", GET_C2C_MESSAGE_EXTENSIONS: "get_key_values", SEND_GROUP_MESSAGE: "send_group_msg", REVOKE_GROUP_MESSAGE: "group_msg_recall", DELETE_GROUP_MESSAGE: "delete_group_ramble_msg_by_seq", MODIFY_GROUP_MESSAGE: "modify_group_msg", MODIFY_GROUP_MESSAGE_EXTENSIONS: "group_set_key_values", GET_GROUP_MESSAGE_EXTENSIONS: "group_get_key_values", GET_GROUP_INFO: "get_group_self_member_info", GET_GROUP_MEMBER_INFO: "get_specified_group_member_info", GET_GROUP_MEMBER_LIST: "get_group_member_info", GET_AVCHATROOM_MEMBER_LIST: "get_members", MARK_AVCHATROOM_MEMBER_INFO: "modify_user_info", QUIT_GROUP: "quit_group", CHANGE_GROUP_OWNER: "change_group_owner", DESTROY_GROUP: "destroy_group", ADD_GROUP_MEMBER: "add_group_member", DELETE_GROUP_MEMBER: "delete_group_member", BAN_AVCHATROOM_MEMBER: "ban_group_member", SEARCH_GROUP_BY_ID: "get_group_public_info", APPLY_JOIN_GROUP: "apply_join_group", HANDLE_APPLY_JOIN_GROUP: "handle_apply_join_group", HANDLE_INVITE_JOIN_GROUP: "handle_invite_join_permission_group", HANDLE_GROUP_INVITATION: "handle_invite_join_group", MODIFY_GROUP_INFO: "modify_group_base_info", MODIFY_GROUP_MEMBER_INFO: "modify_group_member_info", DELETE_GROUP_SYSTEM_MESSAGE: "deletemsg", DELETE_GROUP_AT_TIPS: "deletemsg", GET_GROUP_NOTIFY: "get_group_notify", GET_CONVERSATION_LIST: "get", PAGING_GET_CONVERSATION_LIST: "page_get", DELETE_CONVERSATION: "batch_delete", CLEAR_HISTORY_MESSAGE: "clear_msg", PIN_CONVERSATION: "top", SET_CONVERSATION_CUSTOM_DATA: "mark_contact", MARK_CONVERSATION: "mark_contact", CREATE_CONVERSATION_GROUP: "create_contact_group", DELETE_CONVERSATION_GROUP: "del_contact_group", UPDATE_CONVERSATION_GROUP: "update_contact_group", GET_CONVERSATION_GROUP_LIST: "get_contact_group", GET_MESSAGES: "getmsg", GET_C2C_ROAM_MESSAGES: "getroammsg", SET_C2C_PEER_MUTE_NOTIFICATIONS: "set_c2c_peer_mute_notifications", GET_C2C_PEER_MUTE_NOTIFICATIONS: "get_c2c_peer_mute_notifications", GET_GROUP_ROAM_MESSAGES: "group_msg_get", GET_READ_RECEIPT: "get_group_msg_receipt", GET_READ_RECEIPT_DETAIL: "get_group_msg_receipt_detail", SEND_READ_RECEIPT: "group_msg_receipt", SEND_C2C_READ_RECEIPT: "c2c_msg_read_receipt", SET_C2C_MESSAGE_READ: "msgreaded", GET_PEER_READ_TIME: "get_peer_read_time", SET_GROUP_MESSAGE_READ: "msg_read_report", FILE_READ_AND_WRITE_AUTHKEY: "authkey", FILE_UPLOAD: "pic_up", COS_SIGN: "cos", COS_PRE_SIG: "pre_sig", VIDEO_COVER: "video_cover", TIM_WEB_REPORT_V2: "tim_web_report_v2", BIG_DATA_HALLWAY_AUTH_KEY: "authkey", GET_ONLINE_MEMBER_NUM: "get_online_member_num", ALIVE: "alive", MESSAGE_PUSH: "msg_push", MULTI_MESSAGE_PUSH: "multi_msg_push_ws", MESSAGE_PUSH_ACK: "ws_msg_push_ack", STATUS_FORCE_OFFLINE: "stat_forceoffline", DOWNLOAD_MERGER_MESSAGE: "get_relay_json_msg", UPLOAD_MERGER_MESSAGE: "save_relay_json_msg", FETCH_CLOUD_CONTROL_CONFIG: "fetch_config", PUSHED_CLOUD_CONTROL_CONFIG: "push_configv2", FETCH_COMMERCIAL_CONFIG: "fetch_imsdk_purchase_bitsv2", PUSHED_COMMERCIAL_CONFIG: "push_imsdk_purchase_bitsv2", KICK_OTHER: "KickOther", OVERLOAD_NOTIFY: "notify2", SET_ALL_MESSAGE_READ: "read_all_unread_msg", CREATE_TOPIC: "create_topic", DELETE_TOPIC: "destroy_topic", UPDATE_TOPIC_PROFILE: "modify_topic", GET_TOPIC_LIST: "get_topic", SET_SELF_STATUS: "ws_set_custom_status", GET_USER_STATUS: "ws_get_user_status", SUBSCRIBE_USER_STATUS: "ws_status_subscribe", UNSUBSCRIBE_USER_STATUS: "ws_status_unsubscribe", GET_RPOFANITY_LIST: "get_local_words", TRANSLATE_TEXT: "ws_batch_trans_text", UPDATE_GROUP_COUNTER: "update_group_counter", GET_GROUP_COUNTER: "get_group_counter" }, CHANNEL: { SOCKET: 1, XHR: 2, AUTO: 0 }, NAME_VERSION: { openim: "v4", group_open_http_svc: "v4", sns: "v4", profile: "v4", recentcontact: "v4", openpic: "v4", group_open_http_noauth_svc: "v4", group_open_long_polling_http_svc: "v4", group_open_long_polling_http_noauth_svc: "v4", imopenstat: "v4", im_cos_sign_svr: "v4", im_cos_msg: "v4", webim: "v4", im_open_push: "v4", im_open_status: "v4" } }, B2 = { SEARCH_MSG: new L2(0, Math.pow(2, 0)).toString(), SEARCH_GRP_SNS: new L2(0, Math.pow(2, 1)).toString(), AVCHATROOM_HISTORY_MSG: new L2(0, Math.pow(2, 2)).toString(), GRP_COMMUNITY: new L2(0, Math.pow(2, 3)).toString(), MSG_TO_SPECIFIED_GRP_MBR: new L2(0, Math.pow(2, 4)).toString(), AVCHATROOM_MBR_LIST: new L2(0, Math.pow(2, 6)).toString(), USER_STATUS: new L2(0, Math.pow(2, 7)).toString(), CONV_MARK: new L2(0, Math.pow(2, 9)).toString(), CONV_GROUP: new L2(0, Math.pow(2, 10)).toString(), AVCHATROOM_BAN_MBR: new L2(0, Math.pow(2, 11)).toString(), MSG_EXT: new L2(0, Math.pow(2, 13)).toString(), GRP_COUNTER: new L2(0, Math.pow(2, 15)).toString() }, H2 = "c2c_text_message", K2 = "c2c_custom_message", W2 = "group_text_message", Y2 = "group_custom_message", j2 = "user_profile", z2 = "group_profile", J2 = "group_member_profile";
      V2.HOST.setCurrent(G2);
      var X2 = "undefined" != typeof wx && "function" == typeof wx.getSystemInfoSync && Boolean(wx.getSystemInfoSync().fontSizeSetting), Z2 = X2 && "function" == typeof wx.createGamePortal, Q2 = "undefined" != typeof qq && "function" == typeof qq.getSystemInfoSync && Boolean(qq.getSystemInfoSync().fontSizeSetting), $2 = "undefined" != typeof tt && "function" == typeof tt.getSystemInfoSync && Boolean(tt.getSystemInfoSync().fontSizeSetting), ee2 = "undefined" != typeof swan && "function" == typeof swan.getSystemInfoSync && Boolean(swan.getSystemInfoSync().fontSizeSetting), te2 = "undefined" != typeof my && "function" == typeof my.getSystemInfoSync && Boolean(my.getSystemInfoSync().fontSizeSetting), ne2 = "undefined" != typeof jd && "function" == typeof jd.getSystemInfoSync, oe2 = "undefined" != typeof uni && "undefined" == typeof window && "function" == typeof requireNativePlugin, se2 = "undefined" != typeof uni, ae2 = X2 || Q2 || $2 || ee2 || te2 || oe2 || ne2, ie2 = ("undefined" != typeof uni || "undefined" != typeof window) && !ae2, re2 = Q2 ? qq : $2 ? tt : ee2 ? swan : te2 ? my : X2 ? wx : oe2 ? uni : ne2 ? jd : {}, ue2 = ie2 && window && window.navigator && window.navigator.userAgent || "", ce2 = /(micromessenger|webbrowser)/i.test(ue2), le2 = /AppleWebKit\/([\d.]+)/i.exec(ue2);
      le2 && parseFloat(le2.pop());
      var de2, pe2, ge2 = (de2 = "WEB", ce2 ? de2 = "WEB" : Q2 ? de2 = "QQ_MP" : $2 ? de2 = "TT_MP" : ee2 ? de2 = "BAIDU_MP" : te2 ? de2 = "ALI_MP" : X2 ? de2 = "WX_MP" : oe2 && (de2 = "UNI_NATIVE_APP"), R2[de2]), he2 = /iPad/i.test(ue2), _e2 = /iPhone/i.test(ue2) && !he2, fe2 = /iPod/i.test(ue2), ve2 = _e2 || he2 || fe2, me2 = (pe2 = ue2.match(/OS (\d+)_/i)) && pe2[1] ? pe2[1] : null, Me2 = /Android/i.test(ue2), ye2 = function() {
        var e3 = ue2.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
        if (!e3)
          return null;
        var t3 = e3[1] && parseFloat(e3[1]), n3 = e3[2] && parseFloat(e3[2]);
        return t3 && n3 ? parseFloat(e3[1] + "." + e3[2]) : t3 || null;
      }();
      !function() {
        var e3 = ue2.match(/Chrome\/(\d+)/);
        e3 && e3[1] && parseFloat(e3[1]);
      }();
      var Ie2 = /MSIE/.test(ue2) || ue2.indexOf("Trident") > -1 && ue2.indexOf("rv:11.0") > -1, Ce2 = function() {
        var e3 = /MSIE\s(\d+)\.\d/.exec(ue2), t3 = e3 && parseFloat(e3[1]);
        return !t3 && /Trident\/7.0/i.test(ue2) && /rv:11.0/.test(ue2) && (t3 = 11), t3;
      }();
      !function() {
        var e3 = ue2.match(/TBS\/(\d+)/i);
        if (e3 && e3[1])
          e3[1];
      }();
      var Te2, De2, ke2 = /Windows/i.test(ue2), Ee2 = /MAC OS X/i.test(ue2), Se2 = ie2 && "undefined" != typeof Worker && !Ie2, Le2 = Me2 || ve2, Ae2 = ie2 && void 0 !== window.tencent_cloud_im_csig_flutter_for_web_25F_cy;
      Te2 = "undefined" != typeof console ? console : "undefined" != typeof commonjsGlobal && commonjsGlobal.console ? commonjsGlobal.console : "undefined" != typeof window && window.console ? window.console : {};
      for (var Re2 = function() {
      }, Ne2 = ["assert", "clear", "count", "debug", "dir", "dirxml", "error", "group", "groupCollapsed", "groupEnd", "info", "log", "profile", "profileEnd", "table", "time", "timeEnd", "timeStamp", "trace", "warn"], Oe2 = Ne2.length; Oe2--; )
        De2 = Ne2[Oe2], console[De2] || (Te2[De2] = Re2);
      var Ge2 = Te2, Ue2 = 0, Pe2 = function() {
        return (/* @__PURE__ */ new Date()).getTime() + Ue2;
      }, be2 = function() {
        Ue2 = 0;
      }, we2 = function() {
        return Math.floor(Pe2() / 1e3);
      }, Fe2 = 0;
      function qe2() {
        return Kt2() ? "%c TIM %c" : "TIM";
      }
      function xe2() {
        var e3, t3 = ((e3 = /* @__PURE__ */ new Date()).setTime(Pe2()), e3);
        return t3.toLocaleTimeString("en-US", { hour12: false }) + "." + function(e4) {
          var t4;
          switch (e4.toString().length) {
            case 1:
              t4 = "00" + e4;
              break;
            case 2:
              t4 = "0" + e4;
              break;
            default:
              t4 = e4;
          }
          return t4;
        }(t3.getMilliseconds());
      }
      var Ve2 = { arguments2String: function(e3) {
        var t3 = "";
        if (1 === e3.length)
          t3 = e3[0];
        else
          for (var n3 = 0, o3 = e3.length; n3 < o3; n3++)
            rt2(e3[n3]) ? ct2(e3[n3]) ? t3 += gt2(e3[n3]) : t3 += JSON.stringify(e3[n3]) : t3 += e3[n3], t3 += " ";
        return t3;
      }, _exec: function(e3, t3) {
        Kt2() ? Ge2[e3](qe2(), "background:#0abf5b; padding:1px; border-radius:3px; color: #fff", "background:transparent", xe2(), t3) : Ge2[e3]("".concat(qe2(), " ").concat(xe2(), " ").concat(t3));
      }, d: function() {
        if (Fe2 <= -1) {
          var e3 = this.arguments2String(arguments);
          this._exec("debug", e3);
        }
      }, l: function() {
        if (Fe2 <= 0) {
          var e3 = this.arguments2String(arguments);
          this._exec("log", e3);
        }
      }, log: function() {
        if (Fe2 <= 0) {
          var e3 = this.arguments2String(arguments);
          this._exec("log", e3);
        }
      }, i: function() {
        if (Fe2 <= 1) {
          var e3 = this.arguments2String(arguments);
          this._exec("info", e3);
        }
      }, w: function() {
        if (Fe2 <= 2) {
          var e3 = this.arguments2String(arguments);
          this._exec("warn", e3);
        }
      }, e: function() {
        if (Fe2 <= 3) {
          var e3 = this.arguments2String(arguments);
          this._exec("error", e3);
        }
      }, setLevel: function(e3) {
        e3 < 4 && this._exec("log", "set level from " + Fe2 + " to " + e3), Fe2 = e3;
      }, getLevel: function() {
        return Fe2;
      } }, Be2 = { JPG: 1, JPEG: 1, GIF: 2, PNG: 3, BMP: 4, UNKNOWN: 255 }, He2 = { NICK: "Tag_Profile_IM_Nick", GENDER: "Tag_Profile_IM_Gender", BIRTHDAY: "Tag_Profile_IM_BirthDay", LOCATION: "Tag_Profile_IM_Location", SELFSIGNATURE: "Tag_Profile_IM_SelfSignature", ALLOWTYPE: "Tag_Profile_IM_AllowType", LANGUAGE: "Tag_Profile_IM_Language", AVATAR: "Tag_Profile_IM_Image", MESSAGESETTINGS: "Tag_Profile_IM_MsgSettings", ADMINFORBIDTYPE: "Tag_Profile_IM_AdminForbidType", LEVEL: "Tag_Profile_IM_Level", ROLE: "Tag_Profile_IM_Role" }, Ke2 = { UNKNOWN: "Gender_Type_Unknown", FEMALE: "Gender_Type_Female", MALE: "Gender_Type_Male" }, We2 = { NONE: "AdminForbid_Type_None", SEND_OUT: "AdminForbid_Type_SendOut" }, Ye2 = { NEED_CONFIRM: "AllowType_Type_NeedConfirm", ALLOW_ANY: "AllowType_Type_AllowAny", DENY_ANY: "AllowType_Type_DenyAny" }, je2 = "JoinedSuccess", ze2 = "WaitAdminApproval", Je2 = "@TGS#_", Xe2 = "@TOPIC#_", Ze2 = ["url"], Qe2 = function(e3) {
        return "map" === lt2(e3);
      }, $e2 = function(e3) {
        return "file" === lt2(e3);
      }, et2 = function(e3) {
        return null !== e3 && ("number" == typeof e3 && !isNaN(e3 - 0) || "object" === n2(e3) && e3.constructor === Number);
      }, nt2 = function(e3) {
        return "string" == typeof e3;
      }, ot2 = function(e3) {
        return null !== e3 && "object" === n2(e3);
      }, st2 = function(e3) {
        if ("object" !== n2(e3) || null === e3)
          return false;
        var t3 = Object.getPrototypeOf(e3);
        if (null === t3)
          return true;
        for (var o3 = t3; null !== Object.getPrototypeOf(o3); )
          o3 = Object.getPrototypeOf(o3);
        return t3 === o3;
      }, at2 = function(e3) {
        return "function" == typeof Array.isArray ? Array.isArray(e3) : "array" === lt2(e3);
      }, it2 = function(e3) {
        return void 0 === e3;
      }, rt2 = function(e3) {
        return at2(e3) || ot2(e3);
      }, ut2 = function(e3) {
        return "function" == typeof e3;
      }, ct2 = function(e3) {
        return e3 instanceof Error;
      }, lt2 = function(e3) {
        return Object.prototype.toString.call(e3).match(/^\[object (.*)\]$/)[1].toLowerCase();
      }, dt2 = function(e3) {
        if ("string" != typeof e3)
          return false;
        var t3 = e3[0];
        return !/[^a-zA-Z0-9]/.test(t3);
      };
      Date.now || (Date.now = function() {
        return (/* @__PURE__ */ new Date()).getTime();
      });
      var pt2 = function e3(t3, n3, o3, s3) {
        if (!rt2(t3) || !rt2(n3))
          return 0;
        for (var a3, i3 = 0, r3 = Object.keys(n3), u3 = 0, c3 = r3.length; u3 < c3; u3++)
          if (a3 = r3[u3], !(it2(n3[a3]) || o3 && o3.includes(a3)))
            if (rt2(t3[a3]) && rt2(n3[a3]))
              i3 += e3(t3[a3], n3[a3], o3, s3);
            else {
              if (s3 && s3.includes(n3[a3]))
                continue;
              t3[a3] !== n3[a3] && (t3[a3] = n3[a3], i3 += 1);
            }
        return i3;
      }, gt2 = function(e3) {
        return JSON.stringify(e3, ["message", "code"]);
      }, ht2 = function(e3) {
        if (0 === e3.length)
          return 0;
        for (var t3 = 0, n3 = 0, o3 = "undefined" != typeof document && void 0 !== document.characterSet ? document.characterSet : "UTF-8"; void 0 !== e3[t3]; )
          n3 += e3[t3++].charCodeAt[t3] <= 255 ? 1 : false === o3 ? 3 : 2;
        return n3;
      }, _t2 = function(e3) {
        var t3 = e3 || 99999999;
        return Math.round(Math.random() * t3);
      }, ft2 = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", vt2 = ft2.length, mt2 = function(e3, t3) {
        for (var n3 in e3)
          if (e3[n3] === t3)
            return true;
        return false;
      }, Mt2 = {}, yt2 = function(e3) {
        return -1 === e3.indexOf("http://") || -1 === e3.indexOf("https://") ? "https://" + e3 : e3.replace(/https|http/, "https");
      }, It2 = function e3(t3) {
        if (0 === Object.getOwnPropertyNames(t3).length)
          return /* @__PURE__ */ Object.create(null);
        var o3 = Array.isArray(t3) ? [] : /* @__PURE__ */ Object.create(null), s3 = "";
        for (var a3 in t3)
          null !== t3[a3] ? void 0 !== t3[a3] ? (s3 = n2(t3[a3]), ["string", "number", "function", "boolean"].indexOf(s3) >= 0 ? o3[a3] = t3[a3] : o3[a3] = e3(t3[a3])) : o3[a3] = void 0 : o3[a3] = null;
        return o3;
      };
      function Ct2(e3, t3) {
        if (!at2(e3) || !at2(t3))
          return false;
        var n3 = false;
        return t3.forEach(function(t4) {
          var o3 = t4.key, s3 = t4.value, a3 = e3.find(function(e4) {
            return e4.key === o3;
          });
          a3 ? a3.value !== s3 && (a3.value = s3, n3 = true) : (e3.push({ key: o3, value: s3 }), n3 = true);
        }), n3;
      }
      var Tt2 = function(e3) {
        return e3 === E2.GRP_AVCHATROOM;
      }, Dt2 = function(e3) {
        var t3 = e3.type, n3 = e3.groupID;
        return t3 === E2.GRP_COMMUNITY || "".concat(n3).startsWith(Je2) && !"".concat(n3).includes(Xe2);
      }, kt2 = function(e3) {
        return "".concat(e3).startsWith(Je2) && "".concat(e3).includes(Xe2);
      }, Et2 = function(e3) {
        return nt2(e3) && e3.slice(0, 3) === E2.CONV_C2C;
      }, St2 = function(e3) {
        return nt2(e3) && e3.slice(0, 5) === E2.CONV_GROUP;
      }, Lt2 = function(e3) {
        return nt2(e3) && e3 === E2.CONV_SYSTEM;
      };
      function At2(e3, t3) {
        var n3 = {};
        return Object.keys(e3).forEach(function(o3) {
          n3[o3] = t3(e3[o3], o3);
        }), n3;
      }
      function Rt2(e3) {
        return ae2 ? new Promise(function(t3, n3) {
          re2.getImageInfo({ src: e3, success: function(e4) {
            t3({ width: e4.width, height: e4.height });
          }, fail: function() {
            t3({ width: 0, height: 0 });
          } });
        }) : Ie2 && 9 === Ce2 ? Promise.resolve({ width: 0, height: 0 }) : new Promise(function(t3, n3) {
          var o3 = new Image();
          o3.onload = function() {
            t3({ width: this.width, height: this.height }), o3 = null;
          }, o3.onerror = function() {
            t3({ width: 0, height: 0 }), o3 = null;
          }, o3.src = e3;
        });
      }
      function Nt2() {
        function e3() {
          return (65536 * (1 + Math.random()) | 0).toString(16).substring(1);
        }
        return "".concat(e3() + e3()).concat(e3()).concat(e3()).concat(e3()).concat(e3()).concat(e3()).concat(e3());
      }
      function Ot2() {
        var e3 = "unknown";
        if (Ee2 && (e3 = "mac"), ke2 && (e3 = "windows"), ve2 && (e3 = "ios"), Me2 && (e3 = "android"), ae2)
          try {
            var t3 = re2.getSystemInfoSync().platform;
            void 0 !== t3 && (e3 = t3);
          } catch (n3) {
          }
        return e3;
      }
      function Gt2(e3, t3) {
        e3 = e3.split("."), t3 = t3.split(".");
        for (var n3 = Math.max(e3.length, t3.length); e3.length < n3; )
          e3.push("0");
        for (; t3.length < n3; )
          t3.push("0");
        for (var o3 = 0; o3 < n3; o3++) {
          var s3 = parseInt(e3[o3]), a3 = parseInt(t3[o3]);
          if (s3 > a3)
            return 1;
          if (s3 < a3)
            return -1;
        }
        return 0;
      }
      function Ut2(e3) {
        var t3 = e3.originUrl, n3 = void 0 === t3 ? void 0 : t3, o3 = e3.originWidth, s3 = e3.originHeight, a3 = e3.min, i3 = void 0 === a3 ? 198 : a3, r3 = parseInt(o3), u3 = parseInt(s3), c3 = { url: void 0, width: 0, height: 0 };
        if ((r3 <= u3 ? r3 : u3) <= i3)
          c3.url = n3, c3.width = r3, c3.height = u3;
        else {
          u3 <= r3 ? (c3.width = Math.ceil(r3 * i3 / u3), c3.height = i3) : (c3.width = i3, c3.height = Math.ceil(u3 * i3 / r3));
          var l3 = n3 && n3.indexOf("?") > -1 ? "".concat(n3, "&") : "".concat(n3, "?");
          c3.url = "".concat(l3, 198 === i3 ? "imageView2/3/w/198/h/198" : "imageView2/3/w/720/h/720");
        }
        return it2(n3) ? (c3.url, g2(c3, Ze2)) : c3;
      }
      function Pt2(e3) {
        var t3 = e3[2];
        e3[2] = e3[1], e3[1] = t3;
        for (var n3 = 0; n3 < e3.length; n3++)
          e3[n3].setType(n3);
      }
      function bt2(e3) {
        var t3 = e3.servcmd;
        return t3.slice(t3.indexOf(".") + 1);
      }
      function wt2(e3, t3) {
        return Math.round(Number(e3) * Math.pow(10, t3)) / Math.pow(10, t3);
      }
      function Ft2(e3, t3) {
        return e3.includes(t3);
      }
      function qt2(e3, t3) {
        return e3.includes(t3);
      }
      function xt2(e3) {
        return e3.split(Xe2)[0];
      }
      var Vt2 = function(e3, t3, n3) {
        if (it2(t3))
          return "";
        switch (e3) {
          case E2.MSG_TEXT:
            return t3.text;
          case E2.MSG_IMAGE:
            return n3 ? "[Image]" : "[图片]";
          case E2.MSG_LOCATION:
            return n3 ? "[Location]" : "[位置]";
          case E2.MSG_AUDIO:
            return n3 ? "[Voice]" : "[语音]";
          case E2.MSG_VIDEO:
            return n3 ? "[Video]" : "[视频]";
          case E2.MSG_FILE:
            return n3 ? "[File]" : "[文件]";
          case E2.MSG_CUSTOM:
            return n3 ? "[Custom Messages]" : "[自定义消息]";
          case E2.MSG_GRP_TIP:
            return n3 ? "[Group Notification]" : "[群提示消息]";
          case E2.MSG_GRP_SYS_NOTICE:
            return n3 ? "[Group System Message]" : "[群系统通知]";
          case E2.MSG_FACE:
            return n3 ? "[Animated Sticker]" : "[动画表情]";
          case E2.MSG_MERGER:
            return n3 ? "[Chat Record]" : "[聊天记录]";
          default:
            return "";
        }
      };
      function Bt2(e3) {
        return e3 === E2.MSG_TEXT || e3 === E2.MSG_CUSTOM || e3 === E2.MSG_LOCATION || e3 === E2.MSG_FACE;
      }
      function Ht2(e3) {
        var t3 = [];
        if (!nt2(e3))
          return t3;
        var n3 = e3.length;
        if (0 === n3)
          return t3;
        for (var o3 = n3 - 1; o3 >= 0; o3--)
          "1" === e3[o3] && t3.push(Math.pow(2, n3 - o3 - 1));
        return t3;
      }
      function Kt2() {
        return !Ie2 && !ae2;
      }
      function Wt2(e3) {
        return "the length of userIDList cannot exceed ".concat(e3);
      }
      function Yt2(e3, t3) {
        if (e3) {
          var n3 = e3;
          return t3 && (e3.startsWith("http://") ? n3 = e3.replace(/^http:\/\/[^/]+/, t3) : e3.startsWith("https://") && (n3 = e3.replace(/^https:\/\/[^/]+/, t3))), n3;
        }
      }
      var jt2 = Object.prototype.hasOwnProperty;
      function zt2(e3) {
        if (null == e3)
          return true;
        if ("boolean" == typeof e3)
          return false;
        if ("number" == typeof e3)
          return 0 === e3;
        if ("string" == typeof e3)
          return 0 === e3.length;
        if ("function" == typeof e3)
          return 0 === e3.length;
        if (Array.isArray(e3))
          return 0 === e3.length;
        if (e3 instanceof Error)
          return "" === e3.message;
        if (st2(e3)) {
          for (var t3 in e3)
            if (jt2.call(e3, t3))
              return false;
          return true;
        }
        return !(!Qe2(e3) && (n3 = e3, "set" !== lt2(n3)) && !$e2(e3)) && 0 === e3.size;
        var n3;
      }
      function Jt2(e3, t3, n3) {
        if (void 0 === t3)
          return true;
        var o3 = true;
        if (st2(t3))
          Object.keys(t3).forEach(function(s4) {
            var a3 = 1 === e3.length ? e3[0][s4] : void 0;
            o3 = !!Xt2(a3, t3[s4], n3, s4) && o3;
          });
        else if (at2(t3))
          for (var s3 = 0; s3 < t3.length; s3++)
            o3 = !!Xt2(e3[s3], t3[s3], n3, t3[s3].name) && o3;
        if (o3)
          return o3;
        throw new Error("Params validate failed.");
      }
      function Xt2(e3, t3, n3, o3) {
        if (void 0 === t3)
          return true;
        var s3 = true;
        if (t3.required && zt2(e3) && (Ve2.e("[".concat(n3, '] Missing required params: "').concat(o3, '".')), s3 = false), !zt2(e3)) {
          var a3 = lt2(e3), i3 = t3.type.toLowerCase();
          a3 !== i3 && ("asyncfunction" === a3 && "function" === i3 || (Ve2.e("[".concat(n3, '] Invalid params: type check failed for "').concat(o3, '".Expected ').concat(t3.type, ".")), s3 = false));
        }
        return t3.validator && !t3.validator(e3) && (Ve2.e("[".concat(n3, "] Invalid params: custom validator check failed for params.")), s3 = false), s3;
      }
      var Zt2, Qt2 = { UNSEND: "unSend", SUCCESS: "success", FAIL: "fail" }, $t2 = { NOT_START: "notStart", PENDING: "pending", RESOLVED: "resolved", REJECTED: "rejected" }, en2 = function(e3) {
        if (!e3)
          return false;
        if (Et2(e3) || St2(e3) || Lt2(e3))
          return true;
        var t3 = Sn("InvalidConversationID", e3);
        return t3 && Ve2.w(t3), false;
      }, tn = function(e3) {
        "" !== e3.desc && "" !== Sn("API_REFER") && Ve2.w("[".concat(e3.api, "] | ").concat(e3.param, " | ").concat(e3.desc, ", ").concat(Sn("API_REFER")).concat(e3.api));
      }, nn2 = function() {
        return Sn("StringRequiredLog");
      }, on = function(e3) {
        return Sn("NonEmptyStringRequiredLog", e3);
      }, sn = function() {
        return Sn("NumberRequiredLog");
      }, an = function() {
        return Sn("UndefinedNotAllowedLog");
      }, rn = function() {
        return Sn("FileRequiredLog");
      }, un = function() {
        return Sn("FunctionRequiredLog");
      }, cn = function() {
        return Sn("ArrayRequiredLog");
      }, ln = function() {
        return Sn("NonEmptyArrayLog");
      }, dn = function() {
        return Sn("CallbackMissingLog");
      }, pn = function() {
        return Sn("PositiveIntegerRequiredLog");
      }, gn = function(e3, t3) {
        return Sn("StringNotLongerThanLog", e3, t3);
      }, hn = function(e3, t3) {
        return Sn("NumberLessThanLog", e3, t3);
      }, _n = function(e3) {
        return Sn("KeyValueStringRequiredLog", e3);
      }, fn = function() {
        return Sn("PlainObjectRequiredLog");
      }, vn = function() {
        return Sn("NonEmptyContentRequiredLog");
      }, mn = function() {
        return Sn("FileNotSelectedLog");
      }, Mn = function() {
        return Sn("MessageInstanceRequiredLog");
      }, yn = function() {
        return Sn("NonAnonymousFunctionLog");
      }, In = function() {
        return Sn("MessageExtensionNotAvailableLog");
      }, Cn = { type: "String", required: true }, Tn = { type: "Array", required: true }, Dn = { type: "Object", required: true }, kn = { type: "Boolean", required: true }, En = { type: "number", required: true }, Sn = null, Ln = { hookGetAPITips: function(e3) {
        Sn = e3;
      }, login: { userID: Cn, userSig: Cn }, addToBlacklist: { userIDList: Tn }, removeFromBlacklist: { userIDList: Tn }, on: [{ name: "eventName", type: "String", validator: function(e3) {
        return "string" == typeof e3 && 0 !== e3.length || (tn({ api: "on", param: "eventName", desc: on("eventName") }), false);
      } }, { name: "handler", type: "Function", validator: function(e3) {
        return "function" != typeof e3 ? (tn({ api: "on", param: "handler", desc: un() }), false) : ("" === e3.name && tn({ api: "on", param: "handler", desc: yn() }), true);
      } }], once: [{ name: "eventName", type: "String", validator: function(e3) {
        return "string" == typeof e3 && 0 !== e3.length || (tn({ api: "once", param: "eventName", desc: on("eventName") }), false);
      } }, { name: "handler", type: "Function", validator: function(e3) {
        return "function" != typeof e3 ? (tn({ api: "once", param: "handler", desc: un() }), false) : ("" === e3.name && tn({ api: "once", param: "handler", desc: yn() }), true);
      } }], off: [{ name: "eventName", type: "String", validator: function(e3) {
        return "string" == typeof e3 && 0 !== e3.length || (tn({ api: "off", param: "eventName", desc: on("eventName") }), false);
      } }, { name: "handler", type: "Function", validator: function(e3) {
        return "function" != typeof e3 ? (tn({ api: "off", param: "handler", desc: un() }), false) : ("" === e3.name && tn({ api: "off", param: "handler", desc: yn() }), true);
      } }], sendMessage: [t2({ name: "message" }, Dn)], setMessageExtensions: [t2(t2({ name: "message" }, Dn), {}, { validator: function(e3) {
        return e3.status === Qt2.SUCCESS && true === e3.isSupportExtension || (tn({ api: "setMessageExtensions", param: "message", desc: In() }), false);
      } }), t2({ name: "extensions" }, Tn)], getMessageExtensions: [t2(t2({ name: "message" }, Dn), {}, { validator: function(e3) {
        return e3.status === Qt2.SUCCESS && true === e3.isSupportExtension || (tn({ api: "getMessageExtensions", param: "message", desc: In() }), false);
      } })], deleteMessageExtensions: [t2(t2({ name: "message" }, Dn), {}, { validator: function(e3) {
        return e3.status === Qt2.SUCCESS && true === e3.isSupportExtension || (tn({ api: "deleteMessageExtensions", param: "message", desc: In() }), false);
      } })], getMessageList: { conversationID: t2(t2({}, Cn), {}, { validator: function(e3) {
        return en2(e3);
      } }), nextReqMessageID: { type: "String" }, count: { type: "Number", validator: function(e3) {
        return !(!it2(e3) && !/^[1-9][0-9]*$/.test(e3)) || (tn({ api: "getMessageList", param: "count", desc: pn() }), false);
      } } }, getMessageListHopping: { conversationID: t2(t2({}, Cn), {}, { validator: function(e3) {
        return en2(e3);
      } }), sequence: { type: "Number" }, time: { type: "Number" }, direction: { type: "Number", validator: function(e3) {
        return !(!it2(e3) && 0 !== e3 && 1 !== e3) || (tn({ api: "getMessageListHopping", param: "direction", desc: Sn("0Or1RequiredLog") }), false);
      } }, count: { type: "Number", validator: function(e3) {
        return !(!it2(e3) && !/^[1-9][0-9]*$/.test(e3)) || (tn({ api: "getMessageListHopping", param: "count", desc: pn }), false);
      } } }, setMessageRead: { conversationID: t2(t2({}, Cn), {}, { validator: function(e3) {
        return en2(e3);
      } }) }, setAllMessageRead: { scope: { type: "String", required: false, validator: function(e3) {
        return !e3 || -1 !== [E2.READ_ALL_C2C_MSG, E2.READ_ALL_GROUP_MSG, E2.READ_ALL_MSG].indexOf(e3) || (tn({ api: "setAllMessageRead", param: "scope", desc: "TIM.TYPES.READ_ALL_C2C_MSG or TIM.TYPES.READ_ALL_GROUP_MSG or TIM.TYPES.READ_ALL_MSG required" }), false);
      } } }, getConversationProfile: [t2(t2({ name: "conversationID" }, Cn), {}, { validator: function(e3) {
        return en2(e3);
      } })], clearHistoryMessage: [t2(t2({ name: "conversationID" }, Cn), {}, { validator: function(e3) {
        return en2(e3);
      } })], pinConversation: { conversationID: t2(t2({}, Cn), {}, { validator: function(e3) {
        return en2(e3);
      } }), isPinned: t2({}, kn) }, setConversationCustomData: { conversationIDList: t2({}, Tn), customData: { type: "String", validator: function(e3) {
        return nt2(e3) ? !(e3.length > 256) || (tn({ api: "setConversationCustomData", param: "customData", desc: gn("customData", 256) }), false) : (tn({ api: "setConversationCustomData", param: "customData", desc: nn2() }), false);
      } } }, markConversation: { conversationIDList: t2({}, Tn), markType: { type: "number", validator: function(e3) {
        return et2(e3) ? e3 <= 0 ? (tn({ api: "markConversation", param: "markType", desc: (t3 = "markType", n3 = 0, Sn("NumberGreaterThanLog", t3, n3)) }), false) : !(e3 >= Math.pow(2, 64)) || (tn({ api: "markConversation", param: "markType", desc: hn("markType", "Math.pow(2,64)") }), false) : (tn({ api: "markConversation", param: "markType", desc: sn() }), false);
        var t3, n3;
      } }, enableMark: t2({}, kn) }, createConversationGroup: { conversationIDList: t2({}, Tn), groupName: t2(t2({}, Cn), {}, { validator: function(e3) {
        return !!e3 && (!(e3.length > 32) || (tn({ api: "createConversationGroup", param: "groupName", desc: gn("groupName", 32) }), false));
      } }) }, deleteConversationGroup: [t2({ name: "groupName" }, Cn)], renameConversationGroup: { oldName: t2({}, Cn), newName: t2(t2({}, Cn), {}, { validator: function(e3) {
        return !!e3 && (!(e3.length > 32) || (tn({ api: "renameConversationGroup", param: "newName", desc: gn("newName", 32) }), false));
      } }) }, addConversationsToGroup: { conversationIDList: t2({}, Tn), groupName: t2({}, Cn) }, deleteConversationsFromGroup: { conversationIDList: t2({}, Tn), groupName: t2({}, Cn) }, getGroupList: { groupProfileFilter: { type: "Array" } }, getGroupProfile: { groupID: Cn, groupCustomFieldFilter: { type: "Array" }, memberCustomFieldFilter: { type: "Array" } }, getGroupProfileAdvance: { groupIDList: Tn }, createGroup: { name: Cn }, joinGroup: { groupID: Cn, type: { type: "String" }, applyMessage: { type: "String" } }, quitGroup: [t2({ name: "groupID" }, Cn)], handleApplication: { message: Dn, handleAction: Cn, handleMessage: { type: "String" } }, changeGroupOwner: { groupID: Cn, newOwnerID: Cn }, updateGroupProfile: { groupID: Cn, muteAllMembers: { type: "Boolean" } }, dismissGroup: [t2({ name: "groupID" }, Cn)], searchGroupByID: [t2({ name: "groupID" }, Cn)], initGroupAttributes: { groupID: Cn, groupAttributes: t2(t2({}, Dn), {}, { validator: function(e3) {
        var t3 = true;
        return Object.keys(e3).forEach(function(n3) {
          if (!nt2(e3[n3]))
            return tn({ api: "initGroupAttributes", param: "groupAttributes", desc: _n("value") }), t3 = false;
        }), t3;
      } }) }, setGroupAttributes: { groupID: Cn, groupAttributes: t2(t2({}, Dn), {}, { validator: function(e3) {
        var t3 = true;
        return Object.keys(e3).forEach(function(n3) {
          if (!nt2(e3[n3]))
            return tn({ api: "setGroupAttributes", param: "groupAttributes", desc: _n("value") }), t3 = false;
        }), t3;
      } }) }, deleteGroupAttributes: { groupID: Cn, keyList: { type: "Array", validator: function(e3) {
        if (it2(e3) || !at2(e3))
          return tn({ api: "deleteGroupAttributes", param: "keyList", desc: cn() }), false;
        if (!zt2(e3)) {
          var t3 = true;
          return e3.forEach(function(e4) {
            if (!nt2(e4))
              return tn({ api: "deleteGroupAttributes", param: "keyList", desc: Sn("StringArrayRequiredLog") }), t3 = false;
          }), t3;
        }
        return true;
      } } }, getGroupAttributes: { groupID: Cn, keyList: { type: "Array", validator: function(e3) {
        if (it2(e3) || !at2(e3))
          return tn({ api: "getGroupAttributes", param: "keyList", desc: cn() }), false;
        if (!zt2(e3)) {
          var t3 = true;
          return e3.forEach(function(e4) {
            if (!nt2(e4))
              return tn({ api: "getGroupAttributes", param: "keyList", desc: _n("key") }), t3 = false;
          }), t3;
        }
        return true;
      } } }, setGroupCounters: { groupID: Cn, counters: Dn }, increaseGroupCounter: { groupID: Cn, key: Cn, value: En }, decreaseGroupCounter: { groupID: Cn, key: Cn, value: En }, getGroupCounters: { groupID: Cn }, getGroupMemberList: { groupID: Cn, count: { type: "Number" } }, getGroupMemberProfile: { groupID: Cn, userIDList: Tn, memberCustomFieldFilter: { type: "Array" } }, addGroupMember: { groupID: Cn, userIDList: Tn }, setGroupMemberRole: { groupID: Cn, userID: Cn, role: Cn }, setGroupMemberMuteTime: { groupID: Cn, userID: Cn, muteTime: { type: "Number", validator: function(e3) {
        return e3 >= 0;
      } } }, setGroupMemberNameCard: { groupID: Cn, userID: { type: "String" }, nameCard: { type: "String", validator: function(e3) {
        return nt2(e3) ? (e3.length, true) : (tn({ api: "setGroupMemberNameCard", param: "nameCard", desc: nn2() }), false);
      } } }, setGroupMemberCustomField: { groupID: Cn, userID: { type: "String" }, memberCustomField: Tn }, deleteGroupMember: { groupID: Cn }, markGroupMemberList: { groupID: Cn, markType: { type: "number", validator: function(e3) {
        return et2(e3) ? !(e3 < 1e3) || (tn({ api: "markGroupMemberList", param: "markType", desc: (t3 = "markType", n3 = 1e3, Sn("NumberGreaterOrEqualLog", t3, n3)) }), false) : (tn({ api: "markGroupMemberList", param: "markType", desc: sn() }), false);
        var t3, n3;
      } }, userIDList: t2({}, Tn), enableMark: t2({}, kn) }, createTextMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        return st2(e3) ? nt2(e3.text) ? 0 !== e3.text.length || (tn({ api: "createTextMessage", param: "payload.text", desc: vn() }), false) : (tn({ api: "createTextMessage", param: "payload.text", desc: nn2() }), false) : (tn({ api: "createTextMessage", param: "payload", desc: fn() }), false);
      } }) }, createTextAtMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        return st2(e3) ? nt2(e3.text) ? 0 === e3.text.length ? (tn({ api: "createTextAtMessage", param: "payload.text", desc: vn() }), false) : !(e3.atUserList && !at2(e3.atUserList)) || (tn({ api: "createTextAtMessage", param: "payload.atUserList", desc: cn() }), false) : (tn({ api: "createTextAtMessage", param: "payload.text", desc: nn2() }), false) : (tn({ api: "createTextAtMessage", param: "payload", desc: fn() }), false);
      } }) }, createCustomMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        return st2(e3) ? e3.data && !nt2(e3.data) ? (tn({ api: "createCustomMessage", param: "payload.data", desc: nn2() }), false) : e3.description && !nt2(e3.description) ? (tn({ api: "createCustomMessage", param: "payload.description", desc: nn2() }), false) : !(e3.extension && !nt2(e3.extension)) || (tn({ api: "createCustomMessage", param: "payload.extension", desc: nn2() }), false) : (tn({ api: "createCustomMessage", param: "payload", desc: fn() }), false);
      } }) }, createImageMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        if (!st2(e3))
          return tn({ api: "createImageMessage", param: "payload", desc: fn() }), false;
        if (it2(e3.file))
          return tn({ api: "createImageMessage", param: "payload.file", desc: an() }), false;
        if (ie2) {
          if (!(e3.file instanceof HTMLInputElement || $e2(e3.file)))
            return st2(e3.file) && "undefined" != typeof uni ? 0 !== e3.file.tempFilePaths.length && 0 !== e3.file.tempFiles.length || (tn({ api: "createImageMessage", param: "payload.file", desc: mn() }), false) : (tn({ api: "createImageMessage", param: "payload.file", desc: rn() }), false);
          if (e3.file instanceof HTMLInputElement && 0 === e3.file.files.length)
            return tn({ api: "createImageMessage", param: "payload.file", desc: mn() }), false;
        }
        return true;
      }, onProgress: { type: "Function", required: false, validator: function(e3) {
        return it2(e3) && tn({ api: "createImageMessage", param: "onProgress", desc: dn() }), true;
      } } }) }, createAudioMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        return !!st2(e3) || (tn({ api: "createAudioMessage", param: "payload", desc: fn() }), false);
      } }), onProgress: { type: "Function", required: false, validator: function(e3) {
        return it2(e3) && tn({ api: "createAudioMessage", param: "onProgress", desc: dn() }), true;
      } } }, createVideoMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        if (!st2(e3))
          return tn({ api: "createVideoMessage", param: "payload", desc: fn() }), false;
        if (it2(e3.file))
          return tn({ api: "createVideoMessage", param: "payload.file", desc: an() }), false;
        if (ie2) {
          if (!(e3.file instanceof HTMLInputElement || $e2(e3.file)))
            return st2(e3.file) && "undefined" != typeof uni ? !!$e2(e3.file.tempFile) || (tn({ api: "createVideoMessage", param: "payload.file", desc: mn() }), false) : (tn({ api: "createVideoMessage", param: "payload.file", desc: rn() }), false);
          if (e3.file instanceof HTMLInputElement && 0 === e3.file.files.length)
            return tn({ api: "createVideoMessage", param: "payload.file", desc: mn() }), false;
        }
        return true;
      } }), onProgress: { type: "Function", required: false, validator: function(e3) {
        return it2(e3) && tn({ api: "createVideoMessage", param: "onProgress", desc: dn() }), true;
      } } }, createFaceMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        return st2(e3) ? et2(e3.index) ? !!nt2(e3.data) || (tn({ api: "createFaceMessage", param: "payload.data", desc: nn2() }), false) : (tn({ api: "createFaceMessage", param: "payload.index", desc: sn() }), false) : (tn({ api: "createFaceMessage", param: "payload", desc: fn() }), false);
      } }) }, createFileMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        if (!st2(e3))
          return tn({ api: "createFileMessage", param: "payload", desc: fn() }), false;
        if (it2(e3.file))
          return tn({ api: "createFileMessage", param: "payload.file", desc: an() }), false;
        if (ie2) {
          if (!(e3.file instanceof HTMLInputElement || $e2(e3.file)))
            return st2(e3.file) && "undefined" != typeof uni ? 0 !== e3.file.tempFilePaths.length && 0 !== e3.file.tempFiles.length || (tn({ api: "createFileMessage", param: "payload.file", desc: mn() }), false) : (tn({ api: "createFileMessage", param: "payload.file", desc: rn() }), false);
          if (e3.file instanceof HTMLInputElement && 0 === e3.file.files.length)
            return tn({ api: "createFileMessage", param: "payload.file", desc: mn() }), false;
        }
        return true;
      } }), onProgress: { type: "Function", required: false, validator: function(e3) {
        return it2(e3) && tn({ api: "createFileMessage", param: "onProgress", desc: dn() }), true;
      } } }, createLocationMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        return st2(e3) ? nt2(e3.description) ? et2(e3.longitude) ? !!et2(e3.latitude) || (tn({ api: "createLocationMessage", param: "payload.latitude", desc: sn() }), false) : (tn({ api: "createLocationMessage", param: "payload.longitude", desc: sn() }), false) : (tn({ api: "createLocationMessage", param: "payload.description", desc: nn2() }), false) : (tn({ api: "createLocationMessage", param: "payload", desc: fn() }), false);
      } }) }, createMergerMessage: { to: Cn, conversationType: Cn, payload: t2(t2({}, Dn), {}, { validator: function(e3) {
        if (zt2(e3.messageList))
          return tn({ api: "createMergerMessage", param: "payload.messageList", desc: ln() }), false;
        if (zt2(e3.compatibleText))
          return tn({ api: "createMergerMessage", param: "payload.compatibleText", desc: on("compatibleText") }), false;
        var t3 = false;
        return e3.messageList.forEach(function(e4) {
          e4.status === Qt2.FAIL && (t3 = true);
        }), !t3 || (tn({ api: "createMergerMessage", param: "payload.messageList", desc: Sn("MergeFailedMessageLog") }), false);
      } }) }, revokeMessage: [t2(t2({ name: "message" }, Dn), {}, { validator: function(e3) {
        return zt2(e3) ? (tn({ api: "revokeMessage", param: "message", desc: Mn() }), false) : e3.conversationType === E2.CONV_SYSTEM ? (tn({ api: "revokeMessage", param: "message", desc: Sn("MessageCanBeRevokedDesc") }), false) : true !== e3.isRevoked || (tn({ api: "revokeMessage", param: "message", desc: Sn("MessageRevokedLog") }), false);
      } })], deleteMessage: [t2(t2({ name: "messageList" }, Tn), {}, { validator: function(e3) {
        return !zt2(e3) || (tn({ api: "deleteMessage", param: "messageList", desc: ln() }), false);
      } })], translateText: { sourceTextList: Tn, sourceLanguage: Cn, targetLanguage: Cn }, modifyMessage: [t2(t2({ name: "message" }, Dn), {}, { validator: function(e3) {
        return zt2(e3) ? (tn({ api: "modifyMessage", param: "message", desc: Mn() }), false) : e3.conversationType === E2.CONV_SYSTEM ? (tn({ api: "modifyMessage", param: "message", desc: Sn("MessageCanBeModifiedLog") }), false) : true !== e3._onlineOnlyFlag || (tn({ api: "modifyMessage", param: "message", desc: Sn("OnlineMessageNotSupportLog") }), false);
      } })], getUserProfile: { userIDList: { type: "Array", validator: function(e3) {
        return at2(e3) ? (0 === e3.length && tn({ api: "getUserProfile", param: "userIDList", desc: ln() }), true) : (tn({ api: "getUserProfile", param: "userIDList", desc: cn() }), false);
      } } }, updateMyProfile: { profileCustomField: { type: "Array", validator: function(e3) {
        return !!it2(e3) || (!!at2(e3) || (tn({ api: "updateMyProfile", param: "profileCustomField", desc: cn() }), false));
      } } }, setSelfStatus: { customStatus: { type: "String", validator: function(e3) {
        return !!nt2(e3) || (tn({ api: "setSelfStatus", param: "customStatus", desc: nn2() }), false);
      } } }, getUserStatus: { userIDList: { type: "Array", validator: function(e3) {
        return at2(e3) ? 0 !== e3.length || (tn({ api: "getUserStatus", param: "userIDList", desc: ln() }), false) : (tn({ api: "getUserStatus", param: "userIDList", desc: cn() }), false);
      } } }, subscribeUserStatus: { userIDList: { type: "Array", validator: function(e3) {
        return at2(e3) ? 0 !== e3.length || (tn({ api: "subscribeUserStatus", param: "userIDList", desc: ln() }), false) : (tn({ api: "subscribeUserStatus", param: "userIDList", desc: cn() }), false);
      } } }, unsubscribeUserStatus: { userIDList: { type: "Array", validator: function(e3) {
        return !e3 || (!!at2(e3) || (tn({ api: "subscribeUserStatus", param: "userIDList", desc: cn() }), false));
      } } }, addFriend: { to: Cn, source: { type: "String", required: true, validator: function(e3) {
        return !!e3 && (e3.startsWith("AddSource_Type_") ? !(e3.replace("AddSource_Type_", "").length > 8) || (tn({ api: "addFriend", param: "source", desc: gn("keyword", 8) }), false) : (tn({ api: "addFriend", param: "source", desc: Sn("SourcePrefixLog") }), false));
      } }, remark: { type: "String", required: false, validator: function(e3) {
        return !(nt2(e3) && e3.length > 96) || (tn({ api: "addFriend", param: "remark", desc: gn("remark", 96) }), false);
      } } }, deleteFriend: { userIDList: Tn }, checkFriend: { userIDList: Tn }, getFriendProfile: { userIDList: Tn }, updateFriend: { userID: Cn, remark: { type: "String", required: false, validator: function(e3) {
        return !(nt2(e3) && e3.length > 96) || (tn({ api: "updateFriend", param: "remark", desc: gn("remark", 96) }), false);
      } }, friendCustomField: { type: "Array", required: false, validator: function(e3) {
        if (e3) {
          if (!at2(e3))
            return tn({ api: "updateFriend", param: "friendCustomField", desc: cn() }), false;
          var t3 = true;
          return e3.forEach(function(e4) {
            return nt2(e4.key) && -1 !== e4.key.indexOf("Tag_SNS_Custom") ? nt2(e4.value) ? e4.key.replace("Tag_SNS_Custom_", "").length > 8 ? (tn({ api: "updateFriend", param: "friendCustomField", desc: gn("keyword", 8) }), t3 = false) : void 0 : (tn({ api: "updateFriend", param: "friendCustomField", desc: _n("value") }), t3 = false) : (tn({ api: "updateFriend", param: "friendCustomField", desc: Sn("FriendCustomFieldPrefixLog") }), t3 = false);
          }), t3;
        }
        return true;
      } } }, acceptFriendApplication: { userID: Cn }, refuseFriendApplication: { userID: Cn }, deleteFriendApplication: { userID: Cn }, createFriendGroup: { name: Cn }, deleteFriendGroup: { name: Cn }, addToFriendGroup: { name: Cn, userIDList: Tn }, removeFromFriendGroup: { name: Cn, userIDList: Tn }, renameFriendGroup: { oldName: Cn, newName: Cn }, sendMessageReadReceipt: [{ name: "messageList", type: "Array", validator: function(e3) {
        return at2(e3) ? 0 !== e3.length || (tn({ api: "sendMessageReadReceipt", param: "messageList", desc: ln() }), false) : (tn({ api: "sendMessageReadReceipt", param: "messageList", desc: cn() }), false);
      } }], getMessageReadReceiptList: [{ name: "messageList", type: "Array", validator: function(e3) {
        return at2(e3) ? 0 !== e3.length || (tn({ api: "getMessageReadReceiptList", param: "messageList", desc: ln() }), false) : (tn({ api: "getMessageReadReceiptList", param: "messageList", desc: cn() }), false);
      } }], createTopicInCommunity: { groupID: Cn, topicName: Cn }, deleteTopicFromCommunity: { groupID: Cn, topicIDList: { type: "Array", validator: function(e3) {
        return !e3 || (!!at2(e3) || (tn({ api: "deleteTopicFromCommunity", param: "topicIDList", desc: cn() }), false));
      } } }, updateTopicProfile: { groupID: Cn, topicID: Cn }, getTopicList: { groupID: Cn, topicIDList: { type: "Array", validator: function(e3) {
        return !e3 || (!!at2(e3) || (tn({ api: "getTopicList", param: "topicIDList", desc: cn() }), false));
      } } } }, An = { login: 1, logout: 1, on: 1, once: 1, off: 1, setLogLevel: 1, registerPlugin: 1, destroy: 1, createTextMessage: 1, createTextAtMessage: 1, createImageMessage: 1, createAudioMessage: 1, createVideoMessage: 1, createCustomMessage: 1, createFaceMessage: 1, createFileMessage: 1, createLocationMessage: 1, createMergerMessage: 1, downloadMergerMessage: 1, createForwardMessage: 1, sendMessage: 1, resendMessage: 1, revokeMessage: 1, deleteMessage: 1, translateText: 1, modifyMessage: 1, sendMessageReadReceipt: 1, getGroupMessageReadMemberList: 1, getMessageReadReceiptList: 1, setMessageExtensions: 1, getMessageExtensions: 1, deleteMessageExtensions: 1, getMessageList: 1, findMessage: 1, getMessageListHopping: 1, setMessageRead: 1, setAllMessageRead: 1, getConversationList: 1, getConversationProfile: 1, deleteConversation: 1, pinConversation: 1, getTotalUnreadMessageCount: 1, setConversationCustomData: 1, markConversation: 1, createConversationGroup: 1, getConversationGroupList: 1, deleteConversationGroup: 1, renameConversationGroup: 1, addConversationsToGroup: 1, deleteConversationsFromGroup: 1, clearHistoryMessage: 1, getGroupList: 1, getGroupProfile: 1, createGroup: 1, joinGroup: 1, updateGroupProfile: 1, quitGroup: 1, dismissGroup: 1, changeGroupOwner: 1, searchGroupByID: 1, setMessageRemindType: 1, getGroupApplicationList: 1, handleGroupApplication: 1, initGroupAttributes: 1, setGroupAttributes: 1, deleteGroupAttributes: 1, getGroupAttributes: 1, setGroupCounters: 1, increaseGroupCounter: 1, decreaseGroupCounter: 1, getGroupCounters: 1, getJoinedCommunityList: 1, createTopicInCommunity: 1, deleteTopicFromCommunity: 1, updateTopicProfile: 1, getTopicList: 1, getGroupMemberProfile: 1, getGroupMemberList: 1, addGroupMember: 1, deleteGroupMember: 1, setGroupMemberNameCard: 1, setGroupMemberMuteTime: 1, setGroupMemberRole: 1, setGroupMemberCustomField: 1, getGroupOnlineMemberCount: 1, markGroupMemberList: 1, getMyProfile: 1, getUserProfile: 1, updateMyProfile: 1, setSelfStatus: 1, getUserStatus: 1, subscribeUserStatus: 1, unsubscribeUserStatus: 1, getBlacklist: 1, addToBlacklist: 1, removeFromBlacklist: 1, getFriendList: 1, addFriend: 1, deleteFriend: 1, checkFriend: 1, updateFriend: 1, getFriendProfile: 1, getFriendApplicationList: 1, refuseFriendApplication: 1, deleteFriendApplication: 1, acceptFriendApplication: 1, setFriendApplicationRead: 1, getFriendGroupList: 1, createFriendGroup: 1, renameFriendGroup: 1, deleteFriendGroup: 1, addToFriendGroup: 1, removeFromFriendGroup: 1, callExperimentalAPI: 1 }, Rn = 1, Nn = 2, On = 3, Gn2 = 4, Un = 6, Pn = 7, bn = 8, wn = 9, Fn = 10, qn = 11, xn = 12, Vn2 = 13, Bn = 14, Hn2 = 15, Kn2 = 16, Wn = 17, Yn2 = 18, jn = 19, zn2 = 20, Jn2 = 21, Xn2 = 22, Zn2 = 23, Qn2 = 24, $n = 25, eo = 26, to = 27, no = 28, oo = 29, so = 30, ao = 31, io = 32, ro = 37, uo = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._n = "";
        }
        return a2(e3, [{ key: "isLoggedIn", value: function() {
          return this._m.getModule(xn).isLoggedIn();
        } }, { key: "isOversea", value: function() {
          return this._m.getModule(xn).isOversea();
        } }, { key: "isPrivateNetWork", value: function() {
          return this._m.getModule(xn).isPrivateNetWork();
        } }, { key: "getFileDownloadProxy", value: function() {
          return this._m.getModule(xn).getFileDownloadProxy();
        } }, { key: "getMyUserID", value: function() {
          return this._m.getModule(xn).getUserID();
        } }, { key: "getMyTinyID", value: function() {
          return this._m.getModule(xn).getTinyID();
        } }, { key: "getSDKAppID", value: function() {
          return this._m.getModule(xn).getSDKAppID();
        } }, { key: "isIntl", value: function() {
          return this._m.getModule(xn).isIntl();
        } }, { key: "isDevMode", value: function() {
          return this._m.getModule(xn).isDevMode();
        } }, { key: "getModule", value: function(e4) {
          return this._m.getModule(e4);
        } }, { key: "getPlatform", value: function() {
          return ge2;
        } }, { key: "getNetworkType", value: function() {
          return this._m.getModule(Hn2).getNetworkType();
        } }, { key: "probeNetwork", value: function(e4) {
          return this._m.getModule(Hn2).probe(e4);
        } }, { key: "getCloudConfig", value: function(e4) {
          return this._m.getModule(Zn2).getCloudConfig(e4);
        } }, { key: "emitOuterEvent", value: function(e4, t3) {
          this._m.getOuterEmitterInstance().emit(e4, t3);
        } }, { key: "emitInnerEvent", value: function(e4, t3) {
          this._m.getInnerEmitterInstance().emit(e4, t3);
        } }, { key: "getInnerEmitterInstance", value: function() {
          return this._m.getInnerEmitterInstance();
        } }, { key: "generateTjgID", value: function(e4) {
          return this._m.getModule(xn).getTinyID() + "-" + e4.random;
        } }, { key: "filterModifiedMessage", value: function(e4) {
          if (!zt2(e4)) {
            var t3 = e4.filter(function(e5) {
              return true === e5.isModified;
            });
            t3.length > 0 && this.emitOuterEvent(k.MESSAGE_MODIFIED, t3);
          }
        } }, { key: "filterUnmodifiedMessage", value: function(e4) {
          return zt2(e4) ? [] : e4.filter(function(e5) {
            return false === e5.isModified;
          });
        } }, { key: "request", value: function(e4) {
          return this._m.getModule(zn2).request(e4);
        } }, { key: "canIUse", value: function(e4) {
          return this._m.getModule(to).canIUse(e4);
        } }, { key: "getErrorMessage", value: function(e4, t3, n3) {
          return this._m.getErrorMessage(e4, t3, n3);
        } }, { key: "outputWarning", value: function(e4, t3, n3) {
          var o3 = this.getErrorMessage(e4, t3, n3);
          o3 && Ve2.w(o3);
        } }]), e3;
      }(), co = "wslogin", lo = "wslogout", po = "wshello", go = "KickOther", ho = "getmsg", _o = "authkey", fo = "sendmsg", vo = "send_group_msg", mo = "portrait_get_all", Mo = "portrait_set", yo = "black_list_get", Io = "black_list_add", Co = "black_list_delete", To = "msgwithdraw", Do = "msgreaded", ko = "set_c2c_peer_mute_notifications", Eo = "get_c2c_peer_mute_notifications", So = "getroammsg", Lo = "get_peer_read_time", Ao = "delete_c2c_msg_ramble", Ro = "modify_c2c_msg", No = "set_key_values", Oo = "get_key_values", Go = "page_get", Uo = "get", Po = "batch_delete", bo = "clear_msg", wo = "top", Fo = "deletemsg", qo = "set_conv_custom_data", xo = "mark_contact", Vo = "create_contact_group", Bo = "del_contact_group", Ho = "update_contact_group", Ko = "add_conv_to_group", Wo = "del_conv_from_group", Yo = "get_contact_group", jo = "get_joined_group_list", zo = "get_group_self_member_info", Jo = "create_group", Xo = "destroy_group", Zo = "modify_group_base_info", Qo = "apply_join_group", $o = "apply_join_group_noauth", es2 = "quit_group", ts2 = "get_group_public_info", ns2 = "change_group_owner", os2 = "handle_apply_join_group", ss2 = "handle_invite_join_permission_group", as2 = "handle_invite_join_group", is2 = "group_msg_recall", rs2 = "msg_read_report", us2 = "read_all_unread_msg", cs2 = "group_msg_get", ls2 = "get_group_msg_receipt", ds2 = "group_msg_receipt", ps2 = "c2c_msg_read_receipt", gs2 = "get_group_msg_receipt_detail", hs2 = "get_pendency", _s2 = "deletemsg", fs2 = "get_msg", vs2 = "get_msg_noauth", ms2 = "get_online_member_num", Ms2 = "delete_group_ramble_msg_by_seq", ys2 = "modify_group_msg", Is2 = "set_group_attr", Cs2 = "modify_group_attr", Ts2 = "delete_group_attr", Ds2 = "clear_group_attr", ks2 = "get_group_attr", Es2 = "group_set_key_values", Ss2 = "group_get_key_values", Ls2 = "get_group_notify", As2 = "update_group_counter", Rs2 = "get_group_counter", Ns2 = "get_group_member_info", Os2 = "get_members", Gs2 = "get_specified_group_member_info", Us2 = "add_group_member", Ps2 = "delete_group_member", bs2 = "ban_group_member", ws2 = "modify_group_member_info", Fs2 = "modify_user_info", qs2 = "cos", xs2 = "pre_sig", Vs2 = "video_cover", Bs2 = "tim_web_report_v2", Hs2 = "alive", Ks2 = "msg_push", Ws2 = "multi_msg_push_ws", Ys2 = "ws_msg_push_ack", js2 = "stat_forceoffline", zs2 = "save_relay_json_msg", Js2 = "get_relay_json_msg", Xs2 = "fetch_config", Zs2 = "push_configv2", Qs2 = "fetch_imsdk_purchase_bitsv2", $s2 = "push_imsdk_purchase_bitsv2", ea = "notify2", ta = "create_topic", na = "destroy_topic", oa = "modify_topic", sa = "get_topic", aa = "ws_set_custom_status", ia = "ws_get_user_status", ra = "ws_status_subscribe", ua = "ws_status_unsubscribe", ca = "ws_stat_background", la = "ws_stat_foreground", da = "ws_stat_settoken", pa = "get_local_words", ga = "ws_batch_trans_text", ha = { NO_SDKAPPID: 2e3, NO_ACCOUNT_TYPE: 2001, NO_IDENTIFIER: 2002, NO_USERSIG: 2003, NO_TINYID: 2022, NO_A2KEY: 2023, USER_NOT_LOGGED_IN: 2024, REPEAT_LOGIN: 2025, COS_UNDETECTED: 2040, COS_GET_SIG_FAIL: 2041, MESSAGE_SEND_FAIL: 2100, MESSAGE_SEND_FAIL_NOT_IN_AVCHATROOM: 2101, MESSAGE_SEND_NEED_MESSAGE_INSTANCE: 2105, MESSAGE_SEND_INVALID_CONVERSATION_TYPE: 2106, MESSAGE_FILE_IS_EMPTY: 2108, MESSAGE_ONPROGRESS_FUNCTION_ERROR: 2109, MESSAGE_REVOKE_FAIL: 2110, MESSAGE_DELETE_FAIL: 2111, MESSAGE_UNREAD_ALL_FAIL: 2112, READ_RECEIPT_MESSAGE_LIST_EMPTY: 2114, MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL: 2115, CANNOT_DELETE_GROUP_SYSTEM_NOTICE: 2116, TRANSLATE_TEXT_FAIL: 2117, MESSAGE_IMAGE_SELECT_FILE_FIRST: 2251, MESSAGE_IMAGE_TYPES_LIMIT: 2252, MESSAGE_IMAGE_SIZE_LIMIT: 2253, MESSAGE_AUDIO_UPLOAD_FAIL: 2300, MESSAGE_AUDIO_SIZE_LIMIT: 2301, MESSAGE_VIDEO_UPLOAD_FAIL: 2350, MESSAGE_VIDEO_SIZE_LIMIT: 2351, MESSAGE_VIDEO_TYPES_LIMIT: 2352, MESSAGE_FILE_UPLOAD_FAIL: 2400, MESSAGE_FILE_SELECT_FILE_FIRST: 2401, MESSAGE_FILE_SIZE_LIMIT: 2402, MESSAGE_FILE_URL_IS_EMPTY: 2403, MESSAGE_MERGER_TYPE_INVALID: 2450, MESSAGE_MERGER_KEY_INVALID: 2451, MESSAGE_MERGER_DOWNLOAD_FAIL: 2452, MESSAGE_FORWARD_TYPE_INVALID: 2453, MESSAGE_MODIFY_CONFLICT: 2480, MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM: 2481, CONVERSATION_NOT_FOUND: 2500, USER_OR_GROUP_NOT_FOUND: 2501, CONVERSATION_UN_RECORDED_TYPE: 2502, INVALID_CONVERSATION_ID: 2503, ILLEGAL_GROUP_TYPE: 2600, CANNOT_JOIN_WORK: 2601, ILLEGAL_GROUP_ID: 2602, CANNOT_FIND_GROUP: 2603, CANNOT_CHANGE_OWNER_IN_AVCHATROOM: 2620, CANNOT_CHANGE_OWNER_TO_SELF: 2621, CANNOT_DISMISS_WORK: 2622, MEMBER_NOT_IN_GROUP: 2623, JOIN_GROUP_FAIL: 2660, CANNOT_ADD_MEMBER_IN_AVCHATROOM: 2661, CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN: 2662, NOT_OWNER: 2681, CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM: 2682, INVALID_MEMBER_ROLE: 2683, CANNOT_SET_SELF_MEMBER_ROLE: 2684, CANNOT_MUTE_SELF: 2685, BAN_DURATION_INVALID: 2686, NOT_MY_FRIEND: 2700, ALREADY_MY_FRIEND: 2701, FRIEND_GROUP_EXISTED: 2710, FRIEND_GROUP_NOT_EXIST: 2711, FRIEND_APPLICATION_NOT_EXIST: 2716, UPDATE_PROFILE_INVALID_PARAM: 2721, UPDATE_PROFILE_NO_KEY: 2722, CANNOT_ADD_SELF_TO_BLACKLIST: 2742, NETWORK_ERROR: 2800, NETWORK_TIMEOUT: 2801, NO_NETWORK: 2805, UNCAUGHT_ERROR: 2903, INVALID_OPERATION: 2905, INVALID_TRTC_CMD: 2995, OVER_FREQUENCY_LIMIT: 2996, CANNOT_FIND_PROTOCOL: 2997, CANNOT_FIND_MODULE: 2998, SDK_IS_NOT_READY: 2999, LOGGING_IN: 3e3, LOGIN_FAILED: 3001, KICKED_OUT_MULT_DEVICE: 3002, KICKED_OUT_MULT_ACCOUNT: 3003, KICKED_OUT_USERSIG_EXPIRED: 3004, LOGGED_OUT: 3005, KICKED_OUT_REST_API: 3006, ILLEGAL_TOPIC_ID: 3021, CANNOT_USE_COMMERCIAL_ABILITY: 3122, PROFANITY_FOUND: 3123, MESSAGE_A2KEY_EXPIRED: 20002, ACCOUNT_A2KEY_EXPIRED: 70001, HELLO_ANSWER_KICKED_OUT: 1002, OPEN_SERVICE_OVERLOAD_ERROR: 60022 }, _a2 = "networkRTT", fa = "messageE2EDelay", va = "sendMessageC2C", ma = "sendMessageGroup", Ma = "sendMessageGroupAV", ya = "sendMessageRichMedia", Ia = "cosUpload", Ca = "messageReceivedGroup", Ta = "messageReceivedGroupAVPush", Da = "messageReceivedGroupAVPull", ka = (i2(Zt2 = {}, _a2, 2), i2(Zt2, fa, 3), i2(Zt2, va, 4), i2(Zt2, ma, 5), i2(Zt2, Ma, 6), i2(Zt2, ya, 7), i2(Zt2, Ca, 8), i2(Zt2, Ta, 9), i2(Zt2, Da, 10), i2(Zt2, Ia, 11), Zt2), Ea = { info: 4, warning: 5, error: 6 }, Sa = { wifi: 1, "2g": 2, "3g": 3, "4g": 4, "5g": 5, unknown: 6, none: 7, online: 8 }, La = { login: 4 }, Aa = function() {
        function e3(t3) {
          o2(this, e3), this._n = "SSOLogData", this.eventType = La[t3] || 0, this.timestamp = 0, this.networkType = 8, this.code = 0, this.message = "", this.moreMessage = "", this.extension = t3, this.costTime = 0, this.duplicate = false, this.level = 4, this.uiPlatform = void 0, this._sentFlag = false, this._startts = Pe2();
        }
        return a2(e3, [{ key: "updateTimeStamp", value: function() {
          this.timestamp = Pe2();
        } }, { key: "start", value: function(e4) {
          return this._startts = e4, this;
        } }, { key: "end", value: function() {
          var e4 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          if (!this._sentFlag) {
            var n3 = Pe2();
            0 === this.costTime && (this.costTime = n3 - this._startts), this.setMoreMessage("startts:".concat(this._startts, " endts:").concat(n3)), t3 ? (this._sentFlag = true, this._eventStatModule && this._eventStatModule.pushIn(this)) : setTimeout(function() {
              e4._sentFlag = true, e4._eventStatModule && e4._eventStatModule.pushIn(e4);
            }, 0);
          }
        } }, { key: "setError", value: function(e4, t3, n3) {
          if (!(e4 instanceof Error))
            return Ve2.w("".concat(this._n, ".setError value not instanceof Error, please check!")), this;
          if (this._sentFlag)
            return this;
          if (this.setNetworkType(n3), t3)
            e4.code && this.setCode(e4.code), e4.message && this.setMoreMessage(e4.message);
          else {
            var o3 = ha.NO_NETWORK;
            this.setCode(o3);
          }
          return this.setLevel("error"), this;
        } }, { key: "setCode", value: function(e4) {
          return it2(e4) || this._sentFlag || ("ECONNABORTED" === e4 && (this.code = 103), et2(e4) ? this.code = e4 : Ve2.w("".concat(this._n, ".setCode value not a number, please check!"), e4, n2(e4))), this;
        } }, { key: "setMessage", value: function(e4) {
          return it2(e4) || this._sentFlag || (et2(e4) && (this.message = e4.toString()), nt2(e4) && (this.message = e4)), this;
        } }, { key: "setCostTime", value: function(e4) {
          return this.costTime = e4, this;
        } }, { key: "setLevel", value: function(e4) {
          return it2(e4) || this._sentFlag || (this.level = Ea[e4]), this;
        } }, { key: "setMoreMessage", value: function(e4) {
          return zt2(this.moreMessage) ? this.moreMessage = "".concat(e4) : this.moreMessage += " ".concat(e4), this;
        } }, { key: "setNetworkType", value: function(e4) {
          if (it2(e4))
            Ve2.w("".concat(this._n, ".setNetworkType value is undefined, please check!"));
          else {
            var t3 = Sa[e4.toLowerCase()];
            it2(t3) || (this.networkType = t3);
          }
          return this;
        } }, { key: "getStartTs", value: function() {
          return this._startts;
        } }, { key: "setUIPlatform", value: function(e4) {
          this.uiPlatform = e4;
        } }], [{ key: "bindEventStatModule", value: function(t3) {
          e3.prototype._eventStatModule = t3;
        } }]), e3;
      }(), Ra = function() {
        function e3(t3) {
          o2(this, e3), this.type = E2.MSG_TEXT, this.content = { text: t3.text || "" };
        }
        return a2(e3, [{ key: "setText", value: function(e4) {
          this.content.text = e4;
        } }, { key: "sendable", value: function() {
          return 0 !== this.content.text.length;
        } }]), e3;
      }(), Na = function() {
        function e3(t3, n3) {
          o2(this, e3), this._imageMemoryURL = "", this._fileDownloadProxy = n3, ae2 ? this.createImageDataASURLInWXMiniApp(t3.file) : this.createImageDataASURLInWeb(t3.file), this._initImageInfoModel(), this.type = E2.MSG_IMAGE, this._percent = 0, this.content = { imageFormat: t3.imageFormat || Be2.UNKNOWN, uuid: t3.uuid, imageInfoArray: [] }, this.initImageInfoArray(t3.imageInfoArray), this._autoFixUrl();
        }
        return a2(e3, [{ key: "_initImageInfoModel", value: function() {
          var e4 = this;
          this._ImageInfoModel = function(t3) {
            this.instanceID = _t2(9999999), this.sizeType = t3.type || 0, this.type = 0, this.size = t3.size || 0, this.width = t3.width || 0, this.height = t3.height || 0, this.imageUrl = t3.url || "", this.url = Yt2(t3.url || e4._imageMemoryURL, e4._fileDownloadProxy);
          }, this._ImageInfoModel.prototype = { setSizeType: function(e5) {
            this.sizeType = e5;
          }, setType: function(e5) {
            this.type = e5;
          }, setImageUrl: function(e5) {
            e5 && (this.imageUrl = e5);
          }, getImageUrl: function() {
            return this.imageUrl;
          } };
        } }, { key: "initImageInfoArray", value: function(e4) {
          for (var t3 = 0, n3 = null, o3 = null; t3 <= 2; )
            o3 = it2(e4) || it2(e4[t3]) ? { type: 0, size: 0, width: 0, height: 0, url: "" } : e4[t3], (n3 = new this._ImageInfoModel(o3)).setSizeType(t3 + 1), n3.setType(t3), this.addImageInfo(n3), t3++;
          this.updateAccessSideImageInfoArray();
        } }, { key: "updateImageInfoArray", value: function(e4) {
          for (var t3, n3 = this.content.imageInfoArray.length, o3 = 0; o3 < n3; o3++)
            t3 = this.content.imageInfoArray[o3], e4[o3].size && (t3.size = e4[o3].size), e4[o3].url && t3.setImageUrl(e4[o3].url), e4[o3].width && (t3.width = e4[o3].width), e4[o3].height && (t3.height = e4[o3].height);
        } }, { key: "_autoFixUrl", value: function() {
          for (var e4 = this.content.imageInfoArray.length, t3 = "", n3 = "", o3 = ["http", "https"], s3 = null, a3 = 0; a3 < e4; a3++)
            this.content.imageInfoArray[a3].url && "" !== (s3 = this.content.imageInfoArray[a3]).imageUrl && (n3 = s3.imageUrl.slice(0, s3.imageUrl.indexOf("://") + 1), t3 = s3.imageUrl.slice(s3.imageUrl.indexOf("://") + 1), o3.indexOf(n3) < 0 && (n3 = "https:"), this.content.imageInfoArray[a3].setImageUrl([n3, t3].join("")));
        } }, { key: "updatePercent", value: function(e4) {
          this._percent = e4, this._percent > 1 && (this._percent = 1);
        } }, { key: "updateImageFormat", value: function(e4) {
          this.content.imageFormat = Be2[e4.toUpperCase()] || Be2.UNKNOWN;
        } }, { key: "createImageDataASURLInWeb", value: function(e4) {
          void 0 !== e4 && e4.files.length > 0 && (this._imageMemoryURL = window.URL.createObjectURL(e4.files[0]));
        } }, { key: "createImageDataASURLInWXMiniApp", value: function(e4) {
          e4 && e4.url && (this._imageMemoryURL = e4.url);
        } }, { key: "replaceImageInfo", value: function(e4, t3) {
          this.content.imageInfoArray[t3] instanceof this._ImageInfoModel || (this.content.imageInfoArray[t3] = e4);
        } }, { key: "addImageInfo", value: function(e4) {
          this.content.imageInfoArray.length >= 3 || this.content.imageInfoArray.push(e4);
        } }, { key: "updateAccessSideImageInfoArray", value: function() {
          var e4 = this.content.imageInfoArray, t3 = e4[0], n3 = t3.width, o3 = void 0 === n3 ? 0 : n3, s3 = t3.height, a3 = void 0 === s3 ? 0 : s3;
          0 !== o3 && 0 !== a3 && (Pt2(e4), Object.assign(e4[2], Ut2({ originWidth: o3, originHeight: a3, min: 720 })));
        } }, { key: "sendable", value: function() {
          return 0 !== this.content.imageInfoArray.length && ("" !== this.content.imageInfoArray[0].imageUrl && 0 !== this.content.imageInfoArray[0].size);
        } }]), e3;
      }(), Oa = function() {
        function e3(t3) {
          o2(this, e3), this.type = E2.MSG_FACE, this.content = t3 || null;
        }
        return a2(e3, [{ key: "sendable", value: function() {
          return null !== this.content;
        } }]), e3;
      }(), Ga = function() {
        function e3(t3, n3) {
          o2(this, e3), this.type = E2.MSG_AUDIO, this._percent = 0, this.content = { downloadFlag: 2, second: t3.second, size: t3.size, url: Yt2(t3.url, n3), remoteAudioUrl: t3.url || "", uuid: t3.uuid };
        }
        return a2(e3, [{ key: "updatePercent", value: function(e4) {
          this._percent = e4, this._percent > 1 && (this._percent = 1);
        } }, { key: "updateAudioUrl", value: function(e4) {
          this.content.remoteAudioUrl = e4;
        } }, { key: "sendable", value: function() {
          return "" !== this.content.remoteAudioUrl;
        } }]), e3;
      }(), Ua = { from: true, groupID: true, groupName: true, to: true }, Pa = function() {
        function e3(t3) {
          o2(this, e3), this.type = E2.MSG_GRP_TIP, this.content = {}, this._initContent(t3);
        }
        return a2(e3, [{ key: "_initContent", value: function(e4) {
          var t3 = this;
          Object.keys(e4).forEach(function(n3) {
            switch (n3) {
              case "remarkInfo":
                break;
              case "groupProfile":
                t3.content.groupProfile = {}, t3._initGroupProfile(e4[n3]);
                break;
              case "operatorInfo":
                break;
              case "memberInfoList":
              case "msgMemberInfo":
                t3._updateMemberList(e4[n3]);
                break;
              case "memberExtraInfo":
              case "onlineMemberInfo":
                break;
              case "memberNum":
                t3.content[n3] = e4[n3], t3.content.memberCount = e4[n3];
                break;
              case "newGroupProfile":
                t3.content.newGroupProfile = {}, t3._initNewGroupProfile(e4[n3]);
                break;
              default:
                t3.content[n3] = e4[n3];
            }
          }), this.content.userIDList || (this.content.userIDList = [this.content.operatorID]);
        } }, { key: "_initGroupProfile", value: function(e4) {
          for (var t3 = Object.keys(e4), n3 = 0; n3 < t3.length; n3++) {
            var o3 = t3[n3];
            Ua[o3] && (this.content.groupProfile[o3] = e4[o3]);
          }
        } }, { key: "_updateMemberList", value: function(e4) {
          zt2(this.content.memberList) ? this.content.memberList = e4 : this.content.memberList.forEach(function(t3) {
            e4.forEach(function(e5) {
              t3.userID === e5.userID && Object.assign(t3, e5);
            });
          });
        } }, { key: "_initNewGroupProfile", value: function(e4) {
          for (var t3 = Object.keys(e4), n3 = 0; n3 < t3.length; n3++) {
            var o3 = t3[n3];
            "muteAllMembers" !== o3 ? this.content.newGroupProfile[o3] = e4[o3] : this.content.newGroupProfile[o3] = 1 === e4[o3];
          }
        } }]), e3;
      }(), ba = { from: true, groupID: true, groupName: true, to: true }, wa = function() {
        function e3(t3) {
          o2(this, e3), this.type = E2.MSG_GRP_SYS_NOTICE, this.content = {}, this._initContent(t3);
        }
        return a2(e3, [{ key: "_initContent", value: function(e4) {
          var t3 = this;
          Object.keys(e4).forEach(function(n3) {
            switch (n3) {
              case "memberInfoList":
                break;
              case "remarkInfo":
                t3.content.handleMessage = e4[n3];
                break;
              case "groupProfile":
                t3.content.groupProfile = {}, t3._initGroupProfile(e4[n3]);
                break;
              default:
                t3.content[n3] = e4[n3];
            }
          });
        } }, { key: "_initGroupProfile", value: function(e4) {
          for (var t3 = Object.keys(e4), n3 = 0; n3 < t3.length; n3++) {
            var o3 = t3[n3];
            ba[o3] && ("groupName" === o3 ? this.content.groupProfile.name = e4[o3] : this.content.groupProfile[o3] = e4[o3]);
          }
        } }]), e3;
      }(), Fa = function() {
        function e3(t3, n3) {
          o2(this, e3), this.type = E2.MSG_FILE, this._percent = 0;
          var s3 = this._getFileInfo(t3);
          this.content = { downloadFlag: 2, fileUrl: Yt2(t3.url, n3) || "", uuid: t3.uuid, fileName: s3.name || "", fileSize: s3.size || 0 };
        }
        return a2(e3, [{ key: "_getFileInfo", value: function(e4) {
          if (!it2(e4.fileName) && !it2(e4.fileSize))
            return { size: e4.fileSize, name: e4.fileName };
          var t3 = e4.file.files[0];
          if (oe2) {
            if (t3.path && -1 !== t3.path.indexOf(".")) {
              var n3 = t3.path.slice(t3.path.lastIndexOf(".") + 1).toLowerCase();
              t3.type = n3, t3.name || (t3.name = "".concat(_t2(999999), ".").concat(n3));
            }
            t3.name || (t3.type = "", t3.name = t3.path.slice(t3.path.lastIndexOf("/") + 1).toLowerCase()), t3.suffix && (t3.type = t3.suffix), t3.url || (t3.url = t3.path);
          }
          return { size: t3.size, name: t3.name };
        } }, { key: "updatePercent", value: function(e4) {
          this._percent = e4, this._percent > 1 && (this._percent = 1);
        } }, { key: "updateFileUrl", value: function(e4) {
          this.content.fileUrl = e4;
        } }, { key: "sendable", value: function() {
          return "" !== this.content.fileUrl && ("" !== this.content.fileName && 0 !== this.content.fileSize);
        } }]), e3;
      }(), qa2 = function() {
        function e3(t3) {
          o2(this, e3), this.type = E2.MSG_CUSTOM, this.content = { data: t3.data || "", description: t3.description || "", extension: t3.extension || "" };
        }
        return a2(e3, [{ key: "setData", value: function(e4) {
          return this.content.data = e4, this;
        } }, { key: "setDescription", value: function(e4) {
          return this.content.description = e4, this;
        } }, { key: "setExtension", value: function(e4) {
          return this.content.extension = e4, this;
        } }, { key: "sendable", value: function() {
          return 0 !== this.content.data.length || 0 !== this.content.description.length || 0 !== this.content.extension.length;
        } }]), e3;
      }(), xa = function() {
        function e3(t3, n3) {
          o2(this, e3), this.type = E2.MSG_VIDEO, this._percent = 0, this.content = { remoteVideoUrl: t3.remoteVideoUrl || t3.videoUrl || "", videoFormat: t3.videoFormat, videoSecond: parseInt(t3.videoSecond, 10), videoSize: t3.videoSize, videoUrl: Yt2(t3.videoUrl, n3), videoDownloadFlag: 2, videoUUID: t3.videoUUID, thumbUUID: t3.thumbUUID, thumbFormat: t3.thumbFormat, thumbWidth: t3.thumbWidth, snapshotWidth: t3.thumbWidth, thumbHeight: t3.thumbHeight, snapshotHeight: t3.thumbHeight, thumbSize: t3.thumbSize, snapshotSize: t3.thumbSize, thumbDownloadFlag: 2, thumbUrl: Yt2(t3.thumbUrl, n3), snapshotUrl: Yt2(t3.thumbUrl, n3) };
        }
        return a2(e3, [{ key: "updatePercent", value: function(e4) {
          this._percent = e4, this._percent > 1 && (this._percent = 1);
        } }, { key: "updateVideoUrl", value: function(e4) {
          e4 && (this.content.remoteVideoUrl = e4);
        } }, { key: "updateSnapshotInfo", value: function(e4) {
          var t3 = e4.snapshotUrl, n3 = e4.snapshotWidth, o3 = e4.snapshotHeight;
          zt2(t3) || (this.content.thumbUrl = this.content.snapshotUrl = t3), zt2(n3) || (this.content.thumbWidth = this.content.snapshotWidth = Number(n3)), zt2(o3) || (this.content.thumbHeight = this.content.snapshotHeight = Number(o3));
        } }, { key: "sendable", value: function() {
          return "" !== this.content.remoteVideoUrl;
        } }]), e3;
      }(), Va = function() {
        function e3(t3) {
          o2(this, e3), this.type = E2.MSG_LOCATION;
          var n3 = t3.description, s3 = t3.longitude, a3 = t3.latitude;
          this.content = { description: n3, longitude: s3, latitude: a3 };
        }
        return a2(e3, [{ key: "sendable", value: function() {
          return true;
        } }]), e3;
      }(), Ba = function() {
        function e3(t3, n3) {
          if (o2(this, e3), this.from = t3.from, this.messageSender = t3.from, this.time = t3.time, this.messageSequence = t3.sequence, this.clientSequence = t3.clientSequence || t3.sequence, this.messageRandom = t3.random, this.cloudCustomData = t3.cloudCustomData || "", this.clientTime = t3.clientTime || void 0, t3.ID)
            this.ID = t3.ID || "", this.nick = t3.nick || "", this.avatar = t3.avatar || "", this.messageBody = [{ type: t3.type, payload: t3.payload }], t3.conversationType.startsWith(E2.CONV_C2C) ? this.receiverUserID = t3.to : t3.conversationType.startsWith(E2.CONV_GROUP) && (this.receiverGroupID = t3.to), this.messageReceiver = t3.to;
          else {
            this.nick = t3.nick || "", this.avatar = t3.avatar || "", this.messageBody = [];
            var s3 = t3.elements[0].type, a3 = t3.elements[0].content;
            this._patchRichMediaPayload(s3, a3), this._updateRichMediaDownloadUrl(s3, a3, n3), s3 === E2.MSG_MERGER ? this.messageBody.push({ type: s3, payload: new Ha(a3).content }) : this.messageBody.push({ type: s3, payload: a3 }), t3.groupID && (this.receiverGroupID = t3.groupID, this.messageReceiver = t3.groupID), t3.to && (this.receiverUserID = t3.to, this.messageReceiver = t3.to), this.ID = "".concat(t3.tinyID, "-").concat(t3.clientTime, "-").concat(t3.random);
          }
        }
        return a2(e3, [{ key: "_patchRichMediaPayload", value: function(e4, t3) {
          e4 === E2.MSG_IMAGE ? t3.imageInfoArray.forEach(function(e5) {
            !e5.imageUrl && e5.url && (e5.imageUrl = e5.url, e5.sizeType = e5.type, 1 === e5.type ? e5.type = 0 : 3 === e5.type && (e5.type = 1));
          }) : e4 === E2.MSG_VIDEO ? !t3.remoteVideoUrl && t3.videoUrl && (t3.remoteVideoUrl = t3.videoUrl) : e4 === E2.MSG_AUDIO ? !t3.remoteAudioUrl && t3.url && (t3.remoteAudioUrl = t3.url) : e4 === E2.MSG_FILE && !t3.fileUrl && t3.url && (t3.fileUrl = t3.url, t3.url = void 0);
        } }, { key: "_updateRichMediaDownloadUrl", value: function(e4, t3, n3) {
          n3 && (e4 === E2.MSG_IMAGE ? t3.imageInfoArray.forEach(function(e5) {
            e5.url = Yt2(e5.url, n3);
          }) : e4 === E2.MSG_VIDEO ? (t3.videoUrl = Yt2(t3.videoUrl, n3), t3.snapshotUrl = Yt2(t3.thumbUrl, n3), t3.snapshotHeight = t3.thumbHeight, t3.snapshotWidth = t3.thumbWidth) : e4 === E2.MSG_AUDIO ? t3.url = Yt2(t3.url, n3) : e4 === E2.MSG_FILE && (t3.fileUrl = Yt2(t3.fileUrl, n3)));
        } }]), e3;
      }(), Ha = function() {
        function e3(t3, n3) {
          if (o2(this, e3), this.type = E2.MSG_MERGER, this.content = { downloadKey: "", pbDownloadKey: "", messageList: [], title: "", abstractList: [], compatibleText: "", version: 0, layersOverLimit: false }, t3.downloadKey) {
            var s3 = t3.downloadKey, a3 = t3.pbDownloadKey, i3 = t3.title, r3 = t3.abstractList, u3 = t3.compatibleText, c3 = t3.version;
            this.content.downloadKey = s3, this.content.pbDownloadKey = a3, this.content.title = i3, this.content.abstractList = r3, this.content.compatibleText = u3, this.content.version = c3 || 0;
          } else if (zt2(t3.messageList))
            1 === t3.layersOverLimit && (this.content.layersOverLimit = true);
          else {
            var l3 = t3.messageList, d3 = t3.title, p3 = t3.abstractList, g3 = t3.compatibleText, h3 = t3.version, _3 = [];
            l3.forEach(function(e4) {
              if (!zt2(e4)) {
                var t4 = new Ba(e4, n3);
                _3.push(t4);
              }
            }), this.content.messageList = _3, this.content.title = d3, this.content.abstractList = p3, this.content.compatibleText = g3, this.content.version = h3 || 0;
          }
        }
        return a2(e3, [{ key: "sendable", value: function() {
          return !zt2(this.content.messageList) || !zt2(this.content.downloadKey);
        } }]), e3;
      }(), Ka = { 1: E2.MSG_PRIORITY_HIGH, 2: E2.MSG_PRIORITY_NORMAL, 3: E2.MSG_PRIORITY_LOW, 4: E2.MSG_PRIORITY_LOWEST }, Wa = function() {
        function e3(t3) {
          o2(this, e3), this.ID = "", this.conversationID = t3.conversationID || null, this.conversationType = t3.conversationType || E2.CONV_C2C, this.conversationSubType = t3.conversationSubType, this.time = t3.time || Math.ceil(Date.now() / 1e3), this.sequence = t3.sequence || 0, this.clientSequence = t3.clientSequence || t3.sequence || 0, this.random = t3.random || 0 === t3.random ? t3.random : _t2(), this.priority = this._computePriority(t3.priority), this.nick = t3.nick || "", this.avatar = t3.avatar || "", this.isPeerRead = false, this.nameCard = "", this._elements = [], this.isPlaceMessage = t3.isPlaceMessage || 0, this.isRevoked = 2 === t3.isPlaceMessage || 8 === t3.msgFlagBits, this.from = t3.from || null, this.to = t3.to || null, this.flow = "", this.isSystemMessage = t3.isSystemMessage || false, this.protocol = t3.protocol || "JSON", this.isResend = false, this.isRead = false, this.status = t3.status || Qt2.SUCCESS, this._onlineOnlyFlag = false, this._groupAtInfoList = [], this._relayFlag = false, this.atUserList = [], this.cloudCustomData = t3.cloudCustomData || "", this.isDeleted = false, this.isModified = false, this._isExcludedFromUnreadCount = !(!t3.messageControlInfo || 1 !== t3.messageControlInfo.excludedFromUnreadCount), this._isExcludedFromLastMessage = !(!t3.messageControlInfo || 1 !== t3.messageControlInfo.excludedFromLastMessage), this.clientTime = t3.clientTime || we2() || 0, this.senderTinyID = t3.senderTinyID || t3.tinyID || "", this.readReceiptInfo = t3.readReceiptInfo || { readCount: void 0, unreadCount: void 0, isPeerRead: void 0 }, this.needReadReceipt = true === t3.needReadReceipt || 1 === t3.needReadReceipt, this.version = t3.messageVersion || 0, this.isBroadcastMessage = t3.isBroadcastMessage || false, this._receiverList = t3.receiverList || void 0, this.isSupportExtension = true === t3.isSupportExtension || 1 === t3.isSupportExtension, this.revoker = t3.revokerInfo && t3.revokerInfo.revoker || null, this.reInitialize(t3.currentUser), this.extractGroupInfo(t3.groupProfile || null), this.handleGroupAtInfo(t3), this.initC2CReadReceiptInfo(t3.readReceiptSentByPeer);
        }
        return a2(e3, [{ key: "elements", get: function() {
          return this._elements;
        } }, { key: "getElements", value: function() {
          return this._elements;
        } }, { key: "extractGroupInfo", value: function(e4) {
          if (null !== e4) {
            nt2(e4.nick) && (this.nick = e4.nick), nt2(e4.avatar) && (this.avatar = e4.avatar);
            var t3 = e4.messageFromAccountExtraInformation;
            st2(t3) && nt2(t3.nameCard) && (this.nameCard = t3.nameCard);
          }
        } }, { key: "handleGroupAtInfo", value: function(e4) {
          var t3 = this;
          e4.payload && e4.payload.atUserList && e4.payload.atUserList.forEach(function(e5) {
            e5 !== E2.MSG_AT_ALL ? (t3._groupAtInfoList.push({ groupAtAllFlag: 0, groupAtUserID: e5 }), t3.atUserList.push(e5)) : (t3._groupAtInfoList.push({ groupAtAllFlag: 1 }), t3.atUserList.push(E2.MSG_AT_ALL));
          }), at2(e4.groupAtInfo) && e4.groupAtInfo.forEach(function(e5) {
            0 === e5.groupAtAllFlag ? t3.atUserList.push(e5.groupAtUserID) : 1 === e5.groupAtAllFlag && t3.atUserList.push(E2.MSG_AT_ALL);
          });
        } }, { key: "getGroupAtInfoList", value: function() {
          return this._groupAtInfoList;
        } }, { key: "_initProxy", value: function() {
          this._elements[0] && (this.payload = this._elements[0].content, this.type = this._elements[0].type);
        } }, { key: "reInitialize", value: function(e4) {
          e4 && (this.status = this.from ? Qt2.SUCCESS : Qt2.UNSEND, !this.from && (this.from = e4)), this._initFlow(e4), this._initSequence(e4), this._concatConversationID(e4), this.generateMessageID();
        } }, { key: "isSendable", value: function() {
          return 0 !== this._elements.length && ("function" == typeof this._elements[0].sendable && this._elements[0].sendable());
        } }, { key: "_initTo", value: function(e4) {
          this.conversationType === E2.CONV_GROUP && (this.to = e4.groupID);
        } }, { key: "_initSequence", value: function(e4) {
          0 === this.clientSequence && e4 && (this.clientSequence = function(e5) {
            if (!e5)
              return false;
            if (void 0 === Mt2[e5]) {
              var t3 = /* @__PURE__ */ new Date(), n3 = "3".concat(t3.getHours()).slice(-2), o3 = "0".concat(t3.getMinutes()).slice(-2), s3 = "0".concat(t3.getSeconds()).slice(-2);
              Mt2[e5] = parseInt([n3, o3, s3, "0001"].join("")), n3 = null, o3 = null, s3 = null, Ve2.l("autoIncrementIndex start index:".concat(Mt2[e5]));
            }
            return Mt2[e5]++;
          }(e4)), 0 === this.sequence && this.conversationType === E2.CONV_C2C && (this.sequence = this.clientSequence);
        } }, { key: "generateMessageID", value: function() {
          this.from === E2.CONV_SYSTEM && (this.senderTinyID = "144115198244471703"), this.ID = "".concat(this.senderTinyID, "-").concat(this.clientTime, "-").concat(this.random);
        } }, { key: "_initFlow", value: function(e4) {
          "" !== e4 && (e4 === this.from ? (this.flow = "out", this.isRead = true) : this.flow = "in");
        } }, { key: "_concatConversationID", value: function(e4) {
          var t3 = this.to, n3 = "", o3 = this.conversationType;
          o3 !== E2.CONV_SYSTEM ? (n3 = o3 === E2.CONV_C2C ? e4 === this.from ? t3 : this.from : this.to, this.conversationID = n3 ? "".concat(o3).concat(n3) : null) : this.conversationID = E2.CONV_SYSTEM;
        } }, { key: "isElement", value: function(e4) {
          return e4 instanceof Ra || e4 instanceof Na || e4 instanceof Oa || e4 instanceof Ga || e4 instanceof Fa || e4 instanceof xa || e4 instanceof Pa || e4 instanceof wa || e4 instanceof qa2 || e4 instanceof Va || e4 instanceof Ha;
        } }, { key: "setElement", value: function(e4, t3) {
          var n3 = this;
          if (this.isElement(e4))
            return this._elements = [e4], void this._initProxy();
          var o3 = function(e5) {
            if (e5.type && e5.content)
              switch (e5.type) {
                case E2.MSG_TEXT:
                  n3.setTextElement(e5.content);
                  break;
                case E2.MSG_IMAGE:
                  n3.setImageElement(e5.content, t3);
                  break;
                case E2.MSG_AUDIO:
                  n3.setAudioElement(e5.content, t3);
                  break;
                case E2.MSG_FILE:
                  n3.setFileElement(e5.content, t3);
                  break;
                case E2.MSG_VIDEO:
                  n3.setVideoElement(e5.content, t3);
                  break;
                case E2.MSG_CUSTOM:
                  n3.setCustomElement(e5.content);
                  break;
                case E2.MSG_LOCATION:
                  n3.setLocationElement(e5.content);
                  break;
                case E2.MSG_GRP_TIP:
                  n3.setGroupTipElement(e5.content);
                  break;
                case E2.MSG_GRP_SYS_NOTICE:
                  n3.setGroupSystemNoticeElement(e5.content);
                  break;
                case E2.MSG_FACE:
                  n3.setFaceElement(e5.content);
                  break;
                case E2.MSG_MERGER:
                  n3.setMergerElement(e5.content, t3);
              }
          };
          if (at2(e4))
            for (var s3 = 0; s3 < e4.length; s3++)
              o3(e4[s3]);
          else
            o3(e4);
          this._initProxy();
        } }, { key: "clearElement", value: function() {
          this._elements.length = 0;
        } }, { key: "setTextElement", value: function(e4) {
          var t3 = "string" == typeof e4 ? e4 : e4.text, n3 = new Ra({ text: t3 });
          this._elements.push(n3);
        } }, { key: "setImageElement", value: function(e4, t3) {
          var n3 = new Na(e4, t3);
          this._elements.push(n3);
        } }, { key: "setAudioElement", value: function(e4, t3) {
          var n3 = new Ga(e4, t3);
          this._elements.push(n3);
        } }, { key: "setFileElement", value: function(e4, t3) {
          var n3 = new Fa(e4, t3);
          this._elements.push(n3);
        } }, { key: "setVideoElement", value: function(e4, t3) {
          var n3 = new xa(e4, t3);
          this._elements.push(n3);
        } }, { key: "setLocationElement", value: function(e4) {
          var t3 = new Va(e4);
          this._elements.push(t3);
        } }, { key: "setCustomElement", value: function(e4) {
          var t3 = new qa2(e4);
          this._elements.push(t3);
        } }, { key: "setGroupTipElement", value: function(e4) {
          var t3 = {}, n3 = e4.operationType;
          if (zt2(e4.memberInfoList) ? e4.operatorInfo && (t3 = e4.operatorInfo) : n3 !== E2.GRP_TIP_MBR_JOIN && n3 !== E2.GRP_TIP_MBR_KICKED_OUT && n3 !== E2.GRP_TIP_MBR_SET_ADMIN && n3 !== E2.GRP_TIP_MBR_CANCELED_ADMIN || (t3 = e4.memberInfoList[0]), !zt2(e4.memberExtraInfo)) {
            var o3 = e4.memberExtraInfo.reason;
            e4.msgMemberInfo.forEach(function(e5) {
              e5.reason = o3;
            });
          }
          var s3 = t3, a3 = s3.nick, i3 = s3.avatar;
          nt2(a3) && (this.nick = a3), nt2(i3) && (this.avatar = i3);
          var r3 = new Pa(e4);
          this._elements.push(r3);
        } }, { key: "setGroupSystemNoticeElement", value: function(e4) {
          var t3 = new wa(e4);
          this._elements.push(t3);
        } }, { key: "setFaceElement", value: function(e4) {
          var t3 = new Oa(e4);
          this._elements.push(t3);
        } }, { key: "setMergerElement", value: function(e4, t3) {
          var n3 = new Ha(e4, t3);
          this._elements.push(n3);
        } }, { key: "setIsRead", value: function(e4) {
          this.isRead = e4;
        } }, { key: "setRelayFlag", value: function(e4) {
          this._relayFlag = e4;
        } }, { key: "getRelayFlag", value: function() {
          return this._relayFlag;
        } }, { key: "_computePriority", value: function(e4) {
          if (it2(e4))
            return E2.MSG_PRIORITY_NORMAL;
          if (nt2(e4) && -1 !== Object.values(Ka).indexOf(e4))
            return e4;
          if (et2(e4)) {
            var t3 = "" + e4;
            if (-1 !== Object.keys(Ka).indexOf(t3))
              return Ka[t3];
          }
          return E2.MSG_PRIORITY_NORMAL;
        } }, { key: "setNickAndAvatar", value: function(e4) {
          var t3 = e4.nick, n3 = e4.avatar;
          nt2(t3) && (this.nick = t3), nt2(n3) && (this.avatar = n3);
        } }, { key: "setNameCard", value: function(e4) {
          nt2(e4) && (this.nameCard = e4);
        } }, { key: "initC2CReadReceiptInfo", value: function(e4) {
          this.conversationType === E2.CONV_C2C && true === this.needReadReceipt && (this.readReceiptInfo.isPeerRead = 1 === e4);
        } }]), e3;
      }(), Ya = function(e3) {
        return { code: 0, data: e3 || {} };
      }, ja = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          o2(this, n3), s3 = t3.call(this);
          var a3 = e4.code, i3 = e4.message, r3 = e4.data;
          return s3.code = a3, s3.message = i3 || s3._getErrorMessage(s3.code), s3.data = r3 || {}, s3;
        }
        return a2(n3);
      }(p2(Error)), za = null, Ja = function(e3) {
        za = e3;
      }, Xa = function(e3) {
        return Promise.resolve(Ya(e3));
      }, Za = function(e3) {
        var t3 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        if (e3 instanceof ja)
          return t3 && null !== za && za.emit(k.ERROR, e3), Promise.reject(e3);
        if (e3 instanceof Error) {
          var n3 = new ja({ code: ha.UNCAUGHT_ERROR });
          return t3 && null !== za && za.emit(k.ERROR, n3), Promise.reject(n3);
        }
        if (!it2(e3) && !it2(e3.code)) {
          var o3 = new ja(e3);
          return t3 && null !== za && za.emit(k.ERROR, o3), Promise.reject(o3);
        }
      }, Qa = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "C2CModule", t3._messageFromUnreadDBMap = /* @__PURE__ */ new Map(), t3._signalingFromUnreadDBList = [], t3;
        }
        return a2(s3, [{ key: "onNewC2CMessage", value: function(e4) {
          var t3 = e4.dataList, n4 = e4.isInstantMessage, o3 = e4.C2CRemainingUnreadList, s4 = e4.C2CPairUnreadList;
          Ve2.d("".concat(this._n, ".onNewC2CMessage count:").concat(t3.length, " isInstantMessage:").concat(n4));
          var a3 = this._newC2CMessageStoredAndSummary({ dataList: t3, C2CRemainingUnreadList: o3, C2CPairUnreadList: s4, isInstantMessage: n4 }), i3 = a3.conversationOptionsList, r3 = a3.messageList, u3 = a3.isUnreadC2CMessage;
          (this.filterModifiedMessage(r3), i3.length > 0) && this.getModule(qn).onNewMessage({ conversationOptionsList: i3, isInstantMessage: n4, isUnreadC2CMessage: u3 });
          var c3 = this.filterUnmodifiedMessage(r3);
          n4 && c3.length > 0 && this.emitOuterEvent(k.MESSAGE_RECEIVED, c3), r3.length = 0;
        } }, { key: "_newC2CMessageStoredAndSummary", value: function(e4) {
          for (var t3 = e4.dataList, n4 = e4.C2CRemainingUnreadList, o3 = e4.C2CPairUnreadList, s4 = e4.isInstantMessage, a3 = null, i3 = [], r3 = [], u3 = {}, c3 = this.getModule(Kn2), l3 = this.getModule(eo), d3 = false, p3 = this.getModule(qn), g3 = this.getFileDownloadProxy(), h3 = 0, _3 = t3.length; h3 < _3; h3++)
            if (this._isSignaling(t3[h3]))
              this._signalingFromUnreadDBList.push(t3[h3].eventArray[0].c2CNotifyMsgArray[0]);
            else {
              var f3 = t3[h3];
              f3.currentUser = this.getMyUserID(), f3.conversationType = E2.CONV_C2C, f3.isSystemMessage = !!f3.isSystemMessage, (it2(f3.nick) || it2(f3.avatar)) && (d3 = true, Ve2.d("".concat(this._n, "._newC2CMessageStoredAndSummary nick or avatar missing!"))), a3 = new Wa(f3), f3.elements = c3.parseElements(f3.elements, f3.from), a3.setElement(f3.elements, g3), a3.setNickAndAvatar({ nick: f3.nick, avatar: f3.avatar });
              var v3 = a3.conversationID;
              if (s4) {
                if (1 === this._messageFromUnreadDBMap.get(a3.ID))
                  continue;
                var m3 = false;
                if (a3.from !== this.getMyUserID()) {
                  var M3 = p3.getLatestMessageSentByPeer(v3);
                  if (M3) {
                    var y3 = M3.nick, I3 = M3.avatar;
                    d3 ? a3.setNickAndAvatar({ nick: y3, avatar: I3 }) : y3 === a3.nick && I3 === a3.avatar || (m3 = true);
                  }
                } else {
                  var C3 = p3.getLatestMessageSentByMe(v3);
                  if (C3) {
                    var T3 = C3.nick, D3 = C3.avatar;
                    T3 === a3.nick && D3 === a3.avatar || p3.modifyMessageSentByMe({ conversationID: v3, latestNick: a3.nick, latestAvatar: a3.avatar });
                  }
                }
                var k2 = 1 === t3[h3].isModified;
                if (p3.isMessageSentByCurrentInstance(a3) ? a3.isModified = k2 : k2 = false, 0 === f3.msgLifeTime)
                  a3._onlineOnlyFlag = true, p3.isMessageSentByCurrentInstance(a3) || r3.push(a3);
                else {
                  if (!p3.pushIntoMessageList(r3, a3, k2))
                    continue;
                  m3 && (p3.modifyMessageSentByPeer({ conversationID: v3, latestNick: a3.nick, latestAvatar: a3.avatar }), p3.updateUserProfileSpecifiedKey({ conversationID: v3, nick: a3.nick, avatar: a3.avatar }));
                }
                s4 && a3.clientTime > 0 && l3.addMessageDelay(a3.clientTime);
              } else
                this._messageFromUnreadDBMap.set(a3.ID, 1);
              if (0 !== f3.msgLifeTime) {
                if (false === a3._onlineOnlyFlag) {
                  var S3 = p3.getLastMessageTime(v3);
                  if (et2(S3) && a3.time < S3)
                    continue;
                  if (it2(u3[v3])) {
                    var L3 = 0;
                    "in" === a3.flow && (a3._isExcludedFromUnreadCount || (L3 = 1)), u3[v3] = i3.push({ conversationID: v3, unreadCount: L3, type: a3.conversationType, subType: a3.conversationSubType, lastMessage: a3._isExcludedFromLastMessage ? "" : a3 }) - 1;
                  } else {
                    var A3 = u3[v3];
                    i3[A3].type = a3.conversationType, i3[A3].subType = a3.conversationSubType, i3[A3].lastMessage = a3._isExcludedFromLastMessage ? "" : a3, "in" === a3.flow && (a3._isExcludedFromUnreadCount || i3[A3].unreadCount++);
                  }
                }
              } else
                a3._onlineOnlyFlag = true;
            }
          this._handleSignalingFromUnreadDB();
          var R3 = false;
          if (at2(o3))
            for (var N3 = function(e5, t4) {
              if (o3[e5].unreadCount > 0) {
                R3 = true;
                var n5 = i3.find(function(t5) {
                  return t5.conversationID === "C2C".concat(o3[e5].from);
                });
                n5 ? n5.unreadCount = o3[e5].unreadCount : i3.push({ conversationID: "C2C".concat(o3[e5].from), unreadCount: o3[e5].unreadCount, type: E2.CONV_C2C });
              }
            }, O3 = 0, G3 = o3.length; O3 < G3; O3++)
              N3(O3);
          if (at2(n4))
            for (var U3 = function(e5, t4) {
              i3.find(function(t5) {
                return t5.conversationID === "C2C".concat(n4[e5].from);
              }) || i3.push({ conversationID: "C2C".concat(n4[e5].from), type: E2.CONV_C2C, lastMsgTime: n4[e5].lastMsgTime });
            }, P3 = 0, b3 = n4.length; P3 < b3; P3++)
              U3(P3);
          return { conversationOptionsList: i3, messageList: r3, isUnreadC2CMessage: R3 };
        } }, { key: "_isSignaling", value: function(e4) {
          var t3 = e4.eventArray;
          return !(!at2(t3) || 10 !== t3[0].event);
        } }, { key: "_handleSignalingFromUnreadDB", value: function() {
          var e4 = this._signalingFromUnreadDBList.length;
          if (Ve2.l("".concat(this._n, "._handleSignalingFromUnreadDB signalingCount:").concat(e4)), 0 !== e4) {
            var t3 = [];
            this._signalingFromUnreadDBList.forEach(function(e5) {
              e5.hasOwnProperty("c2cMessageRevokedNotify") && t3.push(e5);
            }), this.onC2CMessageRevoked({ dataList: t3 }), this._signalingFromUnreadDBList.length = 0, t3.length = 0;
          }
        } }, { key: "onC2CMessageRevoked", value: function(e4) {
          var t3 = this, n4 = this.getModule(qn), o3 = [], s4 = null, a3 = true;
          e4.dataList.forEach(function(e5) {
            if (e5.c2cMessageRevokedNotify) {
              var i3 = e5.c2cMessageRevokedNotify.revokedInfos;
              it2(i3) || i3.forEach(function(e6) {
                var i4 = t3.getMyUserID() === e6.from ? "".concat(E2.CONV_C2C).concat(e6.to) : "".concat(E2.CONV_C2C).concat(e6.from);
                s4 = n4.revoke(i4, e6.sequence, e6.random);
                var r3 = e6.revokerInfo && e6.revokerInfo.revoker;
                if (s4)
                  s4.revoker || (s4.revoker = r3, o3.push(s4));
                else {
                  var u3 = { conversationID: i4, sequence: e6.sequence, time: e6.time, revoker: r3 };
                  n4.isLastMessageRevoked(u3) && (o3.push(u3), a3 = false);
                }
              });
            }
          }), 0 !== o3.length && (n4.onMessageRevoked(o3), true === a3 && (Ve2.l("".concat(this._n, ".onC2CMessageRevoked count:").concat(o3.length)), this.emitOuterEvent(k.MESSAGE_REVOKED, o3)));
        } }, { key: "onC2CMessageReadReceipt", value: function(e4) {
          var t3 = this;
          e4.dataList.forEach(function(e5) {
            if (!zt2(e5.c2cMessageReadReceipt)) {
              var n4 = e5.c2cMessageReadReceipt.to;
              e5.c2cMessageReadReceipt.uinPairReadArray.forEach(function(e6) {
                var o3 = e6.peerReadTime;
                Ve2.d("".concat(t3._n, "._onC2CMessageReadReceipt to:").concat(n4, " peerReadTime:").concat(o3));
                var s4 = "".concat(E2.CONV_C2C).concat(n4), a3 = t3.getModule(qn);
                a3.recordPeerReadTime(s4, o3), a3.updateMessageIsPeerReadProperty(s4, o3);
              });
            }
          });
        } }, { key: "onC2CMessageReadNotice", value: function(e4) {
          var t3 = this;
          e4.dataList.forEach(function(e5) {
            if (!zt2(e5.c2cMessageReadNotice)) {
              var n4 = t3.getModule(qn);
              e5.c2cMessageReadNotice.uinPairReadArray.forEach(function(e6) {
                var o3 = e6.from, s4 = e6.peerReadTime;
                Ve2.d("".concat(t3._n, ".onC2CMessageReadNotice from:").concat(o3, " lastReadTime:").concat(s4));
                var a3 = "".concat(E2.CONV_C2C).concat(o3);
                n4.updateIsReadAfterReadReport({ conversationID: a3, lastMessageTime: s4 }), n4.updateUnreadCount(a3);
              });
            }
          });
        } }, { key: "onC2CMessageModified", value: function(e4) {
          Ve2.d("".concat(this._n, ".onC2CMessageModified options:"), JSON.stringify(e4));
          var n4 = this.getModule(qn);
          e4.dataList.forEach(function(e5) {
            n4.onMessageModified(t2(t2({}, e5), {}, { conversationType: E2.CONV_C2C }));
          });
        } }, { key: "onReadReceiptList", value: function(e4) {
          Ve2.d("".concat(this._n, ".onReadReceiptList options:"), JSON.stringify(e4));
          var t3 = e4.dataList, n4 = t3.userID, o3 = t3.readReceiptList;
          this.getModule(qn).updateReadReceiptInfo({ userID: n4, readReceiptList: o3 });
        } }, { key: "sendMessage", value: function(e4, t3) {
          var n4 = this._createC2CMessagePack(e4, t3);
          return this.request(n4);
        } }, { key: "_createC2CMessagePack", value: function(e4, t3) {
          var n4 = null;
          t3 && (t3.offlinePushInfo && (n4 = t3.offlinePushInfo), true === t3.onlineUserOnly && (n4 ? n4.disablePush = true : n4 = { disablePush: true }));
          var o3 = "";
          nt2(e4.cloudCustomData) && e4.cloudCustomData.length > 0 && (o3 = e4.cloudCustomData);
          var s4 = [];
          if (st2(t3) && st2(t3.messageControlInfo)) {
            var a3 = t3.messageControlInfo, i3 = a3.excludedFromUnreadCount, r3 = a3.excludedFromLastMessage, u3 = a3.excludedFromContentModeration;
            true === i3 && s4.push("NoUnread"), true === r3 && s4.push("NoLastMsg"), true === u3 && s4.push("NoMsgCheck");
          }
          var c3 = this.isOnlineMessage(e4, t3) ? 0 : void 0;
          return { protocolName: fo, tjgID: this.generateTjgID(e4), requestData: { fromAccount: this.getMyUserID(), toAccount: e4.to, msgBody: e4.getElements(), cloudCustomData: o3, msgSeq: e4.sequence, msgRandom: e4.random, msgLifeTime: c3, nick: e4.nick, avatar: e4.avatar, offlinePushInfo: n4 ? { pushFlag: true === n4.disablePush ? 1 : 0, title: n4.title || "", desc: n4.description || "", ext: n4.extension || "", apnsInfo: { badgeMode: true === n4.ignoreIOSBadge ? 1 : 0, isVoipPush: this._isVoipPush(n4) }, androidInfo: { OPPOChannelID: n4.androidOPPOChannelID || "" } } : void 0, messageControlInfo: 0 !== c3 ? s4 : void 0, clientTime: e4.clientTime, needReadReceipt: true === e4.needReadReceipt ? 1 : 0, isSupportExtension: true === e4.isSupportExtension ? 1 : 0 } };
        } }, { key: "_isVoipPush", value: function(e4) {
          var t3 = void 0;
          return it2(e4.disableVoipPush) || (t3 = false === e4.disableVoipPush ? 1 : 0), t3;
        } }, { key: "isOnlineMessage", value: function(e4, t3) {
          return !(!t3 || true !== t3.onlineUserOnly);
        } }, { key: "revokeMessage", value: function(e4) {
          return this.request({ protocolName: To, requestData: { msgInfo: { fromAccount: e4.from, toAccount: e4.to, msgSeq: e4.sequence, msgRandom: e4.random, msgTimeStamp: e4.time } } });
        } }, { key: "deleteMessage", value: function(e4) {
          var t3 = e4.to, n4 = e4.keyList;
          return Ve2.l("".concat(this._n, ".deleteMessage toAccount:").concat(t3, " count:").concat(n4.length)), this.request({ protocolName: Ao, requestData: { fromAccount: this.getMyUserID(), to: t3, keyList: n4 } });
        } }, { key: "modifyRemoteMessage", value: function(e4) {
          var t3 = e4.from, n4 = e4.to, o3 = e4.version, s4 = void 0 === o3 ? 0 : o3, a3 = e4.sequence, i3 = e4.random, r3 = e4.time, u3 = e4.payload, c3 = e4.type, l3 = e4.cloudCustomData, d3 = void 0;
          return Bt2(c3) && (d3 = []).push({ type: c3, content: u3 }), this.request({ protocolName: Ro, requestData: { from: t3, to: n4, version: s4, sequence: a3, random: i3, time: r3, elements: d3, cloudCustomData: l3 } });
        } }, { key: "setMessageRead", value: function(e4) {
          var t3 = this, n4 = e4.conversationID, o3 = e4.lastMessageTime, s4 = "".concat(this._n, ".setMessageRead");
          Ve2.l("".concat(s4, " conversationID:").concat(n4, " lastMessageTime:").concat(o3)), et2(o3) || this.outputWarning("DoNotModifyLastTime");
          var a3 = new Aa("setC2CMessageRead");
          return a3.setMessage("conversationID:".concat(n4, " lastMessageTime:").concat(o3)), this.request({ protocolName: Do, requestData: { C2CMsgReaded: { cookie: "", C2CMsgReadedItem: [{ toAccount: n4.replace("C2C", ""), lastMessageTime: o3, receipt: 1 }] } } }).then(function() {
            a3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(s4, " ok"));
            var e5 = t3.getModule(qn);
            return e5.updateIsReadAfterReadReport({ conversationID: n4, lastMessageTime: o3 }), e5.updateUnreadCount(n4), Ya();
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              a3.setError(e5, o4, s5).end();
            }), Ve2.l("".concat(s4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getRoamingMessage", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".getRoamingMessage"), o3 = e4.peerAccount, s4 = e4.conversationID, a3 = e4.count, i3 = e4.lastMessageTime, r3 = e4.messageKey, u3 = "peerAccount:".concat(o3, " count:").concat(a3 || 15, " lastMessageTime:").concat(i3 || 0, " messageKey:").concat(r3);
          Ve2.l("".concat(n4, " ").concat(u3));
          var c3 = new Aa("getC2CRoamingMessages");
          return this.request({ protocolName: So, requestData: { peerAccount: o3, count: a3 || 15, lastMessageTime: i3 || 0, messageKey: r3 } }).then(function(e5) {
            var o4 = e5.data, a4 = o4.complete, i4 = o4.messageList, r4 = o4.messageKey, l3 = o4.lastMessageTime;
            it2(i4) ? Ve2.l("".concat(n4, " ok. complete:").concat(a4, " but messageList is undefined!")) : Ve2.l("".concat(n4, " ok. complete:").concat(a4, " count:").concat(i4.length)), c3.setNetworkType(t3.getNetworkType()).setMessage("".concat(u3, " complete:").concat(a4, " length:").concat(i4.length)).end();
            var d3 = t3.getModule(qn);
            1 === a4 && d3.setCompleted(s4);
            var p3 = d3.onRoamingMessage(i4, s4);
            d3.modifyMessageList(s4), d3.updateIsRead(s4), d3.updateRoamingMessageKeyAndTime(s4, r4, l3);
            var g3 = d3.getPeerReadTime(s4);
            if (Ve2.l("".concat(n4, " update isPeerRead property. conversationID:").concat(s4, " peerReadTime:").concat(g3)), g3)
              d3.updateMessageIsPeerReadProperty(s4, g3);
            else {
              var h3 = s4.replace(E2.CONV_C2C, "");
              t3.getRemotePeerReadTime([h3]).then(function() {
                d3.updateMessageIsPeerReadProperty(s4, d3.getPeerReadTime(s4));
              });
            }
            var _3 = "";
            if (p3.length > 0)
              _3 = p3[0].ID;
            else {
              var f3 = d3.getLocalOldestMessage(s4);
              f3 && (_3 = f3.ID);
            }
            return Ve2.l("".concat(n4, " nextReqID:").concat(_3, " stored message count:").concat(p3.length)), { nextReqID: _3, storedMessageList: p3 };
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              c3.setMessage(u3).setError(e5, o4, s5).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getRoamingMessagesHopping", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".getRoamingMessagesHopping"), o3 = e4.peerAccount, s4 = e4.time, a3 = void 0 === s4 ? 0 : s4, i3 = e4.count, r3 = e4.direction, u3 = "".concat(E2.CONV_C2C).concat(o3), c3 = "peerAccount:".concat(o3, " count:").concat(i3, " time:").concat(a3, " direction:").concat(r3);
          Ve2.l("".concat(n4, " ").concat(c3));
          var l3 = new Aa("getC2CRoamingMessagesHopping");
          return this.request({ protocolName: So, requestData: { peerAccount: o3, count: i3 + 1, lastMessageTime: a3, direction: r3 } }).then(function(e5) {
            var o4 = e5.data, s5 = o4.complete, a4 = o4.messageList, i4 = void 0 === a4 ? [] : a4, d3 = o4.lastMessageTime;
            Ve2.l("".concat(n4, " ok. complete:").concat(s5, " count:").concat(i4.length)), l3.setNetworkType(t3.getNetworkType()).setMessage("".concat(c3, " complete:").concat(s5, " length:").concat(i4.length)).end(), 1 !== s5 && (1 === r3 ? i4.pop() : i4.shift());
            var p3 = t3.getModule(qn).onRoamingMessage(i4, u3, false);
            t3._modifyMessageList(u3, p3);
            var g3 = t3._computeResult({ complete: s5, lastMessageTime: d3, resultList: p3 });
            return Ya(g3);
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              l3.setMessage(c3).setError(e5, o4, s5).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_computeResult", value: function(e4) {
          var t3 = e4.complete, n4 = void 0 === t3 ? 0 : t3, o3 = e4.lastMessageTime, s4 = e4.resultList, a3 = { messageList: m2(void 0 === s4 ? [] : s4), isCompleted: false, nextMessageTime: "" };
          return 1 === n4 ? (a3.isCompleted = true, a3) : (a3.nextMessageTime = o3, a3);
        } }, { key: "_modifyMessageList", value: function(e4, t3) {
          var n4 = this.getModule(qn).getLocalConversation(e4);
          if (n4)
            for (var o3 = n4.userProfile.nick, s4 = n4.userProfile.avatar, a3 = this.getModule(Gn2).getNickAndAvatarByUserID(this.getMyUserID()), i3 = a3.nick, r3 = a3.avatar, u3 = t3.length - 1; u3 >= 0; u3--) {
              var c3 = t3[u3];
              "in" === c3.flow && (c3.nick !== o3 && c3.setNickAndAvatar({ nick: o3 }), c3.avatar !== s4 && c3.setNickAndAvatar({ avatar: s4 })), "out" === c3.flow && (c3.nick !== i3 && c3.setNickAndAvatar({ nick: i3 }), c3.avatar !== r3 && c3.setNickAndAvatar({ avatar: r3 }));
            }
        } }, { key: "getRemotePeerReadTime", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".getRemotePeerReadTime");
          if (zt2(e4))
            return Ve2.w("".concat(n4, " userIDList is empty!")), Promise.resolve();
          var o3 = new Aa("getPeerReadTime");
          return Ve2.l("".concat(n4, " userIDList:").concat(e4)), this.request({ protocolName: Lo, requestData: { userIDList: e4 } }).then(function(s4) {
            var a3 = s4.data.peerReadTimeList;
            Ve2.l("".concat(n4, " ok. peerReadTimeList:").concat(a3));
            for (var i3 = "", r3 = t3.getModule(qn), u3 = 0; u3 < e4.length; u3++)
              i3 += "".concat(e4[u3], "-").concat(a3[u3], " "), a3[u3] > 0 && r3.recordPeerReadTime("C2C".concat(e4[u3]), a3[u3]);
            o3.setNetworkType(t3.getNetworkType()).setMessage(i3).end();
          }).catch(function(e5) {
            t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), s4 = n5[0], a3 = n5[1];
              o3.setError(e5, s4, a3).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5);
          });
        } }, { key: "sendReadReceipt", value: function(e4) {
          var t3 = this, n4 = e4[0].conversationID.replace(E2.CONV_C2C, ""), o3 = new Aa("sendC2CReadReceipt");
          o3.setMessage("peerAccount:".concat(n4));
          var s4 = this.getMyUserID(), a3 = e4.filter(function(e5) {
            return e5.from !== s4 && true === e5.needReadReceipt;
          }).map(function(e5) {
            return { fromAccount: e5.from, toAccount: e5.to, sequence: e5.sequence, random: e5.random, time: e5.time, clientTime: e5.clientTime };
          });
          if (0 === a3.length)
            return Za({ code: ha.READ_RECEIPT_MESSAGE_LIST_EMPTY });
          var i3 = "".concat(this._n, ".sendReadReceipt");
          return Ve2.l("".concat(i3, ". peerAccount:").concat(n4, " messageInfoList length:").concat(a3.length)), this.request({ protocolName: ps2, requestData: { peerAccount: n4, messageInfoList: a3 } }).then(function(e5) {
            return o3.end(), Ve2.l("".concat(i3, " ok")), Ya();
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), s5 = n5[0], a4 = n5[1];
              o3.setError(e5, s5, a4).end();
            }), Ve2.w("".concat(i3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getReadReceiptList", value: function(e4) {
          var t3 = "".concat(this._n, ".getReadReceiptList"), n4 = this.getMyUserID(), o3 = e4.filter(function(e5) {
            return e5.from === n4 && true === e5.needReadReceipt;
          });
          return Ve2.l("".concat(t3, " userID:").concat(n4, " messageList length:").concat(o3.length)), Xa({ messageList: o3 });
        } }, { key: "getMessageExtensions", value: function(e4, t3) {
          return Ve2.l("".concat(this._n, ".getMessageExtensions startSequence:").concat(t3)), this.request({ protocolName: Oo, requestData: { from: e4.from, to: e4.to, messageKey: this._getMessageKey(e4), startSequence: t3 } });
        } }, { key: "modifyMessageExtensions", value: function(e4, t3) {
          var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
          return Ve2.l("".concat(this._n, ".modifyMessageExtensions operateType:").concat(n4)), this.request({ protocolName: No, requestData: { from: e4.from, to: e4.to, messageKey: this._getMessageKey(e4), extensionList: t3, operateType: n4 } });
        } }, { key: "_getMessageKey", value: function(e4) {
          var t3 = e4.clientSequence, n4 = e4.random, o3 = e4.time;
          return "".concat(t3, "_").concat(n4, "_").concat(o3);
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._messageFromUnreadDBMap.clear(), this._signalingFromUnreadDBList.length = 0;
        } }]), s3;
      }(uo), $a = function() {
        function e3() {
          o2(this, e3), this.list = /* @__PURE__ */ new Map(), this._n = "MessageListHandler", this._latestMessageSentByPeerMap = /* @__PURE__ */ new Map(), this._latestMessageSentByMeMap = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "getLocalOldestMessageByConversationID", value: function(e4) {
          if (!e4)
            return null;
          if (!this.list.has(e4))
            return null;
          var t3 = this.list.get(e4).values();
          return t3 ? t3.next().value : null;
        } }, { key: "pushIn", value: function(e4) {
          var t3 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n3 = e4.conversationID, o3 = true;
          this.list.has(n3) || this.list.set(n3, /* @__PURE__ */ new Map());
          var s3 = this._getUniqueIDOfMessage(e4), a3 = this.list.get(n3).has(s3);
          if (a3) {
            var i3 = this.list.get(n3).get(s3);
            if (!t3 || true === i3.isModified)
              return o3 = false;
          }
          return this.list.get(n3).set(s3, e4), this._setLatestMessageSentByPeer(n3, e4), this._setLatestMessageSentByMe(n3, e4), o3;
        } }, { key: "unshift", value: function(e4, t3) {
          var n3;
          if (at2(e4) ? e4.length > 0 && (n3 = e4[0].conversationID, this._unshiftMultipleMessages(e4, t3)) : (n3 = e4.conversationID, this._unshiftSingleMessage(e4, t3)), n3 && n3.startsWith(E2.CONV_C2C)) {
            var o3 = Array.from(this.list.get(n3).values()), s3 = o3.length;
            if (0 === s3)
              return;
            for (var a3 = s3 - 1; a3 >= 0; a3--)
              if ("out" === o3[a3].flow) {
                this._setLatestMessageSentByMe(n3, o3[a3]);
                break;
              }
            for (var i3 = s3 - 1; i3 >= 0; i3--)
              if ("in" === o3[i3].flow) {
                this._setLatestMessageSentByPeer(n3, o3[i3]);
                break;
              }
          }
        } }, { key: "_unshiftSingleMessage", value: function(e4, t3) {
          var n3 = e4.conversationID, o3 = this._getUniqueIDOfMessage(e4);
          if (!this.list.has(n3))
            return this.list.set(n3, /* @__PURE__ */ new Map()), this.list.get(n3).set(o3, e4), void t3.push(e4);
          var s3 = this.list.get(n3), a3 = Array.from(s3);
          s3.has(o3) || (a3.unshift([o3, e4]), this.list.set(n3, new Map(a3)), t3.push(e4));
        } }, { key: "_unshiftMultipleMessages", value: function(e4, t3) {
          for (var n3 = e4.length, o3 = [], s3 = e4[0].conversationID, a3 = this.list.get(s3), i3 = this.list.has(s3) ? Array.from(a3) : [], r3 = 0; r3 < n3; r3++) {
            var u3 = this._getUniqueIDOfMessage(e4[r3]);
            a3 && a3.has(u3) || (o3.push([u3, e4[r3]]), t3.push(e4[r3]));
          }
          this.list.set(s3, new Map(o3.concat(i3)));
        } }, { key: "remove", value: function(e4) {
          var t3 = e4.conversationID, n3 = this._getUniqueIDOfMessage(e4);
          this.list.has(t3) && this.list.get(t3).delete(n3);
        } }, { key: "revoke", value: function(e4, t3, n3) {
          if (Ve2.d("revoke message", e4, t3, n3), this.list.has(e4)) {
            var o3, s3 = D2(this.list.get(e4));
            try {
              for (s3.s(); !(o3 = s3.n()).done; ) {
                var a3 = v2(o3.value, 2)[1];
                if (a3.sequence === t3 && (it2(n3) || a3.random === n3))
                  return a3.isRevoked || (a3.isRevoked = true), a3;
              }
            } catch (i3) {
              s3.e(i3);
            } finally {
              s3.f();
            }
          }
          return null;
        } }, { key: "removeByConversationID", value: function(e4) {
          this.list.has(e4) && (this.list.delete(e4), this._latestMessageSentByPeerMap.delete(e4), this._latestMessageSentByMeMap.delete(e4));
        } }, { key: "findMessage", value: function(e4) {
          var t3, n3 = null, o3 = D2(this.list);
          try {
            for (o3.s(); !(t3 = o3.n()).done; )
              for (var s3 = m2(v2(t3.value, 2)[1].values()), a3 = s3.length, i3 = 0; i3 < a3; i3++)
                if (s3[i3].ID === e4) {
                  n3 = s3[i3];
                  break;
                }
          } catch (r3) {
            o3.e(r3);
          } finally {
            o3.f();
          }
          return n3;
        } }, { key: "updateMessageIsPeerReadProperty", value: function(e4, t3) {
          var n3 = [];
          if (this.list.has(e4)) {
            var o3, s3 = D2(this.list.get(e4));
            try {
              for (s3.s(); !(o3 = s3.n()).done; ) {
                var a3 = v2(o3.value, 2)[1];
                a3.time <= t3 && !a3.isPeerRead && "out" === a3.flow && (a3.isPeerRead = true, n3.push(a3));
              }
            } catch (i3) {
              s3.e(i3);
            } finally {
              s3.f();
            }
            Ve2.l("".concat(this._n, ".updateMessageIsPeerReadProperty conversationID:").concat(e4, " peerReadTime:").concat(t3, " count:").concat(n3.length));
          }
          return n3;
        } }, { key: "updateMessageIsModifiedProperty", value: function(e4) {
          var t3 = e4.conversationID;
          if (this.list.has(t3)) {
            var n3 = this._getUniqueIDOfMessage(e4), o3 = this.list.get(t3).get(n3);
            o3 && (o3.isModified = true);
          }
        } }, { key: "hasLocalMessageList", value: function(e4) {
          return this.list.has(e4);
        } }, { key: "getLocalMessageList", value: function(e4) {
          return this.hasLocalMessageList(e4) ? m2(this.list.get(e4).values()) : [];
        } }, { key: "hasLocalMessage", value: function(e4, t3) {
          for (var n3 = false, o3 = this.getLocalMessageList(e4), s3 = o3.length, a3 = 0; a3 < s3; a3++)
            o3[a3].ID === t3 && (n3 = true);
          return n3;
        } }, { key: "getLocalMessage", value: function(e4, t3) {
          for (var n3 = null, o3 = this.getLocalMessageList(e4), s3 = o3.length, a3 = 0; a3 < s3; a3++)
            if (o3[a3].ID === t3) {
              n3 = o3[a3];
              break;
            }
          return n3;
        } }, { key: "getLocalLastMessage", value: function(e4) {
          var t3 = this.getLocalMessageList(e4);
          return t3[t3.length - 1];
        } }, { key: "getLocalOldestMessage", value: function(e4) {
          return this.getLocalMessageList(e4)[0];
        } }, { key: "_setLatestMessageSentByPeer", value: function(e4, t3) {
          e4.startsWith(E2.CONV_C2C) && "in" === t3.flow && this._latestMessageSentByPeerMap.set(e4, t3);
        } }, { key: "_setLatestMessageSentByMe", value: function(e4, t3) {
          e4.startsWith(E2.CONV_C2C) && "out" === t3.flow && this._latestMessageSentByMeMap.set(e4, t3);
        } }, { key: "getLatestMessageSentByPeer", value: function(e4) {
          return this._latestMessageSentByPeerMap.get(e4);
        } }, { key: "getLatestMessageSentByMe", value: function(e4) {
          return this._latestMessageSentByMeMap.get(e4);
        } }, { key: "modifyMessageSentByPeer", value: function(e4) {
          var t3 = e4.conversationID, n3 = e4.latestNick, o3 = e4.latestAvatar, s3 = this.list.get(t3);
          if (!zt2(s3)) {
            var a3 = Array.from(s3.values()), i3 = a3.length;
            if (0 !== i3) {
              for (var r3 = null, u3 = 0, c3 = false, l3 = i3 - 1; l3 >= 0; l3--)
                "in" === a3[l3].flow && ((r3 = a3[l3]).nick !== n3 && (r3.setNickAndAvatar({ nick: n3 }), c3 = true), r3.avatar !== o3 && (r3.setNickAndAvatar({ avatar: o3 }), c3 = true), c3 && (u3 += 1));
              Ve2.l("".concat(this._n, ".modifyMessageSentByPeer conversationID:").concat(t3, " count:").concat(u3));
            }
          }
        } }, { key: "modifyMessageSentByMe", value: function(e4) {
          var t3 = e4.conversationID, n3 = e4.latestNick, o3 = e4.latestAvatar, s3 = this.list.get(t3);
          if (!zt2(s3)) {
            var a3 = Array.from(s3.values()), i3 = a3.length;
            if (0 !== i3) {
              for (var r3 = null, u3 = 0, c3 = false, l3 = i3 - 1; l3 >= 0; l3--)
                "out" === a3[l3].flow && ((r3 = a3[l3]).nick !== n3 && (r3.setNickAndAvatar({ nick: n3 }), c3 = true), r3.avatar !== o3 && (r3.setNickAndAvatar({ avatar: o3 }), c3 = true), c3 && (u3 += 1));
              Ve2.l("".concat(this._n, ".modifyMessageSentByMe conversationID:").concat(t3, " count:").concat(u3));
            }
          }
        } }, { key: "getTopicConversationIDList", value: function(e4) {
          return m2(this.list.keys()).filter(function(t3) {
            return t3.startsWith("".concat(E2.CONV_GROUP).concat(e4));
          });
        } }, { key: "traversal", value: function() {
          if (0 !== this.list.size && -1 === Ve2.getLevel()) {
            console.group("conversationID-messageCount");
            var e4, t3 = D2(this.list);
            try {
              for (t3.s(); !(e4 = t3.n()).done; ) {
                var n3 = v2(e4.value, 2), o3 = n3[0], s3 = n3[1];
                formatAppLog("log", "at node_modules/tim-js-sdk/tim-js.js:1", "".concat(o3, "-").concat(s3.size));
              }
            } catch (a3) {
              t3.e(a3);
            } finally {
              t3.f();
            }
            console.groupEnd();
          }
        } }, { key: "onMessageModified", value: function(e4, t3) {
          if (!this.list.has(e4))
            return { isUpdated: false, message: null };
          var n3 = this._getUniqueIDOfMessage(t3), o3 = this.list.get(e4).has(n3);
          if (Ve2.d("".concat(this._n, ".onMessageModified conversationID:").concat(e4, " uniqueID:").concat(n3, " has:").concat(o3)), o3) {
            var s3 = this.list.get(e4).get(n3), a3 = t3.messageVersion, i3 = t3.elements, r3 = t3.cloudCustomData;
            return s3.version < a3 ? (s3.version = a3, s3._elements = JSON.parse(JSON.stringify(i3)), s3.payload = JSON.parse(JSON.stringify(i3[0].content)), s3.type = i3[0].type, s3.cloudCustomData = r3, s3.isModified = true, { isUpdated: true, message: s3 }) : { isUpdated: false, message: s3 };
          }
          return { isUpdated: false, message: null };
        } }, { key: "_getUniqueIDOfMessage", value: function(e4) {
          var t3 = e4.from, n3 = e4.to, o3 = e4.random, s3 = e4.sequence, a3 = e4.time;
          return "".concat(t3, "-").concat(n3, "-").concat(o3, "-").concat(s3, "-").concat(a3);
        } }, { key: "reset", value: function() {
          this.list.clear(), this._latestMessageSentByPeerMap.clear(), this._latestMessageSentByMeMap.clear();
        } }]), e3;
      }(), ei = "_a2KeyAndTinyIDUpdated", ti = "_cloudConfigUpdated", ni = "_profileUpdated";
      function oi(e3) {
        this.mixin(e3);
      }
      oi.mixin = function(e3) {
        var t3 = e3.prototype || e3;
        t3._isReady = false, t3.ready = function(e4) {
          var t4 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          if (e4)
            return this._isReady ? void (t4 ? e4.call(this) : setTimeout(e4, 1)) : (this._readyQueue = this._readyQueue || [], void this._readyQueue.push(e4));
        }, t3.triggerReady = function() {
          var e4 = this;
          this._isReady = true, setTimeout(function() {
            var t4 = e4._readyQueue;
            e4._readyQueue = [], t4 && t4.length > 0 && t4.forEach(function(e5) {
              e5.call(this);
            }, e4);
          }, 1);
        }, t3.resetReady = function() {
          this._isReady = false, this._readyQueue = [];
        }, t3.isReady = function() {
          return this._isReady;
        };
      };
      var si = ["jpg", "jpeg", "gif", "png", "bmp", "image", "webp"], ai = ["mp4", "quicktime", "mov"], ii = 1, ri = 2, ui = 3, ci = 255, li = function() {
        function e3(t3) {
          var n3 = this;
          o2(this, e3), zt2(t3) || (this.userID = t3.userID || "", this.nick = t3.nick || "", this.gender = t3.gender || "", this.birthday = t3.birthday || 0, this.location = t3.location || "", this.selfSignature = t3.selfSignature || "", this.allowType = t3.allowType || E2.ALLOW_TYPE_ALLOW_ANY, this.language = t3.language || 0, this.avatar = t3.avatar || "", this.messageSettings = t3.messageSettings || 0, this.adminForbidType = t3.adminForbidType || E2.FORBID_TYPE_NONE, this.level = t3.level || 0, this.role = t3.role || 0, this.lastUpdatedTime = 0, this.profileCustomField = [], zt2(t3.profileCustomField) || t3.profileCustomField.forEach(function(e4) {
            n3.profileCustomField.push({ key: e4.key, value: e4.value });
          }));
        }
        return a2(e3, [{ key: "validate", value: function(e4) {
          var t3 = true, n3 = "";
          if (zt2(e4))
            return { valid: false, tips: "empty options" };
          if (e4.profileCustomField)
            for (var o3 = e4.profileCustomField.length, s3 = null, a3 = 0; a3 < o3; a3++) {
              if (s3 = e4.profileCustomField[a3], !nt2(s3.key) || -1 === s3.key.indexOf("Tag_Profile_Custom"))
                return { valid: false, tips: "The prefix of keys of the custom profile key-value pairs (which is profileCustomField) must be Tag_Profile_Custom" };
              if (!nt2(s3.value))
                return { valid: false, tips: "The type of values of the custom profile key-value pairs (which is profileCustomField) must be String" };
            }
          for (var i3 in e4)
            if (Object.prototype.hasOwnProperty.call(e4, i3)) {
              if ("profileCustomField" === i3)
                continue;
              if (zt2(e4[i3]) && !nt2(e4[i3]) && !et2(e4[i3])) {
                n3 = "key:" + i3 + ", invalid value:" + e4[i3], t3 = false;
                continue;
              }
              switch (i3) {
                case "nick":
                  nt2(e4[i3]) || (n3 = "nick must be a string", t3 = false), ht2(e4[i3]) > 500 && (n3 = "nick name limited: must less than or equal to ".concat(500, " bytes, current size: ").concat(ht2(e4[i3]), " bytes"), t3 = false);
                  break;
                case "gender":
                  mt2(Ke2, e4.gender) || (n3 = "key:gender, invalid value:" + e4.gender, t3 = false);
                  break;
                case "birthday":
                  et2(e4.birthday) || (n3 = "birthday must be a number", t3 = false);
                  break;
                case "location":
                  nt2(e4.location) || (n3 = "location must be a string", t3 = false);
                  break;
                case "selfSignature":
                  nt2(e4.selfSignature) || (n3 = "selfSignature must be a string", t3 = false);
                  break;
                case "allowType":
                  mt2(Ye2, e4.allowType) || (n3 = "key:allowType, invalid value:" + e4.allowType, t3 = false);
                  break;
                case "language":
                  et2(e4.language) || (n3 = "language must be a number", t3 = false);
                  break;
                case "avatar":
                  nt2(e4.avatar) || (n3 = "avatar must be a string", t3 = false);
                  break;
                case "messageSettings":
                  0 !== e4.messageSettings && 1 !== e4.messageSettings && (n3 = "messageSettings must be 0 or 1", t3 = false);
                  break;
                case "adminForbidType":
                  mt2(We2, e4.adminForbidType) || (n3 = "key:adminForbidType, invalid value:" + e4.adminForbidType, t3 = false);
                  break;
                case "level":
                  et2(e4.level) || (n3 = "level must be a number", t3 = false);
                  break;
                case "role":
                  et2(e4.role) || (n3 = "role must be a number", t3 = false);
                  break;
                default:
                  n3 = "unknown key:" + i3 + "  " + e4[i3], t3 = false;
              }
            }
          return { valid: t3, tips: n3 };
        } }]), e3;
      }(), di = a2(function e3(t3) {
        o2(this, e3), this.value = t3, this.next = null;
      }), pi = function() {
        function e3(t3) {
          o2(this, e3), this.MAX_LENGTH = t3, this.pTail = null, this.pNodeToDel = null, this.map = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "set", value: function(e4) {
          var t3 = new di(e4);
          if (this.map.size < this.MAX_LENGTH)
            null === this.pTail ? (this.pTail = t3, this.pNodeToDel = t3) : (this.pTail.next = t3, this.pTail = t3), this.map.set(e4, 1);
          else {
            var n3 = this.pNodeToDel;
            this.pNodeToDel = this.pNodeToDel.next, this.map.delete(n3.value), n3.next = null, n3 = null, this.pTail.next = t3, this.pTail = t3, this.map.set(e4, 1);
          }
        } }, { key: "has", value: function(e4) {
          return this.map.has(e4);
        } }, { key: "delete", value: function(e4) {
          this.has(e4) && this.map.delete(e4);
        } }, { key: "tail", value: function() {
          return this.pTail;
        } }, { key: "size", value: function() {
          return this.map.size;
        } }, { key: "data", value: function() {
          return Array.from(this.map.keys());
        } }, { key: "reset", value: function() {
          for (var e4; null !== this.pNodeToDel; )
            e4 = this.pNodeToDel, this.pNodeToDel = this.pNodeToDel.next, e4.next = null, e4 = null;
          this.pTail = null, this.map.clear();
        } }]), e3;
      }(), gi = ["groupID", "name", "avatar", "type", "introduction", "notification", "ownerID", "selfInfo", "createTime", "infoSequence", "lastInfoTime", "lastMessage", "nextMessageSeq", "memberNum", "maxMemberNum", "memberList", "joinOption", "groupCustomField", "muteAllMembers", "isSupportTopic", "inviteOption", "_lastRevokedTime"], hi = function() {
        function e3(t3) {
          o2(this, e3), this.groupID = "", this.name = "", this.avatar = "", this.type = "", this.introduction = "", this.notification = "", this.ownerID = "", this.createTime = "", this.infoSequence = "", this.lastInfoTime = "", this.selfInfo = { messageRemindType: "", joinTime: "", nameCard: "", role: "", userID: "", memberCustomField: void 0, readedSequence: 0, excludedUnreadSequenceList: void 0 }, this.lastMessage = { lastTime: "", lastSequence: "", fromAccount: "", messageForShow: "" }, this.nextMessageSeq = "", this.memberNum = "", this.memberCount = "", this.maxMemberNum = "", this.maxMemberCount = "", this.joinOption = "", this.inviteOption = "", this.groupCustomField = [], this.muteAllMembers = false, this.isSupportTopic = false, this._lastRevokedTime = 0, this._initGroup(t3);
        }
        return a2(e3, [{ key: "memberNum", get: function() {
          return this.memberCount;
        }, set: function(e4) {
        } }, { key: "maxMemberNum", get: function() {
          return this.maxMemberCount;
        }, set: function(e4) {
        } }, { key: "_initGroup", value: function(e4) {
          for (var t3 in e4)
            gi.indexOf(t3) < 0 || ("selfInfo" !== t3 ? ("memberNum" === t3 && (this.memberCount = e4[t3]), "maxMemberNum" === t3 && (this.maxMemberCount = e4[t3]), "isSupportTopic" !== t3 ? this[t3] = e4[t3] : this.isSupportTopic = 1 === e4[t3]) : this.updateSelfInfo(e4[t3]));
        } }, { key: "updateGroup", value: function(e4) {
          var t3 = this;
          e4.appid = void 0, e4.grossTopicNextMsgSeq = void 0, e4.selfInfo && (e4.selfInfo.grossTopicReadSeq = void 0);
          var n3 = JSON.parse(JSON.stringify(e4));
          n3.lastMsgTime && (this.lastMessage.lastTime = n3.lastMsgTime), it2(n3.muteAllMembers) || ("On" === n3.muteAllMembers ? n3.muteAllMembers = true : n3.muteAllMembers = false), n3.groupCustomField && Ct2(this.groupCustomField, n3.groupCustomField), it2(n3.memberNum) || (this.memberCount = n3.memberNum), it2(n3.maxMemberNum) || (this.maxMemberCount = n3.maxMemberNum), it2(n3.isSupportTopic) || (this.isSupportTopic = et2(n3.isSupportTopic) ? 1 === n3.isSupportTopic : n3.isSupportTopic), pt2(this, n3, ["members", "errorCode", "lastMsgTime", "groupCustomField", "memberNum", "maxMemberNum", "isSupportTopic"]), at2(n3.members) && n3.members.length > 0 && n3.members.forEach(function(e5) {
            e5.userID === t3.selfInfo.userID && pt2(t3.selfInfo, e5, ["sequence"]);
          });
        } }, { key: "updateSelfInfo", value: function(e4) {
          var n3 = { nameCard: e4.nameCard, joinTime: e4.joinTime, role: e4.role, messageRemindType: e4.messageRemindType, readedSequence: e4.readedSequence, excludedUnreadSequenceList: e4.excludedUnreadSequenceList };
          pt2(this.selfInfo, t2({}, n3), [], ["", null, void 0, 0, NaN]);
        } }, { key: "setSelfNameCard", value: function(e4) {
          this.selfInfo.nameCard = e4;
        } }]), e3;
      }(), _i = function(e3, n3) {
        return it2(e3) ? { lastTime: 0, lastSequence: 0, fromAccount: 0, messageForShow: "", payload: null, type: "", isRevoked: false, cloudCustomData: "", onlineOnlyFlag: false, nick: "", nameCard: "", version: 0, isPeerRead: false, revoker: null } : e3 instanceof Wa ? { lastTime: e3.time || 0, lastSequence: e3.sequence || 0, fromAccount: e3.from || "", messageForShow: Vt2(e3.type, e3.payload, n3), payload: e3.payload || null, type: e3.type || null, isRevoked: e3.isRevoked || false, cloudCustomData: e3.cloudCustomData || "", onlineOnlyFlag: e3._onlineOnlyFlag || false, nick: e3.nick || "", nameCard: e3.nameCard || "", version: e3.version || 0, isPeerRead: e3.isPeerRead || false, revoker: e3.revoker || null } : t2(t2({}, e3), {}, { messageForShow: Vt2(e3.type, e3.payload, n3) });
      }, fi = function() {
        function e3(t3, n3) {
          o2(this, e3), this.conversationID = t3.conversationID || "", this.unreadCount = t3.unreadCount || 0, this.type = t3.type || "", this.lastMessage = _i(t3.lastMessage, n3), t3.lastMsgTime && (this.lastMessage.lastTime = t3.lastMsgTime), this._isInfoCompleted = false, this.peerReadTime = t3.peerReadTime || 0, this.groupAtInfoList = [], this.remark = "", this.isPinned = t3.isPinned || false, this.messageRemindType = "", this.markList = t3.markList || [], this.customData = t3.customData || "", this.conversationGroupList = t3.conversationGroupList || [], this._initProfile(t3);
        }
        return a2(e3, [{ key: "toAccount", get: function() {
          return this.conversationID.startsWith(E2.CONV_C2C) ? this.conversationID.replace(E2.CONV_C2C, "") : this.conversationID.startsWith(E2.CONV_GROUP) ? this.conversationID.replace(E2.CONV_GROUP, "") : "";
        } }, { key: "subType", get: function() {
          return this.groupProfile ? this.groupProfile.type : "";
        } }, { key: "_initProfile", value: function(e4) {
          var t3 = this;
          Object.keys(e4).forEach(function(n3) {
            switch (n3) {
              case "userProfile":
                t3.userProfile = e4.userProfile;
                break;
              case "groupProfile":
                t3.groupProfile = e4.groupProfile;
            }
          }), it2(this.userProfile) && this.type === E2.CONV_C2C ? this.userProfile = new li({ userID: e4.conversationID.replace("C2C", "") }) : it2(this.groupProfile) && this.type === E2.CONV_GROUP && (this.groupProfile = new hi({ groupID: e4.conversationID.replace("GROUP", "") }));
        } }, { key: "updateUnreadCount", value: function(e4) {
          var t3 = e4.nextUnreadCount, n3 = e4.isFromGetConversations, o3 = e4.isUnreadC2CMessage;
          it2(t3) || (Tt2(this.subType) ? this.unreadCount = 0 : n3 && this.type === E2.CONV_GROUP || n3 && this.type === E2.CONV_TOPIC || o3 && this.type === E2.CONV_C2C ? this.unreadCount = t3 : this.unreadCount = this.unreadCount + t3);
        } }, { key: "updateLastMessage", value: function(e4) {
          this.lastMessage = _i(e4);
        } }, { key: "updateGroupAtInfoList", value: function(e4) {
          if (!this._isNeedMergeGroupAtInfo(e4)) {
            var t3, n3 = (M2(t3 = e4.groupAtType) || y2(t3) || I2(t3) || T2()).slice(0);
            -1 !== n3.indexOf(E2.CONV_AT_ME) && -1 !== n3.indexOf(E2.CONV_AT_ALL) && (n3 = [E2.CONV_AT_ALL_AT_ME]);
            var o3 = { from: e4.from, groupID: e4.groupID, topicID: e4.topicID, messageSequence: e4.sequence, atTypeArray: n3, __random: e4.__random, __sequence: e4.__sequence };
            this.groupAtInfoList.push(o3);
          }
        } }, { key: "_isNeedMergeGroupAtInfo", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.sequence;
          if (!Dt2({ groupID: t3 }))
            return false;
          var o3 = false;
          return this.groupAtInfoList.forEach(function(t4) {
            t4.messageSequence === n3 && (t4.atTypeArray.indexOf(E2.CONV_AT_ME) > -1 && e4.groupAtType.indexOf(E2.CONV_AT_ALL) > -1 && (t4.atTypeArray = [E2.CONV_AT_ALL_AT_ME]), t4.atTypeArray.indexOf(E2.CONV_AT_ALL) > -1 && e4.groupAtType.indexOf(E2.CONV_AT_ME) > -1 && (t4.atTypeArray = [E2.CONV_AT_ALL_AT_ME], t4.__random = e4.__random, t4.__sequence = e4.__sequence), o3 = true);
          }), o3;
        } }, { key: "clearGroupAtInfoList", value: function() {
          this.groupAtInfoList.length = 0;
        } }, { key: "reduceUnreadCount", value: function() {
          return this.unreadCount >= 1 && (this.unreadCount -= 1, true);
        } }, { key: "isLastMessageRevoked", value: function(e4) {
          var t3 = e4.sequence, n3 = e4.time;
          return this.type === E2.CONV_C2C && t3 === this.lastMessage.lastSequence && n3 === this.lastMessage.lastTime || this.type === E2.CONV_GROUP && t3 === this.lastMessage.lastSequence;
        } }, { key: "setLastMessageRevoked", value: function(e4) {
          this.lastMessage.isRevoked = e4;
        } }, { key: "setLastMessageRevoker", value: function(e4) {
          this.lastMessage.revoker = e4;
        } }]), e3;
      }(), vi = function() {
        function e3(t3) {
          o2(this, e3), this._conversationModule = t3, this._n = "MessageRemindHandler", this._updateSequence = 0;
        }
        return a2(e3, [{ key: "getC2CMessageRemindType", value: function() {
          var e4 = this, t3 = "".concat(this._n, ".getC2CMessageRemindType");
          return this._conversationModule.request({ protocolName: Eo, updateSequence: this._updateSequence }).then(function(n3) {
            Ve2.l("".concat(t3, " ok"));
            var o3 = n3.data, s3 = o3.updateSequence, a3 = o3.muteFlagList;
            e4._updateSequence = s3, e4._patchC2CMessageRemindType(a3);
          }).catch(function(e5) {
            Ve2.e("".concat(t3, " failed. error:"), e5);
          });
        } }, { key: "_patchC2CMessageRemindType", value: function(e4) {
          var t3 = this, n3 = 0, o3 = "";
          at2(e4) && e4.length > 0 && e4.forEach(function(e5) {
            var s3 = e5.userID, a3 = e5.muteFlag;
            0 === a3 ? o3 = E2.MSG_REMIND_ACPT_AND_NOTE : 1 === a3 ? o3 = E2.MSG_REMIND_DISCARD : 2 === a3 && (o3 = E2.MSG_REMIND_ACPT_NOT_NOTE), true === t3._conversationModule.patchMessageRemindType({ ID: s3, isC2CConversation: true, messageRemindType: o3 }) && (n3 += 1);
          }), Ve2.l("".concat(this._n, "._patchC2CMessageRemindType count:").concat(n3));
        } }, { key: "set", value: function(e4) {
          return e4.groupID ? this._setGroupMessageRemindType(e4) : at2(e4.userIDList) ? this._setC2CMessageRemindType(e4) : void 0;
        } }, { key: "_setGroupMessageRemindType", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, "._setGroupMessageRemindType"), o3 = e4.groupID, s3 = e4.messageRemindType, a3 = "groupID:".concat(o3, " messageRemindType:").concat(s3), i3 = new Aa("setMessageRemindType");
          return i3.setMessage(a3), this._getModule(wn).modifyGroupMemberInfo({ groupID: o3, messageRemindType: s3, userID: this._conversationModule.getMyUserID() }).then(function() {
            i3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok. ").concat(a3));
            var o4 = t3.onGroupMessageRemindTypeUpdated(e4);
            return t3._conversationModule.emitTotalUnreadMessageCountUpdate(), Ya(o4);
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              i3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "onGroupMessageRemindTypeUpdated", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.messageRemindType, o3 = this._getModule(Pn).getLocalGroupProfile(t3);
          if (o3 && (o3.selfInfo.messageRemindType = n3), kt2(t3)) {
            var s3 = t3, a3 = xt2(s3), i3 = this._getModule(Fn).getLocalTopic(a3, s3);
            return i3 && (i3.updateSelfInfo({ messageRemindType: n3 }), this._conversationModule.emitOuterEvent(k.TOPIC_UPDATED, { groupID: a3, topic: i3 })), { topic: i3 };
          }
          return this._conversationModule.patchMessageRemindType({ ID: t3, isC2CConversation: false, messageRemindType: n3 }) && this._emitConversationUpdate(), { group: o3 };
        } }, { key: "_setC2CMessageRemindType", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, "._setC2CMessageRemindType"), o3 = e4.userIDList, s3 = e4.messageRemindType, a3 = o3.slice(0, 30), i3 = 0;
          s3 === E2.MSG_REMIND_DISCARD ? i3 = 1 : s3 === E2.MSG_REMIND_ACPT_NOT_NOTE && (i3 = 2);
          var r3 = "userIDList:".concat(a3, " messageRemindType:").concat(s3), u3 = new Aa("setMessageRemindType");
          return u3.setMessage(r3), this._conversationModule.request({ protocolName: ko, requestData: { userIDList: a3, muteFlag: i3 } }).then(function(e5) {
            u3.setNetworkType(t3._conversationModule.getNetworkType()).end();
            var o4 = e5.data, i4 = o4.updateSequence, r4 = o4.errorList;
            t3._updateSequence = i4;
            var c3 = [], l3 = [];
            at2(r4) && r4.forEach(function(e6) {
              c3.push(e6.userID), l3.push({ userID: e6.userID, code: e6.errorCode });
            });
            var d3 = a3.filter(function(e6) {
              return -1 === c3.indexOf(e6);
            });
            Ve2.l("".concat(n3, " ok. successUserIDList:").concat(d3, " failureUserIDList:").concat(JSON.stringify(l3)));
            var p3 = 0;
            return d3.forEach(function(e6) {
              t3._conversationModule.patchMessageRemindType({ ID: e6, isC2CConversation: true, messageRemindType: s3 }) && (p3 += 1);
            }), p3 >= 1 && t3._emitConversationUpdate(), a3.length = c3.length = 0, t3._conversationModule.emitTotalUnreadMessageCountUpdate(), Xa({ successUserIDList: d3.map(function(e6) {
              return { userID: e6 };
            }), failureUserIDList: l3 });
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              u3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_getModule", value: function(e4) {
          return this._conversationModule.getModule(e4);
        } }, { key: "_emitConversationUpdate", value: function() {
          this._conversationModule.emitConversationUpdate(true, false);
        } }, { key: "setUpdateSequence", value: function(e4) {
          this._updateSequence = e4;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._updateSequence = 0;
        } }]), e3;
      }(), mi = function() {
        function e3(t3) {
          o2(this, e3), this._conversationModule = t3, this._n = "ConvGroupHandler", this._convGroupMap = /* @__PURE__ */ new Map(), this._startIndex = 0, this._pagingStatus = $t2.NOT_START;
        }
        return a2(e3, [{ key: "setConvCustomData", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("setConvCustomData"), o3 = e4.conversationIDList, s3 = e4.customData;
          Ve2.l("".concat(n3, " options:"), e4);
          var a3 = new Aa("setConvCustomData");
          a3.setMessage(JSON.stringify(e4));
          var i3 = { fromAccount: this._getMyUserID(), itemList: [] }, r3 = [], u3 = [];
          return o3.forEach(function(e5) {
            if (!t3._hasLocalConversation(e5))
              return t3._onConversationNotFound(u3, e5), true;
            if (!Et2(e5) && !St2(e5))
              return t3._onConversationIDInvalid(u3, e5), true;
            var n4 = { operationType: 2, contactItem: void 0, customMark: s3 };
            Et2(e5) ? n4.contactItem = { type: 1, toAccount: e5.replace(E2.CONV_C2C, "") } : St2(e5) && (n4.contactItem = { type: 2, groupID: e5.replace(E2.CONV_GROUP, "") }), i3.itemList.push(n4);
          }), u3.length === o3.length ? Xa({ successConversationIDList: r3, failureConversationIDList: u3 }) : this._conversationModule.request({ protocolName: qo, requestData: i3 }).then(function(e5) {
            a3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var o4 = e5.data.resultItem;
            if (at2(o4)) {
              var i4, c3, l3 = false;
              o4.forEach(function(e6) {
                i4 = t3._concatConversationID(e6.contactItem), 0 === e6.resultCode ? (r3.push(i4), (c3 = t3._getLocalConversation(i4)) && c3.customData !== s3 && (c3.customData = s3, l3 = true)) : u3.push({ conversationID: i4, code: e6.resultCode, message: e6.resultInfo });
              }), true === l3 && t3._emitConversationUpdate();
            }
            return Ya({ successConversationIDList: r3, failureConversationIDList: u3 });
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              a3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "markConversation", value: function(e4) {
          var t3 = this;
          if (!this._conversationModule.canIUse(B2.CONV_MARK))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".").concat("markConversation"), o3 = e4.conversationIDList, s3 = e4.markType, a3 = e4.enableMark;
          Ve2.l("".concat(n3, " options:"), e4);
          var i3 = new Aa("markConversation");
          i3.setMessage(JSON.stringify(e4));
          var r3 = void 0, u3 = void 0, c3 = this._getFlagBit(s3);
          true === a3 ? u3 = [c3] : r3 = [c3];
          var l3 = { fromAccount: this._getMyUserID(), itemList: [] }, d3 = [], p3 = [];
          return o3.forEach(function(e5) {
            if (!t3._hasLocalConversation(e5))
              return t3._onConversationNotFound(p3, e5), true;
            if (!Et2(e5) && !St2(e5))
              return t3._onConversationIDInvalid(p3, e5), true;
            var n4 = { operationType: 1, contactItem: void 0, clearMark: r3, setMark: u3 };
            Et2(e5) ? n4.contactItem = { type: 1, toAccount: e5.replace(E2.CONV_C2C, "") } : St2(e5) && (n4.contactItem = { type: 2, groupID: e5.replace(E2.CONV_GROUP, "") }), l3.itemList.push(n4);
          }), p3.length === o3.length ? Xa({ successConversationIDList: d3, failureConversationIDList: p3 }) : this._conversationModule.request({ protocolName: xo, requestData: l3 }).then(function(e5) {
            i3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var o4 = e5.data.resultItem;
            if (at2(o4)) {
              var r4, u4, c4 = false;
              o4.forEach(function(e6) {
                if (r4 = t3._concatConversationID(e6.contactItem), 0 === e6.resultCode) {
                  if (d3.push(r4), u4 = t3._getLocalConversation(r4)) {
                    var n4 = u4.markList.indexOf(s3);
                    true === a3 ? -1 === n4 && (u4.markList.push(s3), c4 = true) : -1 !== n4 && (u4.markList.splice(n4, 1), c4 = true);
                  }
                } else
                  p3.push({ conversationID: r4, code: e6.resultCode, message: e6.resultInfo });
              }), true === c4 && t3._emitConversationUpdate();
            }
            return Ya({ successConversationIDList: d3, failureConversationIDList: p3 });
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              i3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getLocalConvGroupList", value: function() {
          var e4 = this;
          return Ve2.l("".concat(this._n, ".getLocalConvGroupList pagingStatus:").concat(this._pagingStatus)), this._pagingStatus === $t2.REJECTED ? this.getRemoteConvGroupList().then(function() {
            return Ya(m2(e4._convGroupMap.values()));
          }) : Xa(m2(this._convGroupMap.values()));
        } }, { key: "getRemoteConvGroupList", value: function() {
          var e4 = this, t3 = "".concat(this._n, ".getRemoteConvGroupList");
          return this._pagingStatus = $t2.PENDING, this._conversationModule.request({ protocolName: Yo, requestData: { fromAccount: this._getMyUserID(), startIndex: this._startIndex, startTime: we2() } }).then(function(n3) {
            var o3, s3, a3 = n3.data, i3 = a3.completeFlag, r3 = a3.contactItem, u3 = a3.nextStartIndex, c3 = void 0 === u3 ? 0 : u3, l3 = a3.groupItem;
            (e4._startIndex = c3, Ve2.l("".concat(t3, " completeFlag:").concat(i3, " nextStartIndex:").concat(c3)), at2(l3) && l3.forEach(function(t4) {
              var n4 = t4.convGroupID, o4 = t4.groupName;
              e4._convGroupMap.set(n4, o4);
            }), at2(r3)) && r3.forEach(function(t4) {
              var n4 = t4.standardMark, a4 = t4.customData, i4 = t4.convGroupIDList;
              if (o3 = e4._concatConversationID(t4), (s3 = e4._getLocalConversation(o3)) && (s3.markList = Ht2(n4), s3.customData = a4 || "", at2(i4))) {
                var r4 = [];
                i4.forEach(function(t5) {
                  e4._convGroupMap.has(t5) && r4.push(e4._convGroupMap.get(t5));
                }), s3.conversationGroupList = [].concat(r4), r4.length = 0;
              }
            });
            if (0 === i3)
              return e4.getRemoteConvGroupList();
            1 === i3 && (e4._pagingStatus = $t2.RESOLVED, e4._emitConversationUpdate(), e4._emitConvGroupListUpdate());
          }).catch(function(n3) {
            e4._pagingStatus = $t2.REJECTED, Ve2.w("".concat(t3, " failed. error:"), n3);
          });
        } }, { key: "createConvGroup", value: function(e4) {
          var t3 = this;
          if (!this._conversationModule.canIUse(B2.CONV_GROUP))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".").concat("createConvGroup");
          Ve2.l("".concat(n3, " options:"), e4);
          var o3 = new Aa("createConvGroup");
          o3.setMessage(JSON.stringify(e4));
          var s3 = e4.groupName, a3 = e4.conversationIDList, i3 = { fromAccount: this._getMyUserID(), itemList: [{ groupName: s3, contactItem: [] }] }, r3 = [], u3 = [];
          return a3.forEach(function(e5) {
            return t3._hasLocalConversation(e5) ? Et2(e5) || St2(e5) ? void (Et2(e5) ? i3.itemList[0].contactItem.push({ type: 1, toAccount: e5.replace(E2.CONV_C2C, "") }) : St2(e5) && i3.itemList[0].contactItem.push({ type: 2, groupID: e5.replace(E2.CONV_GROUP, "") })) : (t3._onConversationIDInvalid(u3, e5), true) : (t3._onConversationNotFound(u3, e5), true);
          }), u3.length === a3.length ? Xa({ successConversationIDList: r3, failureConversationIDList: u3 }) : this._conversationModule.request({ protocolName: Vo, requestData: i3 }).then(function(e5) {
            o3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var a4 = e5.data.groupResultItem[0], i4 = a4.groupItem, c3 = a4.resultItem;
            if (st2(i4) && (t3._convGroupMap.set(i4.convGroupID, i4.groupName), t3._emitConvGroupListUpdate()), at2(c3)) {
              var l3, d3, p3 = false;
              c3.forEach(function(e6) {
                l3 = t3._concatConversationID(e6.contactItem), 0 === e6.resultCode ? (r3.push(l3), (d3 = t3._getLocalConversation(l3)) && -1 === d3.conversationGroupList.indexOf(s3) && (d3.conversationGroupList.push(s3), p3 = true)) : u3.push({ conversationID: l3, code: e6.resultCode, message: e6.resultInfo });
              }), true === p3 && (t3._emitConversationUpdate(), t3._emitConvGroupListUpdate());
            }
            return Ya({ successConversationIDList: r3, failureConversationIDList: u3 });
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a4 = n4[1];
              o3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "deleteConvGroup", value: function(e4) {
          var t3 = this;
          if (!this._conversationModule.canIUse(B2.CONV_GROUP))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".").concat("deleteConvGroup");
          Ve2.l("".concat(n3, " groupName:").concat(e4));
          var o3 = new Aa("deleteConvGroup");
          return o3.setMessage(e4), this._conversationModule.request({ protocolName: Bo, requestData: { fromAccount: this._getMyUserID(), groupName: [e4] } }).then(function(s3) {
            o3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var a3 = s3.data.groupItem;
            if (at2(a3)) {
              var i3 = false;
              a3.forEach(function(e5) {
                t3._convGroupMap.has(e5.convGroupID) && (t3._convGroupMap.delete(e5.convGroupID), i3 = true);
              }), true === i3 && t3._emitConvGroupListUpdate();
            }
            t3._eraseFromConversationGroupList([e4]);
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s3 = n4[0], a3 = n4[1];
              o3.setError(e5, s3, a3).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "renameConvGroup", value: function(e4) {
          var t3 = this;
          if (!this._conversationModule.canIUse(B2.CONV_GROUP))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".").concat("renameConvGroup");
          Ve2.l("".concat(n3, " options:"), e4);
          var o3 = new Aa("renameConvGroup");
          o3.setMessage(JSON.stringify(e4));
          var s3 = e4.oldName, a3 = e4.newName;
          return this._conversationModule.request({ protocolName: Ho, requestData: { fromAccount: this._getMyUserID(), updateType: 1, updateGroup: { updateGroupType: 1, oldName: s3, newName: a3 } } }).then(function(e5) {
            o3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var i3 = e5.data.updateGroupResult.convGroupID;
            t3._convGroupMap.set(i3, a3), t3._emitConvGroupListUpdate();
            var r3, u3, c3 = t3._conversationModule.getLocalConversationList(), l3 = false;
            c3.forEach(function(e6) {
              r3 = e6.conversationGroupList, -1 !== (u3 = r3.indexOf(s3)) && (r3.splice(u3, 1, a3), l3 = true);
            }), true === l3 && t3._emitConversationUpdate();
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a4 = n4[1];
              o3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "addConvsToGroup", value: function(e4) {
          var t3 = this;
          if (!this._conversationModule.canIUse(B2.CONV_GROUP))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".").concat("addConvsToGroup");
          Ve2.l("".concat(n3, " options:"), e4);
          var o3 = new Aa("addConvsToGroup");
          o3.setMessage(JSON.stringify(e4));
          var s3 = e4.conversationIDList, a3 = e4.groupName, i3 = { fromAccount: this._getMyUserID(), updateType: 1, updateGroup: { updateGroupType: 2, groupName: a3, updateItem: [] } }, r3 = [], u3 = [];
          return s3.forEach(function(e5) {
            return t3._hasLocalConversation(e5) ? Et2(e5) || St2(e5) ? void (Et2(e5) ? i3.updateGroup.updateItem.push({ operationType: 1, contactItem: { type: 1, toAccount: e5.replace(E2.CONV_C2C, "") } }) : St2(e5) && i3.updateGroup.updateItem.push({ operationType: 1, contactItem: { type: 2, groupID: e5.replace(E2.CONV_GROUP, "") } })) : (t3._onConversationIDInvalid(u3, e5), true) : (t3._onConversationNotFound(u3, e5), true);
          }), u3.length === s3.length ? Xa({ successConversationIDList: r3, failureConversationIDList: u3 }) : this._conversationModule.request({ protocolName: Ko, requestData: i3 }).then(function(e5) {
            o3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var s4 = e5.data.updateGroupResult.contactResultItem;
            if (at2(s4)) {
              var i4, c3, l3 = false;
              s4.forEach(function(e6) {
                i4 = t3._concatConversationID(e6.contactItem), 0 === e6.resultCode ? (c3 = t3._getLocalConversation(i4)) && -1 === c3.conversationGroupList.indexOf(a3) && (c3.conversationGroupList.push(a3), r3.push(i4), l3 = true) : u3.push({ conversationID: i4, code: e6.resultCode, message: e6.resultInfo });
              }), true === l3 && (t3._emitConversationUpdate(), t3._emitConvInGroupUpdate(a3));
            }
            return Ya({ successConversationIDList: r3, failureConversationIDList: u3 });
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a4 = n4[1];
              o3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "deleteConvsFromGroup", value: function(e4) {
          var t3 = this;
          if (!this._conversationModule.canIUse(B2.CONV_GROUP))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".").concat("deleteConvsFromGroup");
          Ve2.l("".concat(n3, " options:"), e4);
          var o3 = new Aa("deleteConvsFromGroup");
          o3.setMessage(JSON.stringify(e4));
          var s3 = e4.conversationIDList, a3 = e4.groupName, i3 = { fromAccount: this._getMyUserID(), updateType: 1, updateGroup: { updateGroupType: 2, groupName: a3, updateItem: [] } }, r3 = [], u3 = [];
          return s3.forEach(function(e5) {
            return t3._hasLocalConversation(e5) ? Et2(e5) || St2(e5) ? void (Et2(e5) ? i3.updateGroup.updateItem.push({ operationType: 2, contactItem: { type: 1, toAccount: e5.replace(E2.CONV_C2C, "") } }) : St2(e5) && i3.updateGroup.updateItem.push({ operationType: 2, contactItem: { type: 2, groupID: e5.replace(E2.CONV_GROUP, "") } })) : (t3._onConversationIDInvalid(u3, e5), true) : (t3._onConversationNotFound(u3, e5), true);
          }), u3.length === s3.length ? Xa({ successConversationIDList: r3, failureConversationIDList: u3 }) : this._conversationModule.request({ protocolName: Wo, requestData: i3 }).then(function(e5) {
            o3.setNetworkType(t3._conversationModule.getNetworkType()).end(), Ve2.l("".concat(n3, " ok"));
            var s4 = e5.data.updateGroupResult.contactResultItem;
            if (at2(s4)) {
              var i4, c3, l3 = false;
              s4.forEach(function(e6) {
                if (i4 = t3._concatConversationID(e6.contactItem), 0 === e6.resultCode) {
                  if (c3 = t3._getLocalConversation(i4)) {
                    var n4 = c3.conversationGroupList.indexOf(a3);
                    -1 !== n4 && (c3.conversationGroupList.splice(n4, 1), r3.push(i4), l3 = true);
                  }
                } else
                  u3.push({ conversationID: i4, code: e6.resultCode, message: e6.resultInfo });
              }), true === l3 && (t3._emitConversationUpdate(), t3._emitConvInGroupUpdate(a3));
            }
            return Ya({ successConversationIDList: r3, failureConversationIDList: u3 });
          }).catch(function(e5) {
            return t3._conversationModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a4 = n4[1];
              o3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "onConvMarkUpdated", value: function(e4) {
          var t3 = this;
          if (!zt2(e4)) {
            var n3, o3;
            Ve2.d("".concat(this._n, ".onConvMarkUpdated markItemList:"), e4);
            var s3 = false;
            e4.forEach(function(e5) {
              var a3 = e5.recentContactItem, i3 = e5.optType, r3 = e5.standardMark, u3 = e5.customMark;
              if (n3 = t3._concatConversationID(a3), o3 = t3._getLocalConversation(n3))
                if (1 === i3) {
                  var c3 = Ht2(r3);
                  true !== function(e6, t4) {
                    if (e6 === t4)
                      return true;
                    if (!e6 || !t4)
                      return false;
                    if (e6.length !== t4.length)
                      return false;
                    for (var n4 = 0, o4 = e6.length; n4 < o4; n4++)
                      if (e6[n4] !== t4[n4])
                        return false;
                    return true;
                  }(o3.markList, c3) && (o3.markList = c3, s3 = true);
                } else
                  2 === i3 && o3.customData !== u3 && void 0 !== u3 && (o3.customData = u3, s3 = true);
            }), true === s3 && this._emitConversationUpdate();
          }
        } }, { key: "onConvGroupCreated", value: function(e4) {
          var t3 = this;
          Ve2.d("".concat(this._n, ".onConvGroupCreated resultList:"), e4);
          var n3 = false, o3 = false;
          at2(e4) && (e4.forEach(function(e5) {
            var s3 = e5.msgGroupItem, a3 = s3.groupID, i3 = s3.groupName;
            t3._convGroupMap.get(a3) !== i3 && (t3._convGroupMap.set(a3, i3), o3 = true);
            var r3, u3, c3 = e5.msgRecentContactItem;
            at2(c3) && c3.forEach(function(e6) {
              r3 = t3._concatConversationID(e6), (u3 = t3._getLocalConversation(r3)) && -1 === u3.conversationGroupList.indexOf(i3) && (u3.conversationGroupList.push(i3), n3 = true);
            });
          }), true === n3 && this._emitConversationUpdate(), true === o3 && this._emitConvGroupListUpdate());
        } }, { key: "onConvGroupDeleted", value: function(e4) {
          var t3 = this;
          Ve2.d("".concat(this._n, ".onConvGroupDeleted groupItemList:"), e4);
          var n3 = [];
          if (at2(e4)) {
            var o3 = false;
            e4.forEach(function(e5) {
              var s3 = e5.groupID, a3 = e5.groupName;
              t3._convGroupMap.has(s3) && (t3._convGroupMap.delete(s3), o3 = true, n3.push(a3));
            }), true === o3 && this._emitConvGroupListUpdate();
          }
          this._eraseFromConversationGroupList(n3);
        } }, { key: "_eraseFromConversationGroupList", value: function(e4) {
          zt2(e4) || (this._conversationModule.getLocalConversationList().forEach(function(t3) {
            t3.conversationGroupList = t3.conversationGroupList.filter(function(t4) {
              return !e4.includes(t4);
            });
          }), this._emitConversationUpdate());
        } }, { key: "onConvGroupNameUpdated", value: function(e4) {
          Ve2.d("".concat(this._n, ".onConvGroupNameUpdated options:"), e4);
          var t3 = e4.groupID, n3 = e4.groupName, o3 = e4.oldGroupName;
          if (this._convGroupMap.get(t3) !== n3) {
            this._convGroupMap.set(t3, n3), this._emitConvGroupListUpdate();
            var s3, a3, i3 = this._conversationModule.getLocalConversationList(), r3 = false;
            i3.forEach(function(e5) {
              s3 = e5.conversationGroupList, -1 !== (a3 = s3.indexOf(o3)) && (s3.splice(a3, 1, n3), r3 = true);
            }), true === r3 && this._emitConversationUpdate();
          }
        } }, { key: "onConvInGroupUpdated", value: function(e4) {
          var t3 = this;
          Ve2.d("".concat(this._n, ".onConvInGroupUpdated options:"), e4);
          var n3 = e4.oldGroupName, o3 = e4.recentContactUpdateGroupItem;
          if (at2(o3)) {
            var s3, a3, i3, r3 = false;
            o3.forEach(function(e5) {
              var o4 = e5.contactOptType, u3 = e5.recentContactItem;
              s3 = t3._concatConversationID(u3), (a3 = t3._getLocalConversation(s3)) && (i3 = a3.conversationGroupList.indexOf(n3), 1 === o4 ? -1 === i3 && (a3.conversationGroupList.push(n3), r3 = true) : 2 === o4 && -1 !== i3 && (a3.conversationGroupList.splice(i3, 1), r3 = true));
            }), true === r3 && (this._emitConversationUpdate(), this._emitConvInGroupUpdate(n3));
          }
        } }, { key: "onConvAddedToOrDeletedFromGroup", value: function(e4) {
          var t3 = this;
          Ve2.d("".concat(this._n, ".onConvAddedToOrDeletedFromGroup options:"), e4);
          var n3 = e4.msgRecentContactItem, o3 = e4.msgRecentContactUpdateContactItem, s3 = this._concatConversationID(n3), a3 = this._getLocalConversation(s3);
          if (a3 && at2(o3)) {
            var i3, r3 = false;
            o3.forEach(function(e5) {
              var n4 = e5.groupOptType, o4 = e5.recentContactGroupItem.groupName;
              i3 = a3.conversationGroupList.indexOf(o4), 1 === n4 ? -1 === i3 && (a3.conversationGroupList.push(o4), r3 = true) : 2 === n4 && -1 !== i3 && (a3.conversationGroupList.splice(i3, 1), r3 = true), true === r3 && t3._emitConvInGroupUpdate(o4);
            }), true === r3 && this._emitConversationUpdate();
          }
        } }, { key: "onConvGroupListSynced", value: function(e4) {
          var t3 = this;
          at2(e4) && 0 !== e4.length && (Ve2.l("".concat(this._n, ".onConvGroupListSynced groupItemList:"), e4), e4.forEach(function(e5) {
            t3._convGroupMap.set(e5.convGroupID, e5.groupName);
          }));
        } }, { key: "getConvGroupListByID", value: function(e4) {
          var t3 = this;
          if (!zt2(e4)) {
            var n3 = [];
            return e4.forEach(function(e5) {
              t3._convGroupMap.has(e5) && n3.push(t3._convGroupMap.get(e5));
            }), n3;
          }
        } }, { key: "_onConversationNotFound", value: function(e4, t3) {
          e4.push({ conversationID: t3, code: ha.CONVERSATION_NOT_FOUND, message: this._conversationModule.getErrorMessage(ha.CONVERSATION_NOT_FOUND) });
        } }, { key: "_onConversationIDInvalid", value: function(e4, t3) {
          e4.push({ conversationID: t3, code: ha.INVALID_CONVERSATION_ID, message: this._conversationModule.getErrorMessage(ha.INVALID_CONVERSATION_ID) });
        } }, { key: "_getFlagBit", value: function(e4) {
          for (var t3 = e4.toString(2), n3 = t3.length, o3 = n3 - 1; o3 >= 0; o3--)
            if ("1" === t3[o3])
              return n3 - o3 - 1;
        } }, { key: "_concatConversationID", value: function(e4) {
          var t3, n3 = e4.type, o3 = e4.to, s3 = e4.groupID, a3 = e4.userID;
          return 1 === n3 ? it2(a3) ? it2(o3) || (t3 = "".concat(E2.CONV_C2C).concat(o3)) : t3 = "".concat(E2.CONV_C2C).concat(a3) : 2 === n3 && (t3 = "".concat(E2.CONV_GROUP).concat(s3)), t3;
        } }, { key: "_getMyUserID", value: function() {
          return this._conversationModule.getMyUserID();
        } }, { key: "_insertConversationGroup", value: function(e4, t3) {
          var n3 = this._getLocalConversation(e4);
          if (n3) {
            var o3 = n3.conversationGroupList;
            -1 === o3.indexOf(t3) && o3.push(t3);
          }
        } }, { key: "_getLocalConversation", value: function(e4) {
          return this._conversationModule.getLocalConversation(e4);
        } }, { key: "_hasLocalConversation", value: function(e4) {
          return this._conversationModule.hasLocalConversation(e4);
        } }, { key: "_emitConversationUpdate", value: function() {
          this._conversationModule.emitConversationUpdate(true, false);
        } }, { key: "_emitConvGroupListUpdate", value: function() {
          this._conversationModule.emitOuterEvent(k.CONVERSATION_GROUP_LIST_UPDATED, m2(this._convGroupMap.values()));
        } }, { key: "_emitConvInGroupUpdate", value: function(e4) {
          var t3 = { groupName: e4, conversationList: [] }, n3 = this._conversationModule.getLocalConversationList();
          t3.conversationList = n3.filter(function(t4) {
            return t4.conversationGroupList.includes(e4);
          }), this._conversationModule.emitOuterEvent(k.CONVERSATION_IN_GROUP_UPDATED, t3);
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._convGroupMap.clear(), this._startIndex = 0, this._pagingStatus = $t2.NOT_START;
        } }]), e3;
      }(), Mi = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "ConversationModule", oi.mixin(h2(t3)), t3._messageListHandler = new $a(), t3._messageRemindHandler = new vi(h2(t3)), t3._convGroupHandler = new mi(h2(t3)), t3.singlyLinkedList = new pi(100), t3._pagingStatus = $t2.NOT_START, t3._pagingTimeStamp = 0, t3._pagingStartIndex = 0, t3._pagingPinnedTimeStamp = 0, t3._pagingPinnedStartIndex = 0, t3._pagingConvIDMap = /* @__PURE__ */ new Map(), t3._convIDFromUnreadDBMap = /* @__PURE__ */ new Map(), t3._conversationMap = /* @__PURE__ */ new Map(), t3._tmpGroupList = [], t3._tmpGroupAtTipsList = [], t3._peerReadTimeMap = /* @__PURE__ */ new Map(), t3._completedMap = /* @__PURE__ */ new Map(), t3._roamingMessageKeyAndTimeMap = /* @__PURE__ */ new Map(), t3._roamingMessageSequenceMap = /* @__PURE__ */ new Map(), t3._remoteGroupReadSequenceMap = /* @__PURE__ */ new Map(), t3._convTotalUnreadCount = 0, t3._pagingGetCostList = [], t3._initListeners(), t3;
        }
        return a2(s3, [{ key: "_initListeners", value: function() {
          var e4 = this.getInnerEmitterInstance();
          e4.on(ei, this._initLocalConversationList, this), e4.on(ni, this._onProfileUpdated, this);
        } }, { key: "onCheckTimer", value: function(e4) {
          e4 % 60 == 0 && this._messageListHandler.traversal();
        } }, { key: "_initLocalConversationList", value: function() {
          var e4 = this, t3 = new Aa("_initLocalConversationList");
          Ve2.l("".concat(this._n, ".").concat("_initLocalConversationList"));
          var n4 = "", o3 = this._getStorageConversationList(), s4 = this.isIntl();
          if (o3) {
            for (var a3 = o3.length, i3 = 0; i3 < a3; i3++) {
              var r3 = o3[i3];
              if (r3) {
                if (r3.conversationID === "".concat(E2.CONV_C2C, "@TLS#ERROR") || r3.conversationID === "".concat(E2.CONV_C2C, "@TLS#NOT_FOUND"))
                  continue;
                if (r3.groupProfile) {
                  var u3 = r3.groupProfile.type;
                  if (Tt2(u3))
                    continue;
                }
              }
              this._conversationMap.set(o3[i3].conversationID, new fi(o3[i3], s4));
            }
            this.emitConversationUpdate(true, false), n4 = "count:".concat(a3);
          } else
            n4 = "count:0";
          t3.setNetworkType(this.getNetworkType()).setMessage(n4).end(), this.getModule(Un) || this.triggerReady(), this.ready(function() {
            e4._tmpGroupList.length > 0 && (e4.updateConversationGroupProfile(e4._tmpGroupList), e4._tmpGroupList.length = 0);
          }), this.syncConversationList();
        } }, { key: "onMessageSent", value: function(e4) {
          this._onSendOrReceiveMessage({ conversationOptionsList: e4.conversationOptionsList, isInstantMessage: true });
        } }, { key: "onNewMessage", value: function(e4) {
          this._onSendOrReceiveMessage(e4);
        } }, { key: "_onSendOrReceiveMessage", value: function(e4) {
          var t3 = this, n4 = e4.conversationOptionsList, o3 = e4.isInstantMessage, s4 = void 0 === o3 || o3, a3 = e4.isUnreadC2CMessage, i3 = void 0 !== a3 && a3, r3 = e4.updateUnreadCount, u3 = void 0 === r3 || r3;
          this._isReady ? 0 !== n4.length && (this._getC2CPeerReadTime(n4), this._updateLocalConversationList({ conversationOptionsList: n4, isInstantMessage: s4, isUnreadC2CMessage: i3, isFromGetConversations: false, updateUnreadCount: u3 }), s4 || (this._convIDFromUnreadDBMap = new Map([].concat(m2(this._convIDFromUnreadDBMap), m2(n4.map(function(e5) {
            return [e5.conversationID, 1];
          })))), this._diffAndDeleteConversation()), this._setStorageConversationList(), n4.filter(function(e5) {
            return e5.type === E2.CONV_TOPIC;
          }).length > 0 || this.emitConversationUpdate()) : this.ready(function() {
            t3._onSendOrReceiveMessage(e4);
          });
        } }, { key: "updateConversationGroupProfile", value: function(e4) {
          var t3 = this;
          if (!at2(e4) || 0 !== e4.length)
            if (0 !== this._conversationMap.size) {
              var n4 = false;
              e4.forEach(function(e5) {
                var o3 = "GROUP".concat(e5.groupID);
                if (t3._conversationMap.has(o3)) {
                  n4 = true;
                  var s4 = t3._conversationMap.get(o3);
                  s4.groupProfile = JSON.parse(JSON.stringify(e5)), s4.lastMessage.lastSequence < e5.nextMessageSeq && (s4.lastMessage.lastSequence = e5.nextMessageSeq - 1), s4.subType || (s4.subType = e5.type);
                }
              }), n4 && this.emitConversationUpdate(true, false);
            } else
              this._tmpGroupList = e4;
        } }, { key: "_updateConversationUserProfile", value: function(e4) {
          var t3 = this;
          e4.data.forEach(function(e5) {
            var n4 = "C2C".concat(e5.userID);
            t3._conversationMap.has(n4) && (t3._conversationMap.get(n4).userProfile = e5);
          }), this.emitConversationUpdate(true, false);
        } }, { key: "onMessageRevoked", value: function(e4) {
          var t3 = this;
          if (0 !== e4.length) {
            var n4 = null, o3 = false, s4 = [];
            e4.forEach(function(e5) {
              (n4 = t3._conversationMap.get(e5.conversationID)) && (n4.type === E2.CONV_TOPIC ? s4.push(e5) : (n4.reduceUnreadCount() && (o3 = true), n4.isLastMessageRevoked({ sequence: e5.sequence, time: e5.time }) && (n4.setLastMessageRevoked(true), n4.setLastMessageRevoker(e5.revoker), o3 = true)));
            }), this.getModule(Fn).onMessageRevoked(s4), o3 && (this.emitConversationUpdate(true, false), this.emitTotalUnreadMessageCountUpdate());
          }
        } }, { key: "isLastMessageRevoked", value: function(e4) {
          var t3 = false, n4 = e4.conversationID, o3 = e4.sequence, s4 = e4.time, a3 = this._conversationMap.get(n4);
          a3 && (t3 = a3.type === E2.CONV_TOPIC ? this.getModule(Fn).isLastMessageRevoked({ topicID: n4.replace(E2.CONV_GROUP, ""), sequence: o3 }) : a3.isLastMessageRevoked({ sequence: o3, time: s4 }));
          return Ve2.l("".concat(this._n, ".isLastMessageRevoked options:").concat(JSON.stringify(e4), " ret:").concat(t3)), t3;
        } }, { key: "onMessageDeleted", value: function(e4) {
          var t3 = this;
          if (0 !== e4.length) {
            var n4 = null;
            e4.forEach(function(e5) {
              (n4 = t3._messageListHandler.getLocalMessage(e5.conversationID, e5.ID)) && (n4.isDeleted = true), e5 !== n4 && (e5.isDeleted = true);
            });
            for (var o3 = e4[0].conversationID, s4 = this._messageListHandler.getLocalMessageList(o3), a3 = {}, i3 = s4.length - 1; i3 >= 0; i3--)
              if (!s4[i3].isDeleted) {
                a3 = s4[i3];
                break;
              }
            var r3 = this._conversationMap.get(o3);
            if (r3) {
              var u3 = false;
              r3.lastMessage.lastSequence === a3.sequence && r3.lastMessage.lastTime === a3.time || (zt2(a3) && (a3 = void 0), r3.updateLastMessage(a3), r3.type !== E2.CONV_TOPIC && (u3 = true), Ve2.l("".concat(this._n, ".onMessageDeleted. update conversationID:").concat(o3, " with lastMessage:"), r3.lastMessage)), o3.startsWith(E2.CONV_C2C) && this.updateUnreadCount(o3), u3 && this.emitConversationUpdate(true, false);
            }
          }
        } }, { key: "onMessageModified", value: function(e4) {
          var t3 = e4.conversationType, n4 = e4.from, o3 = e4.to, s4 = e4.time, a3 = e4.sequence, i3 = e4.elements, r3 = e4.cloudCustomData, u3 = e4.messageVersion, c3 = this.getMyUserID(), l3 = "".concat(t3).concat(o3);
          o3 === c3 && t3 === E2.CONV_C2C && (l3 = "".concat(t3).concat(n4));
          var d3 = this._messageListHandler.onMessageModified(l3, e4), p3 = d3.isUpdated, g3 = d3.message;
          true === p3 && this.emitOuterEvent(k.MESSAGE_MODIFIED, [g3]);
          var h3 = this._isTopicConversation(l3);
          if (Ve2.l("".concat(this._n, ".onMessageModified isUpdated:").concat(p3, " isTopicMessage:").concat(h3, " from:").concat(n4, " to:").concat(o3)), h3) {
            this.getModule(Fn).onMessageModified(e4);
          } else {
            var _3 = this._conversationMap.get(l3);
            if (_3) {
              var f3 = _3.lastMessage;
              Ve2.d("".concat(this._n.onMessageModified, " lastMessage:"), JSON.stringify(f3), "options:", JSON.stringify(e4)), f3 && f3.lastTime === s4 && f3.lastSequence === a3 && f3.version !== u3 && (f3.type = i3[0].type, f3.payload = i3[0].content, f3.messageForShow = Vt2(f3.type, f3.payload, this.isIntl()), f3.cloudCustomData = r3, f3.version = u3, this.emitConversationUpdate(true, false));
            }
          }
          return g3;
        } }, { key: "onNewGroupAtTips", value: function(e4) {
          var n4 = this, o3 = e4.dataList, s4 = null;
          o3.forEach(function(e5) {
            e5.groupAtTips ? s4 = e5.groupAtTips : e5.elements ? s4 = t2(t2({}, e5.elements), {}, { sync: true }) : e5.groupAtType && (s4 = t2(t2({}, e5), {}, { sync: true })), s4.__random = e5.random, s4.__sequence = e5.clientSequence, n4._tmpGroupAtTipsList.push(s4);
          }), Ve2.d("".concat(this._n, ".onNewGroupAtTips isReady:").concat(this._isReady), this._tmpGroupAtTipsList), this._isReady && this._handleGroupAtTipsList();
        } }, { key: "_handleGroupAtTipsList", value: function() {
          var e4 = this;
          if (0 !== this._tmpGroupAtTipsList.length) {
            var t3 = false;
            this._tmpGroupAtTipsList.forEach(function(n4) {
              var o3 = n4.groupID, s4 = n4.from, a3 = n4.topicID, i3 = void 0 === a3 ? void 0 : a3, r3 = n4.sync, u3 = void 0 !== r3 && r3;
              if (s4 !== e4.getMyUserID())
                if (it2(i3)) {
                  var c3 = e4._conversationMap.get("".concat(E2.CONV_GROUP).concat(o3));
                  c3 && (c3.updateGroupAtInfoList(n4), t3 = true);
                } else {
                  var l3 = e4._conversationMap.get("".concat(E2.CONV_GROUP).concat(i3));
                  if (l3) {
                    l3.updateGroupAtInfoList(n4);
                    var d3 = e4.getModule(Fn), p3 = l3.groupAtInfoList;
                    d3.onConversationProxy({ topicID: i3, groupAtInfoList: p3 });
                  }
                  if (zt2(l3) && u3)
                    e4.updateTopicConversation([{ conversationID: "".concat(E2.CONV_GROUP).concat(i3), type: E2.CONV_TOPIC }]), e4._conversationMap.get("".concat(E2.CONV_GROUP).concat(i3)).updateGroupAtInfoList(n4);
                }
            }), t3 && this.emitConversationUpdate(true, false), this._tmpGroupAtTipsList.length = 0;
          }
        } }, { key: "_getC2CPeerReadTime", value: function(e4) {
          var t3 = this, n4 = [];
          if (e4.forEach(function(e5) {
            t3._conversationMap.has(e5.conversationID) || e5.type !== E2.CONV_C2C || n4.push(e5.conversationID.replace(E2.CONV_C2C, ""));
          }), n4.length > 0) {
            Ve2.d("".concat(this._n, "._getC2CPeerReadTime userIDList:").concat(n4));
            var o3 = this.getModule(Un);
            o3 && o3.getRemotePeerReadTime(n4);
          }
        } }, { key: "_getStorageConversationList", value: function() {
          return this.getModule(Vn2).getItem("conversationMap");
        } }, { key: "_setStorageConversationList", value: function() {
          var e4 = this.getLocalConversationList().filter(function(e5) {
            return e5.type === E2.CONV_C2C || e5.type === E2.CONV_GROUP && e5.lastMessage.type !== E2.MSG_GRP_TIP;
          }).slice(0, 20).map(function(e5) {
            return { conversationID: e5.conversationID, type: e5.type, subType: e5.subType, lastMessage: e5.lastMessage, groupProfile: e5.groupProfile, userProfile: e5.userProfile };
          });
          this.getModule(Vn2).setItem("conversationMap", e4);
        } }, { key: "emitConversationUpdate", value: function() {
          var e4 = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0], t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n4 = this.getLocalConversationList();
          if (t3) {
            var o3 = this.getModule(Pn);
            o3 && o3.updateGroupLastMessage(n4);
          }
          e4 && this.emitOuterEvent(k.CONVERSATION_LIST_UPDATED);
        } }, { key: "getLocalConversationList", value: function() {
          return m2(this._conversationMap.values()).filter(function(e4) {
            return e4.type !== E2.CONV_TOPIC;
          });
        } }, { key: "getLocalConversation", value: function(e4) {
          return this._conversationMap.get(e4);
        } }, { key: "hasLocalConversation", value: function(e4) {
          return this._conversationMap.has(e4);
        } }, { key: "getLocalOldestMessage", value: function(e4) {
          return this._messageListHandler.getLocalOldestMessage(e4);
        } }, { key: "syncConversationList", value: function() {
          var e4 = this, t3 = new Aa("syncConversationList");
          return this._pagingStatus === $t2.NOT_START && this._conversationMap.clear(), this._pagingGetConversationList().then(function(n4) {
            var o3 = function(e5) {
              if (at2(e5) && 0 !== e5.length) {
                var t4 = 0;
                return e5.forEach(function(e6) {
                  t4 += e6;
                }), (t4 / e5.length).toFixed(0);
              }
            }(e4._pagingGetCostList);
            return Ve2.l("".concat(e4._n, ".").concat("syncConversationList", ". sum ").concat(function(e5) {
              if (at2(e5) && 0 !== e5.length) {
                var t4 = 0;
                return e5.forEach(function(e6) {
                  t4 += e6;
                }), t4.toFixed(0);
              }
            }(e4._pagingGetCostList), " ms, average ").concat(o3, " ms")), e4._pagingGetCostList.length = 0, e4._pagingStatus = $t2.RESOLVED, e4._diffAndDeleteConversation(), e4.emitConversationUpdate(true, false), e4._setStorageConversationList(), e4._handleC2CPeerReadTime(), e4._patchConversationProperties(), t3.setMessage(e4._conversationMap.size).setMoreMessage(o3).setNetworkType(e4.getNetworkType()).end(), n4;
          }).catch(function(n4) {
            return e4._pagingStatus = $t2.REJECTED, t3.setMessage(e4._pagingTimeStamp), e4.probeNetwork().then(function(e5) {
              var o3 = v2(e5, 2), s4 = o3[0], a3 = o3[1];
              t3.setError(n4, s4, a3).end();
            }), Za(n4);
          });
        } }, { key: "_diffAndDeleteConversation", value: function() {
          var e4 = this;
          if (this._isSyncCompleted()) {
            var t3 = [];
            this._conversationMap.forEach(function(n4, o3) {
              !e4._pagingConvIDMap.has(o3) && e4._convIDFromUnreadDBMap.has(o3) && (e4._conversationMap.delete(o3), t3.push(o3));
            }), Ve2.l("".concat(this._n, "._diffAndDeleteConversation list:").concat(t3));
          }
        } }, { key: "_patchConversationProperties", value: function() {
          var e4 = this, t3 = Date.now(), n4 = this.checkAndPatchRemark(), o3 = this._messageRemindHandler.getC2CMessageRemindType(), s4 = this.getModule(Pn).getGroupList();
          Promise.all([n4, o3, s4]).then(function() {
            var n5 = Date.now() - t3;
            Ve2.l("".concat(e4._n, "._patchConversationProperties ok. cost ").concat(n5, " ms")), e4.emitConversationUpdate(true, false), e4.emitTotalUnreadMessageCountUpdate();
          });
        } }, { key: "_pagingGetConversationList", value: function() {
          var e4 = this, t3 = "".concat(this._n, "._pagingGetConversationList");
          Ve2.l("".concat(t3, " timeStamp:").concat(this._pagingTimeStamp, " startIndex:").concat(this._pagingStartIndex) + " pinnedTimeStamp:".concat(this._pagingPinnedTimeStamp, " pinnedStartIndex:").concat(this._pagingPinnedStartIndex));
          var n4 = Date.now();
          return this._pagingStatus = $t2.PENDING, this.request({ protocolName: Go, requestData: { fromAccount: this.getMyUserID(), timeStamp: this._pagingTimeStamp, startIndex: this._pagingStartIndex, pinnedTimeStamp: this._pagingPinnedTimeStamp, pinnedStartIndex: this._pagingPinnedStartIndex, orderType: 1 } }).then(function(o3) {
            var s4 = o3.data, a3 = s4.completeFlag, i3 = s4.conversations, r3 = void 0 === i3 ? [] : i3, u3 = s4.timeStamp, c3 = s4.startIndex, l3 = s4.pinnedTimeStamp, d3 = s4.pinnedStartIndex, p3 = s4.groupItem, g3 = Date.now() - n4;
            if (e4._pagingGetCostList.push(g3), Ve2.l("".concat(t3, " ok. completeFlag:").concat(a3, " count:").concat(r3.length, " cost ").concat(g3, " ms")), e4._convGroupHandler.onConvGroupListSynced(p3), r3.length > 0) {
              var h3 = e4._getConversationOptions(r3);
              e4._pagingConvIDMap = new Map([].concat(m2(e4._pagingConvIDMap), m2(h3.map(function(e5) {
                return [e5.conversationID, 1];
              })))), e4._updateLocalConversationList({ conversationOptionsList: h3, isFromGetConversations: true }), e4.isLoggedIn() && e4.emitConversationUpdate();
            }
            if (!e4._isReady) {
              if (!e4.isLoggedIn())
                return Xa();
              e4.triggerReady();
            }
            return e4._pagingTimeStamp = u3, e4._pagingStartIndex = c3, e4._pagingPinnedTimeStamp = l3, e4._pagingPinnedStartIndex = d3, 1 !== a3 ? e4._pagingGetConversationList() : (e4._handleGroupAtTipsList(), e4._convGroupHandler.getRemoteConvGroupList(), Xa());
          }).catch(function(n5) {
            throw e4.isLoggedIn() && (e4._isReady || (Ve2.w("".concat(t3, " failed. error:"), n5), e4.triggerReady())), n5;
          });
        } }, { key: "_updateLocalConversationList", value: function(e4) {
          var t3, n4 = e4.isFromGetConversations, o3 = e4.isInstantMessage, s4 = Date.now();
          t3 = this._getTmpConversationListMapping(e4), this._conversationMap = new Map(this._sortConversationList([].concat(m2(t3.toBeUpdatedConversationList), m2(this._conversationMap)))), n4 || (this._updateUserOrGroupProfile(t3.newConversationList), o3 && this.emitTotalUnreadMessageCountUpdate()), Ve2.d("".concat(this._n, "._updateLocalConversationList cost ").concat(Date.now() - s4, " ms"));
        } }, { key: "_getTmpConversationListMapping", value: function(e4) {
          for (var t3 = e4.conversationOptionsList, n4 = e4.isFromGetConversations, o3 = e4.isInstantMessage, s4 = e4.isUnreadC2CMessage, a3 = void 0 !== s4 && s4, i3 = e4.updateUnreadCount, r3 = [], u3 = [], c3 = this.getModule(Pn), l3 = this.getModule(bn), d3 = this.isIntl(), p3 = 0, g3 = t3.length; p3 < g3; p3++) {
            var h3 = new fi(t3[p3], d3), _3 = h3.conversationID;
            if (_3 !== "".concat(E2.CONV_C2C, "@TLS#ERROR") && _3 !== "".concat(E2.CONV_C2C, "@TLS#NOT_FOUND"))
              if (this._conversationMap.has(_3)) {
                var f3 = this._conversationMap.get(_3), v3 = ["unreadCount", "allowType", "adminForbidType", "payload", "isPinned"];
                false === o3 && v3.push("lastMessage");
                var m3 = t3[p3].lastMessage, M3 = !it2(m3);
                M3 || t3[p3].type === E2.CONV_TOPIC || this._onLastMessageNotExist(t3[p3]), it2(o3) && M3 && null === f3.lastMessage.payload && (f3.lastMessage.payload = m3.payload), zt2(f3.lastMessage.revoker) || (f3.lastMessage.revoker = null), pt2(f3, h3, v3, [null, void 0, "", 0, NaN]), true === i3 && f3.updateUnreadCount({ nextUnreadCount: h3.unreadCount, isFromGetConversations: n4, isUnreadC2CMessage: a3 }), o3 && M3 && (m3.payload && (f3.lastMessage.payload = m3.payload), f3.type === E2.CONV_GROUP && (f3.lastMessage.nameCard = m3.nameCard, f3.lastMessage.nick = m3.nick)), M3 && f3.lastMessage.cloudCustomData !== m3.cloudCustomData && (f3.lastMessage.cloudCustomData = m3.cloudCustomData || ""), this._conversationMap.delete(_3), r3.push([_3, f3]);
              } else {
                if (h3.type === E2.CONV_GROUP && c3) {
                  var y3 = h3.groupProfile.groupID, I3 = c3.getLocalGroupProfile(y3);
                  I3 && (h3.groupProfile = I3, true === i3 && h3.updateUnreadCount({ nextUnreadCount: 0 }));
                } else if (h3.type === E2.CONV_C2C) {
                  var C3 = _3.replace(E2.CONV_C2C, "");
                  l3 && l3.isMyFriend(C3) && (h3.remark = l3.getFriendRemark(C3));
                }
                u3.push(h3), r3.push([_3, h3]);
              }
          }
          var T3 = this.getModule(Fn);
          return r3.forEach(function(e5) {
            if (e5[1].type === E2.CONV_TOPIC) {
              var t4 = e5[1], n5 = t4.conversationID, o4 = t4.unreadCount, s5 = t4.groupAtInfoList;
              T3.onConversationProxy({ topicID: n5.replace(E2.CONV_GROUP, ""), unreadCount: o4, groupAtInfoList: zt2(s5) ? void 0 : s5 });
            }
          }), { toBeUpdatedConversationList: r3, newConversationList: u3 };
        } }, { key: "_onLastMessageNotExist", value: function(e4) {
          new Aa("lastMessageNotExist").setMessage("".concat(JSON.stringify(e4))).setNetworkType(this.getNetworkType()).end();
        } }, { key: "_sortConversationList", value: function(e4) {
          var t3 = [], n4 = [], o3 = [], s4 = [];
          return e4.forEach(function(e5) {
            true === e5[1].isPinned ? zt2(e5[1].lastMessage.lastTime) ? n4.push(e5) : t3.push(e5) : zt2(e5[1].lastMessage.lastTime) ? s4.push(e5) : o3.push(e5);
          }), t3.sort(function(e5, t4) {
            return t4[1].lastMessage.lastTime - e5[1].lastMessage.lastTime;
          }).concat(n4).concat(o3.sort(function(e5, t4) {
            return t4[1].lastMessage.lastTime - e5[1].lastMessage.lastTime;
          })).concat(s4);
        } }, { key: "_sortConversationListAndEmitEvent", value: function() {
          this._conversationMap = new Map(this._sortConversationList(m2(this._conversationMap))), this.emitConversationUpdate(true, false);
        } }, { key: "_updateUserOrGroupProfile", value: function(e4) {
          var t3 = this;
          if (0 !== e4.length) {
            var n4 = [], o3 = [], s4 = this.getModule(Gn2), a3 = this.getModule(Pn);
            e4.forEach(function(e5) {
              if (e5.type === E2.CONV_C2C)
                n4.push(e5.toAccount);
              else if (e5.type === E2.CONV_GROUP) {
                var t4 = e5.toAccount;
                a3.hasLocalGroup(t4) ? e5.groupProfile = a3.getLocalGroupProfile(t4) : o3.push(t4);
              }
            }), Ve2.l("".concat(this._n, "._updateUserOrGroupProfile c2cUserIDList:").concat(n4, " groupIDList:").concat(o3)), n4.length > 0 && s4.getUserProfile({ userIDList: n4 }).then(function(e5) {
              var n5 = e5.data;
              at2(n5) ? n5.forEach(function(e6) {
                t3._doUpdateUserProfile("C2C".concat(e6.userID), e6);
              }) : t3._doUpdateUserProfile("C2C".concat(n5.userID), n5);
            }), o3.length > 0 && a3.getGroupProfileAdvance({ groupIDList: o3, responseFilter: { groupBaseInfoFilter: ["Type", "Name", "FaceUrl"] } }).then(function(e5) {
              e5.data.successGroupList.forEach(function(e6) {
                var n5 = "GROUP".concat(e6.groupID);
                if (t3._conversationMap.has(n5)) {
                  var o4 = t3._conversationMap.get(n5);
                  pt2(o4.groupProfile, e6, [], [null, void 0, "", 0, NaN]), !o4.subType && e6.type && (o4.subType = e6.type);
                }
              });
            });
          }
        } }, { key: "_doUpdateUserProfile", value: function(e4, t3) {
          this.hasLocalConversation(e4) && (this.getLocalConversation(e4).userProfile = t3);
        } }, { key: "_getConversationOptions", value: function(e4) {
          var n4 = this, o3 = [], s4 = e4.filter(function(e5) {
            var t3 = e5.type, n5 = e5.userID;
            return 1 === t3 && "@TLS#NOT_FOUND" !== n5 && "@TLS#ERROR" !== n5 || 2 === t3;
          }), a3 = this.getMyUserID(), i3 = s4.map(function(e5) {
            if (it2(e5.lastMsg) && (e5.lastMsg = { elements: [] }), 1 === e5.type) {
              var s5 = { userID: e5.userID, nick: e5.peerNick, avatar: e5.peerAvatar };
              return o3.push(s5), { conversationID: "C2C".concat(e5.userID), type: "C2C", lastMessage: { lastTime: e5.time, lastSequence: e5.sequence, fromAccount: e5.lastC2CMsgFromAccount, messageForShow: e5.messageShow, type: e5.lastMsg.elements[0] ? e5.lastMsg.elements[0].type : null, payload: e5.lastMsg.elements[0] ? n4._amendLayersOverLimitProperty(e5.lastMsg.elements[0].content) : null, cloudCustomData: e5.lastMsg.cloudCustomData || "", isRevoked: 8 === e5.lastMessageFlag, onlineOnlyFlag: false, nick: "", nameCard: "", version: 0, isPeerRead: e5.lastC2CMsgFromAccount === a3 && e5.time <= e5.c2cPeerReadTime, revoker: e5.lastMsg.revokerInfo ? e5.lastMsg.revokerInfo.revoker : null }, userProfile: new li(s5), peerReadTime: e5.c2cPeerReadTime, isPinned: 1 === e5.isPinned, messageRemindType: "", customData: e5.customMark || "", markList: Ht2(e5.standardMark), conversationGroupList: n4._convGroupHandler.getConvGroupListByID(e5.contactGroupId) };
            }
            return { conversationID: "GROUP".concat(e5.groupID), type: "GROUP", lastMessage: t2(t2({ lastTime: e5.time, lastSequence: e5.sequence, fromAccount: e5.msgGroupFromAccount, messageForShow: e5.messageShow }, n4._patchTypeAndPayload(e5)), {}, { cloudCustomData: e5.lastMsg.cloudCustomData || "", isRevoked: 2 === e5.lastMessageFlag, onlineOnlyFlag: false, nick: e5.senderNick || "", nameCard: e5.senderNameCard || "", revoker: e5.lastMsg.revokerInfo ? e5.lastMsg.revokerInfo.revoker : null }), groupProfile: new hi({ groupID: e5.groupID, name: e5.groupNick, avatar: e5.groupImage }), unreadCount: e5.unreadCount, peerReadTime: 0, isPinned: 1 === e5.isPinned, messageRemindType: "", version: 0, customData: e5.customMark || "", markList: Ht2(e5.standardMark), conversationGroupList: n4._convGroupHandler.getConvGroupListByID(e5.contactGroupId) };
          });
          o3.length > 0 && this.getModule(Gn2).onConversationsProfileUpdated(o3);
          return i3;
        } }, { key: "_patchTypeAndPayload", value: function(e4) {
          var n4 = e4.lastMsg, o3 = n4.event, s4 = void 0 === o3 ? void 0 : o3, a3 = n4.elements, i3 = void 0 === a3 ? [] : a3, r3 = n4.groupTips, u3 = void 0 === r3 ? {} : r3;
          if (!it2(s4) && !zt2(u3)) {
            var c3 = new Wa(u3);
            c3.setElement({ type: E2.MSG_GRP_TIP, content: t2(t2({}, u3.elements), {}, { groupProfile: u3.groupProfile }) });
            var l3 = JSON.parse(JSON.stringify(c3.payload));
            return c3 = null, { type: E2.MSG_GRP_TIP, payload: l3 };
          }
          return { type: i3[0] ? i3[0].type : null, payload: i3[0] ? this._amendLayersOverLimitProperty(i3[0].content) : null };
        } }, { key: "_amendLayersOverLimitProperty", value: function(e4) {
          var t3 = e4.layersOverLimit;
          return 0 === t3 ? e4.layersOverLimit = false : 1 === t3 && (e4.layersOverLimit = true), e4;
        } }, { key: "getLocalMessageList", value: function(e4) {
          return this._messageListHandler.getLocalMessageList(e4);
        } }, { key: "deleteLocalMessage", value: function(e4) {
          e4 instanceof Wa && this._messageListHandler.remove(e4);
        } }, { key: "onConversationDeleted", value: function(e4) {
          if (at2(e4)) {
            var t3 = e4.map(function(e5) {
              var t4 = e5.type, n4 = e5.userID, o3 = e5.groupID;
              return 1 === t4 ? "".concat(E2.CONV_C2C).concat(n4) : 2 === t4 ? "".concat(E2.CONV_GROUP).concat(o3) : void 0;
            });
            Ve2.l("".concat(this._n, ".onConversationDeleted conversationIDList:").concat(t3)), this.deleteLocalConversationList(t3);
          }
        } }, { key: "onConversationPinned", value: function(e4) {
          var t3 = this;
          if (at2(e4)) {
            var n4 = false;
            e4.forEach(function(e5) {
              var o3, s4 = e5.type, a3 = e5.userID, i3 = e5.groupID;
              1 === s4 ? o3 = t3.getLocalConversation("".concat(E2.CONV_C2C).concat(a3)) : 2 === s4 && (o3 = t3.getLocalConversation("".concat(E2.CONV_GROUP).concat(i3))), o3 && (Ve2.l("".concat(t3._n, ".onConversationPinned conversationID:").concat(o3.conversationID, " isPinned:").concat(o3.isPinned)), o3.isPinned || (o3.isPinned = true, n4 = true));
            }), n4 && this._sortConversationListAndEmitEvent();
          }
        } }, { key: "onConversationUnpinned", value: function(e4) {
          var t3 = this;
          if (at2(e4)) {
            var n4 = false;
            e4.forEach(function(e5) {
              var o3, s4 = e5.type, a3 = e5.userID, i3 = e5.groupID;
              1 === s4 ? o3 = t3.getLocalConversation("".concat(E2.CONV_C2C).concat(a3)) : 2 === s4 && (o3 = t3.getLocalConversation("".concat(E2.CONV_GROUP).concat(i3))), o3 && (Ve2.l("".concat(t3._n, ".onConversationUnpinned conversationID:").concat(o3.conversationID, " isPinned:").concat(o3.isPinned)), o3.isPinned && (o3.isPinned = false, n4 = true));
            }), n4 && this._sortConversationListAndEmitEvent();
          }
        } }, { key: "getMessageList", value: function(e4) {
          var t3 = this, n4 = e4.conversationID, o3 = e4.nextReqMessageID, s4 = e4.count, a3 = "".concat(this._n, ".getMessageList"), i3 = this.getLocalConversation(n4), r3 = "";
          if (i3 && i3.groupProfile && (r3 = i3.groupProfile.type), Tt2(r3))
            return Ve2.l("".concat(a3, " not available in avchatroom. conversationID:").concat(n4)), Xa({ messageList: [], nextReqMessageID: "", isCompleted: true });
          (it2(s4) || s4 > 15) && (s4 = 15), !o3 && this._isNotInCommunity(n4) && (this._messageListHandler.removeByConversationID(n4), this._completedMap.delete(n4), this._roamingMessageSequenceMap.delete(n4));
          var u3 = this._computeRemainingCount({ conversationID: n4, nextReqMessageID: o3 }), c3 = this._completedMap.has(n4);
          if (Ve2.l("".concat(a3, " conversationID:").concat(n4, " nextReqMessageID:").concat(o3) + " remainingCount:".concat(u3, " count:").concat(s4, " isCompleted:").concat(c3)), this._needGetHistory({ conversationID: n4, remainingCount: u3, count: s4 }))
            return this.getHistoryMessages({ conversationID: n4, nextReqMessageID: o3, count: 20 }).then(function(e5) {
              var o4 = e5.nextReqID, s5 = e5.storedMessageList, i4 = t3._completedMap.has(n4), r4 = s5;
              u3 > 0 && (r4 = t3._messageListHandler.getLocalMessageList(n4).slice(0, s5.length + u3));
              var c4 = { nextReqMessageID: i4 ? "" : o4, messageList: r4, isCompleted: i4 };
              return Ve2.l("".concat(a3, " ret.nextReqMessageID:").concat(c4.nextReqMessageID, " ret.isCompleted:").concat(c4.isCompleted, " ret.length:").concat(r4.length)), Ya(c4);
            });
          this.modifyMessageList(n4);
          var l3 = this._getMessageListFromMemory({ conversationID: n4, nextReqMessageID: o3, count: s4 });
          return Xa(l3);
        } }, { key: "_getMessageListFromMemory", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.nextReqMessageID, o3 = e4.count, s4 = "".concat(this._n, "._getMessageListFromMemory"), a3 = this._messageListHandler.getLocalMessageList(t3), i3 = a3.length, r3 = 0, u3 = { isCompleted: false, nextReqMessageID: "", messageList: [] };
          return n4 ? (r3 = a3.findIndex(function(e5) {
            return e5.ID === n4;
          })) > o3 ? (u3.messageList = a3.slice(r3 - o3, r3), u3.nextReqMessageID = a3[r3 - o3].ID) : (u3.messageList = a3.slice(0, r3), u3.isCompleted = true) : i3 > o3 ? (r3 = i3 - o3, u3.messageList = a3.slice(r3, i3), u3.nextReqMessageID = a3[r3].ID) : (u3.messageList = a3.slice(0, i3), u3.isCompleted = true), Ve2.l("".concat(s4, " conversationID:").concat(t3) + " ret.nextReqMessageID:".concat(u3.nextReqMessageID, " ret.isCompleted:").concat(u3.isCompleted, " ret.length:").concat(u3.messageList.length)), u3;
        } }, { key: "getMessageListHopping", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.sequence, o3 = e4.time, s4 = e4.count, a3 = e4.direction, i3 = void 0 === a3 ? 0 : a3;
          if ((it2(s4) || s4 > 15) && (s4 = 15), t3.startsWith(E2.CONV_C2C)) {
            var r3 = this.getModule(Un), u3 = t3.replace(E2.CONV_C2C, "");
            return r3.getRoamingMessagesHopping({ peerAccount: u3, time: o3, count: s4, direction: i3 });
          }
          if (t3.startsWith(E2.CONV_GROUP)) {
            var c3 = this.getModule(Pn), l3 = t3.replace(E2.CONV_GROUP, "");
            return c3.getRoamingMessagesHopping({ groupID: l3, sequence: n4, count: s4, direction: i3 });
          }
        } }, { key: "_computeRemainingCount", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.nextReqMessageID, o3 = this._messageListHandler.getLocalMessageList(t3), s4 = o3.length;
          if (!n4)
            return s4;
          var a3 = 0;
          return Et2(t3) ? a3 = o3.findIndex(function(e5) {
            return e5.ID === n4;
          }) : St2(t3) && (a3 = -1 !== n4.indexOf("-") ? o3.findIndex(function(e5) {
            return e5.ID === n4;
          }) : o3.findIndex(function(e5) {
            return e5.sequence === n4;
          })), -1 === a3 && (a3 = 0), a3;
        } }, { key: "_getMessageListSize", value: function(e4) {
          return this._messageListHandler.getLocalMessageList(e4).length;
        } }, { key: "_needGetHistory", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.remainingCount, o3 = e4.count, s4 = this.getLocalConversation(t3), a3 = "";
          return s4 && s4.groupProfile && (a3 = s4.groupProfile.type), !Lt2(t3) && !Tt2(a3) && (!(St2(t3) && this._isPagingGetGroupListCompleted() && this._getLocalGroupCount() <= 4e3 && !this._hasLocalGroup(t3) && !this._isTopicConversation(t3)) && (n4 <= o3 && !this._completedMap.has(t3)));
        } }, { key: "_isTopicConversation", value: function(e4) {
          var t3 = e4.replace(E2.CONV_GROUP, "");
          return kt2(t3);
        } }, { key: "getHistoryMessages", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.count;
          if (t3 === E2.CONV_SYSTEM)
            return Xa();
          var o3 = 15;
          n4 > 20 && (o3 = 20);
          var s4 = null;
          if (Et2(t3)) {
            var a3 = this._roamingMessageKeyAndTimeMap.has(t3);
            return (s4 = this.getModule(Un)) ? s4.getRoamingMessage({ conversationID: t3, peerAccount: t3.replace(E2.CONV_C2C, ""), count: o3, lastMessageTime: a3 ? this._roamingMessageKeyAndTimeMap.get(t3).lastMessageTime : 0, messageKey: a3 ? this._roamingMessageKeyAndTimeMap.get(t3).messageKey : "" }) : Za({ code: ha.CANNOT_FIND_MODULE });
          }
          if (St2(t3)) {
            if (!(s4 = this.getModule(Pn)))
              return Za({ code: ha.CANNOT_FIND_MODULE });
            var i3 = null;
            this._conversationMap.has(t3) && (i3 = this._conversationMap.get(t3).lastMessage);
            var r3 = 0;
            i3 && (r3 = i3.lastSequence);
            var u3 = this._roamingMessageSequenceMap.get(t3);
            return s4.getRoamingMessage({ conversationID: t3, groupID: t3.replace(E2.CONV_GROUP, ""), count: o3, sequence: u3 || r3 });
          }
          return Xa();
        } }, { key: "patchConversationLastMessage", value: function(e4) {
          var t3 = this.getLocalConversation(e4);
          if (t3) {
            var n4 = t3.lastMessage, o3 = n4.messageForShow, s4 = n4.payload;
            if (zt2(o3) || zt2(s4)) {
              var a3 = this._messageListHandler.getLocalMessageList(e4);
              if (0 === a3.length)
                return;
              var i3 = a3[a3.length - 1];
              Ve2.l("".concat(this._n, ".patchConversationLastMessage conversationID:").concat(e4, " payload:"), i3.payload), t3.updateLastMessage(i3);
            }
          }
        } }, { key: "onRoamingMessage", value: function() {
          var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], n4 = arguments.length > 1 ? arguments[1] : void 0, o3 = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], s4 = n4.startsWith(E2.CONV_C2C) ? E2.CONV_C2C : E2.CONV_GROUP, a3 = null, i3 = [], r3 = [], u3 = 0, c3 = e4.length, l3 = null, d3 = s4 === E2.CONV_GROUP, p3 = this.getModule(Kn2), g3 = this.getFileDownloadProxy(), h3 = function() {
            u3 = d3 ? e4.length - 1 : 0, c3 = d3 ? 0 : e4.length;
          }, _3 = function() {
            d3 ? --u3 : ++u3;
          }, f3 = function() {
            return d3 ? u3 >= c3 : u3 < c3;
          };
          for (h3(); f3(); _3())
            if (d3 && 1 === e4[u3].sequence && o3 && this.setCompleted(n4), 1 !== e4[u3].isPlaceMessage)
              if ((a3 = new Wa(e4[u3])).to = e4[u3].to, s4 !== E2.CONV_GROUP || it2(e4[u3].topicID) || (a3.to = e4[u3].topicID), a3.isSystemMessage = !!e4[u3].isSystemMessage, a3.conversationType = s4, 4 === e4[u3].event ? l3 = { type: E2.MSG_GRP_TIP, content: t2(t2({}, e4[u3].elements), {}, { groupProfile: e4[u3].groupProfile }) } : (e4[u3].elements = p3.parseElements(e4[u3].elements, e4[u3].from), l3 = e4[u3].elements), d3 || a3.setNickAndAvatar({ nick: e4[u3].nick, avatar: e4[u3].avatar }), zt2(l3)) {
                var v3 = new Aa("emptyMessageBody");
                v3.setMessage("from:".concat(a3.from, " to:").concat(a3.to, " sequence:").concat(a3.sequence, " event:").concat(e4[u3].event)), v3.setNetworkType(this.getNetworkType()).setLevel("warning").end();
              } else
                a3.setElement(l3, g3), a3.reInitialize(this.getMyUserID()), i3.push(a3);
          return h3 = _3 = f3 = null, o3 ? (this._messageListHandler.unshift(i3, r3), i3 = null, r3) : (r3 = null, i3);
        } }, { key: "findMessage", value: function(e4) {
          return this._messageListHandler.findMessage(e4);
        } }, { key: "_isNotInCommunity", value: function(e4) {
          var t3 = false;
          if (e4.startsWith(E2.CONV_GROUP) && this._isTopicConversation(e4)) {
            var n4 = xt2(e4.replace(E2.CONV_GROUP, ""));
            this.getModule(Pn).hasLocalGroup(n4) || (t3 = true);
          }
          return t3;
        } }, { key: "deleteTopicRoamingMessageInfo", value: function(e4) {
          var t3 = this;
          Dt2({ groupID: e4 }) && this._messageListHandler.getTopicConversationIDList(e4).forEach(function(e5) {
            t3._messageListHandler.removeByConversationID(e5), t3._completedMap.delete(e5), t3._roamingMessageSequenceMap.delete(e5);
          });
        } }, { key: "deleteGroupRomaingMessageInfo", value: function(e4) {
          var t3 = "".concat(E2.CONV_GROUP).concat(e4);
          this._messageListHandler.removeByConversationID(t3), this._completedMap.delete(t3), this._roamingMessageSequenceMap.delete(t3);
        } }, { key: "setMessageRead", value: function(e4) {
          var t3 = e4.conversationID, n4 = this.getLocalConversation(t3);
          if (Ve2.l("".concat(this._n, ".setMessageRead conversationID:").concat(t3, " unreadCount:").concat(n4 ? n4.unreadCount : 0)), !n4)
            return Xa();
          if (n4.type !== E2.CONV_GROUP && n4.type !== E2.CONV_TOPIC || zt2(n4.groupAtInfoList) || this.deleteGroupAtTips(t3), 0 === n4.unreadCount)
            return Xa();
          if (n4.type === E2.CONV_GROUP && !this._hasLocalGroup(t3))
            return 0 !== n4.unreadCount && (n4.unreadCount = 0, this.emitConversationUpdate(true, false)), Xa();
          var o3 = this._messageListHandler.getLocalLastMessage(t3), s4 = n4.lastMessage.lastTime;
          o3 && s4 < o3.time && (s4 = o3.time);
          var a3 = n4.lastMessage.lastSequence;
          if (o3 && a3 < o3.sequence && (a3 = o3.sequence), n4.type === E2.CONV_TOPIC && it2(o3)) {
            var i3 = this.getModule(Fn), r3 = t3.replace(E2.CONV_GROUP, ""), u3 = xt2(r3), c3 = i3.getLocalTopic(u3, r3);
            c3 && (a3 = c3.nextMessageSeq - 1);
          }
          var l3 = null;
          switch (n4.type) {
            case E2.CONV_C2C:
              return (l3 = this.getModule(Un)) ? l3.setMessageRead({ conversationID: t3, lastMessageTime: s4 }) : Za({ code: ha.CANNOT_FIND_MODULE });
            case E2.CONV_GROUP:
            case E2.CONV_TOPIC:
              return (l3 = this.getModule(Pn)) ? l3.setMessageRead({ conversationID: t3, lastMessageSeq: a3 }) : Za({ code: ha.CANNOT_FIND_MODULE });
            case E2.CONV_SYSTEM:
              return n4.unreadCount = 0, this.emitConversationUpdate(true, false), Xa();
            default:
              return Xa();
          }
        } }, { key: "setAllMessageRead", value: function() {
          var e4 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = "setAllMessageRead", o3 = "".concat(this._n, ".").concat(n4);
          t3.scope || (t3.scope = E2.READ_ALL_MSG), Ve2.l("".concat(o3, " options:"), t3);
          var s4 = this._createSetAllMessageReadPack(t3);
          if (0 === s4.readAllC2CMessage && 0 === s4.groupMessageReadInfoList.length)
            return Xa();
          var a3 = new Aa(n4);
          return this.request({ protocolName: us2, requestData: s4 }).then(function(n5) {
            var o4 = n5.data, s5 = e4._handleAllMessageRead(o4);
            return a3.setMessage("scope:".concat(t3.scope, " failureGroups:").concat(JSON.stringify(s5))).setNetworkType(e4.getNetworkType()).end(), Xa();
          }).catch(function(t4) {
            return e4.probeNetwork().then(function(e5) {
              var n5 = v2(e5, 2), o4 = n5[0], s5 = n5[1];
              a3.setError(t4, o4, s5).end();
            }), Ve2.w("".concat(o3, " failed. error:"), t4), Za({ code: t4 && t4.code ? t4.code : ha.MESSAGE_UNREAD_ALL_FAIL, message: t4 && t4.message ? t4.message : void 0 });
          });
        } }, { key: "setConversationCustomData", value: function(e4) {
          return this._convGroupHandler.setConvCustomData(e4);
        } }, { key: "markConversation", value: function(e4) {
          return this._convGroupHandler.markConversation(e4);
        } }, { key: "getConversationGroupList", value: function() {
          return this._convGroupHandler.getLocalConvGroupList();
        } }, { key: "createConversationGroup", value: function(e4) {
          return this._convGroupHandler.createConvGroup(e4);
        } }, { key: "deleteConversationGroup", value: function(e4) {
          return this._convGroupHandler.deleteConvGroup(e4);
        } }, { key: "renameConversationGroup", value: function(e4) {
          return this._convGroupHandler.renameConvGroup(e4);
        } }, { key: "addConversationsToGroup", value: function(e4) {
          return this._convGroupHandler.addConvsToGroup(e4);
        } }, { key: "deleteConversationsFromGroup", value: function(e4) {
          return this._convGroupHandler.deleteConvsFromGroup(e4);
        } }, { key: "onConversationMarkUpdated", value: function(e4) {
          this._convGroupHandler.onConvMarkUpdated(e4);
        } }, { key: "onConversationGroupCreated", value: function(e4) {
          this._convGroupHandler.onConvGroupCreated(e4);
        } }, { key: "onConversationGroupDeleted", value: function(e4) {
          this._convGroupHandler.onConvGroupDeleted(e4);
        } }, { key: "onConversationGroupNameUpdated", value: function(e4) {
          this._convGroupHandler.onConvGroupNameUpdated(e4);
        } }, { key: "onConversationInGroupUpdated", value: function(e4) {
          this._convGroupHandler.onConvInGroupUpdated(e4);
        } }, { key: "onConversationAddedToOrDeletedFromGroup", value: function(e4) {
          this._convGroupHandler.onConvAddedToOrDeletedFromGroup(e4);
        } }, { key: "_getConversationLastMessageSequence", value: function(e4) {
          var t3 = this._messageListHandler.getLocalLastMessage(e4.conversationID), n4 = e4.lastMessage.lastSequence;
          return t3 && n4 < t3.sequence && (n4 = t3.sequence), n4;
        } }, { key: "_getConversationLastMessageTime", value: function(e4) {
          var t3 = this._messageListHandler.getLocalLastMessage(e4.conversationID), n4 = e4.lastMessage.lastTime;
          return t3 && n4 < t3.time && (n4 = t3.time), n4;
        } }, { key: "_createSetAllMessageReadPack", value: function(e4) {
          var t3, n4 = { readAllC2CMessage: 0, groupMessageReadInfoList: [] }, o3 = e4.scope, s4 = D2(this._conversationMap);
          try {
            for (s4.s(); !(t3 = s4.n()).done; ) {
              var a3 = v2(t3.value, 2)[1];
              if (a3.unreadCount > 0) {
                if (a3.type === E2.CONV_C2C && 0 === n4.readAllC2CMessage) {
                  if (o3 === E2.READ_ALL_MSG)
                    n4.readAllC2CMessage = 1;
                  else if (o3 === E2.READ_ALL_C2C_MSG) {
                    n4.readAllC2CMessage = 1;
                    break;
                  }
                } else if (a3.type === E2.CONV_GROUP && (o3 === E2.READ_ALL_GROUP_MSG || o3 === E2.READ_ALL_MSG)) {
                  var i3 = this._getConversationLastMessageSequence(a3);
                  n4.groupMessageReadInfoList.push({ groupID: a3.groupProfile.groupID, messageSequence: i3 });
                }
              }
            }
          } catch (r3) {
            s4.e(r3);
          } finally {
            s4.f();
          }
          return n4;
        } }, { key: "onPushedAllMessageRead", value: function(e4) {
          this._handleAllMessageRead(e4);
        } }, { key: "_handleAllMessageRead", value: function(e4) {
          var t3 = e4.groupMessageReadInfoList, n4 = e4.readAllC2CMessage, o3 = this._parseGroupReadInfo(t3);
          return this._updateAllConversationUnreadCount({ readAllC2CMessage: n4 }) >= 1 && (this.emitConversationUpdate(true, false), this.emitTotalUnreadMessageCountUpdate()), o3;
        } }, { key: "_parseGroupReadInfo", value: function(e4) {
          var t3 = [];
          if (e4 && e4.length)
            for (var n4 = 0, o3 = e4.length; n4 < o3; n4++) {
              var s4 = e4[n4], a3 = s4.groupID, i3 = s4.sequence, r3 = s4.retCode, u3 = s4.lastMessageSeq;
              it2(r3) ? this._remoteGroupReadSequenceMap.set(a3, u3) : (this._remoteGroupReadSequenceMap.set(a3, i3), 0 !== r3 && t3.push("".concat(a3, "-").concat(i3, "-").concat(r3)));
            }
          return t3;
        } }, { key: "_updateAllConversationUnreadCount", value: function(e4) {
          var t3, n4 = e4.readAllC2CMessage, o3 = 0, s4 = D2(this._conversationMap);
          try {
            for (s4.s(); !(t3 = s4.n()).done; ) {
              var a3 = v2(t3.value, 2), i3 = a3[0], r3 = a3[1];
              if (r3.unreadCount >= 1) {
                if (1 === n4 && r3.type === E2.CONV_C2C) {
                  var u3 = this._getConversationLastMessageTime(r3);
                  this.updateIsReadAfterReadReport({ conversationID: i3, lastMessageTime: u3 });
                } else if (r3.type === E2.CONV_GROUP) {
                  var c3 = i3.replace(E2.CONV_GROUP, "");
                  if (this._remoteGroupReadSequenceMap.has(c3)) {
                    var l3 = this._remoteGroupReadSequenceMap.get(c3), d3 = this._getConversationLastMessageSequence(r3);
                    this.updateIsReadAfterReadReport({ conversationID: i3, remoteReadSequence: l3 }), d3 >= l3 && this._remoteGroupReadSequenceMap.delete(c3);
                  }
                }
                this.updateUnreadCount(i3, false) && (o3 += 1);
              }
            }
          } catch (p3) {
            s4.e(p3);
          } finally {
            s4.f();
          }
          return o3;
        } }, { key: "isRemoteRead", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.sequence, o3 = t3.replace(E2.CONV_GROUP, ""), s4 = false;
          if (this._remoteGroupReadSequenceMap.has(o3)) {
            var a3 = this._remoteGroupReadSequenceMap.get(o3);
            n4 <= a3 && (s4 = true, Ve2.l("".concat(this._n, ".isRemoteRead conversationID:").concat(t3, " messageSequence:").concat(n4, " remoteReadSequence:").concat(a3))), n4 >= a3 + 10 && this._remoteGroupReadSequenceMap.delete(o3);
          }
          return s4;
        } }, { key: "updateIsReadAfterReadReport", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.lastMessageSeq, o3 = e4.lastMessageTime, s4 = this._messageListHandler.getLocalMessageList(t3);
          if (0 !== s4.length) {
            for (var a3, i3 = s4.length - 1; i3 >= 0; i3--)
              if (a3 = s4[i3], !(o3 && a3.time > o3 || n4 && a3.sequence > n4)) {
                if ("in" === a3.flow && a3.isRead)
                  break;
                a3.setIsRead(true);
              }
          }
        } }, { key: "updateUnreadCount", value: function(e4) {
          var t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n4 = false, o3 = this.getLocalConversation(e4), s4 = this._messageListHandler.getLocalMessageList(e4);
          if (o3) {
            var a3 = o3.unreadCount, i3 = s4.filter(function(e5) {
              return !e5.isRead && !e5._onlineOnlyFlag && !e5.isDeleted;
            }).length;
            if (a3 !== i3 && (o3.unreadCount = i3, n4 = true, Ve2.l("".concat(this._n, ".updateUnreadCount from ").concat(a3, " to ").concat(i3, ", conversationID:").concat(e4)), true === t3 && (this.emitConversationUpdate(true, false), this.emitTotalUnreadMessageCountUpdate())), n4 && o3.type === E2.CONV_TOPIC) {
              var r3 = o3.unreadCount, u3 = this.getModule(Fn), c3 = e4.replace(E2.CONV_GROUP, "");
              u3.onConversationProxy({ topicID: c3, unreadCount: r3 });
            }
            return n4;
          }
        } }, { key: "clearGroupAtInfoList", value: function(e4) {
          var t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n4 = this.getLocalConversation(e4);
          if (n4 && n4.groupAtInfoList.length > 0) {
            if (n4.clearGroupAtInfoList(), Ve2.l("".concat(this._n, ".clearGroupAtInfoList conversationID:").concat(e4)), n4.type === E2.CONV_TOPIC) {
              var o3 = n4.groupAtInfoList, s4 = this.getModule(Fn), a3 = e4.replace(E2.CONV_GROUP, "");
              s4.onConversationProxy({ topicID: a3, groupAtInfoList: o3 });
            }
            true === t3 && this.emitConversationUpdate(true, false);
          }
        } }, { key: "updateReadReceiptInfo", value: function(e4) {
          var t3 = this, n4 = e4.userID, o3 = void 0 === n4 ? void 0 : n4, s4 = e4.groupID, a3 = void 0 === s4 ? void 0 : s4, i3 = e4.readReceiptList;
          if (!zt2(i3)) {
            var r3 = [];
            if (it2(o3)) {
              if (!it2(a3)) {
                var u3 = "".concat(E2.CONV_GROUP).concat(a3);
                i3.forEach(function(e5) {
                  var n5 = e5.tinyID, o4 = e5.clientTime, s5 = e5.random, i4 = e5.readCount, c4 = e5.unreadCount, l3 = "".concat(n5, "-").concat(o4, "-").concat(s5), d3 = t3._messageListHandler.getLocalMessage(u3, l3), p3 = { groupID: a3, messageID: l3, readCount: 0, unreadCount: 0 };
                  d3 && (et2(i4) && (d3.readReceiptInfo.readCount = i4, p3.readCount = i4), et2(c4) && (d3.readReceiptInfo.unreadCount = c4, p3.unreadCount = c4), r3.push(p3));
                });
              }
            } else {
              var c3 = "".concat(E2.CONV_C2C).concat(o3);
              i3.forEach(function(e5) {
                var n5 = e5.tinyID, s5 = e5.clientTime, a4 = e5.random, i4 = "".concat(n5, "-").concat(s5, "-").concat(a4), u4 = t3._messageListHandler.getLocalMessage(c3, i4);
                if (u4) {
                  u4.readReceiptInfo.isPeerRead = true;
                  var l3 = { userID: o3, messageID: i4, isPeerRead: true };
                  r3.push(l3);
                }
              });
            }
            r3.length > 0 && this.emitOuterEvent(k.MESSAGE_READ_RECEIPT_RECEIVED, r3);
          }
        } }, { key: "recomputeGroupUnreadCount", value: function(e4) {
          var t3 = e4.conversationID, n4 = e4.count, o3 = this.getLocalConversation(t3);
          if (o3) {
            var s4 = o3.unreadCount, a3 = s4 - n4;
            a3 < 0 && (a3 = 0), o3.unreadCount = a3, Ve2.l("".concat(this._n, ".recomputeGroupUnreadCount from ").concat(s4, " to ").concat(a3, ", conversationID:").concat(t3));
          }
        } }, { key: "updateIsRead", value: function(e4) {
          var t3 = this.getLocalConversation(e4), n4 = this.getLocalMessageList(e4);
          if (t3 && 0 !== n4.length && !Lt2(t3.type)) {
            for (var o3 = [], s4 = 0, a3 = n4.length; s4 < a3; s4++)
              "in" !== n4[s4].flow ? "out" !== n4[s4].flow || n4[s4].isRead || n4[s4].setIsRead(true) : o3.push(n4[s4]);
            var i3 = 0;
            if (t3.type === E2.CONV_C2C) {
              var r3 = o3.slice(-t3.unreadCount).filter(function(e5) {
                return e5.isRevoked;
              }).length;
              i3 = o3.length - t3.unreadCount - r3;
            } else
              i3 = o3.length - t3.unreadCount;
            for (var u3 = 0; u3 < i3 && !o3[u3].isRead; u3++)
              o3[u3].setIsRead(true);
          }
        } }, { key: "deleteGroupAtTips", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".deleteGroupAtTips");
          Ve2.l("".concat(n4));
          var o3 = this._conversationMap.get(e4);
          if (!o3)
            return Promise.resolve();
          var s4 = o3.groupAtInfoList;
          if (0 === s4.length)
            return Promise.resolve();
          var a3 = void 0;
          e4.startsWith(E2.CONV_GROUP) && (a3 = e4.replace(E2.CONV_GROUP, ""));
          var i3 = m2(s4);
          if ((Dt2({ groupID: a3 }) || kt2(a3)) && 0 === (i3 = s4.filter(function(e5) {
            return !e5.atTypeArray.includes(E2.CONV_AT_ALL);
          })).length)
            return this.clearGroupAtInfoList(e4, false), Promise.resolve();
          var r3 = this.getMyUserID();
          return this.request({ protocolName: Fo, requestData: { messageListToDelete: i3.map(function(e5) {
            return { from: e5.from, to: r3, messageSeq: e5.__sequence, messageRandom: e5.__random, groupID: it2(e5.topicID) ? e5.groupID : e5.topicID };
          }) } }).then(function() {
            return Ve2.l("".concat(n4, " ok. count:").concat(s4.length)), t3.clearGroupAtInfoList(e4, false), Promise.resolve();
          }).catch(function(e5) {
            return Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "appendToMessageList", value: function(e4) {
          this._messageListHandler.pushIn(e4);
        } }, { key: "setMessageRandom", value: function(e4) {
          this.singlyLinkedList.set(e4.random);
        } }, { key: "deleteMessageRandom", value: function(e4) {
          this.singlyLinkedList.delete(e4.random);
        } }, { key: "pushIntoMessageList", value: function(e4, t3, n4) {
          return !(!this._messageListHandler.pushIn(t3, n4) || this._isMessageFromCurrentInstance(t3) && !n4) && (e4.push(t3), true);
        } }, { key: "_isMessageFromCurrentInstance", value: function(e4) {
          return this.singlyLinkedList.has(e4.random);
        } }, { key: "revoke", value: function(e4, t3, n4) {
          return this._messageListHandler.revoke(e4, t3, n4);
        } }, { key: "getPeerReadTime", value: function(e4) {
          return this._peerReadTimeMap.get(e4);
        } }, { key: "recordPeerReadTime", value: function(e4, t3) {
          this._peerReadTimeMap.has(e4) ? this._peerReadTimeMap.get(e4) < t3 && this._peerReadTimeMap.set(e4, t3) : this._peerReadTimeMap.set(e4, t3);
        } }, { key: "updateMessageIsPeerReadProperty", value: function(e4, t3) {
          if (e4.startsWith(E2.CONV_C2C) && t3 > 0) {
            var n4 = this._messageListHandler.updateMessageIsPeerReadProperty(e4, t3);
            if (n4.length > 0 && this.emitOuterEvent(k.MESSAGE_READ_BY_PEER, n4), this._conversationMap.has(e4)) {
              var o3 = this._conversationMap.get(e4).lastMessage;
              zt2(o3) || o3.fromAccount === this.getMyUserID() && o3.lastTime <= t3 && !o3.isPeerRead && (o3.isPeerRead = true, this.emitConversationUpdate(true, false));
            }
          }
        } }, { key: "updateMessageIsModifiedProperty", value: function(e4) {
          this._messageListHandler.updateMessageIsModifiedProperty(e4);
        } }, { key: "setCompleted", value: function(e4) {
          Ve2.l("".concat(this._n, ".setCompleted. conversationID:").concat(e4)), this._completedMap.set(e4, true);
        } }, { key: "updateRoamingMessageKeyAndTime", value: function(e4, t3, n4) {
          this._roamingMessageKeyAndTimeMap.set(e4, { messageKey: t3, lastMessageTime: n4 });
        } }, { key: "updateRoamingMessageSequence", value: function(e4, t3) {
          this._roamingMessageSequenceMap.set(e4, t3);
        } }, { key: "getConversationList", value: function(e4) {
          var t3 = this, n4 = "getConversationList", o3 = "".concat(this._n, ".").concat(n4), s4 = "pagingStatus:".concat(this._pagingStatus, ", local conversation count:").concat(this._conversationMap.size, ", options:").concat(e4);
          if (Ve2.l("".concat(o3, ". ").concat(s4)), this._pagingStatus === $t2.REJECTED) {
            var a3 = new Aa(n4);
            return a3.setMessage(s4), this.syncConversationList().then(function() {
              a3.setNetworkType(t3.getNetworkType()).end();
              var n5 = t3._getConversationList(e4);
              return Ya({ conversationList: n5, isSyncCompleted: t3._isSyncCompleted() });
            }).catch(function(e5) {
              return t3.probeNetwork().then(function(t4) {
                var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
                a3.setError(e5, o4, s5).end();
              }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
            });
          }
          if (0 === this._conversationMap.size) {
            var i3 = new Aa(n4);
            return i3.setMessage(s4), this.syncConversationList().then(function() {
              i3.setNetworkType(t3.getNetworkType()).end();
              var n5 = t3._getConversationList(e4);
              return Ya({ conversationList: n5, isSyncCompleted: t3._isSyncCompleted() });
            }).catch(function(e5) {
              return t3.probeNetwork().then(function(t4) {
                var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
                i3.setError(e5, o4, s5).end();
              }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
            });
          }
          var r3 = this._getConversationList(e4);
          return Ve2.l("".concat(o3, ". returned conversation count:").concat(r3.length)), Xa({ conversationList: r3, isSyncCompleted: this._isSyncCompleted() });
        } }, { key: "_getConversationList", value: function(e4) {
          if (it2(e4))
            return this.getLocalConversationList();
          if (at2(e4))
            return 0 === e4.length ? [] : this.getLocalConversationList().filter(function(t4) {
              return e4.includes(t4.conversationID);
            });
          if (st2(e4)) {
            var t3 = e4.type, n4 = e4.markType, o3 = e4.groupName;
            return this.getLocalConversationList().filter(function(e5) {
              return (t3 !== E2.CONV_C2C && t3 !== E2.CONV_GROUP || e5.type === t3) && (!nt2(o3) || e5.conversationGroupList.includes(o3)) && (!et2(n4) || e5.markList.includes(n4));
            });
          }
          return [];
        } }, { key: "_handleC2CPeerReadTime", value: function() {
          var e4, t3 = D2(this._conversationMap);
          try {
            for (t3.s(); !(e4 = t3.n()).done; ) {
              var n4 = v2(e4.value, 2), o3 = n4[0], s4 = n4[1];
              s4.type === E2.CONV_C2C && (Ve2.d("".concat(this._n, "._handleC2CPeerReadTime conversationID:").concat(o3, " peerReadTime:").concat(s4.peerReadTime)), this.recordPeerReadTime(o3, s4.peerReadTime));
            }
          } catch (a3) {
            t3.e(a3);
          } finally {
            t3.f();
          }
        } }, { key: "_isPagingGetGroupListCompleted", value: function() {
          return this.getModule(Pn).isPagingGetCompleted();
        } }, { key: "_getLocalGroupCount", value: function() {
          return this.getModule(Pn).getLocalGroupList().length;
        } }, { key: "_hasLocalGroup", value: function(e4) {
          return this.getModule(Pn).hasLocalGroup(e4.replace(E2.CONV_GROUP, ""));
        } }, { key: "getConversationProfile", value: function(e4) {
          var t3, n4 = this;
          if ((t3 = this._conversationMap.has(e4) ? this._conversationMap.get(e4) : new fi({ conversationID: e4, type: e4.slice(0, 3) === E2.CONV_C2C ? E2.CONV_C2C : E2.CONV_GROUP }, this.isIntl()))._isInfoCompleted || t3.type === E2.CONV_SYSTEM)
            return Xa({ conversation: t3 });
          if (St2(e4) && !this._hasLocalGroup(e4))
            return Xa({ conversation: t3 });
          var o3 = "".concat(this._n, ".").concat("getConversationProfile"), s4 = new Aa("getConversationProfile");
          return Ve2.l("".concat(o3, ". conversationID:").concat(e4, " remark:").concat(t3.remark, " lastMessage:"), t3.lastMessage), this._updateUserOrGroupProfileCompletely(t3).then(function(a3) {
            s4.setNetworkType(n4.getNetworkType()).setMessage("conversationID:".concat(e4, " unreadCount:").concat(a3.data.conversation.unreadCount)).end();
            var i3 = n4.getModule(bn);
            if (i3 && t3.type === E2.CONV_C2C) {
              var r3 = e4.replace(E2.CONV_C2C, "");
              if (i3.isMyFriend(r3)) {
                var u3 = i3.getFriendRemark(r3);
                t3.remark !== u3 && (t3.remark = u3, Ve2.l("".concat(o3, ". conversationID:").concat(e4, " patch remark:").concat(t3.remark)));
              }
            }
            return Ve2.l("".concat(o3, " ok. conversationID:").concat(e4)), a3;
          }).catch(function(t4) {
            return n4.probeNetwork().then(function(n5) {
              var o4 = v2(n5, 2), a3 = o4[0], i3 = o4[1];
              s4.setError(t4, a3, i3).setMessage("conversationID:".concat(e4)).end();
            }), Ve2.e("".concat(o3, " failed. error:"), t4), Za(t4);
          });
        } }, { key: "_updateUserOrGroupProfileCompletely", value: function(e4) {
          var t3 = this;
          return e4.type === E2.CONV_C2C ? this.getModule(Gn2).getUserProfile({ userIDList: [e4.toAccount] }).then(function(n4) {
            var o3 = n4.data;
            return 0 === o3.length ? Za(new ja({ code: ha.USER_OR_GROUP_NOT_FOUND })) : (e4.userProfile = o3[0], e4._isInfoCompleted = true, t3._unshiftConversation(e4), Xa({ conversation: e4 }));
          }) : this.getModule(Pn).getGroupProfile({ groupID: e4.toAccount }).then(function(n4) {
            return e4.groupProfile = n4.data.group, e4._isInfoCompleted = true, t3._unshiftConversation(e4), Xa({ conversation: e4 });
          });
        } }, { key: "_unshiftConversation", value: function(e4) {
          e4 instanceof fi && !this._conversationMap.has(e4.conversationID) && (this._conversationMap = new Map([[e4.conversationID, e4]].concat(m2(this._conversationMap))), this._setStorageConversationList(), this.emitConversationUpdate(true, false));
        } }, { key: "_onProfileUpdated", value: function(e4) {
          var t3 = this;
          e4.data.forEach(function(e5) {
            var n4 = e5.userID;
            if (n4 === t3.getMyUserID())
              t3._onMyProfileModified({ latestNick: e5.nick, latestAvatar: e5.avatar });
            else {
              var o3 = t3._conversationMap.get("".concat(E2.CONV_C2C).concat(n4));
              o3 && (o3.userProfile = e5);
            }
          });
        } }, { key: "_isSyncCompleted", value: function() {
          return this._pagingStatus === $t2.RESOLVED;
        } }, { key: "_errorLog", value: function(e4, t3, n4, o3) {
          var s4 = new Error("Params validate failed."), a3 = "".concat(this.getErrorMessage("API_REFER")).concat(e4);
          throw Ve2.w("[".concat(e4, "] | ").concat(t3, " | ").concat(this.getErrorMessage(n4, o3), ", ").concat(a3)), Ve2.e("[".concat(e4, "] Invalid ").concat(t3, ": type check failed for ").concat(t3, ".")), s4;
        } }, { key: "_isValidConversationID", value: function(e4) {
          return Et2(e4) || St2(e4) || Lt2(e4);
        } }, { key: "deleteConversation", value: function(e4) {
          var t3 = this, n4 = "deleteConversation";
          return nt2(e4) || ot2(e4) || this._errorLog(n4, "options", "StringOrObjectRequiredLog"), nt2(e4) ? (this._isValidConversationID(e4) || this._errorLog(n4, "options", "InvalidConversationID", e4), Ve2.l("".concat(this._n, ".").concat(n4, " conversationID:").concat(e4)), this.deleteConversationList({ conversationIDList: [e4], flag: 1 })) : (at2(e4.conversationIDList) || this._errorLog(n4, "conversationIDList", "ArrayRequiredLog"), 0 === e4.conversationIDList.length && this._errorLog(n4, "conversationIDList", "NonEmptyArrayLog"), e4.conversationIDList.forEach(function(e5) {
            t3._isValidConversationID(e5) || t3._errorLog(n4, "conversationIDList", "InvalidConversationID", e5);
          }), "clearHistoryMessage" in e4 && "boolean" != typeof e4.clearHistoryMessage && this._errorLog(n4, "clearHistoryMessage", "BooleanRequiredLog"), e4.conversationIDList.length > 100 && (e4.conversationIDList = e4.conversationIDList.slice(0, 100)), this.deleteConversationList(e4));
        } }, { key: "deleteConversationList", value: function(e4) {
          var t3 = this, n4 = e4.conversationIDList, o3 = void 0 === n4 ? [] : n4, s4 = e4.clearHistoryMessage, a3 = void 0 === s4 || s4, i3 = e4.flag, r3 = void 0 === i3 ? 0 : i3, u3 = "".concat(this._n, ".").concat("deleteConversationList");
          Ve2.l("".concat(u3, " conversationIDList.length:").concat(o3.length, " clearHistoryMessage:").concat(a3));
          var c3 = new Aa("deleteConversationList");
          return c3.setMessage("conversationIDList:".concat(o3)), Promise.all([this.rmLocalOnlyConversationList(o3), this.rmLocalAndRemoteConversationList(o3, a3)]).then(function(e5) {
            c3.setNetworkType(t3.getNetworkType()).end();
            var n5 = [].concat(m2(e5[0]), m2(e5[1]));
            return 0 === n5.length ? Za(new ja({ code: ha.CONVERSATION_NOT_FOUND })) : (Ve2.l("".concat(u3, " ok")), Xa(1 === r3 ? { conversationID: n5[0] } : { conversationIDList: n5 }));
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              c3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(u3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "rmLocalOnlyConversationList", value: function(e4) {
          var t3 = this;
          return e4.filter(function(e5) {
            if (!t3._conversationMap.has(e5))
              return false;
            var n4 = t3.getLocalConversation(e5).type;
            return n4 !== E2.CONV_GROUP || t3._hasLocalGroup(e5) ? n4 === E2.CONV_SYSTEM && (t3.getModule(Pn).deleteGroupSystemNotice({ messageList: t3._messageListHandler.getLocalMessageList(e5) }), t3.deleteLocalConversation(e5), true) : (t3.deleteLocalConversation(e5), true);
          });
        } }, { key: "rmLocalAndRemoteConversationList", value: function(e4, t3) {
          var n4 = this, o3 = { fromAccount: this.getMyUserID(), conversationList: [], clearHistoryMessage: t3 ? 1 : 0 };
          return e4.forEach(function(e5) {
            if (n4._conversationMap.has(e5)) {
              var t4 = n4.getLocalConversation(e5).type;
              t4 === E2.CONV_C2C ? o3.conversationList.push({ toAccount: e5.replace(t4, ""), type: 1 }) : t4 === E2.CONV_GROUP && n4._hasLocalGroup(e5) && o3.conversationList.push({ toGroupID: e5.replace(t4, ""), type: 2 });
            }
          }), 0 === o3.conversationList.length ? [] : this.request({ protocolName: Po, requestData: o3 }).then(function(e5) {
            var t4 = [];
            return e5.data.resultList.length > 0 && e5.data.resultList.map(function(e6) {
              if (0 === e6.code) {
                var n5 = 1 === e6.type ? "".concat(E2.CONV_C2C).concat(e6.to) : "".concat(E2.CONV_GROUP).concat(e6.groupID);
                t4.push(n5);
              }
            }), n4.deleteLocalConversationList(t4), t4;
          });
        } }, { key: "clearHistoryMessage", value: function(e4) {
          var t3 = this, n4 = { fromAccount: this.getMyUserID(), toAccount: void 0, type: void 0, toGroupID: void 0 };
          if (!this._conversationMap.has(e4))
            return Za({ code: ha.CONVERSATION_NOT_FOUND });
          var o3 = this._conversationMap.get(e4).type;
          if (o3 === E2.CONV_C2C)
            n4.type = 1, n4.toAccount = e4.replace(E2.CONV_C2C, "");
          else {
            if (o3 !== E2.CONV_GROUP)
              return o3 === E2.CONV_SYSTEM ? (this.getModule(Pn).deleteGroupSystemNotice({ messageList: this._messageListHandler.getLocalMessageList(e4) }), Xa({ conversationID: e4 })) : Za({ code: ha.CONVERSATION_UN_RECORDED_TYPE });
            n4.type = 2, n4.toGroupID = e4.replace(E2.CONV_GROUP, "");
          }
          var s4 = "".concat(this._n, ".").concat("clearHistoryMessage"), a3 = new Aa("clearHistoryMessage");
          return a3.setMessage("conversationID:".concat(e4)), Ve2.l("".concat(s4, ". conversationID:").concat(e4)), this.setMessageRead({ conversationID: e4 }).then(function() {
            return t3.request({ protocolName: bo, requestData: n4 });
          }).then(function() {
            a3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(s4, " ok")), t3._messageListHandler.removeByConversationID(e4), t3.setCompleted(e4);
            var n5 = t3.getLocalConversation(e4);
            return n5 && (n5.updateLastMessage(), t3._sortConversationListAndEmitEvent()), Xa({ conversationID: e4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              a3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(s4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "pinConversation", value: function(e4) {
          var t3 = this, n4 = e4.conversationID, o3 = e4.isPinned;
          if (!this._conversationMap.has(n4))
            return Za({ code: ha.CONVERSATION_NOT_FOUND });
          var s4 = this.getLocalConversation(n4);
          if (s4.isPinned === o3)
            return Xa({ conversationID: n4 });
          var a3 = "".concat(this._n, ".").concat("pinConversation"), i3 = new Aa("pinConversation");
          i3.setMessage("conversationID:".concat(n4, " isPinned:").concat(o3)), Ve2.l("".concat(a3, ". conversationID:").concat(n4, " isPinned:").concat(o3));
          var r3 = null;
          return Et2(n4) ? r3 = { type: 1, toAccount: n4.replace(E2.CONV_C2C, "") } : St2(n4) && (r3 = { type: 2, groupID: n4.replace(E2.CONV_GROUP, "") }), this.request({ protocolName: wo, requestData: { fromAccount: this.getMyUserID(), operationType: true === o3 ? 1 : 2, itemList: [r3] } }).then(function() {
            return i3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(a3, " ok")), s4.isPinned !== o3 && (s4.isPinned = o3, t3._sortConversationListAndEmitEvent()), Ya({ conversationID: n4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(a3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "setMessageRemindType", value: function(e4) {
          return this._messageRemindHandler.set(e4);
        } }, { key: "patchMessageRemindType", value: function(e4) {
          var t3 = e4.ID, n4 = e4.isC2CConversation, o3 = e4.messageRemindType, s4 = false, a3 = this.getLocalConversation(n4 ? "".concat(E2.CONV_C2C).concat(t3) : "".concat(E2.CONV_GROUP).concat(t3));
          return a3 && a3.messageRemindType !== o3 && (a3.messageRemindType = o3, s4 = true), Ve2.d("".concat(this._n, ".patchMessageRemindType options:"), e4, "ret:".concat(s4)), s4;
        } }, { key: "onC2CMessageRemindTypeSynced", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".onC2CMessageRemindTypeSynced");
          Ve2.d(n4, e4), e4.dataList.forEach(function(e5) {
            if (!zt2(e5.muteNotificationsSync)) {
              var o3, s4 = e5.muteNotificationsSync, a3 = s4.to, i3 = s4.updateSequence, r3 = s4.muteFlag;
              t3._messageRemindHandler.setUpdateSequence(i3), 0 === r3 ? o3 = E2.MSG_REMIND_ACPT_AND_NOTE : 1 === r3 ? o3 = E2.MSG_REMIND_DISCARD : 2 === r3 && (o3 = E2.MSG_REMIND_ACPT_NOT_NOTE);
              var u3 = 0;
              t3.patchMessageRemindType({ ID: a3, isC2CConversation: true, messageRemindType: o3 }) && (u3 += 1), Ve2.l("".concat(n4, " updateCount:").concat(u3)), u3 >= 1 && t3.emitConversationUpdate(true, false);
            }
          });
        } }, { key: "onGroupMessageRemindTypeSynced", value: function(e4) {
          Ve2.d("".concat(this._n, ".onGroupMessageRemindTypeSynced options:"), e4), this._messageRemindHandler.onGroupMessageRemindTypeUpdated(e4);
        } }, { key: "deleteLocalConversation", value: function(e4) {
          var t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n4 = this._conversationMap.has(e4);
          if (Ve2.d("".concat(this._n, ".deleteLocalConversation conversationID:").concat(e4, " has:").concat(n4)), n4 && (this._conversationMap.delete(e4), this._roamingMessageKeyAndTimeMap.has(e4) && this._roamingMessageKeyAndTimeMap.delete(e4), this._roamingMessageSequenceMap.has(e4) && this._roamingMessageSequenceMap.delete(e4), this._setStorageConversationList(), this._messageListHandler.removeByConversationID(e4), this._completedMap.delete(e4), t3)) {
            var o3 = !this._isTopicConversation(e4);
            this.emitConversationUpdate(o3, false);
          }
        } }, { key: "deleteLocalConversationList", value: function(e4) {
          var t3 = this, n4 = 0, o3 = false;
          e4.forEach(function(e5) {
            t3._conversationMap.has(e5) && (n4 += t3._conversationMap.get(e5).unreadCount || 0, t3.deleteLocalConversation(e5, false), o3 = true);
          }), Ve2.l("".concat(this._n, ".deleteLocalConversationList conversationIDList.length:").concat(e4.length, " isConvIDExisted:").concat(o3)), o3 && (this.emitConversationUpdate(true, false), n4 > 0 && this.emitTotalUnreadMessageCountUpdate());
        } }, { key: "isMessageSentByCurrentInstance", value: function(e4) {
          return !(!this._messageListHandler.hasLocalMessage(e4.conversationID, e4.ID) && !this.singlyLinkedList.has(e4.random));
        } }, { key: "modifyMessageList", value: function(e4) {
          if (e4.startsWith(E2.CONV_C2C) && this._conversationMap.has(e4)) {
            var t3 = this._conversationMap.get(e4), n4 = Date.now();
            this._messageListHandler.modifyMessageSentByPeer({ conversationID: e4, latestNick: t3.userProfile.nick, latestAvatar: t3.userProfile.avatar });
            var o3 = this.getModule(Gn2).getNickAndAvatarByUserID(this.getMyUserID());
            this._messageListHandler.modifyMessageSentByMe({ conversationID: e4, latestNick: o3.nick, latestAvatar: o3.avatar }), Ve2.l("".concat(this._n, ".modifyMessageList conversationID:").concat(e4, " cost ").concat(Date.now() - n4, " ms"));
          }
        } }, { key: "updateUserProfileSpecifiedKey", value: function(e4) {
          Ve2.l("".concat(this._n, ".updateUserProfileSpecifiedKey options:"), e4);
          var t3 = e4.conversationID, n4 = e4.nick, o3 = e4.avatar;
          if (this._conversationMap.has(t3)) {
            var s4 = this._conversationMap.get(t3).userProfile;
            nt2(n4) && s4.nick !== n4 && (s4.nick = n4), nt2(o3) && s4.avatar !== o3 && (s4.avatar = o3), this.emitConversationUpdate(true, false);
          }
        } }, { key: "_onMyProfileModified", value: function(e4) {
          var n4 = this, o3 = this.getLocalConversationList(), s4 = Date.now();
          o3.forEach(function(o4) {
            n4.modifyMessageSentByMe(t2({ conversationID: o4.conversationID }, e4));
          }), Ve2.l("".concat(this._n, "._onMyProfileModified. modify all messages sent by me, cost ").concat(Date.now() - s4, " ms"));
        } }, { key: "modifyMessageSentByMe", value: function(e4) {
          this._messageListHandler.modifyMessageSentByMe(e4);
        } }, { key: "getLatestMessageSentByMe", value: function(e4) {
          return this._messageListHandler.getLatestMessageSentByMe(e4);
        } }, { key: "modifyMessageSentByPeer", value: function(e4) {
          this._messageListHandler.modifyMessageSentByPeer(e4);
        } }, { key: "getLatestMessageSentByPeer", value: function(e4) {
          return this._messageListHandler.getLatestMessageSentByPeer(e4);
        } }, { key: "pushIntoNoticeResult", value: function(e4, t3) {
          return !(!this._messageListHandler.pushIn(t3) || this.singlyLinkedList.has(t3.random)) && (e4.push(t3), true);
        } }, { key: "getLocalLastMessage", value: function(e4) {
          return this._messageListHandler.getLocalLastMessage(e4);
        } }, { key: "checkAndPatchRemark", value: function() {
          var e4 = Promise.resolve();
          if (0 === this._conversationMap.size)
            return e4;
          var t3 = this.getModule(bn);
          if (!t3)
            return e4;
          var n4 = m2(this._conversationMap.values()).filter(function(e5) {
            return e5.type === E2.CONV_C2C;
          });
          if (0 === n4.length)
            return e4;
          var o3 = 0;
          return n4.forEach(function(e5) {
            var n5 = e5.conversationID.replace(E2.CONV_C2C, "");
            if (t3.isMyFriend(n5)) {
              var s4 = t3.getFriendRemark(n5);
              e5.remark !== s4 && (e5.remark = s4, o3 += 1);
            }
          }), Ve2.l("".concat(this._n, ".checkAndPatchRemark. c2c conversation count:").concat(n4.length, ", patched count:").concat(o3)), e4;
        } }, { key: "updateTopicConversation", value: function(e4) {
          this._updateLocalConversationList({ conversationOptionsList: e4, isFromGetConversations: true });
        } }, { key: "sendReadReceipt", value: function(e4) {
          var t3 = e4[0], n4 = null;
          return t3.conversationType === E2.CONV_C2C ? n4 = this._m.getModule(Un) : t3.conversationType === E2.CONV_GROUP && (n4 = this._m.getModule(Pn)), n4 ? n4.sendReadReceipt(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "getReadReceiptList", value: function(e4) {
          var t3 = e4[0], n4 = null;
          return t3.conversationType === E2.CONV_C2C ? n4 = this._m.getModule(Un) : t3.conversationType === E2.CONV_GROUP && (n4 = this._m.getModule(Pn)), n4 ? n4.getReadReceiptList(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "getLastMessageTime", value: function(e4) {
          var t3 = this.getLocalConversation(e4);
          return t3 ? t3.lastMessage.lastTime : 0;
        } }, { key: "getTotalUnreadMessageCount", value: function() {
          var e4 = this.getLocalConversationList(), t3 = 0;
          return e4.forEach(function(e5) {
            e5.type !== E2.CONV_SYSTEM && ("" !== e5.messageRemindType && e5.messageRemindType !== E2.MSG_REMIND_ACPT_AND_NOTE || (t3 += e5.unreadCount));
          }), t3;
        } }, { key: "emitTotalUnreadMessageCountUpdate", value: function() {
          var e4 = this.getTotalUnreadMessageCount();
          this._convTotalUnreadCount !== e4 && (Ve2.l("".concat(this._n, ".emitTotalUnreadMessageCountUpdate from ").concat(this._convTotalUnreadCount, " to ").concat(e4)), this._convTotalUnreadCount = e4, this.emitOuterEvent(k.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED));
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._pagingStatus = $t2.NOT_START, this._messageListHandler.reset(), this._messageRemindHandler.reset(), this._roamingMessageKeyAndTimeMap.clear(), this._roamingMessageSequenceMap.clear(), this.singlyLinkedList.reset(), this._peerReadTimeMap.clear(), this._completedMap.clear(), this._conversationMap.clear(), this._pagingTimeStamp = 0, this._pagingStartIndex = 0, this._pagingPinnedTimeStamp = 0, this._pagingPinnedStartIndex = 0, this._remoteGroupReadSequenceMap.clear(), this._convTotalUnreadCount = 0, this._pagingGetCostList.length = 0, this.resetReady();
        } }]), s3;
      }(uo), yi = function() {
        function e3(t3) {
          o2(this, e3), this._groupModule = t3, this._n = "GroupTipsHandler", this._cachedGroupTipsMap = /* @__PURE__ */ new Map(), this._checkCountMap = /* @__PURE__ */ new Map(), this.MAX_CHECK_COUNT = 4, this._getTopicPendingMap = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "onCheckTimer", value: function(e4) {
          e4 % 1 == 0 && this._cachedGroupTipsMap.size > 0 && this._checkCachedGroupTips();
        } }, { key: "_checkCachedGroupTips", value: function() {
          var e4 = this;
          this._cachedGroupTipsMap.forEach(function(t3, n3) {
            var o3 = e4._checkCountMap.get(n3), s3 = e4._groupModule.hasLocalGroup(n3);
            Ve2.l("".concat(e4._n, "._checkCachedGroupTips groupID:").concat(n3, " hasLocalGroup:").concat(s3, " checkCount:").concat(o3)), s3 ? (e4._notifyCachedGroupTips(n3), e4._checkCountMap.delete(n3), e4._groupModule.deleteUnjoinedAVChatRoom(n3)) : o3 >= e4.MAX_CHECK_COUNT ? (e4._deleteCachedGroupTips(n3), e4._checkCountMap.delete(n3)) : (o3++, e4._checkCountMap.set(n3, o3));
          });
        } }, { key: "onNewGroupTips", value: function(e4) {
          Ve2.d("".concat(this._n, ".onReceiveGroupTips count:").concat(e4.dataList.length));
          var t3 = this.newGroupTipsStoredAndSummary(e4), n3 = t3.eventDataList, o3 = t3.result, s3 = t3.AVChatRoomMessageList;
          (s3.length > 0 && this._groupModule.onAVChatRoomMessage(s3), n3.length > 0) && (this._groupModule.updateNextMessageSeq(n3), this._groupModule.getModule(qn).onNewMessage({ conversationOptionsList: n3, isInstantMessage: true }));
          o3.length > 0 && (this._groupModule.emitOuterEvent(k.MESSAGE_RECEIVED, o3), this.handleMessageList(o3));
        } }, { key: "newGroupTipsStoredAndSummary", value: function(e4) {
          for (var n3 = this, o3 = e4.event, s3 = e4.dataList, a3 = null, i3 = [], r3 = [], u3 = {}, c3 = [], l3 = function(e5, l4) {
            var d4 = It2(s3[e5]);
            if (6 === o3) {
              if (n3._groupModule.isGroupAttributesUpdatedNotice(d4))
                return "continue";
              if (n3._groupModule.isGroupCountersNotice(d4))
                return "continue";
            }
            var p4 = d4.groupProfile, g3 = p4.groupID, h3 = p4.communityType, _3 = void 0 === h3 ? 0 : h3, f3 = p4.topicID, v3 = void 0 === f3 ? void 0 : f3, m3 = p4.invisible, M3 = void 0, y3 = n3._groupModule.isMessageFromTopic(_3, v3);
            if (y3) {
              M3 = E2.CONV_TOPIC, d4.to = v3;
              var I3 = n3._groupModule.getModule(Fn);
              I3.hasLocalTopic(g3, v3) || n3._getTopicPendingMap.has(v3) || (n3._getTopicPendingMap.set(v3, 1), I3.getTopicList({ groupID: g3, topicIDList: [v3] }).finally(function() {
                n3._getTopicPendingMap.delete(v3);
              }));
            }
            var C3 = n3._groupModule.hasLocalGroup(g3);
            if (!C3 && n3._groupModule.isUnjoinedAVChatRoom(g3))
              return "continue";
            if (!C3 && !y3)
              return n3._cacheGroupTipsAndProbe({ groupID: g3, event: o3, item: d4 }), "continue";
            if (n3._groupModule.isMessageFromOrToAVChatroom(g3))
              return d4.event = o3, c3.push(d4), "continue";
            if (d4.currentUser = n3._groupModule.getMyUserID(), d4.conversationType = E2.CONV_GROUP, (a3 = new Wa(d4)).setElement({ type: E2.MSG_GRP_TIP, content: t2(t2({}, d4.elements), {}, { groupProfile: d4.groupProfile }) }), a3.isSystemMessage = false, 1 === m3)
              return n3._qualityStat(a3), "continue";
            var T3 = n3._groupModule.getModule(qn), D3 = a3, k2 = D3.conversationID, S3 = D3.sequence;
            if (6 === o3)
              a3._onlineOnlyFlag = true, r3.push(a3);
            else if (!T3.pushIntoNoticeResult(r3, a3))
              return "continue";
            if (n3._groupModule.isMessageFromCommunityOfTopic(_3, v3))
              return "continue";
            if (6 === o3 && T3.getLocalConversation(k2))
              return "continue";
            6 !== o3 && n3._qualityStat(a3);
            var L3 = T3.isRemoteRead({ conversationID: k2, sequence: S3 });
            if (it2(u3[k2])) {
              var A3 = 0;
              "in" === a3.flow && (a3._isExcludedFromUnreadCount || a3._onlineOnlyFlag || L3 || (A3 = 1)), u3[k2] = i3.push({ conversationID: k2, unreadCount: A3, type: it2(M3) ? a3.conversationType : M3, subType: a3.conversationSubType, lastMessage: a3._isExcludedFromLastMessage ? "" : a3 }) - 1;
            } else {
              var R3 = u3[k2];
              i3[R3].type = a3.conversationType, i3[R3].subType = a3.conversationSubType, i3[R3].lastMessage = a3._isExcludedFromLastMessage ? "" : a3, "in" === a3.flow && (a3._isExcludedFromUnreadCount || a3._onlineOnlyFlag || L3 || i3[R3].unreadCount++);
            }
          }, d3 = 0, p3 = s3.length; d3 < p3; d3++)
            l3(d3);
          return { eventDataList: i3, result: r3, AVChatRoomMessageList: c3 };
        } }, { key: "_qualityStat", value: function(e4) {
          this._groupModule.getModule(eo).addMessageSequence({ key: Ca, message: e4 });
        } }, { key: "handleMessageList", value: function(e4) {
          var t3 = this;
          e4.forEach(function(e5) {
            switch (e5.payload.operationType) {
              case 1:
                t3._onNewMemberComeIn(e5);
                break;
              case 2:
                t3._onMemberQuit(e5);
                break;
              case 3:
                t3._onMemberKickedOut(e5);
                break;
              case 4:
                t3._onMemberSetAdmin(e5);
                break;
              case 5:
                t3._onMemberCancelledAdmin(e5);
                break;
              case 6:
                t3._onGroupProfileModified(e5);
                break;
              case 7:
                t3._onMemberInfoModified(e5);
                break;
              case 8:
                t3._onTopicProfileUpdated(e5);
                break;
              default:
                Ve2.w("".concat(t3._n, ".handleMessageList unknown operationType:").concat(e5.payload.operationType));
            }
          });
        } }, { key: "_onNewMemberComeIn", value: function(e4) {
          var t3 = e4.payload, n3 = t3.memberNum, o3 = t3.groupProfile.groupID, s3 = this._groupModule.getLocalGroupProfile(o3);
          s3 && et2(n3) && s3.memberCount !== n3 && (s3.memberCount = n3, this._updateConversationGroupProfile(s3));
        } }, { key: "_onMemberQuit", value: function(e4) {
          var t3 = e4.payload, n3 = t3.memberNum, o3 = t3.groupProfile.groupID, s3 = this._groupModule.getLocalGroupProfile(o3);
          s3 && et2(n3) && s3.memberCount !== n3 && (s3.memberCount = n3, this._updateConversationGroupProfile(s3)), this._groupModule.getModule(wn).deleteLocalGroupMembers(o3, e4.payload.userIDList);
        } }, { key: "_onMemberKickedOut", value: function(e4) {
          var t3 = e4.payload, n3 = t3.memberNum, o3 = t3.groupProfile.groupID, s3 = this._groupModule.getLocalGroupProfile(o3);
          s3 && et2(n3) && s3.memberCount !== n3 && (s3.memberCount = n3, this._updateConversationGroupProfile(s3)), this._groupModule.getModule(wn).deleteLocalGroupMembers(o3, e4.payload.userIDList);
        } }, { key: "_updateConversationGroupProfile", value: function(e4) {
          this._groupModule.getModule(qn).updateConversationGroupProfile([e4]);
        } }, { key: "_onMemberSetAdmin", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID, n3 = e4.payload.userIDList, o3 = this._groupModule.getModule(wn);
          n3.forEach(function(e5) {
            var n4 = o3.getLocalGroupMemberInfo(t3, e5);
            n4 && n4.updateRole(E2.GRP_MBR_ROLE_ADMIN);
          });
        } }, { key: "_onMemberCancelledAdmin", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID, n3 = e4.payload.userIDList, o3 = this._groupModule.getModule(wn);
          n3.forEach(function(e5) {
            var n4 = o3.getLocalGroupMemberInfo(t3, e5);
            n4 && n4.updateRole(E2.GRP_MBR_ROLE_MEMBER);
          });
        } }, { key: "_onGroupProfileModified", value: function(e4) {
          var t3 = this, n3 = e4.payload, o3 = n3.newGroupProfile, s3 = n3.groupProfile.groupID, a3 = this._groupModule.getLocalGroupProfile(s3);
          Object.keys(o3).forEach(function(e5) {
            switch (e5) {
              case "ownerID":
                t3._ownerChanged(a3, o3);
                break;
              case "groupName":
                a3.name = o3[e5];
                break;
              default:
                a3[e5] = o3[e5];
            }
          });
          var i3 = !a3.isSupportTopic;
          this._groupModule.emitGroupListUpdate(true, i3);
        } }, { key: "_ownerChanged", value: function(e4, t3) {
          var n3 = e4.groupID, o3 = this._groupModule.getLocalGroupProfile(n3), s3 = this._groupModule.getMyUserID();
          if (s3 === t3.ownerID) {
            o3.updateGroup({ selfInfo: { role: E2.GRP_MBR_ROLE_OWNER } });
            var a3 = this._groupModule.getModule(wn), i3 = a3.getLocalGroupMemberInfo(n3, s3), r3 = this._groupModule.getLocalGroupProfile(n3).ownerID, u3 = a3.getLocalGroupMemberInfo(n3, r3);
            i3 && i3.updateRole(E2.GRP_MBR_ROLE_OWNER), u3 && u3.updateRole(E2.GRP_MBR_ROLE_MEMBER);
          }
        } }, { key: "_onMemberInfoModified", value: function(e4) {
          var t3 = e4.to, n3 = e4.payload, o3 = n3.groupProfile, s3 = n3.memberList, a3 = o3.groupID;
          kt2(t3) && this._updateTopicMuteTime(e4);
          var i3 = this._groupModule.getModule(wn);
          s3.forEach(function(e5) {
            var t4 = i3.getLocalGroupMemberInfo(a3, e5.userID);
            t4 && et2(e5.muteTime) && t4.updateMuteUntil(e5.muteTime);
          });
        } }, { key: "_updateTopicMuteTime", value: function(e4) {
          var t3 = e4.to, n3 = e4.payload, o3 = n3.groupProfile, s3 = n3.memberList, a3 = void 0 === s3 ? [] : s3, i3 = this._groupModule.getModule(Fn), r3 = o3.groupID, u3 = i3.getLocalTopic(r3, t3);
          if (u3) {
            for (var c3 = false, l3 = 0; l3 < a3.length; l3++) {
              var d3 = a3[l3];
              if (d3.userID === this._groupModule.getMyUserID() && d3.muteTime >= 0) {
                u3.updateSelfInfo({ muteTime: d3.muteTime }), c3 = true;
                break;
              }
            }
            c3 && this._groupModule.emitOuterEvent(k.TOPIC_UPDATED, { groupID: r3, topic: u3 });
          }
        } }, { key: "_onTopicProfileUpdated", value: function(e4) {
          var n3 = e4.payload, o3 = n3.groupProfile.groupID, s3 = n3.newTopicInfo;
          this._groupModule.getModule(Fn).onTopicProfileUpdated(t2({ groupID: o3, topicID: e4.to }, s3));
        } }, { key: "_cacheGroupTips", value: function(e4, t3) {
          this._cachedGroupTipsMap.has(e4) || this._cachedGroupTipsMap.set(e4, []), this._cachedGroupTipsMap.get(e4).push(t3);
        } }, { key: "_deleteCachedGroupTips", value: function(e4) {
          this._cachedGroupTipsMap.has(e4) && this._cachedGroupTipsMap.delete(e4);
        } }, { key: "_notifyCachedGroupTips", value: function(e4) {
          var t3 = this, n3 = this._cachedGroupTipsMap.get(e4) || [];
          n3.forEach(function(e5) {
            t3.onNewGroupTips(e5);
          }), this._deleteCachedGroupTips(e4), Ve2.l("".concat(this._n, "._notifyCachedGroupTips groupID:").concat(e4, " count:").concat(n3.length));
        } }, { key: "_cacheGroupTipsAndProbe", value: function(e4) {
          var t3 = this, n3 = e4.groupID, o3 = e4.event, s3 = e4.item;
          this._cacheGroupTips(n3, { event: o3, dataList: [s3] }), this._groupModule.getGroupSimplifiedInfo(n3).then(function(e5) {
            e5.type === E2.GRP_AVCHATROOM ? t3._groupModule.hasLocalGroup(n3) ? t3._notifyCachedGroupTips(n3) : t3._groupModule.setUnjoinedAVChatRoom(n3) : (t3._groupModule.updateGroupMap([e5]), t3._notifyCachedGroupTips(n3));
          }), this._checkCountMap.has(n3) || this._checkCountMap.set(n3, 0), Ve2.l("".concat(this._n, "._cacheGroupTipsAndProbe groupID:").concat(n3));
        } }, { key: "reset", value: function() {
          this._cachedGroupTipsMap.clear(), this._checkCountMap.clear(), this._getTopicPendingMap.clear();
        } }]), e3;
      }(), Ii = function() {
        function e3(t3) {
          o2(this, e3), this._groupModule = t3, this._n = "CommonGroupHandler", this.tempConversationList = null, this._cachedGroupMessageMap = /* @__PURE__ */ new Map(), this._checkCountMap = /* @__PURE__ */ new Map(), this.MAX_CHECK_COUNT = 4, this._getTopicPendingMap = /* @__PURE__ */ new Map(), this._isPagingGetCompleted = false, t3.getInnerEmitterInstance().once(ei, this._initGroupList, this);
        }
        return a2(e3, [{ key: "onCheckTimer", value: function(e4) {
          e4 % 1 == 0 && this._cachedGroupMessageMap.size > 0 && this._checkCachedGroupMessage();
        } }, { key: "_checkCachedGroupMessage", value: function() {
          var e4 = this;
          this._cachedGroupMessageMap.forEach(function(t3, n3) {
            var o3 = e4._checkCountMap.get(n3), s3 = e4._groupModule.hasLocalGroup(n3);
            Ve2.l("".concat(e4._n, "._checkCachedGroupMessage groupID:").concat(n3, " hasLocalGroup:").concat(s3, " checkCount:").concat(o3)), s3 ? (e4._notifyCachedGroupMessage(n3), e4._checkCountMap.delete(n3), e4._groupModule.deleteUnjoinedAVChatRoom(n3)) : o3 >= e4.MAX_CHECK_COUNT ? (e4._deleteCachedGroupMessage(n3), e4._checkCountMap.delete(n3)) : (o3++, e4._checkCountMap.set(n3, o3));
          });
        } }, { key: "_initGroupList", value: function() {
          var e4 = this;
          Ve2.l("".concat(this._n, "._initGroupList"));
          var t3 = new Aa("getGroupListInStorage"), n3 = this._groupModule.getStorageGroupList();
          if (at2(n3) && n3.length > 0) {
            n3.forEach(function(t4) {
              e4._groupModule.initGroupMap(t4);
            }), this._groupModule.emitGroupListUpdate(true, false);
            var o3 = this._groupModule.getLocalGroupList().length;
            t3.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:".concat(o3)).end();
          } else
            t3.setNetworkType(this._groupModule.getNetworkType()).setMessage("group count:0").end();
          Ve2.l("".concat(this._n, "._initGroupList ok"));
        } }, { key: "handleUpdateGroupLastMessage", value: function(e4) {
          var n3 = "".concat(this._n, ".handleUpdateGroupLastMessage");
          if (Ve2.l("".concat(n3, " conversation count:").concat(e4.length, ", local group count:").concat(this._groupModule.getLocalGroupList().length)), 0 !== this._groupModule.getGroupMap().size) {
            for (var o3, s3, a3, i3 = false, r3 = 0, u3 = e4.length; r3 < u3; r3++)
              (o3 = e4[r3]).type === E2.CONV_GROUP && (s3 = o3.conversationID.split(/^GROUP/)[1], (a3 = this._groupModule.getLocalGroupProfile(s3)) && (a3.lastMessage = t2({}, o3.lastMessage), i3 = true));
            i3 && (this._groupModule.sortLocalGroupList(), this._groupModule.emitGroupListUpdate(true, false));
          } else
            this.tempConversationList = e4;
        } }, { key: "onNewGroupMessage", value: function(e4) {
          Ve2.d("".concat(this._n, ".onNewGroupMessage count:").concat(e4.dataList.length));
          var t3 = this._newGroupMessageStoredAndSummary(e4), n3 = t3.conversationOptionsList, o3 = t3.messageList, s3 = t3.AVChatRoomMessageList;
          (s3.length > 0 && this._groupModule.onAVChatRoomMessage(s3), this._groupModule.filterModifiedMessage(o3), n3.length > 0) && (this._groupModule.updateNextMessageSeq(n3), this._groupModule.getModule(qn).onNewMessage({ conversationOptionsList: n3, isInstantMessage: e4.isInstantMessage || true, updateUnreadCount: e4.updateUnreadCount || true }));
          var a3 = this._groupModule.filterUnmodifiedMessage(o3);
          a3.length > 0 && this._groupModule.emitOuterEvent(k.MESSAGE_RECEIVED, a3), o3.length = 0;
        } }, { key: "_newGroupMessageStoredAndSummary", value: function(e4) {
          var t3 = this, n3 = e4.dataList, o3 = e4.event, s3 = e4.isInstantMessage, a3 = null, i3 = [], r3 = [], u3 = [], c3 = {}, l3 = this._groupModule.getModule(Kn2), d3 = this._groupModule.getFileDownloadProxy(), p3 = n3.length;
          p3 > 1 && n3.sort(function(e5, t4) {
            return e5.sequence - t4.sequence;
          });
          for (var g3 = function(e5) {
            var p4 = It2(n3[e5]), g4 = p4.groupProfile, h4 = g4.groupID, _3 = g4.communityType, f3 = void 0 === _3 ? 0 : _3, v3 = g4.topicID, m3 = void 0 === v3 ? void 0 : v3, M3 = g4.invisible, y3 = void 0, I3 = t3._groupModule.isMessageFromTopic(f3, m3);
            if (I3) {
              y3 = E2.CONV_TOPIC, p4.to = m3;
              var C3 = t3._groupModule.getModule(Fn);
              C3.hasLocalTopic(h4, m3) || t3._getTopicPendingMap.has(m3) || (t3._getTopicPendingMap.set(m3, 1), C3.getTopicList({ groupID: h4, topicIDList: [m3] }).finally(function() {
                t3._getTopicPendingMap.delete(m3);
              }));
            }
            var T3 = t3._groupModule.hasLocalGroup(h4);
            if (!T3 && t3._groupModule.isUnjoinedAVChatRoom(h4))
              return "continue";
            if (!T3 && !I3)
              return t3._cacheGroupMessageAndProbe({ groupID: h4, event: o3, item: p4 }), "continue";
            if (t3._groupModule.isMessageFromOrToAVChatroom(h4))
              return p4.event = o3, u3.push(p4), "continue";
            if (p4.currentUser = t3._groupModule.getMyUserID(), p4.conversationType = E2.CONV_GROUP, p4.isSystemMessage = !!p4.isSystemMessage, a3 = new Wa(p4), p4.elements = l3.parseElements(p4.elements, p4.from), a3.setElement(p4.elements, d3), 1 === M3)
              return t3._qualityStat(s3, a3), "continue";
            var D3 = 1 === n3[e5].isModified, k2 = t3._groupModule.getModule(qn);
            if (k2.isMessageSentByCurrentInstance(a3) ? a3.isModified = D3 : D3 = false, 1 === p4.onlineOnlyFlag)
              a3._onlineOnlyFlag = true, k2.isMessageSentByCurrentInstance(a3) || r3.push(a3);
            else {
              if (t3._groupModule.isMessageFromCommunityOfTopic(f3, m3))
                return r3.push(a3), "continue";
              if (!k2.pushIntoMessageList(r3, a3, D3))
                return "continue";
              t3._qualityStat(s3, a3);
              var S3 = a3, L3 = S3.conversationID, A3 = S3.sequence, R3 = k2.isRemoteRead({ conversationID: L3, sequence: A3 });
              if (it2(c3[L3])) {
                var N3 = 0;
                "in" === a3.flow && (a3._isExcludedFromUnreadCount || R3 || (N3 = 1)), c3[L3] = i3.push({ conversationID: L3, unreadCount: N3, type: it2(y3) ? a3.conversationType : y3, subType: a3.conversationSubType, lastMessage: a3._isExcludedFromLastMessage ? "" : a3 }) - 1;
              } else {
                var O3 = c3[L3];
                i3[O3].type = it2(y3) ? a3.conversationType : y3, i3[O3].subType = a3.conversationSubType, i3[O3].lastMessage = a3._isExcludedFromLastMessage ? "" : a3, "in" === a3.flow && (a3._isExcludedFromUnreadCount || R3 || i3[O3].unreadCount++);
              }
            }
          }, h3 = 0; h3 < p3; h3++)
            g3(h3);
          return { conversationOptionsList: i3, messageList: r3, AVChatRoomMessageList: u3 };
        } }, { key: "_qualityStat", value: function(e4, t3) {
          var n3 = this._groupModule.getModule(eo);
          n3.addMessageSequence({ key: Ca, message: t3 }), e4 && t3.clientTime > 0 && n3.addMessageDelay(t3.clientTime);
        } }, { key: "onGroupMessageRevoked", value: function(e4) {
          var t3 = this._groupModule.getModule(qn), n3 = [], o3 = null, s3 = true;
          e4.dataList.forEach(function(e5) {
            var a3 = e5.elements.revokedInfos;
            it2(a3) || a3.forEach(function(e6) {
              var a4 = zt2(e6.topicID) ? "GROUP".concat(e6.groupID) : "GROUP".concat(e6.topicID);
              o3 = t3.revoke(a4, e6.sequence, e6.random);
              var i3 = e6.revokerInfo && e6.revokerInfo.revoker;
              if (o3)
                o3.revoker = i3, n3.push(o3);
              else {
                var r3 = { conversationID: a4, to: e6.topicID || "", sequence: e6.sequence, time: e6.time, revoker: i3 };
                t3.isLastMessageRevoked(r3) && (n3.push(r3), s3 = false);
              }
            });
          }), 0 !== n3.length && (t3.onMessageRevoked(n3), true === s3 && (Ve2.l("".concat(this._n, ".onGroupMessageRevoked count:").concat(n3.length)), this._groupModule.emitOuterEvent(k.MESSAGE_REVOKED, n3)));
        } }, { key: "_groupListTreeShaking", value: function(e4) {
          for (var t3 = new Map(m2(this._groupModule.getGroupMap())), n3 = 0, o3 = e4.length; n3 < o3; n3++)
            t3.delete(e4[n3].groupID);
          this._groupModule.hasJoinedAVChatRoom() && this._groupModule.getJoinedAVChatRoom().forEach(function(e5) {
            t3.delete(e5);
          });
          this._groupModule.getGroupMap().forEach(function(e5, n4) {
            e5.isSupportTopic && t3.delete(n4);
          });
          for (var s3 = m2(t3.keys()), a3 = 0, i3 = s3.length; a3 < i3; a3++)
            this._groupModule.deleteGroup(s3[a3]);
        } }, { key: "getGroupList", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("getGroupList"), o3 = new Aa("getGroupList");
          Ve2.l("".concat(n3));
          var s3 = { introduction: "Introduction", notification: "Notification", createTime: "CreateTime", ownerID: "Owner_Account", lastInfoTime: "LastInfoTime", memberNum: "MemberNum", maxMemberNum: "MaxMemberNum", joinOption: "ApplyJoinOption", inviteOption: "InviteJoinOption", muteAllMembers: "ShutUpAllMember" }, a3 = ["Type", "Name", "FaceUrl", "NextMsgSeq", "LastMsgTime", "AtInfoList", "LastRecallTime"], i3 = [];
          e4 && e4.groupProfileFilter && e4.groupProfileFilter.forEach(function(e5) {
            s3[e5] && a3.push(s3[e5]);
          });
          var r3 = (e4 || {}).isGroupWithTopicOnly, u3 = void 0 !== r3 && r3;
          return this._pagingGetGroupList({ limit: 50, offset: 0, groupBaseInfoFilter: a3, groupList: i3, isGroupWithTopicOnly: u3 }).then(function() {
            Ve2.l("".concat(n3, " ok. count:").concat(i3.length, " isGroupWithTopicOnly:").concat(u3)), u3 || t3._groupListTreeShaking(i3), t3._groupModule.updateGroupMap(i3);
            var e5 = t3._groupModule.getLocalGroupList().length;
            o3.setNetworkType(t3._groupModule.getNetworkType()).setMessage("remote count:".concat(i3.length, ", after tree shaking, local count:").concat(e5, ", isGroupWithTopicOnly:").concat(u3)).end(), t3.tempConversationList && (t3.handleUpdateGroupLastMessage(t3.tempConversationList), t3.tempConversationList = null), t3._groupModule.patchGroupMessageRemindType(), t3._groupModule.recomputeUnreadCount(), t3._groupModule.emitGroupListUpdate(true, !u3);
            var s4 = t3._groupModule.getLocalGroupList();
            if (u3) {
              var a4 = s4.filter(function(e6) {
                return true === e6.isSupportTopic;
              });
              return Ya({ groupList: a4 });
            }
            return t3._isPagingGetCompleted = true, Ya({ groupList: s4 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a4 = n4[1];
              o3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "isPagingGetCompleted", value: function() {
          return this._isPagingGetCompleted;
        } }, { key: "_pagingGetGroupList", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("_pagingGetGroupList"), o3 = e4.isCommunityRelay, s3 = void 0 !== o3 && o3, a3 = e4.isGroupWithTopicOnly, i3 = void 0 !== a3 && a3, r3 = e4.limit, u3 = e4.offset, c3 = e4.groupBaseInfoFilter, l3 = e4.groupList;
          if (i3)
            return this._pagingGetGroupListWithTopic({ limit: r3, offset: u3, groupBaseInfoFilter: c3, groupList: l3 });
          var d3 = new Aa("_pagingGetGroupList");
          return this._groupModule.request({ protocolName: jo, requestData: { type: s3 ? E2.GRP_COMMUNITY : void 0, memberAccount: this._groupModule.getMyUserID(), limit: r3, offset: u3, responseFilter: { groupBaseInfoFilter: c3, selfInfoFilter: ["Role", "JoinTime", "MsgFlag", "MsgSeq"] } } }).then(function(e5) {
            var o4 = e5.data, a4 = o4.groups, i4 = void 0 === a4 ? [] : a4, p3 = o4.totalCount;
            l3.push.apply(l3, m2(i4)), t3._handleGroupAtInfoWithoutTopic(s3, i4);
            var g3 = u3 + r3, h3 = !(p3 > g3), _3 = "offset:".concat(u3, " totalCount:").concat(p3, " isCompleted:").concat(h3, " ") + "currentCount:".concat(l3.length, " isCommunityRelay:").concat(s3);
            return d3.setNetworkType(t3._groupModule.getNetworkType()).setMessage("".concat(_3)).end(), s3 || h3 ? !s3 && h3 ? (Ve2.l("".concat(n3, " start to get community list")), u3 = 0, t3._pagingGetGroupList({ limit: r3, offset: u3, groupBaseInfoFilter: c3, groupList: l3, isCommunityRelay: true })) : s3 && !h3 ? (u3 = g3, t3._pagingGetGroupList({ limit: r3, offset: u3, groupBaseInfoFilter: c3, groupList: l3, isCommunityRelay: true })) : (Ve2.l("".concat(n3, " ok. totalCount:").concat(l3.length)), Ya({ groupList: l3 })) : (u3 = g3, t3._pagingGetGroupList({ limit: r3, offset: u3, groupBaseInfoFilter: c3, groupList: l3 }));
          }).catch(function(e5) {
            return 11e3 !== e5.code && t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], a4 = n4[1];
              d3.setMessage("isCommunityRelay:".concat(s3)).setError(e5, o4, a4).end();
            }), s3 ? (11e3 === e5.code && (d3 = null, Ve2.l("".concat(n3, " ok. community unavailable"))), Xa({ groupList: l3 })) : Za(e5);
          });
        } }, { key: "_pagingGetGroupListWithTopic", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, "._pagingGetGroupListWithTopic"), o3 = e4.limit, s3 = e4.offset, a3 = e4.groupBaseInfoFilter, i3 = e4.groupList, r3 = new Aa("pagingGetGroupListWithTopic");
          return this._groupModule.request({ protocolName: jo, requestData: { type: E2.GRP_COMMUNITY, memberAccount: this._groupModule.getMyUserID(), limit: o3, offset: s3, responseFilter: { groupBaseInfoFilter: a3, selfInfoFilter: ["Role", "JoinTime", "MsgFlag", "MsgSeq"] }, isSupportTopic: 1 } }).then(function(e5) {
            var u3 = e5.data, c3 = u3.groups, l3 = void 0 === c3 ? [] : c3, d3 = u3.totalCount;
            i3.push.apply(i3, m2(l3));
            var p3 = s3 + o3, g3 = !(d3 > p3), h3 = "offset:".concat(s3, " totalCount:").concat(d3, " isCompleted:").concat(g3, " ") + "currentCount:".concat(i3.length);
            return r3.setNetworkType(t3._groupModule.getNetworkType()).setMessage("".concat(h3)).end(), g3 ? (Ve2.l("".concat(n3, " ok. totalCount:").concat(i3.length)), Ya({ groupList: i3 })) : (s3 = p3, t3._pagingGetGroupListWithTopic({ limit: o3, offset: s3, groupBaseInfoFilter: a3, groupList: i3 }));
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              r3.setError(e5, o4, s4).end();
            }), Za(e5);
          });
        } }, { key: "_cacheGroupMessage", value: function(e4, t3) {
          this._cachedGroupMessageMap.has(e4) || this._cachedGroupMessageMap.set(e4, []), this._cachedGroupMessageMap.get(e4).push(t3);
        } }, { key: "_deleteCachedGroupMessage", value: function(e4) {
          this._cachedGroupMessageMap.has(e4) && this._cachedGroupMessageMap.delete(e4);
        } }, { key: "_notifyCachedGroupMessage", value: function(e4) {
          var t3 = this, n3 = this._cachedGroupMessageMap.get(e4) || [];
          n3.forEach(function(e5) {
            t3.onNewGroupMessage(e5);
          }), this._deleteCachedGroupMessage(e4), Ve2.l("".concat(this._n, "._notifyCachedGroupMessage groupID:").concat(e4, " count:").concat(n3.length));
        } }, { key: "_cacheGroupMessageAndProbe", value: function(e4) {
          var t3 = this, n3 = e4.groupID, o3 = e4.event, s3 = e4.item;
          this._cacheGroupMessage(n3, { event: o3, dataList: [s3] }), this._groupModule.getGroupSimplifiedInfo(n3).then(function(e5) {
            e5.type === E2.GRP_AVCHATROOM ? t3._groupModule.hasLocalGroup(n3) ? t3._notifyCachedGroupMessage(n3) : t3._groupModule.setUnjoinedAVChatRoom(n3) : (t3._groupModule.updateGroupMap([e5]), t3._notifyCachedGroupMessage(n3));
          }), this._checkCountMap.has(n3) || this._checkCountMap.set(n3, 0), Ve2.l("".concat(this._n, "._cacheGroupMessageAndProbe groupID:").concat(n3));
        } }, { key: "_handleGroupAtInfoWithoutTopic", value: function(e4, n3) {
          var o3 = this;
          e4 && 0 !== n3.length && n3.forEach(function(e5) {
            var n4 = e5.groupID, s3 = e5.groupAtInfoList, a3 = [];
            it2(s3) || (s3.forEach(function(e6) {
              a3.push(t2(t2({}, e6), {}, { groupID: n4 }));
            }), o3._groupModule.getModule(qn).onNewGroupAtTips({ dataList: a3 }));
          });
        } }, { key: "reset", value: function() {
          this._cachedGroupMessageMap.clear(), this._checkCountMap.clear(), this._getTopicPendingMap.clear(), this._isPagingGetCompleted = false, this._groupModule.getInnerEmitterInstance().once(ei, this._initGroupList, this);
        } }]), e3;
      }(), Ci = 1, Ti = 2, Di = 3, ki = 4, Ei = 5, Si = function() {
        function e3(t3) {
          o2(this, e3), this._groupModule = t3, this._n = "GroupAttributesHandler", this._groupAttributesMap = /* @__PURE__ */ new Map(), this._groupAttributesCopy = {}, this.CACHE_EXPIRE_TIME = 3e4, this._groupModule.getInnerEmitterInstance().on(ti, this._onCloudConfigUpdated, this);
        }
        return a2(e3, [{ key: "_onCloudConfigUpdated", value: function() {
          var e4 = this._groupModule.getCloudConfig("grp_attr_cache_time");
          it2(e4) || (this.CACHE_EXPIRE_TIME = Number(e4));
        } }, { key: "updateLocalMainSequenceOnReconnected", value: function() {
          this._groupAttributesMap.forEach(function(e4) {
            e4.localMainSequence = 0;
          });
        } }, { key: "isGroupAttributesUpdatedNotice", value: function(e4) {
          var t3 = e4.to, n3 = e4.elements.newGroupProfile, o3 = !it2(n3) && !zt2(n3.groupAttributeOption);
          return o3 && this._onGroupAttributesUpdated({ groupID: t3, groupAttributeOption: n3.groupAttributeOption }), o3;
        } }, { key: "_onGroupAttributesUpdated", value: function(e4) {
          var t3 = this, n3 = e4.groupID, o3 = e4.groupAttributeOption, s3 = o3.mainSequence, a3 = o3.isWithChangedAttributeInfo, i3 = o3.groupAttributeList, r3 = void 0 === i3 ? [] : i3, u3 = o3.operationType;
          if (Ve2.l("".concat(this._n, ".onGroupAttributesUpdated. ") + "groupID:".concat(n3, " isWithChangedAttributeInfo:").concat(a3, " operationType:").concat(u3)), !it2(u3)) {
            this._groupAttributesCopy = this._getCachedAttributes({ groupID: n3 });
            var c3 = s3 - this._getLocalGroupAttributes(n3).localMainSequence;
            if (0 !== c3) {
              if (1 === a3 && 1 === c3)
                return this._refreshCachedGroupAttributes({ groupID: n3, remoteMainSequence: s3, groupAttributeList: r3, operationType: u3 }), void this._emitGroupAttributesUpdated(n3);
              if (this._hasLocalGroupAttributes(n3)) {
                var l3 = this._getLocalGroupAttributes(n3).avChatRoomKey;
                this._getGroupAttributes({ groupID: n3, avChatRoomKey: l3 }).then(function() {
                  t3._emitGroupAttributesUpdated(n3);
                });
              }
            }
          }
        } }, { key: "initGroupAttributesCache", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.avChatRoomKey, o3 = void 0 === n3 ? void 0 : n3;
          this._groupAttributesMap.set(t3, { lastUpdateTime: 0, localMainSequence: 0, remoteMainSequence: 0, attributes: /* @__PURE__ */ new Map(), avChatRoomKey: o3 }), Ve2.l("".concat(this._n, ".initGroupAttributesCache groupID:").concat(t3, " avChatRoomKey:").concat(o3));
        } }, { key: "initGroupAttributes", value: function(e4) {
          var t3 = this, n3 = e4.groupID, o3 = e4.groupAttributes, s3 = this._getLocalGroupAttributes(n3), a3 = s3.remoteMainSequence, i3 = s3.avChatRoomKey, r3 = new Aa("initGroupAttributes");
          return r3.setMessage("groupID:".concat(n3, " avChatRoomKey:").concat(i3, " mainSequence:").concat(a3)), this._groupModule.request({ protocolName: Is2, requestData: { groupID: n3, avChatRoomKey: i3, mainSequence: a3, groupAttributeList: this._transformGroupAttributes(o3) } }).then(function(e5) {
            Ve2.l("".concat(t3._n, ".").concat("initGroupAttributes", " ok. groupID:").concat(n3));
            var s4 = e5.data, a4 = s4.mainSequence, i4 = m2(s4.groupAttributeList);
            return i4.forEach(function(e6) {
              e6.value = o3[e6.key];
            }), t3._groupAttributesCopy = t3._getCachedAttributes({ groupID: n3 }), t3._refreshCachedGroupAttributes({ groupID: n3, remoteMainSequence: a4, groupAttributeList: i4, operationType: Ci }), t3._emitGroupAttributesUpdated(n3), r3.setNetworkType(t3._groupModule.getNetworkType()).end(), Ya({ groupAttributes: o3 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              r3.setError(e5, o4, s4).end();
            }), Za(e5);
          });
        } }, { key: "setGroupAttributes", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("setGroupAttributes"), o3 = e4.groupID, s3 = e4.groupAttributes, a3 = this._getLocalGroupAttributes(o3), i3 = a3.remoteMainSequence, r3 = a3.avChatRoomKey, u3 = a3.attributes, c3 = this._transformGroupAttributes(s3);
          c3.forEach(function(e5) {
            var t4 = e5.key;
            e5.sequence = 0, u3.has(t4) && (e5.sequence = u3.get(t4).sequence);
          });
          var l3 = new Aa("setGroupAttributes");
          return l3.setMessage("groupID:".concat(o3, " groupAttributes:").concat(JSON.stringify(s3))), Ve2.l("".concat(n3, ". groupID:").concat(o3, " mainSequence:").concat(i3)), this._groupModule.request({ protocolName: Cs2, requestData: { groupID: o3, avChatRoomKey: r3, mainSequence: i3, groupAttributeList: c3 } }).then(function(e5) {
            Ve2.l("".concat(n3, " ok."));
            var a4 = e5.data, i4 = a4.mainSequence, r4 = m2(a4.groupAttributeList);
            return r4.forEach(function(e6) {
              e6.value = s3[e6.key];
            }), t3._groupAttributesCopy = t3._getCachedAttributes({ groupID: o3 }), t3._refreshCachedGroupAttributes({ groupID: o3, remoteMainSequence: i4, groupAttributeList: r4, operationType: Ti }), t3._emitGroupAttributesUpdated(o3), l3.setNetworkType(t3._groupModule.getNetworkType()).end(), Ya({ groupAttributes: s3 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              l3.setError(e5, o4, s4).end();
            }), Za(e5);
          });
        } }, { key: "deleteGroupAttributes", value: function(e4) {
          var t3 = this, n3 = e4.groupID, o3 = e4.keyList, s3 = void 0 === o3 ? [] : o3, a3 = this._getLocalGroupAttributes(n3), i3 = a3.remoteMainSequence, r3 = a3.avChatRoomKey, u3 = a3.attributes, c3 = m2(u3.keys()), l3 = Ds2, d3 = Di, p3 = { groupID: n3, avChatRoomKey: r3, mainSequence: i3 }, g3 = [];
          s3.length > 0 && (c3 = [], l3 = Ts2, d3 = ki, s3.forEach(function(e5) {
            var t4 = 0;
            u3.has(e5) && (t4 = u3.get(e5).sequence, c3.push(e5)), g3.push({ key: e5, sequence: t4 });
          }), p3.groupAttributeList = g3);
          var h3 = new Aa("deleteGroupAttributes");
          return h3.setMessage("groupID:".concat(n3, " mainSequence:").concat(i3, " keyList:").concat(s3, " protocolName:").concat(l3)), this._groupModule.request({ protocolName: l3, requestData: p3 }).then(function(e5) {
            Ve2.l("".concat(t3._n, ".").concat("deleteGroupAttributes", " ok. groupID:").concat(n3));
            var o4 = e5.data.mainSequence;
            return t3._groupAttributesCopy = t3._getCachedAttributes({ groupID: n3 }), t3._refreshCachedGroupAttributes({ groupID: n3, remoteMainSequence: o4, groupAttributeList: g3, operationType: d3 }), t3._emitGroupAttributesUpdated(n3), h3.setNetworkType(t3._groupModule.getNetworkType()).end(), Ya({ keyList: c3 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              h3.setError(e5, o4, s4).end();
            }), Za(e5);
          });
        } }, { key: "getGroupAttributes", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("getGroupAttributes"), o3 = e4.groupID, s3 = this._getLocalGroupAttributes(o3), a3 = s3.avChatRoomKey, i3 = s3.lastUpdateTime, r3 = s3.localMainSequence, u3 = s3.remoteMainSequence, c3 = new Aa("getGroupAttributes");
          if (c3.setMessage("groupID:".concat(o3, " localMainSequence:").concat(r3, " remoteMainSequence:").concat(u3, " keyList:").concat(e4.keyList)), Date.now() - i3 >= this.CACHE_EXPIRE_TIME || r3 < u3)
            return this._getGroupAttributes({ groupID: o3, avChatRoomKey: a3 }).then(function(s4) {
              c3.setMoreMessage("get attributes from remote. count:".concat(s4.length)).setNetworkType(t3._groupModule.getNetworkType()).end(), Ve2.l("".concat(n3, " from remote. groupID:").concat(o3));
              var a4 = t3._getCachedAttributes(e4);
              return Ya({ groupAttributes: a4 });
            }).catch(function(e5) {
              return t3._groupModule.probeNetwork().then(function(t4) {
                var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
                c3.setError(e5, o4, s4).end();
              }), Za(e5);
            });
          c3.setMoreMessage("get attributes from cache").setNetworkType(this._groupModule.getNetworkType()).end(), Ve2.l("".concat(n3, " from cache. groupID:").concat(o3));
          var l3 = this._getCachedAttributes(e4);
          return Xa({ groupAttributes: l3 });
        } }, { key: "_getGroupAttributes", value: function(e4) {
          var n3 = this, o3 = 0;
          return it2(e4.avChatRoomKey) || (o3 = 1), this._groupModule.request({ protocolName: ks2, requestData: t2(t2({}, e4), {}, { groupType: o3 }) }).then(function(t3) {
            Ve2.l("".concat(n3._n, "._getGroupAttributes ok. groupID:").concat(e4.groupID));
            var o4 = t3.data, s3 = o4.mainSequence, a3 = o4.groupAttributeList, i3 = m2(a3);
            return it2(s3) || n3._refreshCachedGroupAttributes({ groupID: e4.groupID, remoteMainSequence: s3, groupAttributeList: i3, operationType: Ei }), a3;
          }).catch(function(e5) {
            return Za(e5);
          });
        } }, { key: "_refreshCachedGroupAttributes", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.remoteMainSequence, o3 = e4.groupAttributeList, s3 = e4.operationType;
          if (this._hasLocalGroupAttributes(t3)) {
            var a3 = this._getLocalGroupAttributes(t3), i3 = a3.localMainSequence;
            if (s3 === Ei || n3 - i3 == 1)
              a3.remoteMainSequence = n3, a3.localMainSequence = n3, a3.lastUpdateTime = Date.now(), this._updateCachedAttributes({ groupAttributes: a3, groupAttributeList: o3, operationType: s3 });
            else {
              if (i3 === n3)
                return;
              a3.remoteMainSequence = n3;
            }
            this._groupAttributesMap.set(t3, a3);
            var r3 = "operationType:".concat(s3, " localMainSequence:").concat(i3, " remoteMainSequence:").concat(n3);
            Ve2.l("".concat(this._n, "._refreshCachedGroupAttributes. ").concat(r3));
          }
        } }, { key: "_getCachedAttributes", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.keyList, o3 = void 0 === n3 ? [] : n3, s3 = {};
          if (this._hasLocalGroupAttributes(t3)) {
            var a3 = this._getLocalGroupAttributes(t3).attributes;
            if (o3.length > 0)
              o3.forEach(function(e5) {
                a3.has(e5) && (s3[e5] = a3.get(e5).value);
              });
            else {
              var i3, r3 = D2(a3.keys());
              try {
                for (r3.s(); !(i3 = r3.n()).done; ) {
                  var u3 = i3.value;
                  s3[u3] = a3.get(u3).value;
                }
              } catch (c3) {
                r3.e(c3);
              } finally {
                r3.f();
              }
            }
          }
          return s3;
        } }, { key: "_updateCachedAttributes", value: function(e4) {
          var t3 = e4.groupAttributes, n3 = e4.groupAttributeList, o3 = e4.operationType;
          o3 !== Di ? o3 !== ki ? (o3 === Ci && t3.attributes.clear(), n3.forEach(function(e5) {
            var n4 = e5.key, o4 = e5.value, s3 = e5.sequence;
            t3.attributes.set(n4, { value: o4, sequence: s3 });
          })) : n3.forEach(function(e5) {
            t3.attributes.delete(e5.key);
          }) : t3.attributes.clear();
        } }, { key: "_hasLocalGroupAttributes", value: function(e4) {
          return this._groupAttributesMap.has(e4);
        } }, { key: "_getLocalGroupAttributes", value: function(e4) {
          return this._hasLocalGroupAttributes(e4) || this.initGroupAttributesCache({ groupID: e4 }), this._groupAttributesMap.get(e4);
        } }, { key: "_transformGroupAttributes", value: function(e4) {
          var t3 = [];
          return Object.keys(e4).forEach(function(n3) {
            t3.push({ key: n3, value: e4[n3] });
          }), t3;
        } }, { key: "_emitGroupAttributesUpdated", value: function(e4) {
          var t3 = this._getCachedAttributes({ groupID: e4 }), n3 = this._computeAttrChangedInfo(t3), o3 = n3.updatedKeyList, s3 = n3.deletedKeyList;
          Ve2.l("".concat(this._n, "._emitGroupAttributesUpdated update:").concat(o3.length, ", delete:").concat(s3.length)), 0 === o3.length && 0 === s3.length || this._groupModule.emitOuterEvent(k.GROUP_ATTRIBUTES_UPDATED, { groupID: e4, groupAttributes: t3, updatedKeyList: o3, deletedKeyList: s3 });
        } }, { key: "_computeAttrChangedInfo", value: function(e4) {
          var t3 = this, n3 = [], o3 = [];
          return Object.keys(e4).forEach(function(o4) {
            e4[o4] !== t3._groupAttributesCopy[o4] && n3.push(o4);
          }), Object.keys(this._groupAttributesCopy).forEach(function(t4) {
            it2(e4[t4]) && o3.push(t4);
          }), this._groupAttributesCopy = {}, { updatedKeyList: n3, deletedKeyList: o3 };
        } }, { key: "deleteLocalGroupAttributes", value: function(e4) {
          this._hasLocalGroupAttributes(e4) && this._groupAttributesMap.delete(e4);
        } }, { key: "reset", value: function() {
          this._groupAttributesMap.clear(), this._groupAttributesCopy = {}, this.CACHE_EXPIRE_TIME = 3e4;
        } }]), e3;
      }(), Li = "Set", Ai = "Increase", Ri = "Decrease", Ni = function() {
        function e3(t3) {
          o2(this, e3), this._groupModule = t3, this._n = "GroupCountersHandler", this._groupCountersMap = /* @__PURE__ */ new Map(), this.EXPIRE_TIME = 3e4, this._groupModule.getInnerEmitterInstance().on(ti, this._onCloudConfigUpdated, this);
        }
        return a2(e3, [{ key: "_onCloudConfigUpdated", value: function() {
          var e4 = this._groupModule.getCloudConfig("grp_counter_expire_time");
          it2(e4) || (this.EXPIRE_TIME = Number(e4));
        } }, { key: "isGroupCountersNotice", value: function(e4) {
          var t3 = e4.to, n3 = e4.elements.groupCounterInfo, o3 = false;
          return zt2(n3) || (this._onGroupCountersUpdated({ groupID: t3, groupCounterInfo: n3 }), o3 = true), o3;
        } }, { key: "_onGroupCountersUpdated", value: function(e4) {
          var t3 = this, n3 = e4.groupID;
          e4.groupCounterInfo.forEach(function(e5) {
            var o3 = e5.type, s3 = e5.groupCounterSeq, a3 = e5.counterList, i3 = void 0 === a3 ? [] : a3;
            0 !== o3 && 2 !== o3 || (t3._updateLocalGroupCounters({ groupID: n3, groupCounterSeq: s3, counterList: i3 }), i3.forEach(function(e6) {
              t3._groupModule.emitOuterEvent(k.GROUP_COUNTER_UPDATED, { groupID: n3, key: e6.key, value: e6.value });
            })), 1 === o3 && t3._deleteLocalGroupCounters({ groupID: n3, groupCounterSeq: s3, counterList: i3 });
          }), Ve2.l("".concat(this._n, "._onGroupCountersUpdated groupID:").concat(n3));
        } }, { key: "initGroupCountersCache", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.avChatRoomKey;
          this._groupCountersMap.set(t3, { lastUpdateTime: 0, groupCounterSeq: 0, counters: /* @__PURE__ */ new Map(), avChatRoomKey: n3 }), Ve2.l("".concat(this._n, ".initGroupCountersCache groupID:").concat(t3, " avChatRoomKey:").concat(n3));
        } }, { key: "setGroupCounters", value: function(e4) {
          var t3 = this;
          if (!this._groupModule.canIUse(B2.GRP_COUNTER))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".setGroupCounters"), o3 = e4.groupID, s3 = e4.counters, a3 = this._convertObjectToList(s3), i3 = this._getLocalGroupCounters(o3).avChatRoomKey, r3 = "groupID:".concat(o3, " count:").concat(a3.length), u3 = new Aa("setGroupCounters");
          return u3.setMessage("".concat(r3)), Ve2.l("".concat(n3, ". ").concat(r3)), this._updateGroupCounters({ groupID: o3, counterList: a3, avChatRoomKey: i3, mode: Li }).then(function(e5) {
            return u3.end(), Ve2.l("".concat(n3, " ok.")), Ya({ counters: e5 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              u3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "increaseGroupCounter", value: function(e4) {
          var t3 = this;
          if (!this._groupModule.canIUse(B2.GRP_COUNTER))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".increaseGroupCounters"), o3 = e4.groupID, s3 = e4.key, a3 = e4.value, i3 = this._getLocalGroupCounters(o3).avChatRoomKey, r3 = "groupID:".concat(o3, " key:").concat(s3, " value:").concat(a3), u3 = new Aa("increaseGroupCounter");
          u3.setMessage("".concat(r3)), Ve2.l("".concat(n3, ". ").concat(r3));
          var c3 = [{ key: s3, value: a3 }];
          return this._updateGroupCounters({ groupID: o3, counterList: c3, avChatRoomKey: i3, mode: Ai }).then(function(e5) {
            return u3.end(), Ve2.l("".concat(n3, " ok.")), Ya({ counters: e5 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              u3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "decreaseGroupCounter", value: function(e4) {
          var t3 = this;
          if (!this._groupModule.canIUse(B2.GRP_COUNTER))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".decreaseGroupCounter"), o3 = e4.groupID, s3 = e4.key, a3 = e4.value, i3 = this._getLocalGroupCounters(o3).avChatRoomKey, r3 = "groupID:".concat(o3, " key:").concat(s3, " value:").concat(a3), u3 = new Aa("decreaseGroupCounter");
          u3.setMessage("".concat(r3)), Ve2.l("".concat(n3, ". ").concat(r3));
          var c3 = [{ key: s3, value: a3 }];
          return this._updateGroupCounters({ groupID: o3, counterList: c3, avChatRoomKey: i3, mode: Ri }).then(function(e5) {
            return u3.end(), Ve2.l("".concat(n3, " ok.")), Ya({ counters: e5 });
          }).catch(function(e5) {
            return t3._groupModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              u3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getGroupCounters", value: function(e4) {
          var t3 = this;
          if (!this._groupModule.canIUse(B2.GRP_COUNTER))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".getGroupCounters"), o3 = e4.groupID, s3 = e4.keyList, a3 = void 0 === s3 ? [] : s3, i3 = this._getLocalGroupCounters(o3), r3 = i3.avChatRoomKey, u3 = i3.lastUpdateTime, c3 = new Aa("getGroupCounters");
          if (c3.setMessage("groupID:".concat(o3)), Date.now() - u3 >= this.EXPIRE_TIME)
            return this._getRemoteGroupCounters({ groupID: o3, avChatRoomKey: r3 }).then(function(e5) {
              c3.setMoreMessage("from remote. count:".concat(e5.length)).end(), Ve2.l("".concat(n3, " from remote. groupID:").concat(o3));
              var s4 = t3._getLocalCounters(o3, a3);
              return Ya({ counters: s4 });
            }).catch(function(e5) {
              return t3._groupModule.probeNetwork().then(function(t4) {
                var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
                c3.setError(e5, o4, s4).end();
              }), Za(e5);
            });
          c3.setMoreMessage("from cache").end(), Ve2.l("".concat(n3, " from cache. groupID:").concat(o3));
          var l3 = this._getLocalCounters(o3, a3);
          return Xa({ counters: l3 });
        } }, { key: "_getRemoteGroupCounters", value: function(e4) {
          var n3 = this;
          return this._groupModule.request({ protocolName: Rs2, requestData: t2({}, e4) }).then(function(t3) {
            var o3 = t3.data, s3 = o3.counterList, a3 = void 0 === s3 ? [] : s3, i3 = o3.groupCounterSeq;
            return n3._updateLocalGroupCounters({ groupID: e4.groupID, counterList: a3, groupCounterSeq: i3 }), Ve2.l("".concat(n3._n, "._getRemoteGroupCounters ok. groupID:").concat(e4.groupID)), a3;
          }).catch(function(e5) {
            return Za(e5);
          });
        } }, { key: "_convertObjectToList", value: function(e4) {
          var t3 = [];
          return Object.keys(e4).forEach(function(n3) {
            t3.push({ key: n3, value: e4[n3] });
          }), t3;
        } }, { key: "_updateGroupCounters", value: function(e4) {
          var n3 = "".concat(this._n, "._updateGroupCounters"), o3 = e4.groupID, s3 = e4.avChatRoomKey, a3 = e4.mode;
          return Ve2.l("".concat(n3, ". groupID:").concat(o3, " avChatRoomKey:").concat(s3, " mode:").concat(a3)), this._groupModule.request({ protocolName: As2, requestData: t2({}, e4) }).then(function(e5) {
            Ve2.l("".concat(n3, " ok."));
            var t3 = e5.data.counterList, o4 = {};
            return (void 0 === t3 ? [] : t3).forEach(function(e6) {
              var t4 = e6.key, n4 = e6.value;
              o4[t4] = n4;
            }), o4;
          }).catch(function(e5) {
            return Za(e5);
          });
        } }, { key: "_hasLocalGroupCounters", value: function(e4) {
          return this._groupCountersMap.has(e4);
        } }, { key: "_getLocalGroupCounters", value: function(e4) {
          return this._hasLocalGroupCounters(e4) || this.initGroupCountersCache({ groupID: e4 }), this._groupCountersMap.get(e4);
        } }, { key: "_updateLocalGroupCounters", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.counterList, o3 = void 0 === n3 ? [] : n3, s3 = e4.groupCounterSeq;
          if (this._hasLocalGroupCounters(t3)) {
            var a3 = this._getLocalGroupCounters(t3), i3 = a3.counters, r3 = a3.avChatRoomKey, u3 = a3.groupCounterSeq;
            if (s3 > 0 && s3 < u3)
              return;
            o3.forEach(function(e5) {
              var t4 = e5.key, n4 = e5.value;
              i3.set(t4, n4);
            }), this._groupCountersMap.set(t3, { lastUpdateTime: Date.now(), groupCounterSeq: s3, counters: i3, avChatRoomKey: r3 });
          }
        } }, { key: "_deleteLocalGroupCounters", value: function(e4) {
          var t3 = e4.groupID, n3 = e4.counterList, o3 = void 0 === n3 ? [] : n3, s3 = e4.groupCounterSeq;
          if (this._hasLocalGroupCounters(t3)) {
            var a3 = this._getLocalGroupCounters(t3), i3 = a3.counters, r3 = a3.avChatRoomKey;
            o3.forEach(function(e5) {
              i3.delete(e5.key);
            }), this._groupCountersMap.set(t3, { lastUpdateTime: Date.now(), groupCounterSeq: s3, counters: i3, avChatRoomKey: r3 });
          }
        } }, { key: "_getLocalCounters", value: function(e4, t3) {
          var n3 = {};
          if (!this._hasLocalGroupCounters(e4))
            return n3;
          var o3 = this._getLocalGroupCounters(e4).counters;
          if (t3.length > 0)
            t3.forEach(function(e5) {
              o3.has(e5) && (n3[e5] = o3.get(e5));
            });
          else {
            var s3, a3 = D2(o3.keys());
            try {
              for (a3.s(); !(s3 = a3.n()).done; ) {
                var i3 = s3.value;
                n3[i3] = o3.get(i3);
              }
            } catch (r3) {
              a3.e(r3);
            } finally {
              a3.f();
            }
          }
          return n3;
        } }, { key: "reset", value: function() {
          this._groupCountersMap.clear(), this.EXPIRE_TIME = 3e4;
        } }]), e3;
      }(), Oi = function() {
        function e3(t3) {
          o2(this, e3);
          var n3 = t3.manager, s3 = t3.groupID, a3 = t3.onInit, i3 = t3.onSuccess, r3 = t3.onFail;
          this._n = "Polling", this._manager = n3, this._groupModule = n3._groupModule, this._onInit = a3, this._onSuccess = i3, this._onFail = r3, this._groupID = s3, this._timeoutID = -1, this._isRunning = false, this._protocolName = fs2;
        }
        return a2(e3, [{ key: "start", value: function() {
          var e4 = this._groupModule.isLoggedIn();
          e4 || (this._protocolName = vs2), Ve2.l("".concat(this._n, ".start pollingInterval:").concat(this._manager.getPollingInterval(), " isLoggedIn:").concat(e4)), this._isRunning = true, this._request();
        } }, { key: "isRunning", value: function() {
          return this._isRunning;
        } }, { key: "_request", value: function() {
          var e4 = this, t3 = this._onInit(this._groupID);
          this._groupModule.request({ protocolName: this._protocolName, requestData: t3 }).then(function(t4) {
            e4._onSuccess(e4._groupID, t4), e4.isRunning() && (clearTimeout(e4._timeoutID), e4._timeoutID = setTimeout(e4._request.bind(e4), e4._manager.getPollingInterval()));
          }).catch(function(t4) {
            e4._onFail(e4._groupID, t4), e4.isRunning() && (clearTimeout(e4._timeoutID), e4._timeoutID = setTimeout(e4._request.bind(e4), e4._manager.MAX_POLLING_INTERVAL));
          });
        } }, { key: "stop", value: function() {
          Ve2.l("".concat(this._n, ".stop")), this._timeoutID > 0 && (clearTimeout(this._timeoutID), this._timeoutID = -1), this._isRunning = false;
        } }, { key: "getPollingTimerID", value: function() {
          return this._timeoutID;
        } }]), e3;
      }(), Gi = { 3: true, 4: true, 5: true, 6: true, 17: true }, Ui = function() {
        function e3(t3) {
          o2(this, e3), this._groupModule = t3, this._n = "AVChatRoomHandler", this._joinedGroupMap = /* @__PURE__ */ new Map(), this._pollingRequestInfoMap = /* @__PURE__ */ new Map(), this._pollingInstanceMap = /* @__PURE__ */ new Map(), this.sequencesLinkedList = new pi(200), this.messageIDLinkedList = new pi(100), this.receivedMessageCount = 0, this._reportMessageStackedCount = 0, this._onlineMemberCountMap = /* @__PURE__ */ new Map(), this.DEFAULT_EXPIRE_TIME = 60, this.DEFAULT_POLLING_INTERVAL = 300, this.MAX_POLLING_INTERVAL = 2e3, this._pollingInterval = this.DEFAULT_POLLING_INTERVAL, this.DEFAULT_POLLING_NO_MESSAGE_COUNT = 20, this.DEFAULT_POLLING_INTERVAL_PLUS = 2e3, this._pollingNoMessageCount = 0, this._startBroadcastSeq = 1, this._broadcastMessageIDMap = /* @__PURE__ */ new Map(), this.DEFAULT_POLLING_SIMPLIFIED_MSG = 0;
        }
        return a2(e3, [{ key: "hasJoinedAVChatRoom", value: function() {
          return this._joinedGroupMap.size > 0;
        } }, { key: "checkJoinedAVChatRoomByID", value: function(e4) {
          return this._joinedGroupMap.has(e4);
        } }, { key: "getJoinedAVChatRoom", value: function() {
          return this._joinedGroupMap.size > 0 ? m2(this._joinedGroupMap.keys()) : null;
        } }, { key: "_updateRequestData", value: function(e4) {
          var n3 = this._pollingRequestInfoMap.get(e4);
          return e4 === m2(this._pollingInstanceMap.keys())[0] ? t2(t2({}, n3), {}, { startBroadcastSeq: this._startBroadcastSeq, simplifiedMessage: this.DEFAULT_POLLING_SIMPLIFIED_MSG }) : t2(t2({}, n3), {}, { simplifiedMessage: this.DEFAULT_POLLING_SIMPLIFIED_MSG });
        } }, { key: "_handleSuccess", value: function(e4, t3) {
          var n3 = t3.data, o3 = n3.key, s3 = n3.nextSeq, a3 = n3.rspMsgList, i3 = n3.errorCode, r3 = n3.nextBroadcastSeq, u3 = n3.broadcastMessageList;
          if (0 !== i3) {
            var c3 = this._pollingRequestInfoMap.get(e4), l3 = new Aa("longPollingAVError"), d3 = c3 ? "".concat(c3.key, "-").concat(c3.startSeq) : "requestInfo is undefined";
            l3.setMessage("".concat(e4, "-").concat(d3, "-").concat(t3.errorInfo)).setCode(t3.errorCode).setNetworkType(this._groupModule.getNetworkType()).end(true);
          } else {
            if (!this.checkJoinedAVChatRoomByID(e4))
              return;
            nt2(o3) && et2(s3) && this._pollingRequestInfoMap.set(e4, { key: o3, startSeq: s3 }), et2(r3) && r3 > this._startBroadcastSeq && (this._startBroadcastSeq = r3), at2(a3) && a3.length > 0 ? (a3.forEach(function(e5) {
              e5.to = e5.groupID;
            }), this.onMessage(a3)) : (this._pollingNoMessageCount += 1, this._pollingNoMessageCount === this.DEFAULT_POLLING_NO_MESSAGE_COUNT && (this._pollingInterval = this.DEFAULT_POLLING_INTERVAL + this.DEFAULT_POLLING_INTERVAL_PLUS)), this._onBroadcastMessage(u3);
          }
        } }, { key: "_handleFailure", value: function(e4, t3) {
        } }, { key: "onMessage", value: function(e4) {
          if (at2(e4) && 0 !== e4.length) {
            0 !== this._pollingNoMessageCount && (this._pollingNoMessageCount = 0, this._pollingInterval = this.DEFAULT_POLLING_INTERVAL);
            var t3 = null, n3 = [], o3 = this._getModule(qn), s3 = this._getModule(eo), a3 = e4.length;
            a3 > 1 && e4.sort(function(e5, t4) {
              return e5.sequence - t4.sequence;
            });
            for (var i3 = this._getModule(xn), r3 = 0; r3 < a3; r3++) {
              var u3 = this.restoreMessageFromSimplified(e4[r3]);
              if (Gi[u3.event]) {
                if (6 === u3.event) {
                  if (this._groupModule.isGroupAttributesUpdatedNotice(u3))
                    continue;
                  if (this._groupModule.isGroupCountersNotice(u3))
                    continue;
                }
                this.receivedMessageCount += 1, t3 = this.packMessage(u3, u3.event);
                var c3 = 1 === u3.isModified, l3 = 1 === u3.isHistoryMessage;
                if ((i3.isUnlimitedAVChatRoom() || !this.sequencesLinkedList.has(t3.sequence)) && !this.messageIDLinkedList.has(t3.ID)) {
                  var d3 = t3.conversationID;
                  if (this.receivedMessageCount % 50 == 0 ? this._getModule(Xn2).detectFirstRound(d3, this.sequencesLinkedList.data()) : this.receivedMessageCount % 80 == 0 && this._getModule(Xn2).detectSecondRound(d3, this.sequencesLinkedList.data()), null !== this.sequencesLinkedList.tail()) {
                    var p3 = this.sequencesLinkedList.tail().value, g3 = t3.sequence - p3;
                    g3 > 1 && g3 <= 20 ? this._getModule(Xn2).onMessageMaybeLost(d3, p3 + 1, g3 - 1) : g3 < -1 && g3 >= -20 && this._getModule(Xn2).onMessageMaybeLost(d3, t3.sequence + 1, Math.abs(g3) - 1);
                  }
                  this.sequencesLinkedList.set(t3.sequence), this.messageIDLinkedList.set(t3.ID);
                  var h3 = false;
                  if (this._isMessageSentByCurrentInstance(t3) ? c3 && (h3 = true, t3.isModified = c3, o3.updateMessageIsModifiedProperty(t3)) : h3 = true, h3) {
                    if (t3.conversationType === E2.CONV_SYSTEM && 5 === t3.payload.operationType && this._onGroupDismissed(t3.payload.groupProfile.groupID), !l3 && t3.conversationType !== E2.CONV_SYSTEM) {
                      var _3 = t3.conversationID.replace(E2.CONV_GROUP, "");
                      this._pollingInstanceMap.has(_3) ? this._groupModule.isLoggedIn() && s3.addMessageSequence({ key: Da, message: t3 }) : (t3.type !== E2.MSG_GRP_TIP && t3.clientTime > 0 && s3.addMessageDelay(t3.clientTime), s3.addMessageSequence({ key: Ta, message: t3 }));
                    }
                    n3.push(t3);
                  }
                }
              } else
                Ve2.w("".concat(this._n, ".onMessage unknown event:").concat(u3.event));
            }
            if (0 !== n3.length) {
              this._groupModule.filterModifiedMessage(n3);
              var f3 = this.packConversationOption(n3);
              if (f3.length > 0)
                this._getModule(qn).onNewMessage({ conversationOptionsList: f3, isInstantMessage: true });
              Ve2.d("".concat(this._n, ".onMessage count:").concat(n3.length)), this._checkMessageStacked(n3);
              var v3 = this._groupModule.filterUnmodifiedMessage(n3);
              v3.length > 0 && this._groupModule.emitOuterEvent(k.MESSAGE_RECEIVED, v3), n3.length = 0;
            }
          }
        } }, { key: "isBroadcastOrNormal", value: function(e4) {
          return 3 === e4 || 17 === e4;
        } }, { key: "isGroupTip", value: function(e4) {
          return 4 === e4 || 6 === e4;
        } }, { key: "isGroupSystemNotice", value: function(e4) {
          return 5 === e4;
        } }, { key: "restoreGroupTipElements", value: function() {
          var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          e4.groupJoinType || (e4.groupJoinType = 1);
          var t3 = e4.operatorInfo, n3 = void 0 === t3 ? {} : t3, o3 = e4.operatorID, s3 = e4.userIDList, a3 = void 0 === s3 ? [] : s3, i3 = n3.userID, r3 = void 0 === i3 ? o3 : i3, u3 = n3.avatar, c3 = void 0 === u3 ? "" : u3, l3 = n3.nick, d3 = void 0 === l3 ? "" : l3;
          e4.operatorInfo = { userID: r3, avatar: c3, nick: d3 };
          var p3 = a3.map(function(e5) {
            return { userID: e5 };
          });
          return e4.memberInfoList = e4.memberInfoList || p3, e4;
        } }, { key: "restoreMessageFromSimplified", value: function(e4) {
          var n3 = e4.event;
          if (this.isBroadcastOrNormal(n3) && (e4.cloudCustomData = e4.cloudCustomData || "", e4.elements = e4.elements.map(function(e5) {
            if (e5.type === E2.MSG_CUSTOM) {
              var n4 = e5.content, o4 = void 0 === n4 ? {} : n4;
              e5.content = t2({ data: "", description: "", extension: "" }, o4);
            }
            return e5;
          })), (this.isGroupTip(n3) || this.isGroupSystemNotice(n3)) && (e4.from = e4.from || "@TIM#SYSTEM"), this.isGroupTip(n3)) {
            e4.elements = this.restoreGroupTipElements(e4.elements);
            var o3 = e4.elements, s3 = void 0 === o3 ? {} : o3, a3 = s3.operationType, r3 = s3.operatorInfo;
            if (1 === a3) {
              var u3 = [{ userID: (void 0 === r3 ? {} : r3).userID }];
              s3.memberInfoList = s3.memberInfoList || u3;
            }
          }
          if (this.isGroupSystemNotice(n3)) {
            var c3 = e4.elements, l3 = c3.memberInfoList, d3 = c3.operatorInfo;
            l3 || (l3 = void 0 === d3 ? {} : d3), e4.elements.memberInfoList = t2({ userID: e4.elements.operatorID, avatar: "", nick: "" }, l3), e4.elements = t2({ authentication: "", remarkInfo: "", messageKey: 1e3 * e4.time }, e4.elements);
            var p3 = Object.keys(e4.elements).filter(function(e5) {
              return "operatorInfo" !== e5;
            }).reduce(function(n4, o4) {
              return t2(t2({}, n4), {}, i2({}, o4, e4.elements[o4]));
            }, {});
            e4.elements = p3;
          }
          return e4;
        } }, { key: "_onGroupDismissed", value: function(e4) {
          Ve2.l("".concat(this._n, "._onGroupDismissed groupID:").concat(e4)), this._groupModule.deleteLocalGroupAndConversation(e4), this.reset(e4);
        } }, { key: "_checkMessageStacked", value: function(e4) {
          var t3 = "MessageStacked", n3 = e4.length;
          n3 >= 100 && (this._groupModule.outputWarning(t3, n3), this._reportMessageStackedCount < 5 && (new Aa(t3).setNetworkType(this._groupModule.getNetworkType()).setMessage("count:".concat(n3, " groupID:").concat(m2(this._joinedGroupMap.keys()))).setLevel("warning").end(), this._reportMessageStackedCount += 1));
        } }, { key: "_isMessageSentByCurrentInstance", value: function(e4) {
          return !!this._getModule(qn).isMessageSentByCurrentInstance(e4);
        } }, { key: "packMessage", value: function(e4, t3) {
          e4.currentUser = this._groupModule.getMyUserID(), e4.conversationType = 5 === t3 ? E2.CONV_SYSTEM : E2.CONV_GROUP, e4.isSystemMessage = !!e4.isSystemMessage;
          var n3 = new Wa(e4), o3 = this.packElements(e4, t3);
          return n3.setElement(o3, this._groupModule.getFileDownloadProxy()), n3;
        } }, { key: "packElements", value: function(e4, n3) {
          return 4 === n3 || 6 === n3 ? (this._updateMemberCountByGroupTips(e4), { type: E2.MSG_GRP_TIP, content: t2(t2({}, e4.elements), {}, { groupProfile: e4.groupProfile }) }) : 5 === n3 ? { type: E2.MSG_GRP_SYS_NOTICE, content: t2(t2({}, e4.elements), {}, { groupProfile: t2(t2({}, e4.groupProfile), {}, { groupID: e4.groupID }) }) } : this._getModule(Kn2).parseElements(e4.elements, e4.from);
        } }, { key: "packConversationOption", value: function(e4) {
          for (var t3 = /* @__PURE__ */ new Map(), n3 = 0; n3 < e4.length; n3++) {
            var o3 = e4[n3], s3 = o3.conversationID;
            if (t3.has(s3)) {
              var a3 = t3.get(s3);
              a3.lastMessage = o3, "in" === o3.flow && a3.unreadCount++;
            } else
              t3.set(s3, { conversationID: o3.conversationID, unreadCount: "out" === o3.flow ? 0 : 1, type: o3.conversationType, subType: o3.conversationSubType, lastMessage: o3 });
          }
          return m2(t3.values());
        } }, { key: "_updateMemberCountByGroupTips", value: function(e4) {
          var t3 = e4.groupProfile.groupID, n3 = e4.elements.onlineMemberInfo, o3 = void 0 === n3 ? void 0 : n3;
          if (!zt2(o3)) {
            var s3 = o3.onlineMemberNum, a3 = void 0 === s3 ? 0 : s3, i3 = o3.expireTime, r3 = void 0 === i3 ? this.DEFAULT_EXPIRE_TIME : i3, u3 = this._onlineMemberCountMap.get(t3) || {}, c3 = Date.now();
            zt2(u3) ? Object.assign(u3, { lastReqTime: 0, lastSyncTime: 0, latestUpdateTime: c3, memberCount: a3, expireTime: r3 }) : (u3.latestUpdateTime = c3, u3.memberCount = a3), Ve2.d("".concat(this._n, "._updateMemberCountByGroupTips info:"), u3), this._onlineMemberCountMap.set(t3, u3);
          }
        } }, { key: "_onBroadcastMessage", value: function(e4) {
          if (!zt2(e4)) {
            for (var t3 = [], n3 = e4.length, o3 = null, s3 = 0; s3 < n3; s3++) {
              var a3 = this.restoreMessageFromSimplified(e4[s3]);
              Gi[a3.event] ? ((o3 = this.packMessage(a3, a3.event)).isBroadcastMessage = true, this._broadcastMessageIDMap.has(o3.ID) || (t3.push(o3), this._broadcastMessageIDMap.set(o3.ID, 1))) : Ve2.w("".concat(this._n, "._onBroadcastMessage unknown event:").concat(a3.event));
            }
            t3.length > 0 && this._groupModule.emitOuterEvent(k.MESSAGE_RECEIVED, t3);
          }
        } }, { key: "start", value: function(e4) {
          if (this._pollingInstanceMap.has(e4)) {
            var t3 = this._pollingInstanceMap.get(e4);
            t3.isRunning() || t3.start();
          } else {
            var n3 = new Oi({ manager: this, groupID: e4, onInit: this._updateRequestData.bind(this), onSuccess: this._handleSuccess.bind(this), onFail: this._handleFailure.bind(this) });
            n3.start(), this._pollingInstanceMap.set(e4, n3), Ve2.l("".concat(this._n, ".start groupID:").concat(e4));
          }
        } }, { key: "handleJoinResult", value: function(e4) {
          var t3 = this;
          return this._preCheck().then(function() {
            var n3 = e4.longPollingKey, o3 = e4.group, s3 = o3.groupID;
            return t3._joinedGroupMap.set(s3, o3), t3._groupModule.updateGroupMap([o3]), t3._groupModule.deleteUnjoinedAVChatRoom(s3), t3._groupModule.emitGroupListUpdate(true, false), it2(n3) ? Xa({ status: je2, group: o3 }) : Promise.resolve();
          });
        } }, { key: "startRunLoop", value: function(e4) {
          var t3 = this;
          return this.handleJoinResult(e4).then(function() {
            var n3 = e4.longPollingKey, o3 = e4.group, s3 = e4.startSeq, a3 = void 0 === s3 ? 0 : s3, i3 = o3.groupID;
            return t3._pollingRequestInfoMap.set(i3, { key: n3, startSeq: a3 }), t3.start(i3), t3._groupModule.isLoggedIn() ? Xa({ status: je2, group: o3 }) : Xa({ status: je2 });
          });
        } }, { key: "_preCheck", value: function() {
          if (this._getModule(xn).isUnlimitedAVChatRoom())
            return Promise.resolve();
          if (!this.hasJoinedAVChatRoom())
            return Promise.resolve();
          var e4 = v2(this._joinedGroupMap.entries().next().value, 2), t3 = e4[0], n3 = e4[1];
          if (this._groupModule.isLoggedIn()) {
            if (!(n3.selfInfo.role === E2.GRP_MBR_ROLE_OWNER || n3.ownerID === this._groupModule.getMyUserID()))
              return this._groupModule.quitGroup(t3);
            this._groupModule.deleteLocalGroupAndConversation(t3);
          } else
            this._groupModule.deleteLocalGroupAndConversation(t3);
          return this.reset(t3), Promise.resolve();
        } }, { key: "joinWithoutAuth", value: function(e4) {
          var t3 = this, n3 = e4.groupID, o3 = "".concat(this._n, ".").concat("joinWithoutAuth"), s3 = new Aa("joinWithoutAuth");
          return this._groupModule.request({ protocolName: $o, requestData: e4 }).then(function(e5) {
            var a3 = e5.data.longPollingKey;
            if (t3._groupModule.probeNetwork().then(function(e6) {
              var t4 = v2(e6, 2);
              t4[0];
              var o4 = t4[1];
              s3.setNetworkType(o4).setMessage("groupID:".concat(n3, " longPollingKey:").concat(a3)).end(true);
            }), it2(a3))
              return Za({ code: ha.CANNOT_JOIN_NON_AVCHATROOM_WITHOUT_LOGIN });
            Ve2.l("".concat(o3, " ok. groupID:").concat(n3)), t3._getModule(qn).setCompleted("".concat(E2.CONV_GROUP).concat(n3));
            var i3 = new hi({ groupID: n3 });
            return t3.startRunLoop({ group: i3, longPollingKey: a3 }), Ya({ status: je2 });
          }).catch(function(e5) {
            return Ve2.e("".concat(o3, " failed. groupID:").concat(n3, " error:"), e5), t3._groupModule.probeNetwork().then(function(t4) {
              var o4 = v2(t4, 2), a3 = o4[0], i3 = o4[1];
              s3.setError(e5, a3, i3).setMessage("groupID:".concat(n3)).end(true);
            }), Za(e5);
          }).finally(function() {
            t3._groupModule.getModule(Bn).reportAtOnce();
          });
        } }, { key: "getGroupOnlineMemberCount", value: function(e4) {
          var t3 = this._onlineMemberCountMap.get(e4) || {}, n3 = Date.now();
          return zt2(t3) || n3 - t3.lastSyncTime > 1e3 * t3.expireTime && n3 - t3.latestUpdateTime > 1e4 && n3 - t3.lastReqTime > 3e3 ? (t3.lastReqTime = n3, this._onlineMemberCountMap.set(e4, t3), this._getGroupOnlineMemberCount(e4).then(function(e5) {
            return Ya({ memberCount: e5.memberCount });
          }).catch(function(e5) {
            return Za(e5);
          })) : Xa({ memberCount: t3.memberCount });
        } }, { key: "_getGroupOnlineMemberCount", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("_getGroupOnlineMemberCount");
          return this._groupModule.request({ protocolName: ms2, requestData: { groupID: e4 } }).then(function(o3) {
            var s3 = t3._onlineMemberCountMap.get(e4) || {}, a3 = o3.data, i3 = a3.onlineMemberNum, r3 = void 0 === i3 ? 0 : i3, u3 = a3.expireTime, c3 = void 0 === u3 ? t3.DEFAULT_EXPIRE_TIME : u3;
            Ve2.l("".concat(n3, " ok. groupID:").concat(e4, " memberCount:").concat(r3, " expireTime:").concat(c3));
            var l3 = Date.now();
            return zt2(s3) && (s3.lastReqTime = l3), t3._onlineMemberCountMap.set(e4, Object.assign(s3, { lastSyncTime: l3, latestUpdateTime: l3, memberCount: r3, expireTime: c3 })), { memberCount: r3 };
          }).catch(function(o3) {
            return Ve2.w("".concat(n3, " failed. error:"), o3), new Aa("_getGroupOnlineMemberCount").setCode(o3.code).setMessage("groupID:".concat(e4, " error:").concat(JSON.stringify(o3))).setNetworkType(t3._groupModule.getNetworkType()).end(), Promise.reject(o3);
          });
        } }, { key: "_getModule", value: function(e4) {
          return this._groupModule.getModule(e4);
        } }, { key: "setPollingInterval", value: function(e4) {
          it2(e4) || (et2(e4) ? this._pollingInterval = this.DEFAULT_POLLING_INTERVAL = e4 : this._pollingInterval = this.DEFAULT_POLLING_INTERVAL = parseInt(e4, 10));
        } }, { key: "setPollingIntervalPlus", value: function(e4) {
          it2(e4) || (et2(e4) ? this.DEFAULT_POLLING_INTERVAL_PLUS = e4 : this.DEFAULT_POLLING_INTERVAL_PLUS = parseInt(e4, 10));
        } }, { key: "setPollingNoMessageCount", value: function(e4) {
          it2(e4) || (et2(e4) ? this.DEFAULT_POLLING_NO_MESSAGE_COUNT = e4 : this.DEFAULT_POLLING_NO_MESSAGE_COUNT = parseInt(e4, 10));
        } }, { key: "setPollingSimplifiedMessage", value: function(e4) {
          it2(e4) || "0" !== e4 && "1" !== e4 || (this.DEFAULT_POLLING_SIMPLIFIED_MSG = parseInt(e4, 10));
        } }, { key: "getPollingInterval", value: function() {
          return this._pollingInterval;
        } }, { key: "onAVChatRoomMemberBanned", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID;
          Ve2.l("".concat(this._n, ".onAVChatRoomMemberBanned groupID:").concat(t3)), this._groupModule.deleteLocalGroupAndConversation(t3), this.reset(t3);
        } }, { key: "restartPolling", value: function() {
          Ve2.l("".concat(this._n, ".restartPolling count:").concat(this._pollingInstanceMap.size));
          var e4, t3 = D2(this._pollingInstanceMap.values());
          try {
            for (t3.s(); !(e4 = t3.n()).done; ) {
              var n3 = e4.value;
              n3.stop(), n3.start();
            }
          } catch (o3) {
            t3.e(o3);
          } finally {
            t3.f();
          }
        } }, { key: "getPollingTimerID", value: function(e4) {
          if (!this._pollingInstanceMap.has(e4))
            return -1;
          var t3 = this._pollingInstanceMap.get(e4).getPollingTimerID();
          return Ve2.l("".concat(this._n, ".getPollingTimerID groupID:").concat(e4, " timerID:").concat(t3)), t3;
        } }, { key: "reset", value: function(e4) {
          if (e4) {
            Ve2.l("".concat(this._n, ".reset groupID:").concat(e4));
            var t3 = this._pollingInstanceMap.get(e4);
            t3 && t3.stop(), this._pollingInstanceMap.delete(e4), this._joinedGroupMap.delete(e4), this._pollingRequestInfoMap.delete(e4), this._onlineMemberCountMap.delete(e4);
          } else {
            Ve2.l("".concat(this._n, ".reset all"));
            var n3, o3 = D2(this._pollingInstanceMap.values());
            try {
              for (o3.s(); !(n3 = o3.n()).done; ) {
                n3.value.stop();
              }
            } catch (s3) {
              o3.e(s3);
            } finally {
              o3.f();
            }
            this._pollingInstanceMap.clear(), this._joinedGroupMap.clear(), this._pollingRequestInfoMap.clear(), this._onlineMemberCountMap.clear(), this._broadcastMessageIDMap.clear();
          }
          this.sequencesLinkedList.reset(), this.messageIDLinkedList.reset(), this.receivedMessageCount = 0, this._reportMessageStackedCount = 0, this._pollingInterval = this.DEFAULT_POLLING_INTERVAL = 300, this.DEFAULT_POLLING_NO_MESSAGE_COUNT = 20, this.DEFAULT_POLLING_INTERVAL_PLUS = 2e3, this._pollingNoMessageCount = 0;
        } }]), e3;
      }(), Pi = 1, bi = 15, wi = function() {
        function e3(t3) {
          o2(this, e3), this._groupModule = t3, this._n = "GroupSystemNoticeHandler", this.pendencyMap = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "onNewGroupSystemNotice", value: function(e4) {
          var t3 = e4.dataList, n3 = e4.isSyncingEnded, o3 = e4.isInstantMessage;
          Ve2.d("".concat(this._n, ".onReceiveSystemNotice count:").concat(t3.length));
          var s3 = this.newSystemNoticeStoredAndSummary({ notifiesList: t3, isInstantMessage: o3 }), a3 = s3.eventDataList, i3 = s3.result;
          a3.length > 0 && (this._groupModule.getModule(qn).onNewMessage({ conversationOptionsList: a3, isInstantMessage: o3 }), this._onReceivedGroupSystemNotice({ result: i3, isInstantMessage: o3 }));
          o3 ? i3.length > 0 && this._groupModule.emitOuterEvent(k.MESSAGE_RECEIVED, i3) : true === n3 && this._clearGroupSystemNotice();
        } }, { key: "newSystemNoticeStoredAndSummary", value: function(e4) {
          var n3 = e4.notifiesList, o3 = e4.isInstantMessage, s3 = null, a3 = n3.length, i3 = 0, r3 = [], u3 = { conversationID: E2.CONV_SYSTEM, unreadCount: 0, type: E2.CONV_SYSTEM, subType: null, lastMessage: null };
          for (i3 = 0; i3 < a3; i3++) {
            var c3 = n3[i3], l3 = c3.groupProfile, d3 = l3.communityType, p3 = void 0 === d3 ? 0 : d3, g3 = l3.topicID, h3 = void 0 === g3 ? void 0 : g3, _3 = c3.elements, f3 = _3.topicIDList, v3 = void 0 === f3 ? void 0 : f3, m3 = _3.operationType;
            if (!(2 !== p3 || zt2(h3) && zt2(v3))) {
              if ([17, 18, 20].includes(m3)) {
                this._handleTopicSystemNotice(c3);
                continue;
              }
              zt2(h3) || (c3.to = h3);
            }
            if (c3.elements.operationType !== bi)
              c3.currentUser = this._groupModule.getMyUserID(), c3.conversationType = E2.CONV_SYSTEM, c3.conversationID = E2.CONV_SYSTEM, (s3 = new Wa(c3)).setElement({ type: E2.MSG_GRP_SYS_NOTICE, content: t2(t2({}, c3.elements), {}, { groupProfile: t2({}, c3.groupProfile) }) }), s3.isSystemMessage = true, (1 === s3.sequence && 1 === s3.random || 2 === s3.sequence && 2 === s3.random) && (s3.sequence = _t2(), s3.random = _t2(), s3.generateMessageID(), Ve2.l("".concat(this._n, ".newSystemNoticeStoredAndSummary sequence and random maybe duplicated, regenerate. ID:").concat(s3.ID))), this._groupModule.getModule(qn).pushIntoNoticeResult(r3, s3) && (o3 ? u3.unreadCount++ : s3.setIsRead(true), u3.subType = s3.conversationSubType);
          }
          return u3.lastMessage = r3[r3.length - 1], { eventDataList: r3.length > 0 ? [u3] : [], result: r3 };
        } }, { key: "_clearGroupSystemNotice", value: function() {
          var e4 = this;
          this._getPendencyList().then(function(t3) {
            t3.forEach(function(t4) {
              e4.pendencyMap.set("".concat(t4.from, "_").concat(t4.groupID, "_").concat(t4.to), t4);
            });
            var n3 = e4._groupModule.getModule(qn).getLocalMessageList(E2.CONV_SYSTEM), o3 = [];
            n3.forEach(function(t4) {
              var n4 = t4.payload, s3 = n4.operatorID, a3 = n4.operationType, i3 = n4.groupProfile;
              if (a3 === Pi) {
                var r3 = "".concat(s3, "_").concat(i3.groupID, "_").concat(i3.to), u3 = e4.pendencyMap.get(r3);
                u3 && et2(u3.handled) && 0 !== u3.handled && o3.push(t4);
              }
            }), e4.deleteGroupSystemNotice({ messageList: o3 });
          });
        } }, { key: "deleteGroupSystemNotice", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".deleteGroupSystemNotice");
          return at2(e4.messageList) && 0 !== e4.messageList.length ? (Ve2.l("".concat(n3, " ") + e4.messageList.map(function(e5) {
            return e5.ID;
          })), this._groupModule.request({ protocolName: _s2, requestData: { messageListToDelete: e4.messageList.map(function(e5) {
            return { from: E2.CONV_SYSTEM, messageSeq: e5.clientSequence, messageRandom: e5.random };
          }) } }).then(function() {
            Ve2.l("".concat(n3, " ok"));
            var o3 = t3._groupModule.getModule(qn);
            return e4.messageList.forEach(function(e5) {
              o3.deleteLocalMessage(e5);
            }), Ya();
          }).catch(function(e5) {
            return Ve2.e("".concat(n3, " error:"), e5), Za(e5);
          })) : Xa();
        } }, { key: "_getPendencyList", value: function() {
          var e4 = this, t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = t3.type, o3 = void 0 === n3 ? void 0 : n3, s3 = t3.startTime, a3 = void 0 === s3 ? 0 : s3, i3 = t3.limit, r3 = void 0 === i3 ? 20 : i3;
          return this._groupModule.request({ protocolName: hs2, requestData: { type: o3, startTime: a3, limit: r3, handleAccount: this._groupModule.getMyUserID() } }).then(function(t4) {
            var n4 = t4.data.pendencyList;
            return 0 !== t4.data.nextStartTime ? e4._getPendencyList({ startTime: t4.data.nextStartTime }).then(function(e5) {
              return [].concat(m2(n4), m2(e5));
            }) : n4;
          });
        } }, { key: "getGroupApplicationList", value: function() {
          var e4 = this;
          return this._getPendencyList().then(function(t3) {
            return e4._getPendencyList({ type: E2.GRP_COMMUNITY }).then(function(n3) {
              return t3.push.apply(t3, m2(n3)), e4._handlePendencyResult(t3);
            }).catch(function(n3) {
              return e4._handlePendencyResult(t3);
            });
          });
        } }, { key: "_handlePendencyResult", value: function(e4) {
          var t3 = this, n3 = [];
          return e4.forEach(function(e5) {
            t3.pendencyMap.set("".concat(e5.from, "_").concat(e5.groupID, "_").concat(e5.to), e5), 0 === e5.handled && n3.push({ applicant: e5.from, applicantNick: e5.fromUserNickName, groupName: e5.groupName, groupID: e5.groupID, authentication: e5.authentication, messageKey: e5.time, applicationType: e5.applicationType, userID: e5.userID });
          }), Xa({ applicationList: n3 });
        } }, { key: "_onReceivedGroupSystemNotice", value: function(e4) {
          var t3 = this, n3 = e4.result;
          e4.isInstantMessage && n3.forEach(function(e5) {
            switch (e5.payload.operationType) {
              case 1:
                break;
              case 2:
                t3._onApplyGroupRequestAgreed(e5);
                break;
              case 3:
                break;
              case 4:
                t3._onMemberKicked(e5);
                break;
              case 5:
                t3._onGroupDismissed(e5);
                break;
              case 6:
                break;
              case 7:
                t3._onInviteGroup(e5);
                break;
              case 8:
                t3._onQuitGroup(e5);
                break;
              case 9:
                t3._onSetManager(e5);
                break;
              case 10:
                t3._onDeleteManager(e5);
                break;
              case 11:
              case 12:
              case 15:
                break;
              case 20:
                t3._onMessageRemindTypeSynced(e5);
                break;
              case 21:
                t3._groupModule.onAVChatRoomMemberBanned(e5);
            }
          });
        } }, { key: "_onApplyGroupRequestAgreed", value: function(e4) {
          var t3 = this, n3 = e4.payload.groupProfile.groupID;
          this._groupModule.hasLocalGroup(n3) || this._groupModule.getGroupProfile({ groupID: n3 }).then(function(e5) {
            var n4 = e5.data.group;
            if (n4) {
              t3._groupModule.updateGroupMap([n4]);
              var o3 = !n4.isSupportTopic;
              t3._groupModule.emitGroupListUpdate(true, o3);
            }
          });
        } }, { key: "_onMemberKicked", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID;
          this._groupModule.hasLocalGroup(t3) && this._groupModule.deleteLocalGroupAndConversation(t3);
        } }, { key: "_onGroupDismissed", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID;
          this._groupModule.hasLocalGroup(t3) && this._groupModule.deleteLocalGroupAndConversation(t3);
          var n3 = this._groupModule._AVChatRoomHandler;
          n3 && n3.checkJoinedAVChatRoomByID(t3) && n3.reset(t3);
        } }, { key: "_onInviteGroup", value: function(e4) {
          var t3 = this, n3 = e4.payload.groupProfile.groupID;
          this._groupModule.hasLocalGroup(n3) || this._groupModule.getGroupProfile({ groupID: n3 }).then(function(e5) {
            var n4 = e5.data.group;
            n4 && (t3._groupModule.updateGroupMap([n4]), t3._groupModule.emitGroupListUpdate());
          });
        } }, { key: "_onQuitGroup", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID;
          this._groupModule.hasLocalGroup(t3) && this._groupModule.deleteLocalGroupAndConversation(t3);
        } }, { key: "_onSetManager", value: function(e4) {
          var t3 = e4.payload.groupProfile, n3 = t3.to, o3 = t3.groupID, s3 = this._groupModule.getModule(wn).getLocalGroupMemberInfo(o3, n3);
          s3 && s3.updateRole(E2.GRP_MBR_ROLE_ADMIN);
        } }, { key: "_onDeleteManager", value: function(e4) {
          var t3 = e4.payload.groupProfile, n3 = t3.to, o3 = t3.groupID, s3 = this._groupModule.getModule(wn).getLocalGroupMemberInfo(o3, n3);
          s3 && s3.updateRole(E2.GRP_MBR_ROLE_MEMBER);
        } }, { key: "_onMessageRemindTypeSynced", value: function(e4) {
          var t3 = e4.payload.groupProfile.groupID, n3 = e4.payload.messageRemindType;
          this._groupModule.getModule(qn).onGroupMessageRemindTypeSynced({ groupID: t3, messageRemindType: n3 });
        } }, { key: "_handleTopicSystemNotice", value: function(e4) {
          var t3 = e4.groupProfile, n3 = t3.groupID, o3 = t3.topicID, s3 = e4.elements, a3 = s3.operationType, i3 = s3.topicIDList, r3 = s3.messageRemindType, u3 = this._groupModule.getModule(Fn);
          17 === a3 ? u3.onTopicCreated({ groupID: n3, topicID: o3 }) : 18 === a3 ? u3.onTopicDeleted({ groupID: n3, topicIDList: i3 }) : 20 === a3 && u3.onTopicMessageRemindTypeUpdated({ groupID: n3, topicID: o3, messageRemindType: r3 });
        } }, { key: "reset", value: function() {
          this.pendencyMap.clear();
        } }]), e3;
      }(), Fi = ["relayFlag"], qi = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "GroupModule", t3._commonGroupHandler = null, t3._AVChatRoomHandler = null, t3._groupSystemNoticeHandler = null, t3._commonGroupHandler = new Ii(h2(t3)), t3._groupAttributesHandler = new Si(h2(t3)), t3._groupCountersHandler = new Ni(h2(t3)), t3._AVChatRoomHandler = new Ui(h2(t3)), t3._groupTipsHandler = new yi(h2(t3)), t3._groupSystemNoticeHandler = new wi(h2(t3)), t3.groupMap = /* @__PURE__ */ new Map(), t3._unjoinedAVChatRoomList = /* @__PURE__ */ new Map(), t3._receiptDetailCompleteMap = /* @__PURE__ */ new Map(), t3.getInnerEmitterInstance().on(ti, t3._onCloudConfigUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_onCloudConfigUpdated", value: function() {
          var e4 = this.getCloudConfig("polling_interval"), t3 = this.getCloudConfig("polling_interval_plus"), n4 = this.getCloudConfig("polling_no_msg_count"), o3 = this.getCloudConfig("polling_simplified_msg");
          this._AVChatRoomHandler && (Ve2.l("".concat(this._n, "._onCloudConfigUpdated pollingInterval:").concat(e4) + " pollingIntervalPlus:".concat(t3, " pollingNoMessageCount:").concat(n4) + " pollingSimplifiedMessage:".concat(o3)), this._AVChatRoomHandler.setPollingInterval(e4), this._AVChatRoomHandler.setPollingIntervalPlus(t3), this._AVChatRoomHandler.setPollingNoMessageCount(n4), this._AVChatRoomHandler.setPollingSimplifiedMessage(o3));
        } }, { key: "onCheckTimer", value: function(e4) {
          this.isLoggedIn() && (this._commonGroupHandler.onCheckTimer(e4), this._groupTipsHandler.onCheckTimer(e4));
        } }, { key: "guardForAVChatRoom", value: function(e4) {
          var t3 = this;
          if (e4.conversationType === E2.CONV_GROUP) {
            var n4 = kt2(e4.to) ? xt2(e4.to) : e4.to;
            return this.hasLocalGroup(n4) ? Xa() : this.getGroupProfile({ groupID: n4 }).then(function(o3) {
              var s4 = o3.data.group.type;
              if (Ve2.l("".concat(t3._n, ".guardForAVChatRoom. groupID:").concat(n4, " type:").concat(s4)), s4 === E2.GRP_AVCHATROOM) {
                var a3 = ha.MESSAGE_SEND_FAIL_NOT_IN_AVCHATROOM;
                return Za(new ja({ code: a3, message: t3.getErrorMessage(a3, e4.from, n4), data: { message: e4 } }));
              }
              return Xa();
            });
          }
          return Xa();
        } }, { key: "checkJoinedAVChatRoomByID", value: function(e4) {
          return !!this._AVChatRoomHandler && this._AVChatRoomHandler.checkJoinedAVChatRoomByID(e4);
        } }, { key: "onNewGroupMessage", value: function(e4) {
          this._commonGroupHandler && this._commonGroupHandler.onNewGroupMessage(e4);
        } }, { key: "updateNextMessageSeq", value: function(e4) {
          var t3 = this;
          if (at2(e4)) {
            var n4 = this.getModule(Fn);
            e4.forEach(function(e5) {
              var o3 = e5.conversationID.replace(E2.CONV_GROUP, "");
              kt2(o3) && n4.updateLastMessage(o3, e5.lastMessage), t3.groupMap.has(o3) && (t3.groupMap.get(o3).nextMessageSeq = e5.lastMessage.sequence + 1);
            });
          }
        } }, { key: "onNewGroupTips", value: function(e4) {
          this._groupTipsHandler && this._groupTipsHandler.onNewGroupTips(e4);
        } }, { key: "onGroupMessageRevoked", value: function(e4) {
          this._commonGroupHandler && this._commonGroupHandler.onGroupMessageRevoked(e4);
        } }, { key: "onNewGroupSystemNotice", value: function(e4) {
          this._groupSystemNoticeHandler && this._groupSystemNoticeHandler.onNewGroupSystemNotice(e4);
        } }, { key: "onGroupMessageReadNotice", value: function(e4) {
          var t3 = this;
          e4.dataList.forEach(function(e5) {
            var n4 = e5.elements.groupMessageReadNotice;
            if (!it2(n4)) {
              var o3 = t3.getModule(qn);
              n4.forEach(function(e6) {
                var n5 = e6.groupID, s4 = e6.topicID, a3 = void 0 === s4 ? void 0 : s4, i3 = e6.lastMessageSeq;
                Ve2.d("".concat(t3._n, ".onGroupMessageReadNotice groupID:").concat(n5, " lastMessageSeq:").concat(i3));
                var r3 = "".concat(E2.CONV_GROUP).concat(n5), u3 = true;
                zt2(a3) || (r3 = "".concat(E2.CONV_GROUP).concat(a3), u3 = false), o3.updateIsReadAfterReadReport({ conversationID: r3, lastMessageSeq: i3 }), o3.updateUnreadCount(r3, u3), o3.clearGroupAtInfoList(r3, u3);
              });
            }
          });
        } }, { key: "onReadReceiptList", value: function(e4) {
          var t3 = this;
          Ve2.d("".concat(this._n, ".onReadReceiptList options:"), JSON.stringify(e4)), e4.dataList.forEach(function(e5) {
            var n4 = e5.groupProfile, o3 = e5.elements, s4 = n4.groupID, a3 = t3.getModule(qn), i3 = o3.readReceiptList;
            a3.updateReadReceiptInfo({ groupID: s4, readReceiptList: i3 });
          });
        } }, { key: "onGroupMessageModified", value: function(e4) {
          Ve2.d("".concat(this._n, ".onGroupMessageModified options:"), JSON.stringify(e4));
          var n4 = this.getModule(qn);
          e4.dataList.forEach(function(e5) {
            n4.onMessageModified(t2(t2({}, e5), {}, { conversationType: E2.CONV_GROUP, to: e5.topicID ? e5.topicID : e5.groupID }));
          });
        } }, { key: "deleteGroupSystemNotice", value: function(e4) {
          this._groupSystemNoticeHandler && this._groupSystemNoticeHandler.deleteGroupSystemNotice(e4);
        } }, { key: "initGroupMap", value: function(e4) {
          this.groupMap.set(e4.groupID, new hi(e4));
        } }, { key: "deleteGroup", value: function(e4) {
          this.groupMap.delete(e4);
        } }, { key: "updateGroupMap", value: function(e4) {
          var t3, n4 = this, o3 = this.getModule(qn);
          e4.forEach(function(e5) {
            t3 = e5.groupID, n4.groupMap.has(t3) ? n4.groupMap.get(t3).updateGroup(e5) : (n4.groupMap.set(t3, new hi(e5)), o3.deleteGroupRomaingMessageInfo(t3));
          });
          var s4, a3 = this.getMyUserID(), i3 = D2(this.groupMap);
          try {
            for (i3.s(); !(s4 = i3.n()).done; ) {
              var r3 = v2(s4.value, 2)[1];
              r3.selfInfo.userID = a3, "Owner" === r3.selfInfo.role && (r3.ownerID = a3);
            }
          } catch (u3) {
            i3.e(u3);
          } finally {
            i3.f();
          }
          this._setStorageGroupList();
        } }, { key: "getStorageGroupList", value: function() {
          return this.getModule(Vn2).getItem("groupMap");
        } }, { key: "_setStorageGroupList", value: function() {
          var e4 = this.getLocalGroupList().filter(function(e5) {
            var t3 = e5.type;
            return !Tt2(t3);
          }).filter(function(e5) {
            return !e5.isSupportTopic;
          }).slice(0, 20).map(function(e5) {
            return { groupID: e5.groupID, name: e5.name, avatar: e5.avatar, type: e5.type };
          });
          this.getModule(Vn2).setItem("groupMap", e4);
        } }, { key: "getGroupMap", value: function() {
          return this.groupMap;
        } }, { key: "getLocalGroupList", value: function() {
          return m2(this.groupMap.values());
        } }, { key: "getLocalGroupProfile", value: function(e4) {
          return this.groupMap.get(e4);
        } }, { key: "sortLocalGroupList", value: function() {
          var e4 = m2(this.groupMap).filter(function(e5) {
            var t3 = v2(e5, 2);
            return t3[0], !zt2(t3[1].lastMessage);
          });
          e4.sort(function(e5, t3) {
            return t3[1].lastMessage.lastTime - e5[1].lastMessage.lastTime;
          }), this.groupMap = new Map(m2(e4));
        } }, { key: "updateGroupLastMessage", value: function(e4) {
          this._commonGroupHandler && this._commonGroupHandler.handleUpdateGroupLastMessage(e4);
        } }, { key: "emitGroupListUpdate", value: function() {
          var e4 = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0], t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n4 = this.getLocalGroupList();
          if (e4 && this.emitOuterEvent(k.GROUP_LIST_UPDATED), t3) {
            var o3 = JSON.parse(JSON.stringify(n4)), s4 = this.getModule(qn);
            s4.updateConversationGroupProfile(o3);
          }
        } }, { key: "patchGroupMessageRemindType", value: function() {
          var e4 = this.getLocalGroupList(), t3 = this.getModule(qn), n4 = 0;
          e4.forEach(function(e5) {
            true === t3.patchMessageRemindType({ ID: e5.groupID, isC2CConversation: false, messageRemindType: e5.selfInfo.messageRemindType }) && (n4 += 1);
          }), Ve2.l("".concat(this._n, ".patchGroupMessageRemindType count:").concat(n4));
        } }, { key: "recomputeUnreadCount", value: function() {
          var e4 = this.getLocalGroupList(), t3 = this.getModule(qn);
          e4.forEach(function(e5) {
            var n4 = e5.groupID, o3 = e5.selfInfo, s4 = o3.excludedUnreadSequenceList, a3 = o3.readedSequence;
            if (at2(s4)) {
              var i3 = 0;
              s4.forEach(function(t4) {
                t4 >= a3 && t4 <= e5.nextMessageSeq - 1 && (i3 += 1);
              }), i3 >= 1 && t3.recomputeGroupUnreadCount({ conversationID: "".concat(E2.CONV_GROUP).concat(n4), count: i3 });
            }
          });
        } }, { key: "getMyNameCardByGroupID", value: function(e4) {
          var t3 = this.getLocalGroupProfile(e4);
          return t3 ? t3.selfInfo.nameCard : "";
        } }, { key: "isPagingGetCompleted", value: function() {
          return !!this._commonGroupHandler && this._commonGroupHandler.isPagingGetCompleted();
        } }, { key: "getGroupList", value: function(e4) {
          return this._commonGroupHandler ? this._commonGroupHandler.getGroupList(e4) : Xa();
        } }, { key: "getGroupProfile", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("getGroupProfile"), o3 = new Aa("getGroupProfile"), s4 = e4.groupID, a3 = e4.groupCustomFieldFilter;
          Ve2.l("".concat(n4, " groupID:").concat(s4));
          var i3 = { groupIDList: [s4], responseFilter: { groupBaseInfoFilter: ["Type", "Name", "Introduction", "Notification", "FaceUrl", "Owner_Account", "CreateTime", "InfoSeq", "LastInfoTime", "LastMsgTime", "MemberNum", "MaxMemberNum", "ApplyJoinOption", "NextMsgSeq", "ShutUpAllMember", "InviteJoinOption"], groupCustomFieldFilter: a3, memberInfoFilter: ["Role", "JoinTime", "MsgSeq", "MsgFlag", "NameCard"] } };
          return this.getGroupProfileAdvance(i3).then(function(e5) {
            var a4, i4 = e5.data, r3 = i4.successGroupList, u3 = i4.failureGroupList;
            if (Ve2.l("".concat(n4, " ok")), u3.length > 0)
              return Za(u3[0]);
            (Tt2(r3[0].type) && !t3.hasLocalGroup(s4) ? a4 = new hi(r3[0]) : (t3.updateGroupMap(r3), a4 = t3.getLocalGroupProfile(s4)), a4.isSupportTopic) || t3.getModule(qn).updateConversationGroupProfile([a4]);
            return o3.setNetworkType(t3.getNetworkType()).setMessage("groupID:".concat(s4, " type:").concat(a4.type, " muteAllMembers:").concat(a4.muteAllMembers, " ownerID:").concat(a4.ownerID)).end(), Ya({ group: a4 });
          }).catch(function(s5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), a4 = n5[0], i4 = n5[1];
              o3.setError(s5, a4, i4).setMessage("groupID:".concat(e4.groupID)).end();
            }), Ve2.e("".concat(n4, " failed. error:"), s5), Za(s5);
          });
        } }, { key: "getGroupProfileAdvance", value: function(e4) {
          var n4 = "".concat(this._n, ".getGroupProfileAdvance"), o3 = e4.groupIDList;
          at2(o3) && o3.length > 50 && (this.outputWarning("GetGroupProfileLimit"), o3.length = 50);
          var s4 = [], a3 = [];
          o3.forEach(function(e5) {
            Dt2({ groupID: e5 }) ? a3.push(e5) : s4.push(e5);
          });
          var i3 = [];
          if (s4.length > 0) {
            var r3 = this._getGroupProfileAdvance(t2(t2({}, e4), {}, { groupIDList: s4 }));
            i3.push(r3);
          }
          if (a3.length > 0) {
            var u3 = this._getGroupProfileAdvance(t2(t2({}, e4), {}, { groupIDList: a3, relayFlag: s4.length > 0 }));
            i3.push(u3);
          }
          return Promise.all(i3).then(function(e5) {
            var t3 = [], n5 = [];
            return e5.forEach(function(e6) {
              t3.push.apply(t3, m2(e6.successGroupList)), n5.push.apply(n5, m2(e6.failureGroupList));
            }), Ya({ successGroupList: t3, failureGroupList: n5 });
          }).catch(function(e5) {
            return Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_getGroupProfileAdvance", value: function(e4) {
          var t3 = this, n4 = e4.relayFlag, o3 = void 0 !== n4 && n4, s4 = g2(e4, Fi);
          return this.request({ protocolName: zo, requestData: s4 }).then(function(e5) {
            Ve2.l("".concat(t3._n, "._getGroupProfileAdvance ok."));
            var n5 = e5.data.groups;
            return { successGroupList: n5.filter(function(e6) {
              return it2(e6.errorCode) || 0 === e6.errorCode;
            }), failureGroupList: n5.filter(function(e6) {
              return e6.errorCode && 0 !== e6.errorCode;
            }).map(function(e6) {
              return new ja({ code: e6.errorCode, message: e6.errorInfo, data: { groupID: e6.groupID } });
            }) };
          }).catch(function(t4) {
            return o3 && Dt2({ groupID: e4.groupIDList[0] }) ? { successGroupList: [], failureGroupList: [] } : Za(t4);
          });
        } }, { key: "createGroup", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("createGroup"), s4 = e4.type, a3 = e4.groupID;
          if (e4.name && false === this._filterProfanity("name", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.introduction && false === this._filterProfanity("introduction", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.notification && false === this._filterProfanity("notification", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (!["Public", "Private", "ChatRoom", "AVChatRoom", "Community"].includes(s4))
            return Za({ code: ha.ILLEGAL_GROUP_TYPE });
          if (!Dt2({ type: s4 })) {
            if (!zt2(a3) && Dt2({ groupID: a3 }))
              return Za({ code: ha.ILLEGAL_GROUP_ID });
            e4.isSupportTopic = void 0;
          }
          if (Tt2(s4) && !it2(e4.memberList) && e4.memberList.length > 0 && (e4.memberList = void 0), this._canIUseJoinOption(s4) || it2(e4.joinOption) || (e4.joinOption = void 0), Dt2({ type: s4 })) {
            if (!zt2(a3) && !Dt2({ groupID: a3 }))
              return Za({ code: ha.ILLEGAL_GROUP_ID });
            e4.isSupportTopic = true === e4.isSupportTopic ? 1 : 0;
          }
          var i3 = new Aa("createGroup");
          Ve2.l("".concat(o3, " options:"), e4);
          var r3 = null, u3 = [];
          return this.request({ protocolName: Jo, requestData: t2(t2({}, e4), {}, { ownerID: this.getMyUserID(), webPushFlag: 1 }) }).then(function(s5) {
            var a4 = s5.data, c3 = a4.groupID, l3 = a4.overLimitUserIDList, d3 = void 0 === l3 ? [] : l3;
            if (r3 = c3, u3 = d3, i3.setNetworkType(n4.getNetworkType()).setMessage("groupType:".concat(e4.type, " groupID:").concat(c3, " overLimitUserIDList=").concat(d3)).end(), Ve2.l("".concat(o3, " ok groupID:").concat(c3, " overLimitUserIDList:"), d3), e4.type === E2.GRP_AVCHATROOM)
              return n4.getGroupProfile({ groupID: c3 });
            if (e4.type === E2.GRP_COMMUNITY && 1 === e4.isSupportTopic)
              return n4.getGroupProfile({ groupID: c3 });
            zt2(e4.memberList) || zt2(d3) || (e4.memberList = e4.memberList.filter(function(e5) {
              return -1 === d3.indexOf(e5.userID);
            })), n4.updateGroupMap([t2(t2({}, e4), {}, { groupID: c3 })]);
            var p3 = n4.getModule(Nn), g3 = p3.createCustomMessage({ to: c3, conversationType: E2.CONV_GROUP, payload: { data: "group_create", extension: n4.isIntl() ? "".concat(n4.getMyUserID(), " created a group") : "".concat(n4.getMyUserID(), "创建群组") } });
            return p3.sendMessageInstance(g3), n4.emitGroupListUpdate(), n4.getGroupProfile({ groupID: c3 });
          }).then(function(e5) {
            var t3 = e5.data.group, n5 = t3.selfInfo, o4 = n5.nameCard, s5 = n5.joinTime;
            return t3.updateSelfInfo({ nameCard: o4, joinTime: s5, messageRemindType: E2.MSG_REMIND_ACPT_AND_NOTE, role: E2.GRP_MBR_ROLE_OWNER }), Ya({ group: t3, overLimitUserIDList: u3 });
          }).catch(function(s5) {
            if (i3.setMessage("groupType:".concat(e4.type)), n4.probeNetwork().then(function(e5) {
              var t3 = v2(e5, 2), n5 = t3[0], o4 = t3[1];
              i3.setError(s5, n5, o4).end();
            }), 10010 === s5.code || 10007 === s5.code) {
              n4.updateGroupMap([t2(t2({}, e4), {}, { groupID: r3 })]);
              var a4 = n4.getLocalGroupProfile(r3);
              return Ve2.l("".concat(o3, " success, but failed to get group profile.")), Ya({ group: a4, overLimitUserIDList: u3 });
            }
            return Ve2.e("".concat(o3, " failed. error:"), s5), Za(s5);
          });
        } }, { key: "dismissGroup", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("dismissGroup");
          if (this.hasLocalGroup(e4) && this.getLocalGroupProfile(e4).type === E2.GRP_WORK)
            return Za(new ja({ code: ha.CANNOT_DISMISS_WORK }));
          var o3 = new Aa("dismissGroup");
          return o3.setMessage("groupID:".concat(e4)), Ve2.l("".concat(n4, " groupID:").concat(e4)), this.request({ protocolName: Xo, requestData: { groupID: e4 } }).then(function() {
            return o3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), t3.deleteLocalGroupAndConversation(e4), t3.checkJoinedAVChatRoomByID(e4) && t3._AVChatRoomHandler.reset(e4), t3._groupAttributesHandler.deleteLocalGroupAttributes(e4), Ya({ groupID: e4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), s4 = n5[0], a3 = n5[1];
              o3.setError(e5, s4, a3).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "updateGroupProfile", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("updateGroupProfile");
          if (this.hasLocalGroup(e4.groupID)) {
            var o3 = this.getLocalGroupProfile(e4.groupID).type;
            this._canIUseJoinOption(o3) || it2(e4.joinOption) || (Ve2.w("".concat(n4, " joinOption is unavailable for Work/Meeting/AVChatRoom")), e4.joinOption = void 0);
          }
          if (it2(e4.muteAllMembers) || (e4.muteAllMembers ? e4.muteAllMembers = "On" : e4.muteAllMembers = "Off"), e4.name && false === this._filterProfanity("name", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.introduction && false === this._filterProfanity("introduction", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.notification && false === this._filterProfanity("notification", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var s4 = new Aa("updateGroupProfile");
          return s4.setMessage(JSON.stringify(e4)), Ve2.l("".concat(n4, " groupID:").concat(e4.groupID)), this.request({ protocolName: Zo, requestData: e4 }).then(function() {
            (s4.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), t3.hasLocalGroup(e4.groupID)) && (t3.groupMap.get(e4.groupID).updateGroup(e4), t3._setStorageGroupList());
            return Ya({ group: t3.groupMap.get(e4.groupID) });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], a3 = n5[1];
              s4.setError(e5, o4, a3).end();
            }), Ve2.l("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_filterProfanity", value: function(e4, t3) {
          var n4 = this.getModule(oo);
          if (!n4)
            return true;
          var o3 = n4.filterText(t3[e4], z2), s4 = o3.isAllowedToSend, a3 = o3.modifiedText;
          return true === s4 && (t3[e4] = a3, true);
        } }, { key: "joinGroup", value: function(e4) {
          var t3 = this, n4 = e4.groupID, o3 = e4.type, s4 = "".concat(this._n, ".joinGroup");
          if (o3 === E2.GRP_WORK)
            return Za({ code: ha.CANNOT_JOIN_WORK });
          if (this.deleteUnjoinedAVChatRoom(n4), this.hasLocalGroup(n4)) {
            if (!this.isLoggedIn())
              return Xa({ status: E2.JOIN_STATUS_ALREADY_IN_GROUP });
            var a3 = new Aa("applyJoinGroup");
            return this.getGroupProfile({ groupID: n4 }).then(function() {
              return a3.setNetworkType(t3.getNetworkType()).setMessage("groupID:".concat(n4, " joinedStatus:").concat(E2.JOIN_STATUS_ALREADY_IN_GROUP)).end(), Xa({ status: E2.JOIN_STATUS_ALREADY_IN_GROUP });
            }).catch(function(o4) {
              return a3.setNetworkType(t3.getNetworkType()).setMessage("groupID:".concat(n4, " unjoined")).end(), Ve2.w("".concat(s4, " ").concat(n4, " was unjoined, now join!")), t3.groupMap.delete(n4), t3.applyJoinGroup(e4);
            });
          }
          return Ve2.l("".concat(s4, " groupID:").concat(n4)), this.isLoggedIn() ? this.applyJoinGroup(e4) : this._AVChatRoomHandler.joinWithoutAuth(e4);
        } }, { key: "applyJoinGroup", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("applyJoinGroup"), s4 = e4.groupID;
          if (!zt2(e4.applyMessage) && false === this._filterProfanity("applyMessage", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var a3 = new Aa("applyJoinGroup"), i3 = t2({}, e4), r3 = this.canIUse(B2.AVCHATROOM_HISTORY_MSG);
          return r3 && (i3.historyMessageFlag = 1), this.getModule(qn).deleteTopicRoamingMessageInfo(s4), this.request({ protocolName: Qo, requestData: i3 }).then(function(e5) {
            var t3 = e5.data, i4 = t3.joinedStatus, u3 = t3.longPollingKey, c3 = t3.startSeq, l3 = t3.avChatRoomFlag, d3 = t3.avChatRoomKey, p3 = t3.messageList, g3 = "groupID:".concat(s4, " joinedStatus:").concat(i4, " longPollingKey:").concat(u3, " startSeq:").concat(c3) + " avChatRoomFlag:".concat(l3, " canGetAVChatRoomHistoryMessage:").concat(r3, ",") + " history message count:".concat(zt2(p3) ? 0 : p3.length);
            switch (a3.setNetworkType(n4.getNetworkType()).setMessage("".concat(g3)).end(), Ve2.l("".concat(o3, " ok. ").concat(g3)), i4) {
              case ze2:
                return Ya({ status: ze2 });
              case je2:
                return n4.getGroupProfile({ groupID: s4 }).then(function(e6) {
                  var t4 = e6.data.group;
                  return n4._handleJoinResult({ group: t4, avChatRoomFlag: l3, longPollingKey: u3, startSeq: c3, avChatRoomKey: d3, messageList: p3 });
                }).catch(function() {
                  var e6 = new hi({ groupID: s4 });
                  return n4._handleJoinResult({ group: e6, avChatRoomFlag: l3, longPollingKey: u3, startSeq: c3, avChatRoomKey: d3, messageList: p3 });
                });
              default:
                var h3 = new ja({ code: ha.JOIN_GROUP_FAIL });
                return Ve2.e("".concat(o3, " failed. error:"), h3), Za(h3);
            }
          }).catch(function(e5) {
            return a3.setMessage("groupID:".concat(s4)), n4.probeNetwork().then(function(t3) {
              var n5 = v2(t3, 2), o4 = n5[0], s5 = n5[1];
              a3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_handleJoinResult", value: function(e4) {
          var t3, n4 = this, o3 = e4.group, s4 = e4.avChatRoomFlag, a3 = e4.longPollingKey, i3 = e4.startSeq, r3 = e4.avChatRoomKey, u3 = e4.messageList, c3 = o3.groupID;
          return 1 === s4 ? (this.getModule(qn).setCompleted("".concat(E2.CONV_GROUP).concat(c3)), this._groupAttributesHandler.initGroupAttributesCache({ groupID: c3, avChatRoomKey: r3 }), this._groupCountersHandler.initGroupCountersCache({ groupID: c3, avChatRoomKey: r3 }), (t3 = it2(a3) ? this._AVChatRoomHandler.handleJoinResult({ group: o3 }) : this._AVChatRoomHandler.startRunLoop({ group: o3, longPollingKey: a3, startSeq: i3 })).then(function() {
            n4._onAVChatRoomHistoryMessage(u3);
          }), t3) : (this.emitGroupListUpdate(true, false), Ya({ status: je2, group: o3 }));
        } }, { key: "quitGroup", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("quitGroup");
          Ve2.l("".concat(n4, " groupID:").concat(e4));
          var o3 = this.checkJoinedAVChatRoomByID(e4);
          if (!o3 && !this.hasLocalGroup(e4))
            return Za({ code: ha.MEMBER_NOT_IN_GROUP });
          if (o3 && !this.isLoggedIn())
            return Ve2.l("".concat(n4, " anonymously ok. groupID:").concat(e4)), this.deleteLocalGroupAndConversation(e4), this._AVChatRoomHandler.reset(e4), Xa({ groupID: e4 });
          var s4 = new Aa("quitGroup");
          return s4.setMessage("groupID:".concat(e4)), this.request({ protocolName: es2, requestData: { groupID: e4 } }).then(function() {
            return s4.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), t3.deleteLocalGroupAndConversation(e4), o3 && t3._AVChatRoomHandler.reset(e4), t3._groupAttributesHandler.deleteLocalGroupAttributes(e4), Ya({ groupID: e4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], a3 = n5[1];
              s4.setError(e5, o4, a3).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "searchGroupByID", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("searchGroupByID"), o3 = { groupIDList: [e4] }, s4 = new Aa("searchGroupByID");
          return s4.setMessage("groupID:".concat(e4)), Ve2.l("".concat(n4, " groupID:").concat(e4)), this.request({ protocolName: ts2, requestData: o3 }).then(function(e5) {
            var o4 = e5.data.groupProfile;
            if (0 !== o4[0].errorCode)
              throw new ja({ code: o4[0].errorCode, message: o4[0].errorInfo });
            return s4.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), Ya({ group: new hi(o4[0]) });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], a3 = n5[1];
              s4.setError(e5, o4, a3).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "changeGroupOwner", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("changeGroupOwner");
          if (this.hasLocalGroup(e4.groupID) && this.getLocalGroupProfile(e4.groupID).type === E2.GRP_AVCHATROOM)
            return Za({ code: ha.CANNOT_CHANGE_OWNER_IN_AVCHATROOM });
          if (e4.newOwnerID === this.getMyUserID())
            return Za({ code: ha.CANNOT_CHANGE_OWNER_TO_SELF });
          var o3 = new Aa("changeGroupOwner");
          return o3.setMessage("groupID:".concat(e4.groupID, " newOwnerID:").concat(e4.newOwnerID)), Ve2.l("".concat(n4, " groupID:").concat(e4.groupID)), this.request({ protocolName: ns2, requestData: e4 }).then(function() {
            o3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok"));
            var s4 = e4.groupID, a3 = e4.newOwnerID;
            t3.groupMap.get(s4).ownerID = a3;
            var i3 = t3.getModule(wn).getLocalGroupMemberList(s4);
            if (i3 instanceof Map) {
              var r3 = i3.get(t3.getMyUserID());
              it2(r3) || (r3.updateRole("Member"), t3.groupMap.get(s4).selfInfo.role = "Member");
              var u3 = i3.get(a3);
              it2(u3) || u3.updateRole("Owner");
            }
            return t3.emitGroupListUpdate(true, false), Ya({ group: t3.groupMap.get(s4) });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), s4 = n5[0], a3 = n5[1];
              o3.setError(e5, s4, a3).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getGroupApplicationList", value: function() {
          return this._groupSystemNoticeHandler.getGroupApplicationList();
        } }, { key: "handleGroupApplication", value: function(e4) {
          var t3, n4, o3, s4, a3, i3 = this, r3 = "".concat(this._n, ".").concat("handleGroupApplication"), u3 = e4.handleAction, c3 = e4.handleMessage, l3 = e4.message, d3 = e4.application;
          l3 ? (t3 = l3.payload.operatorID, n4 = l3.payload.groupProfile.groupID, o3 = l3.payload.authentication, s4 = l3.payload.messageKey) : d3 && (t3 = d3.applicant, n4 = d3.groupID, o3 = d3.authentication, s4 = d3.messageKey);
          var p3 = os2;
          d3 && 2 === d3.applicationType && (p3 = ss2, a3 = d3.userID);
          var g3 = new Aa("handleGroupApplication");
          return g3.setMessage("groupID:".concat(n4)), Ve2.l("".concat(r3, " groupID:").concat(n4)), this.request({ protocolName: p3, requestData: { handleAction: u3, handleMessage: c3, applicant: t3, invitee: a3, groupID: n4, authentication: o3, messageKey: s4 } }).then(function() {
            return g3.setNetworkType(i3.getNetworkType()).end(), Ve2.l("".concat(r3, " ok")), l3 && i3._groupSystemNoticeHandler.deleteGroupSystemNotice({ messageList: [e4.message] }), Ya({ group: i3.getLocalGroupProfile(n4) });
          }).catch(function(e5) {
            return i3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              g3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(r3, " failed. error"), e5), Za(e5);
          });
        } }, { key: "handleGroupInvitation", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("handleGroupInvitation"), s4 = e4.message.payload, a3 = s4.groupProfile.groupID, i3 = s4.authentication, r3 = s4.messageKey, u3 = s4.operatorID, c3 = e4.handleAction, l3 = new Aa("handleGroupInvitation");
          return l3.setMessage("groupID:".concat(a3, " inviter:").concat(u3, " handleAction:").concat(c3)), Ve2.l("".concat(o3, " groupID:").concat(a3, " inviter:").concat(u3, " handleAction:").concat(c3)), this.request({ protocolName: as2, requestData: t2(t2({}, e4), {}, { inviter: u3, groupID: a3, authentication: i3, messageKey: r3 }) }).then(function() {
            return l3.setNetworkType(n4.getNetworkType()).end(), Ve2.l("".concat(o3, " ok")), n4._groupSystemNoticeHandler.deleteGroupSystemNotice({ messageList: [e4.message] }), Ya({ group: n4.getLocalGroupProfile(a3) });
          }).catch(function(e5) {
            return n4.probeNetwork().then(function(t3) {
              var n5 = v2(t3, 2), o4 = n5[0], s5 = n5[1];
              l3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(o3, " failed. error"), e5), Za(e5);
          });
        } }, { key: "getGroupOnlineMemberCount", value: function(e4) {
          return this._AVChatRoomHandler ? this._AVChatRoomHandler.checkJoinedAVChatRoomByID(e4) ? this._AVChatRoomHandler.getGroupOnlineMemberCount(e4) : Xa({ memberCount: 0 }) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "hasLocalGroup", value: function(e4) {
          return this.groupMap.has(e4);
        } }, { key: "deleteLocalGroupAndConversation", value: function(e4) {
          var t3 = this.checkJoinedAVChatRoomByID(e4);
          (Ve2.l("".concat(this._n, ".deleteLocalGroupAndConversation isJoinedAVChatRoom:").concat(t3)), t3) && this.getModule(qn).deleteLocalConversation("".concat(E2.CONV_GROUP).concat(e4));
          if (Dt2({ groupID: e4 })) {
            var n4 = this.getLocalGroupProfile(e4);
            if (n4 && true === n4.isSupportTopic)
              this.getModule(Fn).deleteTopicListInCommunity(e4);
          }
          this._deleteLocalGroup(e4), this.emitGroupListUpdate(true, false);
        } }, { key: "_deleteLocalGroup", value: function(e4) {
          this.groupMap.delete(e4), this.getModule(wn).deleteGroupMemberList(e4), this._setStorageGroupList();
        } }, { key: "sendMessage", value: function(e4, t3) {
          if (at2(e4._receiverList) && e4._receiverList.length > 0 && !this.canIUse(B2.MSG_TO_SPECIFIED_GRP_MBR))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n4 = this.createGroupMessagePack(e4, t3);
          return this.request(n4);
        } }, { key: "createGroupMessagePack", value: function(e4, t3) {
          var n4 = null;
          t3 && t3.offlinePushInfo && (n4 = t3.offlinePushInfo);
          var o3 = "";
          nt2(e4.cloudCustomData) && e4.cloudCustomData.length > 0 && (o3 = e4.cloudCustomData);
          var s4 = [];
          if (st2(t3) && st2(t3.messageControlInfo)) {
            var a3 = t3.messageControlInfo, i3 = a3.excludedFromUnreadCount, r3 = a3.excludedFromLastMessage, u3 = a3.excludedFromContentModeration;
            true === i3 && s4.push("NoUnread"), true === r3 && s4.push("NoLastMsg"), true === u3 && s4.push("NoMsgCheck");
          }
          var c3 = void 0;
          at2(e4._receiverList) && e4._receiverList.length > 0 && (c3 = e4._receiverList, e4._receiverList.length > 50 && (c3 = e4._receiverList.slice(0, 50), this.outputWarning("ReceiverListLimit")));
          var l3 = this.isOnlineMessage(e4, t3) ? 1 : 0, d3 = e4.getGroupAtInfoList(), p3 = { fromAccount: this.getMyUserID(), groupID: e4.to, msgBody: e4.getElements(), cloudCustomData: o3, random: e4.random, priority: e4.priority, clientSequence: e4.clientSequence, groupAtInfo: e4.type !== E2.MSG_TEXT || zt2(d3) ? void 0 : d3, onlineOnlyFlag: l3, clientTime: e4.clientTime, offlinePushInfo: n4 ? { pushFlag: true === n4.disablePush ? 1 : 0, title: n4.title || "", desc: n4.description || "", ext: n4.extension || "", apnsInfo: { badgeMode: true === n4.ignoreIOSBadge ? 1 : 0, isVoipPush: this._isVoipPush(n4) }, androidInfo: { OPPOChannelID: n4.androidOPPOChannelID || "" } } : void 0, messageControlInfo: 0 === l3 ? s4 : void 0, needReadReceipt: true !== e4.needReadReceipt || this.isMessageFromOrToAVChatroom(e4.to) ? 0 : 1, receiverList: c3, isSupportExtension: true === e4.isSupportExtension ? 1 : 0 };
          return kt2(e4.to) && (p3.groupID = xt2(e4.to), p3.topicID = e4.to), { protocolName: vo, tjgID: this.generateTjgID(e4), requestData: p3 };
        } }, { key: "_isVoipPush", value: function(e4) {
          var t3 = void 0;
          return it2(e4.disableVoipPush) || (t3 = false === e4.disableVoipPush ? 1 : 0), t3;
        } }, { key: "revokeMessage", value: function(e4) {
          var t3 = { groupID: e4.to, msgSeqList: [{ msgSeq: e4.sequence }] };
          return kt2(e4.to) && (t3.groupID = xt2(e4.to), t3.topicID = e4.to), this.request({ protocolName: is2, requestData: t3 });
        } }, { key: "deleteMessage", value: function(e4) {
          var t3 = e4.to, n4 = e4.keyList;
          Ve2.l("".concat(this._n, ".deleteMessage groupID:").concat(t3, " count:").concat(n4.length));
          var o3 = { groupID: t3, deleter: this.getMyUserID(), keyList: n4 };
          return kt2(t3) && (o3.groupID = xt2(t3), o3.topicID = t3), this.request({ protocolName: Ms2, requestData: o3 });
        } }, { key: "modifyRemoteMessage", value: function(e4) {
          var t3 = e4.to, n4 = e4.sequence, o3 = e4.payload, s4 = e4.type, a3 = e4.version, i3 = void 0 === a3 ? 0 : a3, r3 = e4.cloudCustomData, u3 = t3, c3 = void 0;
          kt2(t3) && (u3 = xt2(t3), c3 = t3);
          var l3 = void 0;
          return Bt2(s4) && (l3 = []).push({ type: s4, content: o3 }), this.request({ protocolName: ys2, requestData: { groupID: u3, topicID: c3, sequence: n4, version: i3, elements: l3, cloudCustomData: r3 } });
        } }, { key: "getRoamingMessage", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".getRoamingMessage"), o3 = e4.conversationID, s4 = e4.groupID, a3 = e4.sequence, i3 = new Aa("getGroupRoamingMessages"), r3 = 0, u3 = void 0;
          return kt2(s4) && (s4 = xt2(u3 = s4)), this._computeLastSequence({ groupID: s4, topicID: u3, sequence: a3 }).then(function(e5) {
            return r3 = e5, Ve2.l("".concat(n4, " groupID:").concat(s4, " startSequence:").concat(r3)), t3.request({ protocolName: cs2, requestData: { groupID: s4, count: 21, sequence: r3, topicID: u3 } });
          }).then(function(e5) {
            var a4 = e5.data, c3 = a4.messageList, l3 = a4.complete, d3 = a4.invisibleSequenceList, p3 = void 0 === d3 ? [] : d3;
            it2(c3) ? Ve2.l("".concat(n4, " ok. complete:").concat(l3, " but messageList is undefined!")) : Ve2.l("".concat(n4, " ok. complete:").concat(l3, " count:").concat(c3.length));
            var g3 = t3._getMinSequence(p3, c3) - 1;
            i3.setNetworkType(t3.getNetworkType()).setMessage("groupID:".concat(s4, " topicID:").concat(u3, " startSequence:").concat(r3, " complete:").concat(l3, " nextSequence:").concat(g3)).end();
            var h3 = t3.getModule(qn), _3 = [];
            return zt2(c3) || (h3.updateRoamingMessageSequence(o3, g3), _3 = h3.onRoamingMessage(c3, o3), h3.updateIsRead(o3), h3.patchConversationLastMessage(o3)), (2 === l3 || g3 <= 1) && (h3.setCompleted(o3), g3 = ""), Ve2.l("".concat(n4, " nextReqID:").concat(g3, ", stored message count:").concat(_3.length, ", invisible sequence count:").concat(p3.length)), { nextReqID: g3 + "", storedMessageList: _3 };
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], a4 = n5[1];
              i3.setError(e5, o4, a4).setMessage("groupID:".concat(s4, " topicID:").concat(u3, " startSequence:").concat(r3)).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_getGroupIDOfMessage", value: function(e4) {
          return e4.conversationID.replace(E2.CONV_GROUP, "");
        } }, { key: "_getMinSequence", value: function(e4, t3) {
          var n4 = 0;
          zt2(t3) || (n4 = t3[t3.length - 1].sequence);
          var o3 = 0;
          zt2(e4) || (o3 = e4[e4.length - 1]);
          return Ve2.l("".concat(this._n, "._getMinSequence minVisibleSequence:").concat(n4, " minInvisibleSequence:").concat(o3)), o3 > 0 && o3 < n4 ? o3 : n4;
        } }, { key: "getReadReceiptList", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("getReadReceiptList"), o3 = this._getGroupIDOfMessage(e4[0]), s4 = this.getMyUserID(), a3 = e4.filter(function(e5) {
            return e5.from === s4 && true === e5.needReadReceipt;
          }).map(function(e5) {
            return { sequence: e5.sequence };
          });
          if (Ve2.l("".concat(n4, " groupID:").concat(o3, " sequenceList:").concat(JSON.stringify(a3))), 0 === a3.length)
            return Xa({ messageList: e4 });
          var i3 = new Aa("getReadReceiptList");
          return i3.setMessage("groupID:".concat(o3)), this.request({ protocolName: ls2, requestData: { groupID: o3, sequenceList: a3 } }).then(function(t4) {
            i3.end(), Ve2.l("".concat(n4, " ok"));
            var o4 = t4.data.readReceiptList;
            return at2(o4) && o4.forEach(function(t5) {
              e4.forEach(function(e5) {
                0 === t5.code && t5.sequence === e5.sequence && (e5.readReceiptInfo.readCount = t5.readCount, e5.readReceiptInfo.unreadCount = t5.unreadCount);
              });
            }), Ya({ messageList: e4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "sendReadReceipt", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("sendReadReceipt"), o3 = this._getGroupIDOfMessage(e4[0]), s4 = new Aa("sendReadReceipt");
          s4.setMessage("groupID:".concat(o3));
          var a3 = this.getMyUserID(), i3 = e4.filter(function(e5) {
            return e5.from !== a3 && true === e5.needReadReceipt;
          }).map(function(e5) {
            return { sequence: e5.sequence };
          });
          return 0 === i3.length ? Za({ code: ha.READ_RECEIPT_MESSAGE_LIST_EMPTY }) : (Ve2.l("".concat(n4, ". sequenceList:").concat(JSON.stringify(i3))), this.request({ protocolName: ds2, requestData: { groupID: o3, sequenceList: i3 } }).then(function(e5) {
            return s4.end(), Ve2.l("".concat(n4, " ok")), Ya();
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], a4 = n5[1];
              s4.setError(e5, o4, a4).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          }));
        } }, { key: "getReadReceiptDetail", value: function(e4) {
          var t3 = this, n4 = e4.message, o3 = e4.filter, s4 = e4.cursor, a3 = e4.count, i3 = this._getGroupIDOfMessage(n4), r3 = n4.ID, u3 = n4.sequence, c3 = "".concat(this._n, ".").concat("getReadReceiptDetail"), l3 = this._receiptDetailCompleteMap.get(r3) || false, d3 = 0 !== o3 && 1 !== o3 ? 0 : o3, p3 = nt2(s4) ? s4 : "", g3 = !et2(a3) || a3 <= 0 || a3 >= 100 ? 100 : a3, h3 = "groupID:".concat(i3, " sequence:").concat(u3, " cursor:").concat(p3, " filter:").concat(d3, " completeFlag:").concat(l3);
          Ve2.l("".concat(c3, " ").concat(h3));
          var _3 = { cursor: "", isCompleted: false, messageID: r3, unreadUserIDList: [], readUserIDList: [] }, f3 = new Aa("getReadReceiptDetail");
          return f3.setMessage(h3), this.request({ protocolName: gs2, requestData: { groupID: i3, sequence: u3, flag: d3, cursor: p3, count: g3 } }).then(function(e5) {
            f3.end();
            var n5 = e5.data, o4 = n5.cursor, s5 = n5.isCompleted, a4 = n5.unreadUserIDList, i4 = n5.readUserIDList;
            return _3.cursor = o4, 1 === s5 && (_3.isCompleted = true, t3._receiptDetailCompleteMap.set(r3, true)), 0 === d3 ? _3.readUserIDList = i4.map(function(e6) {
              return e6.userID;
            }) : 1 === d3 && (_3.unreadUserIDList = a4.map(function(e6) {
              return e6.userID;
            })), Ve2.l("".concat(c3, " ok")), Ya(_3);
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              f3.setError(e5, o4, s5).end();
            }), Ve2.w("".concat(c3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getRoamingMessagesHopping", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".getRoamingMessagesHopping"), o3 = new Aa("getGroupRoamingMessagesHopping"), s4 = e4.groupID, a3 = e4.count, i3 = e4.sequence, r3 = e4.direction, u3 = i3;
          1 === r3 && (u3 = i3 + a3 - 1);
          var c3 = void 0;
          kt2(s4) && (s4 = xt2(c3 = s4));
          var l3 = "".concat(c3 ? "topicID:".concat(c3) : "groupID:".concat(s4), " sequence:").concat(i3, " direction:").concat(r3);
          return Ve2.l("".concat(n4, " ").concat(l3)), this.request({ protocolName: cs2, requestData: { groupID: s4, topicID: c3, count: a3, sequence: u3 } }).then(function(s5) {
            var a4 = s5.data, u4 = a4.messageList, c4 = a4.complete, d3 = "complete:".concat(c4, " count:").concat(u4 ? u4.length : 0);
            if (Ve2.l("".concat(n4, " ok. ").concat(d3)), o3.setNetworkType(t3.getNetworkType()).setMessage("".concat(l3, " ").concat(d3)).end(), 2 === c4 || zt2(u4)) {
              var p3 = t3._computeResult();
              return Ya(p3);
            }
            var g3 = "".concat(E2.CONV_GROUP).concat(e4.groupID), h3 = t3.getModule(qn).onRoamingMessage(u4, g3, false), _3 = t3._computeResult({ direction: r3, sequence: i3, remoteMessageList: u4, processedMessageList: h3 });
            return Ya(_3);
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), r4 = n5[0], u4 = n5[1];
              o3.setError(e5, r4, u4).setMessage("groupID:".concat(s4, " sequence:").concat(i3, " count:").concat(a3)).end();
            }), Ve2.w("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_computeResult", value: function(e4) {
          var t3 = { messageList: [], isCompleted: false, nextMessageSeq: "" };
          if (it2(e4))
            return t3.isCompleted = true, t3;
          var n4 = e4.direction, o3 = e4.sequence, s4 = e4.remoteMessageList, a3 = void 0 === s4 ? [] : s4, i3 = e4.processedMessageList, r3 = void 0 === i3 ? [] : i3, u3 = a3.length;
          return 1 === n4 ? (t3.nextMessageSeq = a3[0].sequence + 1, r3.forEach(function(e5) {
            e5.sequence >= o3 && t3.messageList.push(e5);
          }), 0 === t3.messageList.length && a3[0].sequence < o3 && (t3.isCompleted = true, t3.nextMessageSeq = ""), t3) : (t3.nextMessageSeq = a3[u3 - 1].sequence - 1, t3.messageList = m2(r3), 0 === t3.nextMessageSeq && (t3.isCompleted = true, t3.nextMessageSeq = ""), t3);
        } }, { key: "setMessageRead", value: function(e4) {
          var t3 = this, n4 = e4.conversationID, o3 = e4.lastMessageSeq, s4 = "".concat(this._n, ".setMessageRead");
          Ve2.l("".concat(s4, " conversationID:").concat(n4, " lastMessageSeq:").concat(o3)), et2(o3) || this.outputWarning("DoNotModifyLastSeq");
          var a3 = new Aa("setGroupMessageRead");
          a3.setMessage("".concat(n4, "-").concat(o3));
          var i3 = n4.replace(E2.CONV_GROUP, ""), r3 = void 0;
          return kt2(i3) && (i3 = xt2(r3 = i3)), this.request({ protocolName: rs2, requestData: { groupID: i3, topicID: r3, messageReadSeq: o3 } }).then(function() {
            a3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(s4, " ok."));
            var e5 = t3.getModule(qn);
            e5.updateIsReadAfterReadReport({ conversationID: n4, lastMessageSeq: o3 });
            var u3 = true;
            if (!it2(r3)) {
              u3 = false;
              var c3 = t3.getModule(Fn).getLocalTopic(i3, r3);
              c3 && c3.updateSelfInfo({ readedSequence: o3 });
            }
            return e5.updateUnreadCount(n4, u3), Ya();
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              a3.setError(e5, o4, s5).end();
            }), Ve2.l("".concat(s4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_computeLastSequence", value: function(e4) {
          var t3 = e4.groupID, n4 = e4.topicID, o3 = void 0 === n4 ? void 0 : n4, s4 = e4.sequence;
          return s4 > 0 ? Promise.resolve(s4) : it2(o3) || this.hasLocalGroup(t3) ? it2(o3) ? this.getGroupLastSequence(t3) : this.getTopicLastSequence({ groupID: t3, topicID: o3 }) : Promise.resolve(0);
        } }, { key: "getGroupLastSequence", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("getGroupLastSequence"), o3 = new Aa("getGroupLastSequence"), s4 = 0, a3 = "";
          if (this.hasLocalGroup(e4)) {
            var i3 = this.getLocalGroupProfile(e4), r3 = i3.lastMessage;
            if (r3.lastSequence > 0 && false === r3.onlineOnlyFlag)
              return s4 = r3.lastSequence, a3 = "got lastSequence:".concat(s4, " from local group profile[lastMessage.lastSequence]. groupID:").concat(e4), Ve2.l("".concat(n4, " ").concat(a3)), o3.setNetworkType(this.getNetworkType()).setMessage("".concat(a3)).end(), Promise.resolve(s4);
            if (i3.nextMessageSeq > 1)
              return s4 = i3.nextMessageSeq - 1, a3 = "got lastSequence:".concat(s4, " from local group profile[nextMessageSeq]. groupID:").concat(e4), Ve2.l("".concat(n4, " ").concat(a3)), o3.setNetworkType(this.getNetworkType()).setMessage("".concat(a3)).end(), Promise.resolve(s4);
          }
          var u3 = "GROUP".concat(e4), c3 = this.getModule(qn).getLocalConversation(u3);
          if (c3 && c3.lastMessage.lastSequence && false === c3.lastMessage.onlineOnlyFlag)
            return s4 = c3.lastMessage.lastSequence, a3 = "got lastSequence:".concat(s4, " from local conversation profile[lastMessage.lastSequence]. groupID:").concat(e4), Ve2.l("".concat(n4, " ").concat(a3)), o3.setNetworkType(this.getNetworkType()).setMessage("".concat(a3)).end(), Promise.resolve(s4);
          var l3 = { groupIDList: [e4], responseFilter: { groupBaseInfoFilter: ["NextMsgSeq"] } };
          return this.getGroupProfileAdvance(l3).then(function(i4) {
            var r4 = i4.data.successGroupList;
            return zt2(r4) ? Ve2.l("".concat(n4, " successGroupList is empty. groupID:").concat(e4)) : (s4 = r4[0].nextMessageSeq - 1, a3 = "got lastSequence:".concat(s4, " from getGroupProfileAdvance. groupID:").concat(e4), Ve2.l("".concat(n4, " ").concat(a3))), o3.setNetworkType(t3.getNetworkType()).setMessage("".concat(a3)).end(), s4;
          }).catch(function(s5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), a4 = n5[0], i4 = n5[1];
              o3.setError(s5, a4, i4).setMessage("get lastSequence failed from getGroupProfileAdvance. groupID:".concat(e4)).end();
            }), Ve2.w("".concat(n4, " failed. error:"), s5), Za(s5);
          });
        } }, { key: "getTopicLastSequence", value: function(e4) {
          var t3 = this, n4 = e4.groupID, o3 = e4.topicID, s4 = "".concat(this._n, ".").concat("getTopicLastSequence"), a3 = new Aa("getTopicLastSequence"), i3 = 0, r3 = "", u3 = this.getModule(Fn);
          return u3.hasLocalTopic(n4, o3) ? (i3 = u3.getLocalTopic(n4, o3).nextMessageSeq - 1, r3 = "get lastSequence:".concat(i3, " from local topic info[nextMessageSeq]. topicID:").concat(o3), Ve2.l("".concat(s4, " ").concat(r3)), a3.setNetworkType(this.getNetworkType()).setMessage("".concat(r3)).end(), Promise.resolve(i3)) : u3.getTopicList({ groupID: n4, topicIDList: [o3] }).then(function(e5) {
            var n5 = e5.data.successTopicList;
            return zt2(n5) ? Ve2.l("".concat(s4, " successTopicList is empty. topicID:").concat(o3)) : (i3 = n5[0].nextMessageSeq - 1, r3 = "get lastSequence:".concat(i3, " from getTopicList. topicID:").concat(o3), Ve2.l("".concat(s4, " ").concat(r3))), a3.setNetworkType(t3.getNetworkType()).setMessage("".concat(r3)).end(), i3;
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), s5 = n5[0], i4 = n5[1];
              a3.setError(e5, s5, i4).setMessage("get lastSequence failed from getTopicList. topicID:".concat(o3)).end();
            }), Ve2.w("".concat(s4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "isMessageFromOrToAVChatroom", value: function(e4) {
          return !!this._AVChatRoomHandler && this._AVChatRoomHandler.checkJoinedAVChatRoomByID(e4);
        } }, { key: "hasJoinedAVChatRoom", value: function() {
          return this._AVChatRoomHandler ? this._AVChatRoomHandler.hasJoinedAVChatRoom() : 0;
        } }, { key: "getJoinedAVChatRoom", value: function() {
          return this._AVChatRoomHandler ? this._AVChatRoomHandler.getJoinedAVChatRoom() : [];
        } }, { key: "isOnlineMessage", value: function(e4, t3) {
          return !(!this._canIUseOnlineOnlyFlag(e4) || !t3 || true !== t3.onlineUserOnly);
        } }, { key: "_canIUseOnlineOnlyFlag", value: function(e4) {
          var t3 = this.getJoinedAVChatRoom();
          return !t3 || !t3.includes(e4.to) || e4.conversationType !== E2.CONV_GROUP;
        } }, { key: "_onAVChatRoomHistoryMessage", value: function(e4) {
          if (!zt2(e4)) {
            Ve2.l("".concat(this._n, "._onAVChatRoomHistoryMessage count:").concat(e4.length));
            var n4 = [];
            e4.forEach(function(e5) {
              n4.push(t2(t2({}, e5), {}, { isHistoryMessage: 1 }));
            }), this.onAVChatRoomMessage(n4);
          }
        } }, { key: "onAVChatRoomMessage", value: function(e4) {
          this._AVChatRoomHandler && this._AVChatRoomHandler.onMessage(e4);
        } }, { key: "onAVChatRoomMemberBanned", value: function(e4) {
          this._AVChatRoomHandler && this._AVChatRoomHandler.onAVChatRoomMemberBanned(e4);
        } }, { key: "getGroupSimplifiedInfo", value: function(e4) {
          var t3 = this, n4 = new Aa("getGroupSimplifiedInfo"), o3 = { groupIDList: [e4], responseFilter: { groupBaseInfoFilter: ["Type", "Name"] } };
          return this.getGroupProfileAdvance(o3).then(function(o4) {
            var s4 = o4.data.successGroupList;
            return n4.setNetworkType(t3.getNetworkType()).setMessage("groupID:".concat(e4, " type:").concat(s4[0].type)).end(), s4[0];
          }).catch(function(o4) {
            t3.probeNetwork().then(function(t4) {
              var s4 = v2(t4, 2), a3 = s4[0], i3 = s4[1];
              n4.setError(o4, a3, i3).setMessage("groupID:".concat(e4)).end();
            });
          });
        } }, { key: "setUnjoinedAVChatRoom", value: function(e4) {
          this._unjoinedAVChatRoomList.set(e4, 1);
        } }, { key: "deleteUnjoinedAVChatRoom", value: function(e4) {
          this._unjoinedAVChatRoomList.has(e4) && this._unjoinedAVChatRoomList.delete(e4);
        } }, { key: "isUnjoinedAVChatRoom", value: function(e4) {
          return this._unjoinedAVChatRoomList.has(e4);
        } }, { key: "isGroupAttributesUpdatedNotice", value: function(e4) {
          return this._groupAttributesHandler.isGroupAttributesUpdatedNotice(e4);
        } }, { key: "updateLocalMainSequenceOnReconnected", value: function() {
          this._groupAttributesHandler.updateLocalMainSequenceOnReconnected();
        } }, { key: "initGroupAttributes", value: function(e4) {
          return this._groupAttributesHandler.initGroupAttributes(e4);
        } }, { key: "setGroupAttributes", value: function(e4) {
          return this._groupAttributesHandler.setGroupAttributes(e4);
        } }, { key: "deleteGroupAttributes", value: function(e4) {
          return this._groupAttributesHandler.deleteGroupAttributes(e4);
        } }, { key: "getGroupAttributes", value: function(e4) {
          return this._groupAttributesHandler.getGroupAttributes(e4);
        } }, { key: "isMessageFromTopic", value: function(e4, t3) {
          return 2 === e4 && !zt2(t3);
        } }, { key: "isMessageFromCommunityOfTopic", value: function(e4, t3) {
          return 2 === e4 && zt2(t3);
        } }, { key: "getMessageExtensions", value: function(e4, t3) {
          return Ve2.l("".concat(this._n, ".getMessageExtensions startSequence:").concat(t3)), this.request({ protocolName: Ss2, requestData: { groupID: e4.to, messageSequence: e4.sequence, startSequence: t3 } });
        } }, { key: "modifyMessageExtensions", value: function(e4, t3) {
          var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
          return Ve2.l("".concat(this._n, ".modifyMessageExtensions operateType:").concat(n4)), this.request({ protocolName: Es2, requestData: { groupID: e4.to, messageSequence: e4.sequence, extensionList: t3, operateType: n4 } });
        } }, { key: "getGroupNotify", value: function(e4) {
          var n4 = this;
          if (this.hasLocalGroup(e4)) {
            var o3 = this.getLocalGroupProfile(e4), s4 = o3.type, a3 = o3.isSupportTopic;
            if (!Tt2(s4) && !a3) {
              var i3 = "".concat(this._n, ".getGroupNotify"), r3 = this._getGroupLastRevokedTime(e4), u3 = 1e3 * Pe2();
              Ve2.l("".concat(i3, " groupID:").concat(e4, " type:").concat(s4, " beginTime:").concat(r3, " endTime:").concat(u3)), this.request({ protocolName: Ls2, requestData: { type: Dt2({ type: s4, groupID: e4 }) ? E2.GRP_COMMUNITY : void 0, groupID: e4, beginTime: r3, endTime: u3 } }).then(function(o4) {
                var s5 = o4.data, a4 = s5.nextRevokedTime, r4 = s5.notifyList;
                Ve2.l("".concat(i3, " ok. groupID:").concat(e4, " nextRevokedTime:").concat(a4));
                var u4 = { dataList: [{ elements: { revokedInfos: [] } }] };
                at2(r4) && r4.forEach(function(n5) {
                  u4.dataList[0].elements.revokedInfos.push({ groupID: e4, sequence: n5.sequence, random: n5.random, revokerInfo: t2({}, n5.revokerInfo) });
                }), n4.onGroupMessageRevoked(u4), 0 !== a4 ? (n4._setGroupLastRevokedTime(e4, a4), n4.getGroupNotify(e4)) : n4._setGroupLastRevokedTime(e4, 1e3 * Pe2());
              }).catch(function(e5) {
                Ve2.e("".concat(i3, " failed. error:"), e5);
              });
            }
          }
        } }, { key: "_getGroupLastRevokedTime", value: function(e4) {
          return this.hasLocalGroup(e4) ? this.getLocalGroupProfile(e4)._lastRevokedTime : 0;
        } }, { key: "_setGroupLastRevokedTime", value: function(e4, t3) {
          this.hasLocalGroup(e4) && (this.getLocalGroupProfile(e4)._lastRevokedTime = t3);
        } }, { key: "isGroupCountersNotice", value: function(e4) {
          return this._groupCountersHandler.isGroupCountersNotice(e4);
        } }, { key: "setGroupCounters", value: function(e4) {
          return this._groupCountersHandler.setGroupCounters(e4);
        } }, { key: "increaseGroupCounter", value: function(e4) {
          return this._groupCountersHandler.increaseGroupCounter(e4);
        } }, { key: "decreaseGroupCounter", value: function(e4) {
          return this._groupCountersHandler.decreaseGroupCounter(e4);
        } }, { key: "getGroupCounters", value: function(e4) {
          return this._groupCountersHandler.getGroupCounters(e4);
        } }, { key: "restartPolling", value: function() {
          this._AVChatRoomHandler && this._AVChatRoomHandler.restartPolling();
        } }, { key: "getPollingTimerID", value: function(e4) {
          if (!e4)
            return -1;
          var t3 = this.getLocalGroupProfile(e4);
          return t3 && Tt2(t3.type) ? this._AVChatRoomHandler.getPollingTimerID(e4) : -1;
        } }, { key: "_canIUseJoinOption", value: function(e4) {
          return function(e5) {
            return e5 === E2.GRP_PUBLIC;
          }(e4) || Dt2({ type: e4 });
        } }, { key: "reset", value: function() {
          this.groupMap.clear(), this._unjoinedAVChatRoomList.clear(), this._receiptDetailCompleteMap.clear(), this._commonGroupHandler.reset(), this._groupSystemNoticeHandler.reset(), this._groupTipsHandler.reset(), this._groupAttributesHandler.reset(), this._groupCountersHandler.reset(), this._AVChatRoomHandler && this._AVChatRoomHandler.reset();
        } }]), s3;
      }(uo), xi = function() {
        function e3(t3) {
          o2(this, e3), this.userID = "", this.avatar = "", this.nick = "", this.role = "", this.joinTime = "", this.lastSendMsgTime = "", this.nameCard = "", this.muteUntil = 0, this.memberCustomField = [], this._initMember(t3);
        }
        return a2(e3, [{ key: "_initMember", value: function(e4) {
          this.updateMember(e4);
        } }, { key: "updateMember", value: function(e4) {
          var t3 = [null, void 0, "", 0, NaN];
          e4.memberCustomField && Ct2(this.memberCustomField, e4.memberCustomField), pt2(this, e4, ["memberCustomField", "marks"], t3);
        } }, { key: "updateRole", value: function(e4) {
          ["Owner", "Admin", "Member"].indexOf(e4) < 0 || (this.role = e4);
        } }, { key: "updateMuteUntil", value: function(e4) {
          it2(e4) || (this.muteUntil = Math.floor((Date.now() + 1e3 * e4) / 1e3));
        } }, { key: "updateNameCard", value: function(e4) {
          it2(e4) || (this.nameCard = e4);
        } }, { key: "updateMemberCustomField", value: function(e4) {
          e4 && Ct2(this.memberCustomField, e4);
        } }]), e3;
      }(), Vi = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "GroupMemberModule", t3.groupMemberListMap = /* @__PURE__ */ new Map(), t3.getInnerEmitterInstance().on(ni, t3._onProfileUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_onProfileUpdated", value: function(e4) {
          for (var t3 = this, n4 = e4.data, o3 = function(e5) {
            var o4 = n4[e5];
            t3.groupMemberListMap.forEach(function(e6) {
              e6.has(o4.userID) && e6.get(o4.userID).updateMember({ nick: o4.nick, avatar: o4.avatar });
            });
          }, s4 = 0; s4 < n4.length; s4++)
            o3(s4);
        } }, { key: "deleteGroupMemberList", value: function(e4) {
          this.groupMemberListMap.delete(e4);
        } }, { key: "getGroupMemberList", value: function(e4) {
          var t3 = this, n4 = e4.groupID, o3 = e4.offset, s4 = void 0 === o3 ? 0 : o3, a3 = e4.count, i3 = void 0 === a3 ? 15 : a3, r3 = e4.filter, u3 = void 0 === r3 ? void 0 : r3, c3 = "".concat(this._n, ".").concat("getGroupMemberList"), l3 = this.getModule(Pn), d3 = l3.hasLocalGroup(n4);
          if (Ve2.l("".concat(c3, " groupID:").concat(n4, " offset:").concat(s4, " count:").concat(i3, " hasLocalGroup:").concat(d3)), !d3)
            return Xa({ memberList: [], offset: 0 });
          if (l3.getLocalGroupProfile(n4).type === E2.GRP_AVCHATROOM) {
            if (this.canIUse(B2.AVCHATROOM_MBR_LIST))
              return this._getAVChatRoomMemberList({ groupID: n4, offset: s4, filter: u3 });
            this.outputWarning("LiveOnlineMember");
          }
          var p3 = new Aa("getGroupMemberList"), g3 = 0, h3 = { groupID: n4, limit: i3 > 100 ? 100 : i3 };
          Dt2({ groupID: n4 }) ? h3.next = "".concat(s4) : (h3.offset = s4, g3 = s4 + i3);
          var _3 = [];
          return this.request({ protocolName: Ns2, requestData: h3 }).then(function(e5) {
            var o4 = e5.data, s5 = o4.members, a4 = o4.memberNum, i4 = o4.next, r4 = void 0 === i4 ? void 0 : i4;
            if (it2(r4) || (g3 = zt2(r4) ? 0 : r4), !at2(s5) || 0 === s5.length)
              return g3 = 0, Promise.resolve([]);
            var u4 = t3.getModule(Pn);
            return u4.hasLocalGroup(n4) && (u4.getLocalGroupProfile(n4).memberNum = a4), _3 = t3._updateLocalGroupMemberMap(n4, s5), t3.getModule(Gn2).getUserProfile({ userIDList: s5.map(function(e6) {
              return e6.userID;
            }), tagList: [He2.NICK, He2.AVATAR] });
          }).then(function(e5) {
            var o4 = e5.data;
            if (!at2(o4) || 0 === o4.length)
              return Xa({ memberList: [], offset: g3 });
            var a4 = o4.map(function(e6) {
              return { userID: e6.userID, nick: e6.nick, avatar: e6.avatar };
            });
            return t3._updateLocalGroupMemberMap(n4, a4), _3.length < i3 && (g3 = 0), p3.setNetworkType(t3.getNetworkType()).setMessage("groupID:".concat(n4, " offset:").concat(s4, " count:").concat(i3)).end(), Ve2.l("".concat(c3, " ok.")), Ya({ memberList: _3, offset: g3 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              p3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(c3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_getAVChatRoomMemberList", value: function(e4) {
          var t3 = this, n4 = e4.groupID, o3 = e4.offset, s4 = e4.filter, a3 = "".concat(this._n, ".").concat("_getAVChatRoomMemberList"), i3 = new Aa("_getAVChatRoomMemberList");
          return i3.setMessage("groupID:".concat(n4, " offset:").concat(o3, " filter:").concat(s4)), this.request({ protocolName: Os2, requestData: { groupID: n4, offset: o3, filter: s4 } }).then(function(e5) {
            var o4 = e5.data, s5 = o4.memberList, r3 = void 0 === s5 ? [] : s5, u3 = o4.offset, c3 = void 0 === u3 ? 0 : u3;
            i3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(a3, " ok. member count:").concat(r3.length, ", next request timestamp:").concat(c3));
            var l3 = t3._updateLocalGroupMemberMap(n4, r3);
            return Ya({ memberList: l3, offset: c3 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(a3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getGroupMemberProfile", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("getGroupMemberProfile"), s4 = new Aa("getGroupMemberProfile");
          s4.setMessage(e4.userIDList.length > 5 ? "userIDList.length:".concat(e4.userIDList.length) : "userIDList:".concat(e4.userIDList)), Ve2.l("".concat(o3, " groupID:").concat(e4.groupID, " userIDList:").concat(e4.userIDList.join(","))), e4.userIDList.length > 50 && (e4.userIDList = e4.userIDList.slice(0, 50));
          var a3 = e4.groupID, i3 = e4.userIDList;
          return this._getGroupMemberProfileAdvance(t2(t2({}, e4), {}, { userIDList: i3 })).then(function(e5) {
            var t3 = e5.data.members;
            return at2(t3) && 0 !== t3.length ? (n4._updateLocalGroupMemberMap(a3, t3), n4.getModule(Gn2).getUserProfile({ userIDList: t3.map(function(e6) {
              return e6.userID;
            }), tagList: [He2.NICK, He2.AVATAR] })) : Xa([]);
          }).then(function(e5) {
            var t3 = e5.data.map(function(e6) {
              return { userID: e6.userID, nick: e6.nick, avatar: e6.avatar };
            });
            n4._updateLocalGroupMemberMap(a3, t3);
            var o4 = i3.filter(function(e6) {
              return n4.hasLocalGroupMember(a3, e6);
            }).map(function(e6) {
              return n4.getLocalGroupMemberInfo(a3, e6);
            });
            return s4.setNetworkType(n4.getNetworkType()).end(), Ya({ memberList: o4 });
          });
        } }, { key: "addGroupMember", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("addGroupMember"), o3 = e4.groupID, s4 = this.getModule(Pn).getLocalGroupProfile(o3), a3 = s4.type, i3 = new Aa("addGroupMember");
          if (i3.setMessage("groupID:".concat(o3, " groupType:").concat(a3)), Tt2(a3)) {
            var r3 = new ja({ code: ha.CANNOT_ADD_MEMBER_IN_AVCHATROOM });
            return i3.setError(r3, true, this.getNetworkType()).end(), Za(r3);
          }
          return e4.userIDList = e4.userIDList.map(function(e5) {
            return { userID: e5 };
          }), Ve2.l("".concat(n4, " groupID:").concat(o3)), this.request({ protocolName: Us2, requestData: e4 }).then(function(o4) {
            var a4 = o4.data.members;
            Ve2.l("".concat(n4, " ok"));
            var r4 = a4.filter(function(e5) {
              return 1 === e5.result;
            }).map(function(e5) {
              return e5.userID;
            }), u3 = a4.filter(function(e5) {
              return 0 === e5.result;
            }).map(function(e5) {
              return e5.userID;
            }), c3 = a4.filter(function(e5) {
              return 2 === e5.result;
            }).map(function(e5) {
              return e5.userID;
            }), l3 = a4.filter(function(e5) {
              return 4 === e5.result;
            }).map(function(e5) {
              return e5.userID;
            }), d3 = "groupID:".concat(e4.groupID, ", ") + "successUserIDList:".concat(r4, ", ") + "failureUserIDList:".concat(u3, ", ") + "existedUserIDList:".concat(c3, ", ") + "overLimitUserIDList:".concat(l3);
            return i3.setNetworkType(t3.getNetworkType()).setMoreMessage(d3).end(), 0 === r4.length ? Ya({ successUserIDList: r4, failureUserIDList: u3, existedUserIDList: c3, overLimitUserIDList: l3 }) : (s4.memberCount += r4.length, t3._updateConversationGroupProfile(s4), Ya({ successUserIDList: r4, failureUserIDList: u3, existedUserIDList: c3, overLimitUserIDList: l3, group: s4 }));
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "deleteGroupMember", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("deleteGroupMember"), o3 = e4.groupID, s4 = e4.userIDList, a3 = this.getModule(Pn).getLocalGroupProfile(o3);
          if (it2(a3))
            return Za({ code: ha.CANNOT_FIND_GROUP });
          if (Tt2(a3.type))
            return this.canIUse(B2.AVCHATROOM_BAN_MBR) ? this._banAVChatRoomMember(e4) : Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var i3 = new Aa("deleteGroupMember"), r3 = "groupID:".concat(o3, " ").concat(s4.length > 5 ? "userIDList.length:".concat(s4.length) : "userIDList:".concat(s4));
          return i3.setMessage(r3), Ve2.l("".concat(n4, " groupID:").concat(o3, " userIDList:"), s4), this.request({ protocolName: Ps2, requestData: e4 }).then(function() {
            return i3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), a3.memberCount -= 1, t3._updateConversationGroupProfile(a3), t3.deleteLocalGroupMembers(o3, s4), Ya({ group: a3, userIDList: s4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_updateConversationGroupProfile", value: function(e4) {
          this.getModule(qn).updateConversationGroupProfile([e4]);
        } }, { key: "_banAVChatRoomMember", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("deleteGroupMember"), o3 = e4.groupID, s4 = e4.userIDList, a3 = "groupID:".concat(o3, " ").concat(s4.length > 5 ? "userIDList.length:".concat(s4.length) : "userIDList:".concat(s4)), i3 = new Aa("deleteGroupMember");
          i3.setMessage(a3), Ve2.l("".concat(n4, " groupID:").concat(o3, " userIDList:"), s4);
          var r3 = this.getModule(Pn).getLocalGroupProfile(o3);
          return it2(e4.duration) || 0 === e4.duration ? Za({ code: ha.BAN_DURATION_INVALID }) : this.request({ protocolName: bs2, requestData: e4 }).then(function() {
            return i3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), t3.deleteLocalGroupMembers(o3, s4), Ya({ group: r3, userIDList: s4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "setGroupMemberMuteTime", value: function(e4) {
          var t3 = this, n4 = e4.groupID, o3 = e4.userID, s4 = e4.muteTime, a3 = "".concat(this._n, ".").concat("setGroupMemberMuteTime");
          if (o3 === this.getMyUserID())
            return Za(new ja({ code: ha.CANNOT_MUTE_SELF }));
          Ve2.l("".concat(a3, " groupID:").concat(n4, " userID:").concat(o3));
          var i3 = new Aa("setGroupMemberMuteTime");
          return i3.setMessage("groupID:".concat(n4, " userID:").concat(o3, " muteTime:").concat(s4)), this.modifyGroupMemberInfo({ groupID: n4, userID: o3, muteTime: s4 }).then(function(e5) {
            i3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(a3, " ok"));
            var o4 = t3.getModule(Pn);
            return Ya({ group: o4.getLocalGroupProfile(n4), member: e5 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(a3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "setGroupMemberRole", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("setGroupMemberRole"), o3 = e4.groupID, s4 = e4.userID, a3 = e4.role, i3 = this.getModule(Pn).getLocalGroupProfile(o3);
          if (i3.selfInfo.role !== E2.GRP_MBR_ROLE_OWNER)
            return Za({ code: ha.NOT_OWNER });
          if ([E2.GRP_WORK, E2.GRP_AVCHATROOM].includes(i3.type))
            return Za({ code: ha.CANNOT_SET_MEMBER_ROLE_IN_WORK_AND_AVCHATROOM });
          var r3 = [E2.GRP_MBR_ROLE_ADMIN, E2.GRP_MBR_ROLE_MEMBER];
          if (Dt2({ groupID: o3 }) && r3.push(E2.GRP_MBR_ROLE_CUSTOM), r3.indexOf(a3) < 0)
            return Za({ code: ha.INVALID_MEMBER_ROLE });
          if (s4 === this.getMyUserID())
            return Za({ code: ha.CANNOT_SET_SELF_MEMBER_ROLE });
          var u3 = new Aa("setGroupMemberRole");
          return u3.setMessage("groupID:".concat(o3, " userID:").concat(s4, " role:").concat(a3)), Ve2.l("".concat(n4, " groupID:").concat(o3, " userID:").concat(s4)), this.modifyGroupMemberInfo({ groupID: o3, userID: s4, role: a3 }).then(function(e5) {
            return u3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok")), Ya({ group: i3, member: e5 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              u3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_filterProfanity", value: function(e4, t3) {
          var n4 = this.getModule(oo);
          if (!n4)
            return true;
          var o3 = n4.filterText(t3[e4], J2), s4 = o3.isAllowedToSend, a3 = o3.modifiedText;
          return true === s4 && (t3[e4] = a3, true);
        } }, { key: "setGroupMemberNameCard", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("setGroupMemberNameCard");
          if (e4.nameCard && false === this._filterProfanity("nameCard", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var o3 = e4.groupID, s4 = e4.userID, a3 = void 0 === s4 ? this.getMyUserID() : s4, i3 = e4.nameCard;
          Ve2.l("".concat(n4, " groupID:").concat(o3, " userID:").concat(a3));
          var r3 = new Aa("setGroupMemberNameCard");
          return r3.setMessage("groupID:".concat(o3, " userID:").concat(a3, " nameCard:").concat(i3)), this.modifyGroupMemberInfo({ groupID: o3, userID: a3, nameCard: i3 }).then(function(e5) {
            Ve2.l("".concat(n4, " ok")), r3.setNetworkType(t3.getNetworkType()).end();
            var s5 = t3.getModule(Pn).getLocalGroupProfile(o3);
            return a3 === t3.getMyUserID() && s5 && s5.setSelfNameCard(i3), Ya({ group: s5, member: e5 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              r3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "setGroupMemberCustomField", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("setGroupMemberCustomField"), o3 = e4.groupID, s4 = e4.userID, a3 = void 0 === s4 ? this.getMyUserID() : s4, i3 = e4.memberCustomField;
          Ve2.l("".concat(n4, " groupID:").concat(o3, " userID:").concat(a3));
          var r3 = new Aa("setGroupMemberCustomField");
          return r3.setMessage("groupID:".concat(o3, " userID:").concat(a3, " memberCustomField:").concat(JSON.stringify(i3))), this.modifyGroupMemberInfo({ groupID: o3, userID: a3, memberCustomField: i3 }).then(function(e5) {
            r3.setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(n4, " ok"));
            var s5 = t3.getModule(Pn).getLocalGroupProfile(o3);
            return Ya({ group: s5, member: e5 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              r3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "modifyGroupMemberInfo", value: function(e4) {
          var n4 = this, o3 = e4.groupID, s4 = e4.userID, a3 = void 0;
          return kt2(o3) && (o3 = xt2(a3 = o3)), this.request({ protocolName: ws2, requestData: t2(t2({}, e4), {}, { groupID: o3, topicID: a3 }) }).then(function() {
            if (n4.hasLocalGroupMember(o3, s4)) {
              var t3 = n4.getLocalGroupMemberInfo(o3, s4);
              return it2(e4.muteTime) || t3.updateMuteUntil(e4.muteTime), it2(e4.role) || t3.updateRole(e4.role), it2(e4.nameCard) || t3.updateNameCard(e4.nameCard), it2(e4.memberCustomField) || t3.updateMemberCustomField(e4.memberCustomField), t3;
            }
            return n4.getGroupMemberProfile({ groupID: o3, userIDList: [s4] }).then(function(e5) {
              return v2(e5.data.memberList, 1)[0];
            });
          });
        } }, { key: "markGroupMemberList", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("markGroupMemberList"), o3 = e4.groupID, s4 = e4.markType, a3 = e4.enableMark, i3 = e4.userIDList, r3 = void 0 === i3 ? [] : i3, u3 = "groupID:".concat(o3, " markType:").concat(s4, " enableMark:").concat(a3, " userIDList count: ").concat(r3.length);
          Ve2.l("".concat(n4, " ").concat(u3));
          var c3 = 2, l3 = [];
          true === a3 && (c3 = 1);
          var d3 = m2(r3);
          r3.length > 500 && (d3 = r3.slice(0, 500), Ve2.w("".concat(n4, " ").concat(Wt2(500)))), d3.forEach(function(e5) {
            l3.push({ userID: e5, markType: [s4] });
          }), d3 = null;
          var p3 = new Aa("markGroupMemberList");
          return p3.setMessage("".concat(u3)), this.request({ protocolName: Fs2, requestData: { groupID: o3, operationType: c3, memberList: l3 } }).then(function(e5) {
            var o4 = e5.data.memberList, s5 = void 0 === o4 ? [] : o4, a4 = [], i4 = [];
            s5.length === r3.length ? a4.push.apply(a4, m2(r3)) : (s5.forEach(function(e6) {
              a4.push(e6.userID);
            }), r3.forEach(function(e6) {
              a4.includes(e6) || i4.push(e6);
            }));
            var u4 = "success count:".concat(a4.length, " fail count:").concat(i4.length);
            return p3.setNetworkType(t3.getNetworkType()).setMessage(u4).end(), Ve2.l("".concat(n4, " ok. ").concat(u4)), Ya({ successUserIDList: a4, failureUserIDList: i4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              p3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_getGroupMemberProfileAdvance", value: function(e4) {
          return this.request({ protocolName: Gs2, requestData: t2(t2({}, e4), {}, { memberInfoFilter: e4.memberInfoFilter ? e4.memberInfoFilter : ["Role", "JoinTime", "NameCard", "ShutUpUntil"] }) });
        } }, { key: "_updateLocalGroupMemberMap", value: function(e4, t3) {
          var n4 = this;
          return at2(t3) && 0 !== t3.length ? t3.map(function(t4) {
            return n4.hasLocalGroupMember(e4, t4.userID) ? n4.getLocalGroupMemberInfo(e4, t4.userID).updateMember(t4) : n4.setLocalGroupMember(e4, new xi(t4)), n4.getLocalGroupMemberInfo(e4, t4.userID);
          }) : [];
        } }, { key: "deleteLocalGroupMembers", value: function(e4, t3) {
          var n4 = this.groupMemberListMap.get(e4);
          n4 && t3.forEach(function(e5) {
            n4.delete(e5);
          });
        } }, { key: "getLocalGroupMemberInfo", value: function(e4, t3) {
          return this.groupMemberListMap.has(e4) ? this.groupMemberListMap.get(e4).get(t3) : null;
        } }, { key: "setLocalGroupMember", value: function(e4, t3) {
          if (this.groupMemberListMap.has(e4))
            this.groupMemberListMap.get(e4).set(t3.userID, t3);
          else {
            var n4 = (/* @__PURE__ */ new Map()).set(t3.userID, t3);
            this.groupMemberListMap.set(e4, n4);
          }
        } }, { key: "getLocalGroupMemberList", value: function(e4) {
          return this.groupMemberListMap.get(e4);
        } }, { key: "hasLocalGroupMember", value: function(e4, t3) {
          return this.groupMemberListMap.has(e4) && this.groupMemberListMap.get(e4).has(t3);
        } }, { key: "hasLocalGroupMemberMap", value: function(e4) {
          return this.groupMemberListMap.has(e4);
        } }, { key: "reset", value: function() {
          this.groupMemberListMap.clear();
        } }]), s3;
      }(uo), Bi = ["topicID", "topicName", "avatar", "introduction", "notification", "unreadCount", "muteAllMembers", "customData", "groupAtInfoList", "nextMessageSeq", "selfInfo"], Hi = function(e3, t3) {
        return zt2(e3) ? { lastTime: 0, lastSequence: 0, fromAccount: "", payload: null, type: "", messageForShow: "", nick: "", version: 0, cloudCustomData: "", isRevoked: false, revoker: null } : { lastTime: e3.time || 0, lastSequence: e3.sequence || 0, fromAccount: e3.from || "", payload: e3.payload || null, type: e3.type || "", messageForShow: Vt2(e3.type, e3.payload, t3), nick: e3.nick || "", version: e3.version || 0, cloudCustomData: e3.cloudCustomData || "", isRevoked: e3.isRevoked || false, revoker: e3.revoker || null };
      }, Ki = function() {
        function e3(t3, n3) {
          o2(this, e3), this.topicID = "", this.topicName = "", this.avatar = "", this.introduction = "", this.notification = "", this.unreadCount = 0, this.muteAllMembers = false, this.customData = "", this.groupAtInfoList = [], this.nextMessageSeq = 0, this.lastMessage = Hi(t3.lastMessage, n3), this.selfInfo = { muteTime: 0, readedSequence: 0, messageRemindType: "", excludedUnreadSequenceList: void 0 }, this._initTopic(t3);
        }
        return a2(e3, [{ key: "_initTopic", value: function(e4) {
          for (var t3 in e4)
            Bi.indexOf(t3) < 0 || ("selfInfo" === t3 ? this.updateSelfInfo(e4[t3]) : this[t3] = "muteAllMembers" === t3 ? 1 === e4[t3] : e4[t3]);
        } }, { key: "updateUnreadCount", value: function() {
          var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          this.unreadCount = e4;
        } }, { key: "updateNextMessageSeq", value: function(e4) {
          this.nextMessageSeq = e4;
        } }, { key: "updateLastMessage", value: function(e4) {
          this.lastMessage = Hi(e4);
        } }, { key: "updateGroupAtInfoList", value: function(e4) {
          this.groupAtInfoList = JSON.parse(JSON.stringify(e4));
        } }, { key: "updateTopic", value: function(e4) {
          it2(e4.selfInfo) || this.updateSelfInfo(e4.selfInfo), it2(e4.muteAllMembers) || (this.muteAllMembers = 1 === e4.muteAllMembers), pt2(this, e4, ["groupID", "lastMessageTime", "selfInfo", "muteAllMembers", "lastMsg"]);
        } }, { key: "updateSelfInfo", value: function(e4) {
          return 0 !== pt2(this.selfInfo, e4, [], [""]);
        } }, { key: "reduceUnreadCount", value: function() {
          return this.unreadCount >= 1 && (this.unreadCount -= 1, true);
        } }, { key: "isLastMessageRevoked", value: function(e4) {
          return e4.sequence === this.lastMessage.lastSequence;
        } }, { key: "setLastMessageRevoked", value: function(e4) {
          this.lastMessage.isRevoked = e4;
        } }, { key: "setLastMessageRevoker", value: function(e4) {
          this.lastMessage.revoker = e4;
        } }]), e3;
      }(), Wi = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "TopicModule", t3._topicMap = /* @__PURE__ */ new Map(), t3._getTopicTimeMap = /* @__PURE__ */ new Map(), t3.TOPIC_CACHE_TIME = 300, t3.TOPIC_LAST_ACTIVE_TIME = 3600, t3.getInnerEmitterInstance().on(ti, t3._onCloudConfigUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_onCloudConfigUpdated", value: function() {
          var e4 = this.getCloudConfig("topic_cache_time"), t3 = this.getCloudConfig("topic_last_active_time");
          it2(e4) || (this.TOPIC_CACHE_TIME = Number(e4)), it2(t3) || (this.TOPIC_LAST_ACTIVE_TIME = Number(t3));
        } }, { key: "onTopicCreated", value: function(e4) {
          var t3 = e4.groupID;
          this.resetGetTopicTime(t3), this.emitOuterEvent(k.TOPIC_CREATED, e4);
        } }, { key: "onTopicDeleted", value: function(e4) {
          var t3 = this, n4 = e4.groupID, o3 = e4.topicIDList;
          (void 0 === o3 ? [] : o3).forEach(function(e5) {
            t3._deleteLocalTopic(n4, e5);
          }), this.emitOuterEvent(k.TOPIC_DELETED, e4);
        } }, { key: "onTopicMessageRemindTypeUpdated", value: function(e4) {
          var t3 = e4.groupID, n4 = e4.topicID, o3 = e4.messageRemindType, s4 = this.getLocalTopic(t3, n4);
          if (s4) {
            var a3 = s4.updateSelfInfo({ messageRemindType: o3 });
            a3 && this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: t3, topic: s4 }), Ve2.d("".concat(this._n, ".onTopicMessageRemindTypeUpdated topicID:").concat(n4) + " messageRemindType:".concat(o3, " isTopicUpdated:").concat(a3));
          }
        } }, { key: "onTopicProfileUpdated", value: function(e4) {
          var t3 = e4.groupID, n4 = e4.topicID, o3 = this.getLocalTopic(t3, n4);
          o3 && (o3.updateTopic(e4), this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: t3, topic: o3 }));
        } }, { key: "onConversationProxy", value: function(e4) {
          var t3 = e4.topicID, n4 = e4.unreadCount, o3 = e4.groupAtInfoList, s4 = xt2(t3), a3 = this.getLocalTopic(s4, t3), i3 = false;
          a3 && (it2(n4) || a3.unreadCount === n4 || (a3.updateUnreadCount(n4), i3 = true), it2(o3) || (a3.updateGroupAtInfoList(o3), i3 = true)), i3 && this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: s4, topic: a3 });
        } }, { key: "onMessageSent", value: function(e4) {
          var t3 = e4.groupID, n4 = e4.topicID, o3 = e4.lastMessage, s4 = this.getLocalTopic(t3, n4);
          s4 && (s4.nextMessageSeq += 1, s4.updateLastMessage(o3), this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: t3, topic: s4 }));
        } }, { key: "onMessageModified", value: function(e4) {
          var t3 = e4.to, n4 = e4.time, o3 = e4.sequence, s4 = e4.elements, a3 = e4.cloudCustomData, i3 = e4.messageVersion, r3 = xt2(t3), u3 = this.getLocalTopic(r3, t3);
          if (u3) {
            var c3 = u3.lastMessage;
            Ve2.d("".concat(this._n, ".onMessageModified topicID:").concat(t3, " lastMessage:"), JSON.stringify(c3), "options:", JSON.stringify(e4)), c3 && (null === c3.payload || c3.lastTime === n4 && c3.lastSequence === o3 && c3.version !== i3) && (c3.type = s4[0].type, c3.payload = s4[0].content, c3.messageForShow = Vt2(c3.type, c3.payload, this.isIntl()), c3.cloudCustomData = a3, c3.version = i3, c3.lastSequence = o3, c3.lastTime = n4, this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: r3, topic: u3 }));
          }
        } }, { key: "onMessageRevoked", value: function(e4) {
          var t3 = this;
          if (0 !== e4.length) {
            var n4 = null, o3 = null, s4 = false;
            e4.forEach(function(e5) {
              var a3 = e5.to;
              o3 = xt2(a3), (n4 = t3.getLocalTopic(o3, a3)) && (n4.reduceUnreadCount() && (s4 = true), n4.isLastMessageRevoked(e5) && (n4.setLastMessageRevoked(true), n4.setLastMessageRevoker(e5.revoker), s4 = true));
            }), s4 && this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: o3, topic: n4 });
          }
        } }, { key: "isLastMessageRevoked", value: function(e4) {
          var t3 = e4.topicID, n4 = e4.sequence, o3 = xt2(t3), s4 = this.getLocalTopic(o3, t3), a3 = false;
          return s4 && (a3 = s4.isLastMessageRevoked({ sequence: n4 })), a3;
        } }, { key: "getJoinedCommunityList", value: function() {
          return this.getModule(Pn).getGroupList({ isGroupWithTopicOnly: true }).then(function(e4) {
            var t3 = e4.data.groupList;
            return Ya({ groupList: void 0 === t3 ? [] : t3 });
          }).catch(function(e4) {
            return Za(e4);
          });
        } }, { key: "createTopicInCommunity", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("createTopicInCommunity"), s4 = e4.topicID;
          if (!it2(s4) && !kt2(s4))
            return Za({ code: ha.ILLEGAL_TOPIC_ID });
          if (e4.topicName && false === this._filterProfanity("topicName", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.introduction && false === this._filterProfanity("introduction", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.notification && false === this._filterProfanity("notification", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var a3 = new Aa("createTopicInCommunity");
          return this.request({ protocolName: ta, requestData: t2({}, e4) }).then(function(s5) {
            var i3 = s5.data.topicID;
            return a3.setMessage("topicID:".concat(i3)).setNetworkType(n4.getNetworkType()).end(), Ve2.l("".concat(o3, " ok")), n4._updateTopicMap([t2(t2({}, e4), {}, { topicID: i3 })]), Ya({ topicID: i3 });
          }).catch(function(e5) {
            return n4.probeNetwork().then(function(t3) {
              var n5 = v2(t3, 2), o4 = n5[0], s5 = n5[1];
              a3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "deleteTopicFromCommunity", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("deleteTopicFromCommunity"), o3 = e4.groupID, s4 = e4.topicIDList, a3 = void 0 === s4 ? [] : s4, i3 = new Aa("deleteTopicFromCommunity");
          return i3.setMessage("groupID:".concat(o3, " topicIDList:").concat(a3)), this.request({ protocolName: na, requestData: { groupID: o3, topicIDList: a3 } }).then(function(e5) {
            var n5 = e5.data.resultList, s5 = [], a4 = [];
            (void 0 === n5 ? [] : n5).forEach(function(e6) {
              var t4 = e6.topicID, n6 = e6.errorCode, o4 = e6.errorInfo;
              0 === n6 ? s5.push({ topicID: t4 }) : a4.push({ topicID: t4, code: n6, message: o4 });
            });
            var r3 = "success count:".concat(s5.length, ", fail count:").concat(a4.length);
            return i3.setMoreMessage("".concat(r3)).setNetworkType(t3.getNetworkType()).end(), Ve2.l("".concat(r3)), s5.forEach(function(e6) {
              t3._deleteLocalTopic(o3, e6.topicID);
            }), Ya({ successTopicList: s5, failureTopicList: a4 });
          }).catch(function(e5) {
            return t3.probeNetwork().then(function(t4) {
              var n5 = v2(t4, 2), o4 = n5[0], s5 = n5[1];
              i3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "updateTopicProfile", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("updateTopicProfile");
          if (Ve2.l("".concat(o3, " options:"), e4), e4.topicName && false === this._filterProfanity("topicName", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.introduction && false === this._filterProfanity("introduction", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.notification && false === this._filterProfanity("notification", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var s4 = new Aa("updateTopicProfile");
          return s4.setMessage("groupID:".concat(e4.groupID, " topicID:").concat(e4.topicID)), it2(e4.muteAllMembers) || (e4.muteAllMembers = true === e4.muteAllMembers ? "On" : "Off"), this.request({ protocolName: oa, requestData: t2({}, e4) }).then(function() {
            return s4.setNetworkType(n4.getNetworkType()).end(), Ve2.l("".concat(o3, " ok")), n4._updateTopicMap([e4]), Ya({ topic: n4.getLocalTopic(e4.groupID, e4.topicID) });
          }).catch(function(e5) {
            return n4.probeNetwork().then(function(t3) {
              var n5 = v2(t3, 2), o4 = n5[0], a3 = n5[1];
              s4.setError(e5, o4, a3).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getTopicList", value: function(e4) {
          var n4 = this, o3 = "".concat(this._n, ".").concat("getTopicList"), s4 = e4.groupID, a3 = e4.topicIDList, i3 = void 0 === a3 ? [] : a3, r3 = 0 === i3.length, u3 = new Aa("getTopicList");
          if (u3.setMessage("groupID:".concat(s4)), this._getTopicTimeMap.has(s4)) {
            var c3 = this._getTopicTimeMap.get(s4), l3 = c3.isGetAll, d3 = c3.time;
            if ((l3 || !l3 && !r3) && Date.now() - d3 < 1e3 * this.TOPIC_CACHE_TIME) {
              var p3 = this._getLocalTopicList(s4, i3);
              if (r3 || p3.length === i3.length)
                return u3.setNetworkType(this.getNetworkType()).setMoreMessage("from cache, topic count:".concat(p3.length)).end(), Ve2.l("".concat(o3, " groupID:").concat(s4, " from cache, topic count:").concat(p3.length)), Xa({ successTopicList: p3, failureTopicList: [] });
            }
          }
          return this.request({ protocolName: sa, requestData: { groupID: s4, topicIDList: i3 } }).then(function(e5) {
            var a4 = e5.data.topicInfoList, i4 = [], c4 = [], l4 = [];
            (void 0 === a4 ? [] : a4).forEach(function(e6) {
              var n5 = e6.topic, o4 = e6.selfInfo, s5 = e6.errorCode, a5 = e6.errorInfo, r4 = n5.topicID;
              0 === s5 ? (i4.push(t2(t2({}, n5), {}, { selfInfo: o4 })), c4.push(r4)) : l4.push({ topicID: r4, code: s5, message: a5 });
            }), n4._updateTopicMap(i4), n4._handleTopicAtInfo(i4);
            var d4 = "success count:".concat(c4.length, ", fail count:").concat(l4.length);
            u3.setNetworkType(n4.getNetworkType()).setMoreMessage("".concat(d4)).end(), Ve2.l("".concat(o3, " groupID:").concat(s4, " from remote, ").concat(d4));
            var p4 = [];
            return zt2(c4) || (n4._getTopicTimeMap.set(s4, { time: Date.now(), isGetAll: r3 }), p4 = n4._getLocalTopicList(s4, c4)), Ya({ successTopicList: p4, failureTopicList: l4 });
          }).catch(function(e5) {
            return n4.probeNetwork(e5).then(function(t3) {
              var n5 = v2(t3, 2), o4 = n5[0], s5 = n5[1];
              u3.setError(e5, o4, s5).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "hasLocalTopic", value: function(e4, t3) {
          return !!this._topicMap.has(e4) && this._topicMap.get(e4).has(t3);
        } }, { key: "getLocalTopic", value: function(e4, t3) {
          var n4 = null;
          return this._topicMap.has(e4) && (n4 = this._topicMap.get(e4).get(t3)), n4;
        } }, { key: "_getLocalTopicList", value: function(e4) {
          var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n4 = this._topicMap.get(e4), o3 = [];
          return n4 && (o3 = m2(n4.values())), 0 === t3.length ? o3 : o3.filter(function(e5) {
            return t3.includes(e5.topicID);
          });
        } }, { key: "_deleteLocalTopic", value: function(e4, t3) {
          this._topicMap.has(e4) && (this._topicMap.get(e4).delete(t3), Ve2.l("".concat(this._n, "._deleteLocalTopic groupID:").concat(e4, " topicID:").concat(t3)));
        } }, { key: "_updateTopicMap", value: function(e4) {
          var t3 = this, n4 = [];
          (e4.forEach(function(e5) {
            var o3 = e5.groupID, s4 = e5.topicID, a3 = null;
            t3._topicMap.has(o3) || t3._topicMap.set(o3, /* @__PURE__ */ new Map()), t3._topicMap.get(o3).has(s4) ? (a3 = t3._topicMap.get(o3).get(s4)).updateTopic(e5) : (t3._getTopicLastMessage(e5), a3 = new Ki(e5, t3.isIntl()), t3._topicMap.get(o3).set(s4, a3));
            var i3 = t3._computeUnreadCount(a3);
            a3.updateUnreadCount(i3), n4.push({ conversationID: "".concat(E2.CONV_GROUP).concat(s4), type: E2.CONV_TOPIC, unreadCount: i3 });
          }), n4.length > 0) && this.getModule(qn).updateTopicConversation(n4);
        } }, { key: "resetGetTopicTime", value: function(e4) {
          var t3 = this;
          it2(e4) ? m2(this._getTopicTimeMap.keys()).forEach(function(e5) {
            t3._getTopicTimeMap.set(e5, 0);
          }) : this._getTopicTimeMap.set(e4, 0);
        } }, { key: "getTopicListOnReconnected", value: function() {
          var e4 = this, t3 = m2(this._topicMap.keys()), n4 = [];
          t3.forEach(function(t4) {
            var o3 = [];
            e4._getLocalTopicList(t4).forEach(function(t5) {
              var n5 = t5.lastMessage.lastTime, s4 = void 0 === n5 ? 0 : n5;
              Date.now() - 1e3 * s4 < 1e3 * e4.TOPIC_LAST_ACTIVE_TIME && o3.push(t5.topicID);
            }), o3.length > 0 && n4.push({ groupID: t4, topicIDList: o3 });
          }), Ve2.l("".concat(this._n, ".getTopicListOnReconnected. active community count:").concat(n4.length)), this._relayGetTopicList(n4);
        } }, { key: "_relayGetTopicList", value: function(e4) {
          var t3 = this;
          if (0 !== e4.length) {
            var n4 = e4.shift(), o3 = n4.topicIDList.length > 5 ? "topicIDList.length:".concat(n4.topicIDList.length) : "topicIDList:".concat(n4.topicIDList), s4 = new Aa("relayGetTopicList");
            s4.setMessage(o3), Ve2.l("".concat(this._n, "._relayGetTopicList. ").concat(o3)), this.getTopicList(n4).then(function() {
              s4.setNetworkType(t3.getNetworkType()).end(), t3._relayGetTopicList(e4);
            }).catch(function(n5) {
              t3.probeNetwork().then(function(e5) {
                var t4 = v2(e5, 2), o4 = t4[0], a3 = t4[1];
                s4.setError(n5, o4, a3).end();
              }), t3._relayGetTopicList(e4);
            });
          }
        } }, { key: "_handleTopicAtInfo", value: function(e4) {
          var n4 = this;
          0 !== e4.length && e4.forEach(function(e5) {
            var o3 = e5.groupID, s4 = e5.topicID, a3 = e5.groupAtInfoList, i3 = [];
            it2(a3) || (a3.forEach(function(e6) {
              i3.push(t2(t2({}, e6), {}, { groupID: o3, topicID: s4 }));
            }), n4.getModule(qn).onNewGroupAtTips({ dataList: i3 }));
          });
        } }, { key: "_getTopicLastMessage", value: function(e4) {
          if (!it2(e4.lastMsg)) {
            var t3 = { time: e4.lastMsg.time, sequence: e4.lastMsg.sequence, from: e4.lastMsg.from, payload: e4.lastMsg.elements[0] ? e4.lastMsg.elements[0].content : null, type: e4.lastMsg.elements[0] ? e4.lastMsg.elements[0].type : "", nick: e4.lastMsg.nick, version: e4.lastMsg.messageVersion, cloudCustomData: e4.lastMsg.cloudCustomData, isRevoked: 2 === e4.lastMsg.isPlaceMessage, revoker: zt2(e4.lastMsg.revokerInfo) ? null : e4.lastMsg.revokerInfo.revoker };
            e4.lastMessage = t3;
          }
        } }, { key: "deleteTopicListInCommunity", value: function(e4) {
          var t3 = this, n4 = this._getLocalTopicList(e4), o3 = this.getModule(qn);
          n4.forEach(function(n5) {
            var s4 = n5.topicID;
            t3._deleteLocalTopic(e4, s4), t3._getTopicTimeMap.delete(e4), o3.deleteLocalConversation("".concat(E2.CONV_GROUP).concat(s4));
          });
        } }, { key: "_computeUnreadCount", value: function(e4) {
          var t3 = e4.selfInfo, n4 = t3.excludedUnreadSequenceList, o3 = t3.readedSequence, s4 = e4.nextMessageSeq - e4.selfInfo.readedSequence - 1;
          if (at2(n4)) {
            var a3 = 0;
            n4.forEach(function(t4) {
              t4 >= o3 && t4 <= e4.nextMessageSeq - 1 && (a3 += 1);
            }), a3 >= 1 && (s4 -= a3);
          }
          return s4 < 0 ? 0 : s4;
        } }, { key: "_filterProfanity", value: function(e4, t3) {
          var n4 = this.getModule(oo);
          if (!n4)
            return true;
          var o3 = n4.filterText(t3[e4], z2), s4 = o3.isAllowedToSend, a3 = o3.modifiedText;
          return true === s4 && (t3[e4] = a3, true);
        } }, { key: "updateLastMessage", value: function(e4, t3) {
          var n4 = xt2(e4), o3 = this.getLocalTopic(n4, e4);
          if (o3) {
            var s4 = t3.sequence + 1;
            o3.updateNextMessageSeq(s4), o3.updateLastMessage(t3), this.emitOuterEvent(k.TOPIC_UPDATED, { groupID: n4, topic: o3 });
          }
        } }, { key: "getMessageExtensions", value: function(e4, t3) {
          Ve2.l("".concat(this._n, ".getMessageExtensions startSequence:").concat(t3));
          var n4 = xt2(e4.to);
          return this.request({ protocolName: Ss2, requestData: { groupID: n4, topicID: e4.to, messageSequence: e4.sequence, startSequence: t3 } });
        } }, { key: "modifyMessageExtensions", value: function(e4, t3) {
          var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
          Ve2.l("".concat(this._n, ".modifyMessageExtensions operateType:").concat(n4));
          var o3 = xt2(e4.to);
          return this.request({ protocolName: Es2, requestData: { groupID: o3, topicID: e4.to, messageSequence: e4.sequence, extensionList: t3, operateType: n4 } });
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._topicMap.clear(), this._getTopicTimeMap.clear(), this.TOPIC_CACHE_TIME = 300, this.TOPIC_LAST_ACTIVE_TIME = 3600;
        } }]), s3;
      }(uo), Yi = function() {
        function e3(t3) {
          o2(this, e3), this._userModule = t3, this._n = "ProfileHandler", this.TAG = "profile", this.accountProfileMap = /* @__PURE__ */ new Map(), this.expirationTime = 864e5;
        }
        return a2(e3, [{ key: "setExpirationTime", value: function(e4) {
          this.expirationTime = e4;
        } }, { key: "getUserProfile", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("getUserProfile"), o3 = e4.userIDList;
          e4.fromAccount = this._userModule.getMyAccount(), o3.length > 100 && (Ve2.w("".concat(n3, " ").concat(Wt2(100))), o3.length = 100);
          for (var s3, a3 = [], i3 = [], r3 = 0, u3 = o3.length; r3 < u3; r3++)
            s3 = o3[r3], this._userModule.isMyFriend(s3) && this._contains(s3) ? i3.push(this._getProfileFromMap(s3)) : a3.push(s3);
          if (0 === a3.length)
            return Xa(i3);
          e4.toAccount = a3;
          var c3 = e4.bFromGetMyProfile || false, l3 = [];
          e4.toAccount.forEach(function(e5) {
            l3.push({ toAccount: e5, standardSequence: 0, customSequence: 0 });
          }), e4.userItem = l3;
          var d3 = new Aa("getUserProfile");
          return d3.setMessage(o3.length > 5 ? "userIDList.length:".concat(o3.length) : "userIDList:".concat(o3)), this._userModule.request({ protocolName: mo, requestData: e4 }).then(function(e5) {
            d3.setNetworkType(t3._userModule.getNetworkType()).end(), Ve2.i("".concat(n3, " ok"));
            var o4 = t3._handleResponse(e5).concat(i3);
            return Ya(c3 ? o4[0] : o4);
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              d3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getMyProfile", value: function() {
          var e4 = this._userModule.getMyAccount(), t3 = "".concat(this._n, ".getMyProfile");
          if (Ve2.l("".concat(t3, " myAccount:").concat(e4)), this._fill(), this._contains(e4)) {
            var n3 = this._getProfileFromMap(e4);
            return Ve2.d("".concat(t3, " from cache, myProfile:").concat(JSON.stringify(n3))), Xa(n3);
          }
          return this.getUserProfile({ fromAccount: e4, userIDList: [e4], bFromGetMyProfile: true });
        } }, { key: "_handleResponse", value: function(e4) {
          var t3 = e4.data.userProfileItem;
          if (!at2(t3))
            return [];
          for (var n3 = [], o3 = Date.now(), s3 = 0, a3 = t3.length; s3 < a3; s3++) {
            var i3 = t3[s3], r3 = i3.to, u3 = i3.profileItem;
            if ("@TLS#NOT_FOUND" !== r3 && "" !== r3) {
              var c3 = this._update(r3, this._getLatestProfileFromResponse(r3, u3)).latestProfile;
              n3.push(c3);
            }
          }
          return Ve2.l("".concat(this._n, "._handleResponse cost ").concat(Date.now() - o3, " ms")), n3;
        } }, { key: "_getLatestProfileFromResponse", value: function(e4, t3) {
          var n3 = { userID: e4, profileCustomField: [] };
          if (!zt2(t3))
            for (var o3 = 0, s3 = t3.length; o3 < s3; o3++)
              if (t3[o3].tag.indexOf("Tag_Profile_Custom") > -1)
                n3.profileCustomField.push({ key: t3[o3].tag, value: t3[o3].value });
              else
                switch (t3[o3].tag) {
                  case He2.NICK:
                    n3.nick = t3[o3].value;
                    break;
                  case He2.GENDER:
                    n3.gender = t3[o3].value;
                    break;
                  case He2.BIRTHDAY:
                    n3.birthday = t3[o3].value;
                    break;
                  case He2.LOCATION:
                    n3.location = t3[o3].value;
                    break;
                  case He2.SELFSIGNATURE:
                    n3.selfSignature = t3[o3].value;
                    break;
                  case He2.ALLOWTYPE:
                    n3.allowType = t3[o3].value;
                    break;
                  case He2.LANGUAGE:
                    n3.language = t3[o3].value;
                    break;
                  case He2.AVATAR:
                    n3.avatar = t3[o3].value;
                    break;
                  case He2.MESSAGESETTINGS:
                    n3.messageSettings = t3[o3].value;
                    break;
                  case He2.ADMINFORBIDTYPE:
                    n3.adminForbidType = t3[o3].value;
                    break;
                  case He2.LEVEL:
                    n3.level = t3[o3].value;
                    break;
                  case He2.ROLE:
                    n3.role = t3[o3].value;
                    break;
                  default:
                    Ve2.w("".concat(this._n, "._getLatestProfileFromResponse unknown tag:"), t3[o3].tag, t3[o3].value);
                }
          return n3;
        } }, { key: "updateMyProfile", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".").concat("updateMyProfile");
          if (e4.nick && false === this._userModule.filterProfanity("nick", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          if (e4.selfSignature && false === this._userModule.filterProfanity("selfSignature", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var o3 = new Aa("updateMyProfile");
          o3.setMessage(JSON.stringify(e4));
          var s3 = new li().validate(e4);
          if (!s3.valid)
            return o3.setCode(ha.UPDATE_PROFILE_INVALID_PARAM).setMoreMessage("info:".concat(s3.tips)).setNetworkType(this._userModule.getNetworkType()).end(), Ve2.e("".concat(n3, " info:").concat(s3.tips)), Za({ code: ha.UPDATE_PROFILE_INVALID_PARAM });
          var a3 = [];
          for (var i3 in e4)
            Object.prototype.hasOwnProperty.call(e4, i3) && ("profileCustomField" === i3 ? e4.profileCustomField.forEach(function(e5) {
              a3.push({ tag: e5.key, value: e5.value });
            }) : a3.push({ tag: He2[i3.toUpperCase()], value: e4[i3] }));
          if (0 === a3.length) {
            var r3 = new ja({ code: ha.UPDATE_PROFILE_NO_KEY });
            return o3.setError(r3, true, this._userModule.getNetworkType()).end(), Ve2.e("".concat(n3, " failed. error:"), r3), Za(r3);
          }
          var u3 = this._userModule.getMyAccount();
          return this._userModule.request({ protocolName: Mo, requestData: { fromAccount: u3, profileItem: a3 } }).then(function(s4) {
            o3.setNetworkType(t3._userModule.getNetworkType()).end(), Ve2.i("".concat(n3, " ok"));
            var a4 = t3._update(u3, e4), i4 = a4.isProfileUpdated, r4 = a4.latestProfile;
            return true === i4 && t3._userModule.emitOuterEvent(k.PROFILE_UPDATED, [r4]), Xa(r4);
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a4 = n4[1];
              o3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "onProfileModified", value: function(e4) {
          var t3 = e4.dataList;
          if (!zt2(t3)) {
            var n3, o3 = t3.length;
            Ve2.d("".concat(this._n, ".onProfileModified count:").concat(o3, " dataList:"), e4.dataList);
            for (var s3 = [], a3 = 0; a3 < o3; a3++) {
              n3 = t3[a3].userID;
              var i3 = this._update(n3, this._getLatestProfileFromResponse(n3, t3[a3].profileList)), r3 = i3.isProfileUpdated, u3 = i3.latestProfile;
              true === r3 && s3.push(u3);
            }
            s3.length > 0 && (this._userModule.emitInnerEvent(ni, s3), this._userModule.emitOuterEvent(k.PROFILE_UPDATED, s3));
          }
        } }, { key: "_fill", value: function() {
          if (0 === this.accountProfileMap.size) {
            for (var e4 = this._getCachedProfiles(), t3 = Date.now(), n3 = 0, o3 = e4.length; n3 < o3; n3++)
              t3 - e4[n3].lastUpdatedTime < this.expirationTime && this.accountProfileMap.set(e4[n3].userID, e4[n3]);
            Ve2.l("".concat(this._n, "._fill from cache, size:").concat(this.accountProfileMap.size));
          }
        } }, { key: "_update", value: function(e4, t3) {
          var n3, o3 = false, s3 = Date.now();
          this._contains(e4) ? (n3 = this._getProfileFromMap(e4), t3.profileCustomField && true === Ct2(n3.profileCustomField, t3.profileCustomField) && (n3.lastUpdatedTime = s3, o3 = true), pt2(n3, t3, ["profileCustomField"]) > 0 && (n3.lastUpdatedTime = s3, o3 = true)) : (n3 = new li(t3), (this._userModule.isMyFriend(e4) || e4 === this._userModule.getMyAccount()) && (n3.lastUpdatedTime = s3, o3 = true, this.accountProfileMap.set(e4, n3)));
          return this._flush(e4 === this._userModule.getMyAccount()), Ve2.l("".concat(this._n, "._update account:").concat(e4, " isProfileUpdated:").concat(o3)), { isProfileUpdated: o3, latestProfile: n3 };
        } }, { key: "_flush", value: function(e4) {
          var t3 = m2(this.accountProfileMap.values()), n3 = this._userModule.getStorageModule();
          Ve2.d("".concat(this._n, "._flush length:").concat(t3.length, " flushAtOnce:").concat(e4)), n3.setItem(this.TAG, t3, e4);
        } }, { key: "_contains", value: function(e4) {
          return this.accountProfileMap.has(e4);
        } }, { key: "_getProfileFromMap", value: function(e4) {
          return this.accountProfileMap.get(e4);
        } }, { key: "_getCachedProfiles", value: function() {
          var e4 = this._userModule.getStorageModule().getItem(this.TAG);
          return zt2(e4) ? [] : e4;
        } }, { key: "onConversationsProfileUpdated", value: function(e4) {
          for (var t3, n3, o3, s3 = [], a3 = 0, i3 = e4.length; a3 < i3; a3++)
            n3 = (t3 = e4[a3]).userID, this._userModule.isMyFriend(n3) && (this._contains(n3) ? (o3 = this._getProfileFromMap(n3), pt2(o3, t3) > 0 && s3.push(n3)) : s3.push(t3.userID));
          0 !== s3.length && (Ve2.i("".concat(this._n, ".onConversationsProfileUpdated toAccountList:").concat(s3)), this.getUserProfile({ userIDList: s3 }));
        } }, { key: "getNickAndAvatarByUserID", value: function(e4) {
          if (this._contains(e4)) {
            var t3 = this._getProfileFromMap(e4);
            return { nick: t3.nick, avatar: t3.avatar };
          }
          return { nick: "", avatar: "" };
        } }, { key: "reset", value: function() {
          this._flush(true), this.accountProfileMap.clear();
        } }]), e3;
      }(), ji = a2(function e3(t3) {
        o2(this, e3), zt2 || (this.userID = t3.userID || "", this.timeStamp = t3.timeStamp || 0);
      }), zi = function() {
        function e3(t3) {
          o2(this, e3), this._userModule = t3, this._n = "BlacklistHandler", this._blacklistMap = /* @__PURE__ */ new Map(), this.startIndex = 0, this.maxLimited = 100, this.currentSequence = 0;
        }
        return a2(e3, [{ key: "getLocalBlacklist", value: function() {
          return m2(this._blacklistMap.keys());
        } }, { key: "getBlacklist", value: function() {
          var e4 = this, t3 = "".concat(this._n, ".getBlacklist"), n3 = { fromAccount: this._userModule.getMyAccount(), maxLimited: this.maxLimited, startIndex: 0, lastSequence: this.currentSequence }, o3 = new Aa("getBlacklist");
          return this._userModule.request({ protocolName: yo, requestData: n3 }).then(function(n4) {
            var s3 = n4.data, a3 = s3.blackListItem, i3 = s3.currentSequence, r3 = zt2(a3) ? 0 : a3.length;
            o3.setNetworkType(e4._userModule.getNetworkType()).setMessage("count:".concat(r3)).end(), Ve2.i("".concat(t3, " ok")), e4.currentSequence = i3, e4._handleResponse(a3, true), e4._userModule.emitOuterEvent(k.BLACKLIST_UPDATED, m2(e4._blacklistMap.keys()));
          }).catch(function(n4) {
            return e4._userModule.probeNetwork().then(function(e5) {
              var t4 = v2(e5, 2), s3 = t4[0], a3 = t4[1];
              o3.setError(n4, s3, a3).end();
            }), Ve2.e("".concat(t3, " failed. error:"), n4), Za(n4);
          });
        } }, { key: "addBlacklist", value: function(e4) {
          var t3 = this, n3 = new Aa("addToBlacklist"), o3 = "".concat(this._n, ".addBlacklist"), s3 = this._userModule.getMyAccount();
          if (1 === e4.userIDList.length && e4.userIDList[0] === s3) {
            var a3 = ha.CANNOT_ADD_SELF_TO_BLACKLIST, i3 = this._userModule.getErrorMessage(a3);
            n3.setCode(a3).setMessage(i3).setNetworkType(this._userModule.getNetworkType()).end();
            var r3 = new ja({ code: a3 });
            return Ve2.e("".concat(o3, " failed. error:"), r3), Za(r3);
          }
          return e4.userIDList.includes(s3) && (e4.userIDList = e4.userIDList.filter(function(e5) {
            return e5 !== s3;
          })), e4.fromAccount = this._userModule.getMyAccount(), e4.toAccount = e4.userIDList, this._userModule.request({ protocolName: Io, requestData: e4 }).then(function(s4) {
            return n3.setNetworkType(t3._userModule.getNetworkType()).setMessage(e4.userIDList.length > 5 ? "userIDList.length:".concat(e4.userIDList.length) : "userIDList:".concat(e4.userIDList)).end(), Ve2.i("".concat(o3, " ok")), t3._handleResponse(s4.resultItem, true), Ya(m2(t3._blacklistMap.keys()));
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var o4 = v2(t4, 2), s4 = o4[0], a4 = o4[1];
              n3.setError(e5, s4, a4).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_handleResponse", value: function(e4, t3) {
          if (!zt2(e4))
            for (var n3, o3, s3, a3 = 0, i3 = e4.length; a3 < i3; a3++)
              o3 = e4[a3].to, s3 = e4[a3].resultCode, (it2(s3) || 0 === s3) && (t3 ? ((n3 = this._blacklistMap.has(o3) ? this._blacklistMap.get(o3) : new ji()).userID = o3, !zt2(e4[a3].addBlackTimeStamp) && (n3.timeStamp = e4[a3].addBlackTimeStamp), this._blacklistMap.set(o3, n3)) : this._blacklistMap.has(o3) && (n3 = this._blacklistMap.get(o3), this._blacklistMap.delete(o3)));
          Ve2.l("".concat(this._n, "._handleResponse total:").concat(this._blacklistMap.size, " bAdd:").concat(t3));
        } }, { key: "deleteBlacklist", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".deleteBlacklist"), o3 = new Aa("removeFromBlacklist");
          return e4.fromAccount = this._userModule.getMyAccount(), e4.toAccount = e4.userIDList, this._userModule.request({ protocolName: Co, requestData: e4 }).then(function(s3) {
            return o3.setNetworkType(t3._userModule.getNetworkType()).setMessage(e4.userIDList.length > 5 ? "userIDList.length:".concat(e4.userIDList.length) : "userIDList:".concat(e4.userIDList)).end(), Ve2.i("".concat(n3, " ok")), t3._handleResponse(s3.data.resultItem, false), Ya(m2(t3._blacklistMap.keys()));
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s3 = n4[0], a3 = n4[1];
              o3.setError(e5, s3, a3).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "onAccountDeleted", value: function(e4) {
          for (var t3, n3 = [], o3 = 0, s3 = e4.length; o3 < s3; o3++)
            t3 = e4[o3], this._blacklistMap.has(t3) && (this._blacklistMap.delete(t3), n3.push(t3));
          n3.length > 0 && (Ve2.l("".concat(this._n, ".onAccountDeleted count:").concat(n3.length, " userIDList:"), n3), this._userModule.emitOuterEvent(k.BLACKLIST_UPDATED, m2(this._blacklistMap.keys())));
        } }, { key: "onAccountAdded", value: function(e4) {
          for (var t3, n3 = [], o3 = 0, s3 = e4.length; o3 < s3; o3++)
            t3 = e4[o3], this._blacklistMap.has(t3) || (this._blacklistMap.set(t3, new ji({ userID: t3 })), n3.push(t3));
          n3.length > 0 && (Ve2.l("".concat(this._n, ".onAccountAdded count:").concat(n3.length, " userIDList:"), n3), this._userModule.emitOuterEvent(k.BLACKLIST_UPDATED, m2(this._blacklistMap.keys())));
        } }, { key: "reset", value: function() {
          this._blacklistMap.clear(), this.startIndex = 0, this.maxLimited = 100, this.currentSequence = 0;
        } }]), e3;
      }(), Ji = function(e3) {
        var t3 = String(e3).replace(/[=]+$/, ""), n3 = "";
        if (t3.length % 4 == 1)
          return "";
        for (var o3, s3, a3 = 0, i3 = 0; s3 = t3.charAt(i3++); ~s3 && (o3 = a3 % 4 ? 64 * o3 + s3 : s3, a3++ % 4) ? n3 += String.fromCharCode(255 & o3 >> (-2 * a3 & 6)) : 0)
          s3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s3);
        try {
          return decodeURIComponent(escape(n3));
        } catch (r3) {
          return "";
        }
      }, Xi = function() {
        function e3(t3) {
          o2(this, e3), this._userModule = t3, this._n = "UserStatusHandler", this.MAX_QUERY_USER_COUNT = 500, this.MAX_SUBSCRIBE_USER_COUNT = 100, this.MAX_UNSUBSCRIBE_USER_COUNT = 100, this._userModule.getInnerEmitterInstance().on(ti, this._onCloudConfigUpdated, this);
        }
        return a2(e3, [{ key: "_onCloudConfigUpdated", value: function() {
          var e4 = this._userModule.getCloudConfig("status_query_count"), t3 = this._userModule.getCloudConfig("status_sub_count"), n3 = this._userModule.getCloudConfig("status_unsub_count");
          Ve2.l("".concat(this._n, "._onCloudConfigUpdated statusQueryCount:").concat(e4, " statusSubscribeCount:").concat(t3) + " statusUnsubscribeCount:".concat(n3)), it2(e4) || (this.MAX_QUERY_USER_COUNT = parseInt(e4, 10)), it2(e4) || (this.MAX_SUBSCRIBE_USER_COUNT = parseInt(t3, 10)), it2(e4) || (this.MAX_UNSUBSCRIBE_USER_COUNT = parseInt(n3, 10));
        } }, { key: "onUserStatusUpdated", value: function(e4) {
          var t3 = e4.dataList, n3 = this._userModule.getMyUserID(), o3 = this._userModule.getModule(xn), s3 = t3.map(function(e5) {
            var t4 = e5.to, s4 = e5.statusType, a3 = e5.customStatus, i3 = Ji(a3);
            return t4 === n3 && o3.setCustomStatus(i3), { userID: t4, statusType: s4, customStatus: i3 };
          });
          this._userModule.emitOuterEvent(k.USER_STATUS_UPDATED, s3);
        } }, { key: "setSelfStatus", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".setSelfStatus");
          if (false === this._userModule.filterProfanity("customStatus", e4))
            return Za({ code: ha.PROFANITY_FOUND });
          var o3 = new Aa("setSelfStatus"), s3 = e4.customStatus;
          return this._userModule.request({ protocolName: aa, requestData: { customStatus: s3 } }).then(function(e5) {
            return o3.setNetworkType(t3._userModule.getNetworkType()).setMessage("customStatus:".concat(s3)).end(), Ve2.l("".concat(n3, " ok. customStatus:").concat(s3)), t3._userModule.getModule(xn).setCustomStatus(s3), Ya({ userID: t3._userModule.getMyUserID(), statusType: 1, customStatus: s3 });
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), s4 = n4[0], a3 = n4[1];
              o3.setError(e5, s4, a3).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getUserStatus", value: function(e4) {
          var t3 = this, n3 = "".concat(this._n, ".getUserStatus"), o3 = e4.userIDList, s3 = void 0 === o3 ? [] : o3, a3 = this._userModule.getMyUserID(), i3 = m2(s3), r3 = void 0, u3 = i3.indexOf(a3);
          if (u3 > -1) {
            i3.splice(u3, 1);
            var c3 = this._userModule.getModule(xn).getCustomStatus();
            r3 = { userID: a3, statusType: 1, customStatus: c3 };
          }
          if (0 === i3.length)
            return Xa({ successUserList: [r3], failureUserList: [] });
          if (!this._userModule.canIUse(B2.USER_STATUS))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          i3.length > this.MAX_QUERY_USER_COUNT && (Ve2.w("".concat(n3, " ").concat(Wt2(this.MAX_QUERY_USER_COUNT))), i3 = s3.slice(0, this.MAX_QUERY_USER_COUNT));
          var l3 = new Aa("getUserStatus");
          return this._userModule.request({ protocolName: ia, requestData: { userIDList: i3 } }).then(function(e5) {
            var o4 = e5.data, a4 = o4.successUserList, i4 = void 0 === a4 ? [] : a4, u4 = o4.failureUserList, c4 = void 0 === u4 ? [] : u4, d3 = i4.map(function(e6) {
              var t4 = e6.userID, n4 = e6.statusType, o5 = e6.customStatus;
              return { userID: t4, statusType: n4, customStatus: Ji(o5) };
            }), p3 = c4.map(function(e6) {
              var t4 = e6.userID, n4 = e6.invalidUserID, o5 = e6.errorCode, s4 = e6.errorInfo;
              return { userID: zt2(n4) ? t4 : n4, code: o5, message: s4 };
            });
            it2(r3) || d3.unshift(r3);
            var g3 = "userID count:".concat(s3.length, ", success count:").concat(d3.length, ", fail count:").concat(p3.length);
            return l3.setNetworkType(t3._userModule.getNetworkType()).setMessage("".concat(g3)).end(), Ve2.l("".concat(n3, " ok. ").concat(g3, ".")), Ya({ successUserList: d3, failureUserList: p3 });
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], a4 = n4[1];
              l3.setMessage("userID count:".concat(s3.length)).setError(e5, o4, a4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "subscribeUserStatus", value: function(e4) {
          var t3 = this;
          if (!this._userModule.canIUse(B2.USER_STATUS))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".subscribeUserStatus"), o3 = e4.userIDList, s3 = void 0 === o3 ? [] : o3, a3 = m2(s3);
          a3.length > this.MAX_SUBSCRIBE_USER_COUNT && (Ve2.w("".concat(n3, " ").concat(Wt2(this.MAX_SUBSCRIBE_USER_COUNT))), a3 = s3.slice(0, this.MAX_SUBSCRIBE_USER_COUNT));
          var i3 = new Aa("subscribeUserStatus"), r3 = "userID count:".concat(s3.length);
          return Ve2.l("".concat(n3, " ").concat(r3)), this._userModule.request({ protocolName: ra, requestData: { userIDList: a3 } }).then(function(e5) {
            var o4 = e5.data.failureUserList, s4 = (void 0 === o4 ? [] : o4).map(function(e6) {
              var t4 = e6.userID, n4 = e6.invalidUserID, o5 = e6.errorCode, s5 = e6.errorInfo;
              return { userID: zt2(n4) ? t4 : n4, code: o5, message: s5 };
            });
            return i3.setNetworkType(t3._userModule.getNetworkType()).setMessage("".concat(r3, " fail count:").concat(s4.length)).end(), Ve2.l("".concat(n3, " ok. fail count:").concat(s4.length, ".")), Ya({ failureUserList: s4 });
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              i3.setMessage("".concat(r3)).setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "unsubscribeUserStatus", value: function(e4) {
          var t3 = this;
          if (!this._userModule.canIUse(B2.USER_STATUS))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n3 = "".concat(this._n, ".unsubscribeUserStatus"), o3 = (e4 || {}).userIDList, s3 = void 0 === o3 ? [] : o3, a3 = m2(s3);
          s3.length > this.MAX_UNSUBSCRIBE_USER_COUNT && (Ve2.w("".concat(n3, " ").concat(Wt2(this.MAX_UNSUBSCRIBE_USER_COUNT))), a3 = s3.slice(0, this.MAX_UNSUBSCRIBE_USER_COUNT));
          var i3 = new Aa("unsubscribeUserStatus"), r3 = "userID count:".concat(s3.length);
          Ve2.l("".concat(n3, " ").concat(r3));
          var u3 = { userIDList: a3 };
          return 0 === a3.length && (u3.userIDList = void 0, u3.unsubscribeAll = 1), this._userModule.request({ protocolName: ua, requestData: u3 }).then(function(e5) {
            var o4 = e5.data.failureUserList, s4 = (void 0 === o4 ? [] : o4).map(function(e6) {
              var t4 = e6.userID, n4 = e6.invalidUserID, o5 = e6.errorCode, s5 = e6.errorInfo;
              return { userID: zt2(n4) ? t4 : n4, code: o5, message: s5 };
            });
            return i3.setNetworkType(t3._userModule.getNetworkType()).setMessage("".concat(r3, " fail count:").concat(s4.length)).end(), Ve2.l("".concat(n3, " ok. fail count:").concat(s4.length, ".")), Ya({ failureUserList: s4 });
          }).catch(function(e5) {
            return t3._userModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              i3.setMessage("".concat(r3)).setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "reset", value: function() {
          this.MAX_QUERY_USER_COUNT = 500, this.MAX_SUBSCRIBE_USER_COUNT = 100, this.MAX_UNSUBSCRIBE_USER_COUNT = 100;
        } }]), e3;
      }(), Zi = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "UserModule", s3._profileHandler = new Yi(h2(s3)), s3._blacklistHandler = new zi(h2(s3)), s3._userStatusHandler = new Xi(h2(s3)), s3.getInnerEmitterInstance().on(ei, s3.onContextUpdated, h2(s3)), s3;
        }
        return a2(n3, [{ key: "onContextUpdated", value: function(e4) {
          this._profileHandler.getMyProfile(), this._blacklistHandler.getBlacklist();
        } }, { key: "onProfileModified", value: function(e4) {
          this._profileHandler.onProfileModified(e4);
        } }, { key: "onRelationChainModified", value: function(e4) {
          var t4 = e4.dataList;
          if (!zt2(t4)) {
            var n4 = [];
            t4.forEach(function(e5) {
              e5.blackListDelAccount && n4.push.apply(n4, m2(e5.blackListDelAccount));
            }), n4.length > 0 && this._blacklistHandler.onAccountDeleted(n4);
            var o3 = [];
            t4.forEach(function(e5) {
              e5.blackListAddAccount && o3.push.apply(o3, m2(e5.blackListAddAccount));
            }), o3.length > 0 && this._blacklistHandler.onAccountAdded(o3);
          }
        } }, { key: "onConversationsProfileUpdated", value: function(e4) {
          this._profileHandler.onConversationsProfileUpdated(e4);
        } }, { key: "getMyAccount", value: function() {
          return this.getMyUserID();
        } }, { key: "getMyProfile", value: function() {
          return this._profileHandler.getMyProfile();
        } }, { key: "getStorageModule", value: function() {
          return this.getModule(Vn2);
        } }, { key: "filterProfanity", value: function(e4, t4) {
          var n4 = this.getModule(oo);
          if (!n4)
            return true;
          var o3 = n4.filterText(t4[e4], j2), s3 = o3.isAllowedToSend, a3 = o3.modifiedText;
          return true === s3 && (t4[e4] = a3, true);
        } }, { key: "isMyFriend", value: function(e4) {
          var t4 = this.getModule(bn);
          return !!t4 && t4.isMyFriend(e4);
        } }, { key: "getUserProfile", value: function(e4) {
          return this._profileHandler.getUserProfile(e4);
        } }, { key: "updateMyProfile", value: function(e4) {
          return this._profileHandler.updateMyProfile(e4);
        } }, { key: "getNickAndAvatarByUserID", value: function(e4) {
          return this._profileHandler.getNickAndAvatarByUserID(e4);
        } }, { key: "getLocalBlacklist", value: function() {
          var e4 = this._blacklistHandler.getLocalBlacklist();
          return Xa(e4);
        } }, { key: "addBlacklist", value: function(e4) {
          return this._blacklistHandler.addBlacklist(e4);
        } }, { key: "deleteBlacklist", value: function(e4) {
          return this._blacklistHandler.deleteBlacklist(e4);
        } }, { key: "onUserStatusUpdated", value: function(e4) {
          this._userStatusHandler.onUserStatusUpdated(e4);
        } }, { key: "setSelfStatus", value: function(e4) {
          return this._userStatusHandler.setSelfStatus(e4);
        } }, { key: "getUserStatus", value: function(e4) {
          return this._userStatusHandler.getUserStatus(e4);
        } }, { key: "subscribeUserStatus", value: function(e4) {
          return this._userStatusHandler.subscribeUserStatus(e4);
        } }, { key: "unsubscribeUserStatus", value: function(e4) {
          return this._userStatusHandler.unsubscribeUserStatus(e4);
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._profileHandler.reset(), this._blacklistHandler.reset(), this._userStatusHandler.reset();
        } }]), n3;
      }(uo), Qi = function() {
        function e3(t3, n3) {
          o2(this, e3), this._m = t3, this._isLoggedIn = false, this._SDKAppID = n3.SDKAppID, this._userID = n3.userID || "", this._userSig = n3.userSig || "", this._version = "2.27.6", this._a2Key = "", this._tinyID = "", this._customStatus = "", this._contentType = "json", this._unlimitedAVChatRoom = n3.unlimitedAVChatRoom, this._scene = n3.scene || "", this._oversea = n3.oversea, this._instanceID = n3.instanceID, this._statusInstanceID = 0, this._isDevMode = n3.devMode, this._proxyServer = n3.proxyServer, this._fileUploadProxy = n3.fileUploadProxy, this._fileDownloadProxy = n3.fileDownloadProxy;
        }
        return a2(e3, [{ key: "isLoggedIn", value: function() {
          return this._isLoggedIn;
        } }, { key: "isOversea", value: function() {
          return this._oversea;
        } }, { key: "isPrivateNetWork", value: function() {
          return this._proxyServer;
        } }, { key: "isDevMode", value: function() {
          return this._isDevMode;
        } }, { key: "isSingaporeSite", value: function() {
          return this._SDKAppID >= 2e7 && this._SDKAppID < 3e7 || this._SDKAppID >= 172e7 && this._SDKAppID < 173e7;
        } }, { key: "isKoreaSite", value: function() {
          return this._SDKAppID >= 3e7 && this._SDKAppID < 4e7 || this._SDKAppID >= 173e7 && this._SDKAppID < 174e7;
        } }, { key: "isGermanySite", value: function() {
          return this._SDKAppID >= 4e7 && this._SDKAppID < 5e7 || this._SDKAppID >= 174e7 && this._SDKAppID < 175e7;
        } }, { key: "isIndiaSite", value: function() {
          return this._SDKAppID >= 5e7 && this._SDKAppID < 6e7 || this._SDKAppID >= 175e7 && this._SDKAppID < 176e7;
        } }, { key: "isJapanSite", value: function() {
          return this._SDKAppID >= 6e7 && this._SDKAppID < 7e7 || this._SDKAppID >= 176e7 && this._SDKAppID < 177e7;
        } }, { key: "isUSASite", value: function() {
          return this._SDKAppID >= 7e7 && this._SDKAppID < 8e7 || this._SDKAppID >= 177e7 && this._SDKAppID < 178e7;
        } }, { key: "isIntl", value: function() {
          return 0 === (e4 = this._SDKAppID) || e4 >= 2e7 && e4 < 8e7 || e4 >= 172e7 && e4 < 178e7;
          var e4;
        } }, { key: "isUnlimitedAVChatRoom", value: function() {
          return this._unlimitedAVChatRoom;
        } }, { key: "setUserID", value: function(e4) {
          this._userID = e4;
        } }, { key: "getUserID", value: function() {
          return this._userID;
        } }, { key: "setUserSig", value: function(e4) {
          this._userSig = e4;
        } }, { key: "getUserSig", value: function() {
          return this._userSig;
        } }, { key: "getSDKAppID", value: function() {
          return this._SDKAppID;
        } }, { key: "setTinyID", value: function(e4) {
          this._tinyID = e4, this._isLoggedIn = true;
        } }, { key: "getTinyID", value: function() {
          return this._tinyID;
        } }, { key: "setCustomStatus", value: function(e4) {
          this._customStatus = e4;
        } }, { key: "getCustomStatus", value: function() {
          return this._customStatus;
        } }, { key: "getScene", value: function() {
          return Ae2 ? window.tencent_cloud_im_csig_flutter_for_web_25F_cy : this._isTUIKit() ? "tuikit" : this._scene;
        } }, { key: "getInstanceID", value: function() {
          return this._instanceID;
        } }, { key: "getStatusInstanceID", value: function() {
          return this._statusInstanceID;
        } }, { key: "setStatusInstanceID", value: function(e4) {
          this._statusInstanceID = e4;
        } }, { key: "getVersion", value: function() {
          return this._version;
        } }, { key: "getA2Key", value: function() {
          return this._a2Key;
        } }, { key: "setA2Key", value: function(e4) {
          this._a2Key = e4;
        } }, { key: "getContentType", value: function() {
          return this._contentType;
        } }, { key: "getProxyServer", value: function() {
          return this._proxyServer;
        } }, { key: "getFileUploadProxy", value: function() {
          return this._fileUploadProxy;
        } }, { key: "getFileDownloadProxy", value: function() {
          return this._fileDownloadProxy;
        } }, { key: "_isTUIKit", value: function() {
          var e4 = false, t3 = false, n3 = false, o3 = false, s3 = [];
          ae2 && (s3 = Object.keys(re2)), ie2 && (s3 = se2 ? Object.keys(uni) : Object.keys(window));
          for (var a3 = 0, i3 = s3.length; a3 < i3; a3++)
            if (s3[a3].toLowerCase().includes("uikit")) {
              e4 = true;
              break;
            }
          if (s3 = null, ae2 && !ut2(re2.createGamePortal) && ut2(getApp) && !it2(getApp())) {
            var r3 = getApp().globalData;
            st2(r3) && true === r3.isTUIKit && (t3 = true);
          }
          true === this._m.getModule(Vn2).getStorageSync("TIM_".concat(this._SDKAppID, "_isTUIKit")) && (n3 = true);
          var u3 = null;
          if (X2 && !$2 && "undefined" == typeof uni && __wxConfig && (u3 = __wxConfig.pages), Q2 && "undefined" == typeof uni && __qqConfig && (u3 = __qqConfig.pages), at2(u3) && u3.length > 0) {
            for (var c3 = 0, l3 = u3.length; c3 < l3; c3++)
              if (u3[c3].toLowerCase().includes("tui")) {
                o3 = true;
                break;
              }
            u3 = null;
          }
          return e4 || t3 || n3 || o3;
        } }, { key: "reset", value: function() {
          this._isLoggedIn = false, this._userSig = "", this._a2Key = "", this._tinyID = "", this._customStatus = "", this._statusInstanceID = 0;
        } }]), e3;
      }(), $i = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "SignModule", s3._helloInterval = 120, s3._lastLoginTs = 0, s3._lastWsHelloTs = 0, s3._isWebUniapp = 0, oi.mixin(h2(s3)), s3;
        }
        return a2(n3, [{ key: "onCheckTimer", value: function(e4) {
          this.isLoggedIn() && e4 % this._helloInterval == 0 && this._hello();
        } }, { key: "login", value: function(e4) {
          var t4 = "";
          if (this.isLoggedIn()) {
            var n4 = this.getMyUserID();
            return (t4 = this.getErrorMessage("RepeatLogin", n4)) && Ve2.w(t4), Xa({ actionStatus: "OK", errorCode: 0, errorInfo: t4, repeatLogin: true });
          }
          if (Date.now() - this._lastLoginTs <= 15e3)
            return this.outputWarning("LoggingIn", e4.userID), Za({ code: ha.REPEAT_LOGIN });
          Ve2.l("".concat(this._n, ".login userID:").concat(e4.userID));
          var o3 = this._checkLoginInfo(e4);
          if (0 !== o3.code)
            return Za(o3);
          var s3 = this.getModule(xn), a3 = e4.userID, i3 = e4.userSig;
          return s3.setUserID(a3), s3.setUserSig(i3), this.getModule(zn2).updateProtocolConfig(), this._login();
        } }, { key: "_login", value: function() {
          var e4 = this, t4 = this.getModule(xn), n4 = t4.getScene(), o3 = 0, s3 = new Aa("login");
          s3.setMessage("".concat(n4)).setMoreMessage("identifier:".concat(this.getMyUserID())), se2 ? "tuikit" === n4 ? s3.setUIPlatform(4) : s3.setUIPlatform(3) : ae2 ? "tuikit" === n4 ? s3.setUIPlatform(12) : s3.setUIPlatform(11) : ie2 && (Ae2 ? "flutter_web_uikit" === n4 ? s3.setUIPlatform(21) : s3.setUIPlatform(20) : this._isReactUIKit() ? Le2 ? s3.setUIPlatform(25) : s3.setUIPlatform(24) : Le2 ? "tuikit" === n4 ? s3.setUIPlatform(17) : s3.setUIPlatform(16) : "tuikit" === n4 ? s3.setUIPlatform(14) : s3.setUIPlatform(13));
          var a3 = this.getModule(no);
          if (a3.canIUseOfflinePush()) {
            this._isWebUniapp = a3.getUniAppPlatform();
            var i3 = this._getStatusInstanceID();
            t4.setStatusInstanceID(i3), this.getModule(zn2).updateProtocolConfig(), o3 = a3.getDeviceBrand();
          }
          var r3 = "".concat(this._n, "._login");
          return this._lastLoginTs = Date.now(), this.request({ protocolName: co, requestData: { deviceBrand: o3, isWebUniapp: this._isWebUniapp } }).then(function(o4) {
            e4._lastLoginTs = 0;
            var a4 = Date.now(), i4 = null, u3 = o4.data, c3 = u3.a2Key, l3 = u3.tinyID, d3 = u3.helloInterval, p3 = u3.instanceID, g3 = u3.timeStamp, h3 = u3.customStatus, _3 = void 0 === h3 ? "" : h3, f3 = u3.purchaseBits;
            Ve2.l("".concat(r3, " ok. scene:").concat(n4, " helloInterval:").concat(d3, " instanceID:").concat(p3, " timeStamp:").concat(g3));
            var v3 = 1e3 * g3, m3 = a4 - s3.getStartTs(), M3 = v3 + parseInt(m3 / 2) - a4, y3 = s3.getStartTs() + M3;
            if (s3.start(y3), function(e5, t5) {
              Ue2 = t5;
              var n5 = /* @__PURE__ */ new Date();
              n5.setTime(e5), Ve2.i("baseTime from server:".concat(n5, " offset:").concat(Ue2));
            }(v3, M3), !l3)
              throw i4 = new ja({ code: ha.NO_TINYID }), s3.setError(i4, true, e4.getNetworkType()).end(), i4;
            if (!c3)
              throw i4 = new ja({ code: ha.NO_A2KEY }), s3.setError(i4, true, e4.getNetworkType()).end(), i4;
            var I3 = Ji(_3);
            (s3.setNetworkType(e4.getNetworkType()).setMoreMessage("helloInterval:".concat(d3, " instanceID:").concat(p3, " offset:").concat(M3, " customStatus:").concat(I3)).end(), t4.setA2Key(c3), t4.setTinyID(l3), t4.setStatusInstanceID(p3), t4.setCustomStatus(I3), f3) && e4.getModule(to).onPushedConfig({ errorCode: 0, expiredTime: 0, purchaseBits: f3 });
            e4.getModule(zn2).updateProtocolConfig(), e4.emitInnerEvent(ei), e4._helloInterval = d3, e4.triggerReady();
            var C3 = e4.getModule(no);
            return C3.canIUseOfflinePush() && (uni.setStorageSync("timUniAppInstanceID", p3), C3.init()), e4._fetchCloudControlConfig(), e4.getModule(oo).init(), o4;
          }).catch(function(t5) {
            return e4.probeNetwork().then(function(e5) {
              var n5 = v2(e5, 2), o4 = n5[0], a4 = n5[1];
              s3.setError(t5, o4, a4).end(true);
            }), e4._m.setNotReadyReason(ha.LOGIN_FAILED), Ve2.e("".concat(r3, " failed. error:"), t5), e4._lastLoginTs = 0, e4._m.onLoginFailed(), Za(t5);
          });
        } }, { key: "logout", value: function() {
          var e4 = this, t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
          if (!this.isLoggedIn())
            return Za({ code: ha.USER_NOT_LOGGED_IN });
          var n4 = new Aa("logout");
          n4.setNetworkType(this.getNetworkType()).setMessage("identifier:".concat(this.getMyUserID())).end(true);
          var o3 = "".concat(this._n, ".logout");
          return Ve2.i("".concat(o3, " type:").concat(t4)), 0 === t4 && this._m.setNotReadyReason(ha.LOGGED_OUT), this.request({ protocolName: lo, requestData: { type: t4 } }).then(function() {
            return e4.resetReady(), Xa({});
          }).catch(function(t5) {
            return Ve2.e("".concat(o3, " error:"), t5), e4.resetReady(), Xa({});
          });
        } }, { key: "_fetchCloudControlConfig", value: function() {
          this.getModule(Zn2).fetchConfig();
        } }, { key: "_getStatusInstanceID", value: function() {
          return uni.getStorageSync("timUniAppInstanceID");
        } }, { key: "_hello", value: function() {
          var e4 = this;
          this._lastWsHelloTs = Date.now(), this.request({ protocolName: po, requestData: { isWebUniapp: this._isWebUniapp } }).catch(function(t4) {
            Ve2.w("".concat(e4._n, "._hello error:"), t4);
          });
        } }, { key: "getLastWsHelloTs", value: function() {
          return this._lastWsHelloTs;
        } }, { key: "_checkLoginInfo", value: function(e4) {
          var t4 = 0;
          return zt2(this.getModule(xn).getSDKAppID()) ? t4 = ha.NO_SDKAPPID : zt2(e4.userID) ? t4 = ha.NO_IDENTIFIER : zt2(e4.userSig) && (t4 = ha.NO_USERSIG), { code: t4 };
        } }, { key: "_isReactUIKit", value: function() {
          return ie2 && void 0 !== window.tencent_cloud_im_csig_react_uikit_23F_xa;
        } }, { key: "onMultipleAccountKickedOut", value: function(e4) {
          var t4 = this;
          new Aa("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(E2.KICKED_OUT_MULT_ACCOUNT, " newInstanceInfo:").concat(JSON.stringify(e4))).end(true), Ve2.w("".concat(this._n, ".onMultipleAccountKickedOut userID:").concat(this.getMyUserID(), " newInstanceInfo:"), e4), this.logout(1).then(function() {
            t4.emitOuterEvent(k.KICKED_OUT, { type: E2.KICKED_OUT_MULT_ACCOUNT }), t4._m.setNotReadyReason(ha.KICKED_OUT_MULT_ACCOUNT), t4._m.reset();
          });
        } }, { key: "onMultipleDeviceKickedOut", value: function(e4) {
          var t4 = this;
          new Aa("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(E2.KICKED_OUT_MULT_DEVICE, " newInstanceInfo:").concat(JSON.stringify(e4))).end(true), Ve2.w("".concat(this._n, ".onMultipleDeviceKickedOut userID:").concat(this.getMyUserID(), " newInstanceInfo:"), e4), this.logout(1).then(function() {
            t4.emitOuterEvent(k.KICKED_OUT, { type: E2.KICKED_OUT_MULT_DEVICE }), t4._m.setNotReadyReason(ha.KICKED_OUT_MULT_DEVICE), t4._m.reset();
          });
        } }, { key: "onUserSigExpired", value: function() {
          new Aa("kickedOut").setNetworkType(this.getNetworkType()).setMessage(E2.KICKED_OUT_USERSIG_EXPIRED).end(true), Ve2.w("".concat(this._n, ".onUserSigExpired: userSig expired")), 0 !== this.getModule(xn).getStatusInstanceID() && (this.emitOuterEvent(k.KICKED_OUT, { type: E2.KICKED_OUT_USERSIG_EXPIRED }), this._m.setNotReadyReason(ha.KICKED_OUT_USERSIG_EXPIRED), this._m.reset());
        } }, { key: "onRestApiKickedOut", value: function(e4) {
          (new Aa("kickedOut").setNetworkType(this.getNetworkType()).setMessage("type:".concat(E2.KICKED_OUT_REST_API, " newInstanceInfo:").concat(JSON.stringify(e4))).end(true), Ve2.w("".concat(this._n, ".onRestApiKickedOut userID:").concat(this.getMyUserID(), " newInstanceInfo:"), e4), 0 !== this.getModule(xn).getStatusInstanceID()) && (this.emitOuterEvent(k.KICKED_OUT, { type: E2.KICKED_OUT_REST_API }), this._m.setNotReadyReason(ha.KICKED_OUT_REST_API), this._m.reset(), this.getModule(Jn2).onRestApiKickedOut());
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this.resetReady(), this._helloInterval = 120, this._lastLoginTs = 0, this._lastWsHelloTs = 0, this._isWebUniapp = 0;
        } }]), n3;
      }(uo);
      function er2() {
        return null;
      }
      var tr2 = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._n = "StorageModule", this._storageQueue = /* @__PURE__ */ new Map(), this._errorTolerantHandle();
        }
        return a2(e3, [{ key: "_errorTolerantHandle", value: function() {
          ae2 || !it2(window) && this._canIUseCookies() || (this.getItem = er2, this.setItem = er2, this.removeItem = er2, this.clear = er2);
        } }, { key: "onCheckTimer", value: function(e4) {
          if (e4 % 20 == 0) {
            if (0 === this._storageQueue.size)
              return;
            this._doFlush();
          }
        } }, { key: "_doFlush", value: function() {
          try {
            var e4, t3 = D2(this._storageQueue);
            try {
              for (t3.s(); !(e4 = t3.n()).done; ) {
                var n3 = v2(e4.value, 2), o3 = n3[0], s3 = n3[1];
                this._setStorageSync(this._getKey(o3), s3);
              }
            } catch (a3) {
              t3.e(a3);
            } finally {
              t3.f();
            }
            this._storageQueue.clear();
          } catch (i3) {
            Ve2.w("".concat(this._n, "._doFlush error:"), i3);
          }
        } }, { key: "_getPrefix", value: function() {
          var e4 = this._m.getModule(xn);
          return "TIM_".concat(e4.getSDKAppID(), "_").concat(e4.getUserID(), "_");
        } }, { key: "_getKey", value: function(e4) {
          return "".concat(this._getPrefix()).concat(e4);
        } }, { key: "getItem", value: function(e4) {
          var t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          try {
            var n3 = t3 ? this._getKey(e4) : e4;
            return this.getStorageSync(n3);
          } catch (o3) {
            return Ve2.w("".concat(this._n, ".getItem error:"), o3), {};
          }
        } }, { key: "setItem", value: function(e4, t3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], o3 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
          if (n3) {
            var s3 = o3 ? this._getKey(e4) : e4;
            this._setStorageSync(s3, t3);
          } else
            this._storageQueue.set(e4, t3);
        } }, { key: "clear", value: function() {
          try {
            ae2 ? re2.clearStorageSync() : this._canIUseCookies() && localStorage.clear();
          } catch (e4) {
            Ve2.w("".concat(this._n, ".clear error:"), e4);
          }
        } }, { key: "removeItem", value: function(e4) {
          var t3 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          try {
            var n3 = t3 ? this._getKey(e4) : e4;
            this._removeStorageSync(n3);
          } catch (o3) {
            Ve2.w("".concat(this._n, ".removeItem error:"), o3);
          }
        } }, { key: "getSize", value: function(e4) {
          var t3 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "b";
          try {
            var o3 = { size: 0, limitSize: 5242880, unit: n3 };
            if (Object.defineProperty(o3, "leftSize", { enumerable: true, get: function() {
              return o3.limitSize - o3.size;
            } }), ae2 && (o3.limitSize = 1024 * re2.getStorageInfoSync().limitSize), e4)
              o3.size = JSON.stringify(this.getItem(e4)).length + this._getKey(e4).length;
            else if (ae2) {
              var s3 = re2.getStorageInfoSync(), a3 = s3.keys;
              a3.forEach(function(e5) {
                o3.size += JSON.stringify(t3.getStorageSync(e5)).length + t3._getKey(e5).length;
              });
            } else if (this._canIUseCookies())
              for (var i3 in localStorage)
                localStorage.hasOwnProperty(i3) && (o3.size += localStorage.getItem(i3).length + i3.length);
            return this._convertUnit(o3);
          } catch (r3) {
            Ve2.w("".concat(this._n, " error:"), r3);
          }
        } }, { key: "_convertUnit", value: function(e4) {
          var t3 = {}, n3 = e4.unit;
          for (var o3 in t3.unit = n3, e4)
            "number" == typeof e4[o3] && ("kb" === n3.toLowerCase() ? t3[o3] = Math.round(e4[o3] / 1024) : "mb" === n3.toLowerCase() ? t3[o3] = Math.round(e4[o3] / 1024 / 1024) : t3[o3] = e4[o3]);
          return t3;
        } }, { key: "_setStorageSync", value: function(e4, t3) {
          ae2 ? te2 ? my.setStorageSync({ key: e4, data: t3 }) : re2.setStorageSync(e4, t3) : this._canIUseCookies() && localStorage.setItem(e4, JSON.stringify(t3));
        } }, { key: "getStorageSync", value: function(e4) {
          return ae2 ? te2 ? my.getStorageSync({ key: e4 }).data : re2.getStorageSync(e4) : this._canIUseCookies() ? JSON.parse(localStorage.getItem(e4)) : {};
        } }, { key: "_removeStorageSync", value: function(e4) {
          ae2 ? te2 ? my.removeStorageSync({ key: e4 }) : re2.removeStorageSync(e4) : this._canIUseCookies() && localStorage.removeItem(e4);
        } }, { key: "_canIUseCookies", value: function() {
          return navigator && navigator.cookieEnabled && localStorage;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._doFlush();
        } }]), e3;
      }(), nr = function() {
        function e3(t3) {
          o2(this, e3), this._n = "SSOLogBody", this._report = [];
        }
        return a2(e3, [{ key: "pushIn", value: function(e4) {
          Ve2.d("".concat(this._n, ".pushIn"), this._report.length, e4), this._report.push(e4);
        } }, { key: "backfill", value: function(e4) {
          var t3;
          at2(e4) && 0 !== e4.length && (Ve2.d("".concat(this._n, ".backfill"), this._report.length, e4.length), (t3 = this._report).unshift.apply(t3, m2(e4)));
        } }, { key: "getLogsNumInMemory", value: function() {
          return this._report.length;
        } }, { key: "isEmpty", value: function() {
          return 0 === this._report.length;
        } }, { key: "_reset", value: function() {
          this._report.length = 0, this._report = [];
        } }, { key: "getLogsInMemory", value: function() {
          var e4 = this._report.slice();
          return this._reset(), e4;
        } }]), e3;
      }(), or = function(e3) {
        var t3 = e3.getModule(xn);
        return { SDKType: 10, SDKAppID: t3.getSDKAppID(), SDKVersion: t3.getVersion(), tinyID: Number(t3.getTinyID()), userID: t3.getUserID(), platform: e3.getPlatform(), instanceID: t3.getInstanceID(), traceID: Pe2() };
      }, sr = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          o2(this, s3), (t3 = n3.call(this, e4))._n = "EventStatModule", t3.TAG = "im-ssolog-event", t3._reportBody = new nr(), t3.MIN_THRESHOLD = 20, t3.MAX_THRESHOLD = 100, t3.WAITING_TIME = 6e4, t3.REPORT_LEVEL = [4, 5, 6], t3.REPORT_SDKAPPID_BLACKLIST = [], t3.REPORT_TINYID_WHITELIST = [], t3._lastReportTime = Date.now();
          var a3 = t3.getInnerEmitterInstance();
          return a3.on(ei, t3._onLoginSuccess, h2(t3)), a3.on(ti, t3._onCloudConfigUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "reportAtOnce", value: function() {
          Ve2.d("".concat(this._n, ".reportAtOnce")), this._report();
        } }, { key: "_onLoginSuccess", value: function() {
          var e4 = this, t3 = this.getModule(Vn2), n4 = t3.getItem(this.TAG, false);
          !zt2(n4) && ut2(n4.forEach) && (Ve2.l("".concat(this._n, "._onLoginSuccess get ssolog in storage, count:").concat(n4.length)), n4.forEach(function(t4) {
            e4._reportBody.pushIn(t4);
          }), t3.removeItem(this.TAG, false));
        } }, { key: "_onCloudConfigUpdated", value: function() {
          var e4 = this.getCloudConfig("evt_rpt_threshold"), t3 = this.getCloudConfig("evt_rpt_waiting"), n4 = this.getCloudConfig("evt_rpt_level"), o3 = this.getCloudConfig("evt_rpt_sdkappid_bl"), s4 = this.getCloudConfig("evt_rpt_tinyid_wl");
          it2(e4) || (this.MIN_THRESHOLD = Number(e4)), it2(t3) || (this.WAITING_TIME = Number(t3)), it2(n4) || (this.REPORT_LEVEL = n4.split(",").map(function(e5) {
            return Number(e5);
          })), it2(o3) || (this.REPORT_SDKAPPID_BLACKLIST = o3.split(",").map(function(e5) {
            return Number(e5);
          })), it2(s4) || (this.REPORT_TINYID_WHITELIST = s4.split(","));
        } }, { key: "pushIn", value: function(e4) {
          e4 instanceof Aa && (e4.updateTimeStamp(), this._reportBody.pushIn(e4), this._reportBody.getLogsNumInMemory() >= this.MIN_THRESHOLD && this._report());
        } }, { key: "onCheckTimer", value: function() {
          Date.now() < this._lastReportTime + this.WAITING_TIME || this._reportBody.isEmpty() || this._report();
        } }, { key: "_filterLogs", value: function(e4) {
          var t3 = this, n4 = this.getModule(xn), o3 = n4.getSDKAppID(), s4 = n4.getTinyID();
          return Ft2(this.REPORT_SDKAPPID_BLACKLIST, o3) && !qt2(this.REPORT_TINYID_WHITELIST, s4) ? [] : e4.filter(function(e5) {
            return t3.REPORT_LEVEL.includes(e5.level);
          });
        } }, { key: "_report", value: function() {
          var e4 = this;
          if (!this._reportBody.isEmpty()) {
            var n4 = this._reportBody.getLogsInMemory(), o3 = this._filterLogs(n4);
            if (0 !== o3.length) {
              var s4 = { header: or(this), event: o3 };
              this.request({ protocolName: Bs2, requestData: t2({}, s4) }).then(function() {
                e4._lastReportTime = Date.now();
              }).catch(function(t3) {
                Ve2.w("".concat(e4._n, ".report failed. networkType:").concat(e4.getNetworkType(), " error:"), t3), e4._reportBody.backfill(n4), e4._reportBody.getLogsNumInMemory() > e4.MAX_THRESHOLD && e4._flushAtOnce();
              });
            } else
              this._lastReportTime = Date.now();
          }
        } }, { key: "_flushAtOnce", value: function() {
          var e4 = this.getModule(Vn2), t3 = e4.getItem(this.TAG, false), n4 = this._reportBody.getLogsInMemory(), o3 = "".concat(this._n, "._flushAtOnce");
          if (zt2(t3))
            Ve2.l("".concat(o3, " count:").concat(n4.length)), e4.setItem(this.TAG, n4, true, false);
          else {
            var s4 = n4.concat(t3);
            s4.length > this.MAX_THRESHOLD && (s4 = s4.slice(0, this.MAX_THRESHOLD)), Ve2.l("".concat(o3, " count:").concat(s4.length)), e4.setItem(this.TAG, s4, true, false);
          }
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._lastReportTime = 0, this._report(), this.REPORT_SDKAPPID_BLACKLIST = [], this.REPORT_TINYID_WHITELIST = [];
        } }]), s3;
      }(uo), ar = "none", ir = "online", rr = [ha.OVER_FREQUENCY_LIMIT, ha.OPEN_SERVICE_OVERLOAD_ERROR], ur = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._networkType = "", this._n = "NetMonitorModule", this.MAX_WAIT_TIME = 3e3, this._mpNetworkStatusCallback = null, this._webOnlineCallback = null, this._webOfflineCallback = null;
        }
        return a2(e3, [{ key: "start", value: function() {
          var e4 = this;
          ae2 ? (re2.getNetworkType({ success: function(t3) {
            e4._networkType = t3.networkType || t3.subtype || "", t3.networkType === ar ? Ve2.w("".concat(e4._n, ".start no network, please check!")) : Ve2.i("".concat(e4._n, ".start networkType:").concat(t3.networkType));
          } }), this._mpNetworkStatusCallback = this._onNetworkStatusChange.bind(this), re2.onNetworkStatusChange(this._mpNetworkStatusCallback)) : (this._networkType = ir, this._webOnlineCallback = this._onWebOnline.bind(this), this._webOfflineCallback = this._onWebOffline.bind(this), window && (window.addEventListener("online", this._webOnlineCallback), window.addEventListener("offline", this._webOfflineCallback)));
        } }, { key: "_onWebOnline", value: function() {
          this._onNetworkStatusChange({ isConnected: true, networkType: ir });
        } }, { key: "_onWebOffline", value: function() {
          this._onNetworkStatusChange({ isConnected: false, networkType: ar });
        } }, { key: "_onNetworkStatusChange", value: function(e4) {
          var t3 = e4.isConnected, n3 = e4.networkType, o3 = "".concat(this._n, "._onNetworkStatusChange"), s3 = false;
          t3 ? (Ve2.i("".concat(o3, " previous:").concat(this._networkType, " current:").concat(n3)), this._networkType !== n3 && (s3 = true, this._m.getModule(Jn2).reConnect(true))) : this._networkType !== n3 && (s3 = true, Ve2.w("".concat(o3, " no network, please check!")), this._m.getModule(Jn2).offline());
          s3 && (new Aa("networkChange").setMessage("isConnected:".concat(t3, " previousNetworkType:").concat(this._networkType, " networkType:").concat(n3)).end(), this._networkType = n3);
        } }, { key: "probe", value: function(e4) {
          var t3 = this;
          if (!it2(e4) && rr.includes(e4.code))
            return Promise.resolve([true, this._networkType]);
          var n3 = "".concat(this._n, ".probe");
          return new Promise(function(e5, o3) {
            ae2 ? re2.getNetworkType({ success: function(o4) {
              t3._networkType = o4.networkType, o4.networkType === ar ? (Ve2.w("".concat(n3, " no network, please check!")), e5([false, o4.networkType])) : (Ve2.i("".concat(n3, " networkType:").concat(o4.networkType)), e5([true, o4.networkType]));
            } }) : t3._networkType === ar ? e5([false, ar]) : e5([true, ir]);
          });
        } }, { key: "getNetworkType", value: function() {
          return this._networkType;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), ae2 ? null !== this._mpNetworkStatusCallback && (re2.offNetworkStatusChange && (oe2 || $2 ? re2.offNetworkStatusChange(this._mpNetworkStatusCallback) : re2.offNetworkStatusChange()), this._mpNetworkStatusCallback = null) : window && (null !== this._webOnlineCallback && (window.removeEventListener("online", this._webOnlineCallback), this._webOnlineCallback = null), null !== this._onWebOffline && (window.removeEventListener("offline", this._webOfflineCallback), this._webOfflineCallback = null));
        } }]), e3;
      }();
      function cr(e3, t3) {
        return e3(t3 = { exports: {} }, t3.exports), t3.exports;
      }
      var lr = cr(function(e3) {
        var t3 = Object.prototype.hasOwnProperty, n3 = "~";
        function o3() {
        }
        function s3(e4, t4, n4) {
          this.fn = e4, this.context = t4, this.once = n4 || false;
        }
        function a3(e4, t4, o4, a4, i4) {
          if ("function" != typeof o4)
            throw new TypeError("The listener must be a function");
          var r4 = new s3(o4, a4 || e4, i4), u3 = n3 ? n3 + t4 : t4;
          return e4._events[u3] ? e4._events[u3].fn ? e4._events[u3] = [e4._events[u3], r4] : e4._events[u3].push(r4) : (e4._events[u3] = r4, e4._eventsCount++), e4;
        }
        function i3(e4, t4) {
          0 == --e4._eventsCount ? e4._events = new o3() : delete e4._events[t4];
        }
        function r3() {
          this._events = new o3(), this._eventsCount = 0;
        }
        Object.create && (o3.prototype = /* @__PURE__ */ Object.create(null), new o3().__proto__ || (n3 = false)), r3.prototype.eventNames = function() {
          var e4, o4, s4 = [];
          if (0 === this._eventsCount)
            return s4;
          for (o4 in e4 = this._events)
            t3.call(e4, o4) && s4.push(n3 ? o4.slice(1) : o4);
          return Object.getOwnPropertySymbols ? s4.concat(Object.getOwnPropertySymbols(e4)) : s4;
        }, r3.prototype.listeners = function(e4) {
          var t4 = n3 ? n3 + e4 : e4, o4 = this._events[t4];
          if (!o4)
            return [];
          if (o4.fn)
            return [o4.fn];
          for (var s4 = 0, a4 = o4.length, i4 = new Array(a4); s4 < a4; s4++)
            i4[s4] = o4[s4].fn;
          return i4;
        }, r3.prototype.listenerCount = function(e4) {
          var t4 = n3 ? n3 + e4 : e4, o4 = this._events[t4];
          return o4 ? o4.fn ? 1 : o4.length : 0;
        }, r3.prototype.emit = function(e4, t4, o4, s4, a4, i4) {
          var r4 = n3 ? n3 + e4 : e4;
          if (!this._events[r4])
            return false;
          var u3, c3, l3 = this._events[r4], d3 = arguments.length;
          if (l3.fn) {
            switch (l3.once && this.removeListener(e4, l3.fn, void 0, true), d3) {
              case 1:
                return l3.fn.call(l3.context), true;
              case 2:
                return l3.fn.call(l3.context, t4), true;
              case 3:
                return l3.fn.call(l3.context, t4, o4), true;
              case 4:
                return l3.fn.call(l3.context, t4, o4, s4), true;
              case 5:
                return l3.fn.call(l3.context, t4, o4, s4, a4), true;
              case 6:
                return l3.fn.call(l3.context, t4, o4, s4, a4, i4), true;
            }
            for (c3 = 1, u3 = new Array(d3 - 1); c3 < d3; c3++)
              u3[c3 - 1] = arguments[c3];
            l3.fn.apply(l3.context, u3);
          } else {
            var p3, g3 = l3.length;
            for (c3 = 0; c3 < g3; c3++)
              switch (l3[c3].once && this.removeListener(e4, l3[c3].fn, void 0, true), d3) {
                case 1:
                  l3[c3].fn.call(l3[c3].context);
                  break;
                case 2:
                  l3[c3].fn.call(l3[c3].context, t4);
                  break;
                case 3:
                  l3[c3].fn.call(l3[c3].context, t4, o4);
                  break;
                case 4:
                  l3[c3].fn.call(l3[c3].context, t4, o4, s4);
                  break;
                default:
                  if (!u3)
                    for (p3 = 1, u3 = new Array(d3 - 1); p3 < d3; p3++)
                      u3[p3 - 1] = arguments[p3];
                  l3[c3].fn.apply(l3[c3].context, u3);
              }
          }
          return true;
        }, r3.prototype.on = function(e4, t4, n4) {
          return a3(this, e4, t4, n4, false);
        }, r3.prototype.once = function(e4, t4, n4) {
          return a3(this, e4, t4, n4, true);
        }, r3.prototype.removeListener = function(e4, t4, o4, s4) {
          var a4 = n3 ? n3 + e4 : e4;
          if (!this._events[a4])
            return this;
          if (!t4)
            return i3(this, a4), this;
          var r4 = this._events[a4];
          if (r4.fn)
            r4.fn !== t4 || s4 && !r4.once || o4 && r4.context !== o4 || i3(this, a4);
          else {
            for (var u3 = 0, c3 = [], l3 = r4.length; u3 < l3; u3++)
              (r4[u3].fn !== t4 || s4 && !r4[u3].once || o4 && r4[u3].context !== o4) && c3.push(r4[u3]);
            c3.length ? this._events[a4] = 1 === c3.length ? c3[0] : c3 : i3(this, a4);
          }
          return this;
        }, r3.prototype.removeAllListeners = function(e4) {
          var t4;
          return e4 ? (t4 = n3 ? n3 + e4 : e4, this._events[t4] && i3(this, t4)) : (this._events = new o3(), this._eventsCount = 0), this;
        }, r3.prototype.off = r3.prototype.removeListener, r3.prototype.addListener = r3.prototype.on, r3.prefixed = n3, r3.EventEmitter = r3, e3.exports = r3;
      }), dr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "BigDataChannelModule", s3.FILETYPE = { SOUND: 2106, FILE: 2107, VIDEO: 2113 }, s3._bdh_download_server = "grouptalk.c2c.qq.com", s3._BDHBizID = 10001, s3._authKey = "", s3._expireTime = 0, s3.getInnerEmitterInstance().on(ei, s3._getAuthKey, h2(s3)), s3;
        }
        return a2(n3, [{ key: "_getAuthKey", value: function() {
          var e4 = this;
          this.isIntl() || this.request({ protocolName: _o }).then(function(t4) {
            t4.data.authKey && (e4._authKey = t4.data.authKey, e4._expireTime = parseInt(t4.data.expireTime));
          });
        } }, { key: "_isFromOlderVersion", value: function(e4) {
          return !(!e4.content || 2 === e4.content.downloadFlag);
        } }, { key: "parseElements", value: function(e4, t4) {
          if (!at2(e4) || !t4)
            return [];
          for (var n4 = [], o3 = null, s3 = 0; s3 < e4.length; s3++)
            o3 = e4[s3], this._needParse(o3) ? n4.push(this._parseElement(o3, t4)) : n4.push(e4[s3]);
          return n4;
        } }, { key: "_needParse", value: function(e4) {
          return !e4.cloudCustomData && !(!this._isFromOlderVersion(e4) || e4.type !== E2.MSG_AUDIO && e4.type !== E2.MSG_FILE && e4.type !== E2.MSG_VIDEO);
        } }, { key: "_parseElement", value: function(e4, t4) {
          switch (e4.type) {
            case E2.MSG_AUDIO:
              return this._parseAudioElement(e4, t4);
            case E2.MSG_FILE:
              return this._parseFileElement(e4, t4);
            case E2.MSG_VIDEO:
              return this._parseVideoElement(e4, t4);
          }
        } }, { key: "_parseAudioElement", value: function(e4, t4) {
          return e4.content.url = this._genAudioUrl(e4.content.uuid, t4), e4;
        } }, { key: "_parseFileElement", value: function(e4, t4) {
          return e4.content.url = this._genFileUrl(e4.content.uuid, t4, e4.content.fileName), e4;
        } }, { key: "_parseVideoElement", value: function(e4, t4) {
          return e4.content.url = this._genVideoUrl(e4.content.uuid, t4), e4;
        } }, { key: "_genAudioUrl", value: function(e4, t4) {
          if ("" === this._authKey)
            return "";
          var n4 = this.getModule(xn).getSDKAppID();
          return "https://".concat(this._bdh_download_server, "/asn.com/stddownload_common_file?authkey=").concat(this._authKey, "&bid=").concat(this._BDHBizID, "&subbid=").concat(n4, "&fileid=").concat(e4, "&filetype=").concat(this.FILETYPE.SOUND, "&openid=").concat(t4, "&ver=0");
        } }, { key: "_genFileUrl", value: function(e4, t4, n4) {
          if ("" === this._authKey)
            return "";
          n4 || (n4 = "".concat(Math.floor(1e5 * Math.random()), "-").concat(Date.now()));
          var o3 = this.getModule(xn).getSDKAppID();
          return "https://".concat(this._bdh_download_server, "/asn.com/stddownload_common_file?authkey=").concat(this._authKey, "&bid=").concat(this._BDHBizID, "&subbid=").concat(o3, "&fileid=").concat(e4, "&filetype=").concat(this.FILETYPE.FILE, "&openid=").concat(t4, "&ver=0&filename=").concat(encodeURIComponent(n4));
        } }, { key: "_genVideoUrl", value: function(e4, t4) {
          if ("" === this._authKey)
            return "";
          var n4 = this.getModule(xn).getSDKAppID();
          return "https://".concat(this._bdh_download_server, "/asn.com/stddownload_common_file?authkey=").concat(this._authKey, "&bid=").concat(this._BDHBizID, "&subbid=").concat(n4, "&fileid=").concat(e4, "&filetype=").concat(this.FILETYPE.VIDEO, "&openid=").concat(t4, "&ver=0");
        } }, { key: "reset", value: function() {
          this._authKey = "", this.expireTime = 0;
        } }]), n3;
      }(uo), pr = ["requestSnapshotUrl"], gr = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          o2(this, s3), (t3 = n3.call(this, e4))._n = "UploadModule", t3.TIMUploadPlugin = null, t3.timUploadPlugin = null, t3.COSSDK = null, t3._cosUploadMethod = null, t3.expiredTimeLimit = 600, t3.appid = 0, t3.bucketName = "", t3.ciUrl = "", t3.directory = "", t3.downloadUrl = "", t3.uploadUrl = "", t3.region = "ap-shanghai", t3.cos = null, t3.cosOptions = { secretId: "", secretKey: "", sessionToken: "", expiredTime: 0 }, t3.uploadFileType = "", t3.duration = 900, t3.tryCount = 0, t3.UPLOAD_SIZE_LIMIT = { AUDIO: 20971520, FILE: 104857600, IMAGE: 20971520, VIDEO: 104857600 };
          var a3 = t3.getInnerEmitterInstance();
          return a3.on(ei, t3._init, h2(t3)), a3.on(ti, t3._onCloudConfigUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_init", value: function() {
          var e4 = this.getModule(Yn2);
          if (this.TIMUploadPlugin = e4.getPlugin("tim-upload-plugin"), this.TIMUploadPlugin)
            this._initUploaderMethod();
          else {
            var t3 = ae2 ? "cos-wx-sdk" : "cos-js-sdk";
            this.COSSDK = e4.getPlugin(t3), this.COSSDK ? (this._getAuthorizationKey(), this.outputWarning("CosReplacement", t3)) : this.outputWarning("PluginUndetected");
          }
        } }, { key: "_onCloudConfigUpdated", value: function() {
          var e4 = "".concat(this._n, "._onCloudConfigUpdated"), t3 = this.getCloudConfig("upload_size_limit");
          if (Ve2.l("".concat(e4, " uploadSizeLimit:").concat(t3)), !it2(t3))
            try {
              var n4 = JSON.parse(t3);
              this.UPLOAD_SIZE_LIMIT = { AUDIO: n4.a ? 1048576 * parseInt(n4.a) : this.UPLOAD_SIZE_LIMIT.AUDIO, FILE: n4.f ? 1048576 * parseInt(n4.f) : this.UPLOAD_SIZE_LIMIT.FILE, IMAGE: n4.i ? 1048576 * parseInt(n4.i) : this.UPLOAD_SIZE_LIMIT.IMAGE, VIDEO: n4.v ? 1048576 * parseInt(n4.v) : this.UPLOAD_SIZE_LIMIT.VIDEO };
            } catch (o3) {
              Ve2.e("".concat(e4, " JSON parse error. uploadSizeLimit:"), t3);
            }
        } }, { key: "_getAuthorizationKey", value: function() {
          var e4 = this, t3 = "".concat(this._n, ".").concat("_getAuthorizationKey"), n4 = new Aa("_getAuthorizationKey"), o3 = Math.ceil(Date.now() / 1e3);
          this.request({ protocolName: qs2, requestData: { duration: this.expiredTimeLimit } }).then(function(s4) {
            var a3 = s4.data;
            Ve2.l("".concat(t3, " ok. data:"), a3);
            var i3 = a3.expiredTime - o3;
            n4.setMessage("requestId:".concat(a3.requestId, " requestTime:").concat(o3, " expiredTime:").concat(a3.expiredTime, " diff:").concat(i3, "s")).setNetworkType(e4.getNetworkType()).end(), !ae2 && a3.region && (e4.region = a3.region), e4.appid = a3.appid, e4.bucketName = a3.bucketName, e4.ciUrl = a3.ciUrl, e4.directory = a3.directory, e4.downloadUrl = a3.downloadUrl, e4.uploadUrl = a3.uploadUrl, e4.cosOptions = { secretId: a3.secretId, secretKey: a3.secretKey, sessionToken: a3.sessionToken, expiredTime: a3.expiredTime }, Ve2.l("".concat(t3, " ok. region:").concat(e4.region, " bucketName:").concat(e4.bucketName)), e4._initUploaderMethod();
          }).catch(function(o4) {
            e4.probeNetwork().then(function(e5) {
              var t4 = v2(e5, 2), s4 = t4[0], a3 = t4[1];
              n4.setError(o4, s4, a3).end();
            }), Ve2.w("".concat(t3, " failed. error:"), o4);
          });
        } }, { key: "_getCosPreSigUrl", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, ".").concat("_getCosPreSigUrl"), o3 = Math.ceil(Date.now() / 1e3), s4 = new Aa("_getCosPreSigUrl");
          return this.request({ protocolName: xs2, requestData: { fileType: e4.fileType, fileName: e4.fileName, uploadMethod: e4.uploadMethod, duration: e4.duration } }).then(function(e5) {
            t3.tryCount = 0;
            var a3 = e5.data || {}, i3 = a3.expiredTime - o3;
            return Ve2.l("".concat(n4, " ok. data:"), a3), s4.setMessage("requestId:".concat(a3.requestId, " expiredTime:").concat(a3.expiredTime, " diff:").concat(i3, "s")).setNetworkType(t3.getNetworkType()).end(), a3;
          }).catch(function(o4) {
            return -1 === o4.code && (o4.code = ha.COS_GET_SIG_FAIL), t3.probeNetwork().then(function(e5) {
              var t4 = v2(e5, 2), n5 = t4[0], a3 = t4[1];
              s4.setError(o4, n5, a3).end();
            }), Ve2.w("".concat(n4, " failed. error:"), o4), t3.tryCount < 1 ? (t3.tryCount++, t3._getCosPreSigUrl(e4)) : (t3.tryCount = 0, Za({ code: ha.COS_GET_SIG_FAIL }));
          });
        } }, { key: "_initUploaderMethod", value: function() {
          var e4 = this;
          if (this.TIMUploadPlugin)
            return this.timUploadPlugin = new this.TIMUploadPlugin(), void (this._cosUploadMethod = function(t3, n4) {
              e4.timUploadPlugin.uploadFile(t3, n4);
            });
          this.appid && (this.cos = ae2 ? new this.COSSDK({ ForcePathStyle: true, getAuthorization: this._getAuthorization.bind(this) }) : new this.COSSDK({ getAuthorization: this._getAuthorization.bind(this) }), this._cosUploadMethod = ae2 ? function(t3, n4) {
            e4.cos.postObject(t3, n4);
          } : function(t3, n4) {
            e4.cos.uploadFiles(t3, n4);
          });
        } }, { key: "onCheckTimer", value: function(e4) {
          this.COSSDK && (this.TIMUploadPlugin || this.isLoggedIn() && e4 % 60 == 0 && Math.ceil(Date.now() / 1e3) >= this.cosOptions.expiredTime - 120 && this._getAuthorizationKey());
        } }, { key: "_getAuthorization", value: function(e4, t3) {
          t3({ TmpSecretId: this.cosOptions.secretId, TmpSecretKey: this.cosOptions.secretKey, XCosSecurityToken: this.cosOptions.sessionToken, ExpiredTime: this.cosOptions.expiredTime });
        } }, { key: "upload", value: function(e4) {
          if (true === e4.getRelayFlag())
            return Promise.resolve();
          var t3 = this.getModule(eo);
          switch (e4.type) {
            case E2.MSG_IMAGE:
              return t3.addTotalCount(Ia), this._uploadImage(e4);
            case E2.MSG_FILE:
              return t3.addTotalCount(Ia), this._uploadFile(e4);
            case E2.MSG_AUDIO:
              return t3.addTotalCount(Ia), this._uploadAudio(e4);
            case E2.MSG_VIDEO:
              return t3.addTotalCount(Ia), this._uploadVideo(e4);
            default:
              return Promise.resolve();
          }
        } }, { key: "_uploadImage", value: function(e4) {
          var n4 = this, o3 = this.getModule(Nn), s4 = e4.getElements()[0], a3 = o3.getMessageOption(e4.clientSequence);
          return this.doUploadImage({ file: a3.payload.file, to: a3.to, onProgress: function(e5) {
            if (s4.updatePercent(e5), ut2(a3.onProgress))
              try {
                a3.onProgress(e5);
              } catch (t3) {
                return Za({ code: ha.MESSAGE_ONPROGRESS_FUNCTION_ERROR });
              }
          } }).then(function(o4) {
            var a4, i3, r3 = o4.location, u3 = o4.fileType, c3 = o4.fileSize, l3 = o4.width, d3 = o4.height, p3 = o4.smallImageUrl, g3 = o4.smallImageWidth, h3 = o4.smallImageHeight, _3 = o4.largeImageUrl, f3 = o4.largeImageWidth, v3 = o4.largeImageHeight, m3 = n4.isPrivateNetWork() ? r3 : yt2(r3);
            return s4.updateImageFormat(u3), p3 && _3 ? (a4 = { url: p3, width: g3, height: h3 }, i3 = { url: _3, width: f3, height: v3 }) : (a4 = Ut2({ originUrl: m3, originWidth: l3, originHeight: d3, min: 198 }), i3 = Ut2({ originUrl: m3, originWidth: l3, originHeight: d3, min: 720 })), s4.updateImageInfoArray([{ size: c3, url: m3, width: l3, height: d3 }, t2({}, i3), t2({}, a4)]), e4;
          });
        } }, { key: "_uploadFile", value: function(e4) {
          var t3 = this, n4 = this.getModule(Nn), o3 = e4.getElements()[0], s4 = n4.getMessageOption(e4.clientSequence);
          return this.doUploadFile({ file: s4.payload.file, to: s4.to, onProgress: function(e5) {
            if (o3.updatePercent(e5), ut2(s4.onProgress))
              try {
                s4.onProgress(e5);
              } catch (t4) {
                return Za({ code: ha.MESSAGE_ONPROGRESS_FUNCTION_ERROR });
              }
          } }).then(function(n5) {
            var s5 = n5.location, a3 = t3.isPrivateNetWork() ? s5 : yt2(s5);
            return o3.updateFileUrl(a3), e4;
          });
        } }, { key: "_uploadAudio", value: function(e4) {
          var t3 = this, n4 = this.getModule(Nn), o3 = e4.getElements()[0], s4 = n4.getMessageOption(e4.clientSequence);
          return this.doUploadAudio({ file: s4.payload.file, to: s4.to, onProgress: function(e5) {
            if (o3.updatePercent(e5), ut2(s4.onProgress))
              try {
                s4.onProgress(e5);
              } catch (t4) {
                return Za({ code: ha.MESSAGE_ONPROGRESS_FUNCTION_ERROR });
              }
          } }).then(function(n5) {
            var s5 = n5.location, a3 = t3.isPrivateNetWork() ? s5 : yt2(s5);
            return o3.updateAudioUrl(a3), e4;
          });
        } }, { key: "_uploadVideo", value: function(e4) {
          var t3 = this, n4 = this.getModule(Nn), o3 = e4.getElements()[0], s4 = n4.getMessageOption(e4.clientSequence);
          return this.doUploadVideo({ file: s4.payload.file, to: s4.to, onProgress: function(e5) {
            if (o3.updatePercent(e5), ut2(s4.onProgress))
              try {
                s4.onProgress(e5);
              } catch (t4) {
                return Za({ code: ha.MESSAGE_ONPROGRESS_FUNCTION_ERROR });
              }
          } }).then(function(n5) {
            var s5 = n5.location, a3 = n5.snapshotInfo, i3 = t3.isPrivateNetWork() ? s5 : yt2(s5);
            return o3.updateVideoUrl(i3), zt2(a3) || o3.updateSnapshotInfo(a3), e4;
          });
        } }, { key: "_checkSizeError", value: function(e4) {
          return Za({ code: ha["MESSAGE_".concat(e4, "_SIZE_LIMIT")], message: this.getErrorMessage("UploadSizeLimit", e4.toLowerCase(), "".concat(this.UPLOAD_SIZE_LIMIT[e4] / 1048576, " MB")) });
        } }, { key: "doUploadImage", value: function(e4) {
          var t3 = this;
          if (!e4.file)
            return Za({ code: ha.MESSAGE_IMAGE_SELECT_FILE_FIRST });
          var n4 = this._checkImageType(e4.file);
          if (true !== n4)
            return n4;
          var o3 = this._checkImageSize(e4.file);
          if (true !== o3)
            return o3;
          var s4 = null;
          return this._setUploadFileType(ii), this.uploadByCOS(e4).then(function(e5) {
            return s4 = e5, t3.isPrivateNetWork() ? Rt2(e5.location) : Rt2("https://".concat(e5.location));
          }).then(function(e5) {
            return s4.width = e5.width, s4.height = e5.height, Promise.resolve(s4);
          });
        } }, { key: "_checkImageType", value: function(e4) {
          var t3 = "";
          return t3 = ae2 ? e4.url.slice(e4.url.lastIndexOf(".") + 1) : e4.files[0].name.slice(e4.files[0].name.lastIndexOf(".") + 1), si.indexOf(t3.toLowerCase()) >= 0 || Za({ code: ha.MESSAGE_IMAGE_TYPES_LIMIT });
        } }, { key: "_checkImageSize", value: function(e4) {
          var t3 = 0;
          return 0 === (t3 = ae2 ? e4.size : e4.files[0].size) ? Za({ code: ha.MESSAGE_FILE_IS_EMPTY }) : t3 < this.UPLOAD_SIZE_LIMIT.IMAGE || this._checkSizeError("IMAGE");
        } }, { key: "doUploadFile", value: function(e4) {
          return e4.file ? e4.file.files[0].size > this.UPLOAD_SIZE_LIMIT.FILE ? this._checkSizeError("FILE") : 0 === e4.file.files[0].size ? Za({ code: ha.MESSAGE_FILE_IS_EMPTY }) : (this._setUploadFileType(ci), this.uploadByCOS(e4)) : Za({ code: ha.MESSAGE_FILE_SELECT_FILE_FIRST });
        } }, { key: "doUploadVideo", value: function(e4) {
          return e4.file.videoFile.size > this.UPLOAD_SIZE_LIMIT.VIDEO ? this._checkSizeError("VIDEO") : 0 === e4.file.videoFile.size ? Za({ code: ha.MESSAGE_FILE_IS_EMPTY }) : -1 === ai.indexOf(e4.file.videoFile.type) ? Za({ code: ha.MESSAGE_VIDEO_TYPES_LIMIT }) : (this._setUploadFileType(ri), ae2 ? this.handleVideoUpload({ file: e4.file.videoFile, onProgress: e4.onProgress }) : ie2 ? this.handleVideoUpload(e4) : void 0);
        } }, { key: "handleVideoUpload", value: function(e4) {
          var t3 = this;
          return new Promise(function(n4, o3) {
            t3.uploadByCOS(e4).then(function(e5) {
              n4(e5);
            }).catch(function() {
              t3.uploadByCOS(e4).then(function(e5) {
                n4(e5);
              }).catch(function() {
                o3(new ja({ code: ha.MESSAGE_VIDEO_UPLOAD_FAIL }));
              });
            });
          });
        } }, { key: "doUploadAudio", value: function(e4) {
          return e4.file ? e4.file.size > this.UPLOAD_SIZE_LIMIT.AUDIO ? this._checkSizeError("AUDIO") : 0 === e4.file.size ? Za({ code: ha.MESSAGE_FILE_IS_EMPTY }) : (this._setUploadFileType(ui), this.uploadByCOS(e4)) : Za({ code: ha.MESSAGE_AUDIO_UPLOAD_FAIL });
        } }, { key: "uploadByCOS", value: function(e4) {
          var t3 = this;
          if (!ut2(this._cosUploadMethod))
            return this.outputWarning("PluginUndetected"), Za({ code: ha.COS_UNDETECTED });
          if (this.timUploadPlugin)
            return this._uploadWithPreSigUrl(e4);
          var n4 = new Aa("upload"), o3 = "".concat(this._n, ".uploadByCOS"), s4 = Date.now(), a3 = this._getFile(e4);
          return new Promise(function(i3, r3) {
            var u3 = ae2 ? t3._createCosOptionsWXMiniApp(e4) : t3._createCosOptionsWeb(e4), c3 = t3;
            t3._cosUploadMethod(u3, function(e5, u4) {
              var l3 = /* @__PURE__ */ Object.create(null);
              if (u4) {
                if (e5 || at2(u4.files) && u4.files[0].error) {
                  var d3 = new ja({ code: ha.MESSAGE_FILE_UPLOAD_FAIL });
                  return n4.setError(d3, true, t3.getNetworkType()).end(), Ve2.l("".concat(o3, " failed. error:"), u4.files[0].error), 403 === u4.files[0].error.statusCode && (Ve2.w("".concat(o3, " failed. cos AccessKeyId was invalid, regain auth key!")), t3._getAuthorizationKey()), void r3(d3);
                }
                l3.fileName = a3.name, l3.fileSize = a3.size, l3.fileType = a3.type.slice(a3.type.indexOf("/") + 1).toLowerCase(), l3.location = ae2 ? u4.Location : u4.files[0].data.Location;
                var p3 = Date.now() - s4, g3 = c3._formatFileSize(a3.size), h3 = c3._formatSpeed(1e3 * a3.size / p3), _3 = "size:".concat(g3, " time:").concat(p3, "ms speed:").concat(h3);
                Ve2.l("".concat(o3, " success. name:").concat(a3.name, " ").concat(_3)), i3(l3);
                var f3 = t3.getModule(eo);
                return f3.addCost(Ia, p3), f3.addFileSize(Ia, a3.size), void n4.setNetworkType(t3.getNetworkType()).setMessage(_3).end();
              }
              var v3 = new ja({ code: ha.MESSAGE_FILE_UPLOAD_FAIL });
              n4.setError(v3, true, c3.getNetworkType()).end(), Ve2.w("".concat(o3, " failed. error:"), e5), 403 === e5.statusCode && (Ve2.w("".concat(o3, " failed. cos AccessKeyId was invalid, regain auth key!")), t3._getAuthorizationKey()), r3(v3);
            });
          });
        } }, { key: "_uploadWithPreSigUrl", value: function(e4) {
          var t3 = this, n4 = "".concat(this._n, "._uploadWithPreSigUrl"), o3 = this._getFile(e4);
          return this._createCosOptionsPreSigUrl(e4).then(function(e5) {
            return new Promise(function(s4, a3) {
              var i3 = new Aa("upload"), r3 = e5.requestSnapshotUrl, u3 = void 0 === r3 ? void 0 : r3, c3 = g2(e5, pr), l3 = Date.now();
              t3._cosUploadMethod(c3, function(e6, r4) {
                if (e6 || 403 === r4.statusCode)
                  return i3.setError(new ja(e6), true, t3.getNetworkType()).end(), Ve2.l("".concat(n4, " failed, error:"), e6), void a3(new ja({ code: ha.MESSAGE_FILE_UPLOAD_FAIL }));
                var d3 = /* @__PURE__ */ Object.create(null), p3 = r4.data.location || "";
                t3.isPrivateNetWork() || 0 !== p3.indexOf("https://") && 0 !== p3.indexOf("http://") || (p3 = p3.split("//")[1]), d3.fileName = o3.name, d3.fileSize = o3.size, d3.fileType = o3.type.slice(o3.type.indexOf("/") + 1).toLowerCase(), d3.location = p3;
                var g3 = Date.now() - l3, h3 = t3._formatFileSize(o3.size), _3 = t3._formatSpeed(1e3 * o3.size / g3), f3 = "size:".concat(h3, ",time:").concat(g3, "ms,speed:").concat(_3, " res:").concat(JSON.stringify(r4.data));
                Ve2.l("".concat(n4, " success name:").concat(o3.name, ",").concat(f3)), i3.setNetworkType(t3.getNetworkType()).setMessage(f3).end();
                var v3 = t3.getModule(eo);
                v3.addCost(Ia, g3), v3.addFileSize(Ia, o3.size);
                var m3 = [];
                if (c3.thumbUrl && c3.largeUrl && (m3 = [t3._getSmallImageInfoByUrl(c3.thumbUrl, d3), t3._getLargeImageInfoByUrl(c3.largeUrl, d3)]), u3 && m3.push(t3._getSnapshotInfoByUrl(u3, d3)), m3.length > 0)
                  return Promise.all(m3).then(function() {
                    s4(d3);
                  });
                s4(d3);
              });
            });
          });
        } }, { key: "_getRawOrUploadProxyUrl", value: function(e4) {
          var t3 = this.getModule(xn).getFileUploadProxy(), n4 = e4;
          return t3 && (n4 = e4.replace(/^https:\/\/[^/]+/, t3)), n4;
        } }, { key: "_getFile", value: function(e4) {
          var t3;
          return at2(e4.file.files) || (t3 = e4.file.files, "filelist" === lt2(t3)) ? e4.file.files[0] : e4.file;
        } }, { key: "_formatFileSize", value: function(e4) {
          return e4 < 1024 ? e4 + "B" : e4 < 1048576 ? Math.floor(e4 / 1024) + "KB" : Math.floor(e4 / 1048576) + "MB";
        } }, { key: "_formatSpeed", value: function(e4) {
          return e4 <= 1048576 ? wt2(e4 / 1024, 1) + "KB/s" : wt2(e4 / 1048576, 1) + "MB/s";
        } }, { key: "_createCosOptionsWeb", value: function(e4) {
          var t3 = this._getFile(e4), n4 = t3.name, o3 = n4.slice(n4.lastIndexOf(".")), s4 = this._genFileName("".concat(_t2(999999)).concat(o3));
          return { files: [{ Bucket: "".concat(this.bucketName, "-").concat(this.appid), Region: this.region, Key: "".concat(this.directory, "/").concat(s4), Body: t3 }], SliceSize: 1048576, onProgress: function(t4) {
            if ("function" == typeof e4.onProgress)
              try {
                e4.onProgress(t4.percent);
              } catch (n5) {
                Ve2.w("onProgress callback error:", n5);
              }
          }, onFileFinish: function(e5, t4, n5) {
          } };
        } }, { key: "_createCosOptionsWXMiniApp", value: function(e4) {
          var t3 = this._getFile(e4), n4 = this._genFileName(t3.name), o3 = t3.url;
          return { Bucket: "".concat(this.bucketName, "-").concat(this.appid), Region: this.region, Key: "".concat(this.directory, "/").concat(n4), FilePath: o3, onProgress: function(t4) {
            if (Ve2.l(JSON.stringify(t4)), "function" == typeof e4.onProgress)
              try {
                e4.onProgress(t4.percent);
              } catch (n5) {
                Ve2.w("onProgress callback error:", n5);
              }
          } };
        } }, { key: "_createCosOptionsPreSigUrl", value: function(e4) {
          var t3 = this, n4 = "", o3 = "", s4 = 0, a3 = this._getFile(e4);
          if (ae2)
            n4 = this._genFileName(a3.name), o3 = a3.url, s4 = 1;
          else {
            var i3 = a3.name, r3 = i3.slice(i3.lastIndexOf("."));
            n4 = this._genFileName("".concat(_t2(999999)).concat(r3)), o3 = a3, s4 = 0;
          }
          return this._getCosPreSigUrl({ fileType: this.uploadFileType, fileName: n4, uploadMethod: s4, duration: this.duration }).then(function(s5) {
            var a4 = s5.uploadUrl, i4 = s5.downloadUrl, r4 = s5.requestSnapshotUrl, u3 = void 0 === r4 ? void 0 : r4, c3 = s5.thumbUrl, l3 = s5.largeUrl;
            return { url: t3._getRawOrUploadProxyUrl(a4), fileType: t3.uploadFileType, fileName: n4, resources: o3, downloadUrl: i4, requestSnapshotUrl: u3, thumbUrl: c3, largeUrl: l3, onProgress: function(t4) {
              if ("function" == typeof e4.onProgress)
                try {
                  e4.onProgress(t4.percent);
                } catch (n5) {
                  Ve2.w("onProgress callback error:", n5), Ve2.e(n5);
                }
            } };
          });
        } }, { key: "_genFileName", value: function(e4) {
          return "".concat(Nt2(), "-").concat(e4);
        } }, { key: "_setUploadFileType", value: function(e4) {
          this.uploadFileType = e4;
        } }, { key: "_getSnapshotInfoByUrl", value: function(e4, t3) {
          var n4 = this, o3 = new Aa("getSnapshotInfo");
          return this.request({ protocolName: Vs2, requestData: { platform: this.getPlatform(), coverName: this._genFileName(_t2(99999)), requestSnapshotUrl: e4 } }).then(function(e5) {
            var n5 = (e5.data || {}).snapshotUrl;
            return o3.setMessage("snapshotUrl:".concat(n5)).end(), zt2(n5) ? {} : Rt2(n5).then(function(e6) {
              t3.snapshotInfo = { snapshotUrl: n5, snapshotWidth: e6.width, snapshotHeight: e6.height };
            });
          }).catch(function(e5) {
            return Ve2.w("".concat(n4._n, "._getSnapshotInfoByUrl failed. error:"), e5), o3.setCode(e5.errorCode).setMessage(e5.errorInfo).end(), {};
          });
        } }, { key: "_getSmallImageInfoByUrl", value: function(e4, t3) {
          return Rt2(e4).then(function(n4) {
            t3.smallImageUrl = e4, t3.smallImageWidth = n4.width, t3.smallImageHeight = n4.height;
          });
        } }, { key: "_getLargeImageInfoByUrl", value: function(e4, t3) {
          return Rt2(e4).then(function(n4) {
            t3.largeImageUrl = e4, t3.largeImageWidth = n4.width, t3.largeImageHeight = n4.height;
          });
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset"));
        } }]), s3;
      }(uo), hr = ["downloadKey", "pbDownloadKey", "messageList"], _r = function() {
        function e3(t3) {
          o2(this, e3), this._n = "MergerMessageHandler", this._messageModule = t3;
        }
        return a2(e3, [{ key: "uploadMergerMessage", value: function(e4, t3) {
          var n3 = this, o3 = "".concat(this._n, ".").concat("uploadMergerMessage");
          Ve2.d("".concat(o3, " message:"), e4, "messageBytes:".concat(t3));
          var s3 = e4.payload.messageList, a3 = s3.length, i3 = new Aa("uploadMergerMessage");
          return this._messageModule.request({ protocolName: zs2, requestData: { messageList: s3 } }).then(function(e5) {
            Ve2.d("".concat(o3, " ok. response:"), e5.data);
            var s4 = e5.data, r3 = s4.pbDownloadKey, u3 = s4.downloadKey, c3 = { pbDownloadKey: r3, downloadKey: u3, messageNumber: a3 };
            return i3.setNetworkType(n3._messageModule.getNetworkType()).setMessage("".concat(a3, "-").concat(t3, "-").concat(u3)).end(), c3;
          }).catch(function(e5) {
            throw Ve2.w("".concat(o3, " failed. error:"), e5), n3._messageModule.probeNetwork().then(function(t4) {
              var n4 = v2(t4, 2), o4 = n4[0], s4 = n4[1];
              i3.setError(e5, o4, s4).end();
            }), e5;
          });
        } }, { key: "downloadMergerMessage", value: function(e4) {
          var n3 = this, o3 = "".concat(this._n, ".").concat("downloadMergerMessage");
          Ve2.d("".concat(o3, " message:"), e4);
          var s3 = e4.payload.downloadKey, a3 = this._messageModule.getFileDownloadProxy(), i3 = new Aa("downloadMergerMessage");
          return i3.setMessage("downloadKey:".concat(s3)), this._messageModule.request({ protocolName: Js2, requestData: { downloadKey: s3 } }).then(function(s4) {
            if (Ve2.d("".concat(o3, " ok. response:"), s4.data), ut2(e4.clearElement)) {
              var r3 = e4.payload;
              r3.downloadKey, r3.pbDownloadKey, r3.messageList;
              var u3 = g2(r3, hr);
              e4.clearElement(), e4.setElement({ type: e4.type, content: t2({ messageList: s4.data.messageList }, u3) }, a3);
            } else {
              var c3 = [];
              s4.data.messageList.forEach(function(e5) {
                if (!zt2(e5)) {
                  var t3 = new Ba(e5, a3);
                  c3.push(t3);
                }
              }), e4.payload.messageList = c3, e4.payload.downloadKey = "", e4.payload.pbDownloadKey = "";
            }
            return i3.setNetworkType(n3._messageModule.getNetworkType()).end(), e4;
          }).catch(function(e5) {
            throw Ve2.w("".concat(o3, " failed. key:").concat(s3, " error:"), e5), n3._messageModule.probeNetwork().then(function(t3) {
              var n4 = v2(t3, 2), o4 = n4[0], s4 = n4[1];
              i3.setError(e5, o4, s4).end();
            }), e5;
          });
        } }, { key: "createMergerMessagePack", value: function(e4, t3, n3) {
          return e4.conversationType === E2.CONV_C2C ? this._createC2CMergerMessagePack(e4, t3, n3) : this._createGroupMergerMessagePack(e4, t3, n3);
        } }, { key: "_createC2CMergerMessagePack", value: function(e4, t3, n3) {
          var o3 = null;
          t3 && (t3.offlinePushInfo && (o3 = t3.offlinePushInfo), true === t3.onlineUserOnly && (o3 ? o3.disablePush = true : o3 = { disablePush: true }));
          var s3 = [];
          if (st2(t3) && st2(t3.messageControlInfo)) {
            var a3 = t3.messageControlInfo, i3 = a3.excludedFromUnreadCount, r3 = a3.excludedFromLastMessage, u3 = a3.excludedFromContentModeration;
            true === i3 && s3.push("NoUnread"), true === r3 && s3.push("NoLastMsg"), true === u3 && s3.push("NoMsgCheck");
          }
          var c3 = "";
          nt2(e4.cloudCustomData) && e4.cloudCustomData.length > 0 && (c3 = e4.cloudCustomData);
          var l3 = n3.pbDownloadKey, d3 = n3.downloadKey, p3 = n3.messageNumber, g3 = e4.payload, h3 = g3.title, _3 = g3.abstractList, f3 = g3.compatibleText, v3 = this._messageModule.getModule(Un), m3 = v3 && v3.isOnlineMessage(e4, t3) ? 0 : void 0;
          return { protocolName: fo, tjgID: this._messageModule.generateTjgID(e4), requestData: { fromAccount: this._messageModule.getMyUserID(), toAccount: e4.to, msgBody: [{ msgType: e4.type, msgContent: { pbDownloadKey: l3, downloadKey: d3, title: h3, abstractList: _3, compatibleText: f3, messageNumber: p3 } }], cloudCustomData: c3, clientTime: e4.clientTime, msgSeq: e4.sequence, msgRandom: e4.random, msgLifeTime: m3, offlinePushInfo: o3 ? { pushFlag: true === o3.disablePush ? 1 : 0, title: o3.title || "", desc: o3.description || "", ext: o3.extension || "", apnsInfo: { badgeMode: true === o3.ignoreIOSBadge ? 1 : 0 }, androidInfo: { OPPOChannelID: o3.androidOPPOChannelID || "" } } : void 0, messageControlInfo: 0 !== m3 ? s3 : void 0, isSupportExtension: true === e4.isSupportExtension ? 1 : 0 } };
        } }, { key: "_createGroupMergerMessagePack", value: function(e4, t3, n3) {
          var o3 = null;
          t3 && t3.offlinePushInfo && (o3 = t3.offlinePushInfo);
          var s3 = [];
          if (st2(t3) && st2(t3.messageControlInfo)) {
            var a3 = t3.messageControlInfo, i3 = a3.excludedFromUnreadCount, r3 = a3.excludedFromLastMessage, u3 = a3.excludedFromContentModeration;
            true === i3 && s3.push("NoUnread"), true === r3 && s3.push("NoLastMsg"), true === u3 && s3.push("NoMsgCheck");
          }
          var c3 = "";
          nt2(e4.cloudCustomData) && e4.cloudCustomData.length > 0 && (c3 = e4.cloudCustomData);
          var l3 = n3.pbDownloadKey, d3 = n3.downloadKey, p3 = n3.messageNumber, g3 = e4.payload, h3 = g3.title, _3 = g3.abstractList, f3 = g3.compatibleText, v3 = this._messageModule.getModule(Pn), m3 = v3 && v3.isOnlineMessage(e4, t3) ? 1 : 0;
          return { protocolName: vo, tjgID: this._messageModule.generateTjgID(e4), requestData: { fromAccount: this._messageModule.getMyUserID(), groupID: e4.to, msgBody: [{ msgType: e4.type, msgContent: { pbDownloadKey: l3, downloadKey: d3, title: h3, abstractList: _3, compatibleText: f3, messageNumber: p3 } }], random: e4.random, priority: e4.priority, clientSequence: e4.clientSequence, groupAtInfo: void 0, cloudCustomData: c3, onlineOnlyFlag: m3, offlinePushInfo: o3 ? { pushFlag: true === o3.disablePush ? 1 : 0, title: o3.title || "", desc: o3.description || "", ext: o3.extension || "", apnsInfo: { badgeMode: true === o3.ignoreIOSBadge ? 1 : 0 }, androidInfo: { OPPOChannelID: o3.androidOPPOChannelID || "" } } : void 0, clientTime: e4.clientTime, needReadReceipt: true !== e4.needReadReceipt || v3.isMessageFromOrToAVChatroom(e4.to) ? 0 : 1, messageControlInfo: 0 === m3 ? s3 : void 0, isSupportExtension: true === e4.isSupportExtension ? 1 : 0 } };
        } }]), e3;
      }(), fr = { ERR_SVR_COMM_SENSITIVE_TEXT: 80001, ERR_SVR_COMM_BODY_SIZE_LIMIT: 80002, OPEN_SERVICE_OVERLOAD_ERROR: 60022, ERR_SVR_MSG_PKG_PARSE_FAILED: 20001, ERR_SVR_MSG_INTERNAL_AUTH_FAILED: 20002, ERR_SVR_MSG_INVALID_ID: 20003, ERR_SVR_MSG_PUSH_DENY: 20006, ERR_SVR_MSG_IN_PEER_BLACKLIST: 20007, ERR_SVR_MSG_BOTH_NOT_FRIEND: 20009, ERR_SVR_MSG_NOT_PEER_FRIEND: 20010, ERR_SVR_MSG_NOT_SELF_FRIEND: 20011, ERR_SVR_MSG_SHUTUP_DENY: 20012, ERR_SVR_GROUP_INVALID_PARAMETERS: 10004, ERR_SVR_GROUP_PERMISSION_DENY: 10007, ERR_SVR_GROUP_NOT_FOUND: 10010, ERR_SVR_GROUP_INVALID_GROUPID: 10015, ERR_SVR_GROUP_REJECT_FROM_THIRDPARTY: 10016, ERR_SVR_GROUP_SHUTUP_DENY: 10017, MESSAGE_SEND_FAIL: 2100, OVER_FREQUENCY_LIMIT: 2996 }, vr = [ha.MESSAGE_ONPROGRESS_FUNCTION_ERROR, ha.MESSAGE_IMAGE_SELECT_FILE_FIRST, ha.MESSAGE_IMAGE_TYPES_LIMIT, ha.MESSAGE_FILE_IS_EMPTY, ha.MESSAGE_IMAGE_SIZE_LIMIT, ha.MESSAGE_FILE_SELECT_FILE_FIRST, ha.MESSAGE_FILE_SIZE_LIMIT, ha.MESSAGE_VIDEO_SIZE_LIMIT, ha.MESSAGE_VIDEO_TYPES_LIMIT, ha.MESSAGE_AUDIO_UPLOAD_FAIL, ha.MESSAGE_AUDIO_SIZE_LIMIT, ha.COS_UNDETECTED];
      function mr(e3) {
        var t3 = false;
        return Object.values(fr).includes(e3) && (t3 = true), (e3 >= 120001 && e3 <= 13e4 || e3 >= 10100 && e3 <= 10200) && (t3 = true), t3;
      }
      var Mr = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "MessageModule", t3._messageOptionsMap = /* @__PURE__ */ new Map(), t3._mergerMessageHandler = new _r(h2(t3)), t3;
        }
        return a2(s3, [{ key: "createTextMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID();
          var n4 = new Wa(e4), o3 = "string" == typeof e4.payload ? e4.payload : e4.payload.text, s4 = new Ra({ text: o3 }), a3 = this._getNickAndAvatarByUserID(t3);
          return n4.setElement(s4), n4.setNickAndAvatar(a3), n4.setNameCard(this._getNameCardByGroupID(n4)), n4;
        } }, { key: "createImageMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID();
          var n4 = new Wa(e4);
          if (ae2) {
            var o3 = e4.payload.file;
            if ($e2(o3))
              return void this.outputWarning("FileUnsupportedInMP", "createImageMessage");
            var s4 = o3.tempFiles[0].path || o3.tempFiles[0].tempFilePath, a3 = { url: s4, name: s4.slice(s4.lastIndexOf("/") + 1), size: o3.tempFiles && o3.tempFiles[0].size || 1, type: s4.slice(s4.lastIndexOf(".") + 1).toLowerCase() };
            e4.payload.file = a3;
          } else if (ie2) {
            if ($e2(e4.payload.file)) {
              var i3 = e4.payload.file;
              e4.payload.file = { files: [i3] };
            } else if (st2(e4.payload.file) && "undefined" != typeof uni) {
              var r3 = e4.payload.file.tempFiles[0];
              e4.payload.file = { files: [r3] };
            }
          }
          var u3 = new Na({ imageFormat: Be2.UNKNOWN, uuid: this._generateUUID(e4.payload.file), file: e4.payload.file }), c3 = this._getNickAndAvatarByUserID(t3);
          return n4.setElement(u3), n4.setNickAndAvatar(c3), n4.setNameCard(this._getNameCardByGroupID(n4)), this._messageOptionsMap.set(n4.clientSequence, e4), n4;
        } }, { key: "createAudioMessage", value: function(e4) {
          var t3 = e4.payload.file;
          if (ae2) {
            var n4 = { url: t3.tempFilePath, name: t3.tempFilePath.slice(t3.tempFilePath.lastIndexOf("/") + 1), size: t3.fileSize, second: parseInt(t3.duration) / 1e3, type: t3.tempFilePath.slice(t3.tempFilePath.lastIndexOf(".") + 1).toLowerCase() };
            e4.payload.file = n4;
          }
          var o3 = this.getMyUserID();
          e4.currentUser = o3, e4.senderTinyID = this.getMyTinyID();
          var s4 = new Wa(e4), a3 = new Ga({ second: Math.floor(t3.duration / 1e3), size: t3.fileSize || t3.size, url: t3.tempFilePath, uuid: this._generateUUID(e4.payload.file) }), i3 = this._getNickAndAvatarByUserID(o3);
          return s4.setElement(a3), s4.setNickAndAvatar(i3), s4.setNameCard(this._getNameCardByGroupID(s4)), this._messageOptionsMap.set(s4.clientSequence, e4), s4;
        } }, { key: "createVideoMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID(), e4.payload.file.thumbUrl = "", e4.payload.file.thumbSize = 0;
          var n4 = {};
          if (ae2) {
            if (te2)
              return void this.outputWarning("VideoUnsupportedInAlipay");
            if ($e2(e4.payload.file))
              return void this.outputWarning("FileUnsupportedInMP", "createVideoMessage");
            var o3 = e4.payload.file;
            at2(o3.tempFiles) && (o3 = o3.tempFiles[0]), n4.url = o3.tempFilePath, n4.name = o3.tempFilePath.slice(o3.tempFilePath.lastIndexOf("/") + 1), n4.size = o3.size || 1, n4.second = o3.duration || 0, n4.type = o3.tempFilePath.slice(o3.tempFilePath.lastIndexOf(".") + 1).toLowerCase();
          } else if (ie2) {
            if ($e2(e4.payload.file)) {
              var s4 = e4.payload.file;
              e4.payload.file.files = [s4];
            } else if (st2(e4.payload.file) && "undefined" != typeof uni) {
              var a3 = e4.payload.file.tempFile;
              e4.payload.file.files = [a3];
            }
            var i3 = e4.payload.file;
            n4.url = window.URL.createObjectURL(i3.files[0]), n4.name = i3.files[0].name, n4.size = i3.files[0].size || 1, n4.second = i3.files[0].duration || 0, n4.type = i3.files[0].type.split("/")[1];
          }
          e4.payload.file.videoFile = n4;
          var r3 = new Wa(e4), u3 = new xa({ videoFormat: n4.type, videoSecond: wt2(n4.second, 0), videoSize: n4.size, remoteVideoUrl: "", videoUrl: n4.url, videoUUID: this._generateUUID(e4.payload.file.videoFile), thumbUUID: this._generateUUID(e4.payload.file.videoFile), thumbWidth: e4.payload.file.width || 200, thumbHeight: e4.payload.file.height || 200, thumbUrl: e4.payload.file.thumbUrl, thumbSize: e4.payload.file.thumbSize, thumbFormat: e4.payload.file.thumbUrl.slice(e4.payload.file.thumbUrl.lastIndexOf(".") + 1).toLowerCase() }), c3 = this._getNickAndAvatarByUserID(t3);
          return r3.setElement(u3), r3.setNickAndAvatar(c3), r3.setNameCard(this._getNameCardByGroupID(r3)), this._messageOptionsMap.set(r3.clientSequence, e4), r3;
        } }, { key: "createCustomMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID();
          var n4 = new Wa(e4), o3 = new qa2({ data: e4.payload.data, description: e4.payload.description, extension: e4.payload.extension }), s4 = this._getNickAndAvatarByUserID(t3);
          return n4.setElement(o3), n4.setNickAndAvatar(s4), n4.setNameCard(this._getNameCardByGroupID(n4)), n4;
        } }, { key: "createFaceMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID();
          var n4 = new Wa(e4), o3 = new Oa(e4.payload), s4 = this._getNickAndAvatarByUserID(t3);
          return n4.setElement(o3), n4.setNickAndAvatar(s4), n4.setNameCard(this._getNameCardByGroupID(n4)), n4;
        } }, { key: "createMergerMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID();
          var n4 = this._getNickAndAvatarByUserID(t3), o3 = new Wa(e4), s4 = new Ha(e4.payload);
          return o3.setElement(s4), o3.setNickAndAvatar(n4), o3.setNameCard(this._getNameCardByGroupID(o3)), o3.setRelayFlag(true), o3;
        } }, { key: "createForwardMessage", value: function(e4) {
          var t3 = e4.to, n4 = e4.conversationType, o3 = e4.priority, s4 = e4.payload, a3 = e4.needReadReceipt, i3 = e4.receiverList, r3 = this.getMyUserID(), u3 = this._getNickAndAvatarByUserID(r3);
          if (s4.type === E2.MSG_GRP_TIP)
            return Za({ code: ha.MESSAGE_FORWARD_TYPE_INVALID });
          var c3 = { to: t3, conversationType: n4, conversationID: "".concat(n4).concat(t3), priority: o3, isPlaceMessage: 0, status: Qt2.UNSEND, currentUser: r3, senderTinyID: this.getMyTinyID(), cloudCustomData: e4.cloudCustomData || s4.cloudCustomData || "", needReadReceipt: a3, receiverList: i3, isSupportExtension: e4.isSupportExtension || false }, l3 = new Wa(c3);
          return l3.setElement(s4.getElements()[0]), l3.setNickAndAvatar(u3), l3.setNameCard(this._getNameCardByGroupID(s4)), l3.setRelayFlag(true), l3;
        } }, { key: "downloadMergerMessage", value: function(e4) {
          return this._mergerMessageHandler.downloadMergerMessage(e4);
        } }, { key: "createFileMessage", value: function(e4) {
          if (ae2) {
            if (!X2 && !Q2 && !oe2)
              return;
            var n4 = re2.getSystemInfoSync().SDKVersion;
            if (X2 && Gt2(n4, "2.5.0") < 0)
              return void this.outputWarning("WXChooseMessageFile");
            if (Q2 && Gt2(n4, "1.18.0") < 0)
              return void this.outputWarning("QQChooseMessageFile");
          }
          if (ie2 || oe2) {
            if ($e2(e4.payload.file)) {
              var o3 = e4.payload.file;
              e4.payload.file = { files: [o3] };
            } else if (st2(e4.payload.file) && "undefined" != typeof uni) {
              var s4 = e4.payload.file, a3 = s4.tempFiles, i3 = s4.files, r3 = null;
              at2(a3) ? r3 = a3[0] : at2(i3) && (r3 = i3[0]), e4.payload.file = { files: [r3] };
            }
          } else if (X2 || Q2) {
            var u3 = e4.payload.file.tempFiles, c3 = t2(t2({}, u3[0]), {}, { url: u3[0].path });
            e4.payload.file = { files: [c3] };
          }
          var l3 = this.getMyUserID();
          e4.currentUser = l3, e4.senderTinyID = this.getMyTinyID();
          var d3 = new Wa(e4), p3 = new Fa({ uuid: this._generateUUID(e4.payload.file), file: e4.payload.file }), g3 = this._getNickAndAvatarByUserID(l3);
          return d3.setElement(p3), d3.setNickAndAvatar(g3), d3.setNameCard(this._getNameCardByGroupID(d3)), this._messageOptionsMap.set(d3.clientSequence, e4), d3;
        } }, { key: "createLocationMessage", value: function(e4) {
          var t3 = this.getMyUserID();
          e4.currentUser = t3, e4.senderTinyID = this.getMyTinyID();
          var n4 = new Wa(e4), o3 = new Va(e4.payload), s4 = this._getNickAndAvatarByUserID(t3);
          return n4.setElement(o3), n4.setNickAndAvatar(s4), n4.setNameCard(this._getNameCardByGroupID(n4)), n4;
        } }, { key: "_onCannotFindModule", value: function() {
          return Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "sendMessageInstance", value: function(e4, t3) {
          var n4 = this;
          if (false === this.getModule(oo).filterMessage(e4, t3))
            return this._onSendMessageFailed(e4, new ja({ code: ha.PROFANITY_FOUND }));
          var o3, s4 = null;
          switch (e4.conversationType) {
            case E2.CONV_C2C:
              if (!(s4 = this.getModule(Un)))
                return this._onCannotFindModule();
              break;
            case E2.CONV_GROUP:
              if (!(s4 = this.getModule(Pn)))
                return this._onCannotFindModule();
              if (Dt2({ groupID: e4.to })) {
                var a3 = s4.getLocalGroupProfile(e4.to);
                if (a3 && a3.isSupportTopic)
                  return Za({ code: ha.MESSAGE_SEND_GROUP_WITH_TOPIC_FAIL });
              }
              break;
            default:
              return Za({ code: ha.MESSAGE_SEND_INVALID_CONVERSATION_TYPE });
          }
          var i3 = this.getModule(Wn), r3 = this.getModule(Pn);
          return i3.upload(e4).then(function() {
            n4._getSendMessageSpecifiedKey(e4) === ya && n4.getModule(eo).addSuccessCount(Ia);
            return r3.guardForAVChatRoom(e4).then(function() {
              if (!e4.isSendable())
                return Za({ code: ha.MESSAGE_FILE_URL_IS_EMPTY });
              n4._addSendMessageTotalCount(e4), o3 = Date.now();
              var a4 = function(e5) {
                var t4 = "utf-8";
                ie2 && document && (t4 = document.charset.toLowerCase());
                var n5, o4, s5 = 0;
                if (o4 = e5.length, "utf-8" === t4 || "utf8" === t4)
                  for (var a5 = 0; a5 < o4; a5++)
                    (n5 = e5.codePointAt(a5)) <= 127 ? s5 += 1 : n5 <= 2047 ? s5 += 2 : n5 <= 65535 ? s5 += 3 : (s5 += 4, a5++);
                else if ("utf-16" === t4 || "utf16" === t4)
                  for (var i4 = 0; i4 < o4; i4++)
                    (n5 = e5.codePointAt(i4)) <= 65535 ? s5 += 2 : (s5 += 4, i4++);
                else
                  s5 = e5.replace(/[^\x00-\xff]/g, "aa").length;
                return s5;
              }(JSON.stringify(e4));
              return e4.type === E2.MSG_MERGER && a4 > 11264 ? n4._mergerMessageHandler.uploadMergerMessage(e4, a4).then(function(o4) {
                var s5 = n4._mergerMessageHandler.createMergerMessagePack(e4, t3, o4);
                return n4.request(s5);
              }) : (n4.getModule(qn).setMessageRandom(e4), e4.conversationType === E2.CONV_C2C || e4.conversationType === E2.CONV_GROUP ? s4.sendMessage(e4, t3) : void 0);
            }).then(function(a4) {
              var i4 = a4.data, r4 = i4.time, u3 = i4.sequence, c3 = i4.readReceiptCode;
              et2(c3) && 0 !== c3 && (new Aa("sendMessageWithReceipt").setMessage("from:".concat(e4.from, " to:").concat(e4.to, " sequence:").concat(u3, " readReceiptCode:").concat(c3)).end(), Ve2.w("".concat(n4._n, ".sendMessageInstance readReceiptCode:").concat(c3, " message:").concat(n4.getErrorMessage(c3))));
              n4._addSendMessageSuccessCount(e4, o3), n4._messageOptionsMap.delete(e4.clientSequence);
              var l3 = n4.getModule(qn);
              e4.status = Qt2.SUCCESS, e4.time = r4;
              var d3 = false;
              if (e4.conversationType === E2.CONV_GROUP)
                e4.sequence = u3;
              else if (e4.conversationType === E2.CONV_C2C) {
                var p3 = l3.getLatestMessageSentByMe(e4.conversationID);
                if (p3) {
                  var g3 = p3.nick, h3 = p3.avatar;
                  g3 === e4.nick && h3 === e4.avatar || (d3 = true);
                }
              }
              if (d3 && l3.modifyMessageSentByMe({ conversationID: e4.conversationID, latestNick: e4.nick, latestAvatar: e4.avatar }), s4.isOnlineMessage(e4, t3))
                e4._onlineOnlyFlag = true;
              else {
                l3.appendToMessageList(e4);
                var _3 = e4;
                st2(t3) && st2(t3.messageControlInfo) && (true === t3.messageControlInfo.excludedFromLastMessage && (e4._isExcludedFromLastMessage = true, _3 = ""), true === t3.messageControlInfo.excludedFromUnreadCount && (e4._isExcludedFromUnreadCount = true));
                var f3 = e4.conversationType;
                if (kt2(e4.to))
                  f3 = E2.CONV_TOPIC, n4.getModule(Fn).onMessageSent({ groupID: xt2(e4.to), topicID: e4.to, lastMessage: _3 });
                l3.onMessageSent({ conversationOptionsList: [{ conversationID: e4.conversationID, unreadCount: 0, type: f3, subType: e4.conversationSubType, lastMessage: _3 }] });
              }
              return e4.getRelayFlag() || "TIMImageElem" !== e4.type || Pt2(e4.payload.imageInfoArray), Ya({ message: e4 });
            });
          }).catch(function(t4) {
            return n4._onSendMessageFailed(e4, t4);
          });
        } }, { key: "_onSendMessageFailed", value: function(e4, t3) {
          e4.status = Qt2.FAIL, this.getModule(qn).deleteMessageRandom(e4), this._addSendMessageFailCountOnUser(e4, t3);
          var n4 = new Aa("sendMessage");
          return n4.setMessage("tjg_id:".concat(this.generateTjgID(e4), " type:").concat(e4.type, " from:").concat(e4.from, " to:").concat(e4.to)), this.probeNetwork().then(function(e5) {
            var o3 = v2(e5, 2), s4 = o3[0], a3 = o3[1];
            n4.setError(t3, s4, a3).end();
          }), Ve2.e("".concat(this._n, "._onSendMessageFailed error:"), t3), Za(new ja({ code: t3 && t3.code ? t3.code : ha.MESSAGE_SEND_FAIL, message: t3 && t3.message ? t3.message : void 0, data: { message: e4 } }));
        } }, { key: "_getSendMessageSpecifiedKey", value: function(e4) {
          if ([E2.MSG_IMAGE, E2.MSG_AUDIO, E2.MSG_VIDEO, E2.MSG_FILE].includes(e4.type))
            return ya;
          if (e4.conversationType === E2.CONV_C2C)
            return va;
          if (e4.conversationType === E2.CONV_GROUP) {
            var t3 = this.getModule(Pn).getLocalGroupProfile(e4.to);
            if (!t3)
              return;
            var n4 = t3.type;
            return Tt2(n4) ? Ma : ma;
          }
        } }, { key: "_addSendMessageTotalCount", value: function(e4) {
          var t3 = this._getSendMessageSpecifiedKey(e4);
          t3 && this.getModule(eo).addTotalCount(t3);
        } }, { key: "_addSendMessageSuccessCount", value: function(e4, t3) {
          var n4 = Math.abs(Date.now() - t3), o3 = this._getSendMessageSpecifiedKey(e4);
          if (o3) {
            var s4 = this.getModule(eo);
            s4.addSuccessCount(o3), s4.addCost(o3, n4);
          }
        } }, { key: "_addSendMessageFailCountOnUser", value: function(e4, t3) {
          var n4, o3, s4 = t3.code, a3 = void 0 === s4 ? -1 : s4, i3 = this.getModule(eo), r3 = this._getSendMessageSpecifiedKey(e4);
          r3 === ya && (n4 = a3, o3 = false, vr.includes(n4) && (o3 = true), o3) ? i3.addFailedCountOfUserSide(Ia) : mr(a3) && r3 && i3.addFailedCountOfUserSide(r3);
        } }, { key: "resendMessage", value: function(e4) {
          return e4.isResend = true, e4.status = Qt2.UNSEND, this.sendMessageInstance(e4);
        } }, { key: "revokeMessage", value: function(e4) {
          var t3 = this, n4 = null;
          if (e4.conversationType === E2.CONV_C2C ? n4 = this.getModule(Un) : e4.conversationType === E2.CONV_GROUP && (n4 = this.getModule(Pn)), !n4)
            return this._onCannotFindModule();
          var o3 = new Aa("revokeMessage");
          o3.setMessage("tjg_id:".concat(this.generateTjgID(e4), " type:").concat(e4.type, " from:").concat(e4.from, " to:").concat(e4.to));
          var s4 = "".concat(this._n, ".").concat("revokeMessage");
          return n4.revokeMessage(e4).then(function(n5) {
            var a3 = n5.data.recallRetList;
            if (!zt2(a3) && 0 !== a3[0].retCode) {
              var i3 = new ja({ code: a3[0].retCode, data: { message: e4 } });
              return o3.setCode(i3.code).setMoreMessage(i3.message).end(), Za(i3);
            }
            return Ve2.i("".concat(s4, " ok. ID:").concat(e4.ID)), e4.isRevoked = true, o3.end(), t3.getModule(qn).onMessageRevoked([e4]), Ya({ message: e4 });
          }).catch(function(n5) {
            t3.probeNetwork().then(function(e5) {
              var t4 = v2(e5, 2), s5 = t4[0], a4 = t4[1];
              o3.setError(n5, s5, a4).end();
            });
            var a3 = new ja({ code: n5 && n5.code ? n5.code : ha.MESSAGE_REVOKE_FAIL, message: n5 && n5.message ? n5.message : void 0, data: { message: e4 } });
            return Ve2.w("".concat(s4, " failed. error:"), n5), Za(a3);
          });
        } }, { key: "deleteMessage", value: function(e4) {
          var t3 = this, n4 = null, o3 = e4[0], s4 = o3.conversationID, a3 = "", i3 = [], r3 = [];
          if (o3.conversationType === E2.CONV_C2C)
            n4 = this.getModule(Un), a3 = s4.replace(E2.CONV_C2C, ""), e4.forEach(function(e5) {
              e5 && e5.status === Qt2.SUCCESS && e5.conversationID === s4 && (e5._onlineOnlyFlag || i3.push("".concat(e5.sequence, "_").concat(e5.random, "_").concat(e5.time)), r3.push(e5));
            });
          else if (o3.conversationType === E2.CONV_GROUP)
            n4 = this.getModule(Pn), a3 = s4.replace(E2.CONV_GROUP, ""), e4.forEach(function(e5) {
              e5 && e5.status === Qt2.SUCCESS && e5.conversationID === s4 && (e5._onlineOnlyFlag || i3.push("".concat(e5.sequence)), r3.push(e5));
            });
          else if (o3.conversationType === E2.CONV_SYSTEM)
            return Za({ code: ha.CANNOT_DELETE_GROUP_SYSTEM_NOTICE });
          if (!n4)
            return this._onCannotFindModule();
          if (0 === i3.length)
            return this._onMessageDeleted(r3);
          i3.length > 30 && (i3 = i3.slice(0, 30), r3 = r3.slice(0, 30));
          var u3 = new Aa("deleteMessage");
          u3.setMessage("to:".concat(a3, " count:").concat(i3.length));
          var c3 = "".concat(this._n, ".").concat("deleteMessage");
          return n4.deleteMessage({ to: a3, keyList: i3 }).then(function(e5) {
            return u3.end(), Ve2.i("".concat(c3, " ok")), t3._onMessageDeleted(r3);
          }).catch(function(e5) {
            t3.probeNetwork().then(function(t4) {
              var n6 = v2(t4, 2), o4 = n6[0], s5 = n6[1];
              u3.setError(e5, o4, s5).end();
            }), Ve2.w("".concat(c3, " failed. error:"), e5);
            var n5 = new ja({ code: e5 && e5.code ? e5.code : ha.MESSAGE_DELETE_FAIL, message: e5 && e5.message ? e5.message : void 0 });
            return Za(n5);
          });
        } }, { key: "_onMessageDeleted", value: function(e4) {
          return this.getModule(qn).onMessageDeleted(e4), Xa({ messageList: e4 });
        } }, { key: "translateText", value: function(e4) {
          var n4 = "".concat(this._n, ".").concat("translateText"), o3 = e4.sourceTextList, s4 = e4.sourceLanguage, a3 = e4.targetLanguage, i3 = new Aa("translateText");
          return i3.setMessage("sourceLanguage:".concat(s4, " targetLanguage:").concat(a3)), this.request({ protocolName: ga, requestData: { sourceTextList: o3, source: s4 || "auto", target: a3, from: this.getMyTinyID(), SDKAppID: this.getSDKAppID() } }).then(function(e5) {
            var o4 = e5.data, s5 = o4.error, a4 = o4.requestID, r3 = o4.translatedTextList;
            if (0 === s5.code)
              return i3.end(), Ve2.i("".concat(n4, " ok. requestID:").concat(a4)), Ya({ translatedTextList: r3 });
            throw t2(t2({}, s5), {}, { requestID: a4 });
          }).catch(function(e5) {
            return i3.setCode(e5.code).setMoreMessage(e5.requestID).end(), Ve2.w("".concat(n4, " failed. error:"), e5), Za({ code: ha.TRANSLATE_TEXT_FAIL });
          });
        } }, { key: "modifyRemoteMessage", value: function(e4) {
          var t3 = this, n4 = null, o3 = e4.conversationType, s4 = e4.to;
          if (this.getModule(Pn).isMessageFromOrToAVChatroom(s4))
            return Za({ code: ha.MESSAGE_MODIFY_DISABLED_IN_AVCHATROOM, data: { message: e4 } });
          if (false === this.getModule(oo).filterMessage(e4))
            return Za({ code: ha.PROFANITY_FOUND, data: { message: e4 } });
          o3 === E2.CONV_C2C ? n4 = this.getModule(Un) : o3 === E2.CONV_GROUP && (n4 = this.getModule(Pn));
          var a3 = new Aa("modifyMessage");
          a3.setMessage("to:".concat(s4));
          var i3 = "".concat(this._n, ".modifyRemoteMessage");
          return n4.modifyRemoteMessage(e4).then(function(n5) {
            a3.end(), Ve2.i("".concat(i3, " ok"));
            var o4 = t3._onModifyRemoteMessageResp(e4, n5.data);
            return Ya({ message: o4 });
          }).catch(function(n5) {
            if (a3.setCode(n5.code).setMoreMessage(n5.message).end(), Ve2.w("".concat(i3, " failed. error:"), n5), 20027 === n5.code) {
              var o4 = t3._onModifyRemoteMessageResp(e4, n5.data);
              return Za({ code: ha.MESSAGE_MODIFY_CONFLICT, data: { message: o4 } });
            }
            return Za({ code: n5.code, message: n5.message, data: { message: e4 } });
          });
        } }, { key: "_onModifyRemoteMessageResp", value: function(e4, t3) {
          Ve2.d("".concat(this._n, "._onModifyRemoteMessageResp options:"), t3);
          var n4 = e4.conversationType, o3 = e4.from, s4 = e4.to, a3 = e4.random, i3 = e4.sequence, r3 = e4.time, u3 = t3.elements, c3 = t3.messageVersion, l3 = t3.cloudCustomData, d3 = void 0 === l3 ? "" : l3;
          return this.getModule(qn).onMessageModified({ conversationType: n4, from: o3, to: s4, time: r3, random: a3, sequence: i3, elements: u3, cloudCustomData: d3, messageVersion: c3 });
        } }, { key: "_generateUUID", value: function(e4) {
          var t3 = this.getModule(xn), n4 = "".concat(t3.getSDKAppID(), "-").concat(t3.getUserID(), "-").concat(function() {
            for (var e5 = "", t4 = 32; t4 > 0; --t4)
              e5 += ft2[Math.floor(Math.random() * vt2)];
            return e5;
          }()), o3 = e4.name || e4.value || e4.url || e4.tempFilePath, s4 = o3 && o3.slice(o3.lastIndexOf(".") + 1);
          return s4 && (n4 = "".concat(n4, ".").concat(s4)), n4;
        } }, { key: "getMessageOption", value: function(e4) {
          return this._messageOptionsMap.get(e4);
        } }, { key: "_getNickAndAvatarByUserID", value: function(e4) {
          return this.getModule(Gn2).getNickAndAvatarByUserID(e4);
        } }, { key: "_getNameCardByGroupID", value: function(e4) {
          if (e4.conversationType === E2.CONV_GROUP) {
            var t3 = this.getModule(Pn);
            if (t3)
              return t3.getMyNameCardByGroupID(e4.to);
          }
          return "";
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._messageOptionsMap.clear();
        } }]), s3;
      }(uo), yr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "MessageExtensionModule", s3.messageExtensionMap = /* @__PURE__ */ new Map(), s3.globalSeqMap = /* @__PURE__ */ new Map(), s3.getMessageExtensionsMap = /* @__PURE__ */ new Map(), s3;
        }
        return a2(n3, [{ key: "onMessageExtensionNotify", value: function(e4) {
          var t4 = this, n4 = e4.dataList, o3 = n4.messageInfo, s3 = n4.operateType, a3 = n4.operateResultList, i3 = n4.tinyID, r3 = n4.globalSequence, u3 = o3.clientTime, c3 = o3.random, l3 = "".concat(i3, "-").concat(u3, "-").concat(c3), d3 = [], p3 = [];
          Ve2.l("".concat(this._n, ".onMessageExtensionNotify messageID:").concat(l3, " operateType:").concat(s3, " globalSequence:").concat(r3)), this._updateGlobalSequence(l3, r3);
          var g3 = false, h3 = false;
          a3.forEach(function(e5) {
            var n5 = e5.extensions, o4 = void 0 === n5 ? [] : n5, a4 = e5.clearSequence;
            if (1 === s3)
              g3 = true, o4.forEach(function(e6) {
                d3.push({ key: e6.key, value: e6.value });
              }), t4._updateLocalExtension(l3, o4);
            else if (2 === s3)
              h3 = true, o4.forEach(function(e6) {
                p3.push(e6.key);
              }), t4._updateLocalExtension(l3, o4);
            else if (3 === s3) {
              if (h3 = true, t4._hasLocalExtension(l3))
                t4._getLocalExtension(l3).forEach(function(e6, t5) {
                  e6.seq <= a4 && !zt2(e6.value) && p3.push(t5);
                });
              t4._clearLocalExtension(l3, a4);
            }
          }), g3 && this.emitOuterEvent(k.MESSAGE_EXTENSIONS_UPDATED, { messageID: l3, extensions: d3 }), h3 && this.emitOuterEvent(k.MESSAGE_EXTENSIONS_DELETED, { messageID: l3, keyList: p3 });
        } }, { key: "setMessageExtensions", value: function(e4, t4) {
          var n4 = this;
          if (!this.canIUse(B2.MSG_EXT))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var o3 = "".concat(this._n, ".").concat("setMessageExtensions"), s3 = e4.ID, a3 = e4.conversationID, i3 = e4.sequence, r3 = e4.time, u3 = m2(t4);
          t4.length > 20 && (u3 = t4.slice(0, 20), Ve2.w("".concat(o3, ". the length of extensions cannot exceed 20.")));
          var c3 = "conversationID:".concat(a3, " messageID:").concat(s3, " sequence:").concat(i3, " time:").concat(r3, " count:").concat(u3.length), l3 = new Aa("setMessageExtensions");
          return l3.setMessage(c3), Ve2.l("".concat(o3, " ").concat(c3)), this._modifyMessageExtensions(e4, u3).then(function(e5) {
            var t5 = e5.resultList, n5 = e5.successCount, s4 = e5.failureCount, a4 = "success count:".concat(n5, " fail count:").concat(s4);
            return l3.setMoreMessage(a4).end(), Ve2.l("".concat(o3, " ok. ").concat(a4)), Ya({ extensions: t5 });
          }).catch(function(e5) {
            return n4.probeNetwork().then(function(t5) {
              var n5 = v2(t5, 2), o4 = n5[0], s4 = n5[1];
              l3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "getMessageExtensions", value: function(e4) {
          var t4 = this;
          if (!this.canIUse(B2.MSG_EXT))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var n4 = "".concat(this._n, ".").concat("getMessageExtensions"), o3 = e4.ID, s3 = e4.conversationID, a3 = e4.sequence, i3 = e4.time, r3 = "conversationID:".concat(s3, " messageID:").concat(o3, " sequence:").concat(a3, " time:").concat(i3), u3 = new Aa("getMessageExtensions");
          u3.setMessage(r3), Ve2.l("".concat(n4, " ").concat(r3));
          var c3 = void 0;
          return this.getMessageExtensionsMap.has(o3) && (c3 = this._getGlobalSequence(o3)), this._getMessageExtensions(e4, c3).then(function(e5) {
            return u3.end(), Ve2.l("".concat(n4, " ok. total count:").concat(e5.length)), it2(c3) && e5.length > 0 && t4.getMessageExtensionsMap.set(o3, 1), Ya({ extensions: e5 });
          }).catch(function(e5) {
            return t4.probeNetwork().then(function(t5) {
              var n5 = v2(t5, 2), o4 = n5[0], s4 = n5[1];
              u3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "deleteMessageExtensions", value: function(e4, t4) {
          var n4 = this;
          if (!this.canIUse(B2.MSG_EXT))
            return Za({ code: ha.CANNOT_USE_COMMERCIAL_ABILITY });
          var o3 = "".concat(this._n, ".").concat("deleteMessageExtensions"), s3 = [], a3 = 3;
          zt2(t4) || (a3 = 2, t4.forEach(function(e5) {
            s3.push({ key: e5, value: "", seq: 0 });
          }));
          var i3 = e4.ID, r3 = e4.conversationID, u3 = e4.sequence, c3 = e4.time, l3 = "conversationID:".concat(r3, " messageID:").concat(i3, " sequence:").concat(u3, " time:").concat(c3, " operateType:").concat(a3), d3 = new Aa("deleteMessageExtensions");
          return d3.setMessage(l3), Ve2.l("".concat(o3, " ").concat(l3)), this._modifyMessageExtensions(e4, s3, a3).then(function(e5) {
            var t5 = e5.resultList, n5 = e5.successCount, s4 = e5.failureCount, i4 = "";
            return 2 === a3 && (i4 = "success count:".concat(n5, " fail count:").concat(s4)), d3.setMoreMessage("".concat(i4)).end(), Ve2.l("".concat(o3, " ok. ").concat(i4)), Ya({ extensions: t5 });
          }).catch(function(e5) {
            return n4.probeNetwork().then(function(t5) {
              var n5 = v2(t5, 2), o4 = n5[0], s4 = n5[1];
              d3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(o3, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_modifyMessageExtensions", value: function(e4, t4) {
          var n4 = this, o3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, s3 = kt2(e4.to) ? E2.CONV_TOPIC : e4.conversationType, a3 = void 0;
          3 !== o3 && (a3 = this._getRequestExtensions(e4, t4));
          var i3 = null;
          switch (s3) {
            case E2.CONV_C2C:
              i3 = this.getModule(Un);
              break;
            case E2.CONV_GROUP:
              i3 = this.getModule(Pn);
              break;
            case E2.CONV_TOPIC:
              i3 = this.getModule(Fn);
              break;
            default:
              return Za({ code: ha.CANNOT_FIND_MODULE });
          }
          return i3.modifyMessageExtensions(e4, a3, o3).then(function(t5) {
            var o4 = t5.data, s4 = o4.extensions, a4 = o4.seq, i4 = [], r3 = 0, u3 = 0, c3 = [];
            return (s4 = zt2(s4) ? [] : s4).forEach(function(e5) {
              var t6 = e5.errorCode, n5 = e5.extension, o5 = n5.key, s5 = n5.value, a5 = n5.seq;
              i4.push({ code: t6, key: o5, value: s5 }), 0 === t6 ? r3++ : u3++, c3.push({ key: o5, value: s5, seq: a5 });
            }), n4._updateGlobalSequence(e4.ID, a4), c3.length > 0 && (n4._updateLocalExtension(e4.ID, c3), c3 = null), { resultList: i4, successCount: r3, failureCount: u3 };
          }).catch(function(e5) {
            return Za(e5);
          });
        } }, { key: "_getRequestExtensions", value: function(e4, t4) {
          var n4 = [];
          if (this._hasLocalExtension(e4.ID)) {
            var o3 = this._getLocalExtension(e4.ID);
            return t4.forEach(function(e5) {
              var t5 = e5.key, s3 = e5.value, a3 = 0;
              o3.has(t5) && (a3 = o3.get(t5).seq), n4.push({ key: t5, value: s3, seq: a3 });
            }), n4;
          }
          return t4.forEach(function(e5) {
            var t5 = e5.key, o4 = e5.value;
            n4.push({ key: t5, value: o4, seq: 0 });
          }), n4;
        } }, { key: "_getMessageExtensions", value: function(e4, t4) {
          var n4 = this, o3 = "".concat(this._n, "._getMessageExtensions"), s3 = e4.ID, a3 = e4.to, i3 = null;
          switch (kt2(a3) ? E2.CONV_TOPIC : e4.conversationType) {
            case E2.CONV_C2C:
              i3 = this.getModule(Un);
              break;
            case E2.CONV_GROUP:
              i3 = this.getModule(Pn);
              break;
            case E2.CONV_TOPIC:
              i3 = this.getModule(Fn);
              break;
            default:
              return Za({ code: ha.CANNOT_FIND_MODULE });
          }
          return i3.getMessageExtensions(e4, t4).then(function(t5) {
            var a4 = t5.data, i4 = a4.extensions, r3 = a4.completeFlag, u3 = a4.globalSequence, c3 = a4.clearSequence;
            if (i4 = zt2(i4) ? [] : i4, Ve2.l("".concat(o3, " ok. completeFlag:").concat(r3, " globalSequence:").concat(u3, " clearSequence:").concat(c3, " count:").concat(i4.length)), n4._updateLocalExtension(s3, i4), n4._clearLocalExtension(s3, c3), n4._updateGlobalSequence(s3, u3), 1 !== r3) {
              var l3 = i4.slice(-1)[0].seq + 1;
              return n4._getMessageExtensions(e4, l3);
            }
            return n4._getLocalExtensions(s3);
          }).catch(function(e5) {
            return Za(e5);
          });
        } }, { key: "_hasLocalExtension", value: function(e4) {
          return this.messageExtensionMap.has(e4);
        } }, { key: "_getLocalExtension", value: function(e4) {
          return this.messageExtensionMap.get(e4);
        } }, { key: "_updateLocalExtension", value: function(e4, t4) {
          this._hasLocalExtension(e4) || this.messageExtensionMap.set(e4, /* @__PURE__ */ new Map());
          var n4 = this._getLocalExtension(e4);
          t4.forEach(function(e5) {
            var t5 = e5.key, o3 = e5.value, s3 = void 0 === o3 ? "" : o3, a3 = e5.seq;
            n4.set(t5, { value: s3, seq: a3 });
          });
        } }, { key: "_clearLocalExtension", value: function(e4, t4) {
          if (!(t4 <= 0) && this._hasLocalExtension(e4)) {
            var n4 = this._getLocalExtension(e4);
            n4.forEach(function(e5, o3) {
              e5.seq <= t4 && n4.delete(o3);
            });
          }
        } }, { key: "_getLocalExtensions", value: function(e4) {
          var t4 = [];
          this._hasLocalExtension(e4) && this._getLocalExtension(e4).forEach(function(e5, n4) {
            var o3 = e5.value;
            zt2(o3) || t4.push({ key: n4, value: o3 });
          });
          return t4;
        } }, { key: "_getGlobalSequence", value: function(e4) {
          return this.globalSeqMap.get(e4);
        } }, { key: "_updateGlobalSequence", value: function(e4, t4) {
          this.globalSeqMap.set(e4, t4);
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this.messageExtensionMap.clear(), this.globalSeqMap.clear(), this.getMessageExtensionsMap.clear();
        } }]), n3;
      }(uo), Ir = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "ComboMessageModule", s3;
        }
        return a2(n3, [{ key: "sendMessage", value: function(e4) {
          var t4 = this, n4 = this._constructMessageInstance(e4);
          if (null === n4)
            return Za({ code: ha.MESSAGE_SEND_FAIL });
          this._addSendMessageTotalCount(n4);
          var o3 = Date.now();
          return this.getModule(qn).setMessageRandom(n4), this._sendComboMessage(n4, e4).then(function(e5) {
            var s3 = e5.data, a3 = s3.time, i3 = s3.sequence, r3 = s3.readReceiptCode;
            et2(r3) && 0 !== r3 && (new Aa("sendMessageWithReceipt").setMessage("from:".concat(n4.from, " to:").concat(n4.to, " sequence:").concat(i3, " readReceiptCode:").concat(r3)).end(), Ve2.w("".concat(t4._n, ".sendMessage readReceiptCode:").concat(r3, " message:").concat(t4.getErrorMessage(r3))));
            t4._addSendMessageSuccessCount(n4, o3);
            var u3 = t4.getModule(qn);
            n4.status = Qt2.SUCCESS, n4.time = a3, n4.conversationType === E2.CONV_GROUP && (n4.sequence = i3), u3.appendToMessageList(n4);
            var c3 = n4;
            return true === n4._isExcludedFromLastMessage && (c3 = ""), u3.onMessageSent({ conversationOptionsList: [{ conversationID: n4.conversationID, unreadCount: 0, type: n4.conversationType, subType: n4.conversationSubType, lastMessage: c3 }] }), Ya({ message: n4 });
          }).catch(function(e5) {
            return t4._onSendMessageFailed(n4, e5);
          });
        } }, { key: "_sendComboMessage", value: function(e4, t4) {
          var n4 = this._m.getModule(zn2), o3 = "";
          return e4.conversationType === E2.CONV_C2C && (o3 = "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.SEND_MESSAGE)), e4.conversationType === E2.CONV_GROUP && (o3 = "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.SEND_GROUP_MESSAGE)), n4.sendComboMessage({ servcmd: o3, data: t4 });
        } }, { key: "_constructMessageInstance", value: function(e4) {
          var t4 = "".concat(this._n, "._constructMessageInstance"), n4 = null;
          try {
            var o3 = this.getMyUserID(), s3 = {};
            if (s3.senderTinyID = this.getMyTinyID(), s3.currentUser = o3, s3.from = e4.From_Account || o3, e4.GroupId ? (s3.conversationID = "".concat(E2.CONV_GROUP).concat(e4.GroupId), s3.conversationType = E2.CONV_GROUP, s3.to = e4.GroupId) : e4.To_Account && (s3.conversationID = "".concat(E2.CONV_C2C).concat(e4.To_Account), s3.conversationType = E2.CONV_C2C, s3.to = e4.To_Account), s3.time = e4.MsgTimeStamp || 0, s3.random = e4.Random || e4.MsgRandom || 0, s3.priority = e4.MsgPriority, nt2(e4.CloudCustomData) && e4.CloudCustomData.length > 0 && (s3.cloudCustomData = e4.CloudCustomData), at2(e4.SendMsgControl) && (s3.messageControlInfo = {}, e4.SendMsgControl.includes("NoUnread") && (s3.messageControlInfo.excludedFromUnreadCount = 1), e4.SendMsgControl.includes("NoLastMsg") && (s3.messageControlInfo.excludedFromLastMessage = 1)), s3.conversationType === E2.CONV_GROUP && at2(e4.To_Account) && e4.To_Account.length > 0) {
              var a3 = e4.To_Account;
              e4.To_Account.length > 50 && (a3 = e4.To_Account.slice(0, 50), Ve2.w("".concat(t4, " To_Account must be less than or equal to 50."))), s3.receiverList = m2(a3), e4.To_Account = m2(a3);
            }
            1 !== e4.IsNeedReadReceipt && 1 !== e4.NeedReadReceipt || (s3.needReadReceipt = true), 1 === e4.SupportMessageExtension && (s3.isSupportExtension = true), (n4 = new Wa(s3)).status = Qt2.UNSEND, e4.MsgClientTime = n4.clientTime, n4.conversationType === E2.CONV_C2C && (e4.MsgSeq = n4.sequence);
            for (var i3, r3 = e4.MsgBody.length, u3 = 0; u3 < r3; u3++)
              "TIMTextElem" === (i3 = e4.MsgBody[u3]).MsgType ? n4.setTextElement(i3.MsgContent.Text) : "TIMCustomElem" === i3.MsgType ? n4.setCustomElement({ data: i3.MsgContent.Data || "", description: i3.MsgContent.Desc || "", extension: i3.MsgContent.Ext || "" }) : "TIMFaceElem" === i3.MsgType && n4.setFaceElement({ index: i3.MsgContent.Index, data: i3.MsgContent.Data });
            var c3 = n4.getElements();
            n4.payload = c3[0].content, n4.type = c3[0].type;
          } catch (l3) {
            n4 = null, Ve2.e("".concat(t4, " failed. error:"), l3);
          }
          return n4;
        } }, { key: "_onSendMessageFailed", value: function(e4, t4) {
          e4.status = Qt2.FAIL, this.getModule(qn).deleteMessageRandom(e4), this._addSendMessageFailCountOnUser(e4, t4);
          var n4 = new Aa("sendMessage");
          return n4.setMessage("tjg_id:".concat(this.generateTjgID(e4), " type:").concat(e4.type, " from:").concat(e4.from, " to:").concat(e4.to)), this.probeNetwork().then(function(e5) {
            var o3 = v2(e5, 2), s3 = o3[0], a3 = o3[1];
            n4.setError(t4, s3, a3).end();
          }), Ve2.e("".concat(this._n, "._onSendMessageFailed error:"), t4), Za(new ja({ code: t4 && t4.code ? t4.code : ha.MESSAGE_SEND_FAIL, message: t4 && t4.message ? t4.message : void 0, data: { message: e4 } }));
        } }, { key: "_getSendMessageSpecifiedKey", value: function(e4) {
          if (e4.conversationType === E2.CONV_C2C)
            return va;
          if (e4.conversationType === E2.CONV_GROUP) {
            var t4 = this.getModule(Pn).getLocalGroupProfile(e4.to);
            if (!t4)
              return;
            var n4 = t4.type;
            return Tt2(n4) ? Ma : ma;
          }
        } }, { key: "_addSendMessageTotalCount", value: function(e4) {
          var t4 = this._getSendMessageSpecifiedKey(e4);
          t4 && this.getModule(eo).addTotalCount(t4);
        } }, { key: "_addSendMessageSuccessCount", value: function(e4, t4) {
          var n4 = Math.abs(Date.now() - t4), o3 = this._getSendMessageSpecifiedKey(e4);
          if (o3) {
            var s3 = this.getModule(eo);
            s3.addSuccessCount(o3), s3.addCost(o3, n4);
          }
        } }, { key: "_addSendMessageFailCountOnUser", value: function(e4, t4) {
          var n4 = t4.code, o3 = void 0 === n4 ? -1 : n4, s3 = this.getModule(eo), a3 = this._getSendMessageSpecifiedKey(e4);
          mr(o3) && a3 && s3.addFailedCountOfUserSide(a3);
        } }]), n3;
      }(uo), Cr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "PluginModule", s3.plugins = {}, s3;
        }
        return a2(n3, [{ key: "registerPlugin", value: function(e4) {
          var t4 = this;
          Object.keys(e4).forEach(function(n4) {
            t4.plugins[n4] = e4[n4];
          }), new Aa("registerPlugin").setMessage("".concat(Object.keys(e4))).end();
        } }, { key: "getPlugin", value: function(e4) {
          return this.plugins[e4];
        } }, { key: "reset", value: function() {
        } }]), n3;
      }(uo), Tr = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "SyncUnreadMessageModule", t3._cookie = "", t3._onlineSyncFlag = false, t3.getInnerEmitterInstance().on(ei, t3._onLoginSuccess, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_onLoginSuccess", value: function(e4) {
          this._startSync({ cookie: this._cookie, syncFlag: 0, isOnlineSync: 0 });
        } }, { key: "_startSync", value: function(e4) {
          var n4 = this, o3 = e4.cookie, s4 = e4.syncFlag, a3 = e4.isOnlineSync, i3 = "".concat(this._n, "._startSync");
          Ve2.l("".concat(i3, " cookie:").concat(o3, " syncFlag:").concat(s4, " isOnlineSync:").concat(a3)), this.request({ protocolName: ho, requestData: { cookie: o3, syncFlag: s4, isOnlineSync: a3 } }).then(function(e5) {
            var o4 = e5.data, s5 = o4.cookie, a4 = o4.syncFlag;
            n4._cookie = s5, zt2(s5) || (0 === a4 || 1 === a4 ? (n4._dispatchUnreadMessage(t2(t2({}, e5.data), {}, { isSyncingEnded: false })), n4._startSync({ cookie: s5, syncFlag: a4, isOnlineSync: 0 })) : 2 === a4 && n4._dispatchUnreadMessage(t2(t2({}, e5.data), {}, { isSyncingEnded: true })));
          }).catch(function(e5) {
            Ve2.e("".concat(i3, " failed. error:"), e5);
          });
        } }, { key: "_dispatchUnreadMessage", value: function(e4) {
          e4.eventArray && this.getModule(zn2).onMessage({ head: {}, body: { eventArray: e4.eventArray, isInstantMessage: this._onlineSyncFlag, isSyncingEnded: e4.isSyncingEnded } });
          this.getModule(Un).onNewC2CMessage({ dataList: e4.messageList, isInstantMessage: !!e4.isSyncingEnded && this._onlineSyncFlag, C2CRemainingUnreadList: e4.C2CRemainingUnreadList, C2CPairUnreadList: e4.C2CPairUnreadList });
        } }, { key: "startOnlineSync", value: function() {
          Ve2.l("".concat(this._n, ".startOnlineSync")), this._onlineSyncFlag = true, this._startSync({ cookie: this._cookie, syncFlag: 0, isOnlineSync: 1 });
        } }, { key: "startSyncOnReconnected", value: function() {
          Ve2.l("".concat(this._n, ".startSyncOnReconnected.")), this._onlineSyncFlag = true, this._startSync({ cookie: this._cookie, syncFlag: 0, isOnlineSync: 0 });
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._onlineSyncFlag = false, this._cookie = "";
        } }]), s3;
      }(uo), Dr = { request: { toAccount: "To_Account", fromAccount: "From_Account", to: "To_Account", from: "From_Account", groupID: "GroupId", groupAtUserID: "GroupAt_Account", extension: "Ext", data: "Data", description: "Desc", elements: "MsgBody", sizeType: "Type", downloadFlag: "Download_Flag", thumbUUID: "ThumbUUID", videoUUID: "VideoUUID", remoteAudioUrl: "Url", remoteVideoUrl: "VideoUrl", videoUrl: "", imageUrl: "URL", fileUrl: "Url", uuid: "UUID", priority: "MsgPriority", receiverUserID: "To_Account", receiverGroupID: "GroupId", messageSender: "SenderId", messageReceiver: "ReceiverId", nick: "From_AccountNick", avatar: "From_AccountHeadurl", messageNumber: "MsgNum", pbDownloadKey: "PbMsgKey", downloadKey: "JsonMsgKey", applicationType: "PendencyType", userIDList: "To_Account", groupNameList: "GroupName", userID: "To_Account", groupAttributeList: "GroupAttr", mainSequence: "AttrMainSeq", avChatRoomKey: "BytesKey", attributeControl: "AttrControl", sequence: "seq", messageControlInfo: "SendMsgControl", updateSequence: "UpdateSeq", clientTime: "MsgClientTime", sequenceList: "MsgSeqList", topicID: "TopicId", customData: "CustomString", isSupportTopic: "SupportTopic", isWebUniapp: "is_web_uniapp", isSupportExtension: "SupportMessageExtension", messageSequence: "MsgSeq", messageKey: "MsgKey", startSequence: "startSeq", simplifiedMessage: "DownsizeFlag" }, response: { MsgPriority: "priority", ThumbUUID: "thumbUUID", VideoUUID: "videoUUID", Download_Flag: "downloadFlag", GroupId: "groupID", Member_Account: "userID", MsgList: "messageList", SyncFlag: "syncFlag", To_Account: "to", From_Account: "from", MsgSeq: "sequence", MsgRandom: "random", MsgTime: "time", MsgTimeStamp: "time", MsgContent: "content", MsgBody: "elements", From_AccountNick: "nick", From_AccountHeadurl: "avatar", GroupWithdrawInfoArray: "revokedInfos", GroupReadInfoArray: "groupMessageReadNotice", LastReadMsgSeq: "lastMessageSeq", WithdrawC2cMsgNotify: "c2cMessageRevokedNotify", C2cWithdrawInfoArray: "revokedInfos", C2cReadedReceipt: "c2cMessageReadReceipt", ReadC2cMsgNotify: "c2cMessageReadNotice", LastReadTime: "peerReadTime", MsgRand: "random", MsgType: "type", MsgShow: "messageShow", NextMsgSeq: "nextMessageSeq", FaceUrl: "avatar", ProfileDataMod: "profileModify", Profile_Account: "userID", ValueBytes: "value", ValueNum: "value", NoticeSeq: "noticeSequence", NotifySeq: "notifySequence", MsgFrom_AccountExtraInfo: "messageFromAccountExtraInformation", Operator_Account: "operatorID", OpType: "operationType", ReportType: "operationType", UserId: "userID", User_Account: "userID", List_Account: "userIDList", MsgOperatorMemberExtraInfo: "operatorInfo", MsgMemberExtraInfo: "memberInfoList", ImageUrl: "avatar", NickName: "nick", MsgGroupNewInfo: "newGroupProfile", MsgAppDefinedData: "groupCustomField", Owner_Account: "ownerID", GroupFaceUrl: "avatar", GroupIntroduction: "introduction", GroupNotification: "notification", GroupApplyJoinOption: "joinOption", MsgKey: "messageKey", GroupInfo: "groupProfile", ShutupTime: "muteTime", Desc: "description", Ext: "extension", GroupAt_Account: "groupAtUserID", MsgNum: "messageNumber", PbMsgKey: "pbDownloadKey", JsonMsgKey: "downloadKey", MsgModifiedFlag: "isModified", PendencyItem: "applicationItem", PendencyType: "applicationType", AddTime: "time", AddSource: "source", AddWording: "wording", ProfileImImage: "avatar", PendencyAdd: "friendApplicationAdded", FrienPencydDel_Account: "friendApplicationDeletedUserIDList", Peer_Account: "userID", GroupAttr: "groupAttributeList", GroupAttrAry: "groupAttributeList", AttrMainSeq: "mainSequence", seq: "sequence", GroupAttrOption: "groupAttributeOption", BytesChangedKeys: "changedKeyList", GroupAttrInfo: "groupAttributeList", GroupAttrSeq: "mainSequence", PushChangedAttrValFlag: "isWithChangedAttributeInfo", SubKeySeq: "sequence", Val: "value", MsgGroupFromCardName: "senderNameCard", MsgGroupFromNickName: "senderNick", C2cNick: "peerNick", C2cImage: "peerAvatar", SendMsgControl: "messageControlInfo", NoLastMsg: "excludedFromLastMessage", NoUnread: "excludedFromUnreadCount", UpdateSeq: "updateSequence", MuteNotifications: "muteFlag", MsgClientTime: "clientTime", TinyId: "tinyID", GroupMsgReceiptList: "readReceiptList", ReadNum: "readCount", UnreadNum: "unreadCount", TopicId: "topicID", MillionGroupFlag: "communityType", SupportTopic: "isSupportTopic", MsgTopicNewInfo: "newTopicInfo", ShutupAll: "muteAllMembers", CustomString: "customData", TopicFaceUrl: "avatar", TopicIntroduction: "introduction", TopicNotification: "notification", TopicIdArray: "topicIDList", MsgVersion: "messageVersion", C2cMsgModNotifys: "c2cMessageModified", GroupMsgModNotifys: "groupMessageModified", ApplyJoinOption: "joinOption", MsgFlag: "messageRemindType", AtInfoList: "groupAtInfoList", AtFlagList: "groupAtType", AtMsgSeq: "sequence", BanDuration: "duration", BanDescription: "reason", NotVisible: "invisible", BytesTag: "tag", BytesValue: "value", RptBytesValue: "value", LatestSeq: "globalSequence", ClearSeq: "clearSequence", SupportMessageExtension: "isSupportExtension", ExtensionList: "extensions", GroupCounter: "counterList", Revoker_Account: "revoker", MsgExtensionNotify: "messageExtensionNotify", ExtensionC2cMsgInfo: "messageInfo", ExtensionGroupMsgInfo: "messageInfo", MsgOptType: "operateType", SetKVInfo: "operateResultList", DeleteKVInfo: "operateResultList", ClearKVInfo: "operateResultList", MsgKeyValue: "extensions", ClearMsgSeq: "clearSequence", MsgLastSeq: "globalSequence", InviteJoinOption: "inviteOption", MemberList_Account: "inviteeList", MsgMemberExtraInfoList: "inviteeInfoList", E: "event", GInf: "groupProfile", MCT: "clientTime", MR: "random", MP: "priority", MTS: "time", GId: "groupID", MS: "sequence", CCD: "cloudCustomData", F_Account: "from", F_Hd: "avatar", F_NN: "nick", GN: "groupName", GT: "groupType", IsSys: "isSystemMessage", OpInf: "operatorInfo", Img: "avatar", NN: "nick", OnlineInf: "onlineMemberInfo", ET: "expireTime", Num: "onlineMemberNum", Opt: "operationType", O_Account: "operatorID", RT: "operationType", UDF: "userDefinedField", L_Account: "userIDList" }, ignoreKeyWord: ["C2C", "ID", "USP"] };
      function kr(e3, t3) {
        if ("string" != typeof e3 && !Array.isArray(e3))
          throw new TypeError("Expected the input to be `string | string[]`");
        t3 = Object.assign({ pascalCase: false }, t3);
        var n3;
        return 0 === (e3 = Array.isArray(e3) ? e3.map(function(e4) {
          return e4.trim();
        }).filter(function(e4) {
          return e4.length;
        }).join("-") : e3.trim()).length ? "" : 1 === e3.length ? t3.pascalCase ? e3.toUpperCase() : e3.toLowerCase() : (e3 !== e3.toLowerCase() && (e3 = Er(e3)), e3 = e3.replace(/^[_.\- ]+/, "").toLowerCase().replace(/[_.\- ]+(\w|$)/g, function(e4, t4) {
          return t4.toUpperCase();
        }).replace(/\d+(\w|$)/g, function(e4) {
          return e4.toUpperCase();
        }), n3 = e3, t3.pascalCase ? n3.charAt(0).toUpperCase() + n3.slice(1) : n3);
      }
      var Er = function(e3) {
        for (var t3 = false, n3 = false, o3 = false, s3 = 0; s3 < e3.length; s3++) {
          var a3 = e3[s3];
          t3 && /[a-zA-Z]/.test(a3) && a3.toUpperCase() === a3 ? (e3 = e3.slice(0, s3) + "-" + e3.slice(s3), t3 = false, o3 = n3, n3 = true, s3++) : n3 && o3 && /[a-zA-Z]/.test(a3) && a3.toLowerCase() === a3 ? (e3 = e3.slice(0, s3 - 1) + "-" + e3.slice(s3 - 1), o3 = n3, n3 = false, t3 = true) : (t3 = a3.toLowerCase() === a3 && a3.toUpperCase() !== a3, o3 = n3, n3 = a3.toUpperCase() === a3 && a3.toLowerCase() !== a3);
        }
        return e3;
      };
      function Sr(e3, t3) {
        var n3 = 0;
        return function e4(t4, o3) {
          if (++n3 > 100)
            return n3--, t4;
          if (at2(t4)) {
            var s3 = t4.map(function(t5) {
              return ot2(t5) ? e4(t5, o3) : t5;
            });
            return n3--, s3;
          }
          if (ot2(t4)) {
            var a3 = (i3 = t4, r3 = function(e5, t5) {
              if (!dt2(t5))
                return false;
              if ((s4 = t5) !== kr(s4))
                for (var n4 = 0; n4 < Dr.ignoreKeyWord.length && !t5.includes(Dr.ignoreKeyWord[n4]); n4++)
                  ;
              var s4;
              return it2(o3[t5]) ? function(e6) {
                return "OPPOChannelID" === e6 ? e6 : e6[0].toUpperCase() + kr(e6).slice(1);
              }(t5) : o3[t5];
            }, u3 = /* @__PURE__ */ Object.create(null), Object.keys(i3).forEach(function(e5) {
              var t5 = r3(i3[e5], e5);
              t5 && (u3[t5] = i3[e5]);
            }), u3);
            return a3 = At2(a3, function(t5, n4) {
              return at2(t5) || ot2(t5) ? e4(t5, o3) : t5;
            }), n3--, a3;
          }
          var i3, r3, u3;
        }(e3, t3);
      }
      function Lr(e3, t3) {
        if (at2(e3))
          return e3.map(function(e4) {
            return ot2(e4) ? Lr(e4, t3) : e4;
          });
        if (ot2(e3)) {
          var n3 = (o3 = e3, s3 = function(e4, n4) {
            return it2(t3[n4]) ? kr(n4) : t3[n4];
          }, a3 = {}, Object.keys(o3).forEach(function(e4) {
            a3[s3(o3[e4], e4)] = o3[e4];
          }), a3);
          return n3 = At2(n3, function(e4) {
            return at2(e4) || ot2(e4) ? Lr(e4, t3) : e4;
          });
        }
        var o3, s3, a3;
      }
      var Ar = String.fromCharCode, Rr = function(e3) {
        var t3 = 0 | e3.charCodeAt(0);
        if (55296 <= t3)
          if (t3 < 56320) {
            var n3 = 0 | e3.charCodeAt(1);
            if (56320 <= n3 && n3 <= 57343) {
              if ((t3 = (t3 << 10) + n3 - 56613888 | 0) > 65535)
                return Ar(240 | t3 >>> 18, 128 | t3 >>> 12 & 63, 128 | t3 >>> 6 & 63, 128 | 63 & t3);
            } else
              t3 = 65533;
          } else
            t3 <= 57343 && (t3 = 65533);
        return t3 <= 2047 ? Ar(192 | t3 >>> 6, 128 | 63 & t3) : Ar(224 | t3 >>> 12, 128 | t3 >>> 6 & 63, 128 | 63 & t3);
      }, Nr = function(e3) {
        for (var t3 = void 0 === e3 ? "" : ("" + e3).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g, Rr), n3 = 0 | t3.length, o3 = new Uint8Array(n3), s3 = 0; s3 < n3; s3 = s3 + 1 | 0)
          o3[s3] = 0 | t3.charCodeAt(s3);
        return o3;
      }, Or = function() {
        function e3(t3) {
          o2(this, e3), this._handler = t3;
          var n3 = t3.getURL();
          if (this._socket = null, this._workerSocket = null, this._id = _t2(), this._handler.getIsWorkerEnabled()) {
            var s3 = URL.createObjectURL(new Blob([';let _socket = null;onmessage = function(event) {  if (event.data.cmd === "start") {    const url = event.data.url;    _socket = new WebSocket(url);    _socket.binaryType = "arraybuffer";    _socket.onopen = function() {      postMessage({ callback: "onOpen", extensions: _socket.extensions });    };    _socket.onclose = function(e) {      postMessage({ callback: "onOpen", e: { code: e.code, reason: e.reason } });    };    _socket.onmessage = function(e) {      postMessage({ callback: "onMessage", data: e.data });    };    _socket.onerror = function(e) {      postMessage({ callback: "onError", e: { isTrusted: "true" } });    };  } else if (event.data.cmd === "sendMessage") {    if (_socket !== null) {      _socket.send(event.data.data);    }  } else if (event.data.cmd === "stop") {    if (_socket !== null) {      _socket.close(event.data.code);      _socket = null;    }  }};'], { type: "application/javascript; charset=utf-8" }));
            this._workerSocket = new Worker(s3);
            var a3 = this;
            this._workerSocket.onmessage = function(e4) {
              var t4 = e4.data, n4 = t4.callback, o3 = t4.e, s4 = t4.extensions;
              "onOpen" === n4 ? a3._onOpen(s4) : "onClose" === n4 ? a3._onClose(o3) : "onError" === n4 ? a3._onError(o3) : "onMessage" === n4 && a3._onMessage(e4.data);
            }, this._workerSocket.postMessage({ cmd: "start", id: this._id, url: n3 });
          } else
            ae2 ? te2 ? (re2.connectSocket({ url: n3, header: { "content-type": "application/json" } }), re2.onSocketClose(this._onClose.bind(this)), re2.onSocketOpen(this._onOpen.bind(this)), re2.onSocketMessage(this._onMessage.bind(this)), re2.onSocketError(this._onError.bind(this))) : (this._socket = re2.connectSocket({ url: n3, header: { "content-type": "application/json" }, complete: function() {
            } }), this._socket.onClose(this._onClose.bind(this)), this._socket.onOpen(this._onOpen.bind(this)), this._socket.onMessage(this._onMessage.bind(this)), this._socket.onError(this._onError.bind(this))) : ie2 && (this._socket = new WebSocket(n3), this._socket.binaryType = "arraybuffer", this._socket.onopen = this._onOpen.bind(this, this._socket.extensions), this._socket.onmessage = this._onMessage.bind(this), this._socket.onclose = this._onClose.bind(this), this._socket.onerror = this._onError.bind(this));
          this._canIUseBinaryFrame = t3.canIUseBinaryFrame();
        }
        return a2(e3, [{ key: "getID", value: function() {
          return this._id;
        } }, { key: "_onOpen", value: function(e4) {
          this._handler.onOpen({ id: this._id, res: JSON.stringify(e4) });
        } }, { key: "_onClose", value: function(e4) {
          this._handler.onClose({ id: this._id, e: e4 });
        } }, { key: "_onMessage", value: function(e4) {
          var t3;
          t3 = this._canIUseBinaryFrame ? this._isAppCompressedData(e4.data) ? this._handler.inflate(e4.data) : function(e5) {
            for (var t4 = new Uint8Array(e5), n3 = "", o3 = 0, s3 = t4.length; o3 < s3; ) {
              var a3 = t4[o3], i3 = 0, r3 = 0;
              if (a3 <= 127 ? (i3 = 0, r3 = 255 & a3) : a3 <= 223 ? (i3 = 1, r3 = 31 & a3) : a3 <= 239 ? (i3 = 2, r3 = 15 & a3) : a3 <= 244 && (i3 = 3, r3 = 7 & a3), s3 - o3 - i3 > 0)
                for (var u3 = 0; u3 < i3; )
                  r3 = r3 << 6 | 63 & (a3 = t4[o3 + u3 + 1]), u3 += 1;
              else
                r3 = 65533, i3 = s3 - o3;
              n3 += String.fromCodePoint(r3), o3 += i3 + 1;
            }
            return n3;
          }(e4.data) : e4.data, this._handler.onMessage({ data: t3 });
        } }, { key: "_isAppCompressedData", value: function(e4) {
          var t3 = new Uint8Array(e4);
          return 67 === t3[0] && 79 === t3[1] && 77 === t3[2] && 80 === t3[3];
        } }, { key: "_onError", value: function(e4) {
          this._handler.onError({ id: this._id, e: e4 });
        } }, { key: "setIsWorkerEnabled", value: function(e4) {
          this._isWorkerEnabled = true;
        } }, { key: "close", value: function(e4) {
          if (this._workerSocket && (this._workerSocket.postMessage({ cmd: "stop", code: e4 }), this._workerSocket.terminate(), this._workerSocket = null), te2)
            return re2.offSocketClose(), re2.offSocketMessage(), re2.offSocketOpen(), re2.offSocketError(), void re2.closeSocket();
          this._socket && (ae2 ? (this._socket.onClose(function() {
          }), this._socket.onOpen(function() {
          }), this._socket.onMessage(function() {
          }), this._socket.onError(function() {
          })) : ie2 && (this._socket.onopen = null, this._socket.onmessage = null, this._socket.onclose = null, this._socket.onerror = null), ee2 ? this._socket.close({ code: e4 }) : this._socket.close(e4), this._socket = null);
        } }, { key: "send", value: function(e4) {
          if (this._workerSocket)
            this._workerSocket.postMessage({ cmd: "sendMessage", data: this._canIUseBinaryFrame ? Nr(e4.data).buffer : e4.data });
          else {
            if (te2)
              return void re2.sendSocketMessage({ data: e4.data, fail: function() {
                e4.fail && e4.requestID && e4.fail(e4.requestID);
              } });
            this._socket && (ae2 ? this._socket.send({ data: this._canIUseBinaryFrame ? Nr(e4.data).buffer : e4.data, fail: function() {
              e4.fail && e4.requestID && e4.fail(e4.requestID);
            } }) : ie2 && this._socket.send(this._canIUseBinaryFrame ? Nr(e4.data) : e4.data));
          }
        } }]), e3;
      }(), Gr = 4e3, Ur = 4001, Pr = ["keyMap"], br = ["keyMap"], wr = "connected", Fr = "connecting", qr = "disconnected", xr = function() {
        function e3(t3) {
          o2(this, e3), this._channelModule = t3, this._n = "SocketHandler", this._promiseMap = /* @__PURE__ */ new Map(), this._readyState = qr, this._simpleRequestMap = /* @__PURE__ */ new Map(), this.MAX_SIZE = 100, this._startSequence = _t2(), this._startTs = 0, this._reConnectFlag = false, this._nextPingTs = 0, this._reConnectCount = 0, this.MAX_RECONNECT_COUNT = 3, this._socketID = -1, this._random = 0, this._socket = null, this._url = "", this._onOpenTs = 0, this._canIUseBinaryFrame = true, this._isWorkerEnabled = true, this._setWebsocketHost(), this._initConnection();
        }
        return a2(e3, [{ key: "_setWebsocketHost", value: function() {
          var e4 = this._channelModule.getModule(xn), t3 = G2;
          this._channelModule.isOversea() && (t3 = U2), e4.isSingaporeSite() ? t3 = P2 : e4.isKoreaSite() ? t3 = b2 : e4.isGermanySite() ? t3 = w2 : e4.isIndiaSite() ? t3 = F2 : e4.isJapanSite() ? t3 = q2 : e4.isUSASite() && (t3 = x), V2.HOST.setCurrent(t3);
        } }, { key: "_initConnection", value: function() {
          it2(V2.HOST.CURRENT.BACKUP) || "" === this._url ? this._url = V2.HOST.CURRENT.DEFAULT : this._url === V2.HOST.CURRENT.DEFAULT ? this._url = V2.HOST.CURRENT.BACKUP : this._url === V2.HOST.CURRENT.BACKUP ? this._url = this._canIUseAnyCast() ? V2.HOST.CURRENT.ANYCAST : V2.HOST.CURRENT.DEFAULT : this._url === V2.HOST.CURRENT.ANYCAST && (V2.HOST.CURRENT.ANYCAST = "", this._url = V2.HOST.CURRENT.DEFAULT);
          var e4 = this._channelModule.getModule(xn).getProxyServer();
          zt2(e4) || (this._url = e4), this._connect(), this._nextPingTs = 0;
        } }, { key: "_canIUseAnyCast", value: function() {
          return ie2 && V2.HOST.CURRENT.ANYCAST;
        } }, { key: "onCheckTimer", value: function(e4) {
          e4 % 1 == 0 && this._checkPromiseMap();
        } }, { key: "_checkPromiseMap", value: function() {
          var e4 = this;
          0 !== this._promiseMap.size && this._promiseMap.forEach(function(t3, n3) {
            var o3 = t3.reject, s3 = t3.timestamp, a3 = 15e3;
            -1 !== n3.indexOf(co) ? a3 = 9e4 : -1 !== n3.indexOf(Hs2) && (a3 = 3e3), Date.now() - s3 >= a3 && (Ve2.l("".concat(e4._n, "._checkPromiseMap request timeout, delete requestID:").concat(n3)), e4._promiseMap.delete(n3), o3(new ja({ code: ha.NETWORK_TIMEOUT })), e4._channelModule.onRequestTimeout(n3));
          });
        } }, { key: "onOpen", value: function(e4) {
          if ("" !== this._readyState) {
            this._onOpenTs = Date.now();
            var t3 = e4.id, n3 = e4.res;
            this._socketID = t3;
            var o3 = Date.now() - this._startTs, s3 = "socketID:".concat(t3, " res:").concat(n3);
            Ve2.l("".concat(this._n, "._onOpen cost:").concat(o3, " ms. ").concat(s3)), new Aa("wsOnOpen").setMessage(o3).setCostTime(o3).setMoreMessage(s3).end(), e4.id === this._socketID && (this._readyState = wr, this._reConnectCount = 0, this._resend(), true === this._reConnectFlag && (this._channelModule.onReconnected(), this._reConnectFlag = false), this._channelModule.onOpen());
          }
        } }, { key: "onClose", value: function(e4) {
          var t3 = new Aa("wsOnClose"), n3 = e4.id, o3 = e4.e, s3 = "sourceSocketID:".concat(n3, " currentSocketID:").concat(this._socketID, " code:").concat(o3.code, " reason:").concat(o3.reason), a3 = 0;
          0 !== this._onOpenTs && (a3 = Date.now() - this._onOpenTs), t3.setMessage(a3).setCostTime(a3).setMoreMessage(s3).setCode(o3.code).end(), Ve2.l("".concat(this._n, "._onClose ").concat(s3, " onlineTime:").concat(a3)), n3 === this._socketID && (this._readyState = qr, a3 < 1e3 ? this._channelModule.onReconnectFailed() : this._channelModule.onClose());
        } }, { key: "onError", value: function(e4) {
          var t3 = e4.id, n3 = e4.e, o3 = "sourceSocketID:".concat(t3, " currentSocketID:").concat(this._socketID);
          new Aa("wsOnError").setMessage(n3.errMsg || gt2(n3)).setMoreMessage(o3).setLevel("error").end(), Ve2.w("".concat(this._n, "._onError"), n3, o3), t3 === this._socketID && (this._readyState = "", this._channelModule.onError());
        } }, { key: "onMessage", value: function(e4) {
          var t3;
          try {
            t3 = JSON.parse(e4.data);
          } catch (c3) {
            new Aa("jsonParseError").setMessage(e4.data).end();
          }
          if (t3 && t3.head) {
            var n3 = this._getRequestIDFromHead(t3.head), o3 = t3.body;
            if (!this._isTRTCCommand(n3)) {
              var s3 = bt2(t3.head);
              o3 = Lr(t3.body, this._getResponseKeyMap(s3));
            }
            if (Ve2.d("".concat(this._n, ".onMessage ret:").concat(JSON.stringify(o3), " requestID:").concat(n3, " has:").concat(this._promiseMap.has(n3))), this._setNextPingTs(), this._promiseMap.has(n3)) {
              var a3 = this._promiseMap.get(n3), i3 = a3.resolve, r3 = a3.reject, u3 = a3.timestamp;
              return this._promiseMap.delete(n3), this._calcRTT(u3), void (o3.errorCode && 0 !== o3.errorCode ? (this._channelModule.onErrorCodeNotZero(o3), r3(new ja({ code: o3.errorCode, message: o3.errorInfo || "", data: n3.includes(Ro) || n3.includes(ys2) ? { elements: o3.elements, messageVersion: o3.messageVersion, cloudCustomData: o3.cloudCustomData } : void 0 }))) : i3(Ya(o3)));
            }
            this._channelModule.onMessage({ head: t3.head, body: o3 });
          }
        } }, { key: "_isTRTCCommand", value: function(e4) {
          for (var t3 = this._channelModule.getModule(so).getCommandList(), n3 = false, o3 = 0; o3 < t3.length; o3++)
            if (e4.startsWith(t3[o3])) {
              n3 = true;
              break;
            }
          return n3;
        } }, { key: "_calcRTT", value: function(e4) {
          var t3 = Date.now() - e4;
          this._channelModule.getModule(eo).addRTT(t3);
        } }, { key: "_connect", value: function() {
          this._startTs = Date.now(), this._onOpenTs = 0, this._socket = new Or(this), this._socketID = this._socket.getID(), this._readyState = Fr, Ve2.l("".concat(this._n, "._connect isWorkerEnabled:").concat(this.getIsWorkerEnabled(), " socketID:").concat(this._socketID, " url:").concat(this.getURL())), new Aa("wsConnect").setMessage("socketID:".concat(this._socketID, " url:").concat(this.getURL())).end();
        } }, { key: "getURL", value: function() {
          this._channelModule.isDevMode() && (this._canIUseBinaryFrame = false);
          var e4 = Ot2();
          (te2 || X2 && "windows" === e4 || oe2) && (this._canIUseBinaryFrame = false);
          var t3 = -1;
          "ios" === e4 ? t3 = me2 || -1 : "android" === e4 && (t3 = ye2 || -1);
          var n3 = this._channelModule.getModule(xn), o3 = this._channelModule.getPlatform(), s3 = n3.getSDKAppID(), a3 = n3.getInstanceID(), i3 = "sdkappid=".concat(s3, "&instanceid=").concat(a3, "&random=").concat(this._getRandom(), "&platform=").concat(o3, "&host=").concat(e4) + "&version=".concat(t3, "&sdkversion=").concat("2.27.6");
          return Z2 && (i3 += "&isminigame=1"), this._channelModule.canIUseInflate() && (i3 += "&compress=gzip"), this._canIUseBinaryFrame ? "".concat(this._url, "/binfo?").concat(i3) : "".concat(this._url, "/info?").concat(i3);
        } }, { key: "_closeConnection", value: function(e4) {
          Ve2.l("".concat(this._n, "._closeConnection socketID:").concat(this._socketID)), this._socket && (this._socket.close(e4), this._socketID = -1, this._socket = null, this._readyState = qr);
        } }, { key: "_resend", value: function() {
          var e4 = this;
          if (Ve2.l("".concat(this._n, "._resend reConnectFlag:").concat(this._reConnectFlag), "promiseMap.size:".concat(this._promiseMap.size, " simpleRequestMap.size:").concat(this._simpleRequestMap.size)), this._promiseMap.size > 0 && this._promiseMap.forEach(function(t4, n4) {
            var o4 = t4.uplinkData, s4 = t4.resolve, a4 = t4.reject;
            e4._promiseMap.set(n4, { resolve: s4, reject: a4, timestamp: Date.now(), uplinkData: o4 }), e4._execute(n4, o4);
          }), this._simpleRequestMap.size > 0) {
            var t3, n3 = D2(this._simpleRequestMap);
            try {
              for (n3.s(); !(t3 = n3.n()).done; ) {
                var o3 = v2(t3.value, 2), s3 = o3[0], a3 = o3[1];
                this._execute(s3, a3);
              }
            } catch (i3) {
              n3.e(i3);
            } finally {
              n3.f();
            }
            this._simpleRequestMap.clear();
          }
        } }, { key: "send", value: function(e4) {
          var t3 = this;
          e4.head.seq = this._getSequence(), e4.head.reqtime = Math.floor(Date.now() / 1e3), e4.keyMap;
          var n3 = g2(e4, Pr), o3 = this._getRequestIDFromHead(e4.head), s3 = JSON.stringify(n3);
          return new Promise(function(e5, a3) {
            (t3._promiseMap.set(o3, { resolve: e5, reject: a3, timestamp: Date.now(), uplinkData: s3 }), Ve2.d("".concat(t3._n, ".send uplinkData:").concat(JSON.stringify(n3), " requestID:").concat(o3, " readyState:").concat(t3._readyState)), t3._readyState !== wr) ? t3._reConnect() : (t3._execute(o3, s3), t3._channelModule.getModule(eo).addRequestCount());
          });
        } }, { key: "simplySend", value: function(e4) {
          e4.head.seq = this._getSequence(), e4.head.reqtime = Math.floor(Date.now() / 1e3), e4.keyMap;
          var t3 = g2(e4, br), n3 = this._getRequestIDFromHead(e4.head), o3 = JSON.stringify(t3);
          this._readyState !== wr ? (this._simpleRequestMap.size < this.MAX_SIZE ? this._simpleRequestMap.set(n3, o3) : Ve2.l("".concat(this._n, ".simplySend. simpleRequestMap is full, drop request!")), this._reConnect()) : this._execute(n3, o3);
        } }, { key: "_execute", value: function(e4, t3) {
          this._socket.send({ data: t3, fail: ae2 ? this._onSendFail.bind(this) : void 0, requestID: e4 });
        } }, { key: "_onSendFail", value: function(e4) {
          Ve2.l("".concat(this._n, "._onSendFail requestID:").concat(e4));
        } }, { key: "_getSequence", value: function() {
          var e4;
          if (this._startSequence < 2415919103)
            return e4 = this._startSequence, this._startSequence += 1, 2415919103 === this._startSequence && (this._startSequence = _t2()), e4;
        } }, { key: "_getRequestIDFromHead", value: function(e4) {
          return e4.servcmd + e4.seq;
        } }, { key: "_getResponseKeyMap", value: function(e4) {
          var n3 = this._channelModule.getKeyMap(e4);
          return t2(t2({}, Dr.response), n3.response);
        } }, { key: "_reConnect", value: function() {
          this._readyState !== wr && this._readyState !== Fr && this.forcedReconnect();
        } }, { key: "forcedReconnect", value: function() {
          var e4 = this, t3 = "".concat(this._n, ".forcedReconnect");
          Ve2.l("".concat(t3, " count:").concat(this._reConnectCount, " readyState:").concat(this._readyState)), this._reConnectFlag = true, this._resetRandom(), this._reConnectCount < this.MAX_RECONNECT_COUNT ? (this._reConnectCount += 1, this._closeConnection(Ur), this._initConnection()) : (this._reConnectCount = 0, this._channelModule.probeNetwork().then(function(n3) {
            var o3 = v2(n3, 2), s3 = o3[0];
            o3[1], s3 ? (Ve2.w("".concat(t3, " disconnected from wsserver but network is ok, continue...")), e4._closeConnection(Ur), e4._initConnection()) : e4._channelModule.onReconnectFailed();
          }));
        } }, { key: "getReconnectFlag", value: function() {
          return this._reConnectFlag;
        } }, { key: "_setNextPingTs", value: function() {
          this._nextPingTs = Date.now() + 1e4;
        } }, { key: "getNextPingTs", value: function() {
          return this._nextPingTs;
        } }, { key: "isConnected", value: function() {
          return this._readyState === wr;
        } }, { key: "canIUseBinaryFrame", value: function() {
          return this._canIUseBinaryFrame;
        } }, { key: "inflate", value: function(e4) {
          if (this._channelModule.canIUseInflate())
            return this._channelModule.getModule(ro).inflate(e4);
        } }, { key: "setIsWorkerEnabled", value: function(e4) {
          Ve2.l("".concat(this._n, ".setIsWorkerEnabled flag:").concat(e4)), this._isWorkerEnabled = e4;
        } }, { key: "getIsWorkerEnabled", value: function() {
          return this._isWorkerEnabled && Se2;
        } }, { key: "_getRandom", value: function() {
          return 0 === this._random && (this._random = Math.random()), this._random;
        } }, { key: "_resetRandom", value: function() {
          this._random = 0;
        } }, { key: "close", value: function() {
          Ve2.l("".concat(this._n, ".close")), this._closeConnection(Gr), this._promiseMap.clear(), this._startSequence = _t2(), this._readyState = qr, this._simpleRequestMap.clear(), this._reConnectFlag = false, this._reConnectCount = 0, this._onOpenTs = 0, this._url = "", this._random = 0, this._canIUseBinaryFrame = true, this._isWorkerEnabled = true;
        } }]), e3;
      }(), Vr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          if (o2(this, n3), (s3 = t3.call(this, e4))._n = "ChannelModule", s3._socketHandler = new xr(h2(s3)), s3._probing = false, s3._isAppShowing = true, s3._previousState = E2.NET_STATE_CONNECTED, ae2 && "function" == typeof re2.onAppShow && "function" == typeof re2.onAppHide) {
            var a3 = s3._onAppHide.bind(h2(s3)), i3 = s3._onAppShow.bind(h2(s3));
            "function" == typeof re2.offAppHide && re2.offAppHide(a3), "function" == typeof re2.offAppShow && re2.offAppShow(i3), re2.onAppHide(a3), re2.onAppShow(i3);
          }
          return s3._timerForNotLoggedIn = -1, s3._timerForNotLoggedIn = setInterval(s3.onCheckTimer.bind(h2(s3)), 1e3), s3._fatalErrorFlag = false, s3;
        }
        return a2(n3, [{ key: "onCheckTimer", value: function(e4) {
          this._socketHandler && (this.isLoggedIn() ? (this._timerForNotLoggedIn > 0 && (clearInterval(this._timerForNotLoggedIn), this._timerForNotLoggedIn = -1), this._socketHandler.onCheckTimer(e4)) : this._socketHandler.onCheckTimer(1), this._checkNextPing());
        } }, { key: "onErrorCodeNotZero", value: function(e4) {
          this.getModule(zn2).onErrorCodeNotZero(e4);
        } }, { key: "onMessage", value: function(e4) {
          this.getModule(zn2).onMessage(e4);
        } }, { key: "send", value: function(e4) {
          return this._socketHandler ? this._previousState !== E2.NET_STATE_CONNECTED && e4.head.servcmd.includes(Bs2) ? (this.reConnect(), this._sendLogViaHTTP(e4)) : this._socketHandler.send(e4) : Promise.reject();
        } }, { key: "_sendLogViaHTTP", value: function(e4) {
          var t4 = V2.HOST.CURRENT.STAT;
          return new Promise(function(n4, o3) {
            var s3 = "".concat(t4, "/v4/imopenstat/tim_web_report_v2?sdkappid=").concat(e4.head.sdkappid, "&reqtime=").concat(Date.now()), a3 = JSON.stringify(e4.body), i3 = "application/x-www-form-urlencoded;charset=UTF-8";
            if (ae2)
              re2.request({ url: s3, data: a3, method: "POST", timeout: 3e3, header: { "content-type": i3 }, success: function() {
                n4();
              }, fail: function() {
                o3(new ja({ code: ha.NETWORK_ERROR }));
              } });
            else {
              var r3 = new XMLHttpRequest(), u3 = setTimeout(function() {
                r3.abort(), o3(new ja({ code: ha.NETWORK_TIMEOUT }));
              }, 3e3);
              r3.onreadystatechange = function() {
                4 === r3.readyState && (clearTimeout(u3), 200 === r3.status || 304 === r3.status ? n4() : o3(new ja({ code: ha.NETWORK_ERROR })));
              }, r3.open("POST", s3, true), r3.setRequestHeader("Content-type", i3), r3.send(a3);
            }
          });
        } }, { key: "simplySend", value: function(e4) {
          return this._socketHandler ? this._socketHandler.simplySend(e4) : Promise.reject();
        } }, { key: "onOpen", value: function() {
          this._ping();
        } }, { key: "onClose", value: function() {
          this._socketHandler && (this._socketHandler.getReconnectFlag() && this._emitNetStateChangeEvent(E2.NET_STATE_DISCONNECTED));
          this.reConnect();
        } }, { key: "onError", value: function() {
          ae2 && !oe2 && this.outputWarning("DomainNameInMP"), this._emitNetStateChangeEvent(E2.NET_STATE_DISCONNECTED);
        } }, { key: "getKeyMap", value: function(e4) {
          return this.getModule(zn2).getKeyMap(e4);
        } }, { key: "_onAppHide", value: function() {
          this._isAppShowing = false;
        } }, { key: "_onAppShow", value: function() {
          this._isAppShowing = true;
        } }, { key: "onRequestTimeout", value: function(e4) {
        } }, { key: "onReconnected", value: function() {
          Ve2.l("".concat(this._n, ".onReconnected")), this._m.restartTimer(), this.getModule(zn2).onReconnected(), this._emitNetStateChangeEvent(E2.NET_STATE_CONNECTED);
        } }, { key: "onReconnectFailed", value: function() {
          Ve2.l("".concat(this._n, ".onReconnectFailed")), this._emitNetStateChangeEvent(E2.NET_STATE_DISCONNECTED);
        } }, { key: "setIsWorkerEnabled", value: function(e4) {
          this._socketHandler && this._socketHandler.setIsWorkerEnabled(false);
        } }, { key: "offline", value: function() {
          this._emitNetStateChangeEvent(E2.NET_STATE_DISCONNECTED);
        } }, { key: "reConnect", value: function() {
          var e4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t4 = false;
          this._socketHandler && (t4 = this._socketHandler.getReconnectFlag());
          var n4 = "forcedFlag:".concat(e4, " fatalErrorFlag:").concat(this._fatalErrorFlag, " previousState:").concat(this._previousState, " reconnectFlag:").concat(t4);
          if (Ve2.l("".concat(this._n, ".reConnect ").concat(n4)), !this._fatalErrorFlag && this._socketHandler) {
            if (true === e4)
              this._socketHandler.forcedReconnect();
            else {
              if (this._previousState === E2.NET_STATE_CONNECTING && t4)
                return;
              this._socketHandler.forcedReconnect();
            }
            this._emitNetStateChangeEvent(E2.NET_STATE_CONNECTING);
          }
        } }, { key: "_emitNetStateChangeEvent", value: function(e4) {
          this._previousState !== e4 && (Ve2.l("".concat(this._n, "._emitNetStateChangeEvent from ").concat(this._previousState, " to ").concat(e4)), this._previousState = e4, this.emitOuterEvent(k.NET_STATE_CHANGE, { state: e4 }));
        } }, { key: "_ping", value: function() {
          var e4 = this;
          if (true !== this._probing) {
            this._probing = true;
            var t4 = this.getModule(zn2).getProtocolData({ protocolName: Hs2 });
            this.send(t4).then(function() {
              e4._probing = false;
            }).catch(function(t5) {
              if (Ve2.w("".concat(e4._n, "._ping failed. error:"), t5), e4._probing = false, t5 && 60002 === t5.code)
                return new Aa("error").setMessage("code:".concat(t5.code, " message:").concat(t5.message)).setNetworkType(e4.getModule(Hn2).getNetworkType()).end(), e4._fatalErrorFlag = true, void e4._emitNetStateChangeEvent(E2.NET_STATE_DISCONNECTED);
              e4.probeNetwork().then(function(t6) {
                var n4 = v2(t6, 2), o3 = n4[0], s3 = n4[1];
                Ve2.l("".concat(e4._n, "._ping failed. probe network, isAppShowing:").concat(e4._isAppShowing, " online:").concat(o3, " networkType:").concat(s3)), o3 ? e4.reConnect() : e4._emitNetStateChangeEvent(E2.NET_STATE_DISCONNECTED);
              });
            });
          }
        } }, { key: "_checkNextPing", value: function() {
          this._socketHandler && (this._socketHandler.isConnected() && Date.now() >= this._socketHandler.getNextPingTs() && this._ping());
        } }, { key: "canIUseInflate", value: function() {
          return this._m.canIUseInflate();
        } }, { key: "dealloc", value: function() {
          this._socketHandler && (this._socketHandler.close(), this._socketHandler = null), this._timerForNotLoggedIn > -1 && clearInterval(this._timerForNotLoggedIn);
        } }, { key: "onRestApiKickedOut", value: function() {
          this._socketHandler && (this._socketHandler.close(), this.reConnect(true));
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._previousState = E2.NET_STATE_CONNECTED, this._probing = false, this._fatalErrorFlag = false, this._timerForNotLoggedIn = setInterval(this.onCheckTimer.bind(this), 1e3);
        } }]), n3;
      }(uo), Br = ["a2", "tinyid"], Hr = ["a2", "tinyid"], Kr = function() {
        function e3(t3) {
          o2(this, e3), this._n = "ProtocolHandler", this._sessionModule = t3, this._configMap = /* @__PURE__ */ new Map(), this._fillConfigMap();
        }
        return a2(e3, [{ key: "_fillConfigMap", value: function() {
          this._configMap.clear();
          var e4 = this._sessionModule.genCommonHead(), n3 = this._sessionModule.genCosSpecifiedHead(), o3 = this._sessionModule.genSSOReportHead(), s3 = this._sessionModule.isIntl();
          this._configMap.set(co, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.LOGIN) }), body: { state: "Online", isWebUniapp: 0, deviceBrand: 0 }, keyMap: { request: { deviceBrand: "InstType" }, response: { InstId: "instanceID", HelloInterval: "helloInterval" } } };
          }(e4)), this._configMap.set(lo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.LOGOUT) }), body: { type: 0 }, keyMap: { request: { type: "wslogout_type" } } };
          }(e4)), this._configMap.set(po, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.HELLO) }), body: { isWebUniapp: 0 }, keyMap: { response: { NewInstInfo: "newInstanceInfo" } } };
          }(e4)), this._configMap.set(go, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.STAT_SERVICE, ".").concat(V2.CMD.KICK_OTHER) }), body: {} };
          }(e4)), this._configMap.set(qs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_COS_SIGN, ".").concat(V2.CMD.COS_SIGN) }), body: { cmd: "open_im_cos_svc", subCmd: "get_cos_token", duration: 300, version: 2 }, keyMap: { request: { userSig: "usersig", subCmd: "sub_cmd", cmd: "cmd", duration: "duration", version: "version" }, response: { expired_time: "expiredTime", bucket_name: "bucketName", session_token: "sessionToken", tmp_secret_id: "secretId", tmp_secret_key: "secretKey" } } };
          }(n3)), this._configMap.set(xs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.CUSTOM_UPLOAD, ".").concat(V2.CMD.COS_PRE_SIG) }), body: { fileType: void 0, fileName: void 0, uploadMethod: 0, duration: 900 }, keyMap: { request: { userSig: "usersig", fileType: "file_type", fileName: "file_name", uploadMethod: "upload_method" }, response: { expired_time: "expiredTime", request_id: "requestId", head_url: "headUrl", upload_url: "uploadUrl", download_url: "downloadUrl", ci_url: "ciUrl", snapshot_url: "requestSnapshotUrl" } } };
          }(n3)), this._configMap.set(Vs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.CUSTOM_UPLOAD, ".").concat(V2.CMD.VIDEO_COVER) }), body: { version: 1, platform: void 0, coverName: void 0, requestSnapshotUrl: void 0 }, keyMap: { request: { version: "version", platform: "platform", coverName: "cover_name", requestSnapshotUrl: "snapshot_url" }, response: { error_code: "errorCode", error_msg: "errorInfo", download_url: "snapshotUrl" } } };
          }(n3)), this._configMap.set(Qs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_CONFIG_MANAGER, ".").concat(V2.CMD.FETCH_COMMERCIAL_CONFIG) }), body: { SDKAppID: 0 }, keyMap: { request: { SDKAppID: "uint32_sdkappid" }, response: { int32_error_code: "errorCode", str_error_message: "errorMessage", str_purchase_bits: "purchaseBits", uint32_expired_time: "expiredTime" } } };
          }(e4)), this._configMap.set($s2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_CONFIG_MANAGER, ".").concat(V2.CMD.PUSHED_COMMERCIAL_CONFIG) }), body: {}, keyMap: { response: { int32_error_code: "errorCode", str_error_message: "errorMessage", str_purchase_bits: "purchaseBits", uint32_expired_time: "expiredTime" } } };
          }(e4)), this._configMap.set(Xs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_CONFIG_MANAGER, ".").concat(V2.CMD.FETCH_CLOUD_CONTROL_CONFIG) }), body: { SDKAppID: 0, version: 0 }, keyMap: { request: { SDKAppID: "uint32_sdkappid", version: "uint64_version" }, response: { int32_error_code: "errorCode", str_error_message: "errorMessage", str_json_config: "cloudControlConfig", uint32_expired_time: "expiredTime", uint32_sdkappid: "SDKAppID", uint64_version: "version" } } };
          }(e4)), this._configMap.set(Zs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_CONFIG_MANAGER, ".").concat(V2.CMD.PUSHED_CLOUD_CONTROL_CONFIG) }), body: {}, keyMap: { response: { int32_error_code: "errorCode", str_error_message: "errorMessage", str_json_config: "cloudControlConfig", uint32_expired_time: "expiredTime", uint32_sdkappid: "SDKAppID", uint64_version: "version" } } };
          }(e4)), this._configMap.set(ea, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OVERLOAD_PUSH, ".").concat(V2.CMD.OVERLOAD_NOTIFY) }), body: {}, keyMap: { response: { OverLoadServCmd: "overloadCommand", DelaySecs: "waitingTime" } } };
          }(e4)), this._configMap.set(ho, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.GET_MESSAGES) }), body: { cookie: "", syncFlag: 0, needAbstract: 1, isOnlineSync: 0, needSignaling: 1 }, keyMap: { request: { fromAccount: "From_Account", toAccount: "To_Account", from: "From_Account", to: "To_Account", time: "MsgTimeStamp", sequence: "MsgSeq", random: "MsgRandom", elements: "MsgBody" }, response: { MsgList: "messageList", SyncFlag: "syncFlag", To_Account: "to", From_Account: "from", ClientSeq: "clientSequence", MsgSeq: "sequence", NoticeSeq: "noticeSequence", NotifySeq: "notifySequence", MsgRandom: "random", MsgTimeStamp: "time", MsgContent: "content", ToGroupId: "to", MsgKey: "messageKey", GroupTips: "groupTips", MsgBody: "elements", MsgType: "type", C2CRemainingUnreadCount: "C2CRemainingUnreadList", C2CPairUnreadCount: "C2CPairUnreadList" } } };
          }(e4)), s3 || (this._configMap.set(_o, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.BIG_DATA_HALLWAY_AUTH_KEY) }), body: {} };
          }(e4)), this._configMap.set(pa, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_MSG_AUDIT_MGR, ".").concat(V2.CMD.GET_RPOFANITY_LIST) }), body: { version: 0, deviceID: "", startIndex: void 0 }, keyMap: { request: { version: "uint64_version", deviceID: "str_device_id", startIndex: "uint64_start_index" }, response: { msg_cmd_error_code: "errorInfo", str_err_msg: "errorMessage", uint32_code: "errorCode", msg_scene_ctl_config: "filterConfig", uint64_c2c_custom_msg_flag: "c2c_custom_message", uint64_c2c_text_msg_flag: "c2c_text_message", uint64_group_custom_msg_flag: "group_custom_message", uint64_group_text_msg_flag: "group_text_message", uint64_group_info_flag: "group_profile", uint64_group_member_info_flag: "group_member_profile", uint64_relation_chain_flag: "sns", uint64_user_info_flag: "user_profile", rpt_msg_dirty_word: "lexicon", str_dirty_word: "profanity", str_replaced_content: "replacement", uint64_filter_type: "filterType", uint64_id: "id", uint64_word_type: "profanityType", uint64_complete_flag: "completeFlag", uint64_next_start_index: "nextStartIndex", uint64_version: "version", uint64_expired_time: "expiredTime" } } };
          }(e4))), this._configMap.set(fo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.SEND_MESSAGE) }), body: { fromAccount: "", toAccount: "", msgSeq: 0, msgRandom: 0, msgBody: [], cloudCustomData: void 0, nick: "", avatar: "", msgLifeTime: void 0, offlinePushInfo: { pushFlag: 0, title: "", desc: "", ext: "", apnsInfo: { badgeMode: 0, isVoipPush: void 0 }, androidInfo: { OPPOChannelID: "" } }, messageControlInfo: void 0, clientTime: void 0, needReadReceipt: 0, isSupportExtension: 0 }, keyMap: { request: { fromAccount: "From_Account", toAccount: "To_Account", msgTimeStamp: "MsgTimeStamp", msgSeq: "MsgSeq", msgRandom: "MsgRandom", msgBody: "MsgBody", count: "MaxCnt", lastMessageTime: "LastMsgTime", messageKey: "MsgKey", peerAccount: "Peer_Account", data: "Data", description: "Desc", extension: "Ext", type: "MsgType", content: "MsgContent", sizeType: "Type", uuid: "UUID", url: "", imageUrl: "URL", fileUrl: "Url", remoteAudioUrl: "Url", remoteVideoUrl: "VideoUrl", thumbUUID: "ThumbUUID", videoUUID: "VideoUUID", videoUrl: "", downloadFlag: "Download_Flag", nick: "From_AccountNick", avatar: "From_AccountHeadurl", from: "From_Account", time: "MsgTimeStamp", messageRandom: "MsgRandom", messageSequence: "MsgSeq", elements: "MsgBody", clientSequence: "ClientSeq", payload: "MsgContent", messageList: "MsgList", messageNumber: "MsgNum", abstractList: "AbstractList", messageBody: "MsgBody", needReadReceipt: "IsNeedReadReceipt" } } };
          }(e4)), this._configMap.set(vo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.SEND_GROUP_MESSAGE) }), body: { fromAccount: "", groupID: "", random: 0, clientSequence: 0, priority: "", msgBody: [], cloudCustomData: void 0, onlineOnlyFlag: 0, offlinePushInfo: { pushFlag: 0, title: "", desc: "", ext: "", apnsInfo: { badgeMode: 0, isVoipPush: void 0 }, androidInfo: { OPPOChannelID: "" } }, groupAtInfo: [], messageControlInfo: void 0, clientTime: void 0, needReadReceipt: 0, topicID: void 0, receiverList: void 0, isSupportExtension: 0 }, keyMap: { request: { to: "GroupId", extension: "Ext", data: "Data", description: "Desc", random: "Random", sequence: "ReqMsgSeq", count: "ReqMsgNumber", type: "MsgType", priority: "MsgPriority", content: "MsgContent", elements: "MsgBody", sizeType: "Type", uuid: "UUID", url: "", imageUrl: "URL", fileUrl: "Url", remoteAudioUrl: "Url", remoteVideoUrl: "VideoUrl", thumbUUID: "ThumbUUID", videoUUID: "VideoUUID", videoUrl: "", downloadFlag: "Download_Flag", clientSequence: "ClientSeq", from: "From_Account", time: "MsgTimeStamp", messageRandom: "MsgRandom", messageSequence: "MsgSeq", payload: "MsgContent", messageList: "MsgList", messageNumber: "MsgNum", abstractList: "AbstractList", messageBody: "MsgBody", needReadReceipt: "NeedReadReceipt", receiverList: "To_Account" }, response: { MsgTime: "time", MsgSeq: "sequence" } } };
          }(e4)), this._configMap.set(To, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.REVOKE_C2C_MESSAGE) }), body: { msgInfo: { fromAccount: "", toAccount: "", msgTimeStamp: 0, msgSeq: 0, msgRandom: 0 } }, keyMap: { request: { msgInfo: "MsgInfo", msgTimeStamp: "MsgTimeStamp", msgSeq: "MsgSeq", msgRandom: "MsgRandom" } } };
          }(e4)), this._configMap.set(is2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.REVOKE_GROUP_MESSAGE) }), body: { groupID: "", msgSeqList: void 0, topicID: "" }, keyMap: { request: { msgSeqList: "MsgSeqList", msgSeq: "MsgSeq" } } };
          }(e4)), this._configMap.set(So, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.GET_C2C_ROAM_MESSAGES) }), body: { peerAccount: "", count: 15, lastMessageTime: 0, messageKey: "", withRecalledMessage: 1, direction: 0 }, keyMap: { request: { messageKey: "MsgKey", peerAccount: "Peer_Account", count: "MaxCnt", lastMessageTime: "LastMsgTime", withRecalledMessage: "WithRecalledMsg", direction: "GetDirection" }, response: { LastMsgTime: "lastMessageTime", IsNeedReadReceipt: "needReadReceipt", IsPeerRead: "readReceiptSentByPeer" } } };
          }(e4)), this._configMap.set(Ro, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.MODIFY_C2C_MESSAGE) }), body: { from: "", to: "", sequence: 0, random: 0, time: 0, version: 0, elements: void 0, cloudCustomData: void 0 }, keyMap: { request: { sequence: "MsgSeq", random: "MsgRandom", time: "MsgTime", version: "MsgVersion", type: "MsgType", content: "MsgContent" } } };
          }(e4)), this._configMap.set(cs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_ROAM_MESSAGES) }), body: { withRecalledMsg: 1, groupID: "", count: 15, sequence: "", topicID: void 0 }, keyMap: { request: { sequence: "ReqMsgSeq", count: "ReqMsgNumber", withRecalledMessage: "WithRecalledMsg" }, response: { Random: "random", MsgTime: "time", MsgSeq: "sequence", ReqMsgSeq: "sequence", RspMsgList: "messageList", IsPlaceMsg: "isPlaceMessage", IsSystemMsg: "isSystemMessage", ToGroupId: "to", EnumFrom_AccountType: "fromAccountType", EnumTo_AccountType: "toAccountType", GroupCode: "groupCode", MsgPriority: "priority", MsgBody: "elements", MsgType: "type", MsgContent: "content", IsFinished: "complete", Download_Flag: "downloadFlag", ClientSeq: "clientSequence", ThumbUUID: "thumbUUID", VideoUUID: "videoUUID", ToTopicId: "topicID", InvisibleMsgSeq: "invisibleSequenceList" } } };
          }(e4)), this._configMap.set(Do, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.SET_C2C_MESSAGE_READ) }), body: { C2CMsgReaded: void 0 }, keyMap: { request: { lastMessageTime: "LastedMsgTime" } } };
          }(e4)), this._configMap.set(ko, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.SET_C2C_PEER_MUTE_NOTIFICATIONS) }), body: { userIDList: void 0, muteFlag: 0 }, keyMap: { request: { userIDList: "Peer_Account", muteFlag: "Mute_Notifications" } } };
          }(e4)), this._configMap.set(Eo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.GET_C2C_PEER_MUTE_NOTIFICATIONS) }), body: { updateSequence: 0 }, keyMap: { response: { MuteNotificationsList: "muteFlagList" } } };
          }(e4)), this._configMap.set(rs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.SET_GROUP_MESSAGE_READ) }), body: { groupID: void 0, messageReadSeq: void 0, topicID: void 0 }, keyMap: { request: { messageReadSeq: "MsgReadedSeq" } } };
          }(e4)), this._configMap.set(us2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.SET_ALL_MESSAGE_READ) }), body: { readAllC2CMessage: 0, groupMessageReadInfoList: [] }, keyMap: { request: { readAllC2CMessage: "C2CReadAllMsg", groupMessageReadInfoList: "GroupReadInfo", messageSequence: "MsgSeq" }, response: { C2CReadAllMsg: "readAllC2CMessage", GroupReadInfoArray: "groupMessageReadInfoList" } } };
          }(e4)), this._configMap.set(Ao, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.DELETE_C2C_MESSAGE) }), body: { fromAccount: "", to: "", keyList: void 0 }, keyMap: { request: { keyList: "MsgKeyList" } } };
          }(e4)), this._configMap.set(Ms2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.DELETE_GROUP_MESSAGE) }), body: { groupID: "", deleter: "", keyList: void 0, topicID: void 0 }, keyMap: { request: { deleter: "Deleter_Account", keyList: "Seqs" } } };
          }(e4)), this._configMap.set(ga, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_TRANSLATE, ".").concat(V2.CMD.TRANSLATE_TEXT) }), body: { sourceTextList: void 0, SDKAppID: 0, from: 0, source: "", target: "" }, keyMap: { request: { sourceTextList: "SourceText", SDKAppID: "SdkAppId", from: "FromAccount" }, response: { TargetText: "translatedTextList", RequestId: "requestID", CmdErrorCode: "error", ErrorCode: "code", ErrorInfo: "message" } } };
          }(e4)), this._configMap.set(ys2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.MODIFY_GROUP_MESSAGE) }), body: { groupID: "", topicID: void 0, sequence: 0, version: 0, elements: void 0, cloudCustomData: void 0 }, keyMap: { request: { sequence: "MsgSeq", version: "MsgVersion", type: "MsgType", content: "MsgContent" } } };
          }(e4)), this._configMap.set(ls2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_READ_RECEIPT) }), body: { groupID: "", sequenceList: void 0 }, keyMap: { request: { sequence: "MsgSeq" } } };
          }(e4)), this._configMap.set(ps2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.SEND_C2C_READ_RECEIPT) }), body: { peerAccount: "", messageInfoList: void 0 }, keyMap: { request: { peerAccount: "Peer_Account", messageInfoList: "C2CMsgInfo", fromAccount: "From_Account", toAccount: "To_Account", sequence: "MsgSeq", random: "MsgRandom", time: "MsgTime", clientTime: "MsgClientTime" } } };
          }(e4)), this._configMap.set(ds2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.SEND_READ_RECEIPT) }), body: { groupID: "", sequenceList: void 0 }, keyMap: { request: { sequenceList: "MsgSeqList", sequence: "MsgSeq" } } };
          }(e4)), this._configMap.set(gs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_READ_RECEIPT_DETAIL) }), body: { groupID: "", sequence: void 0, flag: 0, cursor: 0, count: 0 }, keyMap: { request: { sequence: "MsgSeq", count: "Num" }, response: { ReadList: "readUserIDList", Read_Account: "userID", UnreadList: "unreadUserIDList", Unread_Account: "userID", IsFinish: "isCompleted" } } };
          }(e4)), this._configMap.set(No, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM_MSG_EXT, ".").concat(V2.CMD.MODIFY_C2C_MESSAGE_EXTENSIONS) }), body: { from: void 0, to: void 0, messageKey: void 0, operateType: void 0, extensionList: void 0 } };
          }(e4)), this._configMap.set(Oo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM_MSG_EXT, ".").concat(V2.CMD.GET_C2C_MESSAGE_EXTENSIONS) }), body: { from: void 0, to: void 0, messageKey: void 0, startSequence: void 0 } };
          }(e4)), this._configMap.set(Es2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM_MSG_EXT, ".").concat(V2.CMD.MODIFY_GROUP_MESSAGE_EXTENSIONS) }), body: { groupID: void 0, topicID: void 0, messageSequence: void 0, operateType: void 0, extensionList: void 0 } };
          }(e4)), this._configMap.set(Ss2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM_MSG_EXT, ".").concat(V2.CMD.GET_GROUP_MESSAGE_EXTENSIONS) }), body: { groupID: void 0, topicID: void 0, messageSequence: void 0, startSequence: void 0 } };
          }(e4)), this._configMap.set(Lo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.GET_PEER_READ_TIME) }), body: { userIDList: void 0 }, keyMap: { request: { userIDList: "To_Account" }, response: { ReadTime: "peerReadTimeList" } } };
          }(e4)), this._configMap.set(Uo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.GET_CONVERSATION_LIST) }), body: { fromAccount: void 0, count: 0 }, keyMap: { request: {}, response: { SessionItem: "conversations", ToAccount: "groupID", To_Account: "userID", UnreadMsgCount: "unreadCount", MsgGroupReadedSeq: "messageReadSeq", C2cPeerReadTime: "c2cPeerReadTime" } } };
          }(e4)), this._configMap.set(Go, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.PAGING_GET_CONVERSATION_LIST) }), body: { fromAccount: void 0, timeStamp: void 0, startIndex: void 0, pinnedTimeStamp: void 0, pinnedStartIndex: void 0, orderType: void 0, messageAssistFlag: 4, assistFlag: 15 }, keyMap: { request: { messageAssistFlag: "MsgAssistFlags", assistFlag: "AssistFlags", pinnedTimeStamp: "TopTimeStamp", pinnedStartIndex: "TopStartIndex" }, response: { SessionItem: "conversations", ToAccount: "groupID", To_Account: "userID", UnreadMsgCount: "unreadCount", MsgGroupReadedSeq: "messageReadSeq", C2cPeerReadTime: "c2cPeerReadTime", LastMsgFlags: "lastMessageFlag", TopFlags: "isPinned", TopTimeStamp: "pinnedTimeStamp", TopStartIndex: "pinnedStartIndex", GroupId: "convGroupID" } } };
          }(e4)), this._configMap.set(Po, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.DELETE_CONVERSATION) }), body: { fromAccount: "", conversationList: void 0, clearHistoryMessage: void 0 }, keyMap: { request: { toGroupID: "ToGroupid", clearHistoryMessage: "ClearRamble", conversationList: "ContactItem" }, response: { ResultItem: "resultList", ToGroupid: "groupID", ResultCode: "code", ResultInfo: "info" } } };
          }(e4)), this._configMap.set(bo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.CLEAR_HISTORY_MESSAGE) }), body: { fromAccount: "", toAccount: void 0, type: 1, toGroupID: void 0 }, keyMap: { request: { toGroupID: "ToGroupid" } } };
          }(e4)), this._configMap.set(wo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.PIN_CONVERSATION) }), body: { fromAccount: "", operationType: 1, itemList: void 0 }, keyMap: { request: { itemList: "RecentContactItem" } } };
          }(e4)), this._configMap.set(Fo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.DELETE_GROUP_AT_TIPS) }), body: { messageListToDelete: void 0 }, keyMap: { request: { messageListToDelete: "DelMsgList", messageSeq: "MsgSeq", messageRandom: "MsgRandom" } } };
          }(e4)), this._configMap.set(qo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.MARK_CONVERSATION) }), body: { fromAccount: "", itemList: void 0 }, keyMap: { request: { itemList: "MarkItem", operationType: "OptType", groupID: "ToGroupId" }, response: { ToGroupId: "groupID", OptType: "operationType" } } };
          }(e4)), this._configMap.set(xo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.MARK_CONVERSATION) }), body: { fromAccount: "", itemList: void 0 }, keyMap: { request: { itemList: "MarkItem", operationType: "OptType", groupID: "ToGroupId" }, response: { ToGroupId: "groupID", OptType: "operationType" } } };
          }(e4)), this._configMap.set(Vo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.CREATE_CONVERSATION_GROUP) }), body: { fromAccount: "", itemList: void 0 }, keyMap: { request: { itemList: "GroupContactItem", groupID: "ToGroupId" }, response: { GroupId: "convGroupID", ToGroupId: "groupID", OptType: "operationType" } } };
          }(e4)), this._configMap.set(Bo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.DELETE_CONVERSATION_GROUP) }), body: { fromAccount: "", groupName: void 0 }, keyMap: { request: {}, response: { GroupId: "convGroupID" } } };
          }(e4)), this._configMap.set(Ho, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.UPDATE_CONVERSATION_GROUP) }), body: { fromAccount: "", updateType: void 0, updateGroup: void 0 }, keyMap: { request: { oldName: "OldGroupName", newName: "NewGroupName", groupID: "ToGroupId", operationType: "ContactOptType", groupName: "OldGroupName", updateItem: "ContactUpdateItem" }, response: { ContactOptType: "operationType", ToGroupId: "groupID", GroupId: "convGroupID" } } };
          }(e4)), this._configMap.set(Ko, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.UPDATE_CONVERSATION_GROUP) }), body: { fromAccount: "", updateType: void 0, updateGroup: { groupName: void 0, updateGroupType: void 0, updateItem: void 0 } }, keyMap: { request: {}, response: {} } };
          }(e4)), this._configMap.set(Wo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.UPDATE_CONVERSATION_GROUP) }), body: { fromAccount: "", updateType: void 0, updateGroup: void 0 }, keyMap: { request: {}, response: {} } };
          }(e4)), this._configMap.set(Yo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.RECENT_CONTACT, ".").concat(V2.CMD.GET_CONVERSATION_GROUP_LIST) }), body: { fromAccount: "", startTime: void 0, startIndex: void 0 }, keyMap: { request: {}, response: { GroupId: "convGroupID", ToGroupId: "groupID", OptType: "operationType", CustomMark: "customData", ContactGroupId: "convGroupIDList" } } };
          }(e4)), this._configMap.set(mo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.PROFILE, ".").concat(V2.CMD.PORTRAIT_GET) }), body: { fromAccount: "", userItem: [] }, keyMap: { request: { toAccount: "To_Account", standardSequence: "StandardSequence", customSequence: "CustomSequence" } } };
          }(e4)), this._configMap.set(Mo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.PROFILE, ".").concat(V2.CMD.PORTRAIT_SET) }), body: { fromAccount: "", profileItem: [{ tag: He2.NICK, value: "" }, { tag: He2.GENDER, value: "" }, { tag: He2.ALLOWTYPE, value: "" }, { tag: He2.AVATAR, value: "" }] }, keyMap: { request: { toAccount: "To_Account", standardSequence: "StandardSequence", customSequence: "CustomSequence" } } };
          }(e4)), this._configMap.set(yo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.FRIEND, ".").concat(V2.CMD.GET_BLACKLIST) }), body: { fromAccount: "", startIndex: 0, maxLimited: 30, lastSequence: 0 }, keyMap: { response: { CurruentSequence: "currentSequence" } } };
          }(e4)), this._configMap.set(Io, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.FRIEND, ".").concat(V2.CMD.ADD_BLACKLIST) }), body: { fromAccount: "", toAccount: [] } };
          }(e4)), this._configMap.set(Co, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.FRIEND, ".").concat(V2.CMD.DELETE_BLACKLIST) }), body: { fromAccount: "", toAccount: [] } };
          }(e4)), this._configMap.set(aa, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.SET_SELF_STATUS) }), body: { customStatus: "" }, keyMap: {} };
          }(e4)), this._configMap.set(ia, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.GET_USER_STATUS) }), body: { userIDList: void 0 }, keyMap: { response: { UserStatusList: "successUserList", ErrorList: "failureUserList", To_Account: "userID", Invalid_Account: "invalidUserID", Status: "statusType" } } };
          }(e4)), this._configMap.set(ra, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.SUBSCRIBE_USER_STATUS) }), body: { userIDList: void 0 }, keyMap: { response: { ErrorList: "failureUserList", To_Account: "userID", Invalid_Account: "invalidUserID" } } };
          }(e4)), this._configMap.set(ua, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.UNSUBSCRIBE_USER_STATUS) }), body: { userIDList: void 0, unsubscribeAll: void 0 }, keyMap: { response: { ErrorList: "failureUserList", To_Account: "userID", Invalid_Account: "invalidUserID" } } };
          }(e4)), this._configMap.set(jo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_JOINED_GROUPS) }), body: { memberAccount: "", limit: void 0, offset: void 0, groupType: void 0, responseFilter: { groupBaseInfoFilter: void 0, selfInfoFilter: void 0 }, isSupportTopic: 0 }, keyMap: { request: { memberAccount: "Member_Account" }, response: { GroupIdList: "groups", NoUnreadSeqList: "excludedUnreadSequenceList", MsgSeq: "readedSequence", LastRecallTime: "_lastRevokedTime" } } };
          }(e4)), this._configMap.set(zo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_INFO) }), body: { groupIDList: void 0, responseFilter: { groupBaseInfoFilter: ["Type", "Name", "Introduction", "Notification", "FaceUrl", "Owner_Account", "CreateTime", "InfoSeq", "LastInfoTime", "LastMsgTime", "MemberNum", "MaxMemberNum", "ApplyJoinOption", "NextMsgSeq", "ShutUpAllMember"], groupCustomFieldFilter: void 0, memberInfoFilter: void 0, memberCustomFieldFilter: void 0 } }, keyMap: { request: { groupIDList: "GroupIdList", groupCustomField: "AppDefinedData", memberCustomField: "AppMemberDefinedData", groupCustomFieldFilter: "AppDefinedDataFilter_Group", memberCustomFieldFilter: "AppDefinedDataFilter_GroupMember" }, response: { GroupIdList: "groups", AppDefinedData: "groupCustomField", AppMemberDefinedData: "memberCustomField", AppDefinedDataFilter_Group: "groupCustomFieldFilter", AppDefinedDataFilter_GroupMember: "memberCustomFieldFilter", InfoSeq: "infoSequence", MemberList: "members", GroupInfo: "groups", ShutUpUntil: "muteUntil", ShutUpAllMember: "muteAllMembers" } } };
          }(e4)), this._configMap.set(Jo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.CREATE_GROUP) }), body: { type: void 0, name: void 0, groupID: void 0, ownerID: void 0, introduction: void 0, notification: void 0, maxMemberNum: void 0, joinOption: void 0, memberList: void 0, groupCustomField: void 0, memberCustomField: void 0, webPushFlag: 1, avatar: "", isSupportTopic: void 0, inviteOption: void 0 }, keyMap: { request: { ownerID: "Owner_Account", userID: "Member_Account", avatar: "FaceUrl", maxMemberNum: "MaxMemberCount", joinOption: "ApplyJoinOption", groupCustomField: "AppDefinedData", memberCustomField: "AppMemberDefinedData", inviteOption: "InviteJoinOption" }, response: { HugeGroupFlag: "avChatRoomFlag", OverJoinedGroupLimit_Account: "overLimitUserIDList" } } };
          }(e4)), this._configMap.set(Xo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.DESTROY_GROUP) }), body: { groupID: void 0 } };
          }(e4)), this._configMap.set(Zo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.MODIFY_GROUP_INFO) }), body: { groupID: void 0, name: void 0, introduction: void 0, notification: void 0, avatar: void 0, joinOption: void 0, groupCustomField: void 0, muteAllMembers: void 0, inviteOption: void 0 }, keyMap: { request: { groupCustomField: "AppDefinedData", muteAllMembers: "ShutUpAllMember", joinOption: "ApplyJoinOption", avatar: "FaceUrl", inviteOption: "InviteJoinOption" }, response: { AppDefinedData: "groupCustomField", ShutUpAllMember: "muteAllMembers" } } };
          }(e4)), this._configMap.set(Qo, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.APPLY_JOIN_GROUP) }), body: { groupID: void 0, applyMessage: void 0, userDefinedField: void 0, webPushFlag: 1, historyMessageFlag: void 0 }, keyMap: { request: { applyMessage: "ApplyMsg", historyMessageFlag: "HugeGroupHistoryMsgFlag" }, response: { HugeGroupFlag: "avChatRoomFlag", AVChatRoomKey: "avChatRoomKey", RspMsgList: "messageList", ToGroupId: "to" } } };
          }(e4)), this._configMap.set($o, function(e5) {
            return e5.a2, e5.tinyid, { head: t2(t2({}, g2(e5, Br)), {}, { servcmd: "".concat(V2.NAME.BIG_GROUP_NO_AUTH, ".").concat(V2.CMD.APPLY_JOIN_GROUP) }), body: { groupID: void 0, applyMessage: void 0, userDefinedField: void 0, webPushFlag: 1 }, keyMap: { request: { applyMessage: "ApplyMsg" }, response: { HugeGroupFlag: "avChatRoomFlag" } } };
          }(e4)), this._configMap.set(es2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.QUIT_GROUP) }), body: { groupID: void 0 } };
          }(e4)), this._configMap.set(ts2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.SEARCH_GROUP_BY_ID) }), body: { groupIDList: void 0, responseFilter: { groupBasePublicInfoFilter: ["Type", "Name", "Introduction", "Notification", "FaceUrl", "CreateTime", "Owner_Account", "LastInfoTime", "LastMsgTime", "NextMsgSeq", "MemberNum", "MaxMemberNum", "ApplyJoinOption", "InviteJoinOption"] } }, keyMap: { response: {} } };
          }(e4)), this._configMap.set(ns2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.CHANGE_GROUP_OWNER) }), body: { groupID: void 0, newOwnerID: void 0 }, keyMap: { request: { newOwnerID: "NewOwner_Account" } } };
          }(e4)), this._configMap.set(os2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.HANDLE_APPLY_JOIN_GROUP) }), body: { groupID: void 0, applicant: void 0, handleAction: void 0, handleMessage: void 0, authentication: void 0, messageKey: void 0, userDefinedField: void 0 }, keyMap: { request: { applicant: "Applicant_Account", handleAction: "HandleMsg", handleMessage: "ApprovalMsg", messageKey: "MsgKey" } } };
          }(e4)), this._configMap.set(ss2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.HANDLE_INVITE_JOIN_GROUP) }), body: { groupID: void 0, applicant: void 0, invitee: void 0, handleAction: void 0, handleMessage: void 0, authentication: void 0, userDefinedField: void 0 }, keyMap: { request: { applicant: "Applicant_Account", invitee: "Invited_Account", handleAction: "HandleMsg", handleMessage: "ApprovalMsg" } } };
          }(e4)), this._configMap.set(as2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.HANDLE_GROUP_INVITATION) }), body: { groupID: void 0, inviter: void 0, handleAction: void 0, handleMessage: void 0, authentication: void 0, messageKey: void 0, userDefinedField: void 0 }, keyMap: { request: { inviter: "Inviter_Account", handleAction: "HandleMsg", handleMessage: "ApprovalMsg", messageKey: "MsgKey" } } };
          }(e4)), this._configMap.set(hs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_APPLICATION) }), body: { startTime: void 0, limit: void 0, handleAccount: void 0 }, keyMap: { request: { handleAccount: "Handle_Account" }, response: { To_Account: "userID" } } };
          }(e4)), this._configMap.set(_s2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.DELETE_GROUP_SYSTEM_MESSAGE) }), body: { messageListToDelete: void 0 }, keyMap: { request: { messageListToDelete: "DelMsgList", messageSeq: "MsgSeq", messageRandom: "MsgRandom" } } };
          }(e4)), this._configMap.set(fs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.BIG_GROUP_LONG_POLLING, ".").concat(V2.CMD.AVCHATROOM_LONG_POLL) }), body: { USP: 1, startSeq: 1, startBroadcastSeq: void 0, holdTime: 90, key: void 0, simplifiedMessage: void 0 }, keyMap: { request: { USP: "USP" }, response: { ToGroupId: "groupID", RspBroadcastMsgList: "broadcastMessageList", IsSystemMsg: "isSystemMessage" } } };
          }(e4)), this._configMap.set(vs2, function(e5) {
            return e5.a2, e5.tinyid, { head: t2(t2({}, g2(e5, Hr)), {}, { servcmd: "".concat(V2.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH, ".").concat(V2.CMD.AVCHATROOM_LONG_POLL) }), body: { USP: 1, startSeq: 1, holdTime: 90, key: void 0, simplifiedMessage: void 0 }, keyMap: { request: { USP: "USP" }, response: { ToGroupId: "groupID", RspBroadcastMsgList: "broadcastMessageList", IsSystemMsg: "isSystemMessage" } } };
          }(e4)), this._configMap.set(ms2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_ONLINE_MEMBER_NUM) }), body: { groupID: void 0 } };
          }(e4)), this._configMap.set(Is2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.SET_GROUP_ATTRIBUTES) }), body: { groupID: void 0, groupAttributeList: void 0, mainSequence: void 0, avChatRoomKey: void 0, attributeControl: ["RaceConflict"] }, keyMap: { request: { key: "key", value: "value" } } };
          }(e4)), this._configMap.set(Cs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.MODIFY_GROUP_ATTRIBUTES) }), body: { groupID: void 0, groupAttributeList: void 0, mainSequence: void 0, avChatRoomKey: void 0, attributeControl: ["RaceConflict"] }, keyMap: { request: { key: "key", value: "value" } } };
          }(e4)), this._configMap.set(Ts2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.DELETE_GROUP_ATTRIBUTES) }), body: { groupID: void 0, groupAttributeList: void 0, mainSequence: void 0, avChatRoomKey: void 0, attributeControl: ["RaceConflict"] }, keyMap: { request: { key: "key" } } };
          }(e4)), this._configMap.set(Ds2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.CLEAR_GROUP_ATTRIBUTES) }), body: { groupID: void 0, mainSequence: void 0, avChatRoomKey: void 0, attributeControl: ["RaceConflict"] } };
          }(e4)), this._configMap.set(ks2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_ATTR, ".").concat(V2.CMD.GET_GROUP_ATTRIBUTES) }), body: { groupID: void 0, avChatRoomKey: void 0, groupType: 1 }, keyMap: { request: { avChatRoomKey: "Key", groupType: "GroupType" } } };
          }(e4)), this._configMap.set(Ls2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_NOTIFY) }), body: { notifyType: 1, groupID: "", beginTime: 0, endTime: 0, limit: 20 }, keyMap: { request: {}, response: { NextMsgTime: "nextRevokedTime", NotifyMsgList: "notifyList" } } };
          }(e4)), this._configMap.set(As2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.UPDATE_GROUP_COUNTER) }), body: { groupID: void 0, counterList: void 0, avChatRoomKey: void 0, mode: void 0 }, keyMap: { request: { counterList: "GroupCounter" } } };
          }(e4)), this._configMap.set(Rs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_COUNTER) }), body: { groupID: void 0, keyList: [], avChatRoomKey: void 0 }, keyMap: { request: { keyList: "GroupCounterKeys" } } };
          }(e4)), this._configMap.set(ta, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_COMMUNITY, ".").concat(V2.CMD.CREATE_TOPIC) }), body: { groupID: void 0, topicName: void 0, avatar: void 0, customData: void 0, topicID: void 0, notification: void 0, introduction: void 0 }, keyMap: { request: { avatar: "FaceUrl" } } };
          }(e4)), this._configMap.set(na, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_COMMUNITY, ".").concat(V2.CMD.DELETE_TOPIC) }), body: { groupID: void 0, topicIDList: void 0 }, keyMap: { request: { topicIDList: "TopicIdList" }, response: { DestroyResultItem: "resultList" } } };
          }(e4)), this._configMap.set(oa, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_COMMUNITY, ".").concat(V2.CMD.UPDATE_TOPIC_PROFILE) }), body: { groupID: void 0, topicID: void 0, avatar: void 0, customData: void 0, notification: void 0, introduction: void 0, muteAllMembers: void 0, topicName: void 0 }, keyMap: { request: { avatar: "FaceUrl", muteAllMembers: "ShutUpAllMember" } } };
          }(e4)), this._configMap.set(sa, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_COMMUNITY, ".").concat(V2.CMD.GET_TOPIC_LIST) }), body: { groupID: void 0, topicIDList: void 0, MemberInfoFilter: ["NoUnreadSeqList"] }, keyMap: { request: { topicIDList: "TopicIdList" }, response: { TopicAndSelfInfo: "topicInfoList", TopicInfo: "topic", GroupID: "groupID", ShutUpTime: "muteTime", ShutUpAllFlag: "muteAllMembers", LastMsgTime: "lastMessageTime", MsgSeq: "readedSequence", LastMsgSeq: "sequence", NoUnreadSeqList: "excludedUnreadSequenceList" } } };
          }(e4)), this._configMap.set(Ns2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_MEMBER_LIST) }), body: { groupID: void 0, limit: 0, offset: void 0, next: void 0, memberRoleFilter: void 0, memberInfoFilter: ["Role", "NameCard", "ShutUpUntil", "JoinTime"], memberCustomFieldFilter: void 0 }, keyMap: { request: { memberCustomFieldFilter: "AppDefinedDataFilter_GroupMember" }, response: { AppMemberDefinedData: "memberCustomField", AppDefinedDataFilter_GroupMember: "memberCustomFieldFilter", MemberList: "members", ShutUpUntil: "muteUntil" } } };
          }(e4)), this._configMap.set(Os2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_AVCHATROOM, ".").concat(V2.CMD.GET_AVCHATROOM_MEMBER_LIST) }), body: { groupID: void 0, offset: void 0, filter: void 0 }, keyMap: { request: { offset: "Timestamp", filter: "Mark" }, response: { NextTimestamp: "offset" } } };
          }(e4)), this._configMap.set(Gs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.GET_GROUP_MEMBER_INFO) }), body: { groupID: void 0, userIDList: void 0, memberInfoFilter: void 0, memberCustomFieldFilter: void 0 }, keyMap: { request: { userIDList: "Member_List_Account", memberCustomFieldFilter: "AppDefinedDataFilter_GroupMember" }, response: { MemberList: "members", ShutUpUntil: "muteUntil", AppDefinedDataFilter_GroupMember: "memberCustomFieldFilter", AppMemberDefinedData: "memberCustomField" } } };
          }(e4)), this._configMap.set(Us2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.ADD_GROUP_MEMBER) }), body: { groupID: void 0, silence: void 0, userIDList: void 0 }, keyMap: { request: { userID: "Member_Account", userIDList: "MemberList" }, response: { MemberList: "members" } } };
          }(e4)), this._configMap.set(Ps2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.DELETE_GROUP_MEMBER) }), body: { groupID: void 0, userIDList: void 0, reason: void 0 }, keyMap: { request: { userIDList: "MemberToDel_Account" } } };
          }(e4)), this._configMap.set(bs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.BAN_AVCHATROOM_MEMBER) }), body: { groupID: void 0, userIDList: void 0, duration: void 0, reason: "" }, keyMap: { request: { userIDList: "Members_Account", duration: "Duration", reason: "Description" } } };
          }(e4)), this._configMap.set(ws2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP, ".").concat(V2.CMD.MODIFY_GROUP_MEMBER_INFO) }), body: { groupID: void 0, topicID: void 0, userID: void 0, messageRemindType: void 0, nameCard: void 0, role: void 0, memberCustomField: void 0, muteTime: void 0 }, keyMap: { request: { userID: "Member_Account", memberCustomField: "AppMemberDefinedData", muteTime: "ShutUpTime", messageRemindType: "MsgFlag" } } };
          }(e4)), this._configMap.set(Fs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.GROUP_AVCHATROOM, ".").concat(V2.CMD.MARK_AVCHATROOM_MEMBER_INFO) }), body: { groupID: void 0, operationType: 1, memberList: [] }, keyMap: { request: { operationType: "CommandType", memberList: "MemberList", markType: "Marks", userID: "Member_Account" }, response: { CommandType: "operationType", Marks: "markType", Member_Account: "userID" } } };
          }(e4)), this._configMap.set(Bs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STAT, ".").concat(V2.CMD.TIM_WEB_REPORT_V2) }), body: { header: {}, event: [], quality: [] }, keyMap: { request: { SDKType: "sdk_type", SDKVersion: "sdk_version", deviceType: "device_type", platform: "platform", instanceID: "instance_id", traceID: "trace_id", SDKAppID: "sdk_app_id", userID: "user_id", tinyID: "tiny_id", extension: "extension", timestamp: "timestamp", networkType: "network_type", eventType: "event_type", code: "error_code", message: "error_message", moreMessage: "more_message", duplicate: "duplicate", costTime: "cost_time", level: "level", qualityType: "quality_type", reportIndex: "report_index", wholePeriod: "whole_period", totalCount: "total_count", rttCount: "success_count_business", successRateOfRequest: "percent_business", countLessThan1Second: "success_count_business", percentOfCountLessThan1Second: "percent_business", countLessThan3Second: "success_count_platform", percentOfCountLessThan3Second: "percent_platform", successCountOfBusiness: "success_count_business", successRateOfBusiness: "percent_business", successCountOfPlatform: "success_count_platform", successRateOfPlatform: "percent_platform", successCountOfMessageReceived: "success_count_business", successRateOfMessageReceived: "percent_business", avgRTT: "average_value", avgDelay: "average_value", avgValue: "average_value", uiPlatform: "ui_platform" } } };
          }(o3)), this._configMap.set(Hs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.HEARTBEAT, ".").concat(V2.CMD.ALIVE) }), body: {} };
          }(e4)), this._configMap.set(Ks2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_PUSH, ".").concat(V2.CMD.MESSAGE_PUSH) }), body: {}, keyMap: { response: { C2cMsgArray: "C2CMessageArray", GroupMsgArray: "groupMessageArray", GroupTips: "groupTips", C2cNotifyMsgArray: "C2CNotifyMessageArray", C2cMsgInfo: "C2CReadReceiptArray", ClientSeq: "clientSequence", MsgPriority: "priority", NoticeSeq: "noticeSequence", MsgContent: "content", MsgType: "type", MsgBody: "elements", ToGroupId: "to", Desc: "description", Ext: "extension", IsSyncMsg: "isSyncMessage", Flag: "needSync", NeedAck: "needAck", PendencyAdd_Account: "userID", ProfileImNick: "nick", PendencyType: "applicationType", C2CReadAllMsg: "readAllC2CMessage", IsNeedReadReceipt: "needReadReceipt", Status: "statusType" } } };
          }(e4)), this._configMap.set(Ws2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_PUSH, ".").concat(V2.CMD.MULTI_MESSAGE_PUSH) }), body: {}, keyMap: { response: { GroupMsgArray: "groupMessageArray", GroupTips: "groupTips", ClientSeq: "clientSequence", MsgPriority: "priority", NoticeSeq: "noticeSequence", MsgContent: "content", MsgType: "type", MsgBody: "elements", ToGroupId: "to", Desc: "description", Ext: "extension", IsSyncMsg: "isSyncMessage", Flag: "needSync", NeedAck: "needAck", PendencyType: "applicationType" } } };
          }(e4)), this._configMap.set(Ys2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.OPEN_IM, ".").concat(V2.CMD.MESSAGE_PUSH_ACK) }), body: { sessionData: void 0 }, keyMap: { request: { sessionData: "SessionData" } } };
          }(e4)), this._configMap.set(js2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.STATUS_FORCE_OFFLINE) }), body: {}, keyMap: { response: { C2cNotifyMsgArray: "C2CNotifyMessageArray", NoticeSeq: "noticeSequence", KickoutMsgNotify: "kickoutMsgNotify", NewInstInfo: "newInstanceInfo" } } };
          }(e4)), this._configMap.set(Js2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_LONG_MESSAGE, ".").concat(V2.CMD.DOWNLOAD_MERGER_MESSAGE) }), body: { downloadKey: "" }, keyMap: { response: { Data: "data", Desc: "description", Ext: "extension", Download_Flag: "downloadFlag", ThumbUUID: "thumbUUID", VideoUUID: "videoUUID" } } };
          }(e4)), this._configMap.set(zs2, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_LONG_MESSAGE, ".").concat(V2.CMD.UPLOAD_MERGER_MESSAGE) }), body: { messageList: [] }, keyMap: { request: { fromAccount: "From_Account", toAccount: "To_Account", msgTimeStamp: "MsgTimeStamp", msgSeq: "MsgSeq", msgRandom: "MsgRandom", msgBody: "MsgBody", type: "MsgType", content: "MsgContent", data: "Data", description: "Desc", extension: "Ext", sizeType: "Type", uuid: "UUID", url: "", imageUrl: "URL", fileUrl: "Url", remoteAudioUrl: "Url", remoteVideoUrl: "VideoUrl", thumbUUID: "ThumbUUID", videoUUID: "VideoUUID", videoUrl: "", downloadFlag: "Download_Flag", from: "From_Account", time: "MsgTimeStamp", messageRandom: "MsgRandom", messageSequence: "MsgSeq", elements: "MsgBody", clientSequence: "ClientSeq", payload: "MsgContent", messageList: "MsgList", messageNumber: "MsgNum", abstractList: "AbstractList", messageBody: "MsgBody" } } };
          }(e4)), this._configMap.set(da, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.SET_TOKEN) }), body: { tokenID: "", pushMsg: 0, sdkAppID: 0, businessID: "", deviceBrand: "", deviceToken: "", isTpns: 0, isWebUniapp: 0 }, keyMap: { request: { tokenID: "TokenID", pushMsg: "PushMsg", sdkAppID: "EnterVersion", businessID: "BusiID", deviceBrand: "InstType", deviceToken: "VarToken", isTpns: "IsTpns" } } };
          }(e4)), this._configMap.set(la, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.STAT_FOREGROUND) }), body: { isWebUniapp: 0 } };
          }(e4)), this._configMap.set(ca, function(e5) {
            return { head: t2(t2({}, e5), {}, { servcmd: "".concat(V2.NAME.IM_OPEN_STATUS, ".").concat(V2.CMD.STAT_BACKGROUND) }), body: { C2CUnread: 0, GroupUnread: 0, isWebUniapp: 0 }, keyMap: { request: { c2cUnreadCount: "C2cUnread", groupUnreadCount: "GrpUnread" } } };
          }(e4));
        } }, { key: "has", value: function(e4) {
          return this._configMap.has(e4);
        } }, { key: "get", value: function(e4) {
          return this._configMap.get(e4);
        } }, { key: "update", value: function() {
          this._fillConfigMap();
        } }, { key: "getKeyMap", value: function(e4) {
          return this.has(e4) ? this.get(e4).keyMap || {} : (Ve2.w("".concat(this._n, ".getKeyMap unknown protocolName:").concat(e4)), {});
        } }, { key: "getProtocolData", value: function(e4) {
          var t3 = e4.protocolName, n3 = e4.requestData, o3 = this.get(t3), s3 = null;
          if (n3) {
            var a3 = this._simpleDeepCopy(o3), i3 = this._updateService(n3, a3), r3 = i3.body, u3 = /* @__PURE__ */ Object.create(null);
            for (var c3 in r3)
              if (Object.prototype.hasOwnProperty.call(r3, c3)) {
                if (u3[c3] = r3[c3], void 0 === n3[c3])
                  continue;
                u3[c3] = n3[c3];
              }
            i3.body = u3, s3 = this._getUplinkData(i3);
          } else
            s3 = this._getUplinkData(o3);
          return s3;
        } }, { key: "_getUplinkData", value: function(e4) {
          var t3 = this._requestDataCleaner(e4), n3 = bt2(t3.head), o3 = Sr(t3.body, this._getRequestKeyMap(n3));
          return t3.body = o3, t3;
        } }, { key: "_updateService", value: function(e4, t3) {
          var n3 = bt2(t3.head);
          if (this._isFromGroupRequest(t3)) {
            var o3 = e4.type, s3 = e4.groupID, a3 = void 0 === s3 ? void 0 : s3, i3 = e4.groupIDList, r3 = void 0 === i3 ? [] : i3;
            it2(a3) && (a3 = r3[0] || ""), Dt2({ type: o3, groupID: a3 }) && (t3.head.servcmd = "".concat(V2.NAME.GROUP_COMMUNITY, ".").concat(n3));
          }
          return t3;
        } }, { key: "_isFromGroupRequest", value: function(e4) {
          return e4.head.servcmd.includes(V2.NAME.GROUP) || e4.head.servcmd.includes(V2.NAME.GROUP_ATTR);
        } }, { key: "_getRequestKeyMap", value: function(e4) {
          var n3 = this.getKeyMap(e4);
          return t2(t2({}, Dr.request), n3.request);
        } }, { key: "_requestDataCleaner", value: function(e4) {
          var t3 = Array.isArray(e4) ? [] : /* @__PURE__ */ Object.create(null);
          for (var o3 in e4)
            Object.prototype.hasOwnProperty.call(e4, o3) && dt2(o3) && null !== e4[o3] && void 0 !== e4[o3] && ("object" !== n2(e4[o3]) ? t3[o3] = e4[o3] : t3[o3] = this._requestDataCleaner.bind(this)(e4[o3]));
          return t3;
        } }, { key: "_simpleDeepCopy", value: function(e4) {
          for (var t3, n3 = Object.keys(e4), o3 = {}, s3 = 0, a3 = n3.length; s3 < a3; s3++)
            t3 = n3[s3], at2(e4[t3]) ? o3[t3] = Array.from(e4[t3]) : ot2(e4[t3]) ? o3[t3] = this._simpleDeepCopy(e4[t3]) : o3[t3] = e4[t3];
          return o3;
        } }]), e3;
      }(), Wr = [Ys2], Yr = function() {
        function e3(t3) {
          o2(this, e3), this._sessionModule = t3, this._n = "DownlinkHandler", this._eventHandlerMap = /* @__PURE__ */ new Map(), this._eventHandlerMap.set("C2CMessageArray", this._c2cMessageArrayHandler.bind(this)), this._eventHandlerMap.set("groupMessageArray", this._groupMessageArrayHandler.bind(this)), this._eventHandlerMap.set("groupTips", this._groupTipsHandler.bind(this)), this._eventHandlerMap.set("C2CNotifyMessageArray", this._C2CNotifyMessageArrayHandler.bind(this)), this._eventHandlerMap.set("C2CReadReceiptArray", this._C2CReadReceiptArrayHandler.bind(this)), this._eventHandlerMap.set("profileModify", this._profileHandler.bind(this)), this._eventHandlerMap.set("friendListMod", this._relationChainHandler.bind(this)), this._eventHandlerMap.set("recentContactMod", this._recentContactHandler.bind(this)), this._eventHandlerMap.set("readAllC2CMessage", this._allMessageReadHandler.bind(this)), this._eventHandlerMap.set("c2cMessageModified", this._c2cMessageModifiedHandler.bind(this)), this._eventHandlerMap.set("groupMessageModified", this._groupMessageModifiedHandler.bind(this)), this._eventHandlerMap.set("userStatusList", this._userStatusListHandler.bind(this)), this._eventHandlerMap.set("messageExtensionNotify", this._messageExtensionNotifyHandler.bind(this)), this._keys = m2(this._eventHandlerMap.keys());
        }
        return a2(e3, [{ key: "_c2cMessageArrayHandler", value: function(e4) {
          var t3 = this._sessionModule.getModule(Un);
          if (t3) {
            if (e4.dataList.forEach(function(e5) {
              if (1 === e5.isSyncMessage) {
                var t4 = e5.from;
                e5.from = e5.to, e5.to = t4;
              }
            }), 1 === e4.needSync)
              this._sessionModule.getModule(jn).startOnlineSync();
            t3.onNewC2CMessage({ dataList: e4.dataList, isInstantMessage: true });
          }
        } }, { key: "_c2cMessageModifiedHandler", value: function(e4) {
          var t3 = this._sessionModule.getModule(Un);
          t3 && t3.onC2CMessageModified(e4);
        } }, { key: "_groupMessageArrayHandler", value: function(e4) {
          var t3 = this._sessionModule.getModule(Pn);
          t3 && t3.onNewGroupMessage({ event: e4.event, dataList: e4.dataList, isInstantMessage: true });
        } }, { key: "_groupMessageModifiedHandler", value: function(e4) {
          var t3 = this._sessionModule.getModule(Pn);
          t3 && t3.onGroupMessageModified(e4);
        } }, { key: "_groupTipsHandler", value: function(e4) {
          var t3 = this._sessionModule.getModule(Pn);
          if (t3) {
            var n3 = e4.event, o3 = e4.dataList, s3 = e4.isInstantMessage, a3 = void 0 === s3 || s3, i3 = e4.isSyncingEnded;
            switch (n3) {
              case 4:
              case 6:
                t3.onNewGroupTips({ event: n3, dataList: o3 });
                break;
              case 5:
                for (var r3 = 0; r3 < o3.length; r3++)
                  if (at2(o3[r3].elements.revokedInfos))
                    t3.onGroupMessageRevoked({ dataList: o3 });
                  else if (at2(o3[r3].elements.groupMessageReadNotice))
                    t3.onGroupMessageReadNotice({ dataList: o3 });
                  else {
                    if (!at2(o3[r3].elements.readReceiptList)) {
                      t3.onNewGroupSystemNotice({ dataList: o3, isInstantMessage: a3, isSyncingEnded: i3 });
                      break;
                    }
                    t3.onReadReceiptList({ dataList: o3 });
                  }
                break;
              case 12:
                this._sessionModule.getModule(qn).onNewGroupAtTips({ dataList: o3 });
                break;
              default:
                Ve2.l("".concat(this._n, "._groupTipsHandler unknown event:").concat(n3, " dataList:"), o3);
            }
          }
        } }, { key: "_C2CNotifyMessageArrayHandler", value: function(e4) {
          var t3 = this, n3 = e4.dataList;
          if (at2(n3)) {
            var o3 = this._sessionModule.getModule(Un);
            n3.forEach(function(e5) {
              if (st2(e5)) {
                if (e5.hasOwnProperty("kickoutMsgNotify")) {
                  var s3 = e5.kickoutMsgNotify, a3 = s3.kickType, i3 = s3.newInstanceInfo, r3 = void 0 === i3 ? {} : i3;
                  1 === a3 ? t3._sessionModule.onMultipleAccountKickedOut(r3) : 2 === a3 ? t3._sessionModule.onMultipleDeviceKickedOut(r3) : 3 === a3 && t3._sessionModule.onRestApiKickedOut(r3);
                } else if (e5.hasOwnProperty("c2cMessageRevokedNotify"))
                  o3 && o3.onC2CMessageRevoked({ dataList: n3 });
                else if (e5.hasOwnProperty("c2cMessageReadReceipt"))
                  o3 && o3.onC2CMessageReadReceipt({ dataList: n3 });
                else if (e5.hasOwnProperty("c2cMessageReadNotice"))
                  o3 && o3.onC2CMessageReadNotice({ dataList: n3 });
                else if (e5.hasOwnProperty("muteNotificationsSync")) {
                  t3._sessionModule.getModule(qn).onC2CMessageRemindTypeSynced({ dataList: n3 });
                }
              }
            });
          }
        } }, { key: "_C2CReadReceiptArrayHandler", value: function(e4) {
          this._sessionModule.getModule(Un).onReadReceiptList(e4);
        } }, { key: "_profileHandler", value: function(e4) {
          this._sessionModule.getModule(Gn2).onProfileModified({ dataList: e4.dataList });
          var t3 = this._sessionModule.getModule(bn);
          t3 && t3.onFriendProfileModified({ dataList: e4.dataList });
        } }, { key: "_relationChainHandler", value: function(e4) {
          this._sessionModule.getModule(Gn2).onRelationChainModified({ dataList: e4.dataList });
          var t3 = this._sessionModule.getModule(bn);
          t3 && t3.onRelationChainModified({ dataList: e4.dataList });
        } }, { key: "_recentContactHandler", value: function(e4) {
          var t3 = e4.dataList;
          if (at2(t3)) {
            var n3 = this._sessionModule.getModule(qn);
            n3 && t3.forEach(function(e5) {
              var t4 = e5.pushType;
              if (1 === t4) {
                var o3 = e5.recentContactDeleteItem;
                n3.onConversationDeleted(o3.recentContactList);
              } else if (2 === t4) {
                var s3 = e5.recentContactTopItem;
                n3.onConversationPinned(s3.recentContactList);
              } else if (3 === t4) {
                var a3 = e5.recentContactTopItem;
                n3.onConversationUnpinned(a3.recentContactList);
              } else if (4 === t4) {
                var i3 = e5.recentContactMarkContact;
                n3.onConversationMarkUpdated(i3.recentContactMarkContactItem);
              } else if (5 === t4) {
                var r3 = e5.recentContactCreateContactGroup;
                n3.onConversationGroupCreated(r3.msgContactGroupContactItem);
              } else if (6 === t4) {
                var u3 = e5.recentContactDelContactGroup;
                n3.onConversationGroupDeleted(u3.msgGroupItem);
              } else if (7 === t4) {
                var c3 = e5.recentContactUpdateContactGroup, l3 = c3.updateType, d3 = c3.msgUpdateGroup, p3 = c3.msgUpdateContact;
                if (1 === l3) {
                  var g3 = d3.updateGroupType;
                  1 === g3 ? n3.onConversationGroupNameUpdated(d3) : 2 === g3 && n3.onConversationInGroupUpdated(d3);
                } else
                  2 === l3 && n3.onConversationAddedToOrDeletedFromGroup(p3);
              }
            });
          }
        } }, { key: "_allMessageReadHandler", value: function(e4) {
          var t3 = e4.dataList, n3 = this._sessionModule.getModule(qn);
          n3 && n3.onPushedAllMessageRead(t3);
        } }, { key: "_userStatusListHandler", value: function(e4) {
          this._sessionModule.getModule(Gn2).onUserStatusUpdated(e4);
        } }, { key: "_messageExtensionNotifyHandler", value: function(e4) {
          this._sessionModule.getModule(On).onMessageExtensionNotify(e4);
        } }, { key: "onMessage", value: function(e4) {
          var t3 = this, n3 = e4.body;
          if (this._filterMessageFromIMOpenPush(e4)) {
            var o3 = n3.eventArray, s3 = n3.isInstantMessage, a3 = n3.isSyncingEnded, i3 = n3.needSync;
            if (at2(o3))
              for (var r3 = null, u3 = null, c3 = 0, l3 = 0, d3 = o3.length; l3 < d3; l3++) {
                c3 = (r3 = o3[l3]).event;
                var p3 = Object.keys(r3).find(function(e5) {
                  return -1 !== t3._keys.indexOf(e5);
                });
                p3 ? (u3 = 14 === c3 ? { readAllC2CMessage: r3[p3], groupMessageReadInfoList: r3.groupMessageReadNotice || [] } : 16 === c3 ? { userID: r3.userID, readReceiptList: r3[p3] } : r3[p3], this._eventHandlerMap.get(p3)({ event: c3, dataList: u3, isInstantMessage: s3, isSyncingEnded: a3, needSync: i3 })) : Ve2.l("".concat(this._n, ".onMessage unknown eventItem:").concat(r3));
              }
          }
        } }, { key: "_filterMessageFromIMOpenPush", value: function(e4) {
          var t3 = e4.head, n3 = e4.body, o3 = t3.servcmd, s3 = false;
          if (it2(o3) || (s3 = o3.includes(V2.NAME.IM_CONFIG_MANAGER) || o3.includes(V2.NAME.OVERLOAD_PUSH) || o3.includes(V2.NAME.STAT_SERVICE)), !s3)
            return true;
          if (o3.includes(V2.CMD.PUSHED_CLOUD_CONTROL_CONFIG))
            this._sessionModule.getModule(Zn2).onPushedCloudControlConfig(n3);
          else if (o3.includes(V2.CMD.PUSHED_COMMERCIAL_CONFIG)) {
            this._sessionModule.getModule(to).onPushedConfig(n3);
          } else if (o3.includes(V2.CMD.OVERLOAD_NOTIFY))
            this._sessionModule.onPushedServerOverload(n3);
          else if (o3.includes(V2.CMD.KICK_OTHER)) {
            var a3 = Date.now();
            this._sessionModule.reLoginOnKickOther();
            var i3 = new Aa("kickOther"), r3 = this._sessionModule.getModule(Rn).getLastWsHelloTs(), u3 = a3 - r3;
            i3.setMessage("last wshello time:".concat(r3, " diff:").concat(u3, "ms")).setNetworkType(this._sessionModule.getNetworkType()).end();
          }
          return false;
        } }]), e3;
      }(), jr = [{ cmd: V2.CMD.GET_GROUP_INFO, interval: 1, count: 20 }, { cmd: V2.CMD.GET_AVCHATROOM_MEMBER_LIST, interval: 3, count: 1 }, { cmd: V2.CMD.GET_GROUP_APPLICATION, interval: 1, count: 15 }, { cmd: V2.CMD.GET_TOPIC_LIST, interval: 1, count: 10 }, { cmd: V2.CMD.SET_GROUP_ATTRIBUTES, interval: 5, count: 10 }, { cmd: V2.CMD.MODIFY_GROUP_ATTRIBUTES, interval: 5, count: 10 }, { cmd: V2.CMD.DELETE_GROUP_ATTRIBUTES, interval: 5, count: 10 }, { cmd: V2.CMD.CLEAR_GROUP_ATTRIBUTES, interval: 5, count: 10 }, { cmd: V2.CMD.GET_GROUP_ATTRIBUTES, interval: 5, count: 20 }, { cmd: V2.CMD.UPDATE_GROUP_COUNTER, interval: 5, count: 20 }, { cmd: V2.CMD.GET_GROUP_COUNTER, interval: 5, count: 20 }, { cmd: V2.CMD.SET_ALL_MESSAGE_READ, interval: 1, count: 1 }, { cmd: V2.CMD.GET_USER_STATUS, interval: 5, count: 20 }, { cmd: V2.CMD.SUBSCRIBE_USER_STATUS, interval: 5, count: 20 }, { cmd: V2.CMD.UNSUBSCRIBE_USER_STATUS, interval: 5, count: 20 }], zr = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          return o2(this, s3), (t3 = n3.call(this, e4))._n = "SessionModule", t3._platform = t3.getPlatform(), t3._protocolHandler = new Kr(h2(t3)), t3._messageDispatcher = new Yr(h2(t3)), t3._commandFrequencyLimitMap = /* @__PURE__ */ new Map(), t3._commandRequestInfoMap = /* @__PURE__ */ new Map(), t3._serverOverloadInfoMap = /* @__PURE__ */ new Map(), t3._init(), t3.getInnerEmitterInstance().on(ti, t3._onCloudConfigUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_init", value: function() {
          this._updateCommandFrequencyLimitMap(jr);
        } }, { key: "_onCloudConfigUpdated", value: function() {
          var e4 = this.getCloudConfig("cmd_frequency_limit");
          it2(e4) || (e4 = JSON.parse(e4), this._updateCommandFrequencyLimitMap(e4));
        } }, { key: "_updateCommandFrequencyLimitMap", value: function(e4) {
          var t3 = this;
          e4.forEach(function(e5) {
            t3._commandFrequencyLimitMap.set(e5.cmd, { interval: e5.interval, count: e5.count });
          });
        } }, { key: "updateProtocolConfig", value: function() {
          this._protocolHandler.update();
        } }, { key: "request", value: function(e4) {
          Ve2.d("".concat(this._n, ".request options:"), e4);
          var t3 = e4.protocolName, n4 = e4.tjgID;
          if (!this._protocolHandler.has(t3))
            return Ve2.w("".concat(this._n, ".request unknown protocol:").concat(t3)), Za({ code: ha.CANNOT_FIND_PROTOCOL });
          var o3 = this.getProtocolData(e4), s4 = o3.head.servcmd;
          if (this._isFrequencyOverLimit(s4))
            return Za({ code: ha.OVER_FREQUENCY_LIMIT });
          if (this._isServerOverload(s4))
            return Za({ code: ha.OPEN_SERVICE_OVERLOAD_ERROR });
          zt2(n4) || (o3.head.tjgID = n4);
          var a3 = this.getModule(Jn2);
          return Wr.includes(t3) ? a3.simplySend(o3) : a3.send(o3);
        } }, { key: "getKeyMap", value: function(e4) {
          return this._protocolHandler.getKeyMap(e4);
        } }, { key: "genCommonHead", value: function() {
          var e4 = this.getModule(xn);
          return { ver: "v4", platform: this._platform, websdkappid: O2, websdkversion: N2, a2: e4.getA2Key() || void 0, tinyid: e4.getTinyID() || void 0, status_instid: e4.getStatusInstanceID(), sdkappid: e4.getSDKAppID(), contenttype: e4.getContentType(), reqtime: 0, identifier: e4.getA2Key() ? void 0 : e4.getUserID(), usersig: e4.getA2Key() ? void 0 : e4.getUserSig(), sdkability: 192371, tjgID: "" };
        } }, { key: "genCosSpecifiedHead", value: function() {
          var e4 = this.getModule(xn);
          return { ver: "v4", platform: this._platform, websdkappid: O2, websdkversion: N2, sdkappid: e4.getSDKAppID(), contenttype: e4.getContentType(), reqtime: 0, identifier: e4.getUserID(), usersig: e4.getUserSig(), status_instid: e4.getStatusInstanceID(), sdkability: 192371 };
        } }, { key: "genSSOReportHead", value: function() {
          var e4 = this.getModule(xn);
          return { ver: "v4", platform: this._platform, websdkappid: O2, websdkversion: N2, sdkappid: e4.getSDKAppID(), contenttype: "", reqtime: 0, identifier: "", usersig: "", status_instid: e4.getStatusInstanceID(), sdkability: 192371 };
        } }, { key: "getProtocolData", value: function(e4) {
          return this._protocolHandler.getProtocolData(e4);
        } }, { key: "trans", value: function(e4) {
          var n4 = e4.servcmd, o3 = e4.data, s4 = { head: t2(t2({}, this.genCommonHead()), {}, { servcmd: n4 }), body: o3 };
          return this.getModule(Jn2).send(s4);
        } }, { key: "sendComboMessage", value: function(e4) {
          var n4 = e4.servcmd, o3 = e4.data, s4 = { head: t2(t2({}, this.genCommonHead()), {}, { servcmd: n4 }), body: o3 };
          return this.getModule(Jn2).send(s4);
        } }, { key: "onErrorCodeNotZero", value: function(e4) {
          var t3 = e4.errorCode;
          if (t3 === ha.HELLO_ANSWER_KICKED_OUT) {
            var n4 = e4.kickType, o3 = e4.newInstanceInfo, s4 = void 0 === o3 ? {} : o3;
            1 === n4 ? this.onMultipleAccountKickedOut(s4) : 2 === n4 ? this.onMultipleDeviceKickedOut(s4) : 3 === n4 && this.onRestApiKickedOut(s4);
          }
          t3 !== ha.MESSAGE_A2KEY_EXPIRED && t3 !== ha.ACCOUNT_A2KEY_EXPIRED || (this._onUserSigExpired(), this.getModule(Jn2).reConnect());
        } }, { key: "onMessage", value: function(e4) {
          var t3 = e4.body, n4 = t3.needAck, o3 = void 0 === n4 ? 0 : n4, s4 = t3.sessionData;
          1 === o3 && this._sendACK(s4), this._messageDispatcher.onMessage(e4);
        } }, { key: "onReconnected", value: function() {
          this._reLoginOnReconnected();
        } }, { key: "reLoginOnKickOther", value: function() {
          Ve2.l("".concat(this._n, ".reLoginOnKickOther")), this._reLogin();
        } }, { key: "_reLoginOnReconnected", value: function() {
          Ve2.l("".concat(this._n, "._reLoginOnReconnected")), this._reLogin();
        } }, { key: "_reLogin", value: function() {
          var e4 = this;
          if (this.isLoggedIn()) {
            var t3 = 0, n4 = this.getModule(no);
            n4.canIUseOfflinePush() && (t3 = n4.getUniAppPlatform()), this.request({ protocolName: co, requestData: { isWebUniapp: t3 } }).then(function(t4) {
              var n5 = t4.data.instanceID;
              e4.getModule(xn).setStatusInstanceID(n5), Ve2.l("".concat(e4._n, "._reLogin ok.")), e4.getModule(qn).syncConversationList().then(function() {
                Ve2.l("".concat(e4._n, "._reLogin, sync conversation list ok.")), e4.getModule($n).start();
              }), e4.getModule(Pn).updateLocalMainSequenceOnReconnected();
              var o3 = e4.getModule(Fn);
              o3.resetGetTopicTime(), o3.getTopicListOnReconnected();
            });
          }
        } }, { key: "onMultipleAccountKickedOut", value: function(e4) {
          this.getModule(Rn).onMultipleAccountKickedOut(e4);
        } }, { key: "onMultipleDeviceKickedOut", value: function(e4) {
          this.getModule(Rn).onMultipleDeviceKickedOut(e4);
        } }, { key: "_onUserSigExpired", value: function() {
          this.getModule(Rn).onUserSigExpired();
        } }, { key: "onRestApiKickedOut", value: function(e4) {
          this.getModule(Rn).onRestApiKickedOut(e4);
        } }, { key: "_sendACK", value: function(e4) {
          this.request({ protocolName: Ys2, requestData: { sessionData: e4 } });
        } }, { key: "_isFrequencyOverLimit", value: function(e4) {
          var t3 = e4.split(".")[1];
          if (!this._commandFrequencyLimitMap.has(t3))
            return false;
          if (!this._commandRequestInfoMap.has(t3))
            return this._commandRequestInfoMap.set(t3, { startTime: Date.now(), requestCount: 1 }), false;
          var n4 = this._commandFrequencyLimitMap.get(t3), o3 = n4.count, s4 = n4.interval, a3 = this._commandRequestInfoMap.get(t3), i3 = a3.startTime, r3 = a3.requestCount;
          if (Date.now() - i3 > 1e3 * s4)
            return this._commandRequestInfoMap.set(t3, { startTime: Date.now(), requestCount: 1 }), false;
          r3 += 1, this._commandRequestInfoMap.set(t3, { startTime: i3, requestCount: r3 });
          var u3 = false;
          return r3 > o3 && (u3 = true), u3;
        } }, { key: "_isServerOverload", value: function(e4) {
          if (!this._serverOverloadInfoMap.has(e4))
            return false;
          var t3 = this._serverOverloadInfoMap.get(e4), n4 = t3.overloadTime, o3 = t3.waitingTime, s4 = false;
          return Date.now() - n4 <= 1e3 * o3 ? s4 = true : (this._serverOverloadInfoMap.delete(e4), s4 = false), s4;
        } }, { key: "onPushedServerOverload", value: function(e4) {
          var t3 = e4.overloadCommand, n4 = e4.waitingTime;
          this._serverOverloadInfoMap.set(t3, { overloadTime: Date.now(), waitingTime: n4 }), Ve2.w("".concat(this._n, ".onPushedServerOverload waitingTime:").concat(n4, "s"));
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._updateCommandFrequencyLimitMap(jr), this._commandRequestInfoMap.clear(), this._serverOverloadInfoMap.clear();
        } }]), s3;
      }(uo), Jr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "MessageLossDetectionModule", s3._maybeLostSequencesMap = /* @__PURE__ */ new Map(), s3._firstRoundRet = [], s3;
        }
        return a2(n3, [{ key: "onMessageMaybeLost", value: function(e4, t4, n4) {
          this._maybeLostSequencesMap.has(e4) || this._maybeLostSequencesMap.set(e4, []);
          for (var o3 = this._maybeLostSequencesMap.get(e4), s3 = 0; s3 < n4; s3++)
            -1 === o3.indexOf(t4 + s3) && o3.push(t4 + s3);
        } }, { key: "detectFirstRound", value: function(e4, t4) {
          var n4 = this._maybeLostSequencesMap.get(e4);
          if (!zt2(n4) && !zt2(t4)) {
            var o3 = n4.filter(function(e5) {
              return -1 === t4.indexOf(e5);
            });
            0 === o3.length ? Ve2.i("".concat(this._n, ".detectFirstRound no message loss. conversationID:").concat(e4)) : this._firstRoundRet = this._firstRoundRet.concat(o3), n4.length = 0;
          }
        } }, { key: "detectSecondRound", value: function(e4, t4) {
          if (!zt2(this._firstRoundRet) && !zt2(t4)) {
            var n4 = this._firstRoundRet.filter(function(e5) {
              return -1 === t4.indexOf(e5);
            });
            this._firstRoundRet.length = 0;
            var o3, s3 = n4.length;
            if (0 !== s3)
              s3 <= 5 ? o3 = e4 + "-" + n4.join("-") : (n4.sort(function(e5, t5) {
                return e5 - t5;
              }), o3 = e4 + " start:" + n4[0] + " end:" + n4[s3 - 1] + " count:" + s3), new Aa("messageLoss").setMessage(o3).setNetworkType(this.getNetworkType()).setLevel("warning").end(), Ve2.i("".concat(this._n, ".detectSecondRound message loss detected. conversationID:").concat(e4, " lostSequences:").concat(n4));
          }
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._maybeLostSequencesMap.clear(), this._firstRoundRet.length = 0;
        } }]), n3;
      }(uo), Xr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "CloudControlModule", s3._cloudConfig = /* @__PURE__ */ new Map(), s3._expiredTime = 0, s3._version = 0, s3._isFetching = false, s3;
        }
        return a2(n3, [{ key: "getCloudConfig", value: function(e4) {
          return it2(e4) ? this._cloudConfig : this._cloudConfig.has(e4) ? this._cloudConfig.get(e4) : void 0;
        } }, { key: "_canFetchConfig", value: function() {
          return this.isLoggedIn() && !this._isFetching && Date.now() >= this._expiredTime;
        } }, { key: "fetchConfig", value: function() {
          var e4 = this, t4 = this._canFetchConfig();
          if (Ve2.l("".concat(this._n, ".fetchConfig canFetchConfig:").concat(t4)), t4) {
            var n4 = new Aa("fetchCloudControlConfig"), o3 = this.getModule(xn).getSDKAppID();
            this._isFetching = true, this.request({ protocolName: Xs2, requestData: { SDKAppID: o3, version: this._version } }).then(function(t5) {
              e4._isFetching = false, n4.setMessage("version:".concat(e4._version, " newVersion:").concat(t5.data.version, " config:").concat(t5.data.cloudControlConfig)).setNetworkType(e4.getNetworkType()).end(), Ve2.l("".concat(e4._n, ".fetchConfig ok")), e4._parseCloudControlConfig(t5.data);
            }).catch(function(t5) {
              e4._isFetching = false, e4.probeNetwork().then(function(e5) {
                var o4 = v2(e5, 2), s3 = o4[0], a3 = o4[1];
                n4.setError(t5, s3, a3).end();
              }), Ve2.l("".concat(e4._n, ".fetchConfig failed. error:"), t5), e4._setExpiredTimeOnResponseError(12e4);
            });
          }
        } }, { key: "onPushedCloudControlConfig", value: function(e4) {
          Ve2.l("".concat(this._n, ".onPushedCloudControlConfig")), new Aa("pushedCloudControlConfig").setNetworkType(this.getNetworkType()).setMessage("newVersion:".concat(e4.version, " config:").concat(e4.cloudControlConfig)).end(), this._parseCloudControlConfig(e4);
        } }, { key: "onCheckTimer", value: function(e4) {
          this._canFetchConfig() && this.fetchConfig();
        } }, { key: "_parseCloudControlConfig", value: function(e4) {
          var t4 = this, n4 = "".concat(this._n, "._parseCloudControlConfig"), o3 = e4.errorCode, s3 = e4.errorMessage, a3 = e4.cloudControlConfig, i3 = e4.version, r3 = e4.expiredTime;
          if (0 === o3) {
            if (this._version !== i3) {
              var u3 = null;
              try {
                u3 = JSON.parse(a3);
              } catch (c3) {
                this.isPrivateNetWork() || Ve2.e("".concat(n4, " JSON parse error. cloudControlConfig:"), a3);
              }
              u3 && (this._cloudConfig.clear(), Object.keys(u3).forEach(function(e5) {
                t4._cloudConfig.set(e5, u3[e5]);
              }), this._version = i3, this.emitInnerEvent(ti));
            }
            this._expiredTime = Date.now() + 1e3 * r3;
          } else
            it2(o3) ? (Ve2.l("".concat(n4, " failed. Invalid message format:"), e4), this._setExpiredTimeOnResponseError(36e5)) : (Ve2.e("".concat(n4, " errorCode:").concat(o3, " errorMessage:").concat(s3)), this._setExpiredTimeOnResponseError(12e4));
        } }, { key: "_setExpiredTimeOnResponseError", value: function(e4) {
          this._expiredTime = Date.now() + e4;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._cloudConfig.clear(), this._expiredTime = 0, this._version = 0, this._isFetching = false;
        } }]), n3;
      }(uo), Zr = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "RecoverMessageModule", s3.PULL_LIMIT_COUNT = 15, s3;
        }
        return a2(n3, [{ key: "start", value: function() {
          this._recoverGroupChat(), this._recoverC2CChat();
        } }, { key: "_recoverGroupChat", value: function() {
          var e4, t4, n4 = this, o3 = this._getLocalConversationList().filter(function(e5) {
            return e5.type === E2.CONV_GROUP && e5.groupProfile.type !== E2.GRP_AVCHATROOM;
          }), s3 = this.getModule(qn), a3 = 0, i3 = 0, r3 = 0;
          o3.forEach(function(o4) {
            var u3 = o4.conversationID, c3 = o4.lastMessage;
            t4 = u3.replace(E2.CONV_GROUP, ""), e4 = s3.getLocalLastMessage(u3), c3 && 0 !== c3.lastSequence && e4 ? (i3 = c3.lastSequence, a3 = e4.sequence, r3 = i3 - a3, a3 > 0 && r3 >= 1 && r3 < 300 ? n4._recoverGroupMessage({ groupID: t4, localLastMessageSequence: a3, remoteLastMessageSequence: i3 }) : n4._getGroupNotify(t4)) : n4._getGroupNotify(t4);
          });
        } }, { key: "_recoverC2CChat", value: function() {
          var e4, t4 = this, n4 = this._getLocalConversationList().filter(function(e5) {
            return e5.type === E2.CONV_C2C;
          }), o3 = this.getModule(qn), s3 = 0, a3 = 0, i3 = 0, r3 = [Promise.resolve()];
          n4.forEach(function(n5) {
            var u3 = n5.conversationID, c3 = n5.lastMessage;
            e4 = o3.getLocalLastMessage(u3), c3 && 0 !== c3.lastTime && e4 && (a3 = c3.lastTime, s3 = e4.time, i3 = a3 - s3, s3 > 0 && i3 >= 1 && i3 <= 600 && r3.push(t4._recoverC2CMessage({ conversationID: u3, localLastMessageTime: s3, remoteLastMessageTime: a3 })));
          }), Promise.all(r3).then(function() {
            Ve2.l("".concat(t4._n, "._recoverC2CChat all promise fulfilled, start to sync unread messages")), t4.getModule(jn).startSyncOnReconnected();
          });
        } }, { key: "_getLocalConversationList", value: function() {
          return this.getModule(qn).getLocalConversationList();
        } }, { key: "_recoverGroupMessage", value: function(e4) {
          var t4 = this, n4 = "".concat(this._n, "._recoverGroupMessage");
          Ve2.l("".concat(n4, " options:"), e4);
          var o3 = e4.groupID, s3 = e4.localLastMessageSequence, a3 = e4.remoteLastMessageSequence;
          this._getGroupRomaingMessage({ groupID: o3, sequence: s3 }).then(function(e5) {
            var s4 = e5.data, i3 = s4.complete, r3 = s4.messageList;
            if (!it2(r3)) {
              var u3 = r3[0].sequence;
              Ve2.l("".concat(n4, " pkgLastMessageSequence:").concat(u3, " complete:").concat(i3)), u3 < a3 && 2 !== i3 && t4._recoverGroupMessage({ groupID: o3, localLastMessageSequence: u3, remoteLastMessageSequence: a3 }), new Aa("recoverMessage").setNetworkType(t4.getNetworkType()).setMessage("groupID:".concat(o3, " complete:").concat(i3, " messageList length:").concat(r3.length)).end();
              var c3 = t4.getModule(Pn);
              r3.length > 1 && r3.sort(function(e6, t5) {
                return e6.sequence - t5.sequence;
              });
              for (var l3 = 0; l3 < r3.length; l3++) {
                var d3 = r3[l3];
                d3.from !== E2.CONV_SYSTEM ? c3.onNewGroupMessage({ dataList: [d3], isInstantMessage: false, updateUnreadCount: false }) : c3.onNewGroupTips({ event: d3.event, dataList: [d3] });
              }
              t4._getGroupNotify(o3);
            }
          });
        } }, { key: "_getGroupNotify", value: function(e4) {
          this.getModule(Pn).getGroupNotify(e4);
        } }, { key: "_getGroupRomaingMessage", value: function(e4) {
          var t4 = e4.groupID, n4 = e4.sequence;
          return this.request({ protocolName: cs2, requestData: { groupID: t4, count: this.PULL_LIMIT_COUNT, sequence: n4 + this.PULL_LIMIT_COUNT - 1 } });
        } }, { key: "_recoverC2CMessage", value: function(e4) {
          var t4 = this, n4 = "".concat(this._n, "._recoverC2CMessage");
          Ve2.l("".concat(this._n, "._recoverC2CMessage options:"), e4);
          var o3 = e4.conversationID, s3 = e4.localLastMessageTime, a3 = e4.remoteLastMessageTime;
          return this._getC2CRoamingMessage({ conversationID: o3, time: s3 }).then(function(e5) {
            var s4 = e5.data, i3 = s4.complete, r3 = s4.messageList;
            if (!it2(r3)) {
              var u3 = r3.length;
              new Aa("recoverMessage").setNetworkType(t4.getNetworkType()).setMessage("".concat(o3, " complete:").concat(i3, " messageList length:").concat(u3)).end(), t4.getModule(Un).onNewC2CMessage({ dataList: r3, isInstantMessage: true });
              var c3 = r3[u3 - 1].time;
              if (Ve2.l("".concat(n4, " pkgLastMessageTime:").concat(c3, " complete:").concat(i3)), c3 < a3 && 1 !== i3)
                return t4._recoverC2CMessage({ conversationID: o3, localLastMessageTime: c3, remoteLastMessageTime: a3 });
            }
          });
        } }, { key: "_getC2CRoamingMessage", value: function(e4) {
          var t4 = e4.conversationID, n4 = e4.time;
          return this.request({ protocolName: So, requestData: { peerAccount: t4.replace(E2.CONV_C2C, ""), count: this.PULL_LIMIT_COUNT + 1, lastMessageTime: n4, direction: 1 } });
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset"));
        } }]), n3;
      }(uo), Qr = function() {
        function e3() {
          o2(this, e3), this._n = "AvgE2EDelay", this._e2eDelayArray = [];
        }
        return a2(e3, [{ key: "addMessageDelay", value: function(e4) {
          var t3 = we2() - e4;
          t3 >= 0 && this._e2eDelayArray.push(t3);
        } }, { key: "_calcAvg", value: function(e4, t3) {
          if (0 === t3)
            return 0;
          var n3 = 0;
          return e4.forEach(function(e5) {
            n3 += e5;
          }), wt2(n3 / t3, 1);
        } }, { key: "_calcCountWithLimit", value: function(e4) {
          var t3 = e4.e2eDelayArray, n3 = e4.min, o3 = e4.max;
          return t3.filter(function(e5) {
            return n3 <= e5 && e5 < o3;
          }).length;
        } }, { key: "_calcPercent", value: function(e4, t3) {
          var n3 = wt2(e4 / t3 * 100, 2);
          return n3 > 100 && (n3 = 100), n3;
        } }, { key: "_checkE2EDelayException", value: function(e4, t3) {
          var n3 = e4.filter(function(e5) {
            return e5 > t3;
          });
          if (n3.length > 0) {
            var o3 = n3.length, s3 = Math.min.apply(Math, m2(n3)), a3 = Math.max.apply(Math, m2(n3)), i3 = this._calcAvg(n3, o3), r3 = wt2(o3 / e4.length * 100, 2);
            if (r3 > 50)
              new Aa("messageE2EDelayException").setMessage("count:".concat(o3, " min:").concat(s3, " max:").concat(a3, " avg:").concat(i3, " percent:").concat(r3)).setLevel("warning").end();
          }
        } }, { key: "getStatResult", value: function() {
          var e4 = this._e2eDelayArray.length;
          if (0 === e4)
            return null;
          var t3 = m2(this._e2eDelayArray), n3 = this._calcCountWithLimit({ e2eDelayArray: t3, min: 0, max: 1 }), o3 = this._calcCountWithLimit({ e2eDelayArray: t3, min: 1, max: 3 }), s3 = this._calcPercent(n3, e4), a3 = this._calcPercent(o3, e4), i3 = this._calcAvg(t3, e4);
          return this._checkE2EDelayException(t3, 3), t3.length = 0, this.reset(), { totalCount: e4, countLessThan1Second: n3, percentOfCountLessThan1Second: s3, countLessThan3Second: o3, percentOfCountLessThan3Second: a3, avgDelay: i3 };
        } }, { key: "reset", value: function() {
          this._e2eDelayArray.length = 0;
        } }]), e3;
      }(), $r = function() {
        function e3() {
          o2(this, e3), this._n = "AvgRTT", this._requestCount = 0, this._rttArray = [];
        }
        return a2(e3, [{ key: "addRequestCount", value: function() {
          this._requestCount += 1;
        } }, { key: "addRTT", value: function(e4) {
          this._rttArray.push(e4);
        } }, { key: "_calcTotalCount", value: function() {
          return this._requestCount;
        } }, { key: "_calcRTTCount", value: function(e4) {
          return e4.length;
        } }, { key: "_calcSuccessRateOfRequest", value: function(e4, t3) {
          if (0 === t3)
            return 0;
          var n3 = wt2(e4 / t3 * 100, 2);
          return n3 > 100 && (n3 = 100), n3;
        } }, { key: "_calcAvg", value: function(e4, t3) {
          if (0 === t3)
            return 0;
          var n3 = 0;
          return e4.forEach(function(e5) {
            n3 += e5;
          }), parseInt(n3 / t3);
        } }, { key: "_calcMax", value: function() {
          return Math.max.apply(Math, m2(this._rttArray));
        } }, { key: "_calcMin", value: function() {
          return Math.min.apply(Math, m2(this._rttArray));
        } }, { key: "getStatResult", value: function() {
          var e4 = this._calcTotalCount(), t3 = m2(this._rttArray);
          if (0 === e4)
            return null;
          var n3 = this._calcRTTCount(t3), o3 = this._calcSuccessRateOfRequest(n3, e4), s3 = this._calcAvg(t3, n3);
          return Ve2.l("".concat(this._n, ".getStatResult max:").concat(this._calcMax(), " min:").concat(this._calcMin(), " avg:").concat(s3)), this.reset(), { totalCount: e4, rttCount: n3, successRateOfRequest: o3, avgRTT: s3 };
        } }, { key: "reset", value: function() {
          this._requestCount = 0, this._rttArray.length = 0;
        } }]), e3;
      }(), eu = function() {
        function e3() {
          o2(this, e3), this._map = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "initMap", value: function(e4) {
          var t3 = this;
          e4.forEach(function(e5) {
            t3._map.set(e5, { totalCount: 0, successCount: 0, failedCountOfUserSide: 0, costArray: [], fileSizeArray: [] });
          });
        } }, { key: "addTotalCount", value: function(e4) {
          return !(it2(e4) || !this._map.has(e4)) && (this._map.get(e4).totalCount += 1, true);
        } }, { key: "addSuccessCount", value: function(e4) {
          return !(it2(e4) || !this._map.has(e4)) && (this._map.get(e4).successCount += 1, true);
        } }, { key: "addFailedCountOfUserSide", value: function(e4) {
          return !(it2(e4) || !this._map.has(e4)) && (this._map.get(e4).failedCountOfUserSide += 1, true);
        } }, { key: "addCost", value: function(e4, t3) {
          return !(it2(e4) || !this._map.has(e4)) && (this._map.get(e4).costArray.push(t3), true);
        } }, { key: "addFileSize", value: function(e4, t3) {
          return !(it2(e4) || !this._map.has(e4)) && (this._map.get(e4).fileSizeArray.push(t3), true);
        } }, { key: "_calcSuccessRateOfBusiness", value: function(e4) {
          if (it2(e4) || !this._map.has(e4))
            return -1;
          var t3 = this._map.get(e4), n3 = wt2(t3.successCount / t3.totalCount * 100, 2);
          return n3 > 100 && (n3 = 100), n3;
        } }, { key: "_calcSuccessRateOfPlatform", value: function(e4) {
          if (it2(e4) || !this._map.has(e4))
            return -1;
          var t3 = this._map.get(e4), n3 = this._calcSuccessCountOfPlatform(e4) / t3.totalCount * 100;
          return (n3 = wt2(n3, 2)) > 100 && (n3 = 100), n3;
        } }, { key: "_calcTotalCount", value: function(e4) {
          return it2(e4) || !this._map.has(e4) ? -1 : this._map.get(e4).totalCount;
        } }, { key: "_calcSuccessCountOfBusiness", value: function(e4) {
          return it2(e4) || !this._map.has(e4) ? -1 : this._map.get(e4).successCount;
        } }, { key: "_calcSuccessCountOfPlatform", value: function(e4) {
          if (it2(e4) || !this._map.has(e4))
            return -1;
          var t3 = this._map.get(e4);
          return t3.successCount + t3.failedCountOfUserSide;
        } }, { key: "_calcAvg", value: function(e4) {
          return it2(e4) || !this._map.has(e4) ? -1 : e4 === Ia ? this._calcAvgSpeed(e4) : this._calcAvgCost(e4);
        } }, { key: "_calcAvgCost", value: function(e4) {
          var t3 = this._map.get(e4).costArray.length;
          if (0 === t3)
            return 0;
          var n3 = 0;
          return this._map.get(e4).costArray.forEach(function(e5) {
            n3 += e5;
          }), parseInt(n3 / t3);
        } }, { key: "_calcAvgSpeed", value: function(e4) {
          var t3 = 0, n3 = 0;
          return this._map.get(e4).costArray.forEach(function(e5) {
            t3 += e5;
          }), this._map.get(e4).fileSizeArray.forEach(function(e5) {
            n3 += e5;
          }), parseInt(1e3 * n3 / t3);
        } }, { key: "getStatResult", value: function(e4) {
          var t3 = this._calcTotalCount(e4);
          if (0 === t3)
            return null;
          var n3 = this._calcSuccessCountOfBusiness(e4), o3 = this._calcSuccessRateOfBusiness(e4), s3 = this._calcSuccessCountOfPlatform(e4), a3 = this._calcSuccessRateOfPlatform(e4), i3 = this._calcAvg(e4);
          return this.reset(e4), { totalCount: t3, successCountOfBusiness: n3, successRateOfBusiness: o3, successCountOfPlatform: s3, successRateOfPlatform: a3, avgValue: i3 };
        } }, { key: "reset", value: function(e4) {
          it2(e4) ? this._map.clear() : this._map.set(e4, { totalCount: 0, successCount: 0, failedCountOfUserSide: 0, costArray: [], fileSizeArray: [] });
        } }]), e3;
      }(), tu = function() {
        function e3() {
          o2(this, e3), this._lastMap = /* @__PURE__ */ new Map(), this._currentMap = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "initMap", value: function(e4) {
          var t3 = this;
          e4.forEach(function(e5) {
            t3._lastMap.set(e5, /* @__PURE__ */ new Map()), t3._currentMap.set(e5, /* @__PURE__ */ new Map());
          });
        } }, { key: "addMessageSequence", value: function(e4) {
          var t3 = e4.key, n3 = e4.message;
          if (it2(t3) || !this._lastMap.has(t3) || !this._currentMap.has(t3))
            return false;
          var o3 = n3.conversationID, s3 = n3.sequence, a3 = o3.replace(E2.CONV_GROUP, "");
          if (0 === this._lastMap.get(t3).size)
            this._addCurrentMap(e4);
          else if (this._lastMap.get(t3).has(a3)) {
            var i3 = this._lastMap.get(t3).get(a3), r3 = i3.length - 1;
            s3 > i3[0] && s3 < i3[r3] ? (i3.push(s3), i3.sort(), this._lastMap.get(t3).set(a3, i3)) : this._addCurrentMap(e4);
          } else
            this._addCurrentMap(e4);
          return true;
        } }, { key: "_addCurrentMap", value: function(e4) {
          var t3 = e4.key, n3 = e4.message, o3 = n3.conversationID, s3 = n3.sequence, a3 = o3.replace(E2.CONV_GROUP, "");
          this._currentMap.get(t3).has(a3) || this._currentMap.get(t3).set(a3, []), this._currentMap.get(t3).get(a3).push(s3);
        } }, { key: "_copyData", value: function(e4) {
          if (!it2(e4)) {
            this._lastMap.set(e4, /* @__PURE__ */ new Map());
            var t3, n3 = this._lastMap.get(e4), o3 = D2(this._currentMap.get(e4));
            try {
              for (o3.s(); !(t3 = o3.n()).done; ) {
                var s3 = v2(t3.value, 2), a3 = s3[0], i3 = s3[1];
                n3.set(a3, i3);
              }
            } catch (r3) {
              o3.e(r3);
            } finally {
              o3.f();
            }
            n3 = null, this._currentMap.set(e4, /* @__PURE__ */ new Map());
          }
        } }, { key: "getStatResult", value: function(e4) {
          if (it2(this._currentMap.get(e4)) || it2(this._lastMap.get(e4)))
            return null;
          if (0 === this._lastMap.get(e4).size)
            return this._copyData(e4), null;
          var t3 = 0, n3 = 0;
          if (this._lastMap.get(e4).forEach(function(e5, o4) {
            var s3 = m2(e5.values()), a3 = s3.length, i3 = s3[a3 - 1] - s3[0] + 1;
            t3 += i3, n3 += a3;
          }), 0 === t3)
            return null;
          var o3 = wt2(n3 / t3 * 100, 2);
          return o3 > 100 && (o3 = 100), this._copyData(e4), { totalCount: t3, successCountOfMessageReceived: n3, successRateOfMessageReceived: o3 };
        } }, { key: "reset", value: function() {
          this._currentMap.clear(), this._lastMap.clear();
        } }]), e3;
      }(), nu = function(e3) {
        r2(s3, e3);
        var n3 = f2(s3);
        function s3(e4) {
          var t3;
          o2(this, s3), (t3 = n3.call(this, e4))._n = "QualityStatModule", t3.TAG = "im-ssolog-quality-stat", t3.reportIndex = 0, t3.wholePeriod = false, t3._qualityItems = [_a2, fa, va, ma, Ma, ya, Ia, Ca, Ta, Da], t3._messageSentItems = [va, ma, Ma, ya, Ia], t3._messageReceivedItems = [Ca, Ta, Da], t3.REPORT_INTERVAL = 120, t3.REPORT_SDKAPPID_BLACKLIST = [], t3.REPORT_TINYID_WHITELIST = [], t3._statInfoArr = [], t3._avgRTT = new $r(), t3._avgE2EDelay = new Qr(), t3._rateMessageSent = new eu(), t3._rateMessageReceived = new tu();
          var a3 = t3.getInnerEmitterInstance();
          return a3.on(ei, t3._onLoginSuccess, h2(t3)), a3.on(ti, t3._onCloudConfigUpdated, h2(t3)), t3;
        }
        return a2(s3, [{ key: "_onLoginSuccess", value: function() {
          var e4 = this;
          this._rateMessageSent.initMap(this._messageSentItems), this._rateMessageReceived.initMap(this._messageReceivedItems);
          var t3 = this.getModule(Vn2), n4 = t3.getItem(this.TAG, false);
          !zt2(n4) && ut2(n4.forEach) && (Ve2.l("".concat(this._n, "._onLoginSuccess get quality stat logs from local storage, count:").concat(n4.length)), n4.forEach(function(t4) {
            e4._statInfoArr.push(t4);
          }), t3.removeItem(this.TAG, false));
        } }, { key: "_onCloudConfigUpdated", value: function() {
          var e4 = this.getCloudConfig("q_rpt_interval"), t3 = this.getCloudConfig("q_rpt_sdkappid_bl"), n4 = this.getCloudConfig("q_rpt_tinyid_wl");
          it2(e4) || (this.REPORT_INTERVAL = Number(e4)), it2(t3) || (this.REPORT_SDKAPPID_BLACKLIST = t3.split(",").map(function(e5) {
            return Number(e5);
          })), it2(n4) || (this.REPORT_TINYID_WHITELIST = n4.split(","));
        } }, { key: "onCheckTimer", value: function(e4) {
          this.isLoggedIn() && e4 % this.REPORT_INTERVAL == 0 && (this.wholePeriod = true, this._report());
        } }, { key: "addRequestCount", value: function() {
          this._avgRTT.addRequestCount();
        } }, { key: "addRTT", value: function(e4) {
          this._avgRTT.addRTT(e4);
        } }, { key: "addMessageDelay", value: function(e4) {
          this._avgE2EDelay.addMessageDelay(e4);
        } }, { key: "addTotalCount", value: function(e4) {
          this._rateMessageSent.addTotalCount(e4) || Ve2.w("".concat(this._n, ".addTotalCount invalid key:"), e4);
        } }, { key: "addSuccessCount", value: function(e4) {
          this._rateMessageSent.addSuccessCount(e4) || Ve2.w("".concat(this._n, ".addSuccessCount invalid key:"), e4);
        } }, { key: "addFailedCountOfUserSide", value: function(e4) {
          this._rateMessageSent.addFailedCountOfUserSide(e4) || Ve2.w("".concat(this._n, ".addFailedCountOfUserSide invalid key:"), e4);
        } }, { key: "addCost", value: function(e4, t3) {
          this._rateMessageSent.addCost(e4, t3) || Ve2.w("".concat(this._n, ".addCost invalid key or cost:"), e4, t3);
        } }, { key: "addFileSize", value: function(e4, t3) {
          this._rateMessageSent.addFileSize(e4, t3) || Ve2.w("".concat(this._n, ".addFileSize invalid key or size:"), e4, t3);
        } }, { key: "addMessageSequence", value: function(e4) {
          this._rateMessageReceived.addMessageSequence(e4) || Ve2.w("".concat(this._n, ".addMessageSequence invalid key:"), e4.key);
        } }, { key: "_getQualityItem", value: function(e4) {
          var n4 = {}, o3 = Sa[this.getNetworkType()];
          it2(o3) && (o3 = 8);
          var s4 = { qualityType: ka[e4], timestamp: Pe2(), networkType: o3, extension: "" };
          switch (e4) {
            case _a2:
              n4 = this._avgRTT.getStatResult();
              break;
            case fa:
              n4 = this._avgE2EDelay.getStatResult();
              break;
            case va:
            case ma:
            case Ma:
            case ya:
            case Ia:
              n4 = this._rateMessageSent.getStatResult(e4);
              break;
            case Ca:
            case Ta:
            case Da:
              n4 = this._rateMessageReceived.getStatResult(e4);
          }
          return null === n4 ? null : t2(t2({}, s4), n4);
        } }, { key: "_report", value: function(e4) {
          var t3 = this, n4 = [], o3 = null;
          it2(e4) ? this._qualityItems.forEach(function(e5) {
            null !== (o3 = t3._getQualityItem(e5)) && (o3.reportIndex = t3.reportIndex, o3.wholePeriod = t3.wholePeriod, n4.push(o3));
          }) : null !== (o3 = this._getQualityItem(e4)) && (o3.reportIndex = this.reportIndex, o3.wholePeriod = this.wholePeriod, n4.push(o3)), Ve2.d("".concat(this._n, "._report"), n4), this._statInfoArr.length > 0 && (n4 = n4.concat(this._statInfoArr), this._statInfoArr = []);
          var s4 = this.getModule(xn), a3 = s4.getSDKAppID(), i3 = s4.getTinyID();
          Ft2(this.REPORT_SDKAPPID_BLACKLIST, a3) && !qt2(this.REPORT_TINYID_WHITELIST, i3) && (n4 = []), n4.length > 0 && this._doReport(n4);
        } }, { key: "_doReport", value: function(e4) {
          var n4 = this, o3 = { header: or(this), quality: e4 };
          this.request({ protocolName: Bs2, requestData: t2({}, o3) }).then(function() {
            n4.reportIndex++, n4.wholePeriod = false;
          }).catch(function(t3) {
            Ve2.w("".concat(n4._n, "._doReport, online:").concat(n4.getNetworkType(), " error:"), t3), n4._statInfoArr = n4._statInfoArr.concat(e4), n4._flushAtOnce();
          });
        } }, { key: "_flushAtOnce", value: function() {
          var e4 = this.getModule(Vn2), t3 = e4.getItem(this.TAG, false), n4 = this._statInfoArr, o3 = "".concat(this._n, "._flushAtOnce");
          if (zt2(t3))
            Ve2.l("".concat(o3, " count:").concat(n4.length)), e4.setItem(this.TAG, n4, true, false);
          else {
            var s4 = n4.concat(t3);
            s4.length > 10 && (s4 = s4.slice(0, 10)), Ve2.l("".concat(o3, " count:").concat(s4.length)), e4.setItem(this.TAG, s4, true, false);
          }
          this._statInfoArr = [];
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._report(), this.reportIndex = 0, this.wholePeriod = false, this.REPORT_SDKAPPID_BLACKLIST = [], this.REPORT_TINYID_WHITELIST = [], this._avgRTT.reset(), this._avgE2EDelay.reset(), this._rateMessageSent.reset(), this._rateMessageReceived.reset();
        } }]), s3;
      }(uo), ou = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "WorkerTimerModule", s3._isWorkerEnabled = true, s3._workerTimer = null, s3._timerID = -1, s3._init(), s3.getInnerEmitterInstance().on(ti, s3._onCloudConfigUpdated, h2(s3)), s3;
        }
        return a2(n3, [{ key: "isWorkerEnabled", value: function() {
          return this._isWorkerEnabled && Se2;
        } }, { key: "startWorkerTimer", value: function() {
          Ve2.l("".concat(this._n, ".startWorkerTimer")), this._workerTimer && this._workerTimer.postMessage("start");
        } }, { key: "stopWorkerTimer", value: function() {
          Ve2.l("".concat(this._n, ".stopWorkerTimer")), this._workerTimer && this._workerTimer.postMessage("stop");
        } }, { key: "_init", value: function() {
          if (Se2) {
            var e4 = URL.createObjectURL(new Blob(['let interval = -1;onmessage = function(event) {  if (event.data === "start") {    if (interval > 0) {      clearInterval(interval);    }    interval = setInterval(() => {      postMessage("");    }, 1000);    postMessage(interval);  } else if (event.data === "stop") {    clearInterval(interval);    interval = -1;  }};'], { type: "application/javascript; charset=utf-8" }));
            this._workerTimer = new Worker(e4);
            var t4 = this;
            this._workerTimer.onmessage = function(e5) {
              e5.data ? (t4._timerID = e5.data, Ve2.l("".concat(t4._n, "._init seed:").concat(t4._timerID))) : t4._m.onCheckTimer();
            };
          }
        } }, { key: "_onCloudConfigUpdated", value: function() {
          var e4 = this.getCloudConfig("enable_worker");
          Ve2.l("".concat(this._n, "._onCloudConfigUpdated enableWorker:").concat(e4)), it2(e4) || "1" === e4 ? !this._isWorkerEnabled && Se2 && (this._isWorkerEnabled = true, this.startWorkerTimer(), this._m.onWorkerTimerEnabled()) : this._isWorkerEnabled && Se2 && (this._isWorkerEnabled = false, this.stopWorkerTimer(), this._m.onWorkerTimerDisabled());
        } }, { key: "terminate", value: function() {
          Ve2.l("".concat(this._n, ".terminate")), this._workerTimer && (this._workerTimer.terminate(), this._workerTimer = null, this._timerID = -1);
        } }, { key: "getTimerID", value: function() {
          return this._timerID;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset"));
        } }]), n3;
      }(uo), su = function() {
        function e3() {
          o2(this, e3), this._n = "PurchasedFeatureHandler", this._purchasedFeatureMap = /* @__PURE__ */ new Map();
        }
        return a2(e3, [{ key: "isValidPurchaseBits", value: function(e4) {
          return e4 && "string" == typeof e4 && e4.length >= 1 && e4.length <= 64 && /[01]{1,64}/.test(e4);
        } }, { key: "parsePurchaseBits", value: function(e4) {
          if (this.isValidPurchaseBits(e4)) {
            this._purchasedFeatureMap.clear();
            for (var t3 = null, n3 = e4.length - 1, o3 = 0; n3 >= 0; n3--, o3++)
              t3 = o3 < 32 ? new L2(0, Math.pow(2, o3)).toString() : new L2(Math.pow(2, o3 - 32), 0).toString(), "1" === e4[n3] ? this._purchasedFeatureMap.set(t3, true) : this._purchasedFeatureMap.set(t3, false);
          } else
            Ve2.w("".concat(this._n, ".parsePurchaseBits invalid purchasebits:").concat(e4));
        } }, { key: "hasPurchasedFeature", value: function(e4) {
          return !!this._purchasedFeatureMap.get(e4);
        } }, { key: "isFeatureEnabled", value: function(e4) {
          for (var t3 = parseInt(e4).toString(2), n3 = void 0, o3 = true, s3 = t3.length - 1, a3 = 0; s3 >= 0; s3--, a3++)
            if ("1" === t3.charAt(s3) && (n3 = a3 < 32 ? new L2(0, Math.pow(2, a3)).toString() : new L2(Math.pow(2, a3 - 32), 0).toString(), !this._purchasedFeatureMap.get(n3))) {
              o3 = false;
              break;
            }
          return Ve2.l("".concat(this._n, ".isFeatureEnabled decimalNumber:").concat(e4, " binaryString:").concat(t3, " ret:").concat(o3)), Xa({ enabled: o3 });
        } }, { key: "clear", value: function() {
          this._purchasedFeatureMap.clear();
        } }]), e3;
      }(), au = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._n = "CommercialConfigModule", this._expiredTime = 0, this._isFetching = false, this._purchasedFeatureHandler = new su();
        }
        return a2(e3, [{ key: "_canFetch", value: function() {
          return this._getModule(xn).isLoggedIn() ? !this._isFetching && Date.now() >= this._expiredTime : (this._expiredTime = Date.now() + 2e3, false);
        } }, { key: "onCheckTimer", value: function(e4) {
          this._canFetch() && this.fetchConfig();
        } }, { key: "fetchConfig", value: function() {
          var e4 = this, t3 = this._canFetch(), n3 = "".concat(this._n, ".fetchConfig");
          if (Ve2.l("".concat(n3, " canFetch:").concat(t3)), t3) {
            var o3 = this._getModule(Hn2), s3 = new Aa("fetchCommercialConfig");
            s3.setNetworkType(o3.getNetworkType());
            var a3 = this._getModule(xn).getSDKAppID(), i3 = this._getModule(zn2);
            this._isFetching = true, i3.request({ protocolName: Qs2, requestData: { SDKAppID: a3 } }).then(function(t4) {
              s3.setMessage("purchaseBits:".concat(t4.data.purchaseBits)).end(), Ve2.l("".concat(n3, " ok.")), e4._parseConfig(t4.data), e4._isFetching = false;
            }).catch(function(t4) {
              o3.probe().then(function(e5) {
                var n4 = v2(e5, 2), o4 = n4[0], a4 = n4[1];
                s3.setError(t4, o4, a4).end();
              }), e4._isFetching = false;
            });
          }
        } }, { key: "onPushedConfig", value: function(e4) {
          var t3 = "".concat(this._n, ".onPushedConfig data:").concat(JSON.stringify(e4));
          Ve2.l("".concat(t3)), new Aa("pushedCommercialConfig").setNetworkType(this._getModule(Hn2).getNetworkType()).setMessage("purchaseBits:".concat(e4.purchaseBits)).end(), this._parseConfig(e4);
        } }, { key: "_parseConfig", value: function(e4) {
          var t3 = "".concat(this._n, "._parseConfig"), n3 = e4.errorCode, o3 = e4.errorMessage, s3 = e4.purchaseBits, a3 = e4.expiredTime;
          0 === n3 ? (this._purchasedFeatureHandler.parsePurchaseBits(s3), this._expiredTime = Date.now() + 1e3 * a3) : it2(n3) ? (Ve2.l("".concat(t3, " failed. Invalid message format:"), e4), this._setExpiredTimeOnResponseError(36e5)) : (Ve2.e("".concat(t3, " errorCode:").concat(n3, " errorMessage:").concat(o3)), this._setExpiredTimeOnResponseError(12e4));
        } }, { key: "_setExpiredTimeOnResponseError", value: function(e4) {
          this._expiredTime = Date.now() + e4;
        } }, { key: "canIUse", value: function(e4) {
          return this._purchasedFeatureHandler.hasPurchasedFeature(e4);
        } }, { key: "isFeatureEnabled", value: function(e4) {
          return this._purchasedFeatureHandler.isFeatureEnabled(e4);
        } }, { key: "_getModule", value: function(e4) {
          return this._m.getModule(e4);
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._expiredTime = 0, this._isFetching = false, this._purchasedFeatureHandler.clear();
        } }]), e3;
      }(), iu = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._m = e4, s3._n = "OfflinePushModule", s3._offlinePushPlugin = void 0, s3._androidPushConfig = { huaweiPushBussinessId: "", xiaomiPushBussinessId: "", xiaomiPushAppId: "", xiaomiPushAppKey: "", meizuPushBussinessId: "", meizuPushAppId: "", meizuPushAppKey: "", vivoPushBussinessId: "", fcmPushBussinessId: "", oppoPushBussinessId: "", oppoPushAppKey: "", oppoPushAppSecret: "", honorPushBussinessId: "" }, s3._deviceToken = "", s3._businessID = 0, s3._iosBusinessID = 0, s3._c2cUnreadCount = 0, s3._groupUnreadCount = 0, s3._isWebUniapp = 0, s3;
        }
        return a2(n3, [{ key: "registerPlugin", value: function(e4) {
          if (oe2) {
            this._offlinePushPlugin = e4["tim-offline-push-plugin"];
            var t4 = e4.offlinePushConfig || {}, n4 = t4.huaweiBusinessID, o3 = t4.xiaomiBusinessID, s3 = t4.xiaomiAppID, a3 = t4.xiaomiAppKey, i3 = t4.meizuBusinessID, r3 = t4.meizuAppID, u3 = t4.meizuAppKey, c3 = t4.vivoBusinessID, l3 = t4.oppoBusinessID, d3 = t4.oppoAppKey, p3 = t4.oppoAppSecret, g3 = t4.honorBusinessID, h3 = t4.iosBusinessID;
            this._androidPushConfig.huaweiPushBussinessId = n4, this._androidPushConfig.xiaomiPushBussinessId = o3, this._androidPushConfig.xiaomiPushAppId = s3, this._androidPushConfig.xiaomiPushAppKey = a3, this._androidPushConfig.meizuPushBussinessId = i3, this._androidPushConfig.meizuPushAppId = r3, this._androidPushConfig.meizuPushAppKey = u3, this._androidPushConfig.vivoPushBussinessId = c3, this._androidPushConfig.oppoPushBussinessId = l3, this._androidPushConfig.oppoPushAppKey = d3, this._androidPushConfig.oppoPushAppSecret = p3, this._androidPushConfig.honorPushBussinessId = g3, new Aa("registerPlugin").setMessage("tim-offline-push-plugin").setMoreMessage("isExist:".concat(!it2(this._offlinePushPlugin))).end(true), Ve2.l("".concat(this._n, ".").concat("registerPlugin", " ok. offlinePushConfig:").concat(JSON.stringify(e4.offlinePushConfig))), this._iosBusinessID = h3, this._setAppShowListener();
          } else
            this.outputWarning("OfflinePushInUniapp");
        } }, { key: "init", value: function() {
          this._isWebUniapp = this.getUniAppPlatform(), this._getDeviceToken();
        } }, { key: "_getDeviceToken", value: function() {
          var e4 = this, t4 = "".concat(this._n, ".").concat("_getDeviceToken");
          if (ut2(this._offlinePushPlugin.getDeviceToken)) {
            var n4 = "androidPushConfig:".concat(JSON.stringify(this._androidPushConfig), ", iosBusinessID:").concat(this._iosBusinessID);
            Ve2.l("".concat(t4, " start. ").concat(n4)), new Aa("_getDeviceToken").setMessage("".concat(n4)).end(true), this._offlinePushPlugin.getDeviceToken(this._androidPushConfig, function(o3) {
              var s3 = new Aa("getDeviceTokenRes"), a3 = o3.code, i3 = o3.msg;
              if (0 === a3) {
                var r3 = o3.data, u3 = r3.deviceToken, c3 = r3.deviceBrand, l3 = r3.deviceType, d3 = r3.bussinessId;
                e4._deviceToken = u3, e4._businessID = d3 || e4._iosBusinessID, n4 = "deviceToken:".concat(u3, ", deviceBrand:").concat(c3 || l3, ", businessID:").concat(e4._businessID), Ve2.l("".concat(t4, " ok. ").concat(n4)), s3.setMessage(n4).end(true), e4._setToken();
              } else
                s3.setMessage("code:".concat(a3, ", msg:").concat(i3)).end(true), Ve2.e("".concat(t4, " failed. error:"), o3);
            });
          } else
            Ve2.e("".concat(t4, " getDeviceToken is not a function"));
        } }, { key: "canIUseOfflinePush", value: function() {
          return oe2 && !it2(this._offlinePushPlugin);
        } }, { key: "_setAppShowListener", value: function() {
          var e4 = this, t4 = "".concat(this._n, ".").concat("_setAppShowListener");
          it2(this._offlinePushPlugin) ? Ve2.e("".concat(t4, " offlinePushPlugin is undefined")) : ut2(this._offlinePushPlugin.setAppShowListener) ? (new Aa("_setAppShowListener").end(true), Ve2.l("".concat(t4, " start")), this._offlinePushPlugin.setAppShowListener(function(n4) {
            var o3 = (n4 || {}).appShow;
            new Aa("setAppShowListenerRes").setMessage("appShow:".concat(o3)).end(true), Ve2.l("".concat(t4, " ok. appShow:").concat(o3)), e4._m.isReady() && (0 === o3 ? (e4._getConvUnreadCount(), e4._onBackground()) : 1 === o3 && e4._onForeground());
          })) : Ve2.e("".concat(t4, " setAppShowListener is not a function"));
        } }, { key: "getDeviceBrand", value: function() {
          if (!it2(this._offlinePushPlugin) && ut2(this._offlinePushPlugin.getDeviceType)) {
            var e4 = (this._offlinePushPlugin.getDeviceType() || {}).deviceType;
            return Ve2.l("".concat(this._n, ".getDeviceBrand ok. deviceType:").concat(e4)), e4;
          }
        } }, { key: "_setToken", value: function() {
          var e4, t4 = this, n4 = "".concat(this._n, "._setToken"), o3 = this.getModule(xn), s3 = 1, a3 = "", i3 = "";
          zt2(this._deviceToken) && (s3 = 0);
          var r3 = this.getUniAppPlatform(), u3 = this.getDeviceBrand();
          r3 === R2.IOS || r3 === R2.IPAD || r3 === R2.MAC ? i3 = this._deviceToken : r3 === R2.ANDROID && (a3 = this._deviceToken);
          var c3 = new Aa("offlinePushSetToken");
          return e4 = "deviceToken:".concat(i3 || a3, ", businessID:").concat(this._businessID, ", ") + "deviceBrand:".concat(u3, ", isWebUniapp:").concat(this._isWebUniapp, ", pushMsg:").concat(s3, ", platform:").concat(r3), c3.setMessage("".concat(e4)), Ve2.l("".concat(n4, " ").concat(e4)), this.request({ protocolName: da, requestData: { tokenID: a3, pushMsg: s3, sdkAppID: o3.getSDKAppID(), businessID: parseInt(this._businessID), deviceBrand: u3, deviceToken: i3, isWebUniapp: this._isWebUniapp } }).then(function(e5) {
            return c3.end(), Ve2.l("".concat(n4, " ok")), e5;
          }).catch(function(e5) {
            return t4.probeNetwork().then(function(t5) {
              var n5 = v2(t5, 2), o4 = n5[0], s4 = n5[1];
              c3.setError(e5, o4, s4).end();
            }), Ve2.e("".concat(n4, " failed. error:"), e5), Za(e5);
          });
        } }, { key: "_getConvUnreadCount", value: function() {
          var e4 = this;
          this._c2cUnreadCount = 0, this._groupUnreadCount = 0, this.getModule(qn).getLocalConversationList().forEach(function(t4) {
            t4.type === E2.CONV_C2C && (e4._c2cUnreadCount += t4.unreadCount), t4.type === E2.CONV_GROUP && (e4._groupUnreadCount += t4.unreadCount);
          });
        } }, { key: "_onBackground", value: function() {
          var e4 = this, t4 = "".concat(this._n, ".").concat("_onBackground"), n4 = new Aa("_onBackground");
          this.request({ protocolName: ca, requestData: { c2cUnreadCount: this._c2cUnreadCount, groupUnreadCount: this._groupUnreadCount, isWebUniapp: this._isWebUniapp } }).then(function(o3) {
            return n4.setMessage("c2cUnreadCount: ".concat(e4._c2cUnreadCount, ", groupUnreadCount: ").concat(e4._groupUnreadCount)).end(), Ve2.l("".concat(t4, " ok")), o3;
          }).catch(function(o3) {
            e4.probeNetwork().then(function(e5) {
              var t5 = v2(e5, 2), s3 = t5[0], a3 = t5[1];
              n4.setError(o3, s3, a3).end();
            }), Ve2.e("".concat(t4, " failed. error:"), o3);
          });
        } }, { key: "_onForeground", value: function() {
          var e4 = this, t4 = "".concat(this._n, ".").concat("_onForeground"), n4 = new Aa("_onForeground");
          this.request({ protocolName: la, requestData: { isWebUniapp: this._isWebUniapp } }).then(function(e5) {
            return n4.end(), Ve2.l("".concat(t4, " ok")), e5;
          }).catch(function(o3) {
            e4.probeNetwork().then(function(e5) {
              var t5 = v2(e5, 2), s3 = t5[0], a3 = t5[1];
              n4.setError(o3, s3, a3).end();
            }), Ve2.e("".concat(t4, " failed. error:"), o3);
          });
        } }, { key: "getUniAppPlatform", value: function() {
          var e4 = uni.getSystemInfoSync().platform, t4 = this.getDeviceBrand();
          return "ios" === e4 ? R2.IOS : "android" === e4 ? R2.ANDROID : 1002 === t4 ? R2.IPAD : 1001 === t4 ? R2.MAC : void 0;
        } }, { key: "reset", value: function() {
          this._deviceToken = "", this._businessID = 0, this._c2cUnreadCount = 0, this._groupUnreadCount = 0, this._isWebUniapp = 0, Ve2.l("".concat(this._n, ".reset"));
        } }]), n3;
      }(uo), ru = function(e3) {
        r2(n3, e3);
        var t3 = f2(n3);
        function n3(e4) {
          var s3;
          return o2(this, n3), (s3 = t3.call(this, e4))._n = "ProfanityFilterModule", s3._plugin = null, s3._filterConfigMap = /* @__PURE__ */ new Map(), s3._startIndex = 0, s3._version = 0, s3._canIUseLexicon = false, s3._isFetching = false, s3._expiredTime = 0, s3;
        }
        return a2(n3, [{ key: "init", value: function() {
          var e4 = this.getModule(Yn2).getPlugin("tim-profanity-filter-plugin");
          e4 ? (this._plugin = new e4({ logger: Ve2, isArray: at2, isMap: Qe2, isDevMode: this.isDevMode() }), this._getLexicon()) : this.outputWarning("ProfanityPluginNotFound");
        } }, { key: "onCheckTimer", value: function() {
          this._plugin && this._canIUseLexicon && this.isLoggedIn() && !this._isFetching && Date.now() >= this._expiredTime && this._getLexicon();
        } }, { key: "filterMessage", value: function(e4, t4) {
          var n4 = true;
          if (!this._plugin || !this._canIUseLexicon)
            return n4;
          if (t4 && t4.messageControlInfo && true === t4.messageControlInfo.excludedFromContentModeration)
            return n4;
          var o3 = e4.type, s3 = e4.conversationType;
          if (o3 !== E2.MSG_TEXT && o3 !== E2.MSG_CUSTOM)
            return n4;
          var a3, i3 = "".concat(this._n, ".filterMessage");
          if (Ve2.l("".concat(i3)), o3 === E2.MSG_TEXT) {
            if (s3 === E2.CONV_C2C ? a3 = H2 : s3 === E2.CONV_GROUP && (a3 = W2), !this._isConfigOn(a3))
              return n4;
            var r3 = this._plugin.filter(e4.payload.text), u3 = r3.type, c3 = r3.modifiedText;
            1 === u3 ? n4 = false : 2 === u3 && (e4.payload.text = c3);
          } else if (o3 === E2.MSG_CUSTOM) {
            if (s3 === E2.CONV_C2C ? a3 = K2 : s3 === E2.CONV_GROUP && (a3 = Y2), !this._isConfigOn(a3))
              return n4;
            var l3 = this._plugin.filter(e4.payload.data), d3 = this._plugin.filter(e4.payload.description), p3 = this._plugin.filter(e4.payload.extension);
            1 === l3.type || 1 === d3.type || 1 === p3.type ? n4 = false : (2 === l3.type && (e4.payload.data = l3.modifiedText), 2 === d3.type && (e4.payload.description = d3.modifiedText), 2 === p3.type && (e4.payload.extension = p3.modifiedText));
          }
          return Ve2.l("".concat(i3, " done. isAllowedToSend:").concat(n4)), n4;
        } }, { key: "filterText", value: function(e4, t4) {
          var n4 = "".concat(this._n, ".filterText"), o3 = { isAllowedToSend: true, modifiedText: e4 };
          if (!this._plugin || !this._canIUseLexicon)
            return o3;
          if (!this._isConfigOn(t4))
            return o3;
          Ve2.l("".concat(n4));
          var s3 = this._plugin.filter(e4), a3 = s3.type, i3 = s3.modifiedText;
          return 1 === a3 ? o3.isAllowedToSend = false : 2 === a3 && (o3.modifiedText = i3), Ve2.l("".concat(n4, " done. ret:"), o3), o3;
        } }, { key: "_getLexicon", value: function() {
          var e4 = this, t4 = new Aa("profanityFilter"), n4 = "".concat(this._n, "._getLexicon");
          this._isFetching = true, this.request({ protocolName: pa, requestData: { startIndex: this._startIndex, version: this._version } }).then(function(o3) {
            var s3 = o3.data, a3 = s3.errorInfo, i3 = s3.filterConfig, r3 = s3.lexicon, u3 = s3.strToken, c3 = s3.completeFlag, l3 = s3.nextStartIndex, d3 = s3.version, p3 = s3.expiredTime, g3 = a3.errorCode, h3 = a3.errorMessage;
            return 0 !== g3 ? (e4._isFetching = false, Ve2.w("".concat(n4, " failed. error:"), a3), void t4.setCode(g3).setMessage(h3).end()) : (e4._onFilterConfig(i3), e4._getToken(u3), 1 === c3 ? (Ve2.l("".concat(n4, " done. version:").concat(d3, " expiredTime:").concat(p3)), e4._version = d3, e4._canIUseLexicon = true, e4._isFetching = false, e4._expiredTime = Date.now() + 1e3 * p3, void e4._plugin.onLexiconCompleted(r3)) : (e4._startIndex = l3, e4._plugin.onLexiconSliced(r3), void e4._getLexicon()));
          }).catch(function(o3) {
            e4.probeNetwork().then(function(e5) {
              var n5 = v2(e5, 2), s3 = n5[0], a3 = n5[1];
              t4.setError(o3, s3, a3).end();
            }), e4._isFetching = false, Ve2.l("".concat(n4, " failed. error:"), o3);
          });
        } }, { key: "_onFilterConfig", value: function(e4) {
          var t4 = this;
          zt2(e4) || (this._filterConfigMap.clear(), Object.keys(e4).forEach(function(n4) {
            t4._filterConfigMap.set(n4, e4[n4]);
          }), Ve2.l("".concat(this._n, "._onFilterConfig. keys:").concat(Array.from(this._filterConfigMap.keys()), " values:").concat(Array.from(this._filterConfigMap.values()))));
        } }, { key: "_isConfigOn", value: function(e4) {
          return 1 === this._filterConfigMap.get(e4);
        } }, { key: "_getToken", value: function(e4) {
          if (nt2(e4)) {
            var t4 = e4.length, n4 = "";
            if (t4 % 2 == 0)
              for (var o3 = 0; o3 <= t4 - 1; o3 += 2)
                n4 += e4[o3 + 1], n4 += e4[o3];
            else {
              for (var s3 = 0; s3 < t4 - 1; s3 += 2)
                n4 += e4[s3 + 1], n4 += e4[s3];
              n4 += e4[t4 - 1];
            }
            this._plugin.onToken(n4);
          }
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._plugin && (this._plugin.reset(), this._plugin = null), this._filterConfigMap.clear(), this._startIndex = 0, this._version = 0, this._canIUseLexicon = false, this._isFetching = false, this._expiredTime = 0;
        } }]), n3;
      }(uo), uu = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._n = "TransCmdModule", this._TRTCCommandList = ["tui_room_svr.*"], this._m.getInnerEmitterInstance().on(ti, this._onCloudConfigUpdated, this);
        }
        return a2(e3, [{ key: "_onCloudConfigUpdated", value: function() {
          var e4 = this, t3 = this._m.getModule(Zn2).getCloudConfig("rtc_cmd");
          it2(t3) || (t3 = JSON.parse(t3)).forEach(function(t4) {
            e4._TRTCCommandList.includes(t4) || e4._TRTCCommandList.push(t4);
          });
        } }, { key: "sendTRTCCustomData", value: function(e4) {
          var t3 = e4.serviceCommand, n3 = e4.data, o3 = "".concat(V2.NAME.TUIROOM_SVR, ".*");
          return it2(t3) || (o3 = t3), this._TRTCCommandList.includes(o3) ? this._trans({ servcmd: o3, data: n3 }) : Za({ code: ha.INVALID_TRTC_CMD });
        } }, { key: "_trans", value: function(e4) {
          Ve2.d("".concat(this._n, "._trans. options:").concat(JSON.stringify(e4)));
          var t3 = e4.servcmd, n3 = e4.data;
          return this._m.getModule(zn2).trans({ servcmd: t3, data: nt2(n3) ? JSON.parse(n3) : n3 });
        } }, { key: "getCommandList", value: function() {
          return this._TRTCCommandList;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset"));
        } }]), e3;
      }(), cu = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._n = "ErrorMessageModule", this.TIM_ERROR_ASSISTANCE = "tim_error_assistance", this.STORAGE_EXPIRES_TIME = 6048e5, this._map = /* @__PURE__ */ new Map(), this._init();
        }
        return a2(e3, [{ key: "_init", value: function() {
          var e4 = this._getStorageModule().getItem(this.TIM_ERROR_ASSISTANCE, false);
          if (e4) {
            var t3;
            try {
              t3 = JSON.parse(e4);
            } catch (n3) {
              this._getStorageModule().removeItem(this.TIM_ERROR_ASSISTANCE, false), Ve2.w("".concat(this._n, "._init error:"), n3);
            }
            t3 && (this._needToUpdate(t3) ? this._fetch() : this._fillMap(t3.message));
          } else
            this._fetch();
        } }, { key: "_needToUpdate", value: function(e4) {
          var t3 = e4.localSavedTime, n3 = e4.localSavedVersion, o3 = t3 && (/* @__PURE__ */ new Date()).getTime() - t3 >= this.STORAGE_EXPIRES_TIME, s3 = !n3 || "2.27.6" !== n3;
          return Ve2.l("".concat(this._n, "._needToUpdate isTimeout:").concat(o3, " isDifferentVersion:").concat(s3)), o3 || s3;
        } }, { key: "_fetch", value: function() {
          if (!this._m.getModule(xn).isPrivateNetWork()) {
            var e4 = "https://web.sdk.qcloud.com/im/download/error-message/0.0.1/tim-error-message.txt", t3 = "application/x-www-form-urlencoded;charset=UTF-8", n3 = "".concat(this._n, "._fetch ok in"), o3 = this;
            if (ae2)
              re2.request({ url: e4, method: "GET", timeout: 3e3, header: { "content-type": t3 }, dataType: "text", success: function(e5) {
                o3._fillAndSave(e5.data), Ve2.l("".concat(n3, " mini program"));
              }, fail: function() {
              } });
            else {
              var s3 = new XMLHttpRequest(), a3 = setTimeout(function() {
                s3.abort();
              }, 3e3);
              s3.onreadystatechange = function() {
                4 === s3.readyState && (clearTimeout(a3), 200 !== s3.status && 304 !== s3.status || (Ve2.l("".concat(n3, " browser")), o3._fillAndSave(s3.responseText)));
              }, s3.open("GET", e4, true), s3.setRequestHeader("Content-type", t3), s3.send();
            }
          }
        } }, { key: "_fillAndSave", value: function(e4) {
          this._fillMap(e4), this._getStorageModule().setItem(this.TIM_ERROR_ASSISTANCE, JSON.stringify({ message: e4, localSavedTime: (/* @__PURE__ */ new Date()).getTime(), localSavedVersion: "2.27.6" }), true, false);
        } }, { key: "_getStorageModule", value: function() {
          return this._m.getModule(Vn2);
        } }, { key: "_fillMap", value: function(e4) {
          this._map.clear();
          for (var t3, n3, o3, s3 = e4.split(";\n"), a3 = s3.length, i3 = new RegExp(/'/g), r3 = 0; r3 < a3; r3++)
            if (t3 = s3[r3].indexOf(":"), n3 = s3[r3].slice(0, t3), o3 = s3[r3].slice(t3 + 1, s3[r3].length), !n3.startsWith("//")) {
              if (it2(o3))
                continue;
              this._map.set(n3, o3.replace(i3, ""));
            }
        } }, { key: "get", value: function(e4) {
          var t3 = e4.isIntl, n3 = e4.key, o3 = e4.replacement1, s3 = e4.replacement2, a3 = "".concat(n3, t3 ? "_en" : "_cn");
          !this._map.has(a3) && this._map.has(n3) && (a3 = n3);
          var i3 = "";
          return this._map.has(a3) ? (i3 = this._map.get(a3), it2(o3) || (i3 = i3.replace("$replacement1", o3)), it2(s3) || (i3 = i3.replace("$replacement2", s3)), i3) : i3;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset"));
        } }]), e3;
      }(), lu = cr(function(e3, t3) {
        var o3 = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
        function s3(e4, t4) {
          return Object.prototype.hasOwnProperty.call(e4, t4);
        }
        t3.assign = function(e4) {
          for (var t4 = Array.prototype.slice.call(arguments, 1); t4.length; ) {
            var o4 = t4.shift();
            if (o4) {
              if ("object" !== n2(o4))
                throw new TypeError(o4 + "must be non-object");
              for (var a4 in o4)
                s3(o4, a4) && (e4[a4] = o4[a4]);
            }
          }
          return e4;
        }, t3.shrinkBuf = function(e4, t4) {
          return e4.length === t4 ? e4 : e4.subarray ? e4.subarray(0, t4) : (e4.length = t4, e4);
        };
        var a3 = { arraySet: function(e4, t4, n3, o4, s4) {
          if (t4.subarray && e4.subarray)
            e4.set(t4.subarray(n3, n3 + o4), s4);
          else
            for (var a4 = 0; a4 < o4; a4++)
              e4[s4 + a4] = t4[n3 + a4];
        }, flattenChunks: function(e4) {
          var t4, n3, o4, s4, a4, i4;
          for (o4 = 0, t4 = 0, n3 = e4.length; t4 < n3; t4++)
            o4 += e4[t4].length;
          for (i4 = new Uint8Array(o4), s4 = 0, t4 = 0, n3 = e4.length; t4 < n3; t4++)
            a4 = e4[t4], i4.set(a4, s4), s4 += a4.length;
          return i4;
        } }, i3 = { arraySet: function(e4, t4, n3, o4, s4) {
          for (var a4 = 0; a4 < o4; a4++)
            e4[s4 + a4] = t4[n3 + a4];
        }, flattenChunks: function(e4) {
          return [].concat.apply([], e4);
        } };
        t3.setTyped = function(e4) {
          e4 ? (t3.Buf8 = Uint8Array, t3.Buf16 = Uint16Array, t3.Buf32 = Int32Array, t3.assign(t3, a3)) : (t3.Buf8 = Array, t3.Buf16 = Array, t3.Buf32 = Array, t3.assign(t3, i3));
        }, t3.setTyped(o3);
      });
      lu.assign, lu.shrinkBuf, lu.setTyped, lu.Buf8, lu.Buf16, lu.Buf32;
      var du = function(e3, t3, n3, o3) {
        for (var s3 = 65535 & e3 | 0, a3 = e3 >>> 16 & 65535 | 0, i3 = 0; 0 !== n3; ) {
          n3 -= i3 = n3 > 2e3 ? 2e3 : n3;
          do {
            a3 = a3 + (s3 = s3 + t3[o3++] | 0) | 0;
          } while (--i3);
          s3 %= 65521, a3 %= 65521;
        }
        return s3 | a3 << 16 | 0;
      };
      var pu = function() {
        for (var e3, t3 = [], n3 = 0; n3 < 256; n3++) {
          e3 = n3;
          for (var o3 = 0; o3 < 8; o3++)
            e3 = 1 & e3 ? 3988292384 ^ e3 >>> 1 : e3 >>> 1;
          t3[n3] = e3;
        }
        return t3;
      }();
      var gu = function(e3, t3, n3, o3) {
        var s3 = pu, a3 = o3 + n3;
        e3 ^= -1;
        for (var i3 = o3; i3 < a3; i3++)
          e3 = e3 >>> 8 ^ s3[255 & (e3 ^ t3[i3])];
        return -1 ^ e3;
      }, hu = function(e3, t3) {
        var n3, o3, s3, a3, i3, r3, u3, c3, l3, d3, p3, g3, h3, _3, f3, v3, m3, M3, y3, I3, C3, T3, D3, k2, E3;
        n3 = e3.state, o3 = e3.next_in, k2 = e3.input, s3 = o3 + (e3.avail_in - 5), a3 = e3.next_out, E3 = e3.output, i3 = a3 - (t3 - e3.avail_out), r3 = a3 + (e3.avail_out - 257), u3 = n3.dmax, c3 = n3.wsize, l3 = n3.whave, d3 = n3.wnext, p3 = n3.window, g3 = n3.hold, h3 = n3.bits, _3 = n3.lencode, f3 = n3.distcode, v3 = (1 << n3.lenbits) - 1, m3 = (1 << n3.distbits) - 1;
        e:
          do {
            h3 < 15 && (g3 += k2[o3++] << h3, h3 += 8, g3 += k2[o3++] << h3, h3 += 8), M3 = _3[g3 & v3];
            t:
              for (; ; ) {
                if (g3 >>>= y3 = M3 >>> 24, h3 -= y3, 0 === (y3 = M3 >>> 16 & 255))
                  E3[a3++] = 65535 & M3;
                else {
                  if (!(16 & y3)) {
                    if (0 == (64 & y3)) {
                      M3 = _3[(65535 & M3) + (g3 & (1 << y3) - 1)];
                      continue t;
                    }
                    if (32 & y3) {
                      n3.mode = 12;
                      break e;
                    }
                    e3.msg = "invalid literal/length code", n3.mode = 30;
                    break e;
                  }
                  I3 = 65535 & M3, (y3 &= 15) && (h3 < y3 && (g3 += k2[o3++] << h3, h3 += 8), I3 += g3 & (1 << y3) - 1, g3 >>>= y3, h3 -= y3), h3 < 15 && (g3 += k2[o3++] << h3, h3 += 8, g3 += k2[o3++] << h3, h3 += 8), M3 = f3[g3 & m3];
                  n:
                    for (; ; ) {
                      if (g3 >>>= y3 = M3 >>> 24, h3 -= y3, !(16 & (y3 = M3 >>> 16 & 255))) {
                        if (0 == (64 & y3)) {
                          M3 = f3[(65535 & M3) + (g3 & (1 << y3) - 1)];
                          continue n;
                        }
                        e3.msg = "invalid distance code", n3.mode = 30;
                        break e;
                      }
                      if (C3 = 65535 & M3, h3 < (y3 &= 15) && (g3 += k2[o3++] << h3, (h3 += 8) < y3 && (g3 += k2[o3++] << h3, h3 += 8)), (C3 += g3 & (1 << y3) - 1) > u3) {
                        e3.msg = "invalid distance too far back", n3.mode = 30;
                        break e;
                      }
                      if (g3 >>>= y3, h3 -= y3, C3 > (y3 = a3 - i3)) {
                        if ((y3 = C3 - y3) > l3 && n3.sane) {
                          e3.msg = "invalid distance too far back", n3.mode = 30;
                          break e;
                        }
                        if (T3 = 0, D3 = p3, 0 === d3) {
                          if (T3 += c3 - y3, y3 < I3) {
                            I3 -= y3;
                            do {
                              E3[a3++] = p3[T3++];
                            } while (--y3);
                            T3 = a3 - C3, D3 = E3;
                          }
                        } else if (d3 < y3) {
                          if (T3 += c3 + d3 - y3, (y3 -= d3) < I3) {
                            I3 -= y3;
                            do {
                              E3[a3++] = p3[T3++];
                            } while (--y3);
                            if (T3 = 0, d3 < I3) {
                              I3 -= y3 = d3;
                              do {
                                E3[a3++] = p3[T3++];
                              } while (--y3);
                              T3 = a3 - C3, D3 = E3;
                            }
                          }
                        } else if (T3 += d3 - y3, y3 < I3) {
                          I3 -= y3;
                          do {
                            E3[a3++] = p3[T3++];
                          } while (--y3);
                          T3 = a3 - C3, D3 = E3;
                        }
                        for (; I3 > 2; )
                          E3[a3++] = D3[T3++], E3[a3++] = D3[T3++], E3[a3++] = D3[T3++], I3 -= 3;
                        I3 && (E3[a3++] = D3[T3++], I3 > 1 && (E3[a3++] = D3[T3++]));
                      } else {
                        T3 = a3 - C3;
                        do {
                          E3[a3++] = E3[T3++], E3[a3++] = E3[T3++], E3[a3++] = E3[T3++], I3 -= 3;
                        } while (I3 > 2);
                        I3 && (E3[a3++] = E3[T3++], I3 > 1 && (E3[a3++] = E3[T3++]));
                      }
                      break;
                    }
                }
                break;
              }
          } while (o3 < s3 && a3 < r3);
        o3 -= I3 = h3 >> 3, g3 &= (1 << (h3 -= I3 << 3)) - 1, e3.next_in = o3, e3.next_out = a3, e3.avail_in = o3 < s3 ? s3 - o3 + 5 : 5 - (o3 - s3), e3.avail_out = a3 < r3 ? r3 - a3 + 257 : 257 - (a3 - r3), n3.hold = g3, n3.bits = h3;
      }, _u = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], fu = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], vu = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], mu = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64], Mu = function(e3, t3, n3, o3, s3, a3, i3, r3) {
        var u3, c3, l3, d3, p3, g3, h3, _3, f3, v3 = r3.bits, m3 = 0, M3 = 0, y3 = 0, I3 = 0, C3 = 0, T3 = 0, D3 = 0, k2 = 0, E3 = 0, S3 = 0, L3 = null, A3 = 0, R3 = new lu.Buf16(16), N3 = new lu.Buf16(16), O3 = null, G3 = 0;
        for (m3 = 0; m3 <= 15; m3++)
          R3[m3] = 0;
        for (M3 = 0; M3 < o3; M3++)
          R3[t3[n3 + M3]]++;
        for (C3 = v3, I3 = 15; I3 >= 1 && 0 === R3[I3]; I3--)
          ;
        if (C3 > I3 && (C3 = I3), 0 === I3)
          return s3[a3++] = 20971520, s3[a3++] = 20971520, r3.bits = 1, 0;
        for (y3 = 1; y3 < I3 && 0 === R3[y3]; y3++)
          ;
        for (C3 < y3 && (C3 = y3), k2 = 1, m3 = 1; m3 <= 15; m3++)
          if (k2 <<= 1, (k2 -= R3[m3]) < 0)
            return -1;
        if (k2 > 0 && (0 === e3 || 1 !== I3))
          return -1;
        for (N3[1] = 0, m3 = 1; m3 < 15; m3++)
          N3[m3 + 1] = N3[m3] + R3[m3];
        for (M3 = 0; M3 < o3; M3++)
          0 !== t3[n3 + M3] && (i3[N3[t3[n3 + M3]]++] = M3);
        if (0 === e3 ? (L3 = O3 = i3, g3 = 19) : 1 === e3 ? (L3 = _u, A3 -= 257, O3 = fu, G3 -= 257, g3 = 256) : (L3 = vu, O3 = mu, g3 = -1), S3 = 0, M3 = 0, m3 = y3, p3 = a3, T3 = C3, D3 = 0, l3 = -1, d3 = (E3 = 1 << C3) - 1, 1 === e3 && E3 > 852 || 2 === e3 && E3 > 592)
          return 1;
        for (; ; ) {
          h3 = m3 - D3, i3[M3] < g3 ? (_3 = 0, f3 = i3[M3]) : i3[M3] > g3 ? (_3 = O3[G3 + i3[M3]], f3 = L3[A3 + i3[M3]]) : (_3 = 96, f3 = 0), u3 = 1 << m3 - D3, y3 = c3 = 1 << T3;
          do {
            s3[p3 + (S3 >> D3) + (c3 -= u3)] = h3 << 24 | _3 << 16 | f3 | 0;
          } while (0 !== c3);
          for (u3 = 1 << m3 - 1; S3 & u3; )
            u3 >>= 1;
          if (0 !== u3 ? (S3 &= u3 - 1, S3 += u3) : S3 = 0, M3++, 0 == --R3[m3]) {
            if (m3 === I3)
              break;
            m3 = t3[n3 + i3[M3]];
          }
          if (m3 > C3 && (S3 & d3) !== l3) {
            for (0 === D3 && (D3 = C3), p3 += y3, k2 = 1 << (T3 = m3 - D3); T3 + D3 < I3 && !((k2 -= R3[T3 + D3]) <= 0); )
              T3++, k2 <<= 1;
            if (E3 += 1 << T3, 1 === e3 && E3 > 852 || 2 === e3 && E3 > 592)
              return 1;
            s3[l3 = S3 & d3] = C3 << 24 | T3 << 16 | p3 - a3 | 0;
          }
        }
        return 0 !== S3 && (s3[p3 + S3] = m3 - D3 << 24 | 64 << 16 | 0), r3.bits = C3, 0;
      };
      function yu(e3) {
        return (e3 >>> 24 & 255) + (e3 >>> 8 & 65280) + ((65280 & e3) << 8) + ((255 & e3) << 24);
      }
      function Iu() {
        this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new lu.Buf16(320), this.work = new lu.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
      }
      function Cu(e3) {
        var t3;
        return e3 && e3.state ? (t3 = e3.state, e3.total_in = e3.total_out = t3.total = 0, e3.msg = "", t3.wrap && (e3.adler = 1 & t3.wrap), t3.mode = 1, t3.last = 0, t3.havedict = 0, t3.dmax = 32768, t3.head = null, t3.hold = 0, t3.bits = 0, t3.lencode = t3.lendyn = new lu.Buf32(852), t3.distcode = t3.distdyn = new lu.Buf32(592), t3.sane = 1, t3.back = -1, 0) : -2;
      }
      function Tu(e3) {
        var t3;
        return e3 && e3.state ? ((t3 = e3.state).wsize = 0, t3.whave = 0, t3.wnext = 0, Cu(e3)) : -2;
      }
      function Du(e3, t3) {
        var n3, o3;
        return e3 && e3.state ? (o3 = e3.state, t3 < 0 ? (n3 = 0, t3 = -t3) : (n3 = 1 + (t3 >> 4), t3 < 48 && (t3 &= 15)), t3 && (t3 < 8 || t3 > 15) ? -2 : (null !== o3.window && o3.wbits !== t3 && (o3.window = null), o3.wrap = n3, o3.wbits = t3, Tu(e3))) : -2;
      }
      function ku(e3, t3) {
        var n3, o3;
        return e3 ? (o3 = new Iu(), e3.state = o3, o3.window = null, 0 !== (n3 = Du(e3, t3)) && (e3.state = null), n3) : -2;
      }
      var Eu, Su, Lu = true;
      function Au(e3) {
        if (Lu) {
          var t3;
          for (Eu = new lu.Buf32(512), Su = new lu.Buf32(32), t3 = 0; t3 < 144; )
            e3.lens[t3++] = 8;
          for (; t3 < 256; )
            e3.lens[t3++] = 9;
          for (; t3 < 280; )
            e3.lens[t3++] = 7;
          for (; t3 < 288; )
            e3.lens[t3++] = 8;
          for (Mu(1, e3.lens, 0, 288, Eu, 0, e3.work, { bits: 9 }), t3 = 0; t3 < 32; )
            e3.lens[t3++] = 5;
          Mu(2, e3.lens, 0, 32, Su, 0, e3.work, { bits: 5 }), Lu = false;
        }
        e3.lencode = Eu, e3.lenbits = 9, e3.distcode = Su, e3.distbits = 5;
      }
      function Ru(e3, t3, n3, o3) {
        var s3, a3 = e3.state;
        return null === a3.window && (a3.wsize = 1 << a3.wbits, a3.wnext = 0, a3.whave = 0, a3.window = new lu.Buf8(a3.wsize)), o3 >= a3.wsize ? (lu.arraySet(a3.window, t3, n3 - a3.wsize, a3.wsize, 0), a3.wnext = 0, a3.whave = a3.wsize) : ((s3 = a3.wsize - a3.wnext) > o3 && (s3 = o3), lu.arraySet(a3.window, t3, n3 - o3, s3, a3.wnext), (o3 -= s3) ? (lu.arraySet(a3.window, t3, n3 - o3, o3, 0), a3.wnext = o3, a3.whave = a3.wsize) : (a3.wnext += s3, a3.wnext === a3.wsize && (a3.wnext = 0), a3.whave < a3.wsize && (a3.whave += s3))), 0;
      }
      var Nu = { inflateReset: Tu, inflateReset2: Du, inflateResetKeep: Cu, inflateInit: function(e3) {
        return ku(e3, 15);
      }, inflateInit2: ku, inflate: function(e3, t3) {
        var n3, o3, s3, a3, i3, r3, u3, c3, l3, d3, p3, g3, h3, _3, f3, v3, m3, M3, y3, I3, C3, T3, D3, k2, E3 = 0, S3 = new lu.Buf8(4), L3 = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
        if (!e3 || !e3.state || !e3.output || !e3.input && 0 !== e3.avail_in)
          return -2;
        12 === (n3 = e3.state).mode && (n3.mode = 13), i3 = e3.next_out, s3 = e3.output, u3 = e3.avail_out, a3 = e3.next_in, o3 = e3.input, r3 = e3.avail_in, c3 = n3.hold, l3 = n3.bits, d3 = r3, p3 = u3, T3 = 0;
        e:
          for (; ; )
            switch (n3.mode) {
              case 1:
                if (0 === n3.wrap) {
                  n3.mode = 13;
                  break;
                }
                for (; l3 < 16; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                if (2 & n3.wrap && 35615 === c3) {
                  n3.check = 0, S3[0] = 255 & c3, S3[1] = c3 >>> 8 & 255, n3.check = gu(n3.check, S3, 2, 0), c3 = 0, l3 = 0, n3.mode = 2;
                  break;
                }
                if (n3.flags = 0, n3.head && (n3.head.done = false), !(1 & n3.wrap) || (((255 & c3) << 8) + (c3 >> 8)) % 31) {
                  e3.msg = "incorrect header check", n3.mode = 30;
                  break;
                }
                if (8 != (15 & c3)) {
                  e3.msg = "unknown compression method", n3.mode = 30;
                  break;
                }
                if (l3 -= 4, C3 = 8 + (15 & (c3 >>>= 4)), 0 === n3.wbits)
                  n3.wbits = C3;
                else if (C3 > n3.wbits) {
                  e3.msg = "invalid window size", n3.mode = 30;
                  break;
                }
                n3.dmax = 1 << C3, e3.adler = n3.check = 1, n3.mode = 512 & c3 ? 10 : 12, c3 = 0, l3 = 0;
                break;
              case 2:
                for (; l3 < 16; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                if (n3.flags = c3, 8 != (255 & n3.flags)) {
                  e3.msg = "unknown compression method", n3.mode = 30;
                  break;
                }
                if (57344 & n3.flags) {
                  e3.msg = "unknown header flags set", n3.mode = 30;
                  break;
                }
                n3.head && (n3.head.text = c3 >> 8 & 1), 512 & n3.flags && (S3[0] = 255 & c3, S3[1] = c3 >>> 8 & 255, n3.check = gu(n3.check, S3, 2, 0)), c3 = 0, l3 = 0, n3.mode = 3;
              case 3:
                for (; l3 < 32; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                n3.head && (n3.head.time = c3), 512 & n3.flags && (S3[0] = 255 & c3, S3[1] = c3 >>> 8 & 255, S3[2] = c3 >>> 16 & 255, S3[3] = c3 >>> 24 & 255, n3.check = gu(n3.check, S3, 4, 0)), c3 = 0, l3 = 0, n3.mode = 4;
              case 4:
                for (; l3 < 16; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                n3.head && (n3.head.xflags = 255 & c3, n3.head.os = c3 >> 8), 512 & n3.flags && (S3[0] = 255 & c3, S3[1] = c3 >>> 8 & 255, n3.check = gu(n3.check, S3, 2, 0)), c3 = 0, l3 = 0, n3.mode = 5;
              case 5:
                if (1024 & n3.flags) {
                  for (; l3 < 16; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  n3.length = c3, n3.head && (n3.head.extra_len = c3), 512 & n3.flags && (S3[0] = 255 & c3, S3[1] = c3 >>> 8 & 255, n3.check = gu(n3.check, S3, 2, 0)), c3 = 0, l3 = 0;
                } else
                  n3.head && (n3.head.extra = null);
                n3.mode = 6;
              case 6:
                if (1024 & n3.flags && ((g3 = n3.length) > r3 && (g3 = r3), g3 && (n3.head && (C3 = n3.head.extra_len - n3.length, n3.head.extra || (n3.head.extra = new Array(n3.head.extra_len)), lu.arraySet(n3.head.extra, o3, a3, g3, C3)), 512 & n3.flags && (n3.check = gu(n3.check, o3, g3, a3)), r3 -= g3, a3 += g3, n3.length -= g3), n3.length))
                  break e;
                n3.length = 0, n3.mode = 7;
              case 7:
                if (2048 & n3.flags) {
                  if (0 === r3)
                    break e;
                  g3 = 0;
                  do {
                    C3 = o3[a3 + g3++], n3.head && C3 && n3.length < 65536 && (n3.head.name += String.fromCharCode(C3));
                  } while (C3 && g3 < r3);
                  if (512 & n3.flags && (n3.check = gu(n3.check, o3, g3, a3)), r3 -= g3, a3 += g3, C3)
                    break e;
                } else
                  n3.head && (n3.head.name = null);
                n3.length = 0, n3.mode = 8;
              case 8:
                if (4096 & n3.flags) {
                  if (0 === r3)
                    break e;
                  g3 = 0;
                  do {
                    C3 = o3[a3 + g3++], n3.head && C3 && n3.length < 65536 && (n3.head.comment += String.fromCharCode(C3));
                  } while (C3 && g3 < r3);
                  if (512 & n3.flags && (n3.check = gu(n3.check, o3, g3, a3)), r3 -= g3, a3 += g3, C3)
                    break e;
                } else
                  n3.head && (n3.head.comment = null);
                n3.mode = 9;
              case 9:
                if (512 & n3.flags) {
                  for (; l3 < 16; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  if (c3 !== (65535 & n3.check)) {
                    e3.msg = "header crc mismatch", n3.mode = 30;
                    break;
                  }
                  c3 = 0, l3 = 0;
                }
                n3.head && (n3.head.hcrc = n3.flags >> 9 & 1, n3.head.done = true), e3.adler = n3.check = 0, n3.mode = 12;
                break;
              case 10:
                for (; l3 < 32; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                e3.adler = n3.check = yu(c3), c3 = 0, l3 = 0, n3.mode = 11;
              case 11:
                if (0 === n3.havedict)
                  return e3.next_out = i3, e3.avail_out = u3, e3.next_in = a3, e3.avail_in = r3, n3.hold = c3, n3.bits = l3, 2;
                e3.adler = n3.check = 1, n3.mode = 12;
              case 12:
                if (5 === t3 || 6 === t3)
                  break e;
              case 13:
                if (n3.last) {
                  c3 >>>= 7 & l3, l3 -= 7 & l3, n3.mode = 27;
                  break;
                }
                for (; l3 < 3; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                switch (n3.last = 1 & c3, l3 -= 1, 3 & (c3 >>>= 1)) {
                  case 0:
                    n3.mode = 14;
                    break;
                  case 1:
                    if (Au(n3), n3.mode = 20, 6 === t3) {
                      c3 >>>= 2, l3 -= 2;
                      break e;
                    }
                    break;
                  case 2:
                    n3.mode = 17;
                    break;
                  case 3:
                    e3.msg = "invalid block type", n3.mode = 30;
                }
                c3 >>>= 2, l3 -= 2;
                break;
              case 14:
                for (c3 >>>= 7 & l3, l3 -= 7 & l3; l3 < 32; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                if ((65535 & c3) != (c3 >>> 16 ^ 65535)) {
                  e3.msg = "invalid stored block lengths", n3.mode = 30;
                  break;
                }
                if (n3.length = 65535 & c3, c3 = 0, l3 = 0, n3.mode = 15, 6 === t3)
                  break e;
              case 15:
                n3.mode = 16;
              case 16:
                if (g3 = n3.length) {
                  if (g3 > r3 && (g3 = r3), g3 > u3 && (g3 = u3), 0 === g3)
                    break e;
                  lu.arraySet(s3, o3, a3, g3, i3), r3 -= g3, a3 += g3, u3 -= g3, i3 += g3, n3.length -= g3;
                  break;
                }
                n3.mode = 12;
                break;
              case 17:
                for (; l3 < 14; ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                if (n3.nlen = 257 + (31 & c3), c3 >>>= 5, l3 -= 5, n3.ndist = 1 + (31 & c3), c3 >>>= 5, l3 -= 5, n3.ncode = 4 + (15 & c3), c3 >>>= 4, l3 -= 4, n3.nlen > 286 || n3.ndist > 30) {
                  e3.msg = "too many length or distance symbols", n3.mode = 30;
                  break;
                }
                n3.have = 0, n3.mode = 18;
              case 18:
                for (; n3.have < n3.ncode; ) {
                  for (; l3 < 3; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  n3.lens[L3[n3.have++]] = 7 & c3, c3 >>>= 3, l3 -= 3;
                }
                for (; n3.have < 19; )
                  n3.lens[L3[n3.have++]] = 0;
                if (n3.lencode = n3.lendyn, n3.lenbits = 7, D3 = { bits: n3.lenbits }, T3 = Mu(0, n3.lens, 0, 19, n3.lencode, 0, n3.work, D3), n3.lenbits = D3.bits, T3) {
                  e3.msg = "invalid code lengths set", n3.mode = 30;
                  break;
                }
                n3.have = 0, n3.mode = 19;
              case 19:
                for (; n3.have < n3.nlen + n3.ndist; ) {
                  for (; v3 = (E3 = n3.lencode[c3 & (1 << n3.lenbits) - 1]) >>> 16 & 255, m3 = 65535 & E3, !((f3 = E3 >>> 24) <= l3); ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  if (m3 < 16)
                    c3 >>>= f3, l3 -= f3, n3.lens[n3.have++] = m3;
                  else {
                    if (16 === m3) {
                      for (k2 = f3 + 2; l3 < k2; ) {
                        if (0 === r3)
                          break e;
                        r3--, c3 += o3[a3++] << l3, l3 += 8;
                      }
                      if (c3 >>>= f3, l3 -= f3, 0 === n3.have) {
                        e3.msg = "invalid bit length repeat", n3.mode = 30;
                        break;
                      }
                      C3 = n3.lens[n3.have - 1], g3 = 3 + (3 & c3), c3 >>>= 2, l3 -= 2;
                    } else if (17 === m3) {
                      for (k2 = f3 + 3; l3 < k2; ) {
                        if (0 === r3)
                          break e;
                        r3--, c3 += o3[a3++] << l3, l3 += 8;
                      }
                      l3 -= f3, C3 = 0, g3 = 3 + (7 & (c3 >>>= f3)), c3 >>>= 3, l3 -= 3;
                    } else {
                      for (k2 = f3 + 7; l3 < k2; ) {
                        if (0 === r3)
                          break e;
                        r3--, c3 += o3[a3++] << l3, l3 += 8;
                      }
                      l3 -= f3, C3 = 0, g3 = 11 + (127 & (c3 >>>= f3)), c3 >>>= 7, l3 -= 7;
                    }
                    if (n3.have + g3 > n3.nlen + n3.ndist) {
                      e3.msg = "invalid bit length repeat", n3.mode = 30;
                      break;
                    }
                    for (; g3--; )
                      n3.lens[n3.have++] = C3;
                  }
                }
                if (30 === n3.mode)
                  break;
                if (0 === n3.lens[256]) {
                  e3.msg = "invalid code -- missing end-of-block", n3.mode = 30;
                  break;
                }
                if (n3.lenbits = 9, D3 = { bits: n3.lenbits }, T3 = Mu(1, n3.lens, 0, n3.nlen, n3.lencode, 0, n3.work, D3), n3.lenbits = D3.bits, T3) {
                  e3.msg = "invalid literal/lengths set", n3.mode = 30;
                  break;
                }
                if (n3.distbits = 6, n3.distcode = n3.distdyn, D3 = { bits: n3.distbits }, T3 = Mu(2, n3.lens, n3.nlen, n3.ndist, n3.distcode, 0, n3.work, D3), n3.distbits = D3.bits, T3) {
                  e3.msg = "invalid distances set", n3.mode = 30;
                  break;
                }
                if (n3.mode = 20, 6 === t3)
                  break e;
              case 20:
                n3.mode = 21;
              case 21:
                if (r3 >= 6 && u3 >= 258) {
                  e3.next_out = i3, e3.avail_out = u3, e3.next_in = a3, e3.avail_in = r3, n3.hold = c3, n3.bits = l3, hu(e3, p3), i3 = e3.next_out, s3 = e3.output, u3 = e3.avail_out, a3 = e3.next_in, o3 = e3.input, r3 = e3.avail_in, c3 = n3.hold, l3 = n3.bits, 12 === n3.mode && (n3.back = -1);
                  break;
                }
                for (n3.back = 0; v3 = (E3 = n3.lencode[c3 & (1 << n3.lenbits) - 1]) >>> 16 & 255, m3 = 65535 & E3, !((f3 = E3 >>> 24) <= l3); ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                if (v3 && 0 == (240 & v3)) {
                  for (M3 = f3, y3 = v3, I3 = m3; v3 = (E3 = n3.lencode[I3 + ((c3 & (1 << M3 + y3) - 1) >> M3)]) >>> 16 & 255, m3 = 65535 & E3, !(M3 + (f3 = E3 >>> 24) <= l3); ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  c3 >>>= M3, l3 -= M3, n3.back += M3;
                }
                if (c3 >>>= f3, l3 -= f3, n3.back += f3, n3.length = m3, 0 === v3) {
                  n3.mode = 26;
                  break;
                }
                if (32 & v3) {
                  n3.back = -1, n3.mode = 12;
                  break;
                }
                if (64 & v3) {
                  e3.msg = "invalid literal/length code", n3.mode = 30;
                  break;
                }
                n3.extra = 15 & v3, n3.mode = 22;
              case 22:
                if (n3.extra) {
                  for (k2 = n3.extra; l3 < k2; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  n3.length += c3 & (1 << n3.extra) - 1, c3 >>>= n3.extra, l3 -= n3.extra, n3.back += n3.extra;
                }
                n3.was = n3.length, n3.mode = 23;
              case 23:
                for (; v3 = (E3 = n3.distcode[c3 & (1 << n3.distbits) - 1]) >>> 16 & 255, m3 = 65535 & E3, !((f3 = E3 >>> 24) <= l3); ) {
                  if (0 === r3)
                    break e;
                  r3--, c3 += o3[a3++] << l3, l3 += 8;
                }
                if (0 == (240 & v3)) {
                  for (M3 = f3, y3 = v3, I3 = m3; v3 = (E3 = n3.distcode[I3 + ((c3 & (1 << M3 + y3) - 1) >> M3)]) >>> 16 & 255, m3 = 65535 & E3, !(M3 + (f3 = E3 >>> 24) <= l3); ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  c3 >>>= M3, l3 -= M3, n3.back += M3;
                }
                if (c3 >>>= f3, l3 -= f3, n3.back += f3, 64 & v3) {
                  e3.msg = "invalid distance code", n3.mode = 30;
                  break;
                }
                n3.offset = m3, n3.extra = 15 & v3, n3.mode = 24;
              case 24:
                if (n3.extra) {
                  for (k2 = n3.extra; l3 < k2; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  n3.offset += c3 & (1 << n3.extra) - 1, c3 >>>= n3.extra, l3 -= n3.extra, n3.back += n3.extra;
                }
                if (n3.offset > n3.dmax) {
                  e3.msg = "invalid distance too far back", n3.mode = 30;
                  break;
                }
                n3.mode = 25;
              case 25:
                if (0 === u3)
                  break e;
                if (g3 = p3 - u3, n3.offset > g3) {
                  if ((g3 = n3.offset - g3) > n3.whave && n3.sane) {
                    e3.msg = "invalid distance too far back", n3.mode = 30;
                    break;
                  }
                  g3 > n3.wnext ? (g3 -= n3.wnext, h3 = n3.wsize - g3) : h3 = n3.wnext - g3, g3 > n3.length && (g3 = n3.length), _3 = n3.window;
                } else
                  _3 = s3, h3 = i3 - n3.offset, g3 = n3.length;
                g3 > u3 && (g3 = u3), u3 -= g3, n3.length -= g3;
                do {
                  s3[i3++] = _3[h3++];
                } while (--g3);
                0 === n3.length && (n3.mode = 21);
                break;
              case 26:
                if (0 === u3)
                  break e;
                s3[i3++] = n3.length, u3--, n3.mode = 21;
                break;
              case 27:
                if (n3.wrap) {
                  for (; l3 < 32; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 |= o3[a3++] << l3, l3 += 8;
                  }
                  if (p3 -= u3, e3.total_out += p3, n3.total += p3, p3 && (e3.adler = n3.check = n3.flags ? gu(n3.check, s3, p3, i3 - p3) : du(n3.check, s3, p3, i3 - p3)), p3 = u3, (n3.flags ? c3 : yu(c3)) !== n3.check) {
                    e3.msg = "incorrect data check", n3.mode = 30;
                    break;
                  }
                  c3 = 0, l3 = 0;
                }
                n3.mode = 28;
              case 28:
                if (n3.wrap && n3.flags) {
                  for (; l3 < 32; ) {
                    if (0 === r3)
                      break e;
                    r3--, c3 += o3[a3++] << l3, l3 += 8;
                  }
                  if (c3 !== (4294967295 & n3.total)) {
                    e3.msg = "incorrect length check", n3.mode = 30;
                    break;
                  }
                  c3 = 0, l3 = 0;
                }
                n3.mode = 29;
              case 29:
                T3 = 1;
                break e;
              case 30:
                T3 = -3;
                break e;
              case 31:
                return -4;
              case 32:
              default:
                return -2;
            }
        return e3.next_out = i3, e3.avail_out = u3, e3.next_in = a3, e3.avail_in = r3, n3.hold = c3, n3.bits = l3, (n3.wsize || p3 !== e3.avail_out && n3.mode < 30 && (n3.mode < 27 || 4 !== t3)) && Ru(e3, e3.output, e3.next_out, p3 - e3.avail_out), d3 -= e3.avail_in, p3 -= e3.avail_out, e3.total_in += d3, e3.total_out += p3, n3.total += p3, n3.wrap && p3 && (e3.adler = n3.check = n3.flags ? gu(n3.check, s3, p3, e3.next_out - p3) : du(n3.check, s3, p3, e3.next_out - p3)), e3.data_type = n3.bits + (n3.last ? 64 : 0) + (12 === n3.mode ? 128 : 0) + (20 === n3.mode || 15 === n3.mode ? 256 : 0), (0 === d3 && 0 === p3 || 4 === t3) && 0 === T3 && (T3 = -5), T3;
      }, inflateEnd: function(e3) {
        if (!e3 || !e3.state)
          return -2;
        var t3 = e3.state;
        return t3.window && (t3.window = null), e3.state = null, 0;
      }, inflateGetHeader: function(e3, t3) {
        var n3;
        return e3 && e3.state ? 0 == (2 & (n3 = e3.state).wrap) ? -2 : (n3.head = t3, t3.done = false, 0) : -2;
      }, inflateSetDictionary: function(e3, t3) {
        var n3, o3 = t3.length;
        return e3 && e3.state ? 0 !== (n3 = e3.state).wrap && 11 !== n3.mode ? -2 : 11 === n3.mode && du(1, t3, o3, 0) !== n3.check ? -3 : Ru(e3, t3, o3, o3) ? (n3.mode = 31, -4) : (n3.havedict = 1, 0) : -2;
      }, inflateInfo: "pako inflate (from Nodeca project)" }, Ou = true, Gu = true;
      try {
        String.fromCharCode.apply(null, [0]);
      } catch (ac) {
        Ou = false;
      }
      try {
        String.fromCharCode.apply(null, new Uint8Array(1));
      } catch (ac) {
        Gu = false;
      }
      for (var Uu = new lu.Buf8(256), Pu = 0; Pu < 256; Pu++)
        Uu[Pu] = Pu >= 252 ? 6 : Pu >= 248 ? 5 : Pu >= 240 ? 4 : Pu >= 224 ? 3 : Pu >= 192 ? 2 : 1;
      Uu[254] = Uu[254] = 1;
      function bu(e3, t3) {
        if (t3 < 65534 && (e3.subarray && Gu || !e3.subarray && Ou))
          return String.fromCharCode.apply(null, lu.shrinkBuf(e3, t3));
        for (var n3 = "", o3 = 0; o3 < t3; o3++)
          n3 += String.fromCharCode(e3[o3]);
        return n3;
      }
      var wu = function(e3) {
        var t3, n3, o3, s3, a3, i3 = e3.length, r3 = 0;
        for (s3 = 0; s3 < i3; s3++)
          55296 == (64512 & (n3 = e3.charCodeAt(s3))) && s3 + 1 < i3 && 56320 == (64512 & (o3 = e3.charCodeAt(s3 + 1))) && (n3 = 65536 + (n3 - 55296 << 10) + (o3 - 56320), s3++), r3 += n3 < 128 ? 1 : n3 < 2048 ? 2 : n3 < 65536 ? 3 : 4;
        for (t3 = new lu.Buf8(r3), a3 = 0, s3 = 0; a3 < r3; s3++)
          55296 == (64512 & (n3 = e3.charCodeAt(s3))) && s3 + 1 < i3 && 56320 == (64512 & (o3 = e3.charCodeAt(s3 + 1))) && (n3 = 65536 + (n3 - 55296 << 10) + (o3 - 56320), s3++), n3 < 128 ? t3[a3++] = n3 : n3 < 2048 ? (t3[a3++] = 192 | n3 >>> 6, t3[a3++] = 128 | 63 & n3) : n3 < 65536 ? (t3[a3++] = 224 | n3 >>> 12, t3[a3++] = 128 | n3 >>> 6 & 63, t3[a3++] = 128 | 63 & n3) : (t3[a3++] = 240 | n3 >>> 18, t3[a3++] = 128 | n3 >>> 12 & 63, t3[a3++] = 128 | n3 >>> 6 & 63, t3[a3++] = 128 | 63 & n3);
        return t3;
      }, Fu = function(e3) {
        for (var t3 = new lu.Buf8(e3.length), n3 = 0, o3 = t3.length; n3 < o3; n3++)
          t3[n3] = e3.charCodeAt(n3);
        return t3;
      }, qu = function(e3, t3) {
        var n3, o3, s3, a3, i3 = t3 || e3.length, r3 = new Array(2 * i3);
        for (o3 = 0, n3 = 0; n3 < i3; )
          if ((s3 = e3[n3++]) < 128)
            r3[o3++] = s3;
          else if ((a3 = Uu[s3]) > 4)
            r3[o3++] = 65533, n3 += a3 - 1;
          else {
            for (s3 &= 2 === a3 ? 31 : 3 === a3 ? 15 : 7; a3 > 1 && n3 < i3; )
              s3 = s3 << 6 | 63 & e3[n3++], a3--;
            a3 > 1 ? r3[o3++] = 65533 : s3 < 65536 ? r3[o3++] = s3 : (s3 -= 65536, r3[o3++] = 55296 | s3 >> 10 & 1023, r3[o3++] = 56320 | 1023 & s3);
          }
        return bu(r3, o3);
      }, xu = function(e3, t3) {
        var n3;
        for ((t3 = t3 || e3.length) > e3.length && (t3 = e3.length), n3 = t3 - 1; n3 >= 0 && 128 == (192 & e3[n3]); )
          n3--;
        return n3 < 0 || 0 === n3 ? t3 : n3 + Uu[e3[n3]] > t3 ? n3 : t3;
      }, Vu = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 }, Bu = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
      var Hu = function() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
      };
      var Ku = function() {
        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
      }, Wu = Object.prototype.toString;
      function Yu(e3) {
        if (!(this instanceof Yu))
          return new Yu(e3);
        this.options = lu.assign({ chunkSize: 16384, windowBits: 0, to: "" }, e3 || {});
        var t3 = this.options;
        t3.raw && t3.windowBits >= 0 && t3.windowBits < 16 && (t3.windowBits = -t3.windowBits, 0 === t3.windowBits && (t3.windowBits = -15)), !(t3.windowBits >= 0 && t3.windowBits < 16) || e3 && e3.windowBits || (t3.windowBits += 32), t3.windowBits > 15 && t3.windowBits < 48 && 0 == (15 & t3.windowBits) && (t3.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new Hu(), this.strm.avail_out = 0;
        var n3 = Nu.inflateInit2(this.strm, t3.windowBits);
        if (n3 !== Vu.Z_OK)
          throw new Error(Bu[n3]);
        if (this.header = new Ku(), Nu.inflateGetHeader(this.strm, this.header), t3.dictionary && ("string" == typeof t3.dictionary ? t3.dictionary = wu(t3.dictionary) : "[object ArrayBuffer]" === Wu.call(t3.dictionary) && (t3.dictionary = new Uint8Array(t3.dictionary)), t3.raw && (n3 = Nu.inflateSetDictionary(this.strm, t3.dictionary)) !== Vu.Z_OK))
          throw new Error(Bu[n3]);
      }
      function ju(e3, t3) {
        var n3 = new Yu(t3);
        if (n3.push(e3, true), n3.err)
          throw n3.msg || Bu[n3.err];
        return n3.result;
      }
      Yu.prototype.push = function(e3, t3) {
        var n3, o3, s3, a3, i3, r3 = this.strm, u3 = this.options.chunkSize, c3 = this.options.dictionary, l3 = false;
        if (this.ended)
          return false;
        o3 = t3 === ~~t3 ? t3 : true === t3 ? Vu.Z_FINISH : Vu.Z_NO_FLUSH, "string" == typeof e3 ? r3.input = Fu(e3) : "[object ArrayBuffer]" === Wu.call(e3) ? r3.input = new Uint8Array(e3) : r3.input = e3, r3.next_in = 0, r3.avail_in = r3.input.length;
        do {
          if (0 === r3.avail_out && (r3.output = new lu.Buf8(u3), r3.next_out = 0, r3.avail_out = u3), (n3 = Nu.inflate(r3, Vu.Z_NO_FLUSH)) === Vu.Z_NEED_DICT && c3 && (n3 = Nu.inflateSetDictionary(this.strm, c3)), n3 === Vu.Z_BUF_ERROR && true === l3 && (n3 = Vu.Z_OK, l3 = false), n3 !== Vu.Z_STREAM_END && n3 !== Vu.Z_OK)
            return this.onEnd(n3), this.ended = true, false;
          r3.next_out && (0 !== r3.avail_out && n3 !== Vu.Z_STREAM_END && (0 !== r3.avail_in || o3 !== Vu.Z_FINISH && o3 !== Vu.Z_SYNC_FLUSH) || ("string" === this.options.to ? (s3 = xu(r3.output, r3.next_out), a3 = r3.next_out - s3, i3 = qu(r3.output, s3), r3.next_out = a3, r3.avail_out = u3 - a3, a3 && lu.arraySet(r3.output, r3.output, s3, a3, 0), this.onData(i3)) : this.onData(lu.shrinkBuf(r3.output, r3.next_out)))), 0 === r3.avail_in && 0 === r3.avail_out && (l3 = true);
        } while ((r3.avail_in > 0 || 0 === r3.avail_out) && n3 !== Vu.Z_STREAM_END);
        return n3 === Vu.Z_STREAM_END && (o3 = Vu.Z_FINISH), o3 === Vu.Z_FINISH ? (n3 = Nu.inflateEnd(this.strm), this.onEnd(n3), this.ended = true, n3 === Vu.Z_OK) : o3 !== Vu.Z_SYNC_FLUSH || (this.onEnd(Vu.Z_OK), r3.avail_out = 0, true);
      }, Yu.prototype.onData = function(e3) {
        this.chunks.push(e3);
      }, Yu.prototype.onEnd = function(e3) {
        e3 === Vu.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = lu.flattenChunks(this.chunks)), this.chunks = [], this.err = e3, this.msg = this.strm.msg;
      };
      var zu = { Inflate: Yu, inflate: ju, inflateRaw: function(e3, t3) {
        return (t3 = t3 || {}).raw = true, ju(e3, t3);
      }, ungzip: ju }, Ju = {};
      (0, lu.assign)(Ju, zu, Vu);
      var Xu = Ju, Zu = function() {
        function e3(t3) {
          o2(this, e3), this._m = t3, this._n = "InflateModule", this._bLogForInflateOK = false, this._bLogForInflateError = false;
        }
        return a2(e3, [{ key: "inflate", value: function(e4) {
          var t3, n3 = new Uint8Array(e4).slice(4), o3 = Date.now();
          try {
            t3 = Xu.inflate(n3, { to: "string" }), this._bLogForInflateOK || (this._bLogForInflateOK = true, new Aa("inflateOK").end());
          } catch (i3) {
            if (this._bLogForInflateError)
              return;
            return this._bLogForInflateError = true, void new Aa("inflateError").setMessage(i3).end();
          }
          var s3 = n3.length + 4, a3 = t3.length;
          return Ve2.d("inflate ok. zipped:".concat(s3, " unzipped:").concat(a3) + " compression ratio:".concat(Math.round(100 * (a3 - s3) / a3), "% cost:").concat(Date.now() - o3)), t3;
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), this._bLogForInflateOK = false, this._bLogForInflateError = false;
        } }]), e3;
      }(), Qu = function() {
        function e3(t3) {
          o2(this, e3);
          var n3 = new Aa("sdkConstruct");
          this._n = "ModuleManager", this._isReady = false, this._reason = ha.USER_NOT_LOGGED_IN, this._startLoginTs = 0, this._moduleMap = /* @__PURE__ */ new Map(), this._innerEmitter = null, this._outerEmitter = null, this._checkCount = 0, this._checkTimer = -1, this._moduleMap.set(xn, new Qi(this, t3)), this._moduleMap.set(ro, new Zu(this)), this._moduleMap.set(to, new au(this)), this._moduleMap.set(Zn2, new Xr(this)), this._moduleMap.set(Qn2, new ou(this)), this._moduleMap.set(eo, new nu(this)), this._moduleMap.set(Jn2, new Vr(this)), this._moduleMap.set(zn2, new zr(this)), this._moduleMap.set(Rn, new $i(this)), this._moduleMap.set(Nn, new Mr(this)), this._moduleMap.set(On, new yr(this)), this._moduleMap.set(ao, new Ir(this)), this._moduleMap.set(Gn2, new Zi(this)), this._moduleMap.set(Un, new Qa(this)), this._moduleMap.set(qn, new Mi(this)), this._moduleMap.set(Pn, new qi(this)), this._moduleMap.set(wn, new Vi(this)), this._moduleMap.set(Fn, new Wi(this)), this._moduleMap.set(Vn2, new tr2(this)), this._moduleMap.set(io, new cu(this)), this._moduleMap.set(Bn, new sr(this)), this._moduleMap.set(Hn2, new ur(this)), this._moduleMap.set(Kn2, new dr(this)), this._moduleMap.set(Wn, new gr(this)), this._moduleMap.set(Yn2, new Cr(this)), this._moduleMap.set(jn, new Tr(this)), this._moduleMap.set(Xn2, new Jr(this)), this._moduleMap.set($n, new Zr(this)), this._moduleMap.set(no, new iu(this)), this._moduleMap.set(oo, new ru(this)), this._moduleMap.set(so, new uu(this)), this._eventThrottleMap = /* @__PURE__ */ new Map();
          var s3 = t3.instanceID, a3 = t3.oversea, i3 = t3.SDKAppID, r3 = "instanceID:".concat(s3, " SDKAppID:").concat(i3, " host:").concat(Ot2(), " oversea:").concat(a3, " inBrowser:").concat(ie2, " inMiniApp:").concat(ae2) + " canIUseInflate:".concat(this.canIUseInflate()) + " workerAvailable:".concat(Se2, " UserAgent:").concat(ue2);
          Aa.bindEventStatModule(this._moduleMap.get(Bn)), n3.setMessage("".concat(r3, " ").concat(function() {
            var e4 = "";
            if (ae2)
              try {
                var t4 = re2.getSystemInfoSync(), n4 = t4.model, o3 = t4.version, s4 = t4.system, a4 = t4.platform, i4 = t4.SDKVersion;
                e4 = "model:".concat(n4, " version:").concat(o3, " system:").concat(s4, " platform:").concat(a4, " SDKVersion:").concat(i4);
              } catch (r4) {
                e4 = "";
              }
            return e4;
          }())).end(), Ve2.i("SDK ".concat(r3)), ja.prototype._getErrorMessage = this.getErrorMessage.bind(this), this._readyList = void 0, this._ssoLogForReady = null, this._initReadyList();
        }
        return a2(e3, [{ key: "_startTimer", value: function() {
          var e4 = this._moduleMap.get(Qn2), t3 = e4.isWorkerEnabled();
          Ve2.l("".concat(this._n, ".startTimer isWorkerEnabled:").concat(t3, " seed:").concat(this._checkTimer)), t3 ? e4.startWorkerTimer() : this._startMainThreadTimer();
        } }, { key: "_startMainThreadTimer", value: function() {
          this._checkTimer < 0 && (this._checkTimer = setInterval(this.onCheckTimer.bind(this), 1e3)), Ve2.l("".concat(this._n, "._startMainThreadTimer seed:").concat(this._checkTimer));
        } }, { key: "stopTimer", value: function() {
          var e4 = this._moduleMap.get(Qn2), t3 = e4.isWorkerEnabled();
          Ve2.l("".concat(this._n, ".stopTimer isWorkerEnabled:").concat(t3, " seed:").concat(this._checkTimer)), t3 ? e4.stopWorkerTimer() : this._stopMainThreadTimer();
        } }, { key: "_stopMainThreadTimer", value: function() {
          Ve2.l("".concat(this._n, "._stopMainThreadTimer")), this._checkTimer > 0 && (clearInterval(this._checkTimer), this._checkTimer = -1, this._checkCount = 0);
        } }, { key: "_stopMainThreadSocket", value: function() {
          Ve2.l("".concat(this._n, "._stopMainThreadSocket"));
          var e4 = this._moduleMap.get(Jn2);
          e4.setIsWorkerEnabled(true), e4.reConnect();
        } }, { key: "_startMainThreadSocket", value: function() {
          Ve2.l("".concat(this._n, "._startMainThreadSocket"));
          var e4 = this._moduleMap.get(Jn2);
          e4.setIsWorkerEnabled(false), e4.reConnect();
        } }, { key: "onWorkerTimerEnabled", value: function() {
          Ve2.l("".concat(this._n, ".onWorkerTimerEnabled, disable main thread timer and socket")), this._stopMainThreadTimer(), this._stopMainThreadSocket();
        } }, { key: "onWorkerTimerDisabled", value: function() {
          Ve2.l("".concat(this._n, ".onWorkerTimerDisabled, enable main thread timer and socket")), this._startMainThreadTimer(), this._startMainThreadSocket();
        } }, { key: "onCheckTimer", value: function() {
          this._checkCount += 1;
          var e4, t3 = D2(this._moduleMap);
          try {
            for (t3.s(); !(e4 = t3.n()).done; ) {
              var n3 = v2(e4.value, 2)[1];
              n3.onCheckTimer && n3.onCheckTimer(this._checkCount);
            }
          } catch (o3) {
            t3.e(o3);
          } finally {
            t3.f();
          }
        } }, { key: "_initReadyList", value: function() {
          var e4 = this;
          this._readyList = [this._moduleMap.get(Rn), this._moduleMap.get(qn)], this._readyList.forEach(function(t3) {
            t3.ready(function() {
              return e4._onModuleReady();
            });
          });
        } }, { key: "_onModuleReady", value: function() {
          var e4 = true;
          if (this._readyList.forEach(function(t4) {
            t4.isReady() || (e4 = false);
          }), e4 && !this._isReady) {
            this._isReady = true, this._outerEmitter.emit(k.SDK_READY);
            var t3 = Date.now() - this._startLoginTs;
            Ve2.w("SDK is ready. cost ".concat(t3, " ms")), this._startLoginTs = Date.now();
            var n3 = this._moduleMap.get(Hn2).getNetworkType(), o3 = this._ssoLogForReady.getStartTs() + Ue2;
            this._ssoLogForReady.setNetworkType(n3).setMessage(t3).start(o3).end();
          }
        } }, { key: "login", value: function() {
          0 === this._startLoginTs && (be2(), this._startLoginTs = Date.now(), this._startTimer(), this._moduleMap.get(Hn2).start(), this._ssoLogForReady = new Aa("sdkReady"), this._reason = ha.LOGGING_IN);
        } }, { key: "onLoginFailed", value: function() {
          this._startLoginTs = 0;
        } }, { key: "getOuterEmitterInstance", value: function() {
          return null === this._outerEmitter && (this._outerEmitter = new lr(), Ja(this._outerEmitter), this._outerEmitter._emit = this._outerEmitter.emit, this._outerEmitter.emit = (function(e4, t3) {
            var n3 = this;
            if (e4 === k.CONVERSATION_LIST_UPDATED || e4 === k.FRIEND_LIST_UPDATED || e4 === k.GROUP_LIST_UPDATED || e4 === k.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED)
              if (this._eventThrottleMap.has(e4)) {
                var o3 = Date.now(), s3 = this._eventThrottleMap.get(e4);
                o3 - s3.last <= 1e3 ? (s3.timeoutID && clearTimeout(s3.timeoutID), s3.timeoutID = setTimeout(function() {
                  s3.last = Date.now(), n3._outerEmitter._emit.apply(n3._outerEmitter, [e4, { name: e4, data: n3._getEventData(e4) }]);
                }, 1e3)) : (s3.last = o3, this._outerEmitter._emit.apply(this._outerEmitter, [e4, { name: e4, data: this._getEventData(e4) }]));
              } else
                this._eventThrottleMap.set(e4, { last: Date.now(), timeoutID: -1 }), this._outerEmitter._emit.apply(this._outerEmitter, [e4, { name: e4, data: this._getEventData(e4) }]);
            else
              this._outerEmitter._emit.apply(this._outerEmitter, [e4, { name: e4, data: arguments[1] }]);
          }).bind(this)), this._outerEmitter;
        } }, { key: "_getEventData", value: function(e4) {
          return e4 === k.CONVERSATION_LIST_UPDATED ? this._moduleMap.get(qn).getLocalConversationList() : e4 === k.FRIEND_LIST_UPDATED ? this._moduleMap.get(bn).getLocalFriendList(false) : e4 === k.GROUP_LIST_UPDATED ? this._moduleMap.get(Pn).getLocalGroupList() : e4 === k.TOTAL_UNREAD_MESSAGE_COUNT_UPDATED ? this._moduleMap.get(qn).getTotalUnreadMessageCount() : void 0;
        } }, { key: "getInnerEmitterInstance", value: function() {
          return null === this._innerEmitter && (this._innerEmitter = new lr(), this._innerEmitter._emit = this._innerEmitter.emit, this._innerEmitter.emit = (function(e4, t3) {
            var n3;
            n3 = st2(arguments[1]) && arguments[1].data ? [e4, { name: arguments[0], data: arguments[1].data }] : [e4, { name: arguments[0], data: arguments[1] }], this._innerEmitter._emit.apply(this._innerEmitter, n3);
          }).bind(this)), this._innerEmitter;
        } }, { key: "hasModule", value: function(e4) {
          return this._moduleMap.has(e4);
        } }, { key: "getModule", value: function(e4) {
          return this._moduleMap.get(e4);
        } }, { key: "canIUseInflate", value: function() {
          return !!this._moduleMap.get(ro);
        } }, { key: "isReady", value: function() {
          return this._isReady;
        } }, { key: "isIntl", value: function() {
          return this.getModule(xn).isIntl();
        } }, { key: "getNotReadyReason", value: function() {
          return this._reason;
        } }, { key: "setNotReadyReason", value: function(e4) {
          this._reason = e4;
        } }, { key: "getErrorMessage", value: function(e4, t3, n3) {
          return this._moduleMap.get(io).get({ key: e4, replacement1: t3, replacement2: n3, isIntl: this.isIntl() });
        } }, { key: "outputWarning", value: function(e4, t3, n3) {
          var o3 = this.getErrorMessage(e4, t3, n3);
          o3 && Ve2.w(o3);
        } }, { key: "onError", value: function(e4) {
          var t3 = "code:".concat(e4.code, " message:").concat(e4.message);
          Ve2.w("Oops! ".concat(t3)), new Aa("error").setMessage(t3).setNetworkType(this.getModule(Hn2).getNetworkType()).setLevel("error").end(), this.getOuterEmitterInstance().emit(k.ERROR, e4);
        } }, { key: "restartTimer", value: function() {
          Ve2.l("".concat(this._n, ".restartTimer")), this.stopTimer(), this._startTimer(), this.getModule(Pn).restartPolling();
        } }, { key: "getTimerID", value: function() {
          var e4 = this._moduleMap.get(Qn2);
          return e4.isWorkerEnabled() ? e4.getTimerID() : this._checkTimer;
        } }, { key: "getPollingTimerID", value: function(e4) {
          return this._moduleMap.get(Pn).getPollingTimerID(e4);
        } }, { key: "reset", value: function() {
          Ve2.l("".concat(this._n, ".reset")), be2();
          var e4, t3 = D2(this._moduleMap);
          try {
            for (t3.s(); !(e4 = t3.n()).done; ) {
              var n3 = v2(e4.value, 2)[1];
              n3.reset && n3.reset();
            }
          } catch (i3) {
            t3.e(i3);
          } finally {
            t3.f();
          }
          this._startLoginTs = 0, this._initReadyList(), this._isReady = false, this.stopTimer(), this._outerEmitter.emit(k.SDK_NOT_READY);
          var o3, s3 = D2(this._eventThrottleMap);
          try {
            for (s3.s(); !(o3 = s3.n()).done; ) {
              var a3 = v2(o3.value, 2)[1];
              a3.timeoutID && clearTimeout(a3.timeoutID);
            }
          } catch (i3) {
            s3.e(i3);
          } finally {
            s3.f();
          }
          this._eventThrottleMap.clear();
        } }]), e3;
      }(), $u2 = function() {
        function e3(t3) {
          o2(this, e3), this._funcMap = /* @__PURE__ */ new Map(), this._m = t3;
        }
        return a2(e3, [{ key: "defense", value: function(e4, t3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;
          if ("string" != typeof e4)
            return null;
          if (0 === e4.length)
            return null;
          if ("function" != typeof t3)
            return null;
          if (this._funcMap.has(e4) && this._funcMap.get(e4).has(t3))
            return this._funcMap.get(e4).get(t3);
          this._funcMap.has(e4) || this._funcMap.set(e4, /* @__PURE__ */ new Map());
          var o3 = null;
          return this._funcMap.get(e4).has(t3) ? o3 = this._funcMap.get(e4).get(t3) : (o3 = this._pack(e4, t3, n3), this._funcMap.get(e4).set(t3, o3)), o3;
        } }, { key: "defenseOnce", value: function(e4, t3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;
          return "function" != typeof t3 ? null : this._pack(e4, t3, n3);
        } }, { key: "find", value: function(e4, t3) {
          return "string" != typeof e4 || 0 === e4.length || "function" != typeof t3 ? null : this._funcMap.has(e4) && this._funcMap.get(e4).has(t3) ? this._funcMap.get(e4).get(t3) : (this._m.outputWarning("ListenerFnNotFound", e4), null);
        } }, { key: "delete", value: function(e4, t3) {
          return "function" == typeof t3 && (!!this._funcMap.has(e4) && (!!this._funcMap.get(e4).has(t3) && (this._funcMap.get(e4).delete(t3), 0 === this._funcMap.get(e4).size && this._funcMap.delete(e4), true)));
        } }, { key: "_pack", value: function(e4, t3, n3) {
          var o3 = this;
          return function() {
            try {
              t3.apply(n3, Array.from(arguments));
            } catch (u3) {
              var s3 = Object.values(k).indexOf(e4), a3 = "CallbackError";
              if (-1 !== s3) {
                var i3 = Object.keys(k)[s3];
                o3._m.outputWarning(a3, i3, u3);
              }
              var r3 = new Aa(a3);
              r3.setMessage("eventName:".concat(e4)).setMoreMessage(u3.message).end();
            }
          };
        } }]), e3;
      }(), ec = function() {
        function e3(t3) {
          o2(this, e3);
          var n3 = { SDKAppID: t3.SDKAppID, unlimitedAVChatRoom: t3.unlimitedAVChatRoom || false, scene: t3.scene || "", oversea: t3.oversea || false, instanceID: Nt2(), devMode: t3.devMode || false, proxyServer: t3.proxyServer || void 0, fileUploadProxy: t3.fileUploadProxy || void 0, fileDownloadProxy: t3.fileDownloadProxy || t3.fileUploadProxy || void 0 };
          this._m = new Qu(n3), this._safetyCallbackFactory = new $u2(this._m);
        }
        return a2(e3, [{ key: "onError", value: function(e4) {
          this._m.onError(e4);
        } }, { key: "login", value: function(e4) {
          return this._m.login(), this._getModule(Rn).login(e4);
        } }, { key: "logout", value: function() {
          var e4 = this;
          return this._getModule(Rn).logout().then(function(t3) {
            return e4._m.reset(), t3;
          });
        } }, { key: "isReady", value: function() {
          return this._m.isReady();
        } }, { key: "isIntl", value: function() {
          return this._m.isIntl();
        } }, { key: "getNotReadyReason", value: function() {
          return this._m.getNotReadyReason();
        } }, { key: "getErrorMessage", value: function(e4, t3, n3) {
          return this._m.getErrorMessage(e4, t3, n3);
        } }, { key: "_getModule", value: function(e4) {
          return this._m.getModule(e4);
        } }, { key: "destroy", value: function() {
          var e4 = this;
          return this.logout().finally(function() {
            e4._m.stopTimer(), e4._getModule(Qn2).terminate(), e4._getModule(Jn2).dealloc();
            var t3 = e4._m.getOuterEmitterInstance(), n3 = e4._getModule(xn);
            t3.emit(k.SDK_DESTROY, { SDKAppID: n3.getSDKAppID() });
          });
        } }, { key: "on", value: function(e4, t3, n3) {
          Ve2.d("on", "eventName:".concat(e4)), this._m.getOuterEmitterInstance().on(e4, this._safetyCallbackFactory.defense(e4, t3, n3), n3);
        } }, { key: "once", value: function(e4, t3, n3) {
          Ve2.d("once", "eventName:".concat(e4)), this._m.getOuterEmitterInstance().once(e4, this._safetyCallbackFactory.defenseOnce(e4, t3, n3), n3 || this);
        } }, { key: "off", value: function(e4, t3, n3, o3) {
          Ve2.d("off", "eventName:".concat(e4));
          var s3 = this._safetyCallbackFactory.find(e4, t3);
          null !== s3 && (this._m.getOuterEmitterInstance().off(e4, s3, n3, o3), this._safetyCallbackFactory.delete(e4, t3));
        } }, { key: "registerPlugin", value: function(e4) {
          it2(e4["tim-offline-push-plugin"]) ? this._getModule(Yn2).registerPlugin(e4) : this._getModule(no).registerPlugin(e4);
        } }, { key: "setLogLevel", value: function(e4) {
          if (e4 <= 0) {
            var t3 = this.getErrorMessage("TIM_ASCII_ART");
            t3 && formatAppLog("log", "at node_modules/tim-js-sdk/tim-js.js:1", t3);
            var n3 = this.getErrorMessage("API_REFER");
            if (n3) {
              Kt2() ? formatAppLog("log", "at node_modules/tim-js-sdk/tim-js.js:1", "%c ".concat("IM SDK API ->", " %c"), "background:#ff9d00; padding:1px; border-radius:3px; color: #fff", "background:transparent", n3) : formatAppLog("log", "at node_modules/tim-js-sdk/tim-js.js:1", "IM SDK API ->", n3);
            }
            var o3 = this.getErrorMessage("DOCS_GUIDE");
            o3 && formatAppLog("log", "at node_modules/tim-js-sdk/tim-js.js:1", o3);
          }
          Ve2.setLevel(e4);
        } }, { key: "createTextMessage", value: function(e4) {
          return this._getModule(Nn).createTextMessage(e4);
        } }, { key: "createTextAtMessage", value: function(e4) {
          return this._getModule(Nn).createTextMessage(e4);
        } }, { key: "createImageMessage", value: function(e4) {
          return this._getModule(Nn).createImageMessage(e4);
        } }, { key: "createAudioMessage", value: function(e4) {
          return this._getModule(Nn).createAudioMessage(e4);
        } }, { key: "createVideoMessage", value: function(e4) {
          return this._getModule(Nn).createVideoMessage(e4);
        } }, { key: "createCustomMessage", value: function(e4) {
          return this._getModule(Nn).createCustomMessage(e4);
        } }, { key: "createFaceMessage", value: function(e4) {
          return this._getModule(Nn).createFaceMessage(e4);
        } }, { key: "createFileMessage", value: function(e4) {
          return this._getModule(Nn).createFileMessage(e4);
        } }, { key: "createLocationMessage", value: function(e4) {
          return this._getModule(Nn).createLocationMessage(e4);
        } }, { key: "createMergerMessage", value: function(e4) {
          return this._getModule(Nn).createMergerMessage(e4);
        } }, { key: "downloadMergerMessage", value: function(e4) {
          return e4.type !== E2.MSG_MERGER ? Za({ code: ha.MESSAGE_MERGER_TYPE_INVALID }) : zt2(e4.payload.downloadKey) ? Za({ code: ha.MESSAGE_MERGER_KEY_INVALID }) : this._getModule(Nn).downloadMergerMessage(e4).catch(function(e5) {
            return Za({ code: ha.MESSAGE_MERGER_DOWNLOAD_FAIL });
          });
        } }, { key: "createForwardMessage", value: function(e4) {
          return this._getModule(Nn).createForwardMessage(e4);
        } }, { key: "sendMessage", value: function(e4, t3) {
          return e4 instanceof Wa ? this._getModule(Nn).sendMessageInstance(e4, t3) : Za({ code: ha.MESSAGE_SEND_NEED_MESSAGE_INSTANCE });
        } }, { key: "callExperimentalAPI", value: function(e4, t3) {
          return "sendComboMessage" === e4 ? this._getModule(ao).sendMessage(t3) : "handleGroupInvitation" === e4 ? this._getModule(Pn).handleGroupInvitation(t3) : "isCommercialAbilityEnabled" === e4 ? this._getModule(to).isFeatureEnabled(t3) : "isIntl" === e4 ? this.isIntl() : "sendTRTCCustomData" === e4 ? this._getModule(so).sendTRTCCustomData(t3) : "getTimerID" === e4 ? this._m.getTimerID() : "getPollingTimerID" === e4 ? this._m.getPollingTimerID(t3) : Za({ code: ha.INVALID_OPERATION });
        } }, { key: "revokeMessage", value: function(e4) {
          return this._getModule(Nn).revokeMessage(e4);
        } }, { key: "resendMessage", value: function(e4) {
          return this._getModule(Nn).resendMessage(e4);
        } }, { key: "deleteMessage", value: function(e4) {
          return this._getModule(Nn).deleteMessage(e4);
        } }, { key: "translateText", value: function(e4) {
          return this._getModule(Nn).translateText(e4);
        } }, { key: "setMessageExtensions", value: function(e4, t3) {
          return this._getModule(On).setMessageExtensions(e4, t3);
        } }, { key: "getMessageExtensions", value: function(e4) {
          return this._getModule(On).getMessageExtensions(e4);
        } }, { key: "deleteMessageExtensions", value: function(e4, t3) {
          return this._getModule(On).deleteMessageExtensions(e4, t3);
        } }, { key: "modifyMessage", value: function(e4) {
          return this._getModule(Nn).modifyRemoteMessage(e4);
        } }, { key: "getMessageList", value: function(e4) {
          return this._getModule(qn).getMessageList(e4);
        } }, { key: "getMessageListHopping", value: function(e4) {
          return this._getModule(qn).getMessageListHopping(e4);
        } }, { key: "sendMessageReadReceipt", value: function(e4) {
          return this._getModule(qn).sendReadReceipt(e4);
        } }, { key: "getMessageReadReceiptList", value: function(e4) {
          return this._getModule(qn).getReadReceiptList(e4);
        } }, { key: "getGroupMessageReadMemberList", value: function(e4) {
          return this._getModule(Pn).getReadReceiptDetail(e4);
        } }, { key: "findMessage", value: function(e4) {
          return this._getModule(qn).findMessage(e4);
        } }, { key: "setMessageRead", value: function(e4) {
          return this._getModule(qn).setMessageRead(e4);
        } }, { key: "getConversationList", value: function(e4) {
          return this._getModule(qn).getConversationList(e4);
        } }, { key: "getConversationProfile", value: function(e4) {
          return this._getModule(qn).getConversationProfile(e4);
        } }, { key: "deleteConversation", value: function(e4) {
          return this._getModule(qn).deleteConversation(e4);
        } }, { key: "clearHistoryMessage", value: function(e4) {
          return this._getModule(qn).clearHistoryMessage(e4);
        } }, { key: "pinConversation", value: function(e4) {
          return this._getModule(qn).pinConversation(e4);
        } }, { key: "setAllMessageRead", value: function(e4) {
          return this._getModule(qn).setAllMessageRead(e4);
        } }, { key: "setMessageRemindType", value: function(e4) {
          return this._getModule(qn).setMessageRemindType(e4);
        } }, { key: "getTotalUnreadMessageCount", value: function() {
          return this._getModule(qn).getTotalUnreadMessageCount();
        } }, { key: "setConversationCustomData", value: function(e4) {
          return this._getModule(qn).setConversationCustomData(e4);
        } }, { key: "markConversation", value: function(e4) {
          return this._getModule(qn).markConversation(e4);
        } }, { key: "getConversationGroupList", value: function() {
          return this._getModule(qn).getConversationGroupList();
        } }, { key: "createConversationGroup", value: function(e4) {
          return this._getModule(qn).createConversationGroup(e4);
        } }, { key: "deleteConversationGroup", value: function(e4) {
          return this._getModule(qn).deleteConversationGroup(e4);
        } }, { key: "renameConversationGroup", value: function(e4) {
          return this._getModule(qn).renameConversationGroup(e4);
        } }, { key: "addConversationsToGroup", value: function(e4) {
          return this._getModule(qn).addConversationsToGroup(e4);
        } }, { key: "deleteConversationsFromGroup", value: function(e4) {
          return this._getModule(qn).deleteConversationsFromGroup(e4);
        } }, { key: "getMyProfile", value: function() {
          return this._getModule(Gn2).getMyProfile();
        } }, { key: "getUserProfile", value: function(e4) {
          return this._getModule(Gn2).getUserProfile(e4);
        } }, { key: "updateMyProfile", value: function(e4) {
          return this._getModule(Gn2).updateMyProfile(e4);
        } }, { key: "getBlacklist", value: function() {
          return this._getModule(Gn2).getLocalBlacklist();
        } }, { key: "addToBlacklist", value: function(e4) {
          return this._getModule(Gn2).addBlacklist(e4);
        } }, { key: "removeFromBlacklist", value: function(e4) {
          return this._getModule(Gn2).deleteBlacklist(e4);
        } }, { key: "setSelfStatus", value: function(e4) {
          return this._getModule(Gn2).setSelfStatus(e4);
        } }, { key: "getUserStatus", value: function(e4) {
          return this._getModule(Gn2).getUserStatus(e4);
        } }, { key: "subscribeUserStatus", value: function(e4) {
          return this._getModule(Gn2).subscribeUserStatus(e4);
        } }, { key: "unsubscribeUserStatus", value: function(e4) {
          return this._getModule(Gn2).unsubscribeUserStatus(e4);
        } }, { key: "getFriendList", value: function() {
          var e4 = this._getModule(bn);
          return e4 ? e4.getLocalFriendList() : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "addFriend", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.addFriend(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "deleteFriend", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.deleteFriend(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "checkFriend", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.checkFriend(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "getFriendProfile", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.getFriendProfile(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "updateFriend", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.updateFriend(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "getFriendApplicationList", value: function() {
          var e4 = this._getModule(bn);
          return e4 ? e4.getLocalFriendApplicationList() : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "acceptFriendApplication", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.acceptFriendApplication(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "refuseFriendApplication", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.refuseFriendApplication(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "deleteFriendApplication", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.deleteFriendApplication(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "setFriendApplicationRead", value: function() {
          var e4 = this._getModule(bn);
          return e4 ? e4.setFriendApplicationRead() : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "getFriendGroupList", value: function() {
          var e4 = this._getModule(bn);
          return e4 ? e4.getLocalFriendGroupList() : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "createFriendGroup", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.createFriendGroup(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "deleteFriendGroup", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.deleteFriendGroup(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "addToFriendGroup", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.addToFriendGroup(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "removeFromFriendGroup", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.removeFromFriendGroup(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "renameFriendGroup", value: function(e4) {
          var t3 = this._getModule(bn);
          return t3 ? t3.renameFriendGroup(e4) : Za({ code: ha.CANNOT_FIND_MODULE });
        } }, { key: "getGroupList", value: function(e4) {
          return this._getModule(Pn).getGroupList(e4);
        } }, { key: "getGroupProfile", value: function(e4) {
          return this._getModule(Pn).getGroupProfile(e4);
        } }, { key: "createGroup", value: function(e4) {
          return this._getModule(Pn).createGroup(e4);
        } }, { key: "dismissGroup", value: function(e4) {
          return this._getModule(Pn).dismissGroup(e4);
        } }, { key: "updateGroupProfile", value: function(e4) {
          return this._getModule(Pn).updateGroupProfile(e4);
        } }, { key: "joinGroup", value: function(e4) {
          return this._getModule(Pn).joinGroup(e4);
        } }, { key: "quitGroup", value: function(e4) {
          return this._getModule(Pn).quitGroup(e4);
        } }, { key: "searchGroupByID", value: function(e4) {
          return this._getModule(Pn).searchGroupByID(e4);
        } }, { key: "getGroupOnlineMemberCount", value: function(e4) {
          return this._getModule(Pn).getGroupOnlineMemberCount(e4);
        } }, { key: "changeGroupOwner", value: function(e4) {
          return this._getModule(Pn).changeGroupOwner(e4);
        } }, { key: "getGroupApplicationList", value: function() {
          return this._getModule(Pn).getGroupApplicationList();
        } }, { key: "handleGroupApplication", value: function(e4) {
          return this._getModule(Pn).handleGroupApplication(e4);
        } }, { key: "initGroupAttributes", value: function(e4) {
          return this._getModule(Pn).initGroupAttributes(e4);
        } }, { key: "setGroupAttributes", value: function(e4) {
          return this._getModule(Pn).setGroupAttributes(e4);
        } }, { key: "deleteGroupAttributes", value: function(e4) {
          return this._getModule(Pn).deleteGroupAttributes(e4);
        } }, { key: "getGroupAttributes", value: function(e4) {
          return this._getModule(Pn).getGroupAttributes(e4);
        } }, { key: "setGroupCounters", value: function(e4) {
          return this._getModule(Pn).setGroupCounters(e4);
        } }, { key: "increaseGroupCounter", value: function(e4) {
          return this._getModule(Pn).increaseGroupCounter(e4);
        } }, { key: "decreaseGroupCounter", value: function(e4) {
          return this._getModule(Pn).decreaseGroupCounter(e4);
        } }, { key: "getGroupCounters", value: function(e4) {
          return this._getModule(Pn).getGroupCounters(e4);
        } }, { key: "getGroupMemberList", value: function(e4) {
          return this._getModule(wn).getGroupMemberList(e4);
        } }, { key: "getGroupMemberProfile", value: function(e4) {
          return this._getModule(wn).getGroupMemberProfile(e4);
        } }, { key: "addGroupMember", value: function(e4) {
          return this._getModule(wn).addGroupMember(e4);
        } }, { key: "deleteGroupMember", value: function(e4) {
          return this._getModule(wn).deleteGroupMember(e4);
        } }, { key: "setGroupMemberMuteTime", value: function(e4) {
          return this._getModule(wn).setGroupMemberMuteTime(e4);
        } }, { key: "setGroupMemberRole", value: function(e4) {
          return this._getModule(wn).setGroupMemberRole(e4);
        } }, { key: "setGroupMemberNameCard", value: function(e4) {
          return this._getModule(wn).setGroupMemberNameCard(e4);
        } }, { key: "setGroupMemberCustomField", value: function(e4) {
          return this._getModule(wn).setGroupMemberCustomField(e4);
        } }, { key: "markGroupMemberList", value: function(e4) {
          return this._getModule(wn).markGroupMemberList(e4);
        } }, { key: "getJoinedCommunityList", value: function() {
          return this._getModule(Fn).getJoinedCommunityList();
        } }, { key: "createTopicInCommunity", value: function(e4) {
          return this._getModule(Fn).createTopicInCommunity(e4);
        } }, { key: "deleteTopicFromCommunity", value: function(e4) {
          return this._getModule(Fn).deleteTopicFromCommunity(e4);
        } }, { key: "updateTopicProfile", value: function(e4) {
          return this._getModule(Fn).updateTopicProfile(e4);
        } }, { key: "getTopicList", value: function(e4) {
          return this._getModule(Fn).getTopicList(e4);
        } }]), e3;
      }(), tc = { login: 1, logout: 1, destroy: 1, on: 1, off: 1, ready: 1, setLogLevel: 1, joinGroup: 1, quitGroup: 1, registerPlugin: 1, getGroupOnlineMemberCount: 1 };
      function nc(e3, t3) {
        if (e3.isReady() || 1 === tc[t3])
          return true;
        var n3 = e3.getNotReadyReason(), o3 = { code: n3, message: "".concat(e3.getErrorMessage(n3), " | ").concat(t3, " | ").concat(e3.getErrorMessage(ha.SDK_IS_NOT_READY)) };
        return e3.onError(o3), o3;
      }
      var oc = {}, sc = {};
      return sc.create = function(e3) {
        var n3 = 0, o3 = e3.SDKAppID;
        if (et2(o3))
          n3 = o3;
        else if (n3 = parseInt(o3), isNaN(o3))
          return Ve2.e("".concat("TIM.create", " failed. Failed to parse the SDKAppID, please check the arguments")), null;
        if (n3 && oc[n3])
          return oc[n3];
        Ve2.l("".concat("TIM.create"));
        var s3 = new ec(t2(t2({}, e3), {}, { SDKAppID: n3 }));
        s3.on(k.SDK_DESTROY, function(e4) {
          oc[e4.data.SDKAppID] = null, delete oc[e4.data.SDKAppID];
        });
        var a3 = function(e4) {
          var t3 = /* @__PURE__ */ Object.create(null);
          return Object.keys(An).forEach(function(n4) {
            if (e4[n4]) {
              var o4 = new S2();
              t3[n4] = function() {
                var t4 = Array.from(arguments);
                return o4.use(function(t5, o5) {
                  var s4 = nc(e4, n4);
                  return true === s4 ? o5() : Za(s4);
                }).use(function(e5, t5) {
                  if (true === Jt2(e5, Ln[n4], n4))
                    return t5();
                }).use(function(t5, o5) {
                  return e4[n4].apply(e4, t5);
                }), o4.run(t4);
              };
            }
          }), t3;
        }(s3);
        return oc[n3] = a3, Ln.hookGetAPITips(s3.getErrorMessage.bind(s3)), Ve2.l("".concat("TIM.create", " ok")), a3;
      }, sc.TYPES = E2, sc.EVENT = k, sc.VERSION = "2.27.6", Ve2.l("TIM.VERSION:".concat(sc.VERSION)), sc;
    });
  })(timJs);
  var timJsExports = timJs.exports;
  const TIM$1 = /* @__PURE__ */ getDefaultExportFromCjs(timJsExports);
  var timUploadPlugin = { exports: {} };
  (function(module, exports) {
    !function(e2, t2) {
      module.exports = t2();
    }(commonjsGlobal, function() {
      function e2(e3, t3) {
        if (!(e3 instanceof t3))
          throw new TypeError("Cannot call a class as a function");
      }
      function t2(e3, t3) {
        for (var n3 = 0; n3 < t3.length; n3++) {
          var o3 = t3[n3];
          o3.enumerable = o3.enumerable || false, o3.configurable = true, "value" in o3 && (o3.writable = true), Object.defineProperty(e3, s2(o3.key), o3);
        }
      }
      function n2(e3, n3, o3) {
        return n3 && t2(e3.prototype, n3), o3 && t2(e3, o3), Object.defineProperty(e3, "prototype", { writable: false }), e3;
      }
      function o2(e3, t3, n3) {
        return (t3 = s2(t3)) in e3 ? Object.defineProperty(e3, t3, { value: n3, enumerable: true, configurable: true, writable: true }) : e3[t3] = n3, e3;
      }
      function r2(e3, t3) {
        var n3 = Object.keys(e3);
        if (Object.getOwnPropertySymbols) {
          var o3 = Object.getOwnPropertySymbols(e3);
          t3 && (o3 = o3.filter(function(t4) {
            return Object.getOwnPropertyDescriptor(e3, t4).enumerable;
          })), n3.push.apply(n3, o3);
        }
        return n3;
      }
      function a2(e3) {
        for (var t3 = 1; t3 < arguments.length; t3++) {
          var n3 = null != arguments[t3] ? arguments[t3] : {};
          t3 % 2 ? r2(Object(n3), true).forEach(function(t4) {
            o2(e3, t4, n3[t4]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(n3)) : r2(Object(n3)).forEach(function(t4) {
            Object.defineProperty(e3, t4, Object.getOwnPropertyDescriptor(n3, t4));
          });
        }
        return e3;
      }
      function s2(e3) {
        var t3 = function(e4, t4) {
          if ("object" != typeof e4 || !e4)
            return e4;
          var n3 = e4[Symbol.toPrimitive];
          if (void 0 !== n3) {
            var o3 = n3.call(e4, t4 || "default");
            if ("object" != typeof o3)
              return o3;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          return ("string" === t4 ? String : Number)(e4);
        }(e3, "string");
        return "symbol" == typeof t3 ? t3 : t3 + "";
      }
      function i2(e3) {
        return (i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
          return typeof e4;
        } : function(e4) {
          return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
        })(e3);
      }
      var u2 = "undefined" != typeof commonjsGlobal ? commonjsGlobal : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, l2 = "undefined" != typeof wx && "function" == typeof wx.getSystemInfoSync && ("mac" === wx.getSystemInfoSync().platform || "windows" === wx.getSystemInfoSync().platform), f2 = "undefined" != typeof wx && "function" == typeof wx.getSystemInfoSync && Boolean(wx.getSystemInfoSync().fontSizeSetting) || l2, c2 = "undefined" != typeof qq && "function" == typeof qq.getSystemInfoSync && Boolean(qq.getSystemInfoSync().fontSizeSetting), d2 = "undefined" != typeof tt && "function" == typeof tt.getSystemInfoSync && Boolean(tt.getSystemInfoSync().fontSizeSetting), p2 = "undefined" != typeof swan && "function" == typeof swan.getSystemInfoSync && Boolean(swan.getSystemInfoSync().fontSizeSetting), y2 = "undefined" != typeof my && "function" == typeof my.getSystemInfoSync && Boolean(my.getSystemInfoSync().fontSizeSetting), m2 = "undefined" != typeof uni && "undefined" == typeof window && "function" == typeof requireNativePlugin, g2 = m2 && "ios" === uni.getDeviceInfo().platform.toLocaleLowerCase(), h2 = (m2 && uni.getDeviceInfo().platform.toLocaleLowerCase(), f2 || c2 || d2 || p2 || y2 || m2), v2 = void 0 !== u2 && (void 0 !== u2.nativeModuleProxy || void 0 !== u2.ReactNative), b2 = c2 ? qq : d2 ? tt : p2 ? swan : y2 ? my : f2 ? wx : m2 ? uni : {}, w2 = function(e3) {
        if ("object" !== i2(e3) || null === e3)
          return false;
        var t3 = Object.getPrototypeOf(e3);
        if (null === t3)
          return true;
        for (var n3 = t3; null !== Object.getPrototypeOf(n3); )
          n3 = Object.getPrototypeOf(n3);
        return t3 === n3;
      };
      function S2(e3) {
        if (null == e3)
          return true;
        if ("boolean" == typeof e3)
          return false;
        if ("number" == typeof e3)
          return 0 === e3;
        if ("string" == typeof e3)
          return 0 === e3.length;
        if ("function" == typeof e3)
          return 0 === e3.length;
        if (Array.isArray(e3))
          return 0 === e3.length;
        if (e3 instanceof Error)
          return "" === e3.message;
        if (w2(e3)) {
          for (var t3 in e3)
            if (Object.prototype.hasOwnProperty.call(e3, t3))
              return false;
          return true;
        }
        return false;
      }
      var O2 = function() {
        return n2(function t3() {
          e2(this, t3), this._n = "WebRequest";
        }, [{ key: "request", value: function(e3, t3) {
          var n3 = this, o3 = "".concat(this._n, ".request"), r3 = e3.downloadUrl || "", s3 = (e3.method || "PUT").toUpperCase(), i3 = e3.url;
          if (formatAppLog("log", "at node_modules/tim-upload-plugin/index.js:1", "%c tim-upload-plugin %c", "background:#0abf5b; padding:1px; border-radius:3px; color: #fff", "background:transparent", "".concat(o3, " URL:").concat(i3)), e3.qs) {
            var u3 = function(e4) {
              var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "&", n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "=";
              return S2(e4) ? "" : w2(e4) ? Object.keys(e4).map(function(o4) {
                var r4 = encodeURIComponent(o4) + n4;
                return Array.isArray(e4[o4]) ? e4[o4].map(function(e5) {
                  return r4 + encodeURIComponent(e5);
                }).join(t4) : r4 + encodeURIComponent(e4[o4]);
              }).filter(Boolean).join(t4) : void 0;
            }(e3.qs);
            u3 && (i3 += "".concat(-1 === i3.indexOf("?") ? "?" : "&").concat(u3));
          }
          var l3 = new XMLHttpRequest();
          l3.open(s3, i3, true), l3.responseType = e3.dataType || "text";
          var f3 = e3.headers || {};
          if (e3.uploadByIP && (f3 = a2(a2({}, f3), {}, { host: e3.uploadIP })), !S2(f3))
            for (var c3 in f3)
              f3.hasOwnProperty(c3) && "content-length" !== c3.toLowerCase() && "user-agent" !== c3.toLowerCase() && "origin" !== c3.toLowerCase() && "host" !== c3.toLowerCase() && l3.setRequestHeader(c3, f3[c3]);
          return l3.onload = function() {
            if (200 === l3.status)
              t3(null, n3._xhrRes(l3, n3._xhrBody(l3, r3, e3.uploadByIP && e3.uploadIP), f3));
            else {
              if (e3.uploadIP && -1 === e3.url.indexOf(e3.uploadIP))
                return e3.url = function(e4, t4) {
                  return e4.replace(/^http(s)?:\/\/(.*?)\//, "https://".concat(t4, "/"));
                }(e3.url, e3.uploadIP), e3.uploadByIP = true, n3.request(e3, t3);
              var o4 = { code: l3.status, message: JSON.stringify(l3.responseText) };
              t3(o4, n3._xhrRes(l3, n3._xhrBody(l3, r3, e3.uploadByIP && e3.uploadIP), f3));
            }
          }, l3.onerror = function(o4) {
            var a3 = n3._xhrBody(l3, r3, e3.uploadByIP && e3.uploadIP), s4 = { code: l3.status, message: JSON.stringify(l3.responseText) };
            a3 || l3.statusText || 0 !== l3.status || (o4.message = "CORS blocked or network error"), t3(s4, n3._xhrRes(l3, a3)), s4 = null;
          }, e3.onProgress && l3.upload && (l3.upload.onprogress = function(t4) {
            var n4 = t4.total, o4 = t4.loaded, r4 = Math.floor(100 * o4 / n4);
            e3.onProgress({ total: n4, loaded: o4, percent: (r4 >= 100 ? 100 : r4) / 100 });
          }), l3.send(e3.resources), l3;
        } }, { key: "_xhrRes", value: function(e3, t3) {
          var n3 = {};
          return e3.getAllResponseHeaders().trim().split("\n").forEach(function(e4) {
            if (e4) {
              var t4 = e4.indexOf(":"), o3 = e4.substr(0, t4).trim().toLowerCase(), r3 = e4.substr(t4 + 1).trim();
              n3[o3] = r3;
            }
          }), { statusCode: e3.status, statusMessage: e3.statusText, headers: n3, data: t3 };
        } }, { key: "_xhrBody", value: function(e3, t3, n3) {
          return 200 === e3.status && t3 ? { location: t3, uploadIP: n3 } : { response: e3.responseText, uploadIP: n3 };
        } }]);
      }(), P2 = ["unknown", "image", "video", "audio", "log"], I2 = ["name"], C2 = function() {
        return n2(function t3() {
          e2(this, t3);
        }, [{ key: "request", value: function(e3, t3) {
          var n3 = this, o3 = e3.resources, r3 = void 0 === o3 ? "" : o3, s3 = e3.headers, i3 = void 0 === s3 ? {} : s3, u3 = e3.url, l3 = e3.downloadUrl, f3 = void 0 === l3 ? "" : l3, c3 = u3, d3 = null, p3 = f3.match(/^(https?:\/\/[^/]+\/)([^/]*\/?)(.*)$/), m3 = decodeURIComponent(p3[3]), h3 = m3.indexOf("?") > -1 ? m3.split("?")[0] : m3, v3 = { key: e3.fileKey ? e3.fileKey : h3, success_action_status: 200, "Content-Type": "" }, w3 = {};
          if (g2) {
            var S3 = u3.split("?sign=");
            if (S3.length > 1) {
              var O3 = S3[1];
              c3 = "".concat(S3[0], "?sign=").concat(encodeURIComponent("".concat(O3))), w3.sign = decodeURIComponent(O3), w3.signature = decodeURIComponent(O3);
            }
          }
          var C3 = { url: c3, header: i3, name: "file", filePath: r3, formData: a2(a2({}, v3), w3), timeout: e3.timeout || 3e5 };
          if (y2) {
            var x2 = C3;
            x2.name;
            C3 = a2(a2({}, function(e4, t4) {
              if (null == e4)
                return {};
              var n4, o4, r4 = function(e5, t5) {
                if (null == e5)
                  return {};
                var n5 = {};
                for (var o5 in e5)
                  if ({}.hasOwnProperty.call(e5, o5)) {
                    if (t5.includes(o5))
                      continue;
                    n5[o5] = e5[o5];
                  }
                return n5;
              }(e4, t4);
              if (Object.getOwnPropertySymbols) {
                var a3 = Object.getOwnPropertySymbols(e4);
                for (o4 = 0; o4 < a3.length; o4++)
                  n4 = a3[o4], t4.includes(n4) || {}.propertyIsEnumerable.call(e4, n4) && (r4[n4] = e4[n4]);
              }
              return r4;
            }(x2, I2)), {}, { fileName: "file", fileType: P2[e3.fileType] });
          }
          return (d3 = b2.uploadFile(a2(a2({}, C3), {}, { success: function(e4) {
            n3._handleResponse({ response: e4, downloadUrl: f3, callback: t3 });
          }, fail: function(e4) {
            n3._handleResponse({ response: e4, downloadUrl: f3, callback: t3 });
          } }))).onProgressUpdate && d3.onProgressUpdate(function(t4) {
            e3.onProgress && e3.onProgress({ total: t4.totalBytesExpectedToSend, loaded: t4.totalBytesSent, percent: Math.floor(t4.progress) / 100 });
          }), d3;
        } }, { key: "_handleResponse", value: function(e3) {
          var t3 = e3.downloadUrl, n3 = e3.response, o3 = e3.callback, r3 = n3.header, s3 = {};
          if (r3)
            for (var i3 in r3)
              r3.hasOwnProperty(i3) && (s3[i3.toLowerCase()] = r3[i3]);
          var u3 = +n3.statusCode;
          200 === u3 ? o3(null, { statusCode: u3, headers: s3, data: a2(a2({}, n3.data), {}, { location: t3 }) }) : o3({ code: u3, message: JSON.stringify(n3.data) }, { statusCode: u3, headers: s3, data: void 0 });
        } }]);
      }(), x = function() {
        return n2(function t3() {
          e2(this, t3);
        }, [{ key: "request", value: function(e3, t3) {
          var n3 = this, o3 = e3.resources, r3 = void 0 === o3 ? "" : o3, a3 = e3.fileKey, s3 = void 0 === a3 ? "" : a3, i3 = e3.url, u3 = e3.downloadUrl, l3 = void 0 === u3 ? "" : u3, f3 = new FormData();
          f3.append("key", s3), f3.append("success_action_status", 200), f3.append("file", { uri: r3, type: "application/octet-stream", name: "uploaded_file" }), fetch(i3, { method: "POST", headers: { "Content-Type": "multipart/form-data" }, body: f3 }).then(function(e4) {
            n3._handleResponse({ response: e4, downloadUrl: l3, callback: t3 });
          }).catch(function(e4) {
            n3._handleResponse({ response: e4, downloadUrl: l3, callback: t3 });
          });
        } }, { key: "_handleResponse", value: function(e3) {
          var t3 = e3.downloadUrl, n3 = e3.response, o3 = e3.callback, r3 = n3.headers, a3 = n3.status, s3 = r3 && r3.map || {};
          200 === a3 ? o3(null, { statusCode: 200, headers: s3, data: { location: t3 } }) : o3({ code: a3, message: JSON.stringify(n3) }, { statusCode: a3, headers: s3, data: void 0 });
        } }]);
      }();
      return function() {
        return n2(function t3() {
          e2(this, t3), this.retry = 1, this.tryCount = 0, this.systemClockOffset = 0, this.httpRequest = h2 ? new C2() : v2 ? new x() : new O2(), formatAppLog("log", "at node_modules/tim-upload-plugin/index.js:1", "TIMUploadPlugin.VERSION: ".concat("1.4.3"));
        }, [{ key: "uploadFile", value: function(e3, t3) {
          var n3 = this;
          return this.httpRequest.request(e3, function(o3, r3) {
            o3 && n3.tryCount < n3.retry && n3.allowRetry(o3) ? (n3.tryCount++, n3.uploadFile(e3, t3)) : (n3.tryCount = 0, t3(o3, r3));
          });
        } }, { key: "allowRetry", value: function(e3) {
          var t3 = false, n3 = false;
          if (e3) {
            var o3 = e3.headers && (e3.headers.date || e3.headers.Date) || e3.error && e3.error.ServerTime;
            try {
              var r3 = e3.error && e3.error.Code, a3 = e3.error && e3.error.Message;
              ("RequestTimeTooSkewed" === r3 || "AccessDenied" === r3 && "Request has expired" === a3) && (n3 = true);
            } catch (u3) {
            }
            if (n3 && o3) {
              var s3 = Date.now(), i3 = Date.parse(o3);
              Math.abs(s3 + this.systemClockOffset - i3) >= 3e4 && (this.systemClockOffset = i3 - s3, t3 = true);
            } else
              5 === Math.floor(e3.statusCode / 100) && (t3 = true);
          }
          return t3;
        } }], [{ key: "getVersion", value: function() {
          return "1.4.3";
        } }]);
      }();
    });
  })(timUploadPlugin);
  var timUploadPluginExports = timUploadPlugin.exports;
  const TIMUploadPlugin = /* @__PURE__ */ getDefaultExportFromCjs(timUploadPluginExports);
  let timInstance = null;
  const globalLoginState = vue.reactive({
    isLogin: false,
    userId: "",
    sdkAppID: "",
    sdkReady: false
    // 新增：SDK 是否就绪
  });
  const LOGIN_STATUS_LOGINED = ((_a = TIM$1.TYPES) == null ? void 0 : _a.LOGIN_STATUS_LOGINED) || "logined";
  const LOGIN_STATUS_UNLOGINED = ((_b = TIM$1.TYPES) == null ? void 0 : _b.LOGIN_STATUS_UNLOGINED) || "unlogined";
  function useTIM(SDKAppID2) {
    const loading = vue.ref(false);
    const errorMsg = vue.ref("");
    const tim2 = vue.ref(null);
    const initTIM = () => {
      if (timInstance) {
        tim2.value = timInstance;
        if (timInstance.sdkReadyState === "ready") {
          globalLoginState.sdkReady = true;
        }
        return timInstance;
      }
      if (!SDKAppID2) {
        formatAppLog("error", "at utils/useTIM.js:35", "TIM 初始化失败：SDKAppID 不能为空");
        return null;
      }
      try {
        timInstance = TIM$1.create({
          SDKAppID: SDKAppID2,
          logLevel: 1
          // 建议临时开启日志，便于调试
        });
        if (timInstance.registerPlugin) {
          timInstance.registerPlugin({ "tim-upload-plugin": TIMUploadPlugin });
        }
        tim2.value = timInstance;
        formatAppLog("log", "at utils/useTIM.js:47", "TIM 实例初始化成功");
        return timInstance;
      } catch (err) {
        formatAppLog("error", "at utils/useTIM.js:50", "TIM 实例创建失败：", err);
        tim2.value = null;
        return null;
      }
    };
    const waitSDKReady2 = () => {
      return new Promise((resolve) => {
        if ((timInstance == null ? void 0 : timInstance.sdkReadyState) === "ready" || globalLoginState.sdkReady) {
          globalLoginState.sdkReady = true;
          resolve(true);
          return;
        }
        const onReady2 = () => {
          globalLoginState.sdkReady = true;
          timInstance.off(TIM$1.EVENT.SDK_READY, onReady2);
          resolve(true);
        };
        timInstance.on(TIM$1.EVENT.SDK_READY, onReady2);
      });
    };
    const checkLoginStatus = () => {
      if (!timInstance)
        initTIM();
      if (!timInstance)
        return Promise.resolve(false);
      if (typeof timInstance.checkLoginStatus === "function") {
        return new Promise(async (resolve) => {
          try {
            const status = await timInstance.checkLoginStatus();
            globalLoginState.isLogin = status === LOGIN_STATUS_LOGINED;
            resolve(globalLoginState.isLogin);
          } catch (err) {
            resolve(false);
          }
        });
      } else {
        const loginStatus = timInstance.loginStatus || LOGIN_STATUS_UNLOGINED;
        globalLoginState.isLogin = loginStatus === LOGIN_STATUS_LOGINED;
        return Promise.resolve(globalLoginState.isLogin);
      }
    };
    const loginTIM = async (options) => {
      const { userId, userSig } = options;
      if (!userId || !userSig) {
        errorMsg.value = "用户ID和UserSig不能为空";
        return false;
      }
      loading.value = true;
      errorMsg.value = "";
      try {
        const instance = initTIM();
        if (!instance) {
          loading.value = false;
          errorMsg.value = "TIM 实例初始化失败";
          return false;
        }
        const isLogined = await checkLoginStatus();
        if (isLogined && globalLoginState.userId === userId) {
          await waitSDKReady2();
          loading.value = false;
          return true;
        }
        if (isLogined) {
          await timInstance.logout();
          globalLoginState.isLogin = false;
          globalLoginState.userId = "";
          globalLoginState.sdkReady = false;
        }
        const res2 = await timInstance.login({
          userID: userId,
          userSig
        });
        await waitSDKReady2();
        if (res2.data && res2.data.repeatLogin === false) {
          globalLoginState.isLogin = true;
          globalLoginState.userId = userId;
          globalLoginState.sdkAppID = SDKAppID2;
        }
        loading.value = false;
        return true;
      } catch (err) {
        loading.value = false;
        const repeatLoginCodes = [20009, 10012];
        if (repeatLoginCodes.includes(err.code)) {
          globalLoginState.isLogin = true;
          globalLoginState.userId = userId;
          await waitSDKReady2();
          errorMsg.value = "当前账号已登录";
          return true;
        }
        errorMsg.value = err.message || `登录失败：${err.code}`;
        formatAppLog("error", "at utils/useTIM.js:163", "IM登录失败：", err);
        return false;
      }
    };
    const logoutTIM = async () => {
      if (!timInstance)
        return;
      loading.value = true;
      try {
        await timInstance.logout();
        globalLoginState.isLogin = false;
        globalLoginState.userId = "";
        globalLoginState.sdkReady = false;
        errorMsg.value = "";
        loading.value = false;
        return true;
      } catch (err) {
        loading.value = false;
        errorMsg.value = err.message || "登出失败";
        formatAppLog("error", "at utils/useTIM.js:183", "IM登出失败：", err);
        return false;
      }
    };
    const onTIMEvent = (eventName, callback) => {
      if (!timInstance)
        initTIM();
      if (!timInstance || typeof timInstance.on !== "function") {
        formatAppLog("error", "at utils/useTIM.js:192", "TIM实例未初始化，无法注册事件监听", eventName);
        return;
      }
      timInstance.on(eventName, callback);
      vue.onUnmounted(() => {
        if (timInstance && typeof timInstance.off === "function") {
          timInstance.off(eventName, callback);
        }
      });
    };
    initTIM();
    return {
      tim: tim2,
      loading,
      errorMsg,
      isLogin: globalLoginState.isLogin,
      userId: globalLoginState.userId,
      sdkReady: globalLoginState.sdkReady,
      // 暴露SDK Ready状态
      loginTIM,
      logoutTIM,
      checkLoginStatus,
      waitSDKReady: waitSDKReady2,
      // 暴露等待Ready的方法
      onTIMEvent
    };
  }
  const postCategoryList = (params, config2 = {}) => http$1.post(`/api/mall/category/list`, params, config2);
  const getProductsByCategory = (params, config2 = {}) => http$1.get(`/api/mall/product/category`, params, config2);
  const getRecommendedProducts = (params, config2 = {}) => http$1.get(`/api/mall/product/recommended`, params, config2);
  const getProductDetail = (params, config2 = {}) => http$1.get(`api/mall/product/detail?id=${params}`, config2);
  const addCart = (data, config2 = {}) => http$1.post(`/api/mall/cart/add`, data, config2);
  const getCartList = (params, config2 = {}) => http$1.get(`/api/mall/cart/list`, params, config2);
  const deleteCartItem = (data, config2 = {}) => http$1.post(`/api/mall/cart/delete`, data, config2);
  const batchDeleteCartItems = (data, config2 = {}) => http$1.post(`/api/mall/cart/batchDelete`, data, config2);
  const getAddressList = (params, config2 = {}) => http$1.get(`/api/mall/address/list`, params, config2);
  const addAddress = (data, config2 = {}) => http$1.post(`/api/mall/address/add`, data, config2);
  const updateAddress = (data, config2 = {}) => http$1.post(`/api/mall/address/update`, data, config2);
  const deleteAddress = (data, config2 = {}) => http$1.post(`/api/mall/address/delete`, data, config2);
  const getDefaultAddress = (params, config2 = {}) => http$1.get(`/api/mall/address/default`, params, config2);
  const getRefundDetail = (params, config2 = {}) => http$1.get(`/api/mall/refund/detail?id=${params}`, config2);
  const updateCartItem = (data, config2 = {}) => http$1.post(`/api/mall/cart/update`, data, config2);
  const submitOrder = (data, config2 = {}) => http$1.post(`/api/mall/order/create`, data, config2);
  const getOrderDetail = (params, config2 = {}) => http$1.get(`/api/mall/order/detail?id=${params}`, config2);
  const _imports_0$l = "/static/index/grass.png";
  const _imports_1$e = "/static/index/logo.png";
  const _imports_0$k = "/static/index/subscript.png";
  const _imports_3$3 = "/static/index/privacy.png";
  const _imports_4$3 = "/static/index/fairness.png";
  const _imports_5$2 = "/static/index/money.png";
  const _imports_0$j = "/static/settled/selectimg.png";
  const _imports_7 = "/static/index/shopping-img.png";
  const _imports_8$1 = "/static/index/psychology-tree.png";
  const _imports_9$1 = "/static/index/psychology-content-img.png";
  const _imports_10 = "/static/index/lock.png";
  const _sfc_main$1J = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "1cf27b2a-searchContentHeight": searchContentHeight.value,
        "1cf27b2a-statusBarHeight": statusBarHeight.value,
        "1cf27b2a-searchSwiperHeight": searchSwiperHeight.value
      }));
      const banners = vue.ref([]);
      const homeExams = vue.ref([]);
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + 20 + "rpx");
      const searchContentHeight = vue.ref(globalStore.statusBarHeight + 56 + "rpx");
      const searchSwiperHeight = vue.ref(globalStore.statusBarHeight + 95 + "rpx");
      const { loginTIM } = useTIM("1600116083");
      let scrollTop = vue.ref(0);
      const listenerMenu = vue.ref([]);
      uni.$currentUser = uni.getStorageSync("currentUser");
      let currentUser = vue.ref();
      const gotoListPage = (menu) => {
        uni.switchTab({
          url: "/pages/consult/index?type=" + menu.title
        });
      };
      onShow(() => {
        uni.$currentUser = uni.getStorageSync("currentUser");
        if (!uni.$currentUser.id) {
          uni.navigateTo({
            url: "./login"
          });
          return;
        }
        currentUser.value = uni.$currentUser;
        getBanners();
      });
      const chatLogin = async (id2) => {
        try {
          const { data: data2 } = await tencentSigIm({ userId: id2 });
          const success = await loginTIM({ userId: id2, userSig: data2.userSig });
          if (success) {
            await waitSDKReady();
            if (!tim.value) {
              formatAppLog("error", "at pages/index/index.vue:454", "TIM 实例仍未初始化");
              return;
            }
          }
        } catch (error) {
          formatAppLog("log", "at pages/index/index.vue:459", error);
        }
      };
      const getBanners = async () => {
        let res2 = await bannerList();
        banners.value = res2.data;
      };
      const categoryList = vue.ref([]);
      const currentCategoryId = vue.ref(0);
      const getProductsByCategoryApi = async () => {
        let res2 = await postCategoryList();
        let flatList = [];
        res2.data.forEach((topItem) => {
          flatList.push(topItem);
          if (topItem.children && topItem.children.length > 0) {
            flatList = [...flatList, ...topItem.children];
          }
        });
        currentCategoryId.value = flatList[0].id;
        loadGoodsByCategory(flatList[0].id);
        categoryList.value = flatList;
      };
      const handleCategoryClick = (category) => {
        currentCategoryId.value = category.id;
        loadGoodsByCategory(category.id);
      };
      const goodsList = vue.ref([]);
      const loadGoodsByCategory = async (categoryId) => {
        const { data: data2 } = await getProductsByCategory({ categoryId });
        goodsList.value = data2.records;
      };
      const goProductDetail = (id2) => {
        uni.navigateTo({
          url: `/pages/shopping-mall/product-details?id=${id2}`
        });
      };
      const formattedExamNum = (num) => {
        if (num >= 1e4) {
          return (num / 1e4).toFixed(1) + "w";
        }
        return num;
      };
      const gotoDetail = (data2) => {
        uni.navigateTo({
          url: `/pages/psychological-test/charge-test/charge-test?id=${data2.id}`
        });
      };
      const gotoListenPage = (data2) => {
        uni.switchTab({
          url: "/pages/confide/index?type=" + data2.title
        });
      };
      const shoppingMall = () => {
        uni.navigateTo({
          url: "/pages/shopping-mall/mall-home"
        });
      };
      const data = vue.reactive({
        listParams: {
          current: 1,
          size: 10,
          params: {}
        },
        list: [],
        answerlist: [],
        listenerList: [],
        consultantList: []
      });
      let consultantMenuList = vue.ref([]);
      const serverList = vue.ref([
        {
          icon: "/static/index/remark-icon1.png",
          title: "严选师资",
          desc: "5.2万认证咨询师"
        },
        {
          icon: "/static/index/remark-icon2.png",
          title: "专业咨询",
          desc: "累计时长7亿+分钟"
        },
        {
          icon: "/static/index/remark-icon3.png",
          title: "免费退改",
          desc: "承诺限时内可退改"
        },
        {
          icon: "/static/index/remark-icon4.png",
          title: "隐私保障",
          desc: "咨询过程全保密"
        }
      ]);
      const pourOutList = vue.ref([
        {
          id: 1,
          icon: "/static/index/sleep.png",
          title: "睡眠改善"
        },
        {
          id: 2,
          icon: "/static/index/education.png",
          title: "亲子教育"
        },
        {
          id: 3,
          icon: "/static/index/emotion.png",
          title: "情绪压力"
        },
        {
          id: 4,
          icon: "/static/index/matching.png",
          title: "快速匹配"
        },
        {
          id: 5,
          icon: "/static/index/marriage.png",
          title: "婚姻情感"
        }
      ]);
      const searchFn = () => {
      };
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const openArticleFn = (type) => {
        let url2 = type == 1 ? "/pages/readArticle/readArticle" : "/pages/readArticle/articleDetail";
        uni.navigateTo({
          url: url2
        });
      };
      const openTeacherFn = (type, val2) => {
        let url2 = type == "listener" ? "/pages/confide/detail" : "/pages/consult/detail";
        uni.navigateTo({
          url: url2 + "?id=" + val2.id + "&userId=" + val2.userId
        });
      };
      const switchTabsFn = (type) => {
        let url2 = type == 1 ? "/pages/consult/index" : "/pages/confide/index";
        uni.switchTab({
          url: url2
        });
      };
      const openForumHandler = () => {
        uni.navigateTo({
          url: "/pages/forum/index/index"
        });
      };
      const openPsyTestHandler = () => {
        uni.navigateTo({
          url: "/pages/psychological-test/index/index"
        });
      };
      const getlnfo = async () => {
        let res2 = await getUserInfo();
        globalStore.setUserInfo(res2.data);
      };
      const openArticleDetailFn = (item) => {
        uni.navigateTo({
          url: "/pages/readArticle/articleDetail?id=" + item.id
        });
      };
      const handover = vue.ref(1);
      const switchClick = (index) => {
        handover.value = index;
      };
      const getListener = async () => {
        let res2 = await getListenerList(data.listParams);
        data.listenerList = res2.data.records;
      };
      const getConsultantListApi = async () => {
        let res2 = await getConsultantList({
          ...data.listParams,
          params: {
            current: 1,
            size: 10
          }
        });
        formatAppLog("log", "at pages/index/index.vue:664", res2.data.records);
        data.consultantList = res2.data.records;
      };
      const getList = async () => {
        let res2 = await getArticleList(data.listParams);
        data.list = res2.data.records;
      };
      const getAnswer = async () => {
        let res2 = await getAnswerList(data.listParams);
        data.answerlist = res2.data.records;
      };
      const getConsultantMenu = async () => {
        let resp = await getConsultantMenus({
          type: 0
        });
        uni.setStorageSync("consultantMenu", JSON.stringify(resp.data));
        let menus = resp.data;
        let showMenus = menus.slice(0, 9);
        showMenus.push({
          name: "全部",
          icon: "/static/index/menu_all.png"
        });
        formatAppLog("log", "at pages/index/index.vue:691", showMenus);
        consultantMenuList.value = showMenus;
      };
      const getListenerMenu = async () => {
        let resp = await getConsultantMenus({
          type: 1
        });
        formatAppLog("log", "at pages/index/index.vue:700", "menu2", resp);
        uni.setStorageSync("listenerMenu", JSON.stringify(resp.data));
        let menus = resp.data;
        let showMenus = menus.slice(0, 8);
        showMenus.push({
          name: "全部",
          icon: "/static/index/l_menu_all.png"
        });
        listenerMenu.value = showMenus;
      };
      const getHomeExams = async () => {
        let resp = await listHomeExams();
        formatAppLog("log", "at pages/index/index.vue:714", resp);
        homeExams.value = resp.data;
      };
      const chunkedExams = vue.computed(() => {
        const chunkSize = 4;
        const result = [];
        for (let i2 = 0; i2 < homeExams.value.length; i2 += chunkSize) {
          result.push(homeExams.value.slice(i2, i2 + chunkSize));
        }
        formatAppLog("log", "at pages/index/index.vue:723", result);
        return result;
      });
      vue.onMounted(() => {
        getlnfo();
        getListener();
        getList();
        getHomeExams();
        getAnswer();
        getConsultantListApi();
        getProductsByCategoryApi();
        chatLogin(uni.$currentUser.id);
        let cMenuList = uni.getStorageSync("consultantMenu");
        if (!cMenuList) {
          getConsultantMenu();
        } else {
          let menus = JSON.parse(cMenuList);
          let showMenus = menus.slice(0, 9);
          showMenus.push({
            name: "全部",
            icon: "/static/index/menu_all.png"
          });
          consultantMenuList.value = showMenus;
        }
        let lMenuList = uni.getStorageSync("listenerMenu");
        if (!lMenuList) {
          getListenerMenu();
        } else {
          let menus = JSON.parse(lMenuList);
          let showMenus = menus.slice(0, 8);
          showMenus.push({
            name: "全部",
            icon: "/static/index/l_menu_all.png"
          });
          listenerMenu.value = showMenus;
        }
      });
      const __returned__ = { banners, homeExams, globalStore, statusBarHeight, searchContentHeight, searchSwiperHeight, loginTIM, get scrollTop() {
        return scrollTop;
      }, set scrollTop(v2) {
        scrollTop = v2;
      }, listenerMenu, get currentUser() {
        return currentUser;
      }, set currentUser(v2) {
        currentUser = v2;
      }, gotoListPage, chatLogin, getBanners, categoryList, currentCategoryId, getProductsByCategoryApi, handleCategoryClick, goodsList, loadGoodsByCategory, goProductDetail, formattedExamNum, gotoDetail, gotoListenPage, shoppingMall, data, get consultantMenuList() {
        return consultantMenuList;
      }, set consultantMenuList(v2) {
        consultantMenuList = v2;
      }, serverList, pourOutList, searchFn, onPageScroll: onPageScroll2, openArticleFn, openTeacherFn, switchTabsFn, openForumHandler, openPsyTestHandler, getlnfo, openArticleDetailFn, handover, switchClick, getListener, getConsultantListApi, getList, getAnswer, getConsultantMenu, getListenerMenu, getHomeExams, chunkedExams, get getUserInfo() {
        return getUserInfo;
      }, get getArticleList() {
        return getArticleList;
      }, get getListenerList() {
        return getListenerList;
      }, get getAnswerList() {
        return getAnswerList;
      }, get bannerList() {
        return bannerList;
      }, get getConsultantMenus() {
        return getConsultantMenus;
      }, get listHomeExams() {
        return listHomeExams;
      }, ref: vue.ref, onMounted: vue.onMounted, reactive: vue.reactive, computed: vue.computed, get onShow() {
        return onShow;
      }, ConfideTeacherListItem, ConsultTeacherListItem, get RecommendArticleItem() {
        return RecommendArticleItem;
      }, get ForumItem() {
        return ForumItem;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get useTIM() {
        return useTIM;
      }, get tencentSigIm() {
        return tencentSigIm;
      }, get getConsultantList() {
        return getConsultantList;
      }, get postCategoryList() {
        return postCategoryList;
      }, get getProductsByCategory() {
        return getProductsByCategory;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1I(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    const _component_viwe = vue.resolveComponent("viwe");
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "home-box",
        ref: "homBox"
      },
      [
        vue.createElementVNode(
          "scroll-view",
          {
            "scroll-y": "",
            onScroll: $setup.onPageScroll,
            class: "scroll-content",
            "show-scrollbar": false
          },
          [
            vue.createElementVNode("view", { class: "header" }, [
              vue.createElementVNode("view", { class: "grass" }, [
                vue.createElementVNode("image", {
                  src: _imports_0$l,
                  class: "img"
                })
              ]),
              vue.createElementVNode("view", { class: "contaior" }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["search-content", $setup.scrollTop > 15 ? "scrollClass" : ""])
                  },
                  [
                    vue.createElementVNode("view", { class: "contact" }, [
                      vue.createElementVNode("image", {
                        src: _imports_1$e,
                        class: "logo-image"
                      })
                    ]),
                    vue.createElementVNode("view", { class: "search" }, [
                      vue.createVNode(_component_uni_search_bar, {
                        class: "uni-mt-10",
                        radius: "100",
                        placeholder: "搜索内容",
                        clearButton: "auto",
                        cancelButton: "none",
                        onConfirm: $setup.searchFn
                      })
                    ]),
                    vue.createElementVNode("view", { class: "contact" }, [
                      vue.createElementVNode("image", {
                        src: $setup.scrollTop > 15 ? "/static/index/scroll-notice.png" : "/static/index/notice.png"
                      }, null, 8, ["src"])
                    ])
                  ],
                  2
                  /* CLASS */
                ),
                vue.createElementVNode("view", { class: "swiper-content" }, [
                  vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
                    vue.createElementVNode("swiper", {
                      class: "swiper",
                      circular: "",
                      "indicator-dots": true,
                      autoplay: true,
                      interval: 5e3,
                      duration: 500
                    }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.banners, (i2, index) => {
                          return vue.openBlock(), vue.createElementBlock("swiper-item", {
                            key: index,
                            class: "swiper-item"
                          }, [
                            vue.createElementVNode("view", { class: "swiper-item uni-bg-red" }, [
                              vue.createElementVNode("image", {
                                src: i2.image,
                                mode: "aspectFill",
                                class: "img"
                              }, null, 8, ["src"])
                            ])
                          ]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "pour-out-box" }, [
                  vue.createElementVNode("view", { class: "pour-out-header" }, [
                    vue.createElementVNode("view", { class: "title" }, [
                      vue.createElementVNode("view", null, "倾听专区"),
                      vue.createElementVNode("image", { src: _imports_0$k })
                    ]),
                    vue.createElementVNode("view", { class: "features" }, [
                      vue.createElementVNode("view", { class: "feature-item" }, [
                        vue.createElementVNode("image", { src: _imports_3$3 }),
                        vue.createElementVNode("view", null, "隐私保密")
                      ]),
                      vue.createElementVNode("view", { class: "feature-item" }, [
                        vue.createElementVNode("image", { src: _imports_4$3 }),
                        vue.createElementVNode("view", null, "严格把控")
                      ]),
                      vue.createElementVNode("view", { class: "feature-item" }, [
                        vue.createElementVNode("image", { src: _imports_5$2 }),
                        vue.createElementVNode("view", null, "随用随退")
                      ])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "pour-out-list" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.pourOutList, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          key: index + item.id,
                          class: "pour-out-item",
                          onClick: ($event) => $setup.gotoListenPage(item)
                        }, [
                          vue.createElementVNode("image", {
                            src: item.icon
                          }, null, 8, ["src"]),
                          vue.createElementVNode(
                            "view",
                            null,
                            vue.toDisplayString(item.title),
                            1
                            /* TEXT */
                          )
                        ], 8, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "psychological-box" }, [
              vue.createElementVNode("view", { class: "psychological-header" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("text", null, "心理咨询师专区"),
                  vue.createElementVNode("image", {
                    src: _imports_0$k,
                    class: "subscript"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "info-bar" }, [
                vue.createElementVNode("text", { class: "bar-txt" }, "本专区咨询师都持有国家相关资格证书")
              ]),
              vue.createElementVNode("view", { class: "icon-grid" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.consultantMenuList, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "icon-item",
                      onClick: ($event) => $setup.gotoListPage(item),
                      key: index
                    }, [
                      vue.createElementVNode("view", { class: "icon-circle" }, [
                        vue.createElementVNode("image", {
                          src: item.icon == "" ? "@/static/index/icon1.png" : item.icon,
                          class: "img"
                        }, null, 8, ["src"])
                      ]),
                      vue.createElementVNode(
                        "text",
                        { class: "icon-text" },
                        vue.toDisplayString(item.name),
                        1
                        /* TEXT */
                      )
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", {
              class: "swiper-content",
              style: { "padding-top": "0" }
            }, [
              vue.createElementVNode("view", { class: "title" }, [
                vue.createVNode(_component_viwe, null, {
                  default: vue.withCtx(() => [
                    vue.createTextVNode("名师堂专区")
                  ]),
                  _: 1
                  /* STABLE */
                }),
                vue.createElementVNode("image", {
                  src: _imports_0$k,
                  class: "subscript"
                })
              ]),
              vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
                vue.createElementVNode("swiper", {
                  class: "swiper",
                  circular: "",
                  "indicator-dots": true,
                  autoplay: true,
                  interval: 5e3,
                  duration: 500
                }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.banners, (i2, index) => {
                      return vue.openBlock(), vue.createElementBlock("swiper-item", {
                        key: index,
                        class: "swiper-item"
                      }, [
                        vue.createElementVNode("view", { class: "swiper-item uni-bg-red" }, [
                          vue.createElementVNode("image", {
                            src: i2.image,
                            mode: "aspectFill",
                            class: "img"
                          }, null, 8, ["src"])
                        ])
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ])
            ]),
            $setup.globalStore.mallSwitch ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "hot-psychological-box"
            }, [
              vue.createElementVNode("view", { class: "hot-psychological-header" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("view", null, "麦苗健康商城"),
                  vue.createElementVNode("image", {
                    src: _imports_0$k,
                    class: "subscript"
                  })
                ]),
                vue.createElementVNode("view", {
                  class: "more",
                  onClick: $setup.shoppingMall
                }, [
                  vue.createTextVNode("更多"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "12",
                    color: "rgba(0, 0, 0, 0.5)"
                  })
                ])
              ]),
              vue.createElementVNode("scroll-view", {
                class: "category-scroll",
                "scroll-x": "true",
                "show-scrollbar": "false"
              }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.categoryList, (item, idx) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: vue.normalizeClass(["category-item", { active: $setup.currentCategoryId === item.id }]),
                      key: item.id,
                      onClick: ($event) => $setup.handleCategoryClick(item)
                    }, [
                      vue.createElementVNode("view", { class: "category-name" }, [
                        vue.createElementVNode(
                          "view",
                          null,
                          vue.toDisplayString(item.name),
                          1
                          /* TEXT */
                        ),
                        item.id == $setup.currentCategoryId ? (vue.openBlock(), vue.createElementBlock("image", {
                          key: 0,
                          src: _imports_0$j
                        })) : vue.createCommentVNode("v-if", true),
                        item.id == $setup.currentCategoryId ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 1,
                          class: "line"
                        })) : vue.createCommentVNode("v-if", true)
                      ])
                    ], 10, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ]),
              vue.createElementVNode("view", { class: "goods-box" }, [
                vue.createElementVNode("image", {
                  src: _imports_7,
                  class: "shopping-img"
                }),
                vue.createElementVNode("scroll-view", {
                  class: "goods-scroll",
                  "scroll-x": "true",
                  "show-scrollbar": "false"
                }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.goodsList, (goods, idx) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "goods-item",
                        key: goods.id,
                        onClick: ($event) => $setup.goProductDetail(goods.id)
                      }, [
                        vue.createElementVNode("image", {
                          class: "goods-thumb",
                          src: goods.thumbnail,
                          mode: "widthFix"
                        }, null, 8, ["src"]),
                        vue.createElementVNode(
                          "view",
                          { class: "goods-name" },
                          vue.toDisplayString(goods.name),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "goods-price" },
                          "¥" + vue.toDisplayString(goods.minPrice),
                          1
                          /* TEXT */
                        )
                      ], 8, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  )),
                  !$setup.goodsList.length ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "no-goods"
                  }, "暂无商品")) : vue.createCommentVNode("v-if", true)
                ])
              ])
            ])) : vue.createCommentVNode("v-if", true),
            vue.createElementVNode("view", { class: "hot-psychological-box hot-psychological-box2" }, [
              vue.createElementVNode("view", { class: "hot-psychological-header" }, [
                vue.createElementVNode("view", { class: "title title2" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: "psychology",
                      style: vue.normalizeStyle([{ "left": "0" }, {
                        top: $setup.handover == 1 ? "0" : "23rpx",
                        color: $setup.handover == 1 ? "" : "#a3a3a3"
                      }]),
                      onClick: _cache[0] || (_cache[0] = ($event) => $setup.switchClick(1))
                    },
                    "热门心理咨询师",
                    4
                    /* STYLE */
                  ),
                  vue.createElementVNode(
                    "image",
                    {
                      class: vue.normalizeClass($setup.handover == 1 ? "" : "subscriptImg"),
                      src: _imports_0$k
                    },
                    null,
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode(
                    "view",
                    {
                      class: "subscript",
                      style: vue.normalizeStyle([{ "left": "285rpx" }, {
                        top: $setup.handover == 1 ? "20rpx" : "0",
                        color: $setup.handover == 2 ? "" : "#a3a3a3"
                      }]),
                      onClick: _cache[1] || (_cache[1] = ($event) => $setup.switchClick(2))
                    },
                    "热门倾听师",
                    4
                    /* STYLE */
                  )
                ]),
                vue.createElementVNode("view", {
                  class: "more",
                  onClick: _cache[2] || (_cache[2] = ($event) => $setup.switchTabsFn(2))
                }, [
                  vue.createTextVNode("更多"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "12",
                    color: "rgba(0, 0, 0, 0.5)"
                  })
                ])
              ]),
              vue.createElementVNode("scroll-view", {
                class: "scroll-view_H",
                "scroll-x": "true",
                "scroll-left": "0",
                "show-scrollbar": false
              }, [
                vue.createElementVNode("view", { class: "scroll-wrap" }, [
                  $setup.handover == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "list"
                  }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.data.consultantList, (item, index) => {
                        return vue.openBlock(), vue.createBlock($setup["ConsultTeacherListItem"], {
                          class: "list-item",
                          info: item,
                          key: item.id,
                          onClick: ($event) => $setup.openTeacherFn(item.source, item)
                        }, null, 8, ["info", "onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])) : vue.createCommentVNode("v-if", true),
                  $setup.handover == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "list"
                  }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.data.listenerList, (item, index) => {
                        return vue.openBlock(), vue.createBlock($setup["ConfideTeacherListItem"], {
                          class: "list-item confide-list-item",
                          info: item,
                          key: item.id,
                          onClick: ($event) => $setup.openTeacherFn("listener", item)
                        }, null, 8, ["info", "onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])) : vue.createCommentVNode("v-if", true)
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "psychology-test-box" }, [
              vue.createElementVNode("image", {
                class: "img",
                src: _imports_8$1
              }),
              vue.createElementVNode("view", { class: "psychology-content" }, [
                vue.createElementVNode("view", { class: "psychology-content-header" }, [
                  vue.createElementVNode("view", { class: "title" }, [
                    vue.createElementVNode("view", { class: "psychology" }, "心理测试"),
                    vue.createElementVNode("image", {
                      src: _imports_0$k,
                      class: "subscript"
                    })
                  ]),
                  vue.createElementVNode("view", {
                    class: "more",
                    onClick: $setup.openPsyTestHandler
                  }, [
                    vue.createElementVNode("text", null, "更多"),
                    vue.createVNode(_component_uni_icons, {
                      type: "right",
                      size: "12",
                      color: "rgba(0, 0, 0, 0.5)"
                    })
                  ])
                ]),
                vue.createElementVNode("view", { class: "psychology-content-img" }, [
                  vue.createElementVNode("image", {
                    src: _imports_9$1,
                    class: "content-img"
                  })
                ]),
                vue.createElementVNode("swiper", {
                  class: "content-swiper",
                  "indicator-dots": true,
                  autoplay: false,
                  "indicator-active-color": "#35CA95"
                }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.chunkedExams, (page, pageIndex) => {
                      return vue.openBlock(), vue.createElementBlock("swiper-item", { key: pageIndex }, [
                        vue.createElementVNode("view", { class: "content-list" }, [
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(page, (item, index) => {
                              return vue.openBlock(), vue.createElementBlock("view", {
                                class: "content-item",
                                key: index,
                                onClick: ($event) => $setup.gotoDetail(item)
                              }, [
                                vue.createElementVNode("view", { class: "lock" }, [
                                  vue.createElementVNode("image", {
                                    src: _imports_10,
                                    class: "lock-img"
                                  })
                                ]),
                                vue.createElementVNode("view", { class: "info" }, [
                                  vue.createElementVNode(
                                    "div",
                                    { class: "title" },
                                    vue.toDisplayString(item.title),
                                    1
                                    /* TEXT */
                                  ),
                                  vue.createElementVNode(
                                    "div",
                                    { class: "num" },
                                    vue.toDisplayString($setup.formattedExamNum(item.examNum)) + " 人已测 ",
                                    1
                                    /* TEXT */
                                  ),
                                  vue.createElementVNode("div", { class: "test-btn" }, "开始测试")
                                ]),
                                vue.createElementVNode("image", {
                                  src: item.icon || "/static/index/psychology-content-icon.png",
                                  class: "content-item-img"
                                }, null, 8, ["src"])
                              ], 8, ["onClick"]);
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          ))
                        ])
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "recommend-article-box" }, [
              vue.createElementVNode("view", { class: "recommend-article-header" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("view", null, "文章推荐"),
                  vue.createElementVNode("image", {
                    src: _imports_0$k,
                    class: "subscript"
                  })
                ]),
                vue.createElementVNode("view", {
                  class: "more",
                  onClick: _cache[3] || (_cache[3] = ($event) => $setup.openArticleFn(1))
                }, [
                  vue.createTextVNode("更多"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "12",
                    color: "rgba(0, 0, 0, 0.5)"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "article-list" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.data.list, (i2) => {
                    return vue.openBlock(), vue.createBlock($setup["RecommendArticleItem"], {
                      info: i2,
                      class: "article-item",
                      onClick: ($event) => $setup.openArticleDetailFn(i2)
                    }, null, 8, ["info", "onClick"]);
                  }),
                  256
                  /* UNKEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", { class: "mm-forum-box" }, [
              vue.createElementVNode("view", { class: "mm-forum-header" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("view", null, "麦苗论坛"),
                  vue.createElementVNode("image", {
                    src: _imports_0$k,
                    class: "subscript"
                  })
                ]),
                vue.createElementVNode("view", {
                  class: "more",
                  onClick: $setup.openForumHandler
                }, [
                  vue.createTextVNode("更多"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "12",
                    color: "rgba(0, 0, 0, 0.5)"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "forum-list" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.data.answerlist, (i2) => {
                    return vue.openBlock(), vue.createBlock($setup["ForumItem"], {
                      info: i2,
                      class: "forum-content"
                    }, null, 8, ["info"]);
                  }),
                  256
                  /* UNKEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", { class: "remark-box" }, [
              vue.createElementVNode("view", { class: "title" }, "专业的心理服务平台"),
              vue.createElementVNode("view", { class: "hotline" }, [
                vue.createTextVNode(" 7×24 小时专属顾问热线： "),
                vue.createElementVNode("text", { class: "phone" }, "400-6688-999")
              ]),
              vue.createElementVNode("view", { class: "feature-container" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.serverList, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "feature-item",
                      key: index
                    }, [
                      vue.createElementVNode("image", {
                        class: "icon",
                        src: item.icon,
                        mode: "aspectFit"
                      }, null, 8, ["src"]),
                      vue.createElementVNode("view", { class: "content" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "feature-title" },
                          vue.toDisplayString(item.title),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "text",
                          { class: "feature-desc" },
                          vue.toDisplayString(item.desc),
                          1
                          /* TEXT */
                        )
                      ])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ],
          32
          /* NEED_HYDRATION */
        )
      ],
      512
      /* NEED_PATCH */
    );
  }
  const PagesIndexIndex = /* @__PURE__ */ _export_sfc(_sfc_main$1J, [["render", _sfc_render$1I], ["__scopeId", "data-v-1cf27b2a"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/index/index.vue"]]);
  const _sfc_main$1I = {
    name: "UniBadge",
    emits: ["click"],
    props: {
      type: {
        type: String,
        default: "error"
      },
      inverted: {
        type: Boolean,
        default: false
      },
      isDot: {
        type: Boolean,
        default: false
      },
      maxNum: {
        type: Number,
        default: 99
      },
      absolute: {
        type: String,
        default: ""
      },
      offset: {
        type: Array,
        default() {
          return [0, 0];
        }
      },
      text: {
        type: [String, Number],
        default: ""
      },
      size: {
        type: String,
        default: "small"
      },
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      }
    },
    data() {
      return {};
    },
    computed: {
      width() {
        return String(this.text).length * 8 + 12;
      },
      classNames() {
        const {
          inverted,
          type,
          size,
          absolute
        } = this;
        return [
          inverted ? "uni-badge--" + type + "-inverted" : "",
          "uni-badge--" + type,
          "uni-badge--" + size,
          absolute ? "uni-badge--absolute" : ""
        ].join(" ");
      },
      positionStyle() {
        if (!this.absolute)
          return {};
        let w2 = this.width / 2, h2 = 10;
        if (this.isDot) {
          w2 = 5;
          h2 = 5;
        }
        const x = `${-w2 + this.offset[0]}px`;
        const y2 = `${-h2 + this.offset[1]}px`;
        const whiteList = {
          rightTop: {
            right: x,
            top: y2
          },
          rightBottom: {
            right: x,
            bottom: y2
          },
          leftBottom: {
            left: x,
            bottom: y2
          },
          leftTop: {
            left: x,
            top: y2
          }
        };
        const match = whiteList[this.absolute];
        return match ? match : whiteList["rightTop"];
      },
      dotStyle() {
        if (!this.isDot)
          return {};
        return {
          width: "10px",
          minWidth: "0",
          height: "10px",
          padding: "0",
          borderRadius: "10px"
        };
      },
      displayValue() {
        const {
          isDot,
          text,
          maxNum
        } = this;
        return isDot ? "" : Number(text) > maxNum ? `${maxNum}+` : text;
      }
    },
    methods: {
      onClick() {
        this.$emit("click");
      }
    }
  };
  function _sfc_render$1H(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-badge--x" }, [
      vue.renderSlot(_ctx.$slots, "default", {}, void 0, true),
      $props.text ? (vue.openBlock(), vue.createElementBlock(
        "text",
        {
          key: 0,
          class: vue.normalizeClass([$options.classNames, "uni-badge"]),
          style: vue.normalizeStyle([$options.positionStyle, $props.customStyle, $options.dotStyle]),
          onClick: _cache[0] || (_cache[0] = ($event) => $options.onClick())
        },
        vue.toDisplayString($options.displayValue),
        7
        /* TEXT, CLASS, STYLE */
      )) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const __easycom_0$3 = /* @__PURE__ */ _export_sfc(_sfc_main$1I, [["render", _sfc_render$1H], ["__scopeId", "data-v-c97cb896"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-badge/components/uni-badge/uni-badge.vue"]]);
  const _imports_0$i = "/static/consult/contect.png";
  const _imports_1$d = "/static/message/use-read.svg";
  const SDKAppID = 1600116083;
  const _sfc_main$1H = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "780fc0ad-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const {
        tim: tim2,
        loading,
        errorMsg,
        isLogin,
        sdkReady,
        loginTIM,
        waitSDKReady: waitSDKReady2,
        onTIMEvent
      } = useTIM(SDKAppID);
      const testUser = {
        userId: uni.getStorageSync("currentUser").id,
        userSig: ""
      };
      const initIM = async () => {
        try {
          await getConversationList();
        } catch (e2) {
          formatAppLog("log", "at pages/message/index.vue:215", e2);
        }
      };
      const conversations = vue.ref([]);
      const getConversationList = async () => {
        await waitSDKReady2();
        try {
          const message2 = await tim2.value.getConversationList({ hasUnreadCount: true });
          const unread = await tim2.value.getTotalUnreadMessageCount();
          userList(message2.data.conversationList);
        } catch (err) {
          formatAppLog("error", "at pages/message/index.vue:229", "获取会话列表失败：", err);
        }
      };
      const userList = async (list) => {
        if (!Array.isArray(list) || list.length === 0) {
          conversations.value = [];
          formatAppLog("log", "at pages/message/index.vue:236", "list为空，无需处理");
          return;
        }
        try {
          const idList = list.map((item) => item.toAccount).filter((id2) => id2);
          if (idList.length === 0) {
            conversations.value = [...list];
            return;
          }
          const { data } = await postAdminList({
            params: {
              id: idList
            }
          });
          const recordMap = {};
          const records = Array.isArray(data.records) ? data.records : [data.records];
          records.forEach((item) => {
            if (item.id) {
              recordMap[item.id] = {
                avatar: item.avatar,
                realName: item.realName
              };
            }
          });
          const processedList = list.map((item) => {
            const matched = recordMap[item.toAccount] || {};
            return {
              ...item,
              avatar: matched.avatar || "",
              realName: matched.realName || ""
            };
          });
          formatAppLog("log", "at pages/message/index.vue:268", processedList);
          conversations.value = processedList;
        } catch (err) {
          formatAppLog("error", "at pages/message/index.vue:273", "请求postAdminList失败：", err);
        }
      };
      vue.onMounted(() => {
        onTIMEvent(TIM.EVENT.SDK_READY, () => {
          if (isLogin) {
            getConversationList();
          }
        });
        onTIMEvent(TIM.EVENT.CONVERSATION_LIST_UPDATED, (event) => {
          conversationList.value = event.data.conversationList;
        });
        if (isLogin && sdkReady) {
          getConversationList();
        }
      });
      const messageType = (val2) => {
        switch (val2) {
          case "TIMTextElem":
            return "[文字消息]";
          case "TIMImageElem":
            return "[图片消息]";
          case "TIMSoundElem":
            return "[语音消息]";
          case "TIMVideoElem":
            return "[视频消息]";
          default:
            return "[未识别内容]";
        }
      };
      const privateChantNum = vue.ref(0);
      const noticeNum = vue.ref(101);
      const activeIndex = vue.ref(0);
      const serviceRef = vue.ref(null);
      const customerService = () => {
        serviceRef.value.open();
      };
      const tabActiveHandler = (i2) => {
        i2 != activeIndex.value ? activeIndex.value = i2 : "";
      };
      const contentTabLists = vue.ref([
        { id: 1, label: "全部" },
        { id: 2, label: "服务中" },
        { id: 3, label: "服务过" }
      ]);
      const contentTabActiveIndex = vue.ref(1);
      const contentTabHandler = (i2) => {
        i2 != contentTabActiveIndex.value ? contentTabActiveIndex.value = i2 : "";
      };
      const currentUser = vue.ref({});
      onShow(() => {
        initIM();
        currentUser.value = uni.getStorageSync("currentUser");
      });
      const conversationPopup = vue.ref(null);
      const currentConversation = vue.ref(null);
      const showAction = (conversation) => {
        var _a2;
        currentConversation.value = conversation;
        (_a2 = conversationPopup.value) == null ? void 0 : _a2.open();
      };
      const topConversation = () => {
        var _a2;
        (_a2 = conversationPopup.value) == null ? void 0 : _a2.close();
        const { isPinned, conversationID } = currentConversation.value;
        let description = isPinned ? "取消置顶" : "置顶";
        let promise2 = tim2.value.pinConversation({
          conversationID,
          isPinned: !isPinned
        });
        promise2.then(() => {
          getConversationList();
          uni.showToast({
            title: description + "成功",
            icon: "none"
          });
        });
      };
      const deleteConversation = () => {
        var _a2;
        (_a2 = conversationPopup.value) == null ? void 0 : _a2.close();
        const { conversationID } = currentConversation.value;
        uni.showModal({
          content: "确认删除这条会话吗？",
          success: (res2) => {
            if (res2.confirm) {
              let promise2 = tim2.value.deleteConversation(conversationID);
              promise2.then(() => {
                getConversationList();
                uni.showToast({
                  title: "删除成功",
                  icon: "none"
                });
              });
            }
          }
        });
      };
      const alreadReadPopup = vue.ref(null);
      const alreadReadHandler = () => {
        var _a2;
        (_a2 = alreadReadPopup.value) == null ? void 0 : _a2.open();
      };
      const cancelHandler = () => {
        var _a2;
        (_a2 = alreadReadPopup.value) == null ? void 0 : _a2.close();
      };
      const confirmHandler = () => {
        let promise2 = tim2.value.setAllMessageRead();
        promise2.then(() => {
          getConversationList();
          uni.showToast({
            title: "操作成功"
          });
        });
        cancelHandler();
      };
      const chatHandler = (val2) => {
        const { userProfile, realName: realName2, avatar } = val2;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${userProfile.userID}&name=${realName2} &avatar=${avatar}`
        });
      };
      const __returned__ = { globalStore, statusBarHeight, SDKAppID, tim: tim2, loading, errorMsg, isLogin, sdkReady, loginTIM, waitSDKReady: waitSDKReady2, onTIMEvent, testUser, initIM, conversations, getConversationList, userList, messageType, privateChantNum, noticeNum, activeIndex, serviceRef, customerService, tabActiveHandler, contentTabLists, contentTabActiveIndex, contentTabHandler, currentUser, conversationPopup, currentConversation, showAction, topConversation, deleteConversation, alreadReadPopup, alreadReadHandler, cancelHandler, confirmHandler, chatHandler, ref: vue.ref, onMounted: vue.onMounted, get formatDate() {
        return formatDate$1;
      }, get useTIM() {
        return useTIM;
      }, get onShow() {
        return onShow;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get tencentSigIm() {
        return tencentSigIm;
      }, get postAdminList() {
        return postAdminList;
      }, CustomerService };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1G(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_badge = resolveEasycom(vue.resolveDynamicComponent("uni-badge"), __easycom_0$3);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "message-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#f4f6f8",
        border: false,
        class: "header-bar",
        statusBar: true,
        fixed: "",
        leftWidth: "260rpx",
        rightWidth: "200rpx",
        height: "128rpx"
      }, {
        left: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "left" }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["tab-item", $setup.activeIndex == 0 ? "active" : ""]),
                onClick: _cache[0] || (_cache[0] = ($event) => $setup.tabActiveHandler(0))
              },
              [
                $setup.privateChantNum && $setup.privateChantNum > 0 ? (vue.openBlock(), vue.createBlock(_component_uni_badge, {
                  key: 0,
                  class: "uni-badge-left-margin",
                  text: $setup.privateChantNum,
                  absolute: "rightTop",
                  "max-num": 99
                }, {
                  default: vue.withCtx(() => [
                    vue.createElementVNode("text", { class: "txt" }, "私聊")
                  ]),
                  _: 1
                  /* STABLE */
                }, 8, ["text"])) : (vue.openBlock(), vue.createElementBlock("text", {
                  key: 1,
                  class: "txt"
                }, "私聊"))
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["tab-item", $setup.activeIndex == 1 ? "active" : ""]),
                onClick: _cache[1] || (_cache[1] = ($event) => $setup.tabActiveHandler(1))
              },
              [
                vue.createElementVNode("text", { class: "txt" }, "通知")
              ],
              2
              /* CLASS */
            )
          ])
        ]),
        right: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "right" }, [
            vue.createElementVNode("view", {
              class: "img-txt",
              onClick: $setup.customerService
            }, [
              vue.createElementVNode("image", {
                src: _imports_0$i,
                class: "img"
              }),
              vue.createElementVNode("text", { class: "txt" }, "客服")
            ]),
            vue.createElementVNode("view", {
              class: "img-txt",
              onClick: $setup.alreadReadHandler
            }, [
              vue.createElementVNode("image", {
                src: _imports_1$d,
                class: "img"
              }),
              vue.createElementVNode("text", { class: "txt" }, "已读")
            ])
          ])
        ]),
        _: 1
        /* STABLE */
      }),
      $setup.activeIndex == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "message-content"
      }, [
        vue.createElementVNode("view", { class: "content-tab-box" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.contentTabLists, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["tab-item", $setup.contentTabActiveIndex == item.id ? "active" : ""]),
                key: index,
                onClick: ($event) => $setup.contentTabHandler(item.id)
              }, vue.toDisplayString(item.label), 11, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        vue.createElementVNode("view", { class: "scroll-content-box" }, [
          vue.createElementVNode("scroll-view", {
            "scroll-y": "",
            class: "scroll-content",
            "show-scrollbar": false
          }, [
            $setup.conversations.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.conversations, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: vue.normalizeClass(["content-item", item.isPinned ? "item-bg" : ""]),
                    key: index,
                    onClick: ($event) => $setup.chatHandler(item)
                  }, [
                    vue.createElementVNode("view", { class: "content-item-left" }, [
                      vue.createElementVNode("image", {
                        src: item.avatar,
                        class: "img"
                      }, null, 8, ["src"])
                    ]),
                    vue.createElementVNode("view", { class: "content-item-right" }, [
                      vue.createElementVNode("view", { class: "content-user-date" }, [
                        vue.createElementVNode(
                          "view",
                          { class: "name" },
                          vue.toDisplayString(item.realName),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "date" },
                          vue.toDisplayString($setup.formatDate(item.lastMessage.lastTime)),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "item-info-bottom-item" }, [
                        vue.createElementVNode("view", { class: "item-info-top_content" }, [
                          vue.createElementVNode("text", { class: "unread-text" }),
                          vue.createElementVNode(
                            "text",
                            null,
                            vue.toDisplayString($setup.messageType(item.lastMessage.type)),
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode("view", {
                          class: "item-info-bottom_action",
                          onClick: vue.withModifiers(($event) => $setup.showAction(item), ["stop"])
                        }, [
                          vue.createVNode(_component_uni_icons, {
                            type: "more-filled",
                            size: "24",
                            color: "rgba(0,0,0,.35)"
                          })
                        ], 8, ["onClick"])
                      ])
                    ])
                  ], 10, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])) : (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "no-conversation"
            }, "当前没有会话"))
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "conversationPopup",
          type: "center",
          "border-radius": "8rpx",
          class: "conversation-popup"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "item-box" }, [
              vue.createElementVNode(
                "view",
                {
                  class: "item",
                  onClick: $setup.topConversation
                },
                vue.toDisplayString($setup.currentConversation.isPinned ? "取消置顶" : "置顶聊天"),
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", {
                class: "item",
                onClick: $setup.deleteConversation
              }, "删除聊天")
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      ),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "alreadReadPopup",
          type: "center",
          "border-radius": "24rpx",
          class: "alread-read-popup"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "item-box" }, [
              vue.createElementVNode("view", { class: "title" }, "全部已读"),
              vue.createElementVNode("view", { class: "content" }, "确认将所有信息标记为已读？"),
              vue.createElementVNode("view", { class: "btn" }, [
                vue.createElementVNode("view", {
                  class: "cancel",
                  onClick: $setup.cancelHandler
                }, "取消"),
                vue.createElementVNode("view", {
                  class: "confirm",
                  onClick: $setup.confirmHandler
                }, "已读")
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      ),
      vue.createVNode(
        $setup["CustomerService"],
        { ref: "serviceRef" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesMessageIndex = /* @__PURE__ */ _export_sfc(_sfc_main$1H, [["render", _sfc_render$1G], ["__scopeId", "data-v-780fc0ad"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/message/index.vue"]]);
  const updateUser = (params, config2 = {}) => http$1.post("/api/user/update", params, config2);
  const changeConsultant = (params, config2 = {}) => http$1.post("/api/user/changeConsultant", params, config2);
  const getVerifyStatus = (params, config2 = {}) => http$1.get("/api/user/verifyStatus", params, config2);
  const saveRoleInfo = (params, config2 = {}) => http$1.post("/api/user/saveRoleInfo", params, config2);
  const complaintSubmitPost = (params, config2 = {}) => http$1.post("/api/complaint/submit", params, config2);
  const feedbackSubmit = (params, config2 = {}) => http$1.post("/api/feedback/submit", params, config2);
  const _imports_0$h = "/static/my/my-top-bg.png";
  const _imports_1$c = "/static/my/copy.png";
  const _imports_2$5 = "/static/my/bottom-arrow.png";
  const _imports_3$2 = "/static/settled/mall-entrance.png";
  const _imports_4$2 = "/static/my/join.png";
  const _imports_5$1 = "/static/my/service-setting.png";
  const _imports_6$1 = "/static/my/advice.png";
  const _imports_8 = "/static/my/positioning.png";
  const _imports_9 = "/static/my/setting.png";
  const _sfc_main$1G = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      const globalStore = useGlobalDataStore();
      const toPage = (url2) => {
        uni.navigateTo({
          url: url2
        });
      };
      const gridList = vue.ref([
        {
          url: "/static/my/grid-1.png",
          txt: "咨询订单"
        },
        {
          url: "/static/my/grid-2.png",
          txt: "倾诉订单"
        },
        // {
        // 	url: "/static/my/grid-3.png",
        // 	txt: "我的套餐"
        // },
        // {
        // 	url: "/static/my/grid-4.png",
        // 	txt: "优惠券"
        // },
        {
          url: "/static/my/grid-5.png",
          txt: "评测记录"
        },
        // {
        // 	url: "/static/my/grid-6.png",
        // 	txt: "兑换中心"
        // },
        {
          url: "/static/my/grid-7.png",
          txt: "足迹"
        },
        {
          url: "/static/my/grid-9.png",
          txt: "账单"
        }
        // {
        // 	url: "/static/my/grid-8.png",
        // 	txt: "邀请有礼"
        // }
      ]);
      const consultingList = vue.ref([
        { url: "/static/my/grid-consulting-1.png", txt: "列表" },
        { url: "/static/my/grid-consulting-2.png", txt: "认证资料" },
        { url: "/static/my/grid-consulting-3.png", txt: "服务设置" },
        { url: "/static/my/grid-consulting-4.png", txt: "钱包" }
      ]);
      const gotoServiceCenter = () => {
        uni.navigateTo({
          url: `/pages/settings/serviceSettings?type=${JSON.stringify(userlnfo.value.id)}`
        });
      };
      const toPublishs = () => {
        uni.navigateTo({
          url: "/pages/shopping-mall/mall-home"
        });
      };
      const pasteId = () => {
        uni.setClipboardData({
          data: userlnfo.value.id
        });
        uni.showToast({
          title: "复制成功",
          icon: "success",
          duration: 1500
        });
      };
      const consultantTypeMap = {
        0: "用户",
        1: "咨询师",
        2: "倾诉师"
      };
      const userRoleMap = {
        1: ["用户", "咨询师"],
        2: ["用户", "倾诉师"]
      };
      const userRoleTitle = vue.ref();
      const changeRoleFunc = async (e2) => {
        const consultantType = userRoleMap[userlnfo.value.userRole] == "倾诉师" ? 2 : e2.detail.value;
        try {
          let res2 = await changeConsultant({ consultantType });
          userlnfo.value = res2.data;
        } catch (error) {
        }
      };
      const toUserInfo = () => {
        uni.navigateTo({
          url: "/pages/forum/my/info"
        });
      };
      const toPublish = () => {
        uni.navigateTo({
          url: "/pages/forum/my/my"
        });
      };
      const toNav = (index) => {
        const INDEX_NAV = {
          0: "/pages/payment/order/consult-order?",
          1: "/pages/payment/order/listener-order",
          2: "/pages/payment/order/exam-order",
          // 3: "/pages/payment/order/exam-order",
          4: "/pages/payment/order/bill-order"
        };
        uni.navigateTo({
          url: `${INDEX_NAV[index]}?type=${JSON.stringify(userlnfo.value)}&service=false`
        });
      };
      const toConsultingNav = (index) => {
        const url2 = userlnfo.value.userRole == "1" ? "consult-order" : "listener-order";
        const orderUrl = `/pages/payment/order/${url2}`;
        const INDEX_NAV = {
          0: orderUrl,
          1: "/pages/settings/serviceSettings",
          2: `/pages/settings/service-setup`,
          3: "/pages/my/wallet/mine"
        };
        uni.navigateTo({
          url: `${INDEX_NAV[index]}?type=${JSON.stringify({ id: userlnfo.value.id, userRole: userlnfo.value.userRole })}&service=true&identity=${url2}`
        });
      };
      const settledFn = (userRole) => {
        if (userRole == 0) {
          uni.navigateTo({
            url: `/pages/settled/settled?type=${JSON.stringify(userlnfo.value.id)}`
          });
        } else {
          uni.showToast({ title: "已入驻", icon: "success" });
        }
      };
      const toLogout = () => {
        uni.clearStorageSync();
        uni.navigateTo({
          url: "/pages/login/login"
        });
      };
      const serviceRef = vue.ref(null);
      const customerService = () => {
        serviceRef.value.open();
      };
      const userlnfo = vue.ref({});
      const getlnfo = async () => {
        let res2 = await getUserInfo();
        userlnfo.value = res2.data;
        userRoleTitle.value = userRoleMap[userlnfo.value.userRole];
      };
      const summary2 = vue.ref({});
      const userSummaryApi = async () => {
        let res2 = await userSummary({
          userId: userlnfo.value.id
        });
        summary2.value = res2.data;
      };
      onShow(() => {
        getlnfo();
        userSummaryApi();
      });
      const __returned__ = { globalStore, toPage, gridList, consultingList, gotoServiceCenter, toPublishs, pasteId, consultantTypeMap, userRoleMap, userRoleTitle, changeRoleFunc, toUserInfo, toPublish, toNav, toConsultingNav, settledFn, toLogout, serviceRef, customerService, userlnfo, getlnfo, summary: summary2, userSummaryApi, ref: vue.ref, onMounted: vue.onMounted, get getUserInfo() {
        return getUserInfo;
      }, get userSummary() {
        return userSummary;
      }, get changeConsultant() {
        return changeConsultant;
      }, get onShow() {
        return onShow;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, CustomerService };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1F(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "my-box" }, [
      vue.createElementVNode("view", { class: "my-top-content" }, [
        vue.createElementVNode("image", { src: _imports_0$h })
      ]),
      vue.createElementVNode("view", { class: "container" }, [
        vue.createElementVNode("view", { class: "user-info" }, [
          vue.createElementVNode("view", null, [
            vue.createElementVNode("image", {
              src: $setup.userlnfo.avatar == null ? "@/static/my/profile.png" : $setup.userlnfo.avatar,
              mode: "aspectFill",
              class: "profile"
            }, null, 8, ["src"])
          ]),
          vue.createElementVNode("view", { class: "user-info-content" }, [
            vue.createElementVNode("view", null, [
              vue.createElementVNode("view", {
                class: "nick-name",
                onClick: $setup.toUserInfo
              }, [
                vue.createTextVNode(
                  vue.toDisplayString($setup.userlnfo.realName),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_icons, {
                  type: "right",
                  size: "16"
                })
              ])
            ]),
            vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "center", "justify-content": "space-between" } }, [
              vue.createElementVNode("view", {
                class: "id-num",
                style: { "flex": "1" }
              }, [
                vue.createElementVNode(
                  "text",
                  null,
                  "ID: " + vue.toDisplayString($setup.userlnfo.id),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("image", {
                  src: _imports_1$c,
                  class: "copy",
                  onClick: $setup.pasteId
                })
              ]),
              $setup.userlnfo.userRole != "0" ? (vue.openBlock(), vue.createElementBlock("picker", {
                key: 0,
                range: $setup.userRoleTitle,
                onChange: $setup.changeRoleFunc
              }, [
                vue.createElementVNode("view", { class: "change-user-box" }, [
                  vue.createElementVNode("view", { class: "change-user" }, [
                    vue.createTextVNode(
                      vue.toDisplayString($setup.consultantTypeMap[$setup.userlnfo.consultantType]) + " ",
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("image", {
                      src: _imports_2$5,
                      class: "bottom-arrow"
                    })
                  ])
                ])
              ], 40, ["range"])) : (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "change-user-box"
              }, [
                vue.createElementVNode("view", { class: "change-user" }, "用户")
              ]))
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "my-record-number" }, [
          vue.createElementVNode("view", { class: "item" }, [
            vue.createElementVNode(
              "view",
              { class: "num" },
              vue.toDisplayString($setup.summary.consultCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "txt" }, "我的咨询")
          ]),
          vue.createElementVNode("view", {
            class: "item",
            onClick: $setup.toPublish
          }, [
            vue.createElementVNode(
              "view",
              { class: "num" },
              vue.toDisplayString($setup.summary.publishCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "txt" }, "我的发布")
          ]),
          vue.createElementVNode("view", { class: "item" }, [
            vue.createElementVNode(
              "view",
              { class: "num" },
              vue.toDisplayString($setup.summary.followCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "txt" }, "我的关注")
          ]),
          vue.createElementVNode("view", { class: "item" }, [
            vue.createElementVNode(
              "view",
              { class: "num" },
              vue.toDisplayString($setup.summary.collectCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "txt" }, "我的收藏")
          ])
        ]),
        $setup.globalStore.mallSwitch ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "consult-box",
          onClick: $setup.toPublishs
        }, [
          vue.createElementVNode("image", {
            class: "",
            src: _imports_3$2
          })
        ])) : vue.createCommentVNode("v-if", true),
        vue.createElementVNode("view", { class: "my-server" }, [
          vue.createElementVNode("view", { class: "title" }, "我的服务"),
          vue.createElementVNode("view", { class: "grid-box" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.gridList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: "grid-item grid-item-1",
                  onClick: ($event) => $setup.toNav(index)
                }, [
                  vue.createElementVNode("image", {
                    src: item.url,
                    class: "image"
                  }, null, 8, ["src"]),
                  vue.createElementVNode(
                    "view",
                    { class: "txt" },
                    vue.toDisplayString(item.txt),
                    1
                    /* TEXT */
                  )
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ]),
        $setup.userlnfo.consultantType != "0" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "my-server"
        }, [
          vue.createElementVNode(
            "view",
            { class: "title" },
            vue.toDisplayString($setup.userlnfo.userRole == "1" ? "咨询" : "倾听") + "专区",
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "grid-box" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.consultingList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: "grid-item",
                  onClick: ($event) => $setup.toConsultingNav(index)
                }, [
                  vue.createElementVNode("image", {
                    src: item.url,
                    class: "image"
                  }, null, 8, ["src"]),
                  vue.createElementVNode(
                    "view",
                    { class: "txt" },
                    vue.toDisplayString(item.txt == "列表" ? $setup.userlnfo.userRole == "1" ? "咨询列表" : "倾听列表" : item.txt),
                    1
                    /* TEXT */
                  )
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createElementVNode("view", { class: "other-server" }, [
          vue.createElementVNode("view", { class: "title" }, "其他服务"),
          vue.createElementVNode("view", { class: "other-list" }, [
            vue.createElementVNode("view", {
              class: "other-item",
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.settledFn($setup.userlnfo.userRole))
            }, [
              vue.createElementVNode("view", { class: "item-left" }, [
                vue.createElementVNode("image", { src: _imports_4$2 }),
                vue.createTextVNode(),
                vue.createElementVNode("text", null, "入驻平台")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "other-item",
              onClick: _cache[1] || (_cache[1] = ($event) => $setup.toPage("/pages/settings/help-center"))
            }, [
              vue.createElementVNode("view", { class: "item-left" }, [
                vue.createElementVNode("image", { src: _imports_5$1 }),
                vue.createTextVNode(),
                vue.createElementVNode("text", null, "帮助中心")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "other-item",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.toPage("/pages/settings/feedback"))
            }, [
              vue.createElementVNode("view", { class: "item-left" }, [
                vue.createElementVNode("image", { src: _imports_6$1 }),
                vue.createTextVNode(),
                vue.createElementVNode("text", null, "意见反馈")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "other-item",
              onClick: $setup.customerService
            }, [
              vue.createElementVNode("view", { class: "item-left" }, [
                vue.createElementVNode("image", { src: _imports_7$1 }),
                vue.createTextVNode(),
                vue.createElementVNode("text", null, "联系客服")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "other-item",
              onClick: _cache[3] || (_cache[3] = ($event) => $setup.toPage("/pages/shopping-mall/delivery-address"))
            }, [
              vue.createElementVNode("view", { class: "item-left" }, [
                vue.createElementVNode("image", {
                  src: _imports_8,
                  style: { "width": "23rpx" }
                }),
                vue.createElementVNode("text", { style: { "padding-left": "18rpx" } }, "收货地址")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "other-item",
              onClick: _cache[4] || (_cache[4] = ($event) => $setup.toPage("/pages/settings/settings"))
            }, [
              vue.createElementVNode("view", { class: "item-left" }, [
                vue.createElementVNode("image", { src: _imports_9 }),
                vue.createTextVNode(),
                vue.createElementVNode("text", null, "设置")
              ])
            ])
          ])
        ]),
        vue.createVNode(
          $setup["CustomerService"],
          { ref: "serviceRef" },
          null,
          512
          /* NEED_PATCH */
        )
      ])
    ]);
  }
  const PagesMyIndex = /* @__PURE__ */ _export_sfc(_sfc_main$1G, [["render", _sfc_render$1F], ["__scopeId", "data-v-f97bc692"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/my/index.vue"]]);
  const _sfc_main$1F = {
    __name: "readArticle",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "bb7d28f6-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const tabActive = vue.ref(0);
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const tabLists = vue.ref([{
        txt: "推荐",
        id: 1
      }, {
        txt: "情感",
        id: 2
      }, {
        txt: "文化",
        id: 3
      }, {
        txt: "职场",
        id: 4
      }, {
        txt: "职场",
        id: 5
      }, {
        txt: "职场",
        id: 6
      }, {
        txt: "职场",
        id: 7
      }, {
        txt: "职场",
        id: 7
      }]);
      const changeTabHandler = (index) => {
        tabActive.value = index;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const openArticleDetailFn = (item) => {
        uni.navigateTo({
          url: "/pages/readArticle/articleDetail?id=" + item.id
        });
      };
      const getList = async () => {
        let res2 = await getArticleList(data.listParams);
        data.list = res2.data.records;
      };
      vue.onMounted(() => {
        getList();
      });
      const __returned__ = { globalStore, statusBarHeight, tabActive, data, tabLists, changeTabHandler, backFn, openArticleDetailFn, getList, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get getArticleList() {
        return getArticleList;
      }, get RecommendArticleItem() {
        return RecommendArticleItem;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1E(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "read-article-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "文章阅读",
          class: "header-bar"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        })
      ]),
      vue.createElementVNode("view", { class: "article-content" }, [
        vue.createElementVNode("view", { class: "swiper-content" }, [
          vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
            vue.createElementVNode("swiper", {
              class: "swiper",
              circular: "",
              "indicator-dots": true,
              autoplay: true,
              interval: 5e3,
              duration: 500
            }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(2, (i2) => {
                  return vue.createElementVNode("swiper-item", {
                    key: i2,
                    class: "swiper-item"
                  }, [
                    vue.createElementVNode("view", { class: "swiper-item uni-bg-red" }, [
                      vue.createElementVNode("image", {
                        src: "https://odd.dzjob.net/profile/upload/20250519/20250520113143.png",
                        class: "img"
                      })
                    ])
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "article-tabs" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.tabLists, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: "tab-item",
              key: index,
              onClick: ($event) => $setup.changeTabHandler(index)
            }, [
              vue.createTextVNode(
                vue.toDisplayString(item.txt) + " ",
                1
                /* TEXT */
              ),
              index == $setup.tabActive ? (vue.openBlock(), vue.createElementBlock("image", {
                key: 0,
                src: _imports_0$k,
                class: "active-img"
              })) : vue.createCommentVNode("v-if", true)
            ], 8, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("scroll-view", {
        "scroll-y": "true",
        class: "scroll-content"
      }, [
        vue.createElementVNode("view", { class: "article-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (i2) => {
              return vue.openBlock(), vue.createBlock($setup["RecommendArticleItem"], {
                info: i2,
                class: "article-item",
                onClick: ($event) => $setup.openArticleDetailFn(i2)
              }, null, 8, ["info", "onClick"]);
            }),
            256
            /* UNKEYED_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const PagesReadArticleReadArticle = /* @__PURE__ */ _export_sfc(_sfc_main$1F, [["render", _sfc_render$1E], ["__scopeId", "data-v-bb7d28f6"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/readArticle/readArticle.vue"]]);
  function obj2strClass(obj) {
    let classess = "";
    for (let key in obj) {
      const val2 = obj[key];
      if (val2) {
        classess += `${key} `;
      }
    }
    return classess;
  }
  function obj2strStyle(obj) {
    let style = "";
    for (let key in obj) {
      const val2 = obj[key];
      style += `${key}:${val2};`;
    }
    return style;
  }
  const _sfc_main$1E = {
    name: "uni-easyinput",
    emits: [
      "click",
      "iconClick",
      "update:modelValue",
      "input",
      "focus",
      "blur",
      "confirm",
      "clear",
      "eyes",
      "change",
      "keyboardheightchange"
    ],
    model: {
      prop: "modelValue",
      event: "update:modelValue"
    },
    options: {
      virtualHost: true
    },
    inject: {
      form: {
        from: "uniForm",
        default: null
      },
      formItem: {
        from: "uniFormItem",
        default: null
      }
    },
    props: {
      name: String,
      value: [Number, String],
      modelValue: [Number, String],
      type: {
        type: String,
        default: "text"
      },
      clearable: {
        type: Boolean,
        default: true
      },
      autoHeight: {
        type: Boolean,
        default: false
      },
      placeholder: {
        type: String,
        default: " "
      },
      placeholderStyle: String,
      focus: {
        type: Boolean,
        default: false
      },
      disabled: {
        type: Boolean,
        default: false
      },
      maxlength: {
        type: [Number, String],
        default: 140
      },
      confirmType: {
        type: String,
        default: "done"
      },
      clearSize: {
        type: [Number, String],
        default: 24
      },
      inputBorder: {
        type: Boolean,
        default: true
      },
      prefixIcon: {
        type: String,
        default: ""
      },
      suffixIcon: {
        type: String,
        default: ""
      },
      trim: {
        type: [Boolean, String],
        default: false
      },
      cursorSpacing: {
        type: Number,
        default: 0
      },
      passwordIcon: {
        type: Boolean,
        default: true
      },
      adjustPosition: {
        type: Boolean,
        default: true
      },
      primaryColor: {
        type: String,
        default: "#2979ff"
      },
      styles: {
        type: Object,
        default() {
          return {
            color: "#333",
            backgroundColor: "#fff",
            disableColor: "#F7F6F6",
            borderColor: "#e5e5e5"
          };
        }
      },
      errorMessage: {
        type: [String, Boolean],
        default: ""
      }
    },
    data() {
      return {
        focused: false,
        val: "",
        showMsg: "",
        border: false,
        isFirstBorder: false,
        showClearIcon: false,
        showPassword: false,
        focusShow: false,
        localMsg: "",
        isEnter: false
        // 用于判断当前是否是使用回车操作
      };
    },
    computed: {
      // 输入框内是否有值
      isVal() {
        const val2 = this.val;
        if (val2 || val2 === 0) {
          return true;
        }
        return false;
      },
      msg() {
        return this.localMsg || this.errorMessage;
      },
      // 因为uniapp的input组件的maxlength组件必须要数值，这里转为数值，用户可以传入字符串数值
      inputMaxlength() {
        return Number(this.maxlength);
      },
      // 处理外层样式的style
      boxStyle() {
        return `color:${this.inputBorder && this.msg ? "#e43d33" : this.styles.color};`;
      },
      // input 内容的类和样式处理
      inputContentClass() {
        return obj2strClass({
          "is-input-border": this.inputBorder,
          "is-input-error-border": this.inputBorder && this.msg,
          "is-textarea": this.type === "textarea",
          "is-disabled": this.disabled,
          "is-focused": this.focusShow
        });
      },
      inputContentStyle() {
        const focusColor = this.focusShow ? this.primaryColor : this.styles.borderColor;
        const borderColor = this.inputBorder && this.msg ? "#dd524d" : focusColor;
        return obj2strStyle({
          "border-color": borderColor || "#e5e5e5",
          "background-color": this.disabled ? this.styles.disableColor : this.styles.backgroundColor
        });
      },
      // input右侧样式
      inputStyle() {
        const paddingRight = this.type === "password" || this.clearable || this.prefixIcon ? "" : "10px";
        return obj2strStyle({
          "padding-right": paddingRight,
          "padding-left": this.prefixIcon ? "" : "10px"
        });
      }
    },
    watch: {
      value(newVal) {
        if (newVal === null) {
          this.val = "";
          return;
        }
        this.val = newVal;
      },
      modelValue(newVal) {
        if (newVal === null) {
          this.val = "";
          return;
        }
        this.val = newVal;
      },
      focus(newVal) {
        this.$nextTick(() => {
          this.focused = this.focus;
          this.focusShow = this.focus;
        });
      }
    },
    created() {
      this.init();
      if (this.form && this.formItem) {
        this.$watch("formItem.errMsg", (newVal) => {
          this.localMsg = newVal;
        });
      }
    },
    mounted() {
      this.$nextTick(() => {
        this.focused = this.focus;
        this.focusShow = this.focus;
      });
    },
    methods: {
      /**
       * 初始化变量值
       */
      init() {
        if (this.value || this.value === 0) {
          this.val = this.value;
        } else if (this.modelValue || this.modelValue === 0 || this.modelValue === "") {
          this.val = this.modelValue;
        } else {
          this.val = "";
        }
      },
      /**
       * 点击图标时触发
       * @param {Object} type
       */
      onClickIcon(type) {
        this.$emit("iconClick", type);
      },
      /**
       * 显示隐藏内容，密码框时生效
       */
      onEyes() {
        this.showPassword = !this.showPassword;
        this.$emit("eyes", this.showPassword);
      },
      /**
       * 输入时触发
       * @param {Object} event
       */
      onInput(event) {
        let value = event.detail.value;
        if (this.trim) {
          if (typeof this.trim === "boolean" && this.trim) {
            value = this.trimStr(value);
          }
          if (typeof this.trim === "string") {
            value = this.trimStr(value, this.trim);
          }
        }
        if (this.errMsg)
          this.errMsg = "";
        this.val = value;
        this.$emit("input", value);
        this.$emit("update:modelValue", value);
      },
      /**
       * 外部调用方法
       * 获取焦点时触发
       * @param {Object} event
       */
      onFocus() {
        this.$nextTick(() => {
          this.focused = true;
        });
        this.$emit("focus", null);
      },
      _Focus(event) {
        this.focusShow = true;
        this.$emit("focus", event);
      },
      /**
       * 外部调用方法
       * 失去焦点时触发
       * @param {Object} event
       */
      onBlur() {
        this.focused = false;
        this.$emit("blur", null);
      },
      _Blur(event) {
        event.detail.value;
        this.focusShow = false;
        this.$emit("blur", event);
        if (this.isEnter === false) {
          this.$emit("change", this.val);
        }
        if (this.form && this.formItem) {
          const { validateTrigger } = this.form;
          if (validateTrigger === "blur") {
            this.formItem.onFieldChange();
          }
        }
      },
      /**
       * 按下键盘的发送键
       * @param {Object} e
       */
      onConfirm(e2) {
        this.$emit("confirm", this.val);
        this.isEnter = true;
        this.$emit("change", this.val);
        this.$nextTick(() => {
          this.isEnter = false;
        });
      },
      /**
       * 清理内容
       * @param {Object} event
       */
      onClear(event) {
        this.val = "";
        this.$emit("input", "");
        this.$emit("update:modelValue", "");
        this.$emit("clear");
      },
      /**
       * 键盘高度发生变化的时候触发此事件
       * 兼容性：微信小程序2.7.0+、App 3.1.0+
       * @param {Object} event
       */
      onkeyboardheightchange(event) {
        this.$emit("keyboardheightchange", event);
      },
      /**
       * 去除空格
       */
      trimStr(str, pos = "both") {
        if (pos === "both") {
          return str.trim();
        } else if (pos === "left") {
          return str.trimLeft();
        } else if (pos === "right") {
          return str.trimRight();
        } else if (pos === "start") {
          return str.trimStart();
        } else if (pos === "end") {
          return str.trimEnd();
        } else if (pos === "all") {
          return str.replace(/\s+/g, "");
        } else if (pos === "none") {
          return str;
        }
        return str;
      }
    }
  };
  function _sfc_render$1D(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["uni-easyinput", { "uni-easyinput-error": $options.msg }]),
        style: vue.normalizeStyle($options.boxStyle)
      },
      [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["uni-easyinput__content", $options.inputContentClass]),
            style: vue.normalizeStyle($options.inputContentStyle)
          },
          [
            $props.prefixIcon ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
              key: 0,
              class: "content-clear-icon",
              type: $props.prefixIcon,
              color: "#c0c4cc",
              onClick: _cache[0] || (_cache[0] = ($event) => $options.onClickIcon("prefix")),
              size: "22"
            }, null, 8, ["type"])) : vue.createCommentVNode("v-if", true),
            vue.renderSlot(_ctx.$slots, "left", {}, void 0, true),
            $props.type === "textarea" ? (vue.openBlock(), vue.createElementBlock("textarea", {
              key: 1,
              class: vue.normalizeClass(["uni-easyinput__content-textarea", { "input-padding": $props.inputBorder }]),
              name: $props.name,
              value: $data.val,
              placeholder: $props.placeholder,
              placeholderStyle: $props.placeholderStyle,
              disabled: $props.disabled,
              "placeholder-class": "uni-easyinput__placeholder-class",
              maxlength: $options.inputMaxlength,
              focus: $data.focused,
              autoHeight: $props.autoHeight,
              "cursor-spacing": $props.cursorSpacing,
              "adjust-position": $props.adjustPosition,
              onInput: _cache[1] || (_cache[1] = (...args) => $options.onInput && $options.onInput(...args)),
              onBlur: _cache[2] || (_cache[2] = (...args) => $options._Blur && $options._Blur(...args)),
              onFocus: _cache[3] || (_cache[3] = (...args) => $options._Focus && $options._Focus(...args)),
              onConfirm: _cache[4] || (_cache[4] = (...args) => $options.onConfirm && $options.onConfirm(...args)),
              onKeyboardheightchange: _cache[5] || (_cache[5] = (...args) => $options.onkeyboardheightchange && $options.onkeyboardheightchange(...args))
            }, null, 42, ["name", "value", "placeholder", "placeholderStyle", "disabled", "maxlength", "focus", "autoHeight", "cursor-spacing", "adjust-position"])) : (vue.openBlock(), vue.createElementBlock("input", {
              key: 2,
              type: $props.type === "password" ? "text" : $props.type,
              class: "uni-easyinput__content-input",
              style: vue.normalizeStyle($options.inputStyle),
              name: $props.name,
              value: $data.val,
              password: !$data.showPassword && $props.type === "password",
              placeholder: $props.placeholder,
              placeholderStyle: $props.placeholderStyle,
              "placeholder-class": "uni-easyinput__placeholder-class",
              disabled: $props.disabled,
              maxlength: $options.inputMaxlength,
              focus: $data.focused,
              confirmType: $props.confirmType,
              "cursor-spacing": $props.cursorSpacing,
              "adjust-position": $props.adjustPosition,
              onFocus: _cache[6] || (_cache[6] = (...args) => $options._Focus && $options._Focus(...args)),
              onBlur: _cache[7] || (_cache[7] = (...args) => $options._Blur && $options._Blur(...args)),
              onInput: _cache[8] || (_cache[8] = (...args) => $options.onInput && $options.onInput(...args)),
              onConfirm: _cache[9] || (_cache[9] = (...args) => $options.onConfirm && $options.onConfirm(...args)),
              onKeyboardheightchange: _cache[10] || (_cache[10] = (...args) => $options.onkeyboardheightchange && $options.onkeyboardheightchange(...args))
            }, null, 44, ["type", "name", "value", "password", "placeholder", "placeholderStyle", "disabled", "maxlength", "focus", "confirmType", "cursor-spacing", "adjust-position"])),
            $props.type === "password" && $props.passwordIcon ? (vue.openBlock(), vue.createElementBlock(
              vue.Fragment,
              { key: 3 },
              [
                $options.isVal ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                  key: 0,
                  class: vue.normalizeClass(["content-clear-icon", { "is-textarea-icon": $props.type === "textarea" }]),
                  type: $data.showPassword ? "eye-slash-filled" : "eye-filled",
                  size: 22,
                  color: $data.focusShow ? $props.primaryColor : "#c0c4cc",
                  onClick: $options.onEyes
                }, null, 8, ["class", "type", "color", "onClick"])) : vue.createCommentVNode("v-if", true)
              ],
              64
              /* STABLE_FRAGMENT */
            )) : vue.createCommentVNode("v-if", true),
            $props.suffixIcon ? (vue.openBlock(), vue.createElementBlock(
              vue.Fragment,
              { key: 4 },
              [
                $props.suffixIcon ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                  key: 0,
                  class: "content-clear-icon",
                  type: $props.suffixIcon,
                  color: "#c0c4cc",
                  onClick: _cache[11] || (_cache[11] = ($event) => $options.onClickIcon("suffix")),
                  size: "22"
                }, null, 8, ["type"])) : vue.createCommentVNode("v-if", true)
              ],
              64
              /* STABLE_FRAGMENT */
            )) : (vue.openBlock(), vue.createElementBlock(
              vue.Fragment,
              { key: 5 },
              [
                $props.clearable && $options.isVal && !$props.disabled && $props.type !== "textarea" ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                  key: 0,
                  class: vue.normalizeClass(["content-clear-icon", { "is-textarea-icon": $props.type === "textarea" }]),
                  type: "clear",
                  size: $props.clearSize,
                  color: $options.msg ? "#dd524d" : $data.focusShow ? $props.primaryColor : "#c0c4cc",
                  onClick: $options.onClear
                }, null, 8, ["class", "size", "color", "onClick"])) : vue.createCommentVNode("v-if", true)
              ],
              64
              /* STABLE_FRAGMENT */
            )),
            vue.renderSlot(_ctx.$slots, "right", {}, void 0, true)
          ],
          6
          /* CLASS, STYLE */
        )
      ],
      6
      /* CLASS, STYLE */
    );
  }
  const __easycom_2$9 = /* @__PURE__ */ _export_sfc(_sfc_main$1E, [["render", _sfc_render$1D], ["__scopeId", "data-v-09fd5285"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue"]]);
  /*!
    * vue-router v4.4.4
    * (c) 2024 Eduardo San Martin Morote
    * @license MIT
    */
  var NavigationType;
  (function(NavigationType2) {
    NavigationType2["pop"] = "pop";
    NavigationType2["push"] = "push";
  })(NavigationType || (NavigationType = {}));
  var NavigationDirection;
  (function(NavigationDirection2) {
    NavigationDirection2["back"] = "back";
    NavigationDirection2["forward"] = "forward";
    NavigationDirection2["unknown"] = "";
  })(NavigationDirection || (NavigationDirection = {}));
  var NavigationFailureType;
  (function(NavigationFailureType2) {
    NavigationFailureType2[NavigationFailureType2["aborted"] = 4] = "aborted";
    NavigationFailureType2[NavigationFailureType2["cancelled"] = 8] = "cancelled";
    NavigationFailureType2[NavigationFailureType2["duplicated"] = 16] = "duplicated";
  })(NavigationFailureType || (NavigationFailureType = {}));
  const routeLocationKey = Symbol("route location");
  function useRoute(_name) {
    return vue.inject(routeLocationKey);
  }
  const _sfc_main$1D = {
    __name: "articleDetail",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "b2c79a96-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const route2 = useRoute();
      const recommendArticles = vue.ref([]);
      const tabActive = vue.ref(0);
      const replyContent = vue.ref("");
      let id2 = vue.ref();
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const tabLists = vue.ref([{
        txt: "推荐",
        id: 1
      }, {
        txt: "情感",
        id: 2
      }, {
        txt: "文化",
        id: 3
      }, {
        txt: "职场",
        id: 4
      }, {
        txt: "职场",
        id: 5
      }, {
        txt: "职场",
        id: 6
      }, {
        txt: "职场",
        id: 7
      }, {
        txt: "职场",
        id: 7
      }]);
      const info = vue.ref();
      const commentList = vue.ref();
      const getRecommend = async () => {
        let res2 = await relativeArticle();
        recommendArticles.value = res2.data;
        formatAppLog("log", "at pages/readArticle/articleDetail.vue:172", recommendArticles.value);
      };
      getRecommend();
      const changeTabHandler = (index) => {
        tabActive.value = index;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const switchTabsFn = (type) => {
        if (type == 1) {
          uni.switchTab({
            url: "/pages/consult/index"
          });
        } else {
          uni.navigateTo({
            url: "/pages/consult/detail"
          });
        }
      };
      const openArticleFn = (item) => {
        uni.navigateTo({
          url: "/pages/readArticle/articleDetail?id=" + item.id
        });
      };
      const getInfo = async () => {
        let res2 = await getArticleDetail({
          id: id2.value
        });
        info.value = res2.data;
      };
      const getList = async () => {
        data.listParams.params.articleId = id2.value;
        let res2 = await getCommentById$1(data.listParams);
        commentList.value = res2.data.records;
      };
      const onSaveComment = async () => {
        let res2 = await saveComment$2({
          "content": replyContent.value,
          "articleId": id2.value
        });
        replyContent.value = "";
        uni.showToast({
          title: "发布成功",
          icon: "none",
          // 可选值 'success', 'loading', 'none'
          duration: 2e3
          // 持续时长，单位ms
        });
        formatAppLog("log", "at pages/readArticle/articleDetail.vue:234", res2);
      };
      onLoad((options) => {
        id2.value = options.id;
        getInfo();
        getList();
      });
      vue.onMounted(() => {
      });
      const __returned__ = { globalStore, statusBarHeight, route: route2, recommendArticles, tabActive, replyContent, get id() {
        return id2;
      }, set id(v2) {
        id2 = v2;
      }, data, tabLists, info, commentList, getRecommend, changeTabHandler, backFn, switchTabsFn, openArticleFn, getInfo, getList, onSaveComment, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get onLoad() {
        return onLoad;
      }, get onBackPress() {
        return onBackPress;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get getArticleDetail() {
        return getArticleDetail;
      }, get getCommentById() {
        return getCommentById$1;
      }, get saveComment() {
        return saveComment$2;
      }, get relativeArticle() {
        return relativeArticle;
      }, get RecommendArticleItem() {
        return RecommendArticleItem;
      }, ConsultTeacherListItem, get useRoute() {
        return useRoute;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1C(_ctx, _cache, $props, $setup, $data, $options) {
    var _a2, _b2;
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    return vue.openBlock(), vue.createElementBlock("view", { class: "read-article-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "#F4F6F8",
          border: false,
          title: "",
          class: "header-bar",
          statusBar: true,
          fixed: ""
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createVNode(_component_uni_icons, {
                type: "more-filled",
                size: "24",
                onClick: $setup.backFn
              })
            ])
          ]),
          _: 1
          /* STABLE */
        })
      ]),
      vue.createElementVNode("view", { class: "article-content" }, [
        vue.createElementVNode("view", { class: "detail-box" }, [
          vue.createElementVNode(
            "view",
            { class: "title" },
            vue.toDisplayString((_a2 = $setup.info) == null ? void 0 : _a2.title),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "article-user" }, [
            vue.createElementVNode("view", { class: "user" }, [
              vue.createElementVNode("view", null, [
                vue.createElementVNode("image", {
                  src: _imports_0$m,
                  class: "picture"
                })
              ]),
              vue.createElementVNode("view", { class: "name-box" }, [
                vue.createElementVNode("view", { class: "name" }, "咨询师"),
                vue.createElementVNode("view", { class: "auth" }, "咨询师 | 认证作家")
              ])
            ]),
            vue.createElementVNode("view", { class: "follow" }, [
              vue.createVNode(_component_uni_icons, {
                type: "plusempty",
                size: "12",
                color: "#35CA95"
              }),
              vue.createElementVNode("text", { class: "txt" }, "关注")
            ])
          ]),
          vue.createElementVNode(
            "view",
            { class: "content" },
            vue.toDisplayString((_b2 = $setup.info) == null ? void 0 : _b2.content),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "date-num" }, [
            vue.createElementVNode("view", null, "2025-05-06"),
            vue.createElementVNode("view", { style: { "padding-left": "20rpx" } }, "阅读 7876")
          ]),
          vue.createElementVNode("view", { class: "contact" }, [
            vue.createTextVNode("文章转载/侵权，请联系邮箱："),
            vue.createElementVNode("text", { class: "txt" }, "6757567@163.com")
          ])
        ]),
        vue.createElementVNode("view", { style: { "background-color": "white", "margin": "30rpx", "padding": "18rpx" } }, [
          vue.createElementVNode("view", { style: { "margin-bottom": "30rpx" } }, [
            vue.createElementVNode("text", { style: { "font-size": "42rpx", "font-weight": "bold" } }, "热门评论")
          ]),
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.commentList, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                key: index,
                style: { "margin-bottom": "20rpx" }
              }, [
                vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row" } }, [
                  vue.createElementVNode("image", {
                    style: { "width": "48rpx", "height": "48rpx", "border-radius": "24rpx" },
                    src: item.avatar == null ? "@/static/my/profile.png" : item.avatar
                  }, null, 8, ["src"]),
                  vue.createElementVNode("view", { style: { "margin-left": "20rpx", "display": "flex", "flex-direction": "column" } }, [
                    vue.createElementVNode(
                      "text",
                      { style: { "font-size": "26rpx" } },
                      vue.toDisplayString(item.nickname),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { style: { "margin-top": "10rpx", "font-size": "28rpx", "color": "#666666" } },
                      vue.toDisplayString(item.content),
                      1
                      /* TEXT */
                    )
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        vue.createElementVNode("view", { class: "hot-psychological-box" }, [
          vue.createElementVNode("view", { class: "hot-psychological-header" }, [
            vue.createElementVNode("view", { class: "title" }, "热门咨询师"),
            vue.createElementVNode("view", {
              class: "more",
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.switchTabsFn(1))
            }, [
              vue.createTextVNode("更多"),
              vue.createVNode(_component_uni_icons, {
                type: "right",
                size: "12",
                color: "rgba(0, 0, 0, 0.5)"
              })
            ])
          ]),
          vue.createElementVNode("scroll-view", {
            class: "scroll-view_H",
            "scroll-x": "true",
            "scroll-left": "0",
            "show-scrollbar": false
          }, [
            vue.createElementVNode("view", { class: "list" }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(10, (i2) => {
                  return vue.createVNode($setup["ConsultTeacherListItem"], {
                    class: "list-item",
                    onClick: _cache[1] || (_cache[1] = ($event) => $setup.switchTabsFn(2))
                  });
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "recommend-article-box" }, [
          vue.createElementVNode("view", { class: "recommend-article-header" }, [
            vue.createElementVNode("view", { class: "title" }, [
              vue.createElementVNode("view", null, "相关阅读")
            ]),
            vue.createElementVNode("view", {
              class: "more",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.openArticleFn(1))
            }, [
              vue.createTextVNode("更多"),
              vue.createVNode(_component_uni_icons, {
                type: "right",
                size: "12",
                color: "rgba(0, 0, 0, 0.5)"
              })
            ])
          ]),
          vue.createElementVNode("view", { class: "article-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.recommendArticles, (i2) => {
                return vue.openBlock(), vue.createBlock($setup["RecommendArticleItem"], {
                  info: i2,
                  class: "article-item",
                  onClick: ($event) => $setup.openArticleFn(i2)
                }, null, 8, ["info", "onClick"]);
              }),
              256
              /* UNKEYED_FRAGMENT */
            ))
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "reply-box" }, [
        vue.createElementVNode("view", { class: "reply-contaior" }, [
          vue.createElementVNode("view", { class: "reply-content" }, [
            vue.createVNode(_component_uni_easyinput, {
              onChange: $setup.onSaveComment,
              "prefix-icon": "chat",
              clearable: false,
              modelValue: $setup.replyContent,
              "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.replyContent = $event),
              placeholder: "写点什么",
              trim: true,
              class: "reply-input"
            }, null, 8, ["modelValue"])
          ]),
          vue.createElementVNode("view", { class: "reply-icons" }, [
            vue.createVNode(_component_uni_icons, {
              type: "star",
              size: "24",
              color: "rgba(0, 0, 0, 0.35)"
            }),
            vue.createVNode(_component_uni_icons, {
              type: "hand-up",
              size: "24",
              color: "rgba(0, 0, 0, 0.35)"
            }),
            vue.createVNode(_component_uni_icons, {
              type: "redo",
              size: "24",
              color: "rgba(0, 0, 0, 0.35)"
            })
          ])
        ])
      ])
    ]);
  }
  const PagesReadArticleArticleDetail = /* @__PURE__ */ _export_sfc(_sfc_main$1D, [["render", _sfc_render$1C], ["__scopeId", "data-v-b2c79a96"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/readArticle/articleDetail.vue"]]);
  const _sfc_main$1C = {
    __name: "settled",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "1356a0f4-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const type = vue.ref("");
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      onLoad((options) => {
        type.value = JSON.parse(options.type);
      });
      const role = vue.ref(0);
      const verifyStatus = vue.ref(0);
      const userStatus = async () => {
        try {
          let resp = await getVerifyStatus();
          const { role: role2, verifyStatus: verifyStatus2 } = resp.data;
          role2.value = role2;
          verifyStatus2.value = verifyStatus2;
        } catch (error) {
        }
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const joinTeamHandler = () => {
        if (role.value == 1 && verifyStatus.value == 1) {
          uni.showToast({
            title: "咨询师正在认证",
            icon: "error"
          });
          return;
        }
        if (role.value == 2 && verifyStatus.value == 1) {
          uni.showToast({
            title: "倾听师正在认证审核",
            icon: "error"
          });
          return;
        }
        uni.navigateTo({
          url: "/pages/settled/application?type=1&userInfo=" + JSON.stringify(type.value)
        });
      };
      const listenerVerify = () => {
        if (role.value == 1 && verifyStatus.value == 1) {
          uni.showToast({
            title: "咨询师正在认证审核，请稍后尝试",
            icon: "none"
          });
          return;
        }
        if (role.value == 2 && verifyStatus.value == 1) {
          uni.showToast({
            title: "倾听师正在认证审核,请稍后尝试",
            icon: "none"
          });
          return;
        }
        uni.navigateTo({
          url: "/pages/settled/application?type=2&userInfo=" + JSON.stringify(type.value)
        });
      };
      onShow(() => {
        userStatus();
      });
      const __returned__ = { globalStore, statusBarHeight, type, scrollTop, role, verifyStatus, userStatus, backFn, joinTeamHandler, listenerVerify, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get getVerifyStatus() {
        return getVerifyStatus;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1B(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "专家入驻 | 麦苗倾诉"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", {
          class: "settled_1",
          onClick: $setup.joinTeamHandler
        }, [
          vue.createElementVNode("view", { class: "title" }, "我是咨询师"),
          vue.createElementVNode("view", { class: "use-public" }, "2.5万同行 已服务了439万用户和家庭"),
          vue.createElementVNode("view", { class: "add" }, "立即加入")
        ]),
        vue.createElementVNode("view", {
          class: "settled_2",
          onClick: $setup.listenerVerify
        }, [
          vue.createElementVNode("view", { class: "title" }, "我是倾听师"),
          vue.createElementVNode("view", { class: "use-public" }, "2.5万同行 已服务了439万用户和家庭"),
          vue.createElementVNode("view", { class: "add" }, "立即加入")
        ])
      ])
    ]);
  }
  const PagesSettledSettled = /* @__PURE__ */ _export_sfc(_sfc_main$1C, [["render", _sfc_render$1B], ["__scopeId", "data-v-1356a0f4"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settled/settled.vue"]]);
  const _sfc_main$1B = {
    __name: "application",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "6ea8915a-statusBarHeight": statusBarHeight.value
      }));
      const scrollTop = vue.ref(0);
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const isAgree = vue.ref(true);
      const navTitle = vue.ref("申请成为咨询师");
      const typeDistinguish = vue.ref("1");
      const benefitList = vue.ref([]);
      const registrationList = vue.ref([]);
      const content = vue.ref("");
      const userInfo = vue.ref("");
      onLoad((options) => {
        typeDistinguish.value = options.type;
        userInfo.value = JSON.parse(options.userInfo);
        allMethods(options.type);
        getAgreementByType();
      });
      const benefits = vue.reactive([
        {
          name: "时间自由",
          icon: "/static/settled/consultation-1.png",
          width: "90rpx",
          height: "87rpx"
        },
        {
          name: "收入可观",
          icon: "/static/settled/consultation-2.png",
          width: "90rpx",
          height: "85rpx"
        },
        {
          name: "操作便捷",
          icon: "/static/settled/consultation-3.png",
          width: "100rpx",
          height: "95rpx"
        }
      ]);
      const registration = vue.reactive([
        {
          name: "身份认证",
          icon: "/static/settled/consultation-4.png",
          width: "90rpx",
          height: "80rpx"
        },
        {
          name: "填写资料",
          icon: "/static/settled/consultation-5.png",
          width: "90rpx",
          height: "80rpx"
        },
        {
          name: "提交审核",
          icon: "/static/settled/consultation-6.png",
          width: "90rpx",
          height: "90rpx"
        }
      ]);
      const allMethods = (type) => {
        navTitle.value = `申请成为${type == 1 ? "咨询师" : "倾听师"}`;
        benefitList.value = fangfa(benefits, type, 1);
        registrationList.value = fangfa(registration, type, 4);
      };
      const fangfa = (list, type, inde) => {
        return list.map((item, index) => {
          const prefix = type == 1 ? "consultation" : "listen";
          const newIcon = `/static/settled/${prefix}-${index + inde}.png`;
          return {
            ...item,
            icon: newIcon
          };
        });
      };
      const toAgreement = () => {
        const title = typeDistinguish.value == 1 ? "倾听师入驻协议" : "咨询师入驻协议";
        uni.navigateTo({
          url: `/pages/webview/webview?type=${title}`
        });
      };
      const getAgreementByType = async () => {
        const title = typeDistinguish.value == 1 ? "心理咨询师入驻条件" : "倾听师入驻条件";
        try {
          const queryParams2 = {
            current: 1,
            size: 10,
            title
          };
          let { data } = await articleByType$1(queryParams2);
          content.value = data.records[0].content;
        } catch (error) {
          formatAppLog("log", "at pages/settled/application.vue:216", error);
        }
      };
      const toApply = () => {
        if (!isAgree.value) {
          uni.showToast({
            title: "请同意入驻协议",
            icon: "none"
          });
          return;
        }
        uni.navigateTo({ url: `/pages/auth/auth?type=${typeDistinguish.value}&userInfo=${JSON.stringify(userInfo.value)}` });
      };
      onShow(() => {
      });
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const __returned__ = { scrollTop, globalStore, statusBarHeight, isAgree, navTitle, typeDistinguish, benefitList, registrationList, content, userInfo, benefits, registration, allMethods, fangfa, toAgreement, getAgreementByType, toApply, backFn, ref: vue.ref, reactive: vue.reactive, onMounted: vue.onMounted, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get articleByType() {
        return articleByType$1;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1A(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock(
      vue.Fragment,
      null,
      [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["settled-box", `settled-bg-${$setup.typeDistinguish}`])
          },
          [
            vue.createElementVNode("view", { class: "header" }, [
              vue.createVNode(_component_uni_nav_bar, {
                class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
                backgroundColor: "rgba(255,255,255,0)",
                border: false,
                title: $setup.navTitle
              }, {
                left: vue.withCtx(() => [
                  vue.createVNode(_component_uni_icons, {
                    type: "left",
                    size: "24",
                    onClick: $setup.backFn
                  })
                ]),
                right: vue.withCtx(() => [
                  vue.createElementVNode("view", { class: "right" }, [
                    vue.createElementVNode("image", {
                      src: _imports_0$n,
                      style: { "width": "40rpx", "height": "40rpx" }
                    })
                  ])
                ]),
                _: 1
                /* STABLE */
              }, 8, ["class", "title"])
            ]),
            vue.createElementVNode("view", { class: "content" }, [
              vue.createElementVNode("view", { class: "content-item" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["label", `label-${$setup.typeDistinguish}`]),
                      style: vue.normalizeStyle({ left: $setup.typeDistinguish == 1 ? "29%" : "34%" })
                    },
                    null,
                    6
                    /* CLASS, STYLE */
                  ),
                  vue.createElementVNode(
                    "text",
                    null,
                    "什么是" + vue.toDisplayString($setup.typeDistinguish == 1 ? "心理咨询师" : "倾听师"),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode(
                  "view",
                  { class: "use-public" },
                  vue.toDisplayString($setup.typeDistinguish == 1 ? "心理咨询师" : "倾听师") + "是协助求助者解决心理问题的人，心理咨询最一般、最主要的对象，是健康人群或存在心理问题的人群。",
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "content-item" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["label", `label-${$setup.typeDistinguish}`]),
                      style: vue.normalizeStyle({ left: $setup.typeDistinguish == 1 ? "27%" : "32%" })
                    },
                    null,
                    6
                    /* CLASS, STYLE */
                  ),
                  vue.createElementVNode(
                    "text",
                    null,
                    "成为" + vue.toDisplayString($setup.typeDistinguish == 1 ? "心理咨询师" : "倾听师") + "条件",
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", {
                  class: "use-public",
                  style: { "text-indent": "0" },
                  innerHTML: $setup.content
                }, null, 8, ["innerHTML"])
              ]),
              vue.createElementVNode("view", { class: "content-item" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["label", `label-${$setup.typeDistinguish}`]),
                      style: vue.normalizeStyle({ left: $setup.typeDistinguish == 1 ? "27%" : "32%" })
                    },
                    null,
                    6
                    /* CLASS, STYLE */
                  ),
                  vue.createElementVNode(
                    "text",
                    null,
                    "成为" + vue.toDisplayString($setup.typeDistinguish == 1 ? "心理咨询师" : "倾听师") + "好处",
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "use-public" }, [
                  vue.createElementVNode("view", { class: "use-public process-box" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.benefitList, (item, inde) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "process",
                          key: _ctx.index
                        }, [
                          vue.createElementVNode("view", null, [
                            vue.createElementVNode("image", {
                              src: item.icon,
                              style: vue.normalizeStyle({ width: item.width, height: item.height })
                            }, null, 12, ["src"]),
                            vue.createElementVNode(
                              "view",
                              null,
                              vue.toDisplayString(item.name),
                              1
                              /* TEXT */
                            )
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ]),
              vue.createElementVNode("view", { class: "content-item" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["label", `label-${$setup.typeDistinguish}`]),
                      style: { "left": "39%" }
                    },
                    null,
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode("text", null, "注册流程")
                ]),
                vue.createElementVNode("view", { class: "use-public process-box" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.registrationList, (item, inde) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "process",
                        key: _ctx.index
                      }, [
                        vue.createElementVNode("view", null, [
                          vue.createElementVNode("image", {
                            src: item.icon,
                            style: vue.normalizeStyle({ width: item.width, height: item.height })
                          }, null, 12, ["src"]),
                          vue.createElementVNode(
                            "view",
                            null,
                            vue.toDisplayString(item.name),
                            1
                            /* TEXT */
                          )
                        ]),
                        inde < $setup.registrationList.length - 1 ? (vue.openBlock(), vue.createElementBlock(
                          "view",
                          {
                            key: 0,
                            class: vue.normalizeClass(["triangle-right", `triangle-color-${$setup.typeDistinguish}`])
                          },
                          null,
                          2
                          /* CLASS */
                        )) : vue.createCommentVNode("v-if", true)
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ])
            ])
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode("view", null, [
          vue.createElementVNode("view", { class: "agreement" }, [
            vue.createElementVNode("image", {
              src: `/static/auth/${$setup.isAgree ? $setup.typeDistinguish == 1 ? "select-green" : "select-yellow" : "not-selected"}.png`,
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.isAgree = !$setup.isAgree)
            }, null, 8, ["src"]),
            vue.createElementVNode("view", null, [
              vue.createTextVNode("同意"),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(`text-${$setup.typeDistinguish}`),
                  onClick: $setup.toAgreement
                },
                "《" + vue.toDisplayString($setup.typeDistinguish == 1 ? "咨询师" : "倾听师") + "入驻协议》",
                3
                /* TEXT, CLASS */
              )
            ])
          ]),
          vue.createElementVNode(
            "button",
            {
              class: vue.normalizeClass(["btn", `btn-${$setup.typeDistinguish}`]),
              onClick: $setup.toApply
            },
            "开始认证",
            2
            /* CLASS */
          )
        ])
      ],
      64
      /* STABLE_FRAGMENT */
    );
  }
  const PagesSettledApplication = /* @__PURE__ */ _export_sfc(_sfc_main$1B, [["render", _sfc_render$1A], ["__scopeId", "data-v-6ea8915a"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settled/application.vue"]]);
  const _imports_1$b = "/static/common/arrow.png";
  const _imports_2$4 = "/static/common/sort.png";
  const _sfc_main$1A = {
    __name: "consult-feel",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "aa8d1f1e-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const replyContent = vue.ref("");
      const scrollTop = vue.ref(0);
      const userInfo = vue.ref({});
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const params = vue.ref({
        targetUserId: "",
        page: 1,
        pageSize: 10
      });
      onReachBottom(() => {
        params.value.page += 1;
        getCommentByTargetUserIdApi();
      });
      const evaluationList = vue.ref([]);
      const recordsList = vue.ref([]);
      const getCommentByTargetUserIdApi = async () => {
        let { data } = await getCommentByTargetUserId(params.value);
        evaluationList.value = data;
        recordsList.value = [...recordsList.value, ...data.records];
      };
      const detail = vue.ref({});
      const consultInfo = async (id2) => {
        let res2 = await getCommentInfo({ id: id2 });
        detail.value = res2.data;
      };
      onLoad((options) => {
        params.value.targetUserId = options.userId;
        userInfo.value = JSON.parse(options.userInfo);
        consultInfo(JSON.parse(options.userInfo).id);
        formatAppLog("log", "at pages/consult-feel/consult-feel.vue:171", JSON.parse(options.userInfo).id);
        getCommentByTargetUserIdApi();
      });
      const __returned__ = { globalStore, statusBarHeight, replyContent, scrollTop, userInfo, backFn, onPageScroll: onPageScroll2, params, evaluationList, recordsList, getCommentByTargetUserIdApi, detail, consultInfo, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onReachBottom() {
        return onReachBottom;
      }, get getCommentInfo() {
        return getCommentInfo;
      }, get getCommentByTargetUserId() {
        return getCommentByTargetUserId;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1z(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_2$a);
    return vue.openBlock(), vue.createElementBlock("view", { class: "evaluate-box" }, [
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          class: "scroll-content",
          onScroll: $setup.onPageScroll
        },
        [
          vue.createElementVNode("view", { class: "evaluate-content" }, [
            vue.createVNode(_component_uni_nav_bar, {
              backgroundColor: $setup.scrollTop > 15 ? "#fff" : "transparent",
              border: false,
              title: "咨询感受",
              class: "header-bar",
              statusBar: true,
              fixed: ""
            }, {
              left: vue.withCtx(() => [
                vue.createVNode(_component_uni_icons, {
                  type: "left",
                  size: "24",
                  onClick: $setup.backFn
                })
              ]),
              right: vue.withCtx(() => [
                vue.createElementVNode("view", { class: "right" }, [
                  vue.createElementVNode("image", {
                    src: _imports_0$n,
                    style: { "width": "40rpx", "height": "40rpx" }
                  })
                ])
              ]),
              _: 1
              /* STABLE */
            }, 8, ["backgroundColor"]),
            vue.createElementVNode("view", { class: "evaluate-info-box" }, [
              vue.createElementVNode("view", { class: "evaluate-info" }, [
                vue.createElementVNode("view", { class: "user-info" }, [
                  vue.createElementVNode("view", { class: "picture" }, [
                    vue.createElementVNode("image", {
                      src: $setup.userInfo.avatar,
                      class: "img"
                    }, null, 8, ["src"])
                  ]),
                  vue.createElementVNode("view", { class: "user" }, [
                    vue.createElementVNode(
                      "view",
                      { class: "name" },
                      vue.toDisplayString($setup.userInfo.name),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "view",
                      { class: "title" },
                      vue.toDisplayString($setup.userInfo.occupationName),
                      1
                      /* TEXT */
                    )
                  ])
                ]),
                vue.createElementVNode("view", {
                  class: "right",
                  onClick: $setup.backFn
                }, [
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "18",
                    color: "#B6B6C1"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "evaluate-list-box" }, [
                vue.createElementVNode("view", { class: "header-title" }, "咨询感受"),
                vue.createElementVNode("view", { class: "score-content" }, [
                  vue.createElementVNode("view", { class: "score" }, [
                    vue.createElementVNode("view", { class: "star" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "txt" },
                        vue.toDisplayString($setup.detail.rating),
                        1
                        /* TEXT */
                      ),
                      vue.createVNode(_component_uni_rate, {
                        "allow-half": "",
                        value: $setup.detail.rating,
                        readonly: "",
                        size: "12"
                      }, null, 8, ["value"])
                    ]),
                    vue.createElementVNode("view", { class: "txt" }, "推荐指数")
                  ]),
                  vue.createElementVNode("view", { class: "num" }, [
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "view",
                        { class: "txt" },
                        vue.toDisplayString($setup.evaluationList.total) + "+",
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", { class: "txt1" }, "真实评价")
                    ]),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "view",
                        { class: "txt" },
                        vue.toDisplayString($setup.detail.ratio) + "%",
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", { class: "txt1" }, "满意度")
                    ])
                  ])
                ]),
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["sort-box", $setup.scrollTop > 240 ? "sortBoxActive" : ""])
                  },
                  [
                    vue.createElementVNode("view", { class: "sort-content" }, [
                      vue.createElementVNode("view", { class: "sort" }, [
                        vue.createTextVNode("服务类型"),
                        vue.createElementVNode("image", {
                          src: _imports_1$b,
                          class: "img",
                          style: { "width": "20rpx", "height": "20rpx" }
                        })
                      ]),
                      vue.createElementVNode("view", { class: "sort" }, [
                        vue.createTextVNode("默认排序"),
                        vue.createElementVNode("image", {
                          src: _imports_2$4,
                          class: "img"
                        })
                      ])
                    ])
                  ],
                  2
                  /* CLASS */
                ),
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.recordsList, (item, i2) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "content-list",
                      key: i2
                    }, [
                      vue.createElementVNode("view", { class: "content-header" }, [
                        vue.createElementVNode("view", { class: "user-info" }, [
                          vue.createElementVNode("view", null, [
                            vue.createElementVNode("image", {
                              src: item.avatar,
                              class: "picture"
                            }, null, 8, ["src"])
                          ]),
                          vue.createElementVNode(
                            "view",
                            { class: "nickName" },
                            vue.toDisplayString(item.nickname),
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode(
                          "view",
                          { class: "date" },
                          vue.toDisplayString(item.createTime),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "content" }, [
                        vue.createVNode(
                          $setup["MoteLinesDivide"],
                          {
                            line: 2,
                            expandText: "展开",
                            foldHint: "收起"
                          },
                          {
                            default: vue.withCtx(() => [
                              vue.createTextVNode(
                                vue.toDisplayString(item.content),
                                1
                                /* TEXT */
                              )
                            ]),
                            _: 2
                            /* DYNAMIC */
                          },
                          1024
                          /* DYNAMIC_SLOTS */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "evaluate-item" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "item" },
                          vue.toDisplayString(item.tags),
                          1
                          /* TEXT */
                        )
                      ])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      )
    ]);
  }
  const PagesConsultFeelConsultFeel = /* @__PURE__ */ _export_sfc(_sfc_main$1A, [["render", _sfc_render$1z], ["__scopeId", "data-v-aa8d1f1e"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/consult-feel/consult-feel.vue"]]);
  const _sfc_main$1z = {
    __name: "evaluate",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "2020f577-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const replyContent = vue.ref("");
      const scrollTop = vue.ref(0);
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      onLoad((options) => {
        getCommentByTargetUserIdApi(options.userId);
      });
      const evaluationList = vue.ref([]);
      const getCommentByTargetUserIdApi = async (id2) => {
        let { data } = await getCommentByTargetUserId({
          targetUserId: id2,
          page: 1,
          pageSize: 10
        });
        formatAppLog("log", "at pages/evaluate/evaluate.vue:115", data);
        evaluationList.value = data;
      };
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const handleTagStr = (tagStr) => {
        return (tagStr ?? "").trim().split(",").filter((tag) => tag.trim());
      };
      const __returned__ = { globalStore, statusBarHeight, replyContent, scrollTop, backFn, evaluationList, getCommentByTargetUserIdApi, onPageScroll: onPageScroll2, handleTagStr, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get getCommentByTargetUserId() {
        return getCommentByTargetUserId;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1y(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_2$a);
    return vue.openBlock(), vue.createElementBlock("view", { class: "evaluate-box" }, [
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          class: "scroll-content",
          onScroll: $setup.onPageScroll,
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "evaluate-content" }, [
            vue.createVNode(_component_uni_nav_bar, {
              backgroundColor: $setup.scrollTop > 15 ? "#fff" : "transparent",
              border: false,
              title: "全部评价",
              class: "header-bar",
              statusBar: true,
              fixed: ""
            }, {
              left: vue.withCtx(() => [
                vue.createVNode(_component_uni_icons, {
                  type: "left",
                  size: "24",
                  onClick: $setup.backFn
                })
              ]),
              right: vue.withCtx(() => [
                vue.createElementVNode("view", { class: "right" }, [
                  vue.createElementVNode("image", {
                    src: _imports_0$n,
                    style: { "width": "40rpx", "height": "40rpx" }
                  })
                ])
              ]),
              _: 1
              /* STABLE */
            }, 8, ["backgroundColor"]),
            vue.createElementVNode("view", { class: "evaluate-info-box" }, [
              vue.createElementVNode("view", { class: "evaluate-list-box" }, [
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("view", { class: "feel-type-box" }, [
                    vue.createElementVNode("view", { class: "first" }, [
                      vue.createElementVNode("view", { class: "percent" }, [
                        vue.createTextVNode("99"),
                        vue.createElementVNode("text", { class: "txt" }, "%好评率")
                      ])
                    ]),
                    vue.createElementVNode("view", { class: "second" }, [
                      vue.createElementVNode("view", { class: "second-item" }, [
                        vue.createElementVNode("text", { class: "txt-1" }, "真实评价"),
                        vue.createElementVNode(
                          "text",
                          { class: "txt-2" },
                          vue.toDisplayString($setup.evaluationList.total) + "条",
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", { class: "second-item" }, [
                        vue.createElementVNode("text", { class: "txt-1" }, "用户推荐"),
                        vue.createElementVNode("text", { class: "txt-2" }, "100%")
                      ])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "comment-list" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.evaluationList.records, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "comment-item",
                          key: index
                        }, [
                          vue.createElementVNode("view", { class: "user-box" }, [
                            vue.createElementVNode("view", { class: "user-info" }, [
                              vue.createElementVNode("image", {
                                src: _imports_0$m,
                                class: "img"
                              }),
                              vue.createElementVNode(
                                "text",
                                { class: "txt" },
                                vue.toDisplayString(item.nickname),
                                1
                                /* TEXT */
                              )
                            ]),
                            vue.createElementVNode("view", { class: "star" }, [
                              vue.createVNode(_component_uni_rate, {
                                disabled: true,
                                disabledColor: "#FFC300",
                                value: item.star,
                                size: "12"
                              }, null, 8, ["value"])
                            ])
                          ]),
                          vue.createElementVNode(
                            "view",
                            { class: "comment-content" },
                            vue.toDisplayString(item.content),
                            1
                            /* TEXT */
                          ),
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList($setup.handleTagStr(item.tags), (tag, index2) => {
                              return vue.openBlock(), vue.createElementBlock("view", {
                                class: "tags",
                                key: index2
                              }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "tag-item" },
                                  vue.toDisplayString(tag),
                                  1
                                  /* TEXT */
                                )
                              ]);
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          )),
                          vue.createElementVNode("view", { class: "theme-date" }, [
                            vue.createElementVNode("view", { class: "theme" }, [
                              vue.createTextVNode(" 咨询主题："),
                              vue.createElementVNode("text", { class: "txt" }, "心理压抑")
                            ]),
                            vue.createElementVNode(
                              "view",
                              { class: "date" },
                              vue.toDisplayString(item.createTime),
                              1
                              /* TEXT */
                            )
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      )
    ]);
  }
  const PagesEvaluateEvaluate = /* @__PURE__ */ _export_sfc(_sfc_main$1z, [["render", _sfc_render$1y], ["__scopeId", "data-v-2020f577"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/evaluate/evaluate.vue"]]);
  const _sfc_main$1y = {
    __name: "report",
    setup(__props, { expose: __expose }) {
      const report2 = vue.ref(null);
      const openReport = () => {
        report2.value.open();
      };
      const closeReport = () => {
        report2.value.close();
      };
      const reportLists = [{
        id: 1,
        label: "政治反动"
      }, {
        id: 2,
        label: "色情内容"
      }, {
        id: 3,
        label: "人身攻击"
      }, {
        id: 4,
        label: "抄袭侵权"
      }, {
        id: 5,
        label: "未成年人"
      }, {
        id: 6,
        label: "血腥暴力"
      }, {
        id: 7,
        label: "广告欺诈"
      }, {
        id: 8,
        label: "灌水"
      }, {
        id: 9,
        label: "自杀倾向"
      }, {
        id: 9,
        label: "其他"
      }];
      __expose({
        openReport,
        closeReport
      });
      const __returned__ = { report: report2, openReport, closeReport, reportLists, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1x(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createBlock(
      _component_uni_popup,
      {
        ref: "report",
        "background-color": "#fff",
        "is-mask-click": false,
        borderRadius: "24rpx 24rpx 0rpx 0rpx",
        type: "bottom"
      },
      {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "report-popup-box" }, [
            vue.createElementVNode("view", { class: "report-header" }, [
              vue.createElementVNode("view"),
              vue.createElementVNode("view", { class: "title" }, "选择举报理由"),
              vue.createElementVNode("view", null, [
                vue.createVNode(_component_uni_icons, {
                  type: "closeempty",
                  size: "14",
                  color: "rgba(0,0,0,0.3)",
                  onClick: $setup.closeReport
                })
              ])
            ]),
            vue.createElementVNode("view", { class: "report-content-list" }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.reportLists, (item, index) => {
                  return vue.createElementVNode(
                    "view",
                    {
                      class: "report-content-item",
                      key: index
                    },
                    vue.toDisplayString(item.label),
                    1
                    /* TEXT */
                  );
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ])
        ]),
        _: 1
        /* STABLE */
      },
      512
      /* NEED_PATCH */
    );
  }
  const report = /* @__PURE__ */ _export_sfc(_sfc_main$1y, [["render", _sfc_render$1x], ["__scopeId", "data-v-09fef91a"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/report/report.vue"]]);
  const _sfc_main$1x = {
    __name: "share",
    setup(__props, { expose: __expose }) {
      const share2 = vue.ref(null);
      const reportRef = vue.ref(null);
      const channelList = vue.ref([{
        type: "wechat",
        img: "/static/share/wechat.svg",
        backgroundColor: "#00B578",
        text: "微信",
        imgWidth: "38rpx",
        imgHeight: "32rpx",
        fn: () => new Function()
      }, {
        type: "friend",
        img: "/static/share/friend.svg",
        backgroundColor: "#00B578",
        text: "朋友圈",
        imgWidth: "32rpx",
        imgHeight: "32rpx",
        fn: () => new Function()
      }, {
        type: "zone",
        img: "/static/share/zone.svg",
        backgroundColor: "#FFC300",
        text: "QQ空间",
        imgWidth: "38rpx",
        imgHeight: "32rpx",
        fn: () => new Function()
      }, {
        type: "QQ",
        img: "/static/share/qq.svg",
        backgroundColor: "#43ADF9",
        text: "QQ",
        imgWidth: "26rpx",
        imgHeight: "30rpx",
        fn: () => new Function()
      }, {
        type: "link",
        img: "/static/share/link.svg",
        backgroundColor: "rgba(0, 0, 0, 0.85)",
        text: "复制链接",
        imgWidth: "34rpx",
        imgHeight: "34rpx",
        fn: () => new Function()
      }, {
        type: "report",
        img: "/static/share/report.svg",
        backgroundColor: "#f3f3f3",
        text: "举报",
        imgWidth: "36rpx",
        imgHeight: "28rpx",
        fn: () => reportFn()
      }, {
        type: "delete",
        img: "/static/share/delete.svg",
        backgroundColor: "#f3f3f3",
        text: "删除",
        imgWidth: "32rpx",
        imgHeight: "30rpx",
        fn: () => new Function()
      }]);
      const openShare = () => {
        share2.value.open();
      };
      const closeShare = () => {
        share2.value.close();
      };
      const changeShare = () => {
      };
      const reportFn = () => {
        formatAppLog("log", "at components/share/share.vue:106", 1);
        closeShare();
        formatAppLog("log", "at components/share/share.vue:108", reportRef.value);
        reportRef.value.openReport();
      };
      __expose({
        openShare,
        closeShare
      });
      const __returned__ = { share: share2, reportRef, channelList, openShare, closeShare, changeShare, reportFn, ref: vue.ref, report };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1w(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", null, [
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "share",
          "background-color": "#fff",
          "is-mask-click": false,
          borderRadius: "24rpx 24rpx 0rpx 0rpx",
          type: "bottom"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "share-popup-box" }, [
              vue.createElementVNode("view", { class: "share-content" }, [
                vue.createElementVNode("view", { class: "title" }, "分享到"),
                vue.createElementVNode("view", { class: "share-list" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.channelList, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "share-item",
                        key: index,
                        onClick: item.fn
                      }, [
                        vue.createElementVNode(
                          "view",
                          {
                            class: "share-item-img",
                            style: vue.normalizeStyle({ backgroundColor: item.backgroundColor })
                          },
                          [
                            vue.createElementVNode("image", {
                              src: item.img,
                              class: "img",
                              style: vue.normalizeStyle({ width: item.imgWidth, height: item.imgHeight }),
                              mode: "widthFix"
                            }, null, 12, ["src"])
                          ],
                          4
                          /* STYLE */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "txt" },
                          vue.toDisplayString(item.text),
                          1
                          /* TEXT */
                        )
                      ], 8, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ]),
                vue.createElementVNode("view", {
                  class: "cancel",
                  onClick: $setup.closeShare
                }, " 取消 ")
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      ),
      vue.createVNode(
        $setup["report"],
        { ref: "reportRef" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const share = /* @__PURE__ */ _export_sfc(_sfc_main$1x, [["render", _sfc_render$1w], ["__scopeId", "data-v-11758b78"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/share/share.vue"]]);
  const _imports_1$a = "/static/common/zan.png";
  const _imports_2$3 = "/static/common/zan-active.png";
  const _imports_3$1 = "/static/common/msg.png";
  const _imports_4$1 = "/static/common/share.png";
  const _sfc_main$1w = {
    __name: "worry",
    props: ["statusBarHeight"],
    setup(__props, { expose: __expose }) {
      __expose();
      const props = __props;
      const sharePopup = vue.ref(null);
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const contentTabsList = vue.ref([{
        id: 0,
        label: "最新"
      }, {
        id: 1,
        label: "推荐"
      }, {
        id: 2,
        label: "关注"
      }]);
      const contentTabsActive = vue.ref(0);
      const contentTabsHandler = (options) => {
        if (contentTabsActive.value != options.id) {
          contentTabsActive.value = options.id;
        }
      };
      const newContens = vue.ref([{
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 1,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }]);
      const openShare = () => {
        sharePopup.value.openShare();
      };
      const openOtherHandler = () => {
        uni.navigateTo({
          url: "/pages/forum/other/other"
        });
      };
      const getList = async () => {
        let res2 = await getWorryList(data.listParams);
        data.list = res2.data.records;
      };
      vue.onMounted(() => {
        getList();
      });
      const __returned__ = { props, sharePopup, data, contentTabsList, contentTabsActive, contentTabsHandler, newContens, openShare, openOtherHandler, getList, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get getWorryList() {
        return getWorryList;
      }, share, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1v(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-index-content" }, [
      vue.createElementVNode("view", { class: "tabs" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.contentTabsList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              onClick: ($event) => $setup.contentTabsHandler(item),
              class: vue.normalizeClass(["tab-item", $setup.contentTabsActive == item.id ? "active" : ""]),
              key: index
            }, vue.toDisplayString(item.label), 11, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("view", { class: "forum-index-list" }, [
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "forum-index-list-item",
                key: index
              }, [
                vue.createElementVNode("view", { class: "item-header" }, [
                  vue.createElementVNode("view", {
                    class: "item-header-left",
                    onClick: $setup.openOtherHandler
                  }, [
                    vue.createElementVNode("view", { class: "header-pic" }, [
                      vue.createElementVNode("image", {
                        src: _imports_0$m,
                        class: "img"
                      })
                    ]),
                    vue.createElementVNode("view", { class: "header-info" }, [
                      vue.createElementVNode(
                        "view",
                        { class: "name" },
                        vue.toDisplayString(item.realName),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", { class: "time" }, "52分钟前")
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "item-header-right" }, [
                    $setup.contentTabsActive != 2 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                      item.isFollow == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "follow"
                      }, [
                        vue.createVNode(_component_uni_icons, {
                          type: "plusempty",
                          size: "12",
                          color: "#35CA95"
                        }),
                        vue.createTextVNode("关注")
                      ])) : (vue.openBlock(), vue.createElementBlock("view", {
                        key: 1,
                        class: "follow isFollow"
                      }, "已关注"))
                    ])) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", null, [
                      vue.createVNode(_component_uni_icons, {
                        type: "more-filled",
                        size: "18",
                        color: "#808080"
                      })
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createVNode(
                    $setup["MoteLinesDivide"],
                    {
                      line: 5,
                      expandText: "展开",
                      foldHint: "收起"
                    },
                    {
                      default: vue.withCtx(() => [
                        vue.createTextVNode(
                          vue.toDisplayString(item.content),
                          1
                          /* TEXT */
                        )
                      ]),
                      _: 2
                      /* DYNAMIC */
                    },
                    1024
                    /* DYNAMIC_SLOTS */
                  )
                ]),
                vue.createElementVNode("view", { class: "item-btn" }, [
                  item.isZan == 0 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                    vue.createElementVNode("image", {
                      src: _imports_1$a,
                      class: "img"
                    }),
                    vue.createTextVNode("点赞 ")
                  ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
                    vue.createElementVNode("image", {
                      src: _imports_2$3,
                      class: "img"
                    }),
                    vue.createTextVNode(
                      vue.toDisplayString(item.zanNum),
                      1
                      /* TEXT */
                    )
                  ])),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_3$1,
                      class: "img"
                    }),
                    vue.createTextVNode("评论 ")
                  ]),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_4$1,
                      class: "img",
                      onClick: $setup.openShare
                    }),
                    vue.createTextVNode("分享 ")
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createVNode(
        $setup["share"],
        { ref: "sharePopup" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const worry = /* @__PURE__ */ _export_sfc(_sfc_main$1w, [["render", _sfc_render$1v], ["__scopeId", "data-v-54064256"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/index/components/worry.vue"]]);
  const _imports_0$g = "/static/forum/question.svg";
  const _sfc_main$1v = {
    __name: "qa",
    setup(__props, { expose: __expose }) {
      __expose();
      const sharePopup = vue.ref(null);
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const hotQas = vue.ref([]);
      const contentTabsList = vue.ref([{
        id: 0,
        label: "最新"
      }, {
        id: 1,
        label: "推荐"
      }]);
      const contentTabsActive = vue.ref(0);
      const contentTabsHandler = (options) => {
        if (contentTabsActive.value != options.id) {
          contentTabsActive.value = options.id;
        }
      };
      const newContens = vue.ref([{
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }]);
      const openShare = () => {
        sharePopup.value.openShare();
      };
      const getList = async () => {
        let res2 = await getAnswerList(data.listParams);
        formatAppLog("log", "at pages/forum/index/components/qa.vue:116", res2);
        data.list = res2.data.records;
      };
      const getRecommendList = async () => {
        let res2 = await getHotQa();
        formatAppLog("log", "at pages/forum/index/components/qa.vue:122", res2);
        hotQas.value = res2.data;
      };
      getRecommendList();
      const openQaDetailFn = (item) => {
        formatAppLog("log", "at pages/forum/index/components/qa.vue:128", "====================" + item);
        uni.navigateTo({
          url: "/pages/forum/index/qaDetail?id=" + item
        });
      };
      vue.onMounted(() => {
        getList();
      });
      const __returned__ = { sharePopup, data, hotQas, contentTabsList, contentTabsActive, contentTabsHandler, newContens, openShare, getList, getRecommendList, openQaDetailFn, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get getAnswerList() {
        return getAnswerList;
      }, get getHotQa() {
        return getHotQa;
      }, share, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1u(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-index-content" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("text", { class: "num" }, "172,567"),
        vue.createTextVNode(" 个问题在这里收获了答案")
      ]),
      vue.createElementVNode("scroll-view", {
        "scroll-x": "true",
        class: "scroll-content-x",
        "show-scrollbar": false
      }, [
        vue.createElementVNode("view", { class: "qa-content-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.hotQas, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "qa-content-item",
                key: index
              }, [
                vue.createElementVNode("view", { class: "item-box" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "title" },
                    vue.toDisplayString(item.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "content" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "txt" },
                      vue.toDisplayString(item.totalComment == null ? 0 : item.totalComment) + " 个回答",
                      1
                      /* TEXT */
                    ),
                    vue.createVNode(_component_uni_icons, {
                      type: "help-filled",
                      size: "14",
                      color: "rgba(104, 117, 129, 1)"
                    })
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createElementVNode("view", { class: "tabs" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.contentTabsList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              onClick: ($event) => $setup.contentTabsHandler(item),
              class: vue.normalizeClass(["tab-item", $setup.contentTabsActive == item.id ? "active" : ""]),
              key: index
            }, vue.toDisplayString(item.label), 11, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("view", { class: "forum-index-list" }, [
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (i2) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "forum-index-list-item",
                key: _ctx.index,
                onClick: ($event) => $setup.openQaDetailFn(i2.id)
              }, [
                vue.createElementVNode("view", { class: "question" }, [
                  vue.createElementVNode("image", {
                    src: _imports_0$g,
                    class: "img"
                  }),
                  vue.createElementVNode(
                    "text",
                    { class: "txt" },
                    vue.toDisplayString(i2.title),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "item-header" }, [
                  vue.createElementVNode("view", { class: "item-header-left" }, [
                    vue.createElementVNode("view", { class: "header-pic" }, [
                      vue.createElementVNode("image", {
                        src: i2.avatar == null ? "@/static/my/profile.png" : i2.avatar,
                        class: "img"
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        { class: "name" },
                        vue.toDisplayString(i2.realName),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("text", { class: "tip" }, "咨询师")
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createVNode(
                    $setup["MoteLinesDivide"],
                    {
                      line: 5,
                      expandText: "展开",
                      foldHint: "收起"
                    },
                    {
                      default: vue.withCtx(() => [
                        vue.createTextVNode(
                          vue.toDisplayString(i2.content),
                          1
                          /* TEXT */
                        )
                      ]),
                      _: 2
                      /* DYNAMIC */
                    },
                    1024
                    /* DYNAMIC_SLOTS */
                  )
                ]),
                vue.createElementVNode("view", { class: "item-btn" }, [
                  i2.isZan == 0 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                    vue.createElementVNode("image", {
                      src: _imports_1$a,
                      class: "img"
                    }),
                    vue.createTextVNode("点赞 ")
                  ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
                    vue.createElementVNode("image", {
                      src: _imports_2$3,
                      class: "img"
                    }),
                    vue.createTextVNode(
                      vue.toDisplayString(i2.zanNum),
                      1
                      /* TEXT */
                    )
                  ])),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_3$1,
                      class: "img"
                    }),
                    vue.createTextVNode("评论 ")
                  ]),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_4$1,
                      class: "img",
                      onClick: $setup.openShare
                    }),
                    vue.createTextVNode("分享 ")
                  ]),
                  vue.createElementVNode("view", null, [
                    vue.createVNode(_component_uni_icons, {
                      type: "more-filled",
                      size: "18",
                      color: "#808080"
                    })
                  ])
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createVNode(
        $setup["share"],
        { ref: "sharePopup" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const qa = /* @__PURE__ */ _export_sfc(_sfc_main$1v, [["render", _sfc_render$1u], ["__scopeId", "data-v-c51b6f35"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/index/components/qa.vue"]]);
  const _imports_0$f = "/static/common/forum-fab.png";
  const _sfc_main$1u = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "9a476886-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const headerTabsList = vue.ref([{
        id: 0,
        label: "心事"
      }, {
        id: 1,
        label: "问答"
      }]);
      const headerTabsActive = vue.ref(0);
      const headerTabsHandler = (options) => {
        if (headerTabsActive.value != options.id) {
          headerTabsActive.value = options.id;
        }
      };
      const openWrite = () => {
        uni.navigateTo({
          url: "/pages/forum/write/write"
        });
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const openUserHandler = () => {
        uni.navigateTo({
          url: "/pages/forum/my/my"
        });
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, headerTabsList, headerTabsActive, headerTabsHandler, openWrite, backFn, openUserHandler, nextTick: vue.nextTick, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, worry, qa };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1t(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-index-box" }, [
      vue.createElementVNode("view", { class: "navbar" }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createElementVNode("view", { class: "left" }, [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              color: "#000",
              onClick: $setup.backFn
            }),
            vue.createElementVNode("view", { class: "tabs" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.headerTabsList, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("text", {
                    class: vue.normalizeClass(["tab-item", $setup.headerTabsActive == item.id ? "active" : ""]),
                    onClick: ($event) => $setup.headerTabsHandler(item),
                    key: index
                  }, vue.toDisplayString(item.label), 11, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ]),
          vue.createElementVNode("view", {
            class: "user",
            onClick: $setup.openUserHandler
          }, [
            vue.createVNode(_component_uni_icons, {
              type: "person",
              size: "24",
              color: "rgba(0,0,0,.85)"
            })
          ])
        ])
      ]),
      $setup.headerTabsActive == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "worry-box"
      }, [
        vue.createVNode($setup["worry"])
      ])) : (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "qa-box"
      }, [
        vue.createVNode($setup["qa"])
      ])),
      vue.createElementVNode("view", {
        class: "fab-button",
        onClick: $setup.openWrite
      }, [
        vue.createElementVNode("image", {
          src: _imports_0$f,
          class: "img"
        })
      ])
    ]);
  }
  const PagesForumIndexIndex = /* @__PURE__ */ _export_sfc(_sfc_main$1u, [["render", _sfc_render$1t], ["__scopeId", "data-v-9a476886"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/index/index.vue"]]);
  const _imports_0$e = "/static/forum/send.svg";
  const _imports_1$9 = "/static/forum/qa.svg";
  const _sfc_main$1t = {
    __name: "write",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const openPageHandler = (url2) => {
        uni.navigateTo({
          url: url2
        });
      };
      const __returned__ = { backFn, openPageHandler };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1s(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "write-box" }, [
      vue.createElementVNode("view", { class: "write-header" }, [
        vue.createElementVNode("view", { class: "title" }, "每个灵魂都值得被看见"),
        vue.createElementVNode("view", { class: "remark" }, "出自 / 旅行社")
      ]),
      vue.createElementVNode("view", { class: "operate-list-box" }, [
        vue.createElementVNode("view", { class: "operate-first" }, [
          vue.createElementVNode("view", {
            class: "first-item green",
            onClick: _cache[0] || (_cache[0] = ($event) => $setup.openPageHandler("/pages/forum/write/send-dynamics/send-dynamics"))
          }, [
            vue.createElementVNode("view", { class: "title" }, "发心事"),
            vue.createElementVNode("view", { class: "content" }, "此时此刻，随时记录收获爱与温暖"),
            vue.createElementVNode("image", {
              src: _imports_0$e,
              class: "img"
            })
          ]),
          vue.createElementVNode("view", {
            class: "first-item yellow",
            onClick: _cache[1] || (_cache[1] = ($event) => $setup.openPageHandler("/pages/forum/write/ask-question/ask-question"))
          }, [
            vue.createElementVNode("view", { class: "title" }, "提问题"),
            vue.createElementVNode("view", { class: "content" }, "7万+7万+专业咨询师为你答疑解惑"),
            vue.createElementVNode("image", {
              src: _imports_1$9,
              class: "img"
            })
          ])
        ]),
        vue.createElementVNode("view", { class: "txt" }, "写给自己的一封信"),
        vue.createElementVNode("view", { class: "operate-second" }, [
          vue.createElementVNode("view", { class: "second-item one" }, [
            vue.createElementVNode("view", {
              class: "title",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.openPageHandler("/pages/forum/write/write-mailbox/write-mailbox?type=old"))
            }, "从前"),
            vue.createElementVNode("view", { class: "content" }, "写给从前的一封信")
          ]),
          vue.createElementVNode("view", { class: "second-item two" }, [
            vue.createElementVNode("view", {
              class: "title",
              onClick: _cache[3] || (_cache[3] = ($event) => $setup.openPageHandler("/pages/forum/write/write-mailbox/write-mailbox?type=new"))
            }, "现在"),
            vue.createElementVNode("view", { class: "content" }, "写给现在的一封信")
          ]),
          vue.createElementVNode("view", { class: "second-item three" }, [
            vue.createElementVNode("view", {
              class: "title",
              onClick: _cache[4] || (_cache[4] = ($event) => $setup.openPageHandler("/pages/forum/write/write-mailbox/write-mailbox?type=future"))
            }, "未来"),
            vue.createElementVNode("view", { class: "content" }, "写给未来的一封信")
          ])
        ]),
        vue.createElementVNode("view", { class: "close" }, [
          vue.createVNode(_component_uni_icons, {
            type: "close",
            size: "24",
            color: "rgba(0,0,0,0.3)",
            onClick: $setup.backFn
          })
        ])
      ])
    ]);
  }
  const PagesForumWriteWrite = /* @__PURE__ */ _export_sfc(_sfc_main$1t, [["render", _sfc_render$1s], ["__scopeId", "data-v-2e0604c5"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/write/write.vue"]]);
  let base64Avatar = "data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCADIAMgDAREAAhEBAxEB/8QAcQABAQEAAwEBAAAAAAAAAAAAAAUEAQMGAgcBAQAAAAAAAAAAAAAAAAAAAAAQAAIBAwICBgkDBQAAAAAAAAABAhEDBCEFMVFBYXGREiKBscHRMkJSEyOh4XLxYjNDFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHbHFyZ/Dam+yLA+Z2L0Pjtyj2poD4AAAAAAAAAAAAAAAAAAAAAAAAKWFs9y6lcvvwQeqj8z9wFaziY1n/HbUX9XF97A7QAGXI23EvJ1goyfzR0YEfN269jeZ+a03pNe0DIAAAAAAAAAAAAAAAAAAAACvtO3RcVkXlWutuL9YFYAAAAAOJRjKLjJVi9GmB5/csH/mu1h/in8PU+QGMAAAAAAAAAAAAAAAAAAaMDG/6MmMH8C80+xAelSSVFolwQAAAAAAAHVlWI37ErUulaPk+hgeYnCUJuElSUXRrrQHAAAAAAAAAAAAAAAAABa2Oz4bM7r4zdF2ICmAAAAAAAAAg7zZ8GX41wuJP0rRgYAAAAAAAAAAAAAAAAAD0m2R8ODaXU33tsDSAAAAAAAAAlb9HyWZcnJd9PcBHAAAAAAAAAAAAAAAAAPS7e64Vn+KA0AAAAAAAAAJm+v8Ftf3ewCKAAAAAAAAAAAAAAAAAX9muqeGo9NttP06+0DcAAAAAAAAAjb7dTu2ra+VOT9P8AQCWAAAAAAAAAAAAAAAAAUNmyPt5Ltv4bui/kuAF0AAAAAAADiUlGLlJ0SVW+oDzOXfd/Ind6JPRdS0QHSAAAAAAAAAAAAAAAAAE2nVaNcGB6Lbs6OTao9LsF51z60BrAAAAAABJ3jOVHjW3r/sa9QEgAAAAAAAAAAAAAAAAAAAPu1duWriuW34ZR4MC9hbnZyEoy8l36XwfYBsAAADaSq9EuLAlZ+7xSdrGdW9Hc5dgEdtt1erfFgAAAAAAAAAAAAAAAAADVjbblX6NR8MH80tEBRs7HYivyzlN8lovaBPzduvY0m6eK10TXtAyAarO55lpJK54orolr+4GqO/Xaea1FvqbXvA+Z77kNeW3GPbV+4DJfzcm/pcm3H6Vou5AdAFLC2ed2Pjv1txa8sV8T6wOL+yZEKu1JXFy4MDBOE4ScZxcZLinoB8gAAAAAAAAAAAB242LeyJ+C3GvN9C7QLmJtePYpKS+5c+p8F2IDYAANJqj1T4oCfk7Nj3G5Wn9qXJax7gJ93Z82D8sVNc4v30A6Xg5i42Z+iLfqARwcyT0sz9MWvWBps7LlTf5Grce9/oBTxdtxseklHxT+uWr9AGoAB138ezfj4bsFJdD6V2MCPm7RdtJzs1uW1xXzL3gTgAAAAAAAAADRhYc8q74I6RWs5ckB6GxYtWLat21SK731sDsAAAAAAAAAAAAAAAASt021NO/YjrxuQXT1oCOAAAAAAABzGLlJRSq26JAelwsWONYjbXxcZvmwO8AAAAAAAAAAAAAAAAAAef3TEWPkVivx3NY9T6UBiAAAAAABo2+VmGXblddIJ8eivRUD0oAAAAAAAAAAAAAAAAAAAYt4tKeFKVNYNSXfRgefAAAAAAAAr7VuSSWPedKaW5v1MCsAAAAAAAAAAAAAAAAAAIe6bj96Ts2n+JPzSXzP3ATgAAAAAAAAFbbt1UUrOQ9FpC4/UwK6aaqtU+DAAAAAAAAAAAAAAA4lKMIuUmoxWrb4ARNx3R3q2rLpa4Sl0y/YCcAAAAAAAAAAANmFud7G8r89r6X0dgFvGzLGRGtuWvTF6NAdwAAAAAAAAAAAy5W442PVN+K59EePp5ARMvOv5MvO6QXCC4AZwAAAAAAAAAAAAAcxlKLUotprg1owN+PvORborq+7Hnwl3gUbO74VzRydt8pKn68ANcJwmqwkpLmnUDkAAAAfNy9atqtyagut0AxXt5xIV8Fbj6lRd7Am5G65V6qUvtwfyx94GMAAAAAAAAAAAAAAAAAAAOU2nVOj5gdsc3LiqRvTpyqwOxbnnrhdfpSfrQB7pnv/AGvuS9gHXPMy5/Fem1yq0v0A6W29XqwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//Z";
  const _sfc_main$1s = {
    name: "u-avatar",
    emits: ["click"],
    props: {
      // 背景颜色
      bgColor: {
        type: String,
        default: "transparent"
      },
      // 头像路径
      src: {
        type: [String, null],
        default: ""
      },
      // 尺寸，large-大，default-中等，mini-小，如果为数值，则单位为rpx
      // 宽度等于高度
      size: {
        type: [String, Number],
        default: "default"
      },
      // 头像模型，square-带圆角方形，circle-圆形
      mode: {
        type: String,
        default: "circle"
      },
      // 文字内容
      text: {
        type: String,
        default: ""
      },
      // 图片的裁剪模型
      imgMode: {
        type: String,
        default: "aspectFill"
      },
      // 标识符
      index: {
        type: [String, Number],
        default: ""
      },
      // 右上角性别角标，man-男，woman-女
      sexIcon: {
        type: [String, null],
        default: "man"
      },
      // 右下角的等级图标
      levelIcon: {
        type: String,
        default: "level"
      },
      // 右下角等级图标背景颜色
      levelBgColor: {
        type: String,
        default: ""
      },
      // 右上角性别图标的背景颜色
      sexBgColor: {
        type: String,
        default: ""
      },
      // 是否显示性别图标
      showSex: {
        type: Boolean,
        default: false
      },
      // 是否显示等级图标
      showLevel: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {
        error: false,
        // 头像的地址，因为如果加载错误，需要赋值为默认图片，props值无法修改，所以需要一个中间值
        avatar: this.src ? this.src : base64Avatar
      };
    },
    watch: {
      src(n2) {
        if (!n2) {
          this.avatar = base64Avatar;
          this.error = true;
        } else {
          this.avatar = n2;
          this.error = false;
        }
      }
    },
    computed: {
      wrapStyle() {
        let style = {};
        style.height = this.size == "large" ? "120rpx" : this.size == "default" ? "90rpx" : this.size == "mini" ? "70rpx" : this.size + "rpx";
        style.width = style.height;
        style.flex = `0 0 ${style.height}`;
        style.backgroundColor = this.bgColor;
        style.borderRadius = this.mode == "circle" ? "500px" : "5px";
        if (this.text)
          style.padding = `0 6rpx`;
        return style;
      },
      imgStyle() {
        let style = {};
        style.borderRadius = this.mode == "circle" ? "500px" : "5px";
        return style;
      },
      // 取字符串的第一个字符
      uText() {
        return String(this.text)[0];
      },
      // 性别图标的自定义样式
      uSexStyle() {
        let style = {};
        if (this.sexBgColor)
          style.backgroundColor = this.sexBgColor;
        return style;
      },
      // 等级图标的自定义样式
      uLevelStyle() {
        let style = {};
        if (this.levelBgColor)
          style.backgroundColor = this.levelBgColor;
        return style;
      }
    },
    methods: {
      // 图片加载错误时，显示默认头像
      loadError() {
        this.error = true;
        this.avatar = base64Avatar;
      },
      click() {
        this.$emit("click", this.index);
      }
    }
  };
  function _sfc_render$1r(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "u-avatar",
        style: vue.normalizeStyle([$options.wrapStyle]),
        onClick: _cache[1] || (_cache[1] = (...args) => $options.click && $options.click(...args))
      },
      [
        !$options.uText && $data.avatar ? (vue.openBlock(), vue.createElementBlock("image", {
          key: 0,
          onError: _cache[0] || (_cache[0] = (...args) => $options.loadError && $options.loadError(...args)),
          style: vue.normalizeStyle([$options.imgStyle]),
          class: "u-avatar__img",
          src: $data.avatar,
          mode: $props.imgMode
        }, null, 44, ["src", "mode"])) : $options.uText ? (vue.openBlock(), vue.createElementBlock(
          "text",
          {
            key: 1,
            class: "u-line-1",
            style: {
              fontSize: "38rpx"
            }
          },
          vue.toDisplayString($options.uText),
          1
          /* TEXT */
        )) : vue.renderSlot(_ctx.$slots, "default", { key: 2 }, void 0, true),
        $props.showSex && $props.sexIcon ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 3,
            class: vue.normalizeClass(["u-avatar__sex", ["u-avatar__sex--" + $props.sexIcon]]),
            style: vue.normalizeStyle([$options.uSexStyle])
          },
          [
            $props.sexIcon ? (vue.openBlock(), vue.createBlock(_component_u_icon, {
              key: 0,
              name: $props.sexIcon,
              size: "20"
            }, null, 8, ["name"])) : vue.createCommentVNode("v-if", true)
          ],
          6
          /* CLASS, STYLE */
        )) : vue.createCommentVNode("v-if", true),
        $props.showLevel ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 4,
            class: "u-avatar__level",
            style: vue.normalizeStyle([$options.uLevelStyle])
          },
          [
            vue.createVNode(_component_u_icon, {
              name: $props.levelIcon,
              size: "20"
            }, null, 8, ["name"])
          ],
          4
          /* STYLE */
        )) : vue.createCommentVNode("v-if", true)
      ],
      4
      /* STYLE */
    );
  }
  const __easycom_2$8 = /* @__PURE__ */ _export_sfc(_sfc_main$1s, [["render", _sfc_render$1r], ["__scopeId", "data-v-49012a02"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-avatar/u-avatar.vue"]]);
  const _sfc_main$1r = {
    __name: "mood-log",
    setup(__props, { expose: __expose }) {
      __expose();
      const sharePopup = vue.ref(null);
      const contentTabsList = vue.ref([{
        id: 0,
        label: "最新"
      }, {
        id: 1,
        label: "推荐"
      }, {
        id: 2,
        label: "关注"
      }]);
      const contentTabsActive = vue.ref(0);
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const contentTabsHandler = (options) => {
        if (contentTabsActive.value != options.id) {
          contentTabsActive.value = options.id;
        }
      };
      const newContens = vue.ref([{
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 1,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }]);
      const openShare = () => {
        sharePopup.value.openShare();
      };
      const getList = async () => {
        let res2 = await getArticleList(data.listParams);
        data.list = res2.data.records;
      };
      vue.onMounted(() => {
        getList();
      });
      const __returned__ = { sharePopup, contentTabsList, contentTabsActive, data, contentTabsHandler, newContens, openShare, getList, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get getArticleList() {
        return getArticleList;
      }, share, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1q(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-index-mood-log-content" }, [
      vue.createElementVNode("view", { class: "forum-index-list" }, [
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "forum-index-list-item",
                key: index
              }, [
                vue.createElementVNode("view", { class: "item-header" }, [
                  vue.createElementVNode("view", { class: "item-header-left" }, [
                    vue.createElementVNode("view", { class: "header-pic" }, [
                      vue.createElementVNode("image", {
                        src: _imports_0$m,
                        class: "img"
                      })
                    ]),
                    vue.createElementVNode("view", { class: "header-info" }, [
                      vue.createElementVNode("view", { class: "name" }, "张三"),
                      vue.createElementVNode("view", { class: "time" }, "52分钟前")
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "item-header-right" }, [
                    vue.createElementVNode("view", null, [
                      vue.createVNode(_component_uni_icons, {
                        type: "more-filled",
                        size: "18",
                        color: "#808080"
                      })
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createVNode(
                    $setup["MoteLinesDivide"],
                    {
                      line: 5,
                      expandText: "展开",
                      foldHint: "收起"
                    },
                    {
                      default: vue.withCtx(() => [
                        vue.createTextVNode(
                          vue.toDisplayString(item.content),
                          1
                          /* TEXT */
                        )
                      ]),
                      _: 2
                      /* DYNAMIC */
                    },
                    1024
                    /* DYNAMIC_SLOTS */
                  )
                ]),
                vue.createElementVNode("view", { class: "item-btn" }, [
                  item.isZan == 0 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                    vue.createElementVNode("image", {
                      src: _imports_1$a,
                      class: "img"
                    }),
                    vue.createTextVNode("点赞 ")
                  ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
                    vue.createElementVNode("image", {
                      src: _imports_2$3,
                      class: "img"
                    }),
                    vue.createTextVNode(
                      vue.toDisplayString(item.zanNum),
                      1
                      /* TEXT */
                    )
                  ])),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_3$1,
                      class: "img"
                    }),
                    vue.createTextVNode("评论 ")
                  ]),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_4$1,
                      class: "img",
                      onClick: $setup.openShare
                    }),
                    vue.createTextVNode("分享 ")
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createVNode(
        $setup["share"],
        { ref: "sharePopup" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const modeLog = /* @__PURE__ */ _export_sfc(_sfc_main$1r, [["render", _sfc_render$1q], ["__scopeId", "data-v-28960cbc"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/components/mood-log.vue"]]);
  const _sfc_main$1q = {
    __name: "mail-box",
    setup(__props, { expose: __expose }) {
      __expose();
      const contentLists = vue.ref([{
        title: "写给从前的自己一封信",
        type: "old",
        content: "从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前"
      }, {
        title: "写给现在的自己一封信",
        type: "new",
        content: "现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在"
      }, {
        title: "写给未来的自己一封信",
        type: "future",
        content: "未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来"
      }]);
      const openMailBoxDetail = (item) => {
        uni.navigateTo({
          url: `/pages/forum/mailbox/mailbox?type=${item.type}`
        });
      };
      const __returned__ = { contentLists, openMailBoxDetail, ref: vue.ref, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1p(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "mailbox-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "true",
        class: "scroll-content",
        "show-scrollbar": false
      }, [
        vue.createElementVNode("view", { class: "mailbox-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.contentLists, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["mailbox-item", item.type]),
                key: index,
                onClick: ($event) => $setup.openMailBoxDetail(item)
              }, [
                vue.createElementVNode("view", { class: "content-item" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "title" },
                    vue.toDisplayString(item.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "content" }, [
                    vue.createVNode(
                      $setup["MoteLinesDivide"],
                      {
                        line: 4,
                        expandText: "展开",
                        foldHint: "收起"
                      },
                      {
                        default: vue.withCtx(() => [
                          vue.createTextVNode(
                            vue.toDisplayString(item.content),
                            1
                            /* TEXT */
                          )
                        ]),
                        _: 2
                        /* DYNAMIC */
                      },
                      1024
                      /* DYNAMIC_SLOTS */
                    )
                  ])
                ]),
                vue.createElementVNode("image", {
                  src: item.type == "old" ? "@/static/forum/old-arrow.png" : item.type == "new" ? "@/static/forum/new-arrow.png" : "@/static/forum/future-arrow.png",
                  class: "img"
                }, null, 8, ["src"])
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const mailBox = /* @__PURE__ */ _export_sfc(_sfc_main$1q, [["render", _sfc_render$1p], ["__scopeId", "data-v-b26a0557"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/components/mail-box.vue"]]);
  const _sfc_main$1p = {
    __name: "article-box",
    setup(__props, { expose: __expose }) {
      __expose();
      const contentLists = vue.ref([{
        title: "写给从前的自己一封信",
        type: "old",
        content: "从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前从前"
      }, {
        title: "写给现在的自己一封信",
        type: "new",
        content: "现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在现在"
      }, {
        title: "写给未来的自己一封信",
        type: "future",
        content: "未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来未来"
      }]);
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const openMailBoxDetail = (item) => {
        uni.navigateTo({
          url: `/pages/forum/mailbox/mailbox?type=${item.type}`
        });
      };
      const getList = async () => {
        let res2 = await getArticleByUserId(data.listParams);
        data.list = res2.data.records;
      };
      vue.onMounted(() => {
        getList();
      });
      const __returned__ = { contentLists, data, openMailBoxDetail, getList, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get getArticleByUserId() {
        return getArticleByUserId;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1o(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "mailbox-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "true",
        class: "scroll-content",
        "show-scrollbar": false
      }, [
        vue.createElementVNode("view", { class: "mailbox-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.data.list, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["mailbox-item", item.type]),
                key: index,
                onClick: ($event) => $setup.openMailBoxDetail(item)
              }, [
                vue.createElementVNode("view", { class: "content-item" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "title" },
                    vue.toDisplayString(item.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "content" }, [
                    vue.createVNode(
                      $setup["MoteLinesDivide"],
                      {
                        line: 4,
                        expandText: "展开",
                        foldHint: "收起"
                      },
                      {
                        default: vue.withCtx(() => [
                          vue.createTextVNode(
                            vue.toDisplayString(item.content),
                            1
                            /* TEXT */
                          )
                        ]),
                        _: 2
                        /* DYNAMIC */
                      },
                      1024
                      /* DYNAMIC_SLOTS */
                    )
                  ])
                ]),
                vue.createElementVNode("image", {
                  src: item.type == "old" ? "@/static/forum/old-arrow.png" : item.type == "new" ? "@/static/forum/new-arrow.png" : "@/static/forum/future-arrow.png",
                  class: "img"
                }, null, 8, ["src"])
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const articleBox = /* @__PURE__ */ _export_sfc(_sfc_main$1p, [["render", _sfc_render$1o], ["__scopeId", "data-v-99e53156"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/components/article-box.vue"]]);
  const _sfc_main$1o = {
    __name: "my",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "216c1057-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const headerTabsList = vue.ref([{
        id: 0,
        label: "心情日志"
      }, {
        id: 1,
        label: "信箱"
      }, {
        id: 2,
        label: "文章"
      }]);
      const userlnfo1 = vue.ref({});
      const headerTabsActive = vue.ref(0);
      const headerTabsHandler = (options) => {
        if (headerTabsActive.value != options.id) {
          headerTabsActive.value = options.id;
        }
      };
      const openWrite = () => {
        uni.navigateTo({
          url: "/pages/forum/write/write"
        });
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const editUserHandler = () => {
        uni.navigateTo({
          url: "/pages/forum/my/userInfo"
        });
      };
      const getlnfo = async () => {
        let res2 = await getUserInfo();
        userlnfo1.value = res2.data;
        formatAppLog("log", "at pages/forum/my/my.vue:128", "userInfo", userlnfo1.value);
      };
      vue.onMounted(() => {
        getlnfo();
      });
      const __returned__ = { globalStore, statusBarHeight, scrollTop, headerTabsList, userlnfo1, headerTabsActive, headerTabsHandler, openWrite, backFn, editUserHandler, getlnfo, get getUserInfo() {
        return getUserInfo;
      }, nextTick: vue.nextTick, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, modeLog, mailBox, articleBox };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1n(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_u_avatar = resolveEasycom(vue.resolveDynamicComponent("u-avatar"), __easycom_2$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-my-box" }, [
      vue.createElementVNode("view", { class: "navbar" }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            color: "#000",
            onClick: $setup.backFn,
            class: "left"
          })
        ]),
        vue.createElementVNode("view", { class: "user-info" }, [
          vue.createElementVNode("view", { class: "user-info-content" }, [
            vue.createVNode(_component_u_avatar, {
              src: $setup.userlnfo1.avatar == null ? "@/static/my/profile.png" : $setup.userlnfo1.avatar,
              class: "profile"
            }, null, 8, ["src"]),
            vue.createElementVNode("view", null, [
              vue.createElementVNode(
                "view",
                { class: "nick-name" },
                vue.toDisplayString($setup.userlnfo1.realName),
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", { class: "id-num" }, [
                vue.createElementVNode(
                  "text",
                  null,
                  "ID：" + vue.toDisplayString($setup.userlnfo1.id),
                  1
                  /* TEXT */
                )
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "edit-user-box" }, [
            vue.createElementVNode("view", {
              class: "edit-user",
              onClick: $setup.editUserHandler
            }, "编辑资料")
          ])
        ]),
        vue.createElementVNode("view", { class: "remark" }, "倾听师寄语倾听师寄语倾听师寄语倾听师寄"),
        vue.createElementVNode("view", { class: "num-box" }, [
          vue.createElementVNode("view", { class: "num-content-box" }, [
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "获赞")
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "关注")
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "粉丝")
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "访客")
            ])
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "tabs" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.headerTabsList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              onClick: ($event) => $setup.headerTabsHandler(item),
              class: vue.normalizeClass(["tab-item", $setup.headerTabsActive == item.id ? "active" : ""]),
              key: index
            }, vue.toDisplayString(item.label), 11, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      $setup.headerTabsActive == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "mood-log-box"
      }, [
        vue.createVNode($setup["modeLog"])
      ])) : $setup.headerTabsActive == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "mood-log-box mailbox-box"
      }, [
        vue.createVNode($setup["mailBox"])
      ])) : $setup.headerTabsActive == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 2,
        class: "mood-log-box mailbox-box"
      }, [
        vue.createVNode($setup["articleBox"])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createElementVNode("view", {
        class: "fab-button",
        onClick: $setup.openWrite
      }, [
        vue.createElementVNode("image", {
          src: _imports_0$f,
          class: "img"
        })
      ])
    ]);
  }
  const PagesForumMyMy = /* @__PURE__ */ _export_sfc(_sfc_main$1o, [["render", _sfc_render$1n], ["__scopeId", "data-v-216c1057"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/my.vue"]]);
  const _sfc_main$1n = {
    __name: "dynamics-log",
    setup(__props, { expose: __expose }) {
      __expose();
      const sharePopup = vue.ref(null);
      const contentTabsList = vue.ref([{
        id: 0,
        label: "最新"
      }, {
        id: 1,
        label: "推荐"
      }, {
        id: 2,
        label: "关注"
      }]);
      const contentTabsActive = vue.ref(0);
      const contentTabsHandler = (options) => {
        if (contentTabsActive.value != options.id) {
          contentTabsActive.value = options.id;
        }
      };
      const newContens = vue.ref([{
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 1,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 1
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }, {
        content: "测试测试测试测试测试测试测试测试测试测试测试测试测试测试试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试",
        isZan: 0,
        zanNum: 536,
        isFollow: 0
      }]);
      const openShare = () => {
        sharePopup.value.openShare();
      };
      const __returned__ = { sharePopup, contentTabsList, contentTabsActive, contentTabsHandler, newContens, openShare, ref: vue.ref, share, get MoteLinesDivide() {
        return MoteLinesDivide;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1m(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-index-dynamics-log-content" }, [
      vue.createElementVNode("view", { class: "forum-index-list" }, [
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.newContens, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "forum-index-list-item",
                key: index
              }, [
                vue.createElementVNode("view", { class: "item-header" }, [
                  vue.createElementVNode("view", { class: "item-header-left" }, [
                    vue.createElementVNode("view", { class: "header-pic" }, [
                      vue.createElementVNode("image", {
                        src: _imports_0$m,
                        class: "img"
                      })
                    ]),
                    vue.createElementVNode("view", { class: "header-info" }, [
                      vue.createElementVNode("view", { class: "name" }, "张三"),
                      vue.createElementVNode("view", { class: "time" }, "52分钟前")
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "item-header-right" }, [
                    vue.createElementVNode("view", null, [
                      vue.createVNode(_component_uni_icons, {
                        type: "more-filled",
                        size: "18",
                        color: "#808080"
                      })
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createVNode(
                    $setup["MoteLinesDivide"],
                    {
                      line: 5,
                      expandText: "展开",
                      foldHint: "收起"
                    },
                    {
                      default: vue.withCtx(() => [
                        vue.createTextVNode(
                          vue.toDisplayString(item.content),
                          1
                          /* TEXT */
                        )
                      ]),
                      _: 2
                      /* DYNAMIC */
                    },
                    1024
                    /* DYNAMIC_SLOTS */
                  )
                ]),
                vue.createElementVNode("view", { class: "item-btn" }, [
                  item.isZan == 0 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                    vue.createElementVNode("image", {
                      src: _imports_1$a,
                      class: "img"
                    }),
                    vue.createTextVNode("点赞 ")
                  ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
                    vue.createElementVNode("image", {
                      src: _imports_2$3,
                      class: "img"
                    }),
                    vue.createTextVNode(
                      vue.toDisplayString(item.zanNum),
                      1
                      /* TEXT */
                    )
                  ])),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_3$1,
                      class: "img"
                    }),
                    vue.createTextVNode("评论 ")
                  ]),
                  vue.createElementVNode("view", null, [
                    vue.createElementVNode("image", {
                      src: _imports_4$1,
                      class: "img",
                      onClick: $setup.openShare
                    }),
                    vue.createTextVNode("分享 ")
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createVNode(
        $setup["share"],
        { ref: "sharePopup" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const dynamicsLog = /* @__PURE__ */ _export_sfc(_sfc_main$1n, [["render", _sfc_render$1m], ["__scopeId", "data-v-e75141f3"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/other/components/dynamics-log.vue"]]);
  const _sfc_main$1m = {
    __name: "other",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "154647ed-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const isFollow = vue.ref(false);
      const headerTabsList = vue.ref([{
        id: 0,
        label: "动态"
      }]);
      const headerTabsActive = vue.ref(0);
      const headerTabsHandler = (options) => {
        if (headerTabsActive.value != options.id) {
          headerTabsActive.value = options.id;
        }
      };
      const openWrite = () => {
        uni.navigateTo({
          url: "/pages/forum/write/write"
        });
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, isFollow, headerTabsList, headerTabsActive, headerTabsHandler, openWrite, backFn, nextTick: vue.nextTick, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, dynamicsLog };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1l(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "forum-other-box" }, [
      vue.createElementVNode("view", { class: "navbar" }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            color: "#000",
            onClick: $setup.backFn,
            class: "left"
          })
        ]),
        vue.createElementVNode("view", { class: "user-info" }, [
          vue.createElementVNode("view", { class: "user-info-content" }, [
            vue.createElementVNode("image", {
              src: _imports_0$m,
              class: "profile"
            }),
            vue.createElementVNode("view", null, [
              vue.createElementVNode("view", { class: "nick-name" }, "大石头"),
              vue.createElementVNode("view", { class: "id-num" }, [
                vue.createElementVNode("text", null, "ID：12367263732")
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "follow-box" }, [
            !$setup.isFollow ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "follow"
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "plusempty",
                size: "12",
                color: "#fff",
                onClick: _cache[0] || (_cache[0] = ($event) => $setup.isFollow = true)
              }),
              vue.createTextVNode("关注")
            ])) : (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "follow isFollow",
              onClick: _cache[1] || (_cache[1] = ($event) => $setup.isFollow = false)
            }, "已关注"))
          ])
        ]),
        vue.createElementVNode("view", { class: "remark" }, "倾听师寄语倾听师寄语倾听师寄语倾听师寄"),
        vue.createElementVNode("view", { class: "num-box" }, [
          vue.createElementVNode("view", { class: "num-content-box" }, [
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "获赞")
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "关注")
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "粉丝")
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("text", { class: "num" }, "9999"),
              vue.createElementVNode("text", { class: "txt" }, "访客")
            ])
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "tabs" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.headerTabsList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              onClick: ($event) => $setup.headerTabsHandler(item),
              class: vue.normalizeClass(["tab-item", $setup.headerTabsActive == item.id ? "active" : ""]),
              key: index
            }, vue.toDisplayString(item.label), 11, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      $setup.headerTabsActive == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "mood-log-box"
      }, [
        vue.createVNode($setup["dynamicsLog"])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesForumOtherOther = /* @__PURE__ */ _export_sfc(_sfc_main$1m, [["render", _sfc_render$1l], ["__scopeId", "data-v-154647ed"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/other/other.vue"]]);
  const _sfc_main$1l = {
    __name: "mailbox",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "954d4f5b-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const type = vue.ref(null);
      onLoad((e2) => {
        type.value = e2.type;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, type, backFn, nextTick: vue.nextTick, onMounted: vue.onMounted, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1k(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "mailbox-contaior" }, [
      vue.createElementVNode(
        "view",
        {
          class: "navbar",
          style: vue.normalizeStyle({ "backgroundImage": $setup.type == "old" ? "url(/static/forum/old-bg.png)" : $setup.type == "new" ? "url(/static/forum/new-bg.png)" : "url(/static/forum/future-bg.png)" })
        },
        [
          vue.createElementVNode("view", { class: "header" }, [
            vue.createElementVNode("view", { class: "content" }, [
              vue.createVNode(_component_uni_icons, {
                type: "left",
                size: "24",
                color: "#000",
                onClick: $setup.backFn,
                class: "left"
              }),
              vue.createVNode(_component_uni_icons, {
                type: "more-filled",
                size: "18",
                color: "#808080"
              })
            ]),
            vue.createElementVNode("view", { class: "title" }, "写给从前的自己的一封信"),
            vue.createElementVNode("view", { class: "item-header" }, [
              vue.createElementVNode("view", { class: "item-header-left" }, [
                vue.createElementVNode("view", { class: "header-pic" }, [
                  vue.createElementVNode("image", {
                    src: _imports_0$m,
                    class: "img"
                  })
                ]),
                vue.createElementVNode("view", { class: "header-info" }, [
                  vue.createElementVNode("view", { class: "name" }, "张三"),
                  vue.createElementVNode("view", { class: "time" }, "咨询师 | 认证作家")
                ])
              ]),
              vue.createElementVNode("view", { class: "item-header-right" }, [
                vue.createElementVNode("image", {
                  src: $setup.type == "new" ? "@/static/forum/new-logo.png" : $setup.type == "old" ? "@/static/forum/old-logo.png" : "@/static/forum/future-logo.png",
                  class: "img"
                }, null, 8, ["src"])
              ])
            ])
          ])
        ],
        4
        /* STYLE */
      ),
      vue.createElementVNode("view", { class: "info" }, [
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false
        }, [
          vue.createElementVNode("view", { class: "info-box" }, " 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题心理健康问题。 ")
        ])
      ])
    ]);
  }
  const PagesForumMailboxMailbox = /* @__PURE__ */ _export_sfc(_sfc_main$1l, [["render", _sfc_render$1k], ["__scopeId", "data-v-954d4f5b"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/mailbox/mailbox.vue"]]);
  const _imports_0$d = "/static/forum/tag.png";
  const _sfc_main$1k = {
    __name: "ask-question",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const form = vue.ref({});
      const content = vue.ref("");
      const tagContent = vue.ref({
        id: null,
        label: "添加标签"
      });
      const tagPopupRef = vue.ref(null);
      const releaseQuestion = async () => {
        let resp = await publishQuestion(form.value);
        formatAppLog("log", "at pages/forum/write/ask-question/ask-question.vue:94", resp);
        if (resp.code == 0) {
          uni.showToast({
            title: "发布成功",
            icon: "success",
            success(res2) {
              uni.navigateBack();
            }
          });
        }
      };
      const tabActive = vue.ref(1);
      const changeTabHandler = (i2) => {
        if (tabActive.value != i2) {
          tabActive.value = i2;
        }
      };
      const contentActive = vue.ref(1);
      const changeContentHandler = (i2) => {
        if (contentActive.value != i2) {
          contentActive.value = i2;
        }
      };
      const openHandler = () => {
        tagPopupRef.value.open();
      };
      const cancelHandler = () => {
        tagPopupRef.value.close();
      };
      const confirmHandler = () => {
        tagPopupRef.value.close();
        tagContent.value = {
          id: 1,
          label: "天气不错"
        };
      };
      const __returned__ = { backFn, form, content, tagContent, tagPopupRef, releaseQuestion, tabActive, changeTabHandler, contentActive, changeContentHandler, openHandler, cancelHandler, confirmHandler, onMounted: vue.onMounted, ref: vue.ref, get publishQuestion() {
        return publishQuestion;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1j(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "ask-question-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "提问题",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        right: vue.withCtx(() => [
          vue.createElementVNode("view", {
            class: "right",
            onClick: $setup.releaseQuestion
          }, " 发布 ")
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "question-content" }, [
        vue.createElementVNode("view", { class: "question-title" }, [
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "uni-input",
              maxlength: "25",
              placeholder: "请说出您的问题（5-25字）",
              "placeholder-class": "placeholder-title",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.form.title = $event)
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $setup.form.title]
          ])
        ]),
        vue.createElementVNode("view", { class: "content" }, [
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              class: "uni-textarea",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.form.content = $event),
              placeholder: "示例：25岁女孩，近期情绪很焦虑，怎么去缓解？包含年龄、性别信息,明确具体困扰与症状，以便得到更专业解答？",
              "placeholder-class": "placeholder-content",
              maxlength: "1000"
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $setup.form.content]
          ]),
          vue.createElementVNode(
            "view",
            { class: "char-count" },
            vue.toDisplayString($setup.content.length) + "/1000",
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createElementVNode("view", { class: "question-tag" }, [
        vue.createElementVNode("view", {
          class: "tag-content",
          onClick: $setup.openHandler
        }, [
          vue.createElementVNode("image", {
            src: _imports_0$d,
            class: "img"
          }),
          vue.createElementVNode(
            "text",
            { class: "txt" },
            vue.toDisplayString($setup.tagContent.label),
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          class: "tag-popup",
          ref: "tagPopupRef",
          type: "bottom",
          "background-color": "#fff",
          "border-radius": "24rpx 24rpx 0rpx 0rpx",
          "is-mask-click": false
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "tag-header" }, [
              vue.createElementVNode("view", { class: "tag-header-content" }, [
                vue.createElementVNode("view", {
                  class: "cancel",
                  onClick: $setup.cancelHandler
                }, "取消"),
                vue.createElementVNode("view", { class: "title" }, "选择标签"),
                vue.createElementVNode("view", {
                  class: "confirm",
                  onClick: $setup.confirmHandler
                }, "确认")
              ])
            ]),
            vue.createElementVNode("view", { class: "tag-content" }, [
              vue.createElementVNode("view", { class: "tag-left" }, [
                vue.createElementVNode("scroll-view", {
                  "scroll-y": "true",
                  class: "scroll-content",
                  "show-scrollbar": false
                }, [
                  (vue.openBlock(), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList(20, (i2) => {
                      return vue.createElementVNode("view", {
                        class: vue.normalizeClass(["tag-item", $setup.tabActive == i2 ? "active" : ""]),
                        key: i2,
                        onClick: ($event) => $setup.changeTabHandler(i2)
                      }, " 健康 ", 10, ["onClick"]);
                    }),
                    64
                    /* STABLE_FRAGMENT */
                  ))
                ])
              ]),
              vue.createElementVNode("view", { class: "tag-right" }, [
                vue.createElementVNode("scroll-view", {
                  "scroll-y": "true",
                  class: "scroll-content",
                  "show-scrollbar": false
                }, [
                  vue.createElementVNode("view", { class: "tag-right-content" }, [
                    (vue.openBlock(), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(20, (i2) => {
                        return vue.createElementVNode("text", {
                          class: vue.normalizeClass(["content-item", $setup.contentActive == i2 ? "active" : ""]),
                          key: i2,
                          onClick: ($event) => $setup.changeContentHandler(i2)
                        }, " 天气很好 ", 10, ["onClick"]);
                      }),
                      64
                      /* STABLE_FRAGMENT */
                    ))
                  ])
                ])
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesForumWriteAskQuestionAskQuestion = /* @__PURE__ */ _export_sfc(_sfc_main$1k, [["render", _sfc_render$1j], ["__scopeId", "data-v-9411c4a9"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/write/ask-question/ask-question.vue"]]);
  const _imports_0$c = "/static/forum/upload-image.svg";
  const _imports_1$8 = "/static/forum/topic.png";
  const _sfc_main$1j = {
    __name: "send-dynamics",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const content = vue.ref("");
      const imageUrl = vue.ref("");
      const tagContent = vue.ref({
        id: null,
        label: "添加话题"
      });
      const imageArr = vue.ref([]);
      const uploadImageHandler = () => {
        uni.chooseImage({
          count: 1,
          success: function(res2) {
            imageArr.value.push(res2.tempFilePaths[0]);
            uni.uploadFile({
              url: "https://ceshi.maimiaoqingsu.com/api/common/upload",
              filePath: res2.tempFilePaths[0],
              name: "file",
              header: {
                "token": uni.getStorageSync("token")
              },
              success: (res3) => {
                formatAppLog("log", "at pages/forum/write/send-dynamics/send-dynamics.vue:78", JSON.parse(res3.data));
                imageUrl.value = JSON.parse(res3.data).data.url;
              }
            });
          }
        });
      };
      const delImageHandler = (index) => {
        imageArr.value.splice(index, 1);
      };
      const addTopicHandler = () => {
        uni.navigateTo({
          url: "/pages/forum/write/choose-topic/choose-topic"
        });
      };
      const onSaveArticle = async () => {
        let res2 = await saveArticle({
          "content": content.value,
          "imageUrl": imageUrl.value
        });
        uni.showToast({
          title: "发布成功",
          icon: "none",
          // 可选值 'success', 'loading', 'none'
          duration: 2e3
          // 持续时长，单位ms
        });
        formatAppLog("log", "at pages/forum/write/send-dynamics/send-dynamics.vue:107", res2);
      };
      const __returned__ = { backFn, content, imageUrl, tagContent, imageArr, uploadImageHandler, delImageHandler, addTopicHandler, onSaveArticle, onMounted: vue.onMounted, ref: vue.ref, get saveArticle() {
        return saveArticle;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1i(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "send-dynamics-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "发动态",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        right: vue.withCtx(() => [
          vue.createElementVNode("view", {
            class: "right",
            onClick: $setup.onSaveArticle
          }, " 发布 ")
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "question-content" }, [
        vue.createElementVNode("view", { class: "content" }, [
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              class: "uni-textarea",
              placeholder: "分享您此刻的心情，随时记录",
              "placeholder-class": "placeholder-content",
              maxlength: "1000",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.content = $event)
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $setup.content]
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "upload-image" }, [
        vue.createElementVNode("view", { class: "upload-image-content" }, [
          vue.createElementVNode("view", { class: "uploadImageLogo" }, [
            vue.createElementVNode("image", {
              src: _imports_0$c,
              class: "image",
              onClick: $setup.uploadImageHandler
            })
          ]),
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.imageArr, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "upload-image-item",
                key: index
              }, [
                vue.createElementVNode("image", {
                  src: item,
                  class: "image"
                }, null, 8, ["src"]),
                vue.createElementVNode("view", {
                  class: "del-img",
                  onClick: ($event) => $setup.delImageHandler(index)
                }, [
                  vue.createVNode(_component_uni_icons, {
                    type: "closeempty",
                    size: "12",
                    color: "#fff"
                  })
                ], 8, ["onClick"])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createElementVNode("view", {
        class: "question-tag",
        onClick: $setup.addTopicHandler
      }, [
        vue.createElementVNode("view", {
          class: "tag-content",
          onClick: _cache[1] || (_cache[1] = (...args) => _ctx.openHandler && _ctx.openHandler(...args))
        }, [
          vue.createElementVNode("image", {
            src: _imports_1$8,
            class: "img"
          }),
          vue.createElementVNode(
            "text",
            { class: "txt" },
            vue.toDisplayString($setup.tagContent.label),
            1
            /* TEXT */
          )
        ])
      ])
    ]);
  }
  const PagesForumWriteSendDynamicsSendDynamics = /* @__PURE__ */ _export_sfc(_sfc_main$1j, [["render", _sfc_render$1i], ["__scopeId", "data-v-c0c3a8cf"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/write/send-dynamics/send-dynamics.vue"]]);
  const _sfc_main$1i = {
    __name: "write-mailbox",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const content = vue.ref("");
      const imageArr = vue.ref([]);
      const uploadImageHandler = () => {
        uni.chooseImage({
          count: 1,
          success: function(res2) {
            imageArr.value.push(res2.tempFilePaths[0]);
          }
        });
      };
      const delImageHandler = (index) => {
        imageArr.value.splice(index, 1);
      };
      const __returned__ = { backFn, content, imageArr, uploadImageHandler, delImageHandler, onMounted: vue.onMounted, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1h(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "write-mailbox-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "写给从前的一封信",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        right: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "right" }, " 发布 ")
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "question-content" }, [
        vue.createElementVNode("view", { class: "content" }, [
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              class: "uni-textarea",
              placeholder: "给从前的自己写一份信",
              "placeholder-class": "placeholder-content",
              maxlength: "1000",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.content = $event)
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $setup.content]
          ]),
          vue.createElementVNode(
            "view",
            { class: "char-count" },
            vue.toDisplayString($setup.content.length) + "/1000",
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createElementVNode("view", { class: "upload-image" }, [
        vue.createElementVNode("view", { class: "upload-image-content" }, [
          vue.createElementVNode("view", { class: "uploadImageLogo" }, [
            vue.createElementVNode("image", {
              src: _imports_0$c,
              class: "image",
              onClick: $setup.uploadImageHandler
            })
          ]),
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.imageArr, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "upload-image-item",
                key: index
              }, [
                vue.createElementVNode("image", {
                  src: item,
                  class: "image"
                }, null, 8, ["src"]),
                vue.createElementVNode("view", {
                  class: "del-img",
                  onClick: ($event) => $setup.delImageHandler(index)
                }, [
                  vue.createVNode(_component_uni_icons, {
                    type: "closeempty",
                    size: "12",
                    color: "#fff"
                  })
                ], 8, ["onClick"])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const PagesForumWriteWriteMailboxWriteMailbox = /* @__PURE__ */ _export_sfc(_sfc_main$1i, [["render", _sfc_render$1h], ["__scopeId", "data-v-32c33dfb"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/write/write-mailbox/write-mailbox.vue"]]);
  const _sfc_main$1h = {
    name: "u-mask",
    emits: ["click"],
    props: {
      // 是否显示遮罩
      show: {
        type: Boolean,
        default: false
      },
      // 层级z-index
      zIndex: {
        type: [Number, String],
        default: ""
      },
      // 用户自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 遮罩的动画样式， 是否使用使用zoom进行scale进行缩放
      zoom: {
        type: Boolean,
        default: true
      },
      // 遮罩的过渡时间，单位为ms
      duration: {
        type: [Number, String],
        default: 300
      },
      // 是否可以通过点击遮罩进行关闭
      maskClickAble: {
        type: Boolean,
        default: true
      },
      // 遮罩的模糊度
      blur: {
        type: [Number, String],
        default: 0
      }
    },
    data() {
      return {
        zoomStyle: {
          transform: ""
        },
        scale: "scale(1.2, 1.2)"
      };
    },
    watch: {
      show(n2) {
        if (n2 && this.zoom) {
          this.zoomStyle.transform = "scale(1, 1)";
        } else if (!n2 && this.zoom) {
          this.zoomStyle.transform = this.scale;
        }
      }
    },
    computed: {
      maskStyle() {
        let style = {};
        style.backgroundColor = "rgba(0, 0, 0, 0.6)";
        if (this.show)
          style.zIndex = this.zIndex ? this.zIndex : this.$u.zIndex.mask;
        else
          style.zIndex = -1;
        style.transition = `all ${this.duration / 1e3}s ease-in-out`;
        if (Object.keys(this.customStyle).length)
          style = {
            ...style,
            ...this.customStyle
          };
        return style;
      },
      filterStyle() {
        let { blur } = this;
        let style = {};
        if (blur) {
          style.backdropFilter = `blur(${blur}rpx)`;
        }
        return style;
      }
    },
    methods: {
      click() {
        if (!this.maskClickAble)
          return;
        this.$emit("click");
      }
    }
  };
  function _sfc_render$1g(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["u-mask", {
          "u-mask-zoom": $props.zoom,
          "u-mask-show": $props.show
        }]),
        "hover-stop-propagation": "",
        style: vue.normalizeStyle([$options.maskStyle, $data.zoomStyle, $options.filterStyle]),
        onClick: _cache[0] || (_cache[0] = (...args) => $options.click && $options.click(...args)),
        onTouchmove: vue.withModifiers(() => {
        }, ["stop", "prevent"])
      },
      [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ],
      38
      /* CLASS, STYLE, NEED_HYDRATION */
    );
  }
  const __easycom_0$2 = /* @__PURE__ */ _export_sfc(_sfc_main$1h, [["render", _sfc_render$1g], ["__scopeId", "data-v-b3b508a8"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-mask/u-mask.vue"]]);
  const _sfc_main$1g = {
    name: "u-popup",
    emits: ["update:modelValue", "input", "open", "close"],
    props: {
      value: {
        type: Boolean,
        default: false
      },
      modelValue: {
        type: Boolean,
        default: false
      },
      /**
       * 显示状态
       */
      show: {
        type: Boolean,
        default: false
      },
      /**
       * 弹出方向，left|right|top|bottom|center
       */
      mode: {
        type: String,
        default: "left"
      },
      /**
       * 是否显示遮罩
       */
      mask: {
        type: Boolean,
        default: true
      },
      // 抽屉的宽度(mode=left|right)，或者高度(mode=top|bottom)，单位rpx，或者"auto"
      // 或者百分比"50%"，表示由内容撑开高度或者宽度
      length: {
        type: [Number, String],
        default: "auto"
      },
      // 是否开启缩放动画，只在mode=center时有效
      zoom: {
        type: Boolean,
        default: true
      },
      // 是否开启底部安全区适配，开启的话，会在iPhoneX机型底部添加一定的内边距
      safeAreaInsetBottom: {
        type: Boolean,
        default: false
      },
      // 是否可以通过点击遮罩进行关闭
      maskCloseAble: {
        type: Boolean,
        default: true
      },
      // 用户自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 此为内部参数，不在文档对外使用，为了解决Picker和keyboard等融合了弹窗的组件
      // 对v-model双向绑定多层调用造成报错不能修改props值的问题
      popup: {
        type: Boolean,
        default: true
      },
      // 显示显示弹窗的圆角，单位rpx
      borderRadius: {
        type: [Number, String],
        default: 0
      },
      zIndex: {
        type: [Number, String],
        default: ""
      },
      // 是否显示关闭图标
      closeable: {
        type: Boolean,
        default: false
      },
      // 关闭图标的名称，只能uView的内置图标
      closeIcon: {
        type: String,
        default: "close"
      },
      // 自定义关闭图标位置，top-left为左上角，top-right为右上角，bottom-left为左下角，bottom-right为右下角
      closeIconPos: {
        type: String,
        default: "top-right"
      },
      // 关闭图标的颜色
      closeIconColor: {
        type: String,
        default: "#909399"
      },
      // 关闭图标的大小，单位rpx
      closeIconSize: {
        type: [String, Number],
        default: "30"
      },
      // 宽度，只对左，右，中部弹出时起作用，单位rpx，或者"auto"
      // 或者百分比"50%"，表示由内容撑开高度或者宽度，优先级高于length参数
      width: {
        type: String,
        default: ""
      },
      // 高度，只对上，下，中部弹出时起作用，单位rpx，或者"auto"
      // 或者百分比"50%"，表示由内容撑开高度或者宽度，优先级高于length参数
      height: {
        type: String,
        default: ""
      },
      // 给一个负的margin-top，往上偏移，避免和键盘重合的情况，仅在mode=center时有效
      negativeTop: {
        type: [String, Number],
        default: 0
      },
      // 遮罩的样式，一般用于修改遮罩的透明度
      maskCustomStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 遮罩打开或收起的动画过渡时间，单位ms
      duration: {
        type: [String, Number],
        default: 250
      },
      // 遮罩的模糊度
      blur: {
        type: [String, Number],
        default: 0
      },
      backgroundColor: {
        type: String,
        default: "#ffffff"
      }
    },
    data() {
      return {
        visibleSync: false,
        showDrawer: false,
        timer: null,
        closeFromInner: false
        // value的值改变，是发生在内部还是外部
      };
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      // 根据mode的位置，设定其弹窗的宽度(mode = left|right)，或者高度(mode = top|bottom)
      style() {
        let style = {};
        if (this.mode == "left" || this.mode == "right") {
          style = {
            width: this.width ? this.getUnitValue(this.width) : this.getUnitValue(this.length),
            height: "100%",
            transform: `translate3D(${this.mode == "left" ? "-100%" : "100%"},0px,0px)`
          };
        } else if (this.mode == "top" || this.mode == "bottom") {
          style = {
            width: "100%",
            height: this.height ? this.getUnitValue(this.height) : this.getUnitValue(this.length),
            transform: `translate3D(0px,${this.mode == "top" ? "-100%" : "100%"},0px)`
          };
        }
        style.zIndex = this.uZindex;
        if (this.borderRadius) {
          switch (this.mode) {
            case "left":
              style.borderRadius = `0 ${this.borderRadius}rpx ${this.borderRadius}rpx 0`;
              break;
            case "top":
              style.borderRadius = `0 0 ${this.borderRadius}rpx ${this.borderRadius}rpx`;
              break;
            case "right":
              style.borderRadius = `${this.borderRadius}rpx 0 0 ${this.borderRadius}rpx`;
              break;
            case "bottom":
              style.borderRadius = `${this.borderRadius}rpx ${this.borderRadius}rpx 0 0`;
              break;
          }
          style.overflow = "hidden";
        }
        if (this.duration)
          style.transition = `all ${this.duration / 1e3}s linear`;
        return style;
      },
      // 中部弹窗的特有样式
      centerStyle() {
        let style = {};
        style.width = this.width ? this.getUnitValue(this.width) : this.getUnitValue(this.length);
        style.height = this.height ? this.getUnitValue(this.height) : "auto";
        style.zIndex = this.uZindex;
        style.marginTop = `-${this.$u.addUnit(this.negativeTop)}`;
        if (this.borderRadius) {
          style.borderRadius = `${this.borderRadius}rpx`;
          style.overflow = "hidden";
        }
        return style;
      },
      // 计算整理后的z-index值
      uZindex() {
        return this.zIndex ? this.zIndex : this.$u.zIndex.popup;
      }
    },
    watch: {
      valueCom: {
        handler(val2) {
          if (val2) {
            this.open();
          } else if (!this.closeFromInner) {
            this.close();
          }
          this.closeFromInner = false;
        }
      }
    },
    mounted() {
      if (this.valueCom) {
        this.open();
      }
    },
    methods: {
      // 判断传入的值，是否带有单位，如果没有，就默认用rpx单位
      getUnitValue(val2) {
        if (/(%|px|rpx|auto)$/.test(val2))
          return val2;
        else
          return val2 + "rpx";
      },
      // 遮罩被点击
      maskClick() {
        this.close();
      },
      close() {
        this.closeFromInner = true;
        this.change("showDrawer", "visibleSync", false);
      },
      // 中部弹出时，需要.u-drawer-content将居中内容，此元素会铺满屏幕，点击需要关闭弹窗
      // 让其只在mode=center时起作用
      modeCenterClose(mode) {
        if (mode != "center" || !this.maskCloseAble)
          return;
        this.close();
      },
      open() {
        this.change("visibleSync", "showDrawer", true);
      },
      // 此处的原理是，关闭时先通过动画隐藏弹窗和遮罩，再移除整个组件
      // 打开时，先渲染组件，延时一定时间再让遮罩和弹窗的动画起作用
      change(param1, param2, status) {
        if (this.popup == true) {
          this.$emit("input", status);
          this.$emit("update:modelValue", status);
        }
        this[param1] = status;
        if (status) {
          this.$nextTick(() => {
            this[param2] = status;
            this.$emit(status ? "open" : "close");
          });
        } else {
          this.timer = setTimeout(() => {
            this[param2] = status;
            this.$emit(status ? "open" : "close");
          }, this.duration);
        }
      }
    }
  };
  function _sfc_render$1f(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_mask = resolveEasycom(vue.resolveDynamicComponent("u-mask"), __easycom_0$2);
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return $data.visibleSync ? (vue.openBlock(), vue.createElementBlock(
      "view",
      {
        key: 0,
        style: vue.normalizeStyle([$props.customStyle, {
          zIndex: $options.uZindex - 1,
          "--bgcolor": $props.backgroundColor
        }]),
        class: "u-drawer",
        "hover-stop-propagation": ""
      },
      [
        vue.createVNode(_component_u_mask, {
          blur: $props.blur,
          duration: $props.duration,
          "custom-style": $props.maskCustomStyle,
          maskClickAble: $props.maskCloseAble,
          "z-index": $options.uZindex - 2,
          show: $data.showDrawer && $props.mask,
          onClick: $options.maskClick
        }, null, 8, ["blur", "duration", "custom-style", "maskClickAble", "z-index", "show", "onClick"]),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["u-drawer-content", [
              $props.safeAreaInsetBottom ? "safe-area-inset-bottom" : "",
              "u-drawer-" + $props.mode,
              $data.showDrawer ? "u-drawer-content-visible" : "",
              $props.zoom && $props.mode == "center" ? "u-animation-zoom" : ""
            ]]),
            onClick: _cache[3] || (_cache[3] = ($event) => $options.modeCenterClose($props.mode)),
            onTouchmove: _cache[4] || (_cache[4] = vue.withModifiers(() => {
            }, ["stop", "prevent"])),
            style: vue.normalizeStyle([$options.style])
          },
          [
            $props.mode == "center" ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                class: "u-mode-center-box",
                onClick: _cache[0] || (_cache[0] = vue.withModifiers(() => {
                }, ["stop", "prevent"])),
                onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers(() => {
                }, ["stop", "prevent"])),
                style: vue.normalizeStyle([$options.centerStyle])
              },
              [
                $props.closeable ? (vue.openBlock(), vue.createBlock(_component_u_icon, {
                  key: 0,
                  onClick: $options.close,
                  class: vue.normalizeClass(["u-close", ["u-close--" + $props.closeIconPos]]),
                  name: $props.closeIcon,
                  color: $props.closeIconColor,
                  size: $props.closeIconSize
                }, null, 8, ["onClick", "class", "name", "color", "size"])) : vue.createCommentVNode("v-if", true),
                vue.createElementVNode("scroll-view", {
                  class: "u-drawer__scroll-view",
                  "scroll-y": "true"
                }, [
                  vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
                ])
              ],
              36
              /* STYLE, NEED_HYDRATION */
            )) : (vue.openBlock(), vue.createElementBlock("scroll-view", {
              key: 1,
              class: "u-drawer__scroll-view",
              "scroll-y": "true"
            }, [
              vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
            ])),
            vue.createElementVNode(
              "view",
              {
                onClick: _cache[2] || (_cache[2] = (...args) => $options.close && $options.close(...args)),
                class: vue.normalizeClass(["u-close", ["u-close--" + $props.closeIconPos]])
              },
              [
                $props.mode != "center" && $props.closeable ? (vue.openBlock(), vue.createBlock(_component_u_icon, {
                  key: 0,
                  name: $props.closeIcon,
                  color: $props.closeIconColor,
                  size: $props.closeIconSize
                }, null, 8, ["name", "color", "size"])) : vue.createCommentVNode("v-if", true)
              ],
              2
              /* CLASS */
            )
          ],
          38
          /* CLASS, STYLE, NEED_HYDRATION */
        )
      ],
      4
      /* STYLE */
    )) : vue.createCommentVNode("v-if", true);
  }
  const __easycom_3$4 = /* @__PURE__ */ _export_sfc(_sfc_main$1g, [["render", _sfc_render$1f], ["__scopeId", "data-v-c93a8fd2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-popup/u-popup.vue"]]);
  const provinces = [
    {
      code: "110000",
      name: "北京市"
    },
    {
      code: "120000",
      name: "天津市"
    },
    {
      code: "130000",
      name: "河北省"
    },
    {
      code: "140000",
      name: "山西省"
    },
    {
      code: "150000",
      name: "内蒙古自治区"
    },
    {
      code: "210000",
      name: "辽宁省"
    },
    {
      code: "220000",
      name: "吉林省"
    },
    {
      code: "230000",
      name: "黑龙江省"
    },
    {
      code: "310000",
      name: "上海市"
    },
    {
      code: "320000",
      name: "江苏省"
    },
    {
      code: "330000",
      name: "浙江省"
    },
    {
      code: "340000",
      name: "安徽省"
    },
    {
      code: "350000",
      name: "福建省"
    },
    {
      code: "360000",
      name: "江西省"
    },
    {
      code: "370000",
      name: "山东省"
    },
    {
      code: "410000",
      name: "河南省"
    },
    {
      code: "420000",
      name: "湖北省"
    },
    {
      code: "430000",
      name: "湖南省"
    },
    {
      code: "440000",
      name: "广东省"
    },
    {
      code: "450000",
      name: "广西壮族自治区"
    },
    {
      code: "460000",
      name: "海南省"
    },
    {
      code: "500000",
      name: "重庆市"
    },
    {
      code: "510000",
      name: "四川省"
    },
    {
      code: "520000",
      name: "贵州省"
    },
    {
      code: "530000",
      name: "云南省"
    },
    {
      code: "540000",
      name: "西藏自治区"
    },
    {
      code: "610000",
      name: "陕西省"
    },
    {
      code: "620000",
      name: "甘肃省"
    },
    {
      code: "630000",
      name: "青海省"
    },
    {
      code: "640000",
      name: "宁夏回族自治区"
    },
    {
      code: "650000",
      name: "新疆维吾尔自治区"
    },
    {
      code: "710000",
      name: "台湾省"
    },
    {
      code: "810000",
      name: "香港特别行政区"
    },
    {
      code: "820000",
      name: "澳门特别行政区"
    }
  ];
  const citys = [
    [
      {
        code: "110100",
        name: "北京市"
      }
    ],
    [
      {
        code: "120100",
        name: "天津市"
      }
    ],
    [
      {
        code: "130100",
        name: "石家庄市"
      },
      {
        code: "130200",
        name: "唐山市"
      },
      {
        code: "130300",
        name: "秦皇岛市"
      },
      {
        code: "130400",
        name: "邯郸市"
      },
      {
        code: "130500",
        name: "邢台市"
      },
      {
        code: "130600",
        name: "保定市"
      },
      {
        code: "130700",
        name: "张家口市"
      },
      {
        code: "130800",
        name: "承德市"
      },
      {
        code: "130900",
        name: "沧州市"
      },
      {
        code: "131000",
        name: "廊坊市"
      },
      {
        code: "131100",
        name: "衡水市"
      },
      {
        code: "133100",
        name: "雄安新区"
      }
    ],
    [
      {
        code: "140100",
        name: "太原市"
      },
      {
        code: "140200",
        name: "大同市"
      },
      {
        code: "140300",
        name: "阳泉市"
      },
      {
        code: "140400",
        name: "长治市"
      },
      {
        code: "140500",
        name: "晋城市"
      },
      {
        code: "140600",
        name: "朔州市"
      },
      {
        code: "140700",
        name: "晋中市"
      },
      {
        code: "140800",
        name: "运城市"
      },
      {
        code: "140900",
        name: "忻州市"
      },
      {
        code: "141000",
        name: "临汾市"
      },
      {
        code: "141100",
        name: "吕梁市"
      }
    ],
    [
      {
        code: "150100",
        name: "呼和浩特市"
      },
      {
        code: "150200",
        name: "包头市"
      },
      {
        code: "150300",
        name: "乌海市"
      },
      {
        code: "150400",
        name: "赤峰市"
      },
      {
        code: "150500",
        name: "通辽市"
      },
      {
        code: "150600",
        name: "鄂尔多斯市"
      },
      {
        code: "150700",
        name: "呼伦贝尔市"
      },
      {
        code: "150800",
        name: "巴彦淖尔市"
      },
      {
        code: "150900",
        name: "乌兰察布市"
      },
      {
        code: "152200",
        name: "兴安盟"
      },
      {
        code: "152500",
        name: "锡林郭勒盟"
      },
      {
        code: "152900",
        name: "阿拉善盟"
      }
    ],
    [
      {
        code: "210100",
        name: "沈阳市"
      },
      {
        code: "210200",
        name: "大连市"
      },
      {
        code: "210300",
        name: "鞍山市"
      },
      {
        code: "210400",
        name: "抚顺市"
      },
      {
        code: "210500",
        name: "本溪市"
      },
      {
        code: "210600",
        name: "丹东市"
      },
      {
        code: "210700",
        name: "锦州市"
      },
      {
        code: "210800",
        name: "营口市"
      },
      {
        code: "210900",
        name: "阜新市"
      },
      {
        code: "211000",
        name: "辽阳市"
      },
      {
        code: "211100",
        name: "盘锦市"
      },
      {
        code: "211200",
        name: "铁岭市"
      },
      {
        code: "211300",
        name: "朝阳市"
      },
      {
        code: "211400",
        name: "葫芦岛市"
      }
    ],
    [
      {
        code: "220100",
        name: "长春市"
      },
      {
        code: "220200",
        name: "吉林市"
      },
      {
        code: "220300",
        name: "四平市"
      },
      {
        code: "220400",
        name: "辽源市"
      },
      {
        code: "220500",
        name: "通化市"
      },
      {
        code: "220600",
        name: "白山市"
      },
      {
        code: "220700",
        name: "松原市"
      },
      {
        code: "220800",
        name: "白城市"
      },
      {
        code: "222400",
        name: "延边朝鲜族自治州"
      }
    ],
    [
      {
        code: "230100",
        name: "哈尔滨市"
      },
      {
        code: "230200",
        name: "齐齐哈尔市"
      },
      {
        code: "230300",
        name: "鸡西市"
      },
      {
        code: "230400",
        name: "鹤岗市"
      },
      {
        code: "230500",
        name: "双鸭山市"
      },
      {
        code: "230600",
        name: "大庆市"
      },
      {
        code: "230700",
        name: "伊春市"
      },
      {
        code: "230800",
        name: "佳木斯市"
      },
      {
        code: "230900",
        name: "七台河市"
      },
      {
        code: "231000",
        name: "牡丹江市"
      },
      {
        code: "231100",
        name: "黑河市"
      },
      {
        code: "231200",
        name: "绥化市"
      },
      {
        code: "232700",
        name: "大兴安岭地区"
      }
    ],
    [
      {
        code: "310100",
        name: "上海市"
      }
    ],
    [
      {
        code: "320100",
        name: "南京市"
      },
      {
        code: "320200",
        name: "无锡市"
      },
      {
        code: "320300",
        name: "徐州市"
      },
      {
        code: "320400",
        name: "常州市"
      },
      {
        code: "320500",
        name: "苏州市"
      },
      {
        code: "320600",
        name: "南通市"
      },
      {
        code: "320700",
        name: "连云港市"
      },
      {
        code: "320800",
        name: "淮安市"
      },
      {
        code: "320900",
        name: "盐城市"
      },
      {
        code: "321000",
        name: "扬州市"
      },
      {
        code: "321100",
        name: "镇江市"
      },
      {
        code: "321200",
        name: "泰州市"
      },
      {
        code: "321300",
        name: "宿迁市"
      }
    ],
    [
      {
        code: "330100",
        name: "杭州市"
      },
      {
        code: "330200",
        name: "宁波市"
      },
      {
        code: "330300",
        name: "温州市"
      },
      {
        code: "330400",
        name: "嘉兴市"
      },
      {
        code: "330500",
        name: "湖州市"
      },
      {
        code: "330600",
        name: "绍兴市"
      },
      {
        code: "330700",
        name: "金华市"
      },
      {
        code: "330800",
        name: "衢州市"
      },
      {
        code: "330900",
        name: "舟山市"
      },
      {
        code: "331000",
        name: "台州市"
      },
      {
        code: "331100",
        name: "丽水市"
      }
    ],
    [
      {
        code: "340100",
        name: "合肥市"
      },
      {
        code: "340200",
        name: "芜湖市"
      },
      {
        code: "340300",
        name: "蚌埠市"
      },
      {
        code: "340400",
        name: "淮南市"
      },
      {
        code: "340500",
        name: "马鞍山市"
      },
      {
        code: "340600",
        name: "淮北市"
      },
      {
        code: "340700",
        name: "铜陵市"
      },
      {
        code: "340800",
        name: "安庆市"
      },
      {
        code: "341000",
        name: "黄山市"
      },
      {
        code: "341100",
        name: "滁州市"
      },
      {
        code: "341200",
        name: "阜阳市"
      },
      {
        code: "341300",
        name: "宿州市"
      },
      {
        code: "341500",
        name: "六安市"
      },
      {
        code: "341600",
        name: "亳州市"
      },
      {
        code: "341700",
        name: "池州市"
      },
      {
        code: "341800",
        name: "宣城市"
      }
    ],
    [
      {
        code: "350100",
        name: "福州市"
      },
      {
        code: "350200",
        name: "厦门市"
      },
      {
        code: "350300",
        name: "莆田市"
      },
      {
        code: "350400",
        name: "三明市"
      },
      {
        code: "350500",
        name: "泉州市"
      },
      {
        code: "350600",
        name: "漳州市"
      },
      {
        code: "350700",
        name: "南平市"
      },
      {
        code: "350800",
        name: "龙岩市"
      },
      {
        code: "350900",
        name: "宁德市"
      }
    ],
    [
      {
        code: "360100",
        name: "南昌市"
      },
      {
        code: "360200",
        name: "景德镇市"
      },
      {
        code: "360300",
        name: "萍乡市"
      },
      {
        code: "360400",
        name: "九江市"
      },
      {
        code: "360500",
        name: "新余市"
      },
      {
        code: "360600",
        name: "鹰潭市"
      },
      {
        code: "360700",
        name: "赣州市"
      },
      {
        code: "360800",
        name: "吉安市"
      },
      {
        code: "360900",
        name: "宜春市"
      },
      {
        code: "361000",
        name: "抚州市"
      },
      {
        code: "361100",
        name: "上饶市"
      }
    ],
    [
      {
        code: "370100",
        name: "济南市"
      },
      {
        code: "370200",
        name: "青岛市"
      },
      {
        code: "370300",
        name: "淄博市"
      },
      {
        code: "370400",
        name: "枣庄市"
      },
      {
        code: "370500",
        name: "东营市"
      },
      {
        code: "370600",
        name: "烟台市"
      },
      {
        code: "370700",
        name: "潍坊市"
      },
      {
        code: "370800",
        name: "济宁市"
      },
      {
        code: "370900",
        name: "泰安市"
      },
      {
        code: "371000",
        name: "威海市"
      },
      {
        code: "371100",
        name: "日照市"
      },
      {
        code: "371300",
        name: "临沂市"
      },
      {
        code: "371400",
        name: "德州市"
      },
      {
        code: "371500",
        name: "聊城市"
      },
      {
        code: "371600",
        name: "滨州市"
      },
      {
        code: "371700",
        name: "菏泽市"
      }
    ],
    [
      {
        code: "410100",
        name: "郑州市"
      },
      {
        code: "410200",
        name: "开封市"
      },
      {
        code: "410300",
        name: "洛阳市"
      },
      {
        code: "410400",
        name: "平顶山市"
      },
      {
        code: "410500",
        name: "安阳市"
      },
      {
        code: "410600",
        name: "鹤壁市"
      },
      {
        code: "410700",
        name: "新乡市"
      },
      {
        code: "410800",
        name: "焦作市"
      },
      {
        code: "410900",
        name: "濮阳市"
      },
      {
        code: "411000",
        name: "许昌市"
      },
      {
        code: "411100",
        name: "漯河市"
      },
      {
        code: "411200",
        name: "三门峡市"
      },
      {
        code: "411300",
        name: "南阳市"
      },
      {
        code: "411400",
        name: "商丘市"
      },
      {
        code: "411500",
        name: "信阳市"
      },
      {
        code: "411600",
        name: "周口市"
      },
      {
        code: "411700",
        name: "驻马店市"
      },
      {
        code: "419001",
        name: "济源市"
      }
    ],
    [
      {
        code: "420100",
        name: "武汉市"
      },
      {
        code: "420200",
        name: "黄石市"
      },
      {
        code: "420300",
        name: "十堰市"
      },
      {
        code: "420500",
        name: "宜昌市"
      },
      {
        code: "420600",
        name: "襄阳市"
      },
      {
        code: "420700",
        name: "鄂州市"
      },
      {
        code: "420800",
        name: "荆门市"
      },
      {
        code: "420900",
        name: "孝感市"
      },
      {
        code: "421000",
        name: "荆州市"
      },
      {
        code: "421100",
        name: "黄冈市"
      },
      {
        code: "421200",
        name: "咸宁市"
      },
      {
        code: "421300",
        name: "随州市"
      },
      {
        code: "422800",
        name: "恩施土家族苗族自治州"
      },
      {
        code: "429004",
        name: "仙桃市"
      },
      {
        code: "429005",
        name: "潜江市"
      },
      {
        code: "429006",
        name: "天门市"
      },
      {
        code: "429021",
        name: "神农架林区"
      }
    ],
    [
      {
        code: "430100",
        name: "长沙市"
      },
      {
        code: "430200",
        name: "株洲市"
      },
      {
        code: "430300",
        name: "湘潭市"
      },
      {
        code: "430400",
        name: "衡阳市"
      },
      {
        code: "430500",
        name: "邵阳市"
      },
      {
        code: "430600",
        name: "岳阳市"
      },
      {
        code: "430700",
        name: "常德市"
      },
      {
        code: "430800",
        name: "张家界市"
      },
      {
        code: "430900",
        name: "益阳市"
      },
      {
        code: "431000",
        name: "郴州市"
      },
      {
        code: "431100",
        name: "永州市"
      },
      {
        code: "431200",
        name: "怀化市"
      },
      {
        code: "431300",
        name: "娄底市"
      },
      {
        code: "433100",
        name: "湘西土家族苗族自治州"
      }
    ],
    [
      {
        code: "440100",
        name: "广州市"
      },
      {
        code: "440200",
        name: "韶关市"
      },
      {
        code: "440300",
        name: "深圳市"
      },
      {
        code: "440400",
        name: "珠海市"
      },
      {
        code: "440500",
        name: "汕头市"
      },
      {
        code: "440600",
        name: "佛山市"
      },
      {
        code: "440700",
        name: "江门市"
      },
      {
        code: "440800",
        name: "湛江市"
      },
      {
        code: "440900",
        name: "茂名市"
      },
      {
        code: "441200",
        name: "肇庆市"
      },
      {
        code: "441300",
        name: "惠州市"
      },
      {
        code: "441400",
        name: "梅州市"
      },
      {
        code: "441500",
        name: "汕尾市"
      },
      {
        code: "441600",
        name: "河源市"
      },
      {
        code: "441700",
        name: "阳江市"
      },
      {
        code: "441800",
        name: "清远市"
      },
      {
        code: "441900",
        name: "东莞市"
      },
      {
        code: "442000",
        name: "中山市"
      },
      {
        code: "445100",
        name: "潮州市"
      },
      {
        code: "445200",
        name: "揭阳市"
      },
      {
        code: "445300",
        name: "云浮市"
      }
    ],
    [
      {
        code: "450100",
        name: "南宁市"
      },
      {
        code: "450200",
        name: "柳州市"
      },
      {
        code: "450300",
        name: "桂林市"
      },
      {
        code: "450400",
        name: "梧州市"
      },
      {
        code: "450500",
        name: "北海市"
      },
      {
        code: "450600",
        name: "防城港市"
      },
      {
        code: "450700",
        name: "钦州市"
      },
      {
        code: "450800",
        name: "贵港市"
      },
      {
        code: "450900",
        name: "玉林市"
      },
      {
        code: "451000",
        name: "百色市"
      },
      {
        code: "451100",
        name: "贺州市"
      },
      {
        code: "451200",
        name: "河池市"
      },
      {
        code: "451300",
        name: "来宾市"
      },
      {
        code: "451400",
        name: "崇左市"
      }
    ],
    [
      {
        code: "460100",
        name: "海口市"
      },
      {
        code: "460200",
        name: "三亚市"
      },
      {
        code: "460300",
        name: "三沙市"
      },
      {
        code: "460400",
        name: "儋州市"
      },
      {
        code: "469001",
        name: "五指山市"
      },
      {
        code: "469002",
        name: "琼海市"
      },
      {
        code: "469005",
        name: "文昌市"
      },
      {
        code: "469006",
        name: "万宁市"
      },
      {
        code: "469007",
        name: "东方市"
      },
      {
        code: "469021",
        name: "定安县"
      },
      {
        code: "469022",
        name: "屯昌县"
      },
      {
        code: "469023",
        name: "澄迈县"
      },
      {
        code: "469024",
        name: "临高县"
      },
      {
        code: "469025",
        name: "白沙黎族自治县"
      },
      {
        code: "469026",
        name: "昌江黎族自治县"
      },
      {
        code: "469027",
        name: "乐东黎族自治县"
      },
      {
        code: "469028",
        name: "陵水黎族自治县"
      },
      {
        code: "469029",
        name: "保亭黎族苗族自治县"
      },
      {
        code: "469030",
        name: "琼中黎族苗族自治县"
      }
    ],
    [
      {
        code: "500100",
        name: "重庆市"
      }
    ],
    [
      {
        code: "510100",
        name: "成都市"
      },
      {
        code: "510300",
        name: "自贡市"
      },
      {
        code: "510400",
        name: "攀枝花市"
      },
      {
        code: "510500",
        name: "泸州市"
      },
      {
        code: "510600",
        name: "德阳市"
      },
      {
        code: "510700",
        name: "绵阳市"
      },
      {
        code: "510800",
        name: "广元市"
      },
      {
        code: "510900",
        name: "遂宁市"
      },
      {
        code: "511000",
        name: "内江市"
      },
      {
        code: "511100",
        name: "乐山市"
      },
      {
        code: "511300",
        name: "南充市"
      },
      {
        code: "511400",
        name: "眉山市"
      },
      {
        code: "511500",
        name: "宜宾市"
      },
      {
        code: "511600",
        name: "广安市"
      },
      {
        code: "511700",
        name: "达州市"
      },
      {
        code: "511800",
        name: "雅安市"
      },
      {
        code: "511900",
        name: "巴中市"
      },
      {
        code: "512000",
        name: "资阳市"
      },
      {
        code: "513200",
        name: "阿坝藏族羌族自治州"
      },
      {
        code: "513300",
        name: "甘孜藏族自治州"
      },
      {
        code: "513400",
        name: "凉山彝族自治州"
      }
    ],
    [
      {
        code: "520100",
        name: "贵阳市"
      },
      {
        code: "520200",
        name: "六盘水市"
      },
      {
        code: "520300",
        name: "遵义市"
      },
      {
        code: "520400",
        name: "安顺市"
      },
      {
        code: "520500",
        name: "毕节市"
      },
      {
        code: "520600",
        name: "铜仁市"
      },
      {
        code: "522300",
        name: "黔西南布依族苗族自治州"
      },
      {
        code: "522600",
        name: "黔东南苗族侗族自治州"
      },
      {
        code: "522700",
        name: "黔南布依族苗族自治州"
      }
    ],
    [
      {
        code: "530100",
        name: "昆明市"
      },
      {
        code: "530300",
        name: "曲靖市"
      },
      {
        code: "530400",
        name: "玉溪市"
      },
      {
        code: "530500",
        name: "保山市"
      },
      {
        code: "530600",
        name: "昭通市"
      },
      {
        code: "530700",
        name: "丽江市"
      },
      {
        code: "530800",
        name: "普洱市"
      },
      {
        code: "530900",
        name: "临沧市"
      },
      {
        code: "532300",
        name: "楚雄彝族自治州"
      },
      {
        code: "532500",
        name: "红河哈尼族彝族自治州"
      },
      {
        code: "532600",
        name: "文山壮族苗族自治州"
      },
      {
        code: "532800",
        name: "西双版纳傣族自治州"
      },
      {
        code: "532900",
        name: "大理白族自治州"
      },
      {
        code: "533100",
        name: "德宏傣族景颇族自治州"
      },
      {
        code: "533300",
        name: "怒江傈僳族自治州"
      },
      {
        code: "533400",
        name: "迪庆藏族自治州"
      }
    ],
    [
      {
        code: "540100",
        name: "拉萨市"
      },
      {
        code: "540200",
        name: "日喀则市"
      },
      {
        code: "540300",
        name: "昌都市"
      },
      {
        code: "540400",
        name: "林芝市"
      },
      {
        code: "540500",
        name: "山南市"
      },
      {
        code: "540600",
        name: "那曲市"
      },
      {
        code: "542500",
        name: "阿里地区"
      }
    ],
    [
      {
        code: "610100",
        name: "西安市"
      },
      {
        code: "610200",
        name: "铜川市"
      },
      {
        code: "610300",
        name: "宝鸡市"
      },
      {
        code: "610400",
        name: "咸阳市"
      },
      {
        code: "610500",
        name: "渭南市"
      },
      {
        code: "610600",
        name: "延安市"
      },
      {
        code: "610700",
        name: "汉中市"
      },
      {
        code: "610800",
        name: "榆林市"
      },
      {
        code: "610900",
        name: "安康市"
      },
      {
        code: "611000",
        name: "商洛市"
      }
    ],
    [
      {
        code: "620100",
        name: "兰州市"
      },
      {
        code: "620200",
        name: "嘉峪关市"
      },
      {
        code: "620300",
        name: "金昌市"
      },
      {
        code: "620400",
        name: "白银市"
      },
      {
        code: "620500",
        name: "天水市"
      },
      {
        code: "620600",
        name: "武威市"
      },
      {
        code: "620700",
        name: "张掖市"
      },
      {
        code: "620800",
        name: "平凉市"
      },
      {
        code: "620900",
        name: "酒泉市"
      },
      {
        code: "621000",
        name: "庆阳市"
      },
      {
        code: "621100",
        name: "定西市"
      },
      {
        code: "621200",
        name: "陇南市"
      },
      {
        code: "622900",
        name: "临夏回族自治州"
      },
      {
        code: "623000",
        name: "甘南藏族自治州"
      }
    ],
    [
      {
        code: "630100",
        name: "西宁市"
      },
      {
        code: "630200",
        name: "海东市"
      },
      {
        code: "632200",
        name: "海北藏族自治州"
      },
      {
        code: "632300",
        name: "黄南藏族自治州"
      },
      {
        code: "632500",
        name: "海南藏族自治州"
      },
      {
        code: "632600",
        name: "果洛藏族自治州"
      },
      {
        code: "632700",
        name: "玉树藏族自治州"
      },
      {
        code: "632800",
        name: "海西蒙古族藏族自治州"
      }
    ],
    [
      {
        code: "640100",
        name: "银川市"
      },
      {
        code: "640200",
        name: "石嘴山市"
      },
      {
        code: "640300",
        name: "吴忠市"
      },
      {
        code: "640400",
        name: "固原市"
      },
      {
        code: "640500",
        name: "中卫市"
      }
    ],
    [
      {
        code: "650100",
        name: "乌鲁木齐市"
      },
      {
        code: "650200",
        name: "克拉玛依市"
      },
      {
        code: "650400",
        name: "吐鲁番市"
      },
      {
        code: "650500",
        name: "哈密市"
      },
      {
        code: "652300",
        name: "昌吉回族自治州"
      },
      {
        code: "652700",
        name: "博尔塔拉蒙古自治州"
      },
      {
        code: "652800",
        name: "巴音郭楞蒙古自治州"
      },
      {
        code: "652900",
        name: "阿克苏地区"
      },
      {
        code: "653000",
        name: "克孜勒苏柯尔克孜自治州"
      },
      {
        code: "653100",
        name: "喀什地区"
      },
      {
        code: "653200",
        name: "和田地区"
      },
      {
        code: "654000",
        name: "伊犁哈萨克自治州"
      },
      {
        code: "654200",
        name: "塔城地区"
      },
      {
        code: "654300",
        name: "阿勒泰地区"
      },
      {
        code: "659001",
        name: "石河子市"
      },
      {
        code: "659002",
        name: "阿拉尔市"
      },
      {
        code: "659003",
        name: "图木舒克市"
      },
      {
        code: "659004",
        name: "五家渠市"
      },
      {
        code: "659005",
        name: "北屯市"
      },
      {
        code: "659006",
        name: "铁门关市"
      },
      {
        code: "659007",
        name: "双河市"
      },
      {
        code: "659008",
        name: "可克达拉市"
      },
      {
        code: "659009",
        name: "昆玉市"
      },
      {
        code: "659010",
        name: "胡杨河市"
      },
      {
        code: "659011",
        name: "新星市"
      },
      {
        code: "659012",
        name: "白杨市"
      }
    ],
    [
      {
        code: "711000",
        name: "台北市"
      },
      {
        code: "711100",
        name: "台中市"
      },
      {
        code: "711200",
        name: "基隆市"
      },
      {
        code: "711300",
        name: "台南市"
      },
      {
        code: "711400",
        name: "高雄市"
      },
      {
        code: "711500",
        name: "新北市"
      },
      {
        code: "711600",
        name: "宜兰县"
      },
      {
        code: "711700",
        name: "桃园市"
      },
      {
        code: "711800",
        name: "嘉义市"
      },
      {
        code: "711900",
        name: "新竹县"
      },
      {
        code: "712000",
        name: "苗栗县"
      },
      {
        code: "712200",
        name: "南投县"
      },
      {
        code: "712300",
        name: "彰化县"
      },
      {
        code: "712400",
        name: "新竹市"
      },
      {
        code: "712500",
        name: "云林县"
      },
      {
        code: "712600",
        name: "嘉义县"
      },
      {
        code: "712900",
        name: "屏东县"
      },
      {
        code: "713000",
        name: "花莲县"
      },
      {
        code: "713100",
        name: "台东县"
      },
      {
        code: "713200",
        name: "澎湖县"
      }
    ],
    [
      {
        code: "810100",
        name: "香港特别行政区"
      }
    ],
    [
      {
        code: "820001",
        name: "澳门特别行政区"
      }
    ]
  ];
  const areas = [
    [
      [
        {
          code: "110101",
          name: "东城区"
        },
        {
          code: "110102",
          name: "西城区"
        },
        {
          code: "110105",
          name: "朝阳区"
        },
        {
          code: "110106",
          name: "丰台区"
        },
        {
          code: "110107",
          name: "石景山区"
        },
        {
          code: "110108",
          name: "海淀区"
        },
        {
          code: "110109",
          name: "门头沟区"
        },
        {
          code: "110111",
          name: "房山区"
        },
        {
          code: "110112",
          name: "通州区"
        },
        {
          code: "110113",
          name: "顺义区"
        },
        {
          code: "110114",
          name: "昌平区"
        },
        {
          code: "110115",
          name: "大兴区"
        },
        {
          code: "110116",
          name: "怀柔区"
        },
        {
          code: "110117",
          name: "平谷区"
        },
        {
          code: "110118",
          name: "密云区"
        },
        {
          code: "110119",
          name: "延庆区"
        }
      ]
    ],
    [
      [
        {
          code: "120101",
          name: "和平区"
        },
        {
          code: "120102",
          name: "河东区"
        },
        {
          code: "120103",
          name: "河西区"
        },
        {
          code: "120104",
          name: "南开区"
        },
        {
          code: "120105",
          name: "河北区"
        },
        {
          code: "120106",
          name: "红桥区"
        },
        {
          code: "120110",
          name: "东丽区"
        },
        {
          code: "120111",
          name: "西青区"
        },
        {
          code: "120112",
          name: "津南区"
        },
        {
          code: "120113",
          name: "北辰区"
        },
        {
          code: "120114",
          name: "武清区"
        },
        {
          code: "120115",
          name: "宝坻区"
        },
        {
          code: "120116",
          name: "滨海新区"
        },
        {
          code: "120117",
          name: "宁河区"
        },
        {
          code: "120118",
          name: "静海区"
        },
        {
          code: "120119",
          name: "蓟州区"
        }
      ]
    ],
    [
      [
        {
          code: "130102",
          name: "长安区"
        },
        {
          code: "130104",
          name: "桥西区"
        },
        {
          code: "130105",
          name: "新华区"
        },
        {
          code: "130107",
          name: "井陉矿区"
        },
        {
          code: "130108",
          name: "裕华区"
        },
        {
          code: "130109",
          name: "藁城区"
        },
        {
          code: "130110",
          name: "鹿泉区"
        },
        {
          code: "130111",
          name: "栾城区"
        },
        {
          code: "130121",
          name: "井陉县"
        },
        {
          code: "130123",
          name: "正定县"
        },
        {
          code: "130125",
          name: "行唐县"
        },
        {
          code: "130126",
          name: "灵寿县"
        },
        {
          code: "130127",
          name: "高邑县"
        },
        {
          code: "130128",
          name: "深泽县"
        },
        {
          code: "130129",
          name: "赞皇县"
        },
        {
          code: "130130",
          name: "无极县"
        },
        {
          code: "130131",
          name: "平山县"
        },
        {
          code: "130132",
          name: "元氏县"
        },
        {
          code: "130133",
          name: "赵县"
        },
        {
          code: "130181",
          name: "辛集市"
        },
        {
          code: "130183",
          name: "晋州市"
        },
        {
          code: "130184",
          name: "新乐市"
        }
      ],
      [
        {
          code: "130202",
          name: "路南区"
        },
        {
          code: "130203",
          name: "路北区"
        },
        {
          code: "130204",
          name: "古冶区"
        },
        {
          code: "130205",
          name: "开平区"
        },
        {
          code: "130207",
          name: "丰南区"
        },
        {
          code: "130208",
          name: "丰润区"
        },
        {
          code: "130209",
          name: "曹妃甸区"
        },
        {
          code: "130224",
          name: "滦南县"
        },
        {
          code: "130225",
          name: "乐亭县"
        },
        {
          code: "130227",
          name: "迁西县"
        },
        {
          code: "130229",
          name: "玉田县"
        },
        {
          code: "130271",
          name: "芦台经济开发区"
        },
        {
          code: "130281",
          name: "遵化市"
        },
        {
          code: "130283",
          name: "迁安市"
        },
        {
          code: "130284",
          name: "滦州市"
        }
      ],
      [
        {
          code: "130302",
          name: "海港区"
        },
        {
          code: "130303",
          name: "山海关区"
        },
        {
          code: "130304",
          name: "北戴河区"
        },
        {
          code: "130306",
          name: "抚宁区"
        },
        {
          code: "130321",
          name: "青龙满族自治县"
        },
        {
          code: "130322",
          name: "昌黎县"
        },
        {
          code: "130324",
          name: "卢龙县"
        }
      ],
      [
        {
          code: "130402",
          name: "邯山区"
        },
        {
          code: "130403",
          name: "丛台区"
        },
        {
          code: "130404",
          name: "复兴区"
        },
        {
          code: "130406",
          name: "峰峰矿区"
        },
        {
          code: "130407",
          name: "肥乡区"
        },
        {
          code: "130408",
          name: "永年区"
        },
        {
          code: "130423",
          name: "临漳县"
        },
        {
          code: "130424",
          name: "成安县"
        },
        {
          code: "130425",
          name: "大名县"
        },
        {
          code: "130426",
          name: "涉县"
        },
        {
          code: "130427",
          name: "磁县"
        },
        {
          code: "130430",
          name: "邱县"
        },
        {
          code: "130431",
          name: "鸡泽县"
        },
        {
          code: "130432",
          name: "广平县"
        },
        {
          code: "130433",
          name: "馆陶县"
        },
        {
          code: "130434",
          name: "魏县"
        },
        {
          code: "130435",
          name: "曲周县"
        },
        {
          code: "130481",
          name: "武安市"
        }
      ],
      [
        {
          code: "130502",
          name: "襄都区"
        },
        {
          code: "130503",
          name: "信都区"
        },
        {
          code: "130505",
          name: "任泽区"
        },
        {
          code: "130506",
          name: "南和区"
        },
        {
          code: "130522",
          name: "临城县"
        },
        {
          code: "130523",
          name: "内丘县"
        },
        {
          code: "130524",
          name: "柏乡县"
        },
        {
          code: "130525",
          name: "隆尧县"
        },
        {
          code: "130528",
          name: "宁晋县"
        },
        {
          code: "130529",
          name: "巨鹿县"
        },
        {
          code: "130530",
          name: "新河县"
        },
        {
          code: "130531",
          name: "广宗县"
        },
        {
          code: "130532",
          name: "平乡县"
        },
        {
          code: "130533",
          name: "威县"
        },
        {
          code: "130534",
          name: "清河县"
        },
        {
          code: "130535",
          name: "临西县"
        },
        {
          code: "130581",
          name: "南宫市"
        },
        {
          code: "130582",
          name: "沙河市"
        }
      ],
      [
        {
          code: "130602",
          name: "竞秀区"
        },
        {
          code: "130606",
          name: "莲池区"
        },
        {
          code: "130607",
          name: "满城区"
        },
        {
          code: "130608",
          name: "清苑区"
        },
        {
          code: "130609",
          name: "徐水区"
        },
        {
          code: "130623",
          name: "涞水县"
        },
        {
          code: "130624",
          name: "阜平县"
        },
        {
          code: "130626",
          name: "定兴县"
        },
        {
          code: "130627",
          name: "唐县"
        },
        {
          code: "130628",
          name: "高阳县"
        },
        {
          code: "130630",
          name: "涞源县"
        },
        {
          code: "130631",
          name: "望都县"
        },
        {
          code: "130633",
          name: "易县"
        },
        {
          code: "130634",
          name: "曲阳县"
        },
        {
          code: "130635",
          name: "蠡县"
        },
        {
          code: "130636",
          name: "顺平县"
        },
        {
          code: "130637",
          name: "博野县"
        },
        {
          code: "130681",
          name: "涿州市"
        },
        {
          code: "130682",
          name: "定州市"
        },
        {
          code: "130683",
          name: "安国市"
        },
        {
          code: "130684",
          name: "高碑店市"
        }
      ],
      [
        {
          code: "130702",
          name: "桥东区"
        },
        {
          code: "130703",
          name: "桥西区"
        },
        {
          code: "130705",
          name: "宣化区"
        },
        {
          code: "130706",
          name: "下花园区"
        },
        {
          code: "130708",
          name: "万全区"
        },
        {
          code: "130709",
          name: "崇礼区"
        },
        {
          code: "130722",
          name: "张北县"
        },
        {
          code: "130723",
          name: "康保县"
        },
        {
          code: "130724",
          name: "沽源县"
        },
        {
          code: "130725",
          name: "尚义县"
        },
        {
          code: "130726",
          name: "蔚县"
        },
        {
          code: "130727",
          name: "阳原县"
        },
        {
          code: "130728",
          name: "怀安县"
        },
        {
          code: "130730",
          name: "怀来县"
        },
        {
          code: "130731",
          name: "涿鹿县"
        },
        {
          code: "130732",
          name: "赤城县"
        }
      ],
      [
        {
          code: "130802",
          name: "双桥区"
        },
        {
          code: "130803",
          name: "双滦区"
        },
        {
          code: "130804",
          name: "鹰手营子矿区"
        },
        {
          code: "130821",
          name: "承德县"
        },
        {
          code: "130822",
          name: "兴隆县"
        },
        {
          code: "130824",
          name: "滦平县"
        },
        {
          code: "130825",
          name: "隆化县"
        },
        {
          code: "130826",
          name: "丰宁满族自治县"
        },
        {
          code: "130827",
          name: "宽城满族自治县"
        },
        {
          code: "130828",
          name: "围场满族蒙古族自治县"
        },
        {
          code: "130881",
          name: "平泉市"
        }
      ],
      [
        {
          code: "130902",
          name: "新华区"
        },
        {
          code: "130903",
          name: "运河区"
        },
        {
          code: "130921",
          name: "沧县"
        },
        {
          code: "130922",
          name: "青县"
        },
        {
          code: "130923",
          name: "东光县"
        },
        {
          code: "130924",
          name: "海兴县"
        },
        {
          code: "130925",
          name: "盐山县"
        },
        {
          code: "130926",
          name: "肃宁县"
        },
        {
          code: "130927",
          name: "南皮县"
        },
        {
          code: "130928",
          name: "吴桥县"
        },
        {
          code: "130929",
          name: "献县"
        },
        {
          code: "130930",
          name: "孟村回族自治县"
        },
        {
          code: "130981",
          name: "泊头市"
        },
        {
          code: "130982",
          name: "任丘市"
        },
        {
          code: "130983",
          name: "黄骅市"
        },
        {
          code: "130984",
          name: "河间市"
        }
      ],
      [
        {
          code: "131002",
          name: "安次区"
        },
        {
          code: "131003",
          name: "广阳区"
        },
        {
          code: "131022",
          name: "固安县"
        },
        {
          code: "131023",
          name: "永清县"
        },
        {
          code: "131024",
          name: "香河县"
        },
        {
          code: "131025",
          name: "大城县"
        },
        {
          code: "131026",
          name: "文安县"
        },
        {
          code: "131028",
          name: "大厂回族自治县"
        },
        {
          code: "131081",
          name: "霸州市"
        },
        {
          code: "131082",
          name: "三河市"
        }
      ],
      [
        {
          code: "131102",
          name: "桃城区"
        },
        {
          code: "131103",
          name: "冀州区"
        },
        {
          code: "131121",
          name: "枣强县"
        },
        {
          code: "131122",
          name: "武邑县"
        },
        {
          code: "131123",
          name: "武强县"
        },
        {
          code: "131124",
          name: "饶阳县"
        },
        {
          code: "131125",
          name: "安平县"
        },
        {
          code: "131126",
          name: "故城县"
        },
        {
          code: "131127",
          name: "景县"
        },
        {
          code: "131128",
          name: "阜城县"
        },
        {
          code: "131182",
          name: "深州市"
        }
      ],
      [
        {
          code: "133101",
          name: "容城县"
        },
        {
          code: "133102",
          name: "安新县"
        },
        {
          code: "133103",
          name: "雄县"
        }
      ]
    ],
    [
      [
        {
          code: "140105",
          name: "小店区"
        },
        {
          code: "140106",
          name: "迎泽区"
        },
        {
          code: "140107",
          name: "杏花岭区"
        },
        {
          code: "140108",
          name: "尖草坪区"
        },
        {
          code: "140109",
          name: "万柏林区"
        },
        {
          code: "140110",
          name: "晋源区"
        },
        {
          code: "140121",
          name: "清徐县"
        },
        {
          code: "140122",
          name: "阳曲县"
        },
        {
          code: "140123",
          name: "娄烦县"
        },
        {
          code: "140181",
          name: "古交市"
        }
      ],
      [
        {
          code: "140212",
          name: "新荣区"
        },
        {
          code: "140213",
          name: "平城区"
        },
        {
          code: "140214",
          name: "云冈区"
        },
        {
          code: "140215",
          name: "云州区"
        },
        {
          code: "140221",
          name: "阳高县"
        },
        {
          code: "140222",
          name: "天镇县"
        },
        {
          code: "140223",
          name: "广灵县"
        },
        {
          code: "140224",
          name: "灵丘县"
        },
        {
          code: "140225",
          name: "浑源县"
        },
        {
          code: "140226",
          name: "左云县"
        }
      ],
      [
        {
          code: "140302",
          name: "城区"
        },
        {
          code: "140303",
          name: "矿区"
        },
        {
          code: "140311",
          name: "郊区"
        },
        {
          code: "140321",
          name: "平定县"
        },
        {
          code: "140322",
          name: "盂县"
        }
      ],
      [
        {
          code: "140403",
          name: "潞州区"
        },
        {
          code: "140404",
          name: "上党区"
        },
        {
          code: "140405",
          name: "屯留区"
        },
        {
          code: "140406",
          name: "潞城区"
        },
        {
          code: "140423",
          name: "襄垣县"
        },
        {
          code: "140425",
          name: "平顺县"
        },
        {
          code: "140426",
          name: "黎城县"
        },
        {
          code: "140427",
          name: "壶关县"
        },
        {
          code: "140428",
          name: "长子县"
        },
        {
          code: "140429",
          name: "武乡县"
        },
        {
          code: "140430",
          name: "沁县"
        },
        {
          code: "140431",
          name: "沁源县"
        }
      ],
      [
        {
          code: "140502",
          name: "城区"
        },
        {
          code: "140521",
          name: "沁水县"
        },
        {
          code: "140522",
          name: "阳城县"
        },
        {
          code: "140524",
          name: "陵川县"
        },
        {
          code: "140525",
          name: "泽州县"
        },
        {
          code: "140581",
          name: "高平市"
        }
      ],
      [
        {
          code: "140602",
          name: "朔城区"
        },
        {
          code: "140603",
          name: "平鲁区"
        },
        {
          code: "140621",
          name: "山阴县"
        },
        {
          code: "140622",
          name: "应县"
        },
        {
          code: "140623",
          name: "右玉县"
        },
        {
          code: "140681",
          name: "怀仁市"
        }
      ],
      [
        {
          code: "140702",
          name: "榆次区"
        },
        {
          code: "140703",
          name: "太谷区"
        },
        {
          code: "140721",
          name: "榆社县"
        },
        {
          code: "140722",
          name: "左权县"
        },
        {
          code: "140723",
          name: "和顺县"
        },
        {
          code: "140724",
          name: "昔阳县"
        },
        {
          code: "140725",
          name: "寿阳县"
        },
        {
          code: "140727",
          name: "祁县"
        },
        {
          code: "140728",
          name: "平遥县"
        },
        {
          code: "140729",
          name: "灵石县"
        },
        {
          code: "140781",
          name: "介休市"
        }
      ],
      [
        {
          code: "140802",
          name: "盐湖区"
        },
        {
          code: "140821",
          name: "临猗县"
        },
        {
          code: "140822",
          name: "万荣县"
        },
        {
          code: "140823",
          name: "闻喜县"
        },
        {
          code: "140824",
          name: "稷山县"
        },
        {
          code: "140825",
          name: "新绛县"
        },
        {
          code: "140826",
          name: "绛县"
        },
        {
          code: "140827",
          name: "垣曲县"
        },
        {
          code: "140828",
          name: "夏县"
        },
        {
          code: "140829",
          name: "平陆县"
        },
        {
          code: "140830",
          name: "芮城县"
        },
        {
          code: "140881",
          name: "永济市"
        },
        {
          code: "140882",
          name: "河津市"
        }
      ],
      [
        {
          code: "140902",
          name: "忻府区"
        },
        {
          code: "140921",
          name: "定襄县"
        },
        {
          code: "140922",
          name: "五台县"
        },
        {
          code: "140923",
          name: "代县"
        },
        {
          code: "140924",
          name: "繁峙县"
        },
        {
          code: "140925",
          name: "宁武县"
        },
        {
          code: "140926",
          name: "静乐县"
        },
        {
          code: "140927",
          name: "神池县"
        },
        {
          code: "140928",
          name: "五寨县"
        },
        {
          code: "140929",
          name: "岢岚县"
        },
        {
          code: "140930",
          name: "河曲县"
        },
        {
          code: "140931",
          name: "保德县"
        },
        {
          code: "140932",
          name: "偏关县"
        },
        {
          code: "140981",
          name: "原平市"
        }
      ],
      [
        {
          code: "141002",
          name: "尧都区"
        },
        {
          code: "141021",
          name: "曲沃县"
        },
        {
          code: "141022",
          name: "翼城县"
        },
        {
          code: "141023",
          name: "襄汾县"
        },
        {
          code: "141024",
          name: "洪洞县"
        },
        {
          code: "141025",
          name: "古县"
        },
        {
          code: "141026",
          name: "安泽县"
        },
        {
          code: "141027",
          name: "浮山县"
        },
        {
          code: "141028",
          name: "吉县"
        },
        {
          code: "141029",
          name: "乡宁县"
        },
        {
          code: "141030",
          name: "大宁县"
        },
        {
          code: "141031",
          name: "隰县"
        },
        {
          code: "141032",
          name: "永和县"
        },
        {
          code: "141033",
          name: "蒲县"
        },
        {
          code: "141034",
          name: "汾西县"
        },
        {
          code: "141081",
          name: "侯马市"
        },
        {
          code: "141082",
          name: "霍州市"
        }
      ],
      [
        {
          code: "141102",
          name: "离石区"
        },
        {
          code: "141121",
          name: "文水县"
        },
        {
          code: "141122",
          name: "交城县"
        },
        {
          code: "141123",
          name: "兴县"
        },
        {
          code: "141124",
          name: "临县"
        },
        {
          code: "141125",
          name: "柳林县"
        },
        {
          code: "141126",
          name: "石楼县"
        },
        {
          code: "141127",
          name: "岚县"
        },
        {
          code: "141128",
          name: "方山县"
        },
        {
          code: "141129",
          name: "中阳县"
        },
        {
          code: "141130",
          name: "交口县"
        },
        {
          code: "141181",
          name: "孝义市"
        },
        {
          code: "141182",
          name: "汾阳市"
        }
      ]
    ],
    [
      [
        {
          code: "150102",
          name: "新城区"
        },
        {
          code: "150103",
          name: "回民区"
        },
        {
          code: "150104",
          name: "玉泉区"
        },
        {
          code: "150105",
          name: "赛罕区"
        },
        {
          code: "150121",
          name: "土默特左旗"
        },
        {
          code: "150122",
          name: "托克托县"
        },
        {
          code: "150123",
          name: "和林格尔县"
        },
        {
          code: "150124",
          name: "清水河县"
        },
        {
          code: "150125",
          name: "武川县"
        }
      ],
      [
        {
          code: "150202",
          name: "东河区"
        },
        {
          code: "150203",
          name: "昆都仑区"
        },
        {
          code: "150204",
          name: "青山区"
        },
        {
          code: "150205",
          name: "石拐区"
        },
        {
          code: "150206",
          name: "白云鄂博矿区"
        },
        {
          code: "150207",
          name: "九原区"
        },
        {
          code: "150221",
          name: "土默特右旗"
        },
        {
          code: "150222",
          name: "固阳县"
        },
        {
          code: "150223",
          name: "达尔罕茂明安联合旗"
        }
      ],
      [
        {
          code: "150302",
          name: "海勃湾区"
        },
        {
          code: "150303",
          name: "海南区"
        },
        {
          code: "150304",
          name: "乌达区"
        }
      ],
      [
        {
          code: "150402",
          name: "红山区"
        },
        {
          code: "150403",
          name: "元宝山区"
        },
        {
          code: "150404",
          name: "松山区"
        },
        {
          code: "150421",
          name: "阿鲁科尔沁旗"
        },
        {
          code: "150422",
          name: "巴林左旗"
        },
        {
          code: "150423",
          name: "巴林右旗"
        },
        {
          code: "150424",
          name: "林西县"
        },
        {
          code: "150425",
          name: "克什克腾旗"
        },
        {
          code: "150426",
          name: "翁牛特旗"
        },
        {
          code: "150428",
          name: "喀喇沁旗"
        },
        {
          code: "150429",
          name: "宁城县"
        },
        {
          code: "150430",
          name: "敖汉旗"
        }
      ],
      [
        {
          code: "150502",
          name: "科尔沁区"
        },
        {
          code: "150521",
          name: "科尔沁左翼中旗"
        },
        {
          code: "150522",
          name: "科尔沁左翼后旗"
        },
        {
          code: "150523",
          name: "开鲁县"
        },
        {
          code: "150524",
          name: "库伦旗"
        },
        {
          code: "150525",
          name: "奈曼旗"
        },
        {
          code: "150526",
          name: "扎鲁特旗"
        },
        {
          code: "150581",
          name: "霍林郭勒市"
        }
      ],
      [
        {
          code: "150602",
          name: "东胜区"
        },
        {
          code: "150603",
          name: "康巴什区"
        },
        {
          code: "150621",
          name: "达拉特旗"
        },
        {
          code: "150622",
          name: "准格尔旗"
        },
        {
          code: "150623",
          name: "鄂托克前旗"
        },
        {
          code: "150624",
          name: "鄂托克旗"
        },
        {
          code: "150625",
          name: "杭锦旗"
        },
        {
          code: "150626",
          name: "乌审旗"
        },
        {
          code: "150627",
          name: "伊金霍洛旗"
        }
      ],
      [
        {
          code: "150702",
          name: "海拉尔区"
        },
        {
          code: "150703",
          name: "扎赉诺尔区"
        },
        {
          code: "150721",
          name: "阿荣旗"
        },
        {
          code: "150722",
          name: "莫力达瓦达斡尔族自治旗"
        },
        {
          code: "150723",
          name: "鄂伦春自治旗"
        },
        {
          code: "150724",
          name: "鄂温克族自治旗"
        },
        {
          code: "150725",
          name: "陈巴尔虎旗"
        },
        {
          code: "150726",
          name: "新巴尔虎左旗"
        },
        {
          code: "150727",
          name: "新巴尔虎右旗"
        },
        {
          code: "150781",
          name: "满洲里市"
        },
        {
          code: "150782",
          name: "牙克石市"
        },
        {
          code: "150783",
          name: "扎兰屯市"
        },
        {
          code: "150784",
          name: "额尔古纳市"
        },
        {
          code: "150785",
          name: "根河市"
        }
      ],
      [
        {
          code: "150802",
          name: "临河区"
        },
        {
          code: "150821",
          name: "五原县"
        },
        {
          code: "150822",
          name: "磴口县"
        },
        {
          code: "150823",
          name: "乌拉特前旗"
        },
        {
          code: "150824",
          name: "乌拉特中旗"
        },
        {
          code: "150825",
          name: "乌拉特后旗"
        },
        {
          code: "150826",
          name: "杭锦后旗"
        }
      ],
      [
        {
          code: "150902",
          name: "集宁区"
        },
        {
          code: "150921",
          name: "卓资县"
        },
        {
          code: "150922",
          name: "化德县"
        },
        {
          code: "150923",
          name: "商都县"
        },
        {
          code: "150924",
          name: "兴和县"
        },
        {
          code: "150925",
          name: "凉城县"
        },
        {
          code: "150926",
          name: "察哈尔右翼前旗"
        },
        {
          code: "150927",
          name: "察哈尔右翼中旗"
        },
        {
          code: "150928",
          name: "察哈尔右翼后旗"
        },
        {
          code: "150929",
          name: "四子王旗"
        },
        {
          code: "150981",
          name: "丰镇市"
        }
      ],
      [
        {
          code: "152201",
          name: "乌兰浩特市"
        },
        {
          code: "152202",
          name: "阿尔山市"
        },
        {
          code: "152221",
          name: "科尔沁右翼前旗"
        },
        {
          code: "152222",
          name: "科尔沁右翼中旗"
        },
        {
          code: "152223",
          name: "扎赉特旗"
        },
        {
          code: "152224",
          name: "突泉县"
        }
      ],
      [
        {
          code: "152501",
          name: "二连浩特市"
        },
        {
          code: "152502",
          name: "锡林浩特市"
        },
        {
          code: "152522",
          name: "阿巴嘎旗"
        },
        {
          code: "152523",
          name: "苏尼特左旗"
        },
        {
          code: "152524",
          name: "苏尼特右旗"
        },
        {
          code: "152525",
          name: "东乌珠穆沁旗"
        },
        {
          code: "152526",
          name: "西乌珠穆沁旗"
        },
        {
          code: "152527",
          name: "太仆寺旗"
        },
        {
          code: "152528",
          name: "镶黄旗"
        },
        {
          code: "152529",
          name: "正镶白旗"
        },
        {
          code: "152530",
          name: "正蓝旗"
        },
        {
          code: "152531",
          name: "多伦县"
        }
      ],
      [
        {
          code: "152921",
          name: "阿拉善左旗"
        },
        {
          code: "152922",
          name: "阿拉善右旗"
        },
        {
          code: "152923",
          name: "额济纳旗"
        }
      ]
    ],
    [
      [
        {
          code: "210102",
          name: "和平区"
        },
        {
          code: "210103",
          name: "沈河区"
        },
        {
          code: "210104",
          name: "大东区"
        },
        {
          code: "210105",
          name: "皇姑区"
        },
        {
          code: "210106",
          name: "铁西区"
        },
        {
          code: "210111",
          name: "苏家屯区"
        },
        {
          code: "210112",
          name: "浑南区"
        },
        {
          code: "210113",
          name: "沈北新区"
        },
        {
          code: "210114",
          name: "于洪区"
        },
        {
          code: "210115",
          name: "辽中区"
        },
        {
          code: "210123",
          name: "康平县"
        },
        {
          code: "210124",
          name: "法库县"
        },
        {
          code: "210181",
          name: "新民市"
        }
      ],
      [
        {
          code: "210202",
          name: "中山区"
        },
        {
          code: "210203",
          name: "西岗区"
        },
        {
          code: "210204",
          name: "沙河口区"
        },
        {
          code: "210211",
          name: "甘井子区"
        },
        {
          code: "210212",
          name: "旅顺口区"
        },
        {
          code: "210213",
          name: "金州区"
        },
        {
          code: "210214",
          name: "普兰店区"
        },
        {
          code: "210224",
          name: "长海县"
        },
        {
          code: "210281",
          name: "瓦房店市"
        },
        {
          code: "210283",
          name: "庄河市"
        }
      ],
      [
        {
          code: "210302",
          name: "铁东区"
        },
        {
          code: "210303",
          name: "铁西区"
        },
        {
          code: "210304",
          name: "立山区"
        },
        {
          code: "210311",
          name: "千山区"
        },
        {
          code: "210321",
          name: "台安县"
        },
        {
          code: "210323",
          name: "岫岩满族自治县"
        },
        {
          code: "210381",
          name: "海城市"
        }
      ],
      [
        {
          code: "210402",
          name: "新抚区"
        },
        {
          code: "210403",
          name: "东洲区"
        },
        {
          code: "210404",
          name: "望花区"
        },
        {
          code: "210411",
          name: "顺城区"
        },
        {
          code: "210421",
          name: "抚顺县"
        },
        {
          code: "210422",
          name: "新宾满族自治县"
        },
        {
          code: "210423",
          name: "清原满族自治县"
        }
      ],
      [
        {
          code: "210502",
          name: "平山区"
        },
        {
          code: "210503",
          name: "溪湖区"
        },
        {
          code: "210504",
          name: "明山区"
        },
        {
          code: "210505",
          name: "南芬区"
        },
        {
          code: "210521",
          name: "本溪满族自治县"
        },
        {
          code: "210522",
          name: "桓仁满族自治县"
        }
      ],
      [
        {
          code: "210602",
          name: "元宝区"
        },
        {
          code: "210603",
          name: "振兴区"
        },
        {
          code: "210604",
          name: "振安区"
        },
        {
          code: "210624",
          name: "宽甸满族自治县"
        },
        {
          code: "210681",
          name: "东港市"
        },
        {
          code: "210682",
          name: "凤城市"
        }
      ],
      [
        {
          code: "210702",
          name: "古塔区"
        },
        {
          code: "210703",
          name: "凌河区"
        },
        {
          code: "210711",
          name: "太和区"
        },
        {
          code: "210726",
          name: "黑山县"
        },
        {
          code: "210727",
          name: "义县"
        },
        {
          code: "210781",
          name: "凌海市"
        },
        {
          code: "210782",
          name: "北镇市"
        }
      ],
      [
        {
          code: "210802",
          name: "站前区"
        },
        {
          code: "210803",
          name: "西市区"
        },
        {
          code: "210804",
          name: "鲅鱼圈区"
        },
        {
          code: "210811",
          name: "老边区"
        },
        {
          code: "210881",
          name: "盖州市"
        },
        {
          code: "210882",
          name: "大石桥市"
        }
      ],
      [
        {
          code: "210902",
          name: "海州区"
        },
        {
          code: "210903",
          name: "新邱区"
        },
        {
          code: "210904",
          name: "太平区"
        },
        {
          code: "210905",
          name: "清河门区"
        },
        {
          code: "210911",
          name: "细河区"
        },
        {
          code: "210921",
          name: "阜新蒙古族自治县"
        },
        {
          code: "210922",
          name: "彰武县"
        }
      ],
      [
        {
          code: "211002",
          name: "白塔区"
        },
        {
          code: "211003",
          name: "文圣区"
        },
        {
          code: "211004",
          name: "宏伟区"
        },
        {
          code: "211005",
          name: "弓长岭区"
        },
        {
          code: "211011",
          name: "太子河区"
        },
        {
          code: "211021",
          name: "辽阳县"
        },
        {
          code: "211081",
          name: "灯塔市"
        }
      ],
      [
        {
          code: "211102",
          name: "双台子区"
        },
        {
          code: "211103",
          name: "兴隆台区"
        },
        {
          code: "211104",
          name: "大洼区"
        },
        {
          code: "211122",
          name: "盘山县"
        }
      ],
      [
        {
          code: "211202",
          name: "银州区"
        },
        {
          code: "211204",
          name: "清河区"
        },
        {
          code: "211221",
          name: "铁岭县"
        },
        {
          code: "211223",
          name: "西丰县"
        },
        {
          code: "211224",
          name: "昌图县"
        },
        {
          code: "211281",
          name: "调兵山市"
        },
        {
          code: "211282",
          name: "开原市"
        }
      ],
      [
        {
          code: "211302",
          name: "双塔区"
        },
        {
          code: "211303",
          name: "龙城区"
        },
        {
          code: "211321",
          name: "朝阳县"
        },
        {
          code: "211322",
          name: "建平县"
        },
        {
          code: "211324",
          name: "喀喇沁左翼蒙古族自治县"
        },
        {
          code: "211381",
          name: "北票市"
        },
        {
          code: "211382",
          name: "凌源市"
        }
      ],
      [
        {
          code: "211402",
          name: "连山区"
        },
        {
          code: "211403",
          name: "龙港区"
        },
        {
          code: "211404",
          name: "南票区"
        },
        {
          code: "211421",
          name: "绥中县"
        },
        {
          code: "211422",
          name: "建昌县"
        },
        {
          code: "211481",
          name: "兴城市"
        }
      ]
    ],
    [
      [
        {
          code: "220102",
          name: "南关区"
        },
        {
          code: "220103",
          name: "宽城区"
        },
        {
          code: "220104",
          name: "朝阳区"
        },
        {
          code: "220105",
          name: "二道区"
        },
        {
          code: "220106",
          name: "绿园区"
        },
        {
          code: "220112",
          name: "双阳区"
        },
        {
          code: "220113",
          name: "九台区"
        },
        {
          code: "220122",
          name: "农安县"
        },
        {
          code: "220182",
          name: "榆树市"
        },
        {
          code: "220183",
          name: "德惠市"
        },
        {
          code: "220184",
          name: "公主岭市"
        }
      ],
      [
        {
          code: "220202",
          name: "昌邑区"
        },
        {
          code: "220203",
          name: "龙潭区"
        },
        {
          code: "220204",
          name: "船营区"
        },
        {
          code: "220211",
          name: "丰满区"
        },
        {
          code: "220221",
          name: "永吉县"
        },
        {
          code: "220281",
          name: "蛟河市"
        },
        {
          code: "220282",
          name: "桦甸市"
        },
        {
          code: "220283",
          name: "舒兰市"
        },
        {
          code: "220284",
          name: "磐石市"
        }
      ],
      [
        {
          code: "220302",
          name: "铁西区"
        },
        {
          code: "220303",
          name: "铁东区"
        },
        {
          code: "220322",
          name: "梨树县"
        },
        {
          code: "220323",
          name: "伊通满族自治县"
        },
        {
          code: "220382",
          name: "双辽市"
        }
      ],
      [
        {
          code: "220402",
          name: "龙山区"
        },
        {
          code: "220403",
          name: "西安区"
        },
        {
          code: "220421",
          name: "东丰县"
        },
        {
          code: "220422",
          name: "东辽县"
        }
      ],
      [
        {
          code: "220502",
          name: "东昌区"
        },
        {
          code: "220503",
          name: "二道江区"
        },
        {
          code: "220521",
          name: "通化县"
        },
        {
          code: "220523",
          name: "辉南县"
        },
        {
          code: "220524",
          name: "柳河县"
        },
        {
          code: "220581",
          name: "梅河口市"
        },
        {
          code: "220582",
          name: "集安市"
        }
      ],
      [
        {
          code: "220602",
          name: "浑江区"
        },
        {
          code: "220605",
          name: "江源区"
        },
        {
          code: "220621",
          name: "抚松县"
        },
        {
          code: "220622",
          name: "靖宇县"
        },
        {
          code: "220623",
          name: "长白朝鲜族自治县"
        },
        {
          code: "220681",
          name: "临江市"
        }
      ],
      [
        {
          code: "220702",
          name: "宁江区"
        },
        {
          code: "220721",
          name: "前郭尔罗斯蒙古族自治县"
        },
        {
          code: "220722",
          name: "长岭县"
        },
        {
          code: "220723",
          name: "乾安县"
        },
        {
          code: "220781",
          name: "扶余市"
        }
      ],
      [
        {
          code: "220802",
          name: "洮北区"
        },
        {
          code: "220821",
          name: "镇赉县"
        },
        {
          code: "220822",
          name: "通榆县"
        },
        {
          code: "220881",
          name: "洮南市"
        },
        {
          code: "220882",
          name: "大安市"
        }
      ],
      [
        {
          code: "222401",
          name: "延吉市"
        },
        {
          code: "222402",
          name: "图们市"
        },
        {
          code: "222403",
          name: "敦化市"
        },
        {
          code: "222404",
          name: "珲春市"
        },
        {
          code: "222405",
          name: "龙井市"
        },
        {
          code: "222406",
          name: "和龙市"
        },
        {
          code: "222424",
          name: "汪清县"
        },
        {
          code: "222426",
          name: "安图县"
        }
      ]
    ],
    [
      [
        {
          code: "230102",
          name: "道里区"
        },
        {
          code: "230103",
          name: "南岗区"
        },
        {
          code: "230104",
          name: "道外区"
        },
        {
          code: "230108",
          name: "平房区"
        },
        {
          code: "230109",
          name: "松北区"
        },
        {
          code: "230110",
          name: "香坊区"
        },
        {
          code: "230111",
          name: "呼兰区"
        },
        {
          code: "230112",
          name: "阿城区"
        },
        {
          code: "230113",
          name: "双城区"
        },
        {
          code: "230123",
          name: "依兰县"
        },
        {
          code: "230124",
          name: "方正县"
        },
        {
          code: "230125",
          name: "宾县"
        },
        {
          code: "230126",
          name: "巴彦县"
        },
        {
          code: "230127",
          name: "木兰县"
        },
        {
          code: "230128",
          name: "通河县"
        },
        {
          code: "230129",
          name: "延寿县"
        },
        {
          code: "230183",
          name: "尚志市"
        },
        {
          code: "230184",
          name: "五常市"
        }
      ],
      [
        {
          code: "230202",
          name: "龙沙区"
        },
        {
          code: "230203",
          name: "建华区"
        },
        {
          code: "230204",
          name: "铁锋区"
        },
        {
          code: "230205",
          name: "昂昂溪区"
        },
        {
          code: "230206",
          name: "富拉尔基区"
        },
        {
          code: "230207",
          name: "碾子山区"
        },
        {
          code: "230208",
          name: "梅里斯达斡尔族区"
        },
        {
          code: "230221",
          name: "龙江县"
        },
        {
          code: "230223",
          name: "依安县"
        },
        {
          code: "230224",
          name: "泰来县"
        },
        {
          code: "230225",
          name: "甘南县"
        },
        {
          code: "230227",
          name: "富裕县"
        },
        {
          code: "230229",
          name: "克山县"
        },
        {
          code: "230230",
          name: "克东县"
        },
        {
          code: "230231",
          name: "拜泉县"
        },
        {
          code: "230281",
          name: "讷河市"
        }
      ],
      [
        {
          code: "230302",
          name: "鸡冠区"
        },
        {
          code: "230303",
          name: "恒山区"
        },
        {
          code: "230304",
          name: "滴道区"
        },
        {
          code: "230305",
          name: "梨树区"
        },
        {
          code: "230306",
          name: "城子河区"
        },
        {
          code: "230307",
          name: "麻山区"
        },
        {
          code: "230321",
          name: "鸡东县"
        },
        {
          code: "230381",
          name: "虎林市"
        },
        {
          code: "230382",
          name: "密山市"
        }
      ],
      [
        {
          code: "230402",
          name: "向阳区"
        },
        {
          code: "230403",
          name: "工农区"
        },
        {
          code: "230404",
          name: "南山区"
        },
        {
          code: "230405",
          name: "兴安区"
        },
        {
          code: "230406",
          name: "东山区"
        },
        {
          code: "230407",
          name: "兴山区"
        },
        {
          code: "230421",
          name: "萝北县"
        },
        {
          code: "230422",
          name: "绥滨县"
        }
      ],
      [
        {
          code: "230502",
          name: "尖山区"
        },
        {
          code: "230503",
          name: "岭东区"
        },
        {
          code: "230505",
          name: "四方台区"
        },
        {
          code: "230506",
          name: "宝山区"
        },
        {
          code: "230521",
          name: "集贤县"
        },
        {
          code: "230522",
          name: "友谊县"
        },
        {
          code: "230523",
          name: "宝清县"
        },
        {
          code: "230524",
          name: "饶河县"
        }
      ],
      [
        {
          code: "230602",
          name: "萨尔图区"
        },
        {
          code: "230603",
          name: "龙凤区"
        },
        {
          code: "230604",
          name: "让胡路区"
        },
        {
          code: "230605",
          name: "红岗区"
        },
        {
          code: "230606",
          name: "大同区"
        },
        {
          code: "230621",
          name: "肇州县"
        },
        {
          code: "230622",
          name: "肇源县"
        },
        {
          code: "230623",
          name: "林甸县"
        },
        {
          code: "230624",
          name: "杜尔伯特蒙古族自治县"
        }
      ],
      [
        {
          code: "230717",
          name: "伊美区"
        },
        {
          code: "230718",
          name: "乌翠区"
        },
        {
          code: "230719",
          name: "友好区"
        },
        {
          code: "230722",
          name: "嘉荫县"
        },
        {
          code: "230723",
          name: "汤旺县"
        },
        {
          code: "230724",
          name: "丰林县"
        },
        {
          code: "230725",
          name: "大箐山县"
        },
        {
          code: "230726",
          name: "南岔县"
        },
        {
          code: "230751",
          name: "金林区"
        },
        {
          code: "230781",
          name: "铁力市"
        }
      ],
      [
        {
          code: "230803",
          name: "向阳区"
        },
        {
          code: "230804",
          name: "前进区"
        },
        {
          code: "230805",
          name: "东风区"
        },
        {
          code: "230811",
          name: "郊区"
        },
        {
          code: "230822",
          name: "桦南县"
        },
        {
          code: "230826",
          name: "桦川县"
        },
        {
          code: "230828",
          name: "汤原县"
        },
        {
          code: "230881",
          name: "同江市"
        },
        {
          code: "230882",
          name: "富锦市"
        },
        {
          code: "230883",
          name: "抚远市"
        }
      ],
      [
        {
          code: "230902",
          name: "新兴区"
        },
        {
          code: "230903",
          name: "桃山区"
        },
        {
          code: "230904",
          name: "茄子河区"
        },
        {
          code: "230921",
          name: "勃利县"
        }
      ],
      [
        {
          code: "231002",
          name: "东安区"
        },
        {
          code: "231003",
          name: "阳明区"
        },
        {
          code: "231004",
          name: "爱民区"
        },
        {
          code: "231005",
          name: "西安区"
        },
        {
          code: "231025",
          name: "林口县"
        },
        {
          code: "231081",
          name: "绥芬河市"
        },
        {
          code: "231083",
          name: "海林市"
        },
        {
          code: "231084",
          name: "宁安市"
        },
        {
          code: "231085",
          name: "穆棱市"
        },
        {
          code: "231086",
          name: "东宁市"
        }
      ],
      [
        {
          code: "231102",
          name: "爱辉区"
        },
        {
          code: "231123",
          name: "逊克县"
        },
        {
          code: "231124",
          name: "孙吴县"
        },
        {
          code: "231181",
          name: "北安市"
        },
        {
          code: "231182",
          name: "五大连池市"
        },
        {
          code: "231183",
          name: "嫩江市"
        }
      ],
      [
        {
          code: "231202",
          name: "北林区"
        },
        {
          code: "231221",
          name: "望奎县"
        },
        {
          code: "231222",
          name: "兰西县"
        },
        {
          code: "231223",
          name: "青冈县"
        },
        {
          code: "231224",
          name: "庆安县"
        },
        {
          code: "231225",
          name: "明水县"
        },
        {
          code: "231226",
          name: "绥棱县"
        },
        {
          code: "231281",
          name: "安达市"
        },
        {
          code: "231282",
          name: "肇东市"
        },
        {
          code: "231283",
          name: "海伦市"
        }
      ],
      [
        {
          code: "232701",
          name: "漠河市"
        },
        {
          code: "232721",
          name: "呼玛县"
        },
        {
          code: "232722",
          name: "塔河县"
        },
        {
          code: "232761",
          name: "加格达奇区"
        },
        {
          code: "232763",
          name: "新林区"
        },
        {
          code: "232764",
          name: "呼中区"
        }
      ]
    ],
    [
      [
        {
          code: "310101",
          name: "黄浦区"
        },
        {
          code: "310104",
          name: "徐汇区"
        },
        {
          code: "310105",
          name: "长宁区"
        },
        {
          code: "310106",
          name: "静安区"
        },
        {
          code: "310107",
          name: "普陀区"
        },
        {
          code: "310109",
          name: "虹口区"
        },
        {
          code: "310110",
          name: "杨浦区"
        },
        {
          code: "310112",
          name: "闵行区"
        },
        {
          code: "310113",
          name: "宝山区"
        },
        {
          code: "310114",
          name: "嘉定区"
        },
        {
          code: "310115",
          name: "浦东新区"
        },
        {
          code: "310116",
          name: "金山区"
        },
        {
          code: "310117",
          name: "松江区"
        },
        {
          code: "310118",
          name: "青浦区"
        },
        {
          code: "310120",
          name: "奉贤区"
        },
        {
          code: "310151",
          name: "崇明区"
        }
      ]
    ],
    [
      [
        {
          code: "320102",
          name: "玄武区"
        },
        {
          code: "320104",
          name: "秦淮区"
        },
        {
          code: "320105",
          name: "建邺区"
        },
        {
          code: "320106",
          name: "鼓楼区"
        },
        {
          code: "320111",
          name: "浦口区"
        },
        {
          code: "320113",
          name: "栖霞区"
        },
        {
          code: "320114",
          name: "雨花台区"
        },
        {
          code: "320115",
          name: "江宁区"
        },
        {
          code: "320116",
          name: "六合区"
        },
        {
          code: "320117",
          name: "溧水区"
        },
        {
          code: "320118",
          name: "高淳区"
        }
      ],
      [
        {
          code: "320205",
          name: "锡山区"
        },
        {
          code: "320206",
          name: "惠山区"
        },
        {
          code: "320211",
          name: "滨湖区"
        },
        {
          code: "320213",
          name: "梁溪区"
        },
        {
          code: "320214",
          name: "新吴区"
        },
        {
          code: "320281",
          name: "江阴市"
        },
        {
          code: "320282",
          name: "宜兴市"
        }
      ],
      [
        {
          code: "320302",
          name: "鼓楼区"
        },
        {
          code: "320303",
          name: "云龙区"
        },
        {
          code: "320305",
          name: "贾汪区"
        },
        {
          code: "320311",
          name: "泉山区"
        },
        {
          code: "320312",
          name: "铜山区"
        },
        {
          code: "320321",
          name: "丰县"
        },
        {
          code: "320322",
          name: "沛县"
        },
        {
          code: "320324",
          name: "睢宁县"
        },
        {
          code: "320381",
          name: "新沂市"
        },
        {
          code: "320382",
          name: "邳州市"
        }
      ],
      [
        {
          code: "320402",
          name: "天宁区"
        },
        {
          code: "320404",
          name: "钟楼区"
        },
        {
          code: "320411",
          name: "新北区"
        },
        {
          code: "320412",
          name: "武进区"
        },
        {
          code: "320413",
          name: "金坛区"
        },
        {
          code: "320481",
          name: "溧阳市"
        }
      ],
      [
        {
          code: "320505",
          name: "虎丘区"
        },
        {
          code: "320506",
          name: "吴中区"
        },
        {
          code: "320507",
          name: "相城区"
        },
        {
          code: "320508",
          name: "姑苏区"
        },
        {
          code: "320509",
          name: "吴江区"
        },
        {
          code: "320581",
          name: "常熟市"
        },
        {
          code: "320582",
          name: "张家港市"
        },
        {
          code: "320583",
          name: "昆山市"
        },
        {
          code: "320585",
          name: "太仓市"
        }
      ],
      [
        {
          code: "320612",
          name: "通州区"
        },
        {
          code: "320613",
          name: "崇川区"
        },
        {
          code: "320614",
          name: "海门区"
        },
        {
          code: "320623",
          name: "如东县"
        },
        {
          code: "320681",
          name: "启东市"
        },
        {
          code: "320682",
          name: "如皋市"
        },
        {
          code: "320685",
          name: "海安市"
        }
      ],
      [
        {
          code: "320703",
          name: "连云区"
        },
        {
          code: "320706",
          name: "海州区"
        },
        {
          code: "320707",
          name: "赣榆区"
        },
        {
          code: "320722",
          name: "东海县"
        },
        {
          code: "320723",
          name: "灌云县"
        },
        {
          code: "320724",
          name: "灌南县"
        }
      ],
      [
        {
          code: "320803",
          name: "淮安区"
        },
        {
          code: "320804",
          name: "淮阴区"
        },
        {
          code: "320812",
          name: "清江浦区"
        },
        {
          code: "320813",
          name: "洪泽区"
        },
        {
          code: "320826",
          name: "涟水县"
        },
        {
          code: "320830",
          name: "盱眙县"
        },
        {
          code: "320831",
          name: "金湖县"
        }
      ],
      [
        {
          code: "320902",
          name: "亭湖区"
        },
        {
          code: "320903",
          name: "盐都区"
        },
        {
          code: "320904",
          name: "大丰区"
        },
        {
          code: "320921",
          name: "响水县"
        },
        {
          code: "320922",
          name: "滨海县"
        },
        {
          code: "320923",
          name: "阜宁县"
        },
        {
          code: "320924",
          name: "射阳县"
        },
        {
          code: "320925",
          name: "建湖县"
        },
        {
          code: "320981",
          name: "东台市"
        }
      ],
      [
        {
          code: "321002",
          name: "广陵区"
        },
        {
          code: "321003",
          name: "邗江区"
        },
        {
          code: "321012",
          name: "江都区"
        },
        {
          code: "321023",
          name: "宝应县"
        },
        {
          code: "321081",
          name: "仪征市"
        },
        {
          code: "321084",
          name: "高邮市"
        }
      ],
      [
        {
          code: "321102",
          name: "京口区"
        },
        {
          code: "321111",
          name: "润州区"
        },
        {
          code: "321112",
          name: "丹徒区"
        },
        {
          code: "321181",
          name: "丹阳市"
        },
        {
          code: "321182",
          name: "扬中市"
        },
        {
          code: "321183",
          name: "句容市"
        }
      ],
      [
        {
          code: "321202",
          name: "海陵区"
        },
        {
          code: "321203",
          name: "高港区"
        },
        {
          code: "321204",
          name: "姜堰区"
        },
        {
          code: "321281",
          name: "兴化市"
        },
        {
          code: "321282",
          name: "靖江市"
        },
        {
          code: "321283",
          name: "泰兴市"
        }
      ],
      [
        {
          code: "321302",
          name: "宿城区"
        },
        {
          code: "321311",
          name: "宿豫区"
        },
        {
          code: "321322",
          name: "沭阳县"
        },
        {
          code: "321323",
          name: "泗阳县"
        },
        {
          code: "321324",
          name: "泗洪县"
        }
      ]
    ],
    [
      [
        {
          code: "330102",
          name: "上城区"
        },
        {
          code: "330105",
          name: "拱墅区"
        },
        {
          code: "330106",
          name: "西湖区"
        },
        {
          code: "330108",
          name: "滨江区"
        },
        {
          code: "330109",
          name: "萧山区"
        },
        {
          code: "330110",
          name: "余杭区"
        },
        {
          code: "330111",
          name: "富阳区"
        },
        {
          code: "330112",
          name: "临安区"
        },
        {
          code: "330113",
          name: "临平区"
        },
        {
          code: "330114",
          name: "钱塘区"
        },
        {
          code: "330122",
          name: "桐庐县"
        },
        {
          code: "330127",
          name: "淳安县"
        },
        {
          code: "330182",
          name: "建德市"
        }
      ],
      [
        {
          code: "330203",
          name: "海曙区"
        },
        {
          code: "330205",
          name: "江北区"
        },
        {
          code: "330206",
          name: "北仑区"
        },
        {
          code: "330211",
          name: "镇海区"
        },
        {
          code: "330212",
          name: "鄞州区"
        },
        {
          code: "330213",
          name: "奉化区"
        },
        {
          code: "330225",
          name: "象山县"
        },
        {
          code: "330226",
          name: "宁海县"
        },
        {
          code: "330281",
          name: "余姚市"
        },
        {
          code: "330282",
          name: "慈溪市"
        }
      ],
      [
        {
          code: "330302",
          name: "鹿城区"
        },
        {
          code: "330303",
          name: "龙湾区"
        },
        {
          code: "330304",
          name: "瓯海区"
        },
        {
          code: "330305",
          name: "洞头区"
        },
        {
          code: "330324",
          name: "永嘉县"
        },
        {
          code: "330326",
          name: "平阳县"
        },
        {
          code: "330327",
          name: "苍南县"
        },
        {
          code: "330328",
          name: "文成县"
        },
        {
          code: "330329",
          name: "泰顺县"
        },
        {
          code: "330381",
          name: "瑞安市"
        },
        {
          code: "330382",
          name: "乐清市"
        },
        {
          code: "330383",
          name: "龙港市"
        }
      ],
      [
        {
          code: "330402",
          name: "南湖区"
        },
        {
          code: "330411",
          name: "秀洲区"
        },
        {
          code: "330421",
          name: "嘉善县"
        },
        {
          code: "330424",
          name: "海盐县"
        },
        {
          code: "330481",
          name: "海宁市"
        },
        {
          code: "330482",
          name: "平湖市"
        },
        {
          code: "330483",
          name: "桐乡市"
        }
      ],
      [
        {
          code: "330502",
          name: "吴兴区"
        },
        {
          code: "330503",
          name: "南浔区"
        },
        {
          code: "330521",
          name: "德清县"
        },
        {
          code: "330522",
          name: "长兴县"
        },
        {
          code: "330523",
          name: "安吉县"
        }
      ],
      [
        {
          code: "330602",
          name: "越城区"
        },
        {
          code: "330603",
          name: "柯桥区"
        },
        {
          code: "330604",
          name: "上虞区"
        },
        {
          code: "330624",
          name: "新昌县"
        },
        {
          code: "330681",
          name: "诸暨市"
        },
        {
          code: "330683",
          name: "嵊州市"
        }
      ],
      [
        {
          code: "330702",
          name: "婺城区"
        },
        {
          code: "330703",
          name: "金东区"
        },
        {
          code: "330723",
          name: "武义县"
        },
        {
          code: "330726",
          name: "浦江县"
        },
        {
          code: "330727",
          name: "磐安县"
        },
        {
          code: "330781",
          name: "兰溪市"
        },
        {
          code: "330782",
          name: "义乌市"
        },
        {
          code: "330783",
          name: "东阳市"
        },
        {
          code: "330784",
          name: "永康市"
        }
      ],
      [
        {
          code: "330802",
          name: "柯城区"
        },
        {
          code: "330803",
          name: "衢江区"
        },
        {
          code: "330822",
          name: "常山县"
        },
        {
          code: "330824",
          name: "开化县"
        },
        {
          code: "330825",
          name: "龙游县"
        },
        {
          code: "330881",
          name: "江山市"
        }
      ],
      [
        {
          code: "330902",
          name: "定海区"
        },
        {
          code: "330903",
          name: "普陀区"
        },
        {
          code: "330921",
          name: "岱山县"
        },
        {
          code: "330922",
          name: "嵊泗县"
        }
      ],
      [
        {
          code: "331002",
          name: "椒江区"
        },
        {
          code: "331003",
          name: "黄岩区"
        },
        {
          code: "331004",
          name: "路桥区"
        },
        {
          code: "331022",
          name: "三门县"
        },
        {
          code: "331023",
          name: "天台县"
        },
        {
          code: "331024",
          name: "仙居县"
        },
        {
          code: "331081",
          name: "温岭市"
        },
        {
          code: "331082",
          name: "临海市"
        },
        {
          code: "331083",
          name: "玉环市"
        }
      ],
      [
        {
          code: "331102",
          name: "莲都区"
        },
        {
          code: "331121",
          name: "青田县"
        },
        {
          code: "331122",
          name: "缙云县"
        },
        {
          code: "331123",
          name: "遂昌县"
        },
        {
          code: "331124",
          name: "松阳县"
        },
        {
          code: "331125",
          name: "云和县"
        },
        {
          code: "331126",
          name: "庆元县"
        },
        {
          code: "331127",
          name: "景宁畲族自治县"
        },
        {
          code: "331181",
          name: "龙泉市"
        }
      ]
    ],
    [
      [
        {
          code: "340102",
          name: "瑶海区"
        },
        {
          code: "340103",
          name: "庐阳区"
        },
        {
          code: "340104",
          name: "蜀山区"
        },
        {
          code: "340111",
          name: "包河区"
        },
        {
          code: "340121",
          name: "长丰县"
        },
        {
          code: "340122",
          name: "肥东县"
        },
        {
          code: "340123",
          name: "肥西县"
        },
        {
          code: "340124",
          name: "庐江县"
        },
        {
          code: "340181",
          name: "巢湖市"
        }
      ],
      [
        {
          code: "340202",
          name: "镜湖区"
        },
        {
          code: "340207",
          name: "鸠江区"
        },
        {
          code: "340209",
          name: "弋江区"
        },
        {
          code: "340210",
          name: "湾沚区"
        },
        {
          code: "340212",
          name: "繁昌区"
        },
        {
          code: "340223",
          name: "南陵县"
        },
        {
          code: "340281",
          name: "无为市"
        }
      ],
      [
        {
          code: "340302",
          name: "龙子湖区"
        },
        {
          code: "340303",
          name: "蚌山区"
        },
        {
          code: "340304",
          name: "禹会区"
        },
        {
          code: "340311",
          name: "淮上区"
        },
        {
          code: "340321",
          name: "怀远县"
        },
        {
          code: "340322",
          name: "五河县"
        },
        {
          code: "340323",
          name: "固镇县"
        }
      ],
      [
        {
          code: "340402",
          name: "大通区"
        },
        {
          code: "340403",
          name: "田家庵区"
        },
        {
          code: "340404",
          name: "谢家集区"
        },
        {
          code: "340405",
          name: "八公山区"
        },
        {
          code: "340406",
          name: "潘集区"
        },
        {
          code: "340421",
          name: "凤台县"
        },
        {
          code: "340422",
          name: "寿县"
        }
      ],
      [
        {
          code: "340503",
          name: "花山区"
        },
        {
          code: "340504",
          name: "雨山区"
        },
        {
          code: "340506",
          name: "博望区"
        },
        {
          code: "340521",
          name: "当涂县"
        },
        {
          code: "340522",
          name: "含山县"
        },
        {
          code: "340523",
          name: "和县"
        }
      ],
      [
        {
          code: "340602",
          name: "杜集区"
        },
        {
          code: "340603",
          name: "相山区"
        },
        {
          code: "340604",
          name: "烈山区"
        },
        {
          code: "340621",
          name: "濉溪县"
        }
      ],
      [
        {
          code: "340705",
          name: "铜官区"
        },
        {
          code: "340706",
          name: "义安区"
        },
        {
          code: "340711",
          name: "郊区"
        },
        {
          code: "340722",
          name: "枞阳县"
        }
      ],
      [
        {
          code: "340802",
          name: "迎江区"
        },
        {
          code: "340803",
          name: "大观区"
        },
        {
          code: "340811",
          name: "宜秀区"
        },
        {
          code: "340822",
          name: "怀宁县"
        },
        {
          code: "340825",
          name: "太湖县"
        },
        {
          code: "340826",
          name: "宿松县"
        },
        {
          code: "340827",
          name: "望江县"
        },
        {
          code: "340828",
          name: "岳西县"
        },
        {
          code: "340881",
          name: "桐城市"
        },
        {
          code: "340882",
          name: "潜山市"
        }
      ],
      [
        {
          code: "341002",
          name: "屯溪区"
        },
        {
          code: "341003",
          name: "黄山区"
        },
        {
          code: "341004",
          name: "徽州区"
        },
        {
          code: "341021",
          name: "歙县"
        },
        {
          code: "341022",
          name: "休宁县"
        },
        {
          code: "341023",
          name: "黟县"
        },
        {
          code: "341024",
          name: "祁门县"
        }
      ],
      [
        {
          code: "341102",
          name: "琅琊区"
        },
        {
          code: "341103",
          name: "南谯区"
        },
        {
          code: "341122",
          name: "来安县"
        },
        {
          code: "341124",
          name: "全椒县"
        },
        {
          code: "341125",
          name: "定远县"
        },
        {
          code: "341126",
          name: "凤阳县"
        },
        {
          code: "341181",
          name: "天长市"
        },
        {
          code: "341182",
          name: "明光市"
        }
      ],
      [
        {
          code: "341202",
          name: "颍州区"
        },
        {
          code: "341203",
          name: "颍东区"
        },
        {
          code: "341204",
          name: "颍泉区"
        },
        {
          code: "341221",
          name: "临泉县"
        },
        {
          code: "341222",
          name: "太和县"
        },
        {
          code: "341225",
          name: "阜南县"
        },
        {
          code: "341226",
          name: "颍上县"
        },
        {
          code: "341282",
          name: "界首市"
        }
      ],
      [
        {
          code: "341302",
          name: "埇桥区"
        },
        {
          code: "341321",
          name: "砀山县"
        },
        {
          code: "341322",
          name: "萧县"
        },
        {
          code: "341323",
          name: "灵璧县"
        },
        {
          code: "341324",
          name: "泗县"
        }
      ],
      [
        {
          code: "341502",
          name: "金安区"
        },
        {
          code: "341503",
          name: "裕安区"
        },
        {
          code: "341504",
          name: "叶集区"
        },
        {
          code: "341522",
          name: "霍邱县"
        },
        {
          code: "341523",
          name: "舒城县"
        },
        {
          code: "341524",
          name: "金寨县"
        },
        {
          code: "341525",
          name: "霍山县"
        }
      ],
      [
        {
          code: "341602",
          name: "谯城区"
        },
        {
          code: "341621",
          name: "涡阳县"
        },
        {
          code: "341622",
          name: "蒙城县"
        },
        {
          code: "341623",
          name: "利辛县"
        }
      ],
      [
        {
          code: "341702",
          name: "贵池区"
        },
        {
          code: "341721",
          name: "东至县"
        },
        {
          code: "341722",
          name: "石台县"
        },
        {
          code: "341723",
          name: "青阳县"
        }
      ],
      [
        {
          code: "341802",
          name: "宣州区"
        },
        {
          code: "341821",
          name: "郎溪县"
        },
        {
          code: "341823",
          name: "泾县"
        },
        {
          code: "341824",
          name: "绩溪县"
        },
        {
          code: "341825",
          name: "旌德县"
        },
        {
          code: "341881",
          name: "宁国市"
        },
        {
          code: "341882",
          name: "广德市"
        }
      ]
    ],
    [
      [
        {
          code: "350102",
          name: "鼓楼区"
        },
        {
          code: "350103",
          name: "台江区"
        },
        {
          code: "350104",
          name: "仓山区"
        },
        {
          code: "350105",
          name: "马尾区"
        },
        {
          code: "350111",
          name: "晋安区"
        },
        {
          code: "350112",
          name: "长乐区"
        },
        {
          code: "350121",
          name: "闽侯县"
        },
        {
          code: "350122",
          name: "连江县"
        },
        {
          code: "350123",
          name: "罗源县"
        },
        {
          code: "350124",
          name: "闽清县"
        },
        {
          code: "350125",
          name: "永泰县"
        },
        {
          code: "350128",
          name: "平潭县"
        },
        {
          code: "350181",
          name: "福清市"
        }
      ],
      [
        {
          code: "350203",
          name: "思明区"
        },
        {
          code: "350205",
          name: "海沧区"
        },
        {
          code: "350206",
          name: "湖里区"
        },
        {
          code: "350211",
          name: "集美区"
        },
        {
          code: "350212",
          name: "同安区"
        },
        {
          code: "350213",
          name: "翔安区"
        }
      ],
      [
        {
          code: "350302",
          name: "城厢区"
        },
        {
          code: "350303",
          name: "涵江区"
        },
        {
          code: "350304",
          name: "荔城区"
        },
        {
          code: "350305",
          name: "秀屿区"
        },
        {
          code: "350322",
          name: "仙游县"
        }
      ],
      [
        {
          code: "350404",
          name: "三元区"
        },
        {
          code: "350405",
          name: "沙县区"
        },
        {
          code: "350421",
          name: "明溪县"
        },
        {
          code: "350423",
          name: "清流县"
        },
        {
          code: "350424",
          name: "宁化县"
        },
        {
          code: "350425",
          name: "大田县"
        },
        {
          code: "350426",
          name: "尤溪县"
        },
        {
          code: "350428",
          name: "将乐县"
        },
        {
          code: "350429",
          name: "泰宁县"
        },
        {
          code: "350430",
          name: "建宁县"
        },
        {
          code: "350481",
          name: "永安市"
        }
      ],
      [
        {
          code: "350502",
          name: "鲤城区"
        },
        {
          code: "350503",
          name: "丰泽区"
        },
        {
          code: "350504",
          name: "洛江区"
        },
        {
          code: "350505",
          name: "泉港区"
        },
        {
          code: "350521",
          name: "惠安县"
        },
        {
          code: "350524",
          name: "安溪县"
        },
        {
          code: "350525",
          name: "永春县"
        },
        {
          code: "350526",
          name: "德化县"
        },
        {
          code: "350527",
          name: "金门县"
        },
        {
          code: "350581",
          name: "石狮市"
        },
        {
          code: "350582",
          name: "晋江市"
        },
        {
          code: "350583",
          name: "南安市"
        }
      ],
      [
        {
          code: "350602",
          name: "芗城区"
        },
        {
          code: "350603",
          name: "龙文区"
        },
        {
          code: "350604",
          name: "龙海区"
        },
        {
          code: "350605",
          name: "长泰区"
        },
        {
          code: "350622",
          name: "云霄县"
        },
        {
          code: "350623",
          name: "漳浦县"
        },
        {
          code: "350624",
          name: "诏安县"
        },
        {
          code: "350626",
          name: "东山县"
        },
        {
          code: "350627",
          name: "南靖县"
        },
        {
          code: "350628",
          name: "平和县"
        },
        {
          code: "350629",
          name: "华安县"
        }
      ],
      [
        {
          code: "350702",
          name: "延平区"
        },
        {
          code: "350703",
          name: "建阳区"
        },
        {
          code: "350721",
          name: "顺昌县"
        },
        {
          code: "350722",
          name: "浦城县"
        },
        {
          code: "350723",
          name: "光泽县"
        },
        {
          code: "350724",
          name: "松溪县"
        },
        {
          code: "350725",
          name: "政和县"
        },
        {
          code: "350781",
          name: "邵武市"
        },
        {
          code: "350782",
          name: "武夷山市"
        },
        {
          code: "350783",
          name: "建瓯市"
        }
      ],
      [
        {
          code: "350802",
          name: "新罗区"
        },
        {
          code: "350803",
          name: "永定区"
        },
        {
          code: "350821",
          name: "长汀县"
        },
        {
          code: "350823",
          name: "上杭县"
        },
        {
          code: "350824",
          name: "武平县"
        },
        {
          code: "350825",
          name: "连城县"
        },
        {
          code: "350881",
          name: "漳平市"
        }
      ],
      [
        {
          code: "350902",
          name: "蕉城区"
        },
        {
          code: "350921",
          name: "霞浦县"
        },
        {
          code: "350922",
          name: "古田县"
        },
        {
          code: "350923",
          name: "屏南县"
        },
        {
          code: "350924",
          name: "寿宁县"
        },
        {
          code: "350925",
          name: "周宁县"
        },
        {
          code: "350926",
          name: "柘荣县"
        },
        {
          code: "350981",
          name: "福安市"
        },
        {
          code: "350982",
          name: "福鼎市"
        }
      ]
    ],
    [
      [
        {
          code: "360102",
          name: "东湖区"
        },
        {
          code: "360103",
          name: "西湖区"
        },
        {
          code: "360104",
          name: "青云谱区"
        },
        {
          code: "360111",
          name: "青山湖区"
        },
        {
          code: "360112",
          name: "新建区"
        },
        {
          code: "360113",
          name: "红谷滩区"
        },
        {
          code: "360121",
          name: "南昌县"
        },
        {
          code: "360123",
          name: "安义县"
        },
        {
          code: "360124",
          name: "进贤县"
        }
      ],
      [
        {
          code: "360202",
          name: "昌江区"
        },
        {
          code: "360203",
          name: "珠山区"
        },
        {
          code: "360222",
          name: "浮梁县"
        },
        {
          code: "360281",
          name: "乐平市"
        }
      ],
      [
        {
          code: "360302",
          name: "安源区"
        },
        {
          code: "360313",
          name: "湘东区"
        },
        {
          code: "360321",
          name: "莲花县"
        },
        {
          code: "360322",
          name: "上栗县"
        },
        {
          code: "360323",
          name: "芦溪县"
        }
      ],
      [
        {
          code: "360402",
          name: "濂溪区"
        },
        {
          code: "360403",
          name: "浔阳区"
        },
        {
          code: "360404",
          name: "柴桑区"
        },
        {
          code: "360423",
          name: "武宁县"
        },
        {
          code: "360424",
          name: "修水县"
        },
        {
          code: "360425",
          name: "永修县"
        },
        {
          code: "360426",
          name: "德安县"
        },
        {
          code: "360428",
          name: "都昌县"
        },
        {
          code: "360429",
          name: "湖口县"
        },
        {
          code: "360430",
          name: "彭泽县"
        },
        {
          code: "360481",
          name: "瑞昌市"
        },
        {
          code: "360482",
          name: "共青城市"
        },
        {
          code: "360483",
          name: "庐山市"
        }
      ],
      [
        {
          code: "360502",
          name: "渝水区"
        },
        {
          code: "360521",
          name: "分宜县"
        }
      ],
      [
        {
          code: "360602",
          name: "月湖区"
        },
        {
          code: "360603",
          name: "余江区"
        },
        {
          code: "360681",
          name: "贵溪市"
        }
      ],
      [
        {
          code: "360702",
          name: "章贡区"
        },
        {
          code: "360703",
          name: "南康区"
        },
        {
          code: "360704",
          name: "赣县区"
        },
        {
          code: "360722",
          name: "信丰县"
        },
        {
          code: "360723",
          name: "大余县"
        },
        {
          code: "360724",
          name: "上犹县"
        },
        {
          code: "360725",
          name: "崇义县"
        },
        {
          code: "360726",
          name: "安远县"
        },
        {
          code: "360728",
          name: "定南县"
        },
        {
          code: "360729",
          name: "全南县"
        },
        {
          code: "360730",
          name: "宁都县"
        },
        {
          code: "360731",
          name: "于都县"
        },
        {
          code: "360732",
          name: "兴国县"
        },
        {
          code: "360733",
          name: "会昌县"
        },
        {
          code: "360734",
          name: "寻乌县"
        },
        {
          code: "360735",
          name: "石城县"
        },
        {
          code: "360781",
          name: "瑞金市"
        },
        {
          code: "360783",
          name: "龙南市"
        }
      ],
      [
        {
          code: "360802",
          name: "吉州区"
        },
        {
          code: "360803",
          name: "青原区"
        },
        {
          code: "360821",
          name: "吉安县"
        },
        {
          code: "360822",
          name: "吉水县"
        },
        {
          code: "360823",
          name: "峡江县"
        },
        {
          code: "360824",
          name: "新干县"
        },
        {
          code: "360825",
          name: "永丰县"
        },
        {
          code: "360826",
          name: "泰和县"
        },
        {
          code: "360827",
          name: "遂川县"
        },
        {
          code: "360828",
          name: "万安县"
        },
        {
          code: "360829",
          name: "安福县"
        },
        {
          code: "360830",
          name: "永新县"
        },
        {
          code: "360881",
          name: "井冈山市"
        }
      ],
      [
        {
          code: "360902",
          name: "袁州区"
        },
        {
          code: "360921",
          name: "奉新县"
        },
        {
          code: "360922",
          name: "万载县"
        },
        {
          code: "360923",
          name: "上高县"
        },
        {
          code: "360924",
          name: "宜丰县"
        },
        {
          code: "360925",
          name: "靖安县"
        },
        {
          code: "360926",
          name: "铜鼓县"
        },
        {
          code: "360981",
          name: "丰城市"
        },
        {
          code: "360982",
          name: "樟树市"
        },
        {
          code: "360983",
          name: "高安市"
        }
      ],
      [
        {
          code: "361002",
          name: "临川区"
        },
        {
          code: "361003",
          name: "东乡区"
        },
        {
          code: "361021",
          name: "南城县"
        },
        {
          code: "361022",
          name: "黎川县"
        },
        {
          code: "361023",
          name: "南丰县"
        },
        {
          code: "361024",
          name: "崇仁县"
        },
        {
          code: "361025",
          name: "乐安县"
        },
        {
          code: "361026",
          name: "宜黄县"
        },
        {
          code: "361027",
          name: "金溪县"
        },
        {
          code: "361028",
          name: "资溪县"
        },
        {
          code: "361030",
          name: "广昌县"
        }
      ],
      [
        {
          code: "361102",
          name: "信州区"
        },
        {
          code: "361103",
          name: "广丰区"
        },
        {
          code: "361104",
          name: "广信区"
        },
        {
          code: "361123",
          name: "玉山县"
        },
        {
          code: "361124",
          name: "铅山县"
        },
        {
          code: "361125",
          name: "横峰县"
        },
        {
          code: "361126",
          name: "弋阳县"
        },
        {
          code: "361127",
          name: "余干县"
        },
        {
          code: "361128",
          name: "鄱阳县"
        },
        {
          code: "361129",
          name: "万年县"
        },
        {
          code: "361130",
          name: "婺源县"
        },
        {
          code: "361181",
          name: "德兴市"
        }
      ]
    ],
    [
      [
        {
          code: "370102",
          name: "历下区"
        },
        {
          code: "370103",
          name: "市中区"
        },
        {
          code: "370104",
          name: "槐荫区"
        },
        {
          code: "370105",
          name: "天桥区"
        },
        {
          code: "370112",
          name: "历城区"
        },
        {
          code: "370113",
          name: "长清区"
        },
        {
          code: "370114",
          name: "章丘区"
        },
        {
          code: "370115",
          name: "济阳区"
        },
        {
          code: "370116",
          name: "莱芜区"
        },
        {
          code: "370117",
          name: "钢城区"
        },
        {
          code: "370124",
          name: "平阴县"
        },
        {
          code: "370126",
          name: "商河县"
        }
      ],
      [
        {
          code: "370202",
          name: "市南区"
        },
        {
          code: "370203",
          name: "市北区"
        },
        {
          code: "370211",
          name: "黄岛区"
        },
        {
          code: "370212",
          name: "崂山区"
        },
        {
          code: "370213",
          name: "李沧区"
        },
        {
          code: "370214",
          name: "城阳区"
        },
        {
          code: "370215",
          name: "即墨区"
        },
        {
          code: "370281",
          name: "胶州市"
        },
        {
          code: "370283",
          name: "平度市"
        },
        {
          code: "370285",
          name: "莱西市"
        }
      ],
      [
        {
          code: "370302",
          name: "淄川区"
        },
        {
          code: "370303",
          name: "张店区"
        },
        {
          code: "370304",
          name: "博山区"
        },
        {
          code: "370305",
          name: "临淄区"
        },
        {
          code: "370306",
          name: "周村区"
        },
        {
          code: "370321",
          name: "桓台县"
        },
        {
          code: "370322",
          name: "高青县"
        },
        {
          code: "370323",
          name: "沂源县"
        }
      ],
      [
        {
          code: "370402",
          name: "市中区"
        },
        {
          code: "370403",
          name: "薛城区"
        },
        {
          code: "370404",
          name: "峄城区"
        },
        {
          code: "370405",
          name: "台儿庄区"
        },
        {
          code: "370406",
          name: "山亭区"
        },
        {
          code: "370481",
          name: "滕州市"
        }
      ],
      [
        {
          code: "370502",
          name: "东营区"
        },
        {
          code: "370503",
          name: "河口区"
        },
        {
          code: "370505",
          name: "垦利区"
        },
        {
          code: "370522",
          name: "利津县"
        },
        {
          code: "370523",
          name: "广饶县"
        }
      ],
      [
        {
          code: "370602",
          name: "芝罘区"
        },
        {
          code: "370611",
          name: "福山区"
        },
        {
          code: "370612",
          name: "牟平区"
        },
        {
          code: "370613",
          name: "莱山区"
        },
        {
          code: "370614",
          name: "蓬莱区"
        },
        {
          code: "370681",
          name: "龙口市"
        },
        {
          code: "370682",
          name: "莱阳市"
        },
        {
          code: "370683",
          name: "莱州市"
        },
        {
          code: "370685",
          name: "招远市"
        },
        {
          code: "370686",
          name: "栖霞市"
        },
        {
          code: "370687",
          name: "海阳市"
        }
      ],
      [
        {
          code: "370702",
          name: "潍城区"
        },
        {
          code: "370703",
          name: "寒亭区"
        },
        {
          code: "370704",
          name: "坊子区"
        },
        {
          code: "370705",
          name: "奎文区"
        },
        {
          code: "370724",
          name: "临朐县"
        },
        {
          code: "370725",
          name: "昌乐县"
        },
        {
          code: "370781",
          name: "青州市"
        },
        {
          code: "370782",
          name: "诸城市"
        },
        {
          code: "370783",
          name: "寿光市"
        },
        {
          code: "370784",
          name: "安丘市"
        },
        {
          code: "370785",
          name: "高密市"
        },
        {
          code: "370786",
          name: "昌邑市"
        }
      ],
      [
        {
          code: "370811",
          name: "任城区"
        },
        {
          code: "370812",
          name: "兖州区"
        },
        {
          code: "370826",
          name: "微山县"
        },
        {
          code: "370827",
          name: "鱼台县"
        },
        {
          code: "370828",
          name: "金乡县"
        },
        {
          code: "370829",
          name: "嘉祥县"
        },
        {
          code: "370830",
          name: "汶上县"
        },
        {
          code: "370831",
          name: "泗水县"
        },
        {
          code: "370832",
          name: "梁山县"
        },
        {
          code: "370881",
          name: "曲阜市"
        },
        {
          code: "370883",
          name: "邹城市"
        }
      ],
      [
        {
          code: "370902",
          name: "泰山区"
        },
        {
          code: "370911",
          name: "岱岳区"
        },
        {
          code: "370921",
          name: "宁阳县"
        },
        {
          code: "370923",
          name: "东平县"
        },
        {
          code: "370982",
          name: "新泰市"
        },
        {
          code: "370983",
          name: "肥城市"
        }
      ],
      [
        {
          code: "371002",
          name: "环翠区"
        },
        {
          code: "371003",
          name: "文登区"
        },
        {
          code: "371082",
          name: "荣成市"
        },
        {
          code: "371083",
          name: "乳山市"
        }
      ],
      [
        {
          code: "371102",
          name: "东港区"
        },
        {
          code: "371103",
          name: "岚山区"
        },
        {
          code: "371121",
          name: "五莲县"
        },
        {
          code: "371122",
          name: "莒县"
        }
      ],
      [
        {
          code: "371302",
          name: "兰山区"
        },
        {
          code: "371311",
          name: "罗庄区"
        },
        {
          code: "371312",
          name: "河东区"
        },
        {
          code: "371321",
          name: "沂南县"
        },
        {
          code: "371322",
          name: "郯城县"
        },
        {
          code: "371323",
          name: "沂水县"
        },
        {
          code: "371324",
          name: "兰陵县"
        },
        {
          code: "371325",
          name: "费县"
        },
        {
          code: "371326",
          name: "平邑县"
        },
        {
          code: "371327",
          name: "莒南县"
        },
        {
          code: "371328",
          name: "蒙阴县"
        },
        {
          code: "371329",
          name: "临沭县"
        }
      ],
      [
        {
          code: "371402",
          name: "德城区"
        },
        {
          code: "371403",
          name: "陵城区"
        },
        {
          code: "371422",
          name: "宁津县"
        },
        {
          code: "371423",
          name: "庆云县"
        },
        {
          code: "371424",
          name: "临邑县"
        },
        {
          code: "371425",
          name: "齐河县"
        },
        {
          code: "371426",
          name: "平原县"
        },
        {
          code: "371427",
          name: "夏津县"
        },
        {
          code: "371428",
          name: "武城县"
        },
        {
          code: "371481",
          name: "乐陵市"
        },
        {
          code: "371482",
          name: "禹城市"
        }
      ],
      [
        {
          code: "371502",
          name: "东昌府区"
        },
        {
          code: "371503",
          name: "茌平区"
        },
        {
          code: "371521",
          name: "阳谷县"
        },
        {
          code: "371522",
          name: "莘县"
        },
        {
          code: "371524",
          name: "东阿县"
        },
        {
          code: "371525",
          name: "冠县"
        },
        {
          code: "371526",
          name: "高唐县"
        },
        {
          code: "371581",
          name: "临清市"
        }
      ],
      [
        {
          code: "371602",
          name: "滨城区"
        },
        {
          code: "371603",
          name: "沾化区"
        },
        {
          code: "371621",
          name: "惠民县"
        },
        {
          code: "371622",
          name: "阳信县"
        },
        {
          code: "371623",
          name: "无棣县"
        },
        {
          code: "371625",
          name: "博兴县"
        },
        {
          code: "371681",
          name: "邹平市"
        }
      ],
      [
        {
          code: "371702",
          name: "牡丹区"
        },
        {
          code: "371703",
          name: "定陶区"
        },
        {
          code: "371721",
          name: "曹县"
        },
        {
          code: "371722",
          name: "单县"
        },
        {
          code: "371723",
          name: "成武县"
        },
        {
          code: "371724",
          name: "巨野县"
        },
        {
          code: "371725",
          name: "郓城县"
        },
        {
          code: "371726",
          name: "鄄城县"
        },
        {
          code: "371728",
          name: "东明县"
        }
      ]
    ],
    [
      [
        {
          code: "410102",
          name: "中原区"
        },
        {
          code: "410103",
          name: "二七区"
        },
        {
          code: "410104",
          name: "管城回族区"
        },
        {
          code: "410105",
          name: "金水区"
        },
        {
          code: "410106",
          name: "上街区"
        },
        {
          code: "410108",
          name: "惠济区"
        },
        {
          code: "410122",
          name: "中牟县"
        },
        {
          code: "410181",
          name: "巩义市"
        },
        {
          code: "410182",
          name: "荥阳市"
        },
        {
          code: "410183",
          name: "新密市"
        },
        {
          code: "410184",
          name: "新郑市"
        },
        {
          code: "410185",
          name: "登封市"
        }
      ],
      [
        {
          code: "410202",
          name: "龙亭区"
        },
        {
          code: "410203",
          name: "顺河回族区"
        },
        {
          code: "410204",
          name: "鼓楼区"
        },
        {
          code: "410205",
          name: "禹王台区"
        },
        {
          code: "410212",
          name: "祥符区"
        },
        {
          code: "410221",
          name: "杞县"
        },
        {
          code: "410222",
          name: "通许县"
        },
        {
          code: "410223",
          name: "尉氏县"
        },
        {
          code: "410225",
          name: "兰考县"
        }
      ],
      [
        {
          code: "410302",
          name: "老城区"
        },
        {
          code: "410303",
          name: "西工区"
        },
        {
          code: "410304",
          name: "瀍河回族区"
        },
        {
          code: "410305",
          name: "涧西区"
        },
        {
          code: "410307",
          name: "偃师区"
        },
        {
          code: "410308",
          name: "孟津区"
        },
        {
          code: "410311",
          name: "洛龙区"
        },
        {
          code: "410323",
          name: "新安县"
        },
        {
          code: "410324",
          name: "栾川县"
        },
        {
          code: "410325",
          name: "嵩县"
        },
        {
          code: "410326",
          name: "汝阳县"
        },
        {
          code: "410327",
          name: "宜阳县"
        },
        {
          code: "410328",
          name: "洛宁县"
        },
        {
          code: "410329",
          name: "伊川县"
        }
      ],
      [
        {
          code: "410402",
          name: "新华区"
        },
        {
          code: "410403",
          name: "卫东区"
        },
        {
          code: "410404",
          name: "石龙区"
        },
        {
          code: "410411",
          name: "湛河区"
        },
        {
          code: "410421",
          name: "宝丰县"
        },
        {
          code: "410422",
          name: "叶县"
        },
        {
          code: "410423",
          name: "鲁山县"
        },
        {
          code: "410425",
          name: "郏县"
        },
        {
          code: "410481",
          name: "舞钢市"
        },
        {
          code: "410482",
          name: "汝州市"
        }
      ],
      [
        {
          code: "410502",
          name: "文峰区"
        },
        {
          code: "410503",
          name: "北关区"
        },
        {
          code: "410505",
          name: "殷都区"
        },
        {
          code: "410506",
          name: "龙安区"
        },
        {
          code: "410522",
          name: "安阳县"
        },
        {
          code: "410523",
          name: "汤阴县"
        },
        {
          code: "410526",
          name: "滑县"
        },
        {
          code: "410527",
          name: "内黄县"
        },
        {
          code: "410581",
          name: "林州市"
        }
      ],
      [
        {
          code: "410602",
          name: "鹤山区"
        },
        {
          code: "410603",
          name: "山城区"
        },
        {
          code: "410611",
          name: "淇滨区"
        },
        {
          code: "410621",
          name: "浚县"
        },
        {
          code: "410622",
          name: "淇县"
        }
      ],
      [
        {
          code: "410702",
          name: "红旗区"
        },
        {
          code: "410703",
          name: "卫滨区"
        },
        {
          code: "410704",
          name: "凤泉区"
        },
        {
          code: "410711",
          name: "牧野区"
        },
        {
          code: "410721",
          name: "新乡县"
        },
        {
          code: "410724",
          name: "获嘉县"
        },
        {
          code: "410725",
          name: "原阳县"
        },
        {
          code: "410726",
          name: "延津县"
        },
        {
          code: "410727",
          name: "封丘县"
        },
        {
          code: "410781",
          name: "卫辉市"
        },
        {
          code: "410782",
          name: "辉县市"
        },
        {
          code: "410783",
          name: "长垣市"
        }
      ],
      [
        {
          code: "410802",
          name: "解放区"
        },
        {
          code: "410803",
          name: "中站区"
        },
        {
          code: "410804",
          name: "马村区"
        },
        {
          code: "410811",
          name: "山阳区"
        },
        {
          code: "410821",
          name: "修武县"
        },
        {
          code: "410822",
          name: "博爱县"
        },
        {
          code: "410823",
          name: "武陟县"
        },
        {
          code: "410825",
          name: "温县"
        },
        {
          code: "410882",
          name: "沁阳市"
        },
        {
          code: "410883",
          name: "孟州市"
        }
      ],
      [
        {
          code: "410902",
          name: "华龙区"
        },
        {
          code: "410922",
          name: "清丰县"
        },
        {
          code: "410923",
          name: "南乐县"
        },
        {
          code: "410926",
          name: "范县"
        },
        {
          code: "410927",
          name: "台前县"
        },
        {
          code: "410928",
          name: "濮阳县"
        }
      ],
      [
        {
          code: "411002",
          name: "魏都区"
        },
        {
          code: "411003",
          name: "建安区"
        },
        {
          code: "411024",
          name: "鄢陵县"
        },
        {
          code: "411025",
          name: "襄城县"
        },
        {
          code: "411081",
          name: "禹州市"
        },
        {
          code: "411082",
          name: "长葛市"
        }
      ],
      [
        {
          code: "411102",
          name: "源汇区"
        },
        {
          code: "411103",
          name: "郾城区"
        },
        {
          code: "411104",
          name: "召陵区"
        },
        {
          code: "411121",
          name: "舞阳县"
        },
        {
          code: "411122",
          name: "临颍县"
        }
      ],
      [
        {
          code: "411202",
          name: "湖滨区"
        },
        {
          code: "411203",
          name: "陕州区"
        },
        {
          code: "411221",
          name: "渑池县"
        },
        {
          code: "411224",
          name: "卢氏县"
        },
        {
          code: "411281",
          name: "义马市"
        },
        {
          code: "411282",
          name: "灵宝市"
        }
      ],
      [
        {
          code: "411302",
          name: "宛城区"
        },
        {
          code: "411303",
          name: "卧龙区"
        },
        {
          code: "411321",
          name: "南召县"
        },
        {
          code: "411322",
          name: "方城县"
        },
        {
          code: "411323",
          name: "西峡县"
        },
        {
          code: "411324",
          name: "镇平县"
        },
        {
          code: "411325",
          name: "内乡县"
        },
        {
          code: "411326",
          name: "淅川县"
        },
        {
          code: "411327",
          name: "社旗县"
        },
        {
          code: "411328",
          name: "唐河县"
        },
        {
          code: "411329",
          name: "新野县"
        },
        {
          code: "411330",
          name: "桐柏县"
        },
        {
          code: "411381",
          name: "邓州市"
        }
      ],
      [
        {
          code: "411402",
          name: "梁园区"
        },
        {
          code: "411403",
          name: "睢阳区"
        },
        {
          code: "411421",
          name: "民权县"
        },
        {
          code: "411422",
          name: "睢县"
        },
        {
          code: "411423",
          name: "宁陵县"
        },
        {
          code: "411424",
          name: "柘城县"
        },
        {
          code: "411425",
          name: "虞城县"
        },
        {
          code: "411426",
          name: "夏邑县"
        },
        {
          code: "411481",
          name: "永城市"
        }
      ],
      [
        {
          code: "411502",
          name: "浉河区"
        },
        {
          code: "411503",
          name: "平桥区"
        },
        {
          code: "411521",
          name: "罗山县"
        },
        {
          code: "411522",
          name: "光山县"
        },
        {
          code: "411523",
          name: "新县"
        },
        {
          code: "411524",
          name: "商城县"
        },
        {
          code: "411525",
          name: "固始县"
        },
        {
          code: "411526",
          name: "潢川县"
        },
        {
          code: "411527",
          name: "淮滨县"
        },
        {
          code: "411528",
          name: "息县"
        }
      ],
      [
        {
          code: "411602",
          name: "川汇区"
        },
        {
          code: "411603",
          name: "淮阳区"
        },
        {
          code: "411621",
          name: "扶沟县"
        },
        {
          code: "411622",
          name: "西华县"
        },
        {
          code: "411623",
          name: "商水县"
        },
        {
          code: "411624",
          name: "沈丘县"
        },
        {
          code: "411625",
          name: "郸城县"
        },
        {
          code: "411627",
          name: "太康县"
        },
        {
          code: "411628",
          name: "鹿邑县"
        },
        {
          code: "411681",
          name: "项城市"
        }
      ],
      [
        {
          code: "411702",
          name: "驿城区"
        },
        {
          code: "411721",
          name: "西平县"
        },
        {
          code: "411722",
          name: "上蔡县"
        },
        {
          code: "411723",
          name: "平舆县"
        },
        {
          code: "411724",
          name: "正阳县"
        },
        {
          code: "411725",
          name: "确山县"
        },
        {
          code: "411726",
          name: "泌阳县"
        },
        {
          code: "411727",
          name: "汝南县"
        },
        {
          code: "411728",
          name: "遂平县"
        },
        {
          code: "411729",
          name: "新蔡县"
        }
      ],
      [
        {
          code: "41900101",
          name: "济源市"
        }
      ]
    ],
    [
      [
        {
          code: "420102",
          name: "江岸区"
        },
        {
          code: "420103",
          name: "江汉区"
        },
        {
          code: "420104",
          name: "硚口区"
        },
        {
          code: "420105",
          name: "汉阳区"
        },
        {
          code: "420106",
          name: "武昌区"
        },
        {
          code: "420107",
          name: "青山区"
        },
        {
          code: "420111",
          name: "洪山区"
        },
        {
          code: "420112",
          name: "东西湖区"
        },
        {
          code: "420113",
          name: "汉南区"
        },
        {
          code: "420114",
          name: "蔡甸区"
        },
        {
          code: "420115",
          name: "江夏区"
        },
        {
          code: "420116",
          name: "黄陂区"
        },
        {
          code: "420117",
          name: "新洲区"
        }
      ],
      [
        {
          code: "420202",
          name: "黄石港区"
        },
        {
          code: "420203",
          name: "西塞山区"
        },
        {
          code: "420204",
          name: "下陆区"
        },
        {
          code: "420205",
          name: "铁山区"
        },
        {
          code: "420222",
          name: "阳新县"
        },
        {
          code: "420281",
          name: "大冶市"
        }
      ],
      [
        {
          code: "420302",
          name: "茅箭区"
        },
        {
          code: "420303",
          name: "张湾区"
        },
        {
          code: "420304",
          name: "郧阳区"
        },
        {
          code: "420322",
          name: "郧西县"
        },
        {
          code: "420323",
          name: "竹山县"
        },
        {
          code: "420324",
          name: "竹溪县"
        },
        {
          code: "420325",
          name: "房县"
        },
        {
          code: "420381",
          name: "丹江口市"
        }
      ],
      [
        {
          code: "420502",
          name: "西陵区"
        },
        {
          code: "420503",
          name: "伍家岗区"
        },
        {
          code: "420504",
          name: "点军区"
        },
        {
          code: "420505",
          name: "猇亭区"
        },
        {
          code: "420506",
          name: "夷陵区"
        },
        {
          code: "420525",
          name: "远安县"
        },
        {
          code: "420526",
          name: "兴山县"
        },
        {
          code: "420527",
          name: "秭归县"
        },
        {
          code: "420528",
          name: "长阳土家族自治县"
        },
        {
          code: "420529",
          name: "五峰土家族自治县"
        },
        {
          code: "420581",
          name: "宜都市"
        },
        {
          code: "420582",
          name: "当阳市"
        },
        {
          code: "420583",
          name: "枝江市"
        }
      ],
      [
        {
          code: "420602",
          name: "襄城区"
        },
        {
          code: "420606",
          name: "樊城区"
        },
        {
          code: "420607",
          name: "襄州区"
        },
        {
          code: "420624",
          name: "南漳县"
        },
        {
          code: "420625",
          name: "谷城县"
        },
        {
          code: "420626",
          name: "保康县"
        },
        {
          code: "420682",
          name: "老河口市"
        },
        {
          code: "420683",
          name: "枣阳市"
        },
        {
          code: "420684",
          name: "宜城市"
        }
      ],
      [
        {
          code: "420702",
          name: "梁子湖区"
        },
        {
          code: "420703",
          name: "华容区"
        },
        {
          code: "420704",
          name: "鄂城区"
        }
      ],
      [
        {
          code: "420802",
          name: "东宝区"
        },
        {
          code: "420804",
          name: "掇刀区"
        },
        {
          code: "420822",
          name: "沙洋县"
        },
        {
          code: "420881",
          name: "钟祥市"
        },
        {
          code: "420882",
          name: "京山市"
        }
      ],
      [
        {
          code: "420902",
          name: "孝南区"
        },
        {
          code: "420921",
          name: "孝昌县"
        },
        {
          code: "420922",
          name: "大悟县"
        },
        {
          code: "420923",
          name: "云梦县"
        },
        {
          code: "420981",
          name: "应城市"
        },
        {
          code: "420982",
          name: "安陆市"
        },
        {
          code: "420984",
          name: "汉川市"
        }
      ],
      [
        {
          code: "421002",
          name: "沙市区"
        },
        {
          code: "421003",
          name: "荆州区"
        },
        {
          code: "421022",
          name: "公安县"
        },
        {
          code: "421024",
          name: "江陵县"
        },
        {
          code: "421081",
          name: "石首市"
        },
        {
          code: "421083",
          name: "洪湖市"
        },
        {
          code: "421087",
          name: "松滋市"
        },
        {
          code: "421088",
          name: "监利市"
        }
      ],
      [
        {
          code: "421102",
          name: "黄州区"
        },
        {
          code: "421121",
          name: "团风县"
        },
        {
          code: "421122",
          name: "红安县"
        },
        {
          code: "421123",
          name: "罗田县"
        },
        {
          code: "421124",
          name: "英山县"
        },
        {
          code: "421125",
          name: "浠水县"
        },
        {
          code: "421126",
          name: "蕲春县"
        },
        {
          code: "421127",
          name: "黄梅县"
        },
        {
          code: "421181",
          name: "麻城市"
        },
        {
          code: "421182",
          name: "武穴市"
        }
      ],
      [
        {
          code: "421202",
          name: "咸安区"
        },
        {
          code: "421221",
          name: "嘉鱼县"
        },
        {
          code: "421222",
          name: "通城县"
        },
        {
          code: "421223",
          name: "崇阳县"
        },
        {
          code: "421224",
          name: "通山县"
        },
        {
          code: "421281",
          name: "赤壁市"
        }
      ],
      [
        {
          code: "421303",
          name: "曾都区"
        },
        {
          code: "421321",
          name: "随县"
        },
        {
          code: "421381",
          name: "广水市"
        }
      ],
      [
        {
          code: "422801",
          name: "恩施市"
        },
        {
          code: "422802",
          name: "利川市"
        },
        {
          code: "422822",
          name: "建始县"
        },
        {
          code: "422823",
          name: "巴东县"
        },
        {
          code: "422825",
          name: "宣恩县"
        },
        {
          code: "422826",
          name: "咸丰县"
        },
        {
          code: "422827",
          name: "来凤县"
        },
        {
          code: "422828",
          name: "鹤峰县"
        }
      ],
      [
        {
          code: "42900401",
          name: "仙桃市"
        }
      ],
      [
        {
          code: "42900501",
          name: "潜江市"
        }
      ],
      [
        {
          code: "42900601",
          name: "天门市"
        }
      ],
      [
        {
          code: "42902101",
          name: "神农架林区"
        }
      ]
    ],
    [
      [
        {
          code: "430102",
          name: "芙蓉区"
        },
        {
          code: "430103",
          name: "天心区"
        },
        {
          code: "430104",
          name: "岳麓区"
        },
        {
          code: "430105",
          name: "开福区"
        },
        {
          code: "430111",
          name: "雨花区"
        },
        {
          code: "430112",
          name: "望城区"
        },
        {
          code: "430121",
          name: "长沙县"
        },
        {
          code: "430181",
          name: "浏阳市"
        },
        {
          code: "430182",
          name: "宁乡市"
        }
      ],
      [
        {
          code: "430202",
          name: "荷塘区"
        },
        {
          code: "430203",
          name: "芦淞区"
        },
        {
          code: "430204",
          name: "石峰区"
        },
        {
          code: "430211",
          name: "天元区"
        },
        {
          code: "430212",
          name: "渌口区"
        },
        {
          code: "430223",
          name: "攸县"
        },
        {
          code: "430224",
          name: "茶陵县"
        },
        {
          code: "430225",
          name: "炎陵县"
        },
        {
          code: "430281",
          name: "醴陵市"
        }
      ],
      [
        {
          code: "430302",
          name: "雨湖区"
        },
        {
          code: "430304",
          name: "岳塘区"
        },
        {
          code: "430321",
          name: "湘潭县"
        },
        {
          code: "430381",
          name: "湘乡市"
        },
        {
          code: "430382",
          name: "韶山市"
        }
      ],
      [
        {
          code: "430405",
          name: "珠晖区"
        },
        {
          code: "430406",
          name: "雁峰区"
        },
        {
          code: "430407",
          name: "石鼓区"
        },
        {
          code: "430408",
          name: "蒸湘区"
        },
        {
          code: "430412",
          name: "南岳区"
        },
        {
          code: "430421",
          name: "衡阳县"
        },
        {
          code: "430422",
          name: "衡南县"
        },
        {
          code: "430423",
          name: "衡山县"
        },
        {
          code: "430424",
          name: "衡东县"
        },
        {
          code: "430426",
          name: "祁东县"
        },
        {
          code: "430481",
          name: "耒阳市"
        },
        {
          code: "430482",
          name: "常宁市"
        }
      ],
      [
        {
          code: "430502",
          name: "双清区"
        },
        {
          code: "430503",
          name: "大祥区"
        },
        {
          code: "430511",
          name: "北塔区"
        },
        {
          code: "430522",
          name: "新邵县"
        },
        {
          code: "430523",
          name: "邵阳县"
        },
        {
          code: "430524",
          name: "隆回县"
        },
        {
          code: "430525",
          name: "洞口县"
        },
        {
          code: "430527",
          name: "绥宁县"
        },
        {
          code: "430528",
          name: "新宁县"
        },
        {
          code: "430529",
          name: "城步苗族自治县"
        },
        {
          code: "430581",
          name: "武冈市"
        },
        {
          code: "430582",
          name: "邵东市"
        }
      ],
      [
        {
          code: "430602",
          name: "岳阳楼区"
        },
        {
          code: "430603",
          name: "云溪区"
        },
        {
          code: "430611",
          name: "君山区"
        },
        {
          code: "430621",
          name: "岳阳县"
        },
        {
          code: "430623",
          name: "华容县"
        },
        {
          code: "430624",
          name: "湘阴县"
        },
        {
          code: "430626",
          name: "平江县"
        },
        {
          code: "430681",
          name: "汨罗市"
        },
        {
          code: "430682",
          name: "临湘市"
        }
      ],
      [
        {
          code: "430702",
          name: "武陵区"
        },
        {
          code: "430703",
          name: "鼎城区"
        },
        {
          code: "430721",
          name: "安乡县"
        },
        {
          code: "430722",
          name: "汉寿县"
        },
        {
          code: "430723",
          name: "澧县"
        },
        {
          code: "430724",
          name: "临澧县"
        },
        {
          code: "430725",
          name: "桃源县"
        },
        {
          code: "430726",
          name: "石门县"
        },
        {
          code: "430781",
          name: "津市市"
        }
      ],
      [
        {
          code: "430802",
          name: "永定区"
        },
        {
          code: "430811",
          name: "武陵源区"
        },
        {
          code: "430821",
          name: "慈利县"
        },
        {
          code: "430822",
          name: "桑植县"
        }
      ],
      [
        {
          code: "430902",
          name: "资阳区"
        },
        {
          code: "430903",
          name: "赫山区"
        },
        {
          code: "430921",
          name: "南县"
        },
        {
          code: "430922",
          name: "桃江县"
        },
        {
          code: "430923",
          name: "安化县"
        },
        {
          code: "430981",
          name: "沅江市"
        }
      ],
      [
        {
          code: "431002",
          name: "北湖区"
        },
        {
          code: "431003",
          name: "苏仙区"
        },
        {
          code: "431021",
          name: "桂阳县"
        },
        {
          code: "431022",
          name: "宜章县"
        },
        {
          code: "431023",
          name: "永兴县"
        },
        {
          code: "431024",
          name: "嘉禾县"
        },
        {
          code: "431025",
          name: "临武县"
        },
        {
          code: "431026",
          name: "汝城县"
        },
        {
          code: "431027",
          name: "桂东县"
        },
        {
          code: "431028",
          name: "安仁县"
        },
        {
          code: "431081",
          name: "资兴市"
        }
      ],
      [
        {
          code: "431102",
          name: "零陵区"
        },
        {
          code: "431103",
          name: "冷水滩区"
        },
        {
          code: "431122",
          name: "东安县"
        },
        {
          code: "431123",
          name: "双牌县"
        },
        {
          code: "431124",
          name: "道县"
        },
        {
          code: "431125",
          name: "江永县"
        },
        {
          code: "431126",
          name: "宁远县"
        },
        {
          code: "431127",
          name: "蓝山县"
        },
        {
          code: "431128",
          name: "新田县"
        },
        {
          code: "431129",
          name: "江华瑶族自治县"
        },
        {
          code: "431181",
          name: "祁阳市"
        }
      ],
      [
        {
          code: "431202",
          name: "鹤城区"
        },
        {
          code: "431221",
          name: "中方县"
        },
        {
          code: "431222",
          name: "沅陵县"
        },
        {
          code: "431223",
          name: "辰溪县"
        },
        {
          code: "431224",
          name: "溆浦县"
        },
        {
          code: "431225",
          name: "会同县"
        },
        {
          code: "431226",
          name: "麻阳苗族自治县"
        },
        {
          code: "431227",
          name: "新晃侗族自治县"
        },
        {
          code: "431228",
          name: "芷江侗族自治县"
        },
        {
          code: "431229",
          name: "靖州苗族侗族自治县"
        },
        {
          code: "431230",
          name: "通道侗族自治县"
        },
        {
          code: "431281",
          name: "洪江市"
        }
      ],
      [
        {
          code: "431302",
          name: "娄星区"
        },
        {
          code: "431321",
          name: "双峰县"
        },
        {
          code: "431322",
          name: "新化县"
        },
        {
          code: "431381",
          name: "冷水江市"
        },
        {
          code: "431382",
          name: "涟源市"
        }
      ],
      [
        {
          code: "433101",
          name: "吉首市"
        },
        {
          code: "433122",
          name: "泸溪县"
        },
        {
          code: "433123",
          name: "凤凰县"
        },
        {
          code: "433124",
          name: "花垣县"
        },
        {
          code: "433125",
          name: "保靖县"
        },
        {
          code: "433126",
          name: "古丈县"
        },
        {
          code: "433127",
          name: "永顺县"
        },
        {
          code: "433130",
          name: "龙山县"
        }
      ]
    ],
    [
      [
        {
          code: "440103",
          name: "荔湾区"
        },
        {
          code: "440104",
          name: "越秀区"
        },
        {
          code: "440105",
          name: "海珠区"
        },
        {
          code: "440106",
          name: "天河区"
        },
        {
          code: "440111",
          name: "白云区"
        },
        {
          code: "440112",
          name: "黄埔区"
        },
        {
          code: "440113",
          name: "番禺区"
        },
        {
          code: "440114",
          name: "花都区"
        },
        {
          code: "440115",
          name: "南沙区"
        },
        {
          code: "440117",
          name: "从化区"
        },
        {
          code: "440118",
          name: "增城区"
        }
      ],
      [
        {
          code: "440203",
          name: "武江区"
        },
        {
          code: "440204",
          name: "浈江区"
        },
        {
          code: "440205",
          name: "曲江区"
        },
        {
          code: "440222",
          name: "始兴县"
        },
        {
          code: "440224",
          name: "仁化县"
        },
        {
          code: "440229",
          name: "翁源县"
        },
        {
          code: "440232",
          name: "乳源瑶族自治县"
        },
        {
          code: "440233",
          name: "新丰县"
        },
        {
          code: "440281",
          name: "乐昌市"
        },
        {
          code: "440282",
          name: "南雄市"
        }
      ],
      [
        {
          code: "440303",
          name: "罗湖区"
        },
        {
          code: "440304",
          name: "福田区"
        },
        {
          code: "440305",
          name: "南山区"
        },
        {
          code: "440306",
          name: "宝安区"
        },
        {
          code: "440307",
          name: "龙岗区"
        },
        {
          code: "440308",
          name: "盐田区"
        },
        {
          code: "440309",
          name: "龙华区"
        },
        {
          code: "440310",
          name: "坪山区"
        },
        {
          code: "440311",
          name: "光明区"
        }
      ],
      [
        {
          code: "440402",
          name: "香洲区"
        },
        {
          code: "440403",
          name: "斗门区"
        },
        {
          code: "440404",
          name: "金湾区"
        }
      ],
      [
        {
          code: "440507",
          name: "龙湖区"
        },
        {
          code: "440511",
          name: "金平区"
        },
        {
          code: "440512",
          name: "濠江区"
        },
        {
          code: "440513",
          name: "潮阳区"
        },
        {
          code: "440514",
          name: "潮南区"
        },
        {
          code: "440515",
          name: "澄海区"
        },
        {
          code: "440523",
          name: "南澳县"
        }
      ],
      [
        {
          code: "440604",
          name: "禅城区"
        },
        {
          code: "440605",
          name: "南海区"
        },
        {
          code: "440606",
          name: "顺德区"
        },
        {
          code: "440607",
          name: "三水区"
        },
        {
          code: "440608",
          name: "高明区"
        }
      ],
      [
        {
          code: "440703",
          name: "蓬江区"
        },
        {
          code: "440704",
          name: "江海区"
        },
        {
          code: "440705",
          name: "新会区"
        },
        {
          code: "440781",
          name: "台山市"
        },
        {
          code: "440783",
          name: "开平市"
        },
        {
          code: "440784",
          name: "鹤山市"
        },
        {
          code: "440785",
          name: "恩平市"
        }
      ],
      [
        {
          code: "440802",
          name: "赤坎区"
        },
        {
          code: "440803",
          name: "霞山区"
        },
        {
          code: "440804",
          name: "坡头区"
        },
        {
          code: "440811",
          name: "麻章区"
        },
        {
          code: "440823",
          name: "遂溪县"
        },
        {
          code: "440825",
          name: "徐闻县"
        },
        {
          code: "440881",
          name: "廉江市"
        },
        {
          code: "440882",
          name: "雷州市"
        },
        {
          code: "440883",
          name: "吴川市"
        }
      ],
      [
        {
          code: "440902",
          name: "茂南区"
        },
        {
          code: "440904",
          name: "电白区"
        },
        {
          code: "440981",
          name: "高州市"
        },
        {
          code: "440982",
          name: "化州市"
        },
        {
          code: "440983",
          name: "信宜市"
        }
      ],
      [
        {
          code: "441202",
          name: "端州区"
        },
        {
          code: "441203",
          name: "鼎湖区"
        },
        {
          code: "441204",
          name: "高要区"
        },
        {
          code: "441223",
          name: "广宁县"
        },
        {
          code: "441224",
          name: "怀集县"
        },
        {
          code: "441225",
          name: "封开县"
        },
        {
          code: "441226",
          name: "德庆县"
        },
        {
          code: "441284",
          name: "四会市"
        }
      ],
      [
        {
          code: "441302",
          name: "惠城区"
        },
        {
          code: "441303",
          name: "惠阳区"
        },
        {
          code: "441322",
          name: "博罗县"
        },
        {
          code: "441323",
          name: "惠东县"
        },
        {
          code: "441324",
          name: "龙门县"
        }
      ],
      [
        {
          code: "441402",
          name: "梅江区"
        },
        {
          code: "441403",
          name: "梅县区"
        },
        {
          code: "441422",
          name: "大埔县"
        },
        {
          code: "441423",
          name: "丰顺县"
        },
        {
          code: "441424",
          name: "五华县"
        },
        {
          code: "441426",
          name: "平远县"
        },
        {
          code: "441427",
          name: "蕉岭县"
        },
        {
          code: "441481",
          name: "兴宁市"
        }
      ],
      [
        {
          code: "441502",
          name: "城区"
        },
        {
          code: "441521",
          name: "海丰县"
        },
        {
          code: "441523",
          name: "陆河县"
        },
        {
          code: "441581",
          name: "陆丰市"
        }
      ],
      [
        {
          code: "441602",
          name: "源城区"
        },
        {
          code: "441621",
          name: "紫金县"
        },
        {
          code: "441622",
          name: "龙川县"
        },
        {
          code: "441623",
          name: "连平县"
        },
        {
          code: "441624",
          name: "和平县"
        },
        {
          code: "441625",
          name: "东源县"
        }
      ],
      [
        {
          code: "441702",
          name: "江城区"
        },
        {
          code: "441704",
          name: "阳东区"
        },
        {
          code: "441721",
          name: "阳西县"
        },
        {
          code: "441781",
          name: "阳春市"
        }
      ],
      [
        {
          code: "441802",
          name: "清城区"
        },
        {
          code: "441803",
          name: "清新区"
        },
        {
          code: "441821",
          name: "佛冈县"
        },
        {
          code: "441823",
          name: "阳山县"
        },
        {
          code: "441825",
          name: "连山壮族瑶族自治县"
        },
        {
          code: "441826",
          name: "连南瑶族自治县"
        },
        {
          code: "441881",
          name: "英德市"
        },
        {
          code: "441882",
          name: "连州市"
        }
      ],
      [
        {
          code: "441999",
          name: "东莞市"
        }
      ],
      [
        {
          code: "442099",
          name: "中山市"
        }
      ],
      [
        {
          code: "445102",
          name: "湘桥区"
        },
        {
          code: "445103",
          name: "潮安区"
        },
        {
          code: "445122",
          name: "饶平县"
        }
      ],
      [
        {
          code: "445202",
          name: "榕城区"
        },
        {
          code: "445203",
          name: "揭东区"
        },
        {
          code: "445222",
          name: "揭西县"
        },
        {
          code: "445224",
          name: "惠来县"
        },
        {
          code: "445281",
          name: "普宁市"
        }
      ],
      [
        {
          code: "445302",
          name: "云城区"
        },
        {
          code: "445303",
          name: "云安区"
        },
        {
          code: "445321",
          name: "新兴县"
        },
        {
          code: "445322",
          name: "郁南县"
        },
        {
          code: "445381",
          name: "罗定市"
        }
      ]
    ],
    [
      [
        {
          code: "450102",
          name: "兴宁区"
        },
        {
          code: "450103",
          name: "青秀区"
        },
        {
          code: "450105",
          name: "江南区"
        },
        {
          code: "450107",
          name: "西乡塘区"
        },
        {
          code: "450108",
          name: "良庆区"
        },
        {
          code: "450109",
          name: "邕宁区"
        },
        {
          code: "450110",
          name: "武鸣区"
        },
        {
          code: "450123",
          name: "隆安县"
        },
        {
          code: "450124",
          name: "马山县"
        },
        {
          code: "450125",
          name: "上林县"
        },
        {
          code: "450126",
          name: "宾阳县"
        },
        {
          code: "450181",
          name: "横州市"
        }
      ],
      [
        {
          code: "450202",
          name: "城中区"
        },
        {
          code: "450203",
          name: "鱼峰区"
        },
        {
          code: "450204",
          name: "柳南区"
        },
        {
          code: "450205",
          name: "柳北区"
        },
        {
          code: "450206",
          name: "柳江区"
        },
        {
          code: "450222",
          name: "柳城县"
        },
        {
          code: "450223",
          name: "鹿寨县"
        },
        {
          code: "450224",
          name: "融安县"
        },
        {
          code: "450225",
          name: "融水苗族自治县"
        },
        {
          code: "450226",
          name: "三江侗族自治县"
        }
      ],
      [
        {
          code: "450302",
          name: "秀峰区"
        },
        {
          code: "450303",
          name: "叠彩区"
        },
        {
          code: "450304",
          name: "象山区"
        },
        {
          code: "450305",
          name: "七星区"
        },
        {
          code: "450311",
          name: "雁山区"
        },
        {
          code: "450312",
          name: "临桂区"
        },
        {
          code: "450321",
          name: "阳朔县"
        },
        {
          code: "450323",
          name: "灵川县"
        },
        {
          code: "450324",
          name: "全州县"
        },
        {
          code: "450325",
          name: "兴安县"
        },
        {
          code: "450326",
          name: "永福县"
        },
        {
          code: "450327",
          name: "灌阳县"
        },
        {
          code: "450328",
          name: "龙胜各族自治县"
        },
        {
          code: "450329",
          name: "资源县"
        },
        {
          code: "450330",
          name: "平乐县"
        },
        {
          code: "450332",
          name: "恭城瑶族自治县"
        },
        {
          code: "450381",
          name: "荔浦市"
        }
      ],
      [
        {
          code: "450403",
          name: "万秀区"
        },
        {
          code: "450405",
          name: "长洲区"
        },
        {
          code: "450406",
          name: "龙圩区"
        },
        {
          code: "450421",
          name: "苍梧县"
        },
        {
          code: "450422",
          name: "藤县"
        },
        {
          code: "450423",
          name: "蒙山县"
        },
        {
          code: "450481",
          name: "岑溪市"
        }
      ],
      [
        {
          code: "450502",
          name: "海城区"
        },
        {
          code: "450503",
          name: "银海区"
        },
        {
          code: "450512",
          name: "铁山港区"
        },
        {
          code: "450521",
          name: "合浦县"
        }
      ],
      [
        {
          code: "450602",
          name: "港口区"
        },
        {
          code: "450603",
          name: "防城区"
        },
        {
          code: "450621",
          name: "上思县"
        },
        {
          code: "450681",
          name: "东兴市"
        }
      ],
      [
        {
          code: "450702",
          name: "钦南区"
        },
        {
          code: "450703",
          name: "钦北区"
        },
        {
          code: "450721",
          name: "灵山县"
        },
        {
          code: "450722",
          name: "浦北县"
        }
      ],
      [
        {
          code: "450802",
          name: "港北区"
        },
        {
          code: "450803",
          name: "港南区"
        },
        {
          code: "450804",
          name: "覃塘区"
        },
        {
          code: "450821",
          name: "平南县"
        },
        {
          code: "450881",
          name: "桂平市"
        }
      ],
      [
        {
          code: "450902",
          name: "玉州区"
        },
        {
          code: "450903",
          name: "福绵区"
        },
        {
          code: "450921",
          name: "容县"
        },
        {
          code: "450922",
          name: "陆川县"
        },
        {
          code: "450923",
          name: "博白县"
        },
        {
          code: "450924",
          name: "兴业县"
        },
        {
          code: "450981",
          name: "北流市"
        }
      ],
      [
        {
          code: "451002",
          name: "右江区"
        },
        {
          code: "451003",
          name: "田阳区"
        },
        {
          code: "451022",
          name: "田东县"
        },
        {
          code: "451024",
          name: "德保县"
        },
        {
          code: "451026",
          name: "那坡县"
        },
        {
          code: "451027",
          name: "凌云县"
        },
        {
          code: "451028",
          name: "乐业县"
        },
        {
          code: "451029",
          name: "田林县"
        },
        {
          code: "451030",
          name: "西林县"
        },
        {
          code: "451031",
          name: "隆林各族自治县"
        },
        {
          code: "451081",
          name: "靖西市"
        },
        {
          code: "451082",
          name: "平果市"
        }
      ],
      [
        {
          code: "451102",
          name: "八步区"
        },
        {
          code: "451103",
          name: "平桂区"
        },
        {
          code: "451121",
          name: "昭平县"
        },
        {
          code: "451122",
          name: "钟山县"
        },
        {
          code: "451123",
          name: "富川瑶族自治县"
        }
      ],
      [
        {
          code: "451202",
          name: "金城江区"
        },
        {
          code: "451203",
          name: "宜州区"
        },
        {
          code: "451221",
          name: "南丹县"
        },
        {
          code: "451222",
          name: "天峨县"
        },
        {
          code: "451223",
          name: "凤山县"
        },
        {
          code: "451224",
          name: "东兰县"
        },
        {
          code: "451225",
          name: "罗城仫佬族自治县"
        },
        {
          code: "451226",
          name: "环江毛南族自治县"
        },
        {
          code: "451227",
          name: "巴马瑶族自治县"
        },
        {
          code: "451228",
          name: "都安瑶族自治县"
        },
        {
          code: "451229",
          name: "大化瑶族自治县"
        }
      ],
      [
        {
          code: "451302",
          name: "兴宾区"
        },
        {
          code: "451321",
          name: "忻城县"
        },
        {
          code: "451322",
          name: "象州县"
        },
        {
          code: "451323",
          name: "武宣县"
        },
        {
          code: "451324",
          name: "金秀瑶族自治县"
        },
        {
          code: "451381",
          name: "合山市"
        }
      ],
      [
        {
          code: "451402",
          name: "江州区"
        },
        {
          code: "451421",
          name: "扶绥县"
        },
        {
          code: "451422",
          name: "宁明县"
        },
        {
          code: "451423",
          name: "龙州县"
        },
        {
          code: "451424",
          name: "大新县"
        },
        {
          code: "451425",
          name: "天等县"
        },
        {
          code: "451481",
          name: "凭祥市"
        }
      ]
    ],
    [
      [
        {
          code: "460105",
          name: "秀英区"
        },
        {
          code: "460106",
          name: "龙华区"
        },
        {
          code: "460107",
          name: "琼山区"
        },
        {
          code: "460108",
          name: "美兰区"
        }
      ],
      [
        {
          code: "460202",
          name: "海棠区"
        },
        {
          code: "460203",
          name: "吉阳区"
        },
        {
          code: "460204",
          name: "天涯区"
        },
        {
          code: "460205",
          name: "崖州区"
        }
      ],
      [
        {
          code: "460321",
          name: "西沙群岛"
        },
        {
          code: "460322",
          name: "南沙群岛"
        },
        {
          code: "460323",
          name: "中沙群岛"
        }
      ],
      [
        {
          code: "460499",
          name: "儋州市"
        }
      ],
      [
        {
          code: "46900101",
          name: "五指山市"
        }
      ],
      [
        {
          code: "46900201",
          name: "琼海市"
        }
      ],
      [
        {
          code: "46900501",
          name: "文昌市"
        }
      ],
      [
        {
          code: "46900601",
          name: "万宁市"
        }
      ],
      [
        {
          code: "46900701",
          name: "东方市"
        }
      ],
      [
        {
          code: "46902101",
          name: "定安县"
        }
      ],
      [
        {
          code: "46902201",
          name: "屯昌县"
        }
      ],
      [
        {
          code: "46902301",
          name: "澄迈县"
        }
      ],
      [
        {
          code: "46902401",
          name: "临高县"
        }
      ],
      [
        {
          code: "46902501",
          name: "白沙黎族自治县"
        }
      ],
      [
        {
          code: "46902601",
          name: "昌江黎族自治县"
        }
      ],
      [
        {
          code: "46902701",
          name: "乐东黎族自治县"
        }
      ],
      [
        {
          code: "46902801",
          name: "陵水黎族自治县"
        }
      ],
      [
        {
          code: "46902901",
          name: "保亭黎族苗族自治县"
        }
      ],
      [
        {
          code: "46903001",
          name: "琼中黎族苗族自治县"
        }
      ]
    ],
    [
      [
        {
          code: "500101",
          name: "万州区"
        },
        {
          code: "500102",
          name: "涪陵区"
        },
        {
          code: "500103",
          name: "渝中区"
        },
        {
          code: "500104",
          name: "大渡口区"
        },
        {
          code: "500105",
          name: "江北区"
        },
        {
          code: "500106",
          name: "沙坪坝区"
        },
        {
          code: "500107",
          name: "九龙坡区"
        },
        {
          code: "500108",
          name: "南岸区"
        },
        {
          code: "500109",
          name: "北碚区"
        },
        {
          code: "500110",
          name: "綦江区"
        },
        {
          code: "500111",
          name: "大足区"
        },
        {
          code: "500112",
          name: "渝北区"
        },
        {
          code: "500113",
          name: "巴南区"
        },
        {
          code: "500114",
          name: "黔江区"
        },
        {
          code: "500115",
          name: "长寿区"
        },
        {
          code: "500116",
          name: "江津区"
        },
        {
          code: "500117",
          name: "合川区"
        },
        {
          code: "500118",
          name: "永川区"
        },
        {
          code: "500119",
          name: "南川区"
        },
        {
          code: "500120",
          name: "璧山区"
        },
        {
          code: "500151",
          name: "铜梁区"
        },
        {
          code: "500152",
          name: "潼南区"
        },
        {
          code: "500153",
          name: "荣昌区"
        },
        {
          code: "500154",
          name: "开州区"
        },
        {
          code: "500155",
          name: "梁平区"
        },
        {
          code: "500156",
          name: "武隆区"
        },
        {
          code: "500229",
          name: "城口县"
        },
        {
          code: "500230",
          name: "丰都县"
        },
        {
          code: "500231",
          name: "垫江县"
        },
        {
          code: "500233",
          name: "忠县"
        },
        {
          code: "500235",
          name: "云阳县"
        },
        {
          code: "500236",
          name: "奉节县"
        },
        {
          code: "500237",
          name: "巫山县"
        },
        {
          code: "500238",
          name: "巫溪县"
        },
        {
          code: "500240",
          name: "石柱土家族自治县"
        },
        {
          code: "500241",
          name: "秀山土家族苗族自治县"
        },
        {
          code: "500242",
          name: "酉阳土家族苗族自治县"
        },
        {
          code: "500243",
          name: "彭水苗族土家族自治县"
        }
      ]
    ],
    [
      [
        {
          code: "510104",
          name: "锦江区"
        },
        {
          code: "510105",
          name: "青羊区"
        },
        {
          code: "510106",
          name: "金牛区"
        },
        {
          code: "510107",
          name: "武侯区"
        },
        {
          code: "510108",
          name: "成华区"
        },
        {
          code: "510112",
          name: "龙泉驿区"
        },
        {
          code: "510113",
          name: "青白江区"
        },
        {
          code: "510114",
          name: "新都区"
        },
        {
          code: "510115",
          name: "温江区"
        },
        {
          code: "510116",
          name: "双流区"
        },
        {
          code: "510117",
          name: "郫都区"
        },
        {
          code: "510118",
          name: "新津区"
        },
        {
          code: "510121",
          name: "金堂县"
        },
        {
          code: "510129",
          name: "大邑县"
        },
        {
          code: "510131",
          name: "蒲江县"
        },
        {
          code: "510181",
          name: "都江堰市"
        },
        {
          code: "510182",
          name: "彭州市"
        },
        {
          code: "510183",
          name: "邛崃市"
        },
        {
          code: "510184",
          name: "崇州市"
        },
        {
          code: "510185",
          name: "简阳市"
        }
      ],
      [
        {
          code: "510302",
          name: "自流井区"
        },
        {
          code: "510303",
          name: "贡井区"
        },
        {
          code: "510304",
          name: "大安区"
        },
        {
          code: "510311",
          name: "沿滩区"
        },
        {
          code: "510321",
          name: "荣县"
        },
        {
          code: "510322",
          name: "富顺县"
        }
      ],
      [
        {
          code: "510402",
          name: "东区"
        },
        {
          code: "510403",
          name: "西区"
        },
        {
          code: "510411",
          name: "仁和区"
        },
        {
          code: "510421",
          name: "米易县"
        },
        {
          code: "510422",
          name: "盐边县"
        }
      ],
      [
        {
          code: "510502",
          name: "江阳区"
        },
        {
          code: "510503",
          name: "纳溪区"
        },
        {
          code: "510504",
          name: "龙马潭区"
        },
        {
          code: "510521",
          name: "泸县"
        },
        {
          code: "510522",
          name: "合江县"
        },
        {
          code: "510524",
          name: "叙永县"
        },
        {
          code: "510525",
          name: "古蔺县"
        }
      ],
      [
        {
          code: "510603",
          name: "旌阳区"
        },
        {
          code: "510604",
          name: "罗江区"
        },
        {
          code: "510623",
          name: "中江县"
        },
        {
          code: "510681",
          name: "广汉市"
        },
        {
          code: "510682",
          name: "什邡市"
        },
        {
          code: "510683",
          name: "绵竹市"
        }
      ],
      [
        {
          code: "510703",
          name: "涪城区"
        },
        {
          code: "510704",
          name: "游仙区"
        },
        {
          code: "510705",
          name: "安州区"
        },
        {
          code: "510722",
          name: "三台县"
        },
        {
          code: "510723",
          name: "盐亭县"
        },
        {
          code: "510725",
          name: "梓潼县"
        },
        {
          code: "510726",
          name: "北川羌族自治县"
        },
        {
          code: "510727",
          name: "平武县"
        },
        {
          code: "510781",
          name: "江油市"
        }
      ],
      [
        {
          code: "510802",
          name: "利州区"
        },
        {
          code: "510811",
          name: "昭化区"
        },
        {
          code: "510812",
          name: "朝天区"
        },
        {
          code: "510821",
          name: "旺苍县"
        },
        {
          code: "510822",
          name: "青川县"
        },
        {
          code: "510823",
          name: "剑阁县"
        },
        {
          code: "510824",
          name: "苍溪县"
        }
      ],
      [
        {
          code: "510903",
          name: "船山区"
        },
        {
          code: "510904",
          name: "安居区"
        },
        {
          code: "510921",
          name: "蓬溪县"
        },
        {
          code: "510923",
          name: "大英县"
        },
        {
          code: "510981",
          name: "射洪市"
        }
      ],
      [
        {
          code: "511002",
          name: "市中区"
        },
        {
          code: "511011",
          name: "东兴区"
        },
        {
          code: "511024",
          name: "威远县"
        },
        {
          code: "511025",
          name: "资中县"
        },
        {
          code: "511083",
          name: "隆昌市"
        }
      ],
      [
        {
          code: "511102",
          name: "市中区"
        },
        {
          code: "511111",
          name: "沙湾区"
        },
        {
          code: "511112",
          name: "五通桥区"
        },
        {
          code: "511113",
          name: "金口河区"
        },
        {
          code: "511123",
          name: "犍为县"
        },
        {
          code: "511124",
          name: "井研县"
        },
        {
          code: "511126",
          name: "夹江县"
        },
        {
          code: "511129",
          name: "沐川县"
        },
        {
          code: "511132",
          name: "峨边彝族自治县"
        },
        {
          code: "511133",
          name: "马边彝族自治县"
        },
        {
          code: "511181",
          name: "峨眉山市"
        }
      ],
      [
        {
          code: "511302",
          name: "顺庆区"
        },
        {
          code: "511303",
          name: "高坪区"
        },
        {
          code: "511304",
          name: "嘉陵区"
        },
        {
          code: "511321",
          name: "南部县"
        },
        {
          code: "511322",
          name: "营山县"
        },
        {
          code: "511323",
          name: "蓬安县"
        },
        {
          code: "511324",
          name: "仪陇县"
        },
        {
          code: "511325",
          name: "西充县"
        },
        {
          code: "511381",
          name: "阆中市"
        }
      ],
      [
        {
          code: "511402",
          name: "东坡区"
        },
        {
          code: "511403",
          name: "彭山区"
        },
        {
          code: "511421",
          name: "仁寿县"
        },
        {
          code: "511423",
          name: "洪雅县"
        },
        {
          code: "511424",
          name: "丹棱县"
        },
        {
          code: "511425",
          name: "青神县"
        }
      ],
      [
        {
          code: "511502",
          name: "翠屏区"
        },
        {
          code: "511503",
          name: "南溪区"
        },
        {
          code: "511504",
          name: "叙州区"
        },
        {
          code: "511523",
          name: "江安县"
        },
        {
          code: "511524",
          name: "长宁县"
        },
        {
          code: "511525",
          name: "高县"
        },
        {
          code: "511526",
          name: "珙县"
        },
        {
          code: "511527",
          name: "筠连县"
        },
        {
          code: "511528",
          name: "兴文县"
        },
        {
          code: "511529",
          name: "屏山县"
        }
      ],
      [
        {
          code: "511602",
          name: "广安区"
        },
        {
          code: "511603",
          name: "前锋区"
        },
        {
          code: "511621",
          name: "岳池县"
        },
        {
          code: "511622",
          name: "武胜县"
        },
        {
          code: "511623",
          name: "邻水县"
        },
        {
          code: "511681",
          name: "华蓥市"
        }
      ],
      [
        {
          code: "511702",
          name: "通川区"
        },
        {
          code: "511703",
          name: "达川区"
        },
        {
          code: "511722",
          name: "宣汉县"
        },
        {
          code: "511723",
          name: "开江县"
        },
        {
          code: "511724",
          name: "大竹县"
        },
        {
          code: "511725",
          name: "渠县"
        },
        {
          code: "511781",
          name: "万源市"
        }
      ],
      [
        {
          code: "511802",
          name: "雨城区"
        },
        {
          code: "511803",
          name: "名山区"
        },
        {
          code: "511822",
          name: "荥经县"
        },
        {
          code: "511823",
          name: "汉源县"
        },
        {
          code: "511824",
          name: "石棉县"
        },
        {
          code: "511825",
          name: "天全县"
        },
        {
          code: "511826",
          name: "芦山县"
        },
        {
          code: "511827",
          name: "宝兴县"
        }
      ],
      [
        {
          code: "511902",
          name: "巴州区"
        },
        {
          code: "511903",
          name: "恩阳区"
        },
        {
          code: "511921",
          name: "通江县"
        },
        {
          code: "511922",
          name: "南江县"
        },
        {
          code: "511923",
          name: "平昌县"
        }
      ],
      [
        {
          code: "512002",
          name: "雁江区"
        },
        {
          code: "512021",
          name: "安岳县"
        },
        {
          code: "512022",
          name: "乐至县"
        }
      ],
      [
        {
          code: "513201",
          name: "马尔康市"
        },
        {
          code: "513221",
          name: "汶川县"
        },
        {
          code: "513222",
          name: "理县"
        },
        {
          code: "513223",
          name: "茂县"
        },
        {
          code: "513224",
          name: "松潘县"
        },
        {
          code: "513225",
          name: "九寨沟县"
        },
        {
          code: "513226",
          name: "金川县"
        },
        {
          code: "513227",
          name: "小金县"
        },
        {
          code: "513228",
          name: "黑水县"
        },
        {
          code: "513230",
          name: "壤塘县"
        },
        {
          code: "513231",
          name: "阿坝县"
        },
        {
          code: "513232",
          name: "若尔盖县"
        },
        {
          code: "513233",
          name: "红原县"
        }
      ],
      [
        {
          code: "513301",
          name: "康定市"
        },
        {
          code: "513322",
          name: "泸定县"
        },
        {
          code: "513323",
          name: "丹巴县"
        },
        {
          code: "513324",
          name: "九龙县"
        },
        {
          code: "513325",
          name: "雅江县"
        },
        {
          code: "513326",
          name: "道孚县"
        },
        {
          code: "513327",
          name: "炉霍县"
        },
        {
          code: "513328",
          name: "甘孜县"
        },
        {
          code: "513329",
          name: "新龙县"
        },
        {
          code: "513330",
          name: "德格县"
        },
        {
          code: "513331",
          name: "白玉县"
        },
        {
          code: "513332",
          name: "石渠县"
        },
        {
          code: "513333",
          name: "色达县"
        },
        {
          code: "513334",
          name: "理塘县"
        },
        {
          code: "513335",
          name: "巴塘县"
        },
        {
          code: "513336",
          name: "乡城县"
        },
        {
          code: "513337",
          name: "稻城县"
        },
        {
          code: "513338",
          name: "得荣县"
        }
      ],
      [
        {
          code: "513401",
          name: "西昌市"
        },
        {
          code: "513402",
          name: "会理市"
        },
        {
          code: "513422",
          name: "木里藏族自治县"
        },
        {
          code: "513423",
          name: "盐源县"
        },
        {
          code: "513424",
          name: "德昌县"
        },
        {
          code: "513426",
          name: "会东县"
        },
        {
          code: "513427",
          name: "宁南县"
        },
        {
          code: "513428",
          name: "普格县"
        },
        {
          code: "513429",
          name: "布拖县"
        },
        {
          code: "513430",
          name: "金阳县"
        },
        {
          code: "513431",
          name: "昭觉县"
        },
        {
          code: "513432",
          name: "喜德县"
        },
        {
          code: "513433",
          name: "冕宁县"
        },
        {
          code: "513434",
          name: "越西县"
        },
        {
          code: "513435",
          name: "甘洛县"
        },
        {
          code: "513436",
          name: "美姑县"
        },
        {
          code: "513437",
          name: "雷波县"
        }
      ]
    ],
    [
      [
        {
          code: "520102",
          name: "南明区"
        },
        {
          code: "520103",
          name: "云岩区"
        },
        {
          code: "520111",
          name: "花溪区"
        },
        {
          code: "520112",
          name: "乌当区"
        },
        {
          code: "520113",
          name: "白云区"
        },
        {
          code: "520115",
          name: "观山湖区"
        },
        {
          code: "520121",
          name: "开阳县"
        },
        {
          code: "520122",
          name: "息烽县"
        },
        {
          code: "520123",
          name: "修文县"
        },
        {
          code: "520181",
          name: "清镇市"
        }
      ],
      [
        {
          code: "520201",
          name: "钟山区"
        },
        {
          code: "520203",
          name: "六枝特区"
        },
        {
          code: "520204",
          name: "水城区"
        },
        {
          code: "520281",
          name: "盘州市"
        }
      ],
      [
        {
          code: "520302",
          name: "红花岗区"
        },
        {
          code: "520303",
          name: "汇川区"
        },
        {
          code: "520304",
          name: "播州区"
        },
        {
          code: "520322",
          name: "桐梓县"
        },
        {
          code: "520323",
          name: "绥阳县"
        },
        {
          code: "520324",
          name: "正安县"
        },
        {
          code: "520325",
          name: "道真仡佬族苗族自治县"
        },
        {
          code: "520326",
          name: "务川仡佬族苗族自治县"
        },
        {
          code: "520327",
          name: "凤冈县"
        },
        {
          code: "520328",
          name: "湄潭县"
        },
        {
          code: "520329",
          name: "余庆县"
        },
        {
          code: "520330",
          name: "习水县"
        },
        {
          code: "520381",
          name: "赤水市"
        },
        {
          code: "520382",
          name: "仁怀市"
        }
      ],
      [
        {
          code: "520402",
          name: "西秀区"
        },
        {
          code: "520403",
          name: "平坝区"
        },
        {
          code: "520422",
          name: "普定县"
        },
        {
          code: "520423",
          name: "镇宁布依族苗族自治县"
        },
        {
          code: "520424",
          name: "关岭布依族苗族自治县"
        },
        {
          code: "520425",
          name: "紫云苗族布依族自治县"
        }
      ],
      [
        {
          code: "520502",
          name: "七星关区"
        },
        {
          code: "520521",
          name: "大方县"
        },
        {
          code: "520523",
          name: "金沙县"
        },
        {
          code: "520524",
          name: "织金县"
        },
        {
          code: "520525",
          name: "纳雍县"
        },
        {
          code: "520526",
          name: "威宁彝族回族苗族自治县"
        },
        {
          code: "520527",
          name: "赫章县"
        },
        {
          code: "520581",
          name: "黔西市"
        }
      ],
      [
        {
          code: "520602",
          name: "碧江区"
        },
        {
          code: "520603",
          name: "万山区"
        },
        {
          code: "520621",
          name: "江口县"
        },
        {
          code: "520622",
          name: "玉屏侗族自治县"
        },
        {
          code: "520623",
          name: "石阡县"
        },
        {
          code: "520624",
          name: "思南县"
        },
        {
          code: "520625",
          name: "印江土家族苗族自治县"
        },
        {
          code: "520626",
          name: "德江县"
        },
        {
          code: "520627",
          name: "沿河土家族自治县"
        },
        {
          code: "520628",
          name: "松桃苗族自治县"
        }
      ],
      [
        {
          code: "522301",
          name: "兴义市"
        },
        {
          code: "522302",
          name: "兴仁市"
        },
        {
          code: "522323",
          name: "普安县"
        },
        {
          code: "522324",
          name: "晴隆县"
        },
        {
          code: "522325",
          name: "贞丰县"
        },
        {
          code: "522326",
          name: "望谟县"
        },
        {
          code: "522327",
          name: "册亨县"
        },
        {
          code: "522328",
          name: "安龙县"
        }
      ],
      [
        {
          code: "522601",
          name: "凯里市"
        },
        {
          code: "522622",
          name: "黄平县"
        },
        {
          code: "522623",
          name: "施秉县"
        },
        {
          code: "522624",
          name: "三穗县"
        },
        {
          code: "522625",
          name: "镇远县"
        },
        {
          code: "522626",
          name: "岑巩县"
        },
        {
          code: "522627",
          name: "天柱县"
        },
        {
          code: "522628",
          name: "锦屏县"
        },
        {
          code: "522629",
          name: "剑河县"
        },
        {
          code: "522630",
          name: "台江县"
        },
        {
          code: "522631",
          name: "黎平县"
        },
        {
          code: "522632",
          name: "榕江县"
        },
        {
          code: "522633",
          name: "从江县"
        },
        {
          code: "522634",
          name: "雷山县"
        },
        {
          code: "522635",
          name: "麻江县"
        },
        {
          code: "522636",
          name: "丹寨县"
        }
      ],
      [
        {
          code: "522701",
          name: "都匀市"
        },
        {
          code: "522702",
          name: "福泉市"
        },
        {
          code: "522722",
          name: "荔波县"
        },
        {
          code: "522723",
          name: "贵定县"
        },
        {
          code: "522725",
          name: "瓮安县"
        },
        {
          code: "522726",
          name: "独山县"
        },
        {
          code: "522727",
          name: "平塘县"
        },
        {
          code: "522728",
          name: "罗甸县"
        },
        {
          code: "522729",
          name: "长顺县"
        },
        {
          code: "522730",
          name: "龙里县"
        },
        {
          code: "522731",
          name: "惠水县"
        },
        {
          code: "522732",
          name: "三都水族自治县"
        }
      ]
    ],
    [
      [
        {
          code: "530102",
          name: "五华区"
        },
        {
          code: "530103",
          name: "盘龙区"
        },
        {
          code: "530111",
          name: "官渡区"
        },
        {
          code: "530112",
          name: "西山区"
        },
        {
          code: "530113",
          name: "东川区"
        },
        {
          code: "530114",
          name: "呈贡区"
        },
        {
          code: "530115",
          name: "晋宁区"
        },
        {
          code: "530124",
          name: "富民县"
        },
        {
          code: "530125",
          name: "宜良县"
        },
        {
          code: "530126",
          name: "石林彝族自治县"
        },
        {
          code: "530127",
          name: "嵩明县"
        },
        {
          code: "530128",
          name: "禄劝彝族苗族自治县"
        },
        {
          code: "530129",
          name: "寻甸回族彝族自治县"
        },
        {
          code: "530181",
          name: "安宁市"
        }
      ],
      [
        {
          code: "530302",
          name: "麒麟区"
        },
        {
          code: "530303",
          name: "沾益区"
        },
        {
          code: "530304",
          name: "马龙区"
        },
        {
          code: "530322",
          name: "陆良县"
        },
        {
          code: "530323",
          name: "师宗县"
        },
        {
          code: "530324",
          name: "罗平县"
        },
        {
          code: "530325",
          name: "富源县"
        },
        {
          code: "530326",
          name: "会泽县"
        },
        {
          code: "530381",
          name: "宣威市"
        }
      ],
      [
        {
          code: "530402",
          name: "红塔区"
        },
        {
          code: "530403",
          name: "江川区"
        },
        {
          code: "530423",
          name: "通海县"
        },
        {
          code: "530424",
          name: "华宁县"
        },
        {
          code: "530425",
          name: "易门县"
        },
        {
          code: "530426",
          name: "峨山彝族自治县"
        },
        {
          code: "530427",
          name: "新平彝族傣族自治县"
        },
        {
          code: "530428",
          name: "元江哈尼族彝族傣族自治县"
        },
        {
          code: "530481",
          name: "澄江市"
        }
      ],
      [
        {
          code: "530502",
          name: "隆阳区"
        },
        {
          code: "530521",
          name: "施甸县"
        },
        {
          code: "530523",
          name: "龙陵县"
        },
        {
          code: "530524",
          name: "昌宁县"
        },
        {
          code: "530581",
          name: "腾冲市"
        }
      ],
      [
        {
          code: "530602",
          name: "昭阳区"
        },
        {
          code: "530621",
          name: "鲁甸县"
        },
        {
          code: "530622",
          name: "巧家县"
        },
        {
          code: "530623",
          name: "盐津县"
        },
        {
          code: "530624",
          name: "大关县"
        },
        {
          code: "530625",
          name: "永善县"
        },
        {
          code: "530626",
          name: "绥江县"
        },
        {
          code: "530627",
          name: "镇雄县"
        },
        {
          code: "530628",
          name: "彝良县"
        },
        {
          code: "530629",
          name: "威信县"
        },
        {
          code: "530681",
          name: "水富市"
        }
      ],
      [
        {
          code: "530702",
          name: "古城区"
        },
        {
          code: "530721",
          name: "玉龙纳西族自治县"
        },
        {
          code: "530722",
          name: "永胜县"
        },
        {
          code: "530723",
          name: "华坪县"
        },
        {
          code: "530724",
          name: "宁蒗彝族自治县"
        }
      ],
      [
        {
          code: "530802",
          name: "思茅区"
        },
        {
          code: "530821",
          name: "宁洱哈尼族彝族自治县"
        },
        {
          code: "530822",
          name: "墨江哈尼族自治县"
        },
        {
          code: "530823",
          name: "景东彝族自治县"
        },
        {
          code: "530824",
          name: "景谷傣族彝族自治县"
        },
        {
          code: "530825",
          name: "镇沅彝族哈尼族拉祜族自治县"
        },
        {
          code: "530826",
          name: "江城哈尼族彝族自治县"
        },
        {
          code: "530827",
          name: "孟连傣族拉祜族佤族自治县"
        },
        {
          code: "530828",
          name: "澜沧拉祜族自治县"
        },
        {
          code: "530829",
          name: "西盟佤族自治县"
        }
      ],
      [
        {
          code: "530902",
          name: "临翔区"
        },
        {
          code: "530921",
          name: "凤庆县"
        },
        {
          code: "530922",
          name: "云县"
        },
        {
          code: "530923",
          name: "永德县"
        },
        {
          code: "530924",
          name: "镇康县"
        },
        {
          code: "530925",
          name: "双江拉祜族佤族布朗族傣族自治县"
        },
        {
          code: "530926",
          name: "耿马傣族佤族自治县"
        },
        {
          code: "530927",
          name: "沧源佤族自治县"
        }
      ],
      [
        {
          code: "532301",
          name: "楚雄市"
        },
        {
          code: "532302",
          name: "禄丰市"
        },
        {
          code: "532322",
          name: "双柏县"
        },
        {
          code: "532323",
          name: "牟定县"
        },
        {
          code: "532324",
          name: "南华县"
        },
        {
          code: "532325",
          name: "姚安县"
        },
        {
          code: "532326",
          name: "大姚县"
        },
        {
          code: "532327",
          name: "永仁县"
        },
        {
          code: "532328",
          name: "元谋县"
        },
        {
          code: "532329",
          name: "武定县"
        }
      ],
      [
        {
          code: "532501",
          name: "个旧市"
        },
        {
          code: "532502",
          name: "开远市"
        },
        {
          code: "532503",
          name: "蒙自市"
        },
        {
          code: "532504",
          name: "弥勒市"
        },
        {
          code: "532523",
          name: "屏边苗族自治县"
        },
        {
          code: "532524",
          name: "建水县"
        },
        {
          code: "532525",
          name: "石屏县"
        },
        {
          code: "532527",
          name: "泸西县"
        },
        {
          code: "532528",
          name: "元阳县"
        },
        {
          code: "532529",
          name: "红河县"
        },
        {
          code: "532530",
          name: "金平苗族瑶族傣族自治县"
        },
        {
          code: "532531",
          name: "绿春县"
        },
        {
          code: "532532",
          name: "河口瑶族自治县"
        }
      ],
      [
        {
          code: "532601",
          name: "文山市"
        },
        {
          code: "532622",
          name: "砚山县"
        },
        {
          code: "532623",
          name: "西畴县"
        },
        {
          code: "532624",
          name: "麻栗坡县"
        },
        {
          code: "532625",
          name: "马关县"
        },
        {
          code: "532626",
          name: "丘北县"
        },
        {
          code: "532627",
          name: "广南县"
        },
        {
          code: "532628",
          name: "富宁县"
        }
      ],
      [
        {
          code: "532801",
          name: "景洪市"
        },
        {
          code: "532822",
          name: "勐海县"
        },
        {
          code: "532823",
          name: "勐腊县"
        }
      ],
      [
        {
          code: "532901",
          name: "大理市"
        },
        {
          code: "532922",
          name: "漾濞彝族自治县"
        },
        {
          code: "532923",
          name: "祥云县"
        },
        {
          code: "532924",
          name: "宾川县"
        },
        {
          code: "532925",
          name: "弥渡县"
        },
        {
          code: "532926",
          name: "南涧彝族自治县"
        },
        {
          code: "532927",
          name: "巍山彝族回族自治县"
        },
        {
          code: "532928",
          name: "永平县"
        },
        {
          code: "532929",
          name: "云龙县"
        },
        {
          code: "532930",
          name: "洱源县"
        },
        {
          code: "532931",
          name: "剑川县"
        },
        {
          code: "532932",
          name: "鹤庆县"
        }
      ],
      [
        {
          code: "533102",
          name: "瑞丽市"
        },
        {
          code: "533103",
          name: "芒市"
        },
        {
          code: "533122",
          name: "梁河县"
        },
        {
          code: "533123",
          name: "盈江县"
        },
        {
          code: "533124",
          name: "陇川县"
        }
      ],
      [
        {
          code: "533301",
          name: "泸水市"
        },
        {
          code: "533323",
          name: "福贡县"
        },
        {
          code: "533324",
          name: "贡山独龙族怒族自治县"
        },
        {
          code: "533325",
          name: "兰坪白族普米族自治县"
        }
      ],
      [
        {
          code: "533401",
          name: "香格里拉市"
        },
        {
          code: "533422",
          name: "德钦县"
        },
        {
          code: "533423",
          name: "维西傈僳族自治县"
        }
      ]
    ],
    [
      [
        {
          code: "540102",
          name: "城关区"
        },
        {
          code: "540103",
          name: "堆龙德庆区"
        },
        {
          code: "540104",
          name: "达孜区"
        },
        {
          code: "540121",
          name: "林周县"
        },
        {
          code: "540122",
          name: "当雄县"
        },
        {
          code: "540123",
          name: "尼木县"
        },
        {
          code: "540124",
          name: "曲水县"
        },
        {
          code: "540127",
          name: "墨竹工卡县"
        }
      ],
      [
        {
          code: "540202",
          name: "桑珠孜区"
        },
        {
          code: "540221",
          name: "南木林县"
        },
        {
          code: "540222",
          name: "江孜县"
        },
        {
          code: "540223",
          name: "定日县"
        },
        {
          code: "540224",
          name: "萨迦县"
        },
        {
          code: "540225",
          name: "拉孜县"
        },
        {
          code: "540226",
          name: "昂仁县"
        },
        {
          code: "540227",
          name: "谢通门县"
        },
        {
          code: "540228",
          name: "白朗县"
        },
        {
          code: "540229",
          name: "仁布县"
        },
        {
          code: "540230",
          name: "康马县"
        },
        {
          code: "540231",
          name: "定结县"
        },
        {
          code: "540232",
          name: "仲巴县"
        },
        {
          code: "540233",
          name: "亚东县"
        },
        {
          code: "540234",
          name: "吉隆县"
        },
        {
          code: "540235",
          name: "聂拉木县"
        },
        {
          code: "540236",
          name: "萨嘎县"
        },
        {
          code: "540237",
          name: "岗巴县"
        }
      ],
      [
        {
          code: "540302",
          name: "卡若区"
        },
        {
          code: "540321",
          name: "江达县"
        },
        {
          code: "540322",
          name: "贡觉县"
        },
        {
          code: "540323",
          name: "类乌齐县"
        },
        {
          code: "540324",
          name: "丁青县"
        },
        {
          code: "540325",
          name: "察雅县"
        },
        {
          code: "540326",
          name: "八宿县"
        },
        {
          code: "540327",
          name: "左贡县"
        },
        {
          code: "540328",
          name: "芒康县"
        },
        {
          code: "540329",
          name: "洛隆县"
        },
        {
          code: "540330",
          name: "边坝县"
        }
      ],
      [
        {
          code: "540402",
          name: "巴宜区"
        },
        {
          code: "540421",
          name: "工布江达县"
        },
        {
          code: "540422",
          name: "米林市"
        },
        {
          code: "540423",
          name: "墨脱县"
        },
        {
          code: "540424",
          name: "波密县"
        },
        {
          code: "540425",
          name: "察隅县"
        },
        {
          code: "540426",
          name: "朗县"
        }
      ],
      [
        {
          code: "540502",
          name: "乃东区"
        },
        {
          code: "540521",
          name: "扎囊县"
        },
        {
          code: "540522",
          name: "贡嘎县"
        },
        {
          code: "540523",
          name: "桑日县"
        },
        {
          code: "540524",
          name: "琼结县"
        },
        {
          code: "540525",
          name: "曲松县"
        },
        {
          code: "540526",
          name: "措美县"
        },
        {
          code: "540527",
          name: "洛扎县"
        },
        {
          code: "540528",
          name: "加查县"
        },
        {
          code: "540529",
          name: "隆子县"
        },
        {
          code: "540530",
          name: "错那市"
        },
        {
          code: "540531",
          name: "浪卡子县"
        }
      ],
      [
        {
          code: "540602",
          name: "色尼区"
        },
        {
          code: "540621",
          name: "嘉黎县"
        },
        {
          code: "540622",
          name: "比如县"
        },
        {
          code: "540623",
          name: "聂荣县"
        },
        {
          code: "540624",
          name: "安多县"
        },
        {
          code: "540625",
          name: "申扎县"
        },
        {
          code: "540626",
          name: "索县"
        },
        {
          code: "540627",
          name: "班戈县"
        },
        {
          code: "540628",
          name: "巴青县"
        },
        {
          code: "540629",
          name: "尼玛县"
        },
        {
          code: "540630",
          name: "双湖县"
        }
      ],
      [
        {
          code: "542521",
          name: "普兰县"
        },
        {
          code: "542522",
          name: "札达县"
        },
        {
          code: "542523",
          name: "噶尔县"
        },
        {
          code: "542524",
          name: "日土县"
        },
        {
          code: "542525",
          name: "革吉县"
        },
        {
          code: "542526",
          name: "改则县"
        },
        {
          code: "542527",
          name: "措勤县"
        }
      ]
    ],
    [
      [
        {
          code: "610102",
          name: "新城区"
        },
        {
          code: "610103",
          name: "碑林区"
        },
        {
          code: "610104",
          name: "莲湖区"
        },
        {
          code: "610111",
          name: "灞桥区"
        },
        {
          code: "610112",
          name: "未央区"
        },
        {
          code: "610113",
          name: "雁塔区"
        },
        {
          code: "610114",
          name: "阎良区"
        },
        {
          code: "610115",
          name: "临潼区"
        },
        {
          code: "610116",
          name: "长安区"
        },
        {
          code: "610117",
          name: "高陵区"
        },
        {
          code: "610118",
          name: "鄠邑区"
        },
        {
          code: "610122",
          name: "蓝田县"
        },
        {
          code: "610124",
          name: "周至县"
        }
      ],
      [
        {
          code: "610202",
          name: "王益区"
        },
        {
          code: "610203",
          name: "印台区"
        },
        {
          code: "610204",
          name: "耀州区"
        },
        {
          code: "610222",
          name: "宜君县"
        }
      ],
      [
        {
          code: "610302",
          name: "渭滨区"
        },
        {
          code: "610303",
          name: "金台区"
        },
        {
          code: "610304",
          name: "陈仓区"
        },
        {
          code: "610305",
          name: "凤翔区"
        },
        {
          code: "610323",
          name: "岐山县"
        },
        {
          code: "610324",
          name: "扶风县"
        },
        {
          code: "610326",
          name: "眉县"
        },
        {
          code: "610327",
          name: "陇县"
        },
        {
          code: "610328",
          name: "千阳县"
        },
        {
          code: "610329",
          name: "麟游县"
        },
        {
          code: "610330",
          name: "凤县"
        },
        {
          code: "610331",
          name: "太白县"
        }
      ],
      [
        {
          code: "610402",
          name: "秦都区"
        },
        {
          code: "610403",
          name: "杨陵区"
        },
        {
          code: "610404",
          name: "渭城区"
        },
        {
          code: "610422",
          name: "三原县"
        },
        {
          code: "610423",
          name: "泾阳县"
        },
        {
          code: "610424",
          name: "乾县"
        },
        {
          code: "610425",
          name: "礼泉县"
        },
        {
          code: "610426",
          name: "永寿县"
        },
        {
          code: "610428",
          name: "长武县"
        },
        {
          code: "610429",
          name: "旬邑县"
        },
        {
          code: "610430",
          name: "淳化县"
        },
        {
          code: "610431",
          name: "武功县"
        },
        {
          code: "610481",
          name: "兴平市"
        },
        {
          code: "610482",
          name: "彬州市"
        }
      ],
      [
        {
          code: "610502",
          name: "临渭区"
        },
        {
          code: "610503",
          name: "华州区"
        },
        {
          code: "610522",
          name: "潼关县"
        },
        {
          code: "610523",
          name: "大荔县"
        },
        {
          code: "610524",
          name: "合阳县"
        },
        {
          code: "610525",
          name: "澄城县"
        },
        {
          code: "610526",
          name: "蒲城县"
        },
        {
          code: "610527",
          name: "白水县"
        },
        {
          code: "610528",
          name: "富平县"
        },
        {
          code: "610581",
          name: "韩城市"
        },
        {
          code: "610582",
          name: "华阴市"
        }
      ],
      [
        {
          code: "610602",
          name: "宝塔区"
        },
        {
          code: "610603",
          name: "安塞区"
        },
        {
          code: "610621",
          name: "延长县"
        },
        {
          code: "610622",
          name: "延川县"
        },
        {
          code: "610625",
          name: "志丹县"
        },
        {
          code: "610626",
          name: "吴起县"
        },
        {
          code: "610627",
          name: "甘泉县"
        },
        {
          code: "610628",
          name: "富县"
        },
        {
          code: "610629",
          name: "洛川县"
        },
        {
          code: "610630",
          name: "宜川县"
        },
        {
          code: "610631",
          name: "黄龙县"
        },
        {
          code: "610632",
          name: "黄陵县"
        },
        {
          code: "610681",
          name: "子长市"
        }
      ],
      [
        {
          code: "610702",
          name: "汉台区"
        },
        {
          code: "610703",
          name: "南郑区"
        },
        {
          code: "610722",
          name: "城固县"
        },
        {
          code: "610723",
          name: "洋县"
        },
        {
          code: "610724",
          name: "西乡县"
        },
        {
          code: "610725",
          name: "勉县"
        },
        {
          code: "610726",
          name: "宁强县"
        },
        {
          code: "610727",
          name: "略阳县"
        },
        {
          code: "610728",
          name: "镇巴县"
        },
        {
          code: "610729",
          name: "留坝县"
        },
        {
          code: "610730",
          name: "佛坪县"
        }
      ],
      [
        {
          code: "610802",
          name: "榆阳区"
        },
        {
          code: "610803",
          name: "横山区"
        },
        {
          code: "610822",
          name: "府谷县"
        },
        {
          code: "610824",
          name: "靖边县"
        },
        {
          code: "610825",
          name: "定边县"
        },
        {
          code: "610826",
          name: "绥德县"
        },
        {
          code: "610827",
          name: "米脂县"
        },
        {
          code: "610828",
          name: "佳县"
        },
        {
          code: "610829",
          name: "吴堡县"
        },
        {
          code: "610830",
          name: "清涧县"
        },
        {
          code: "610831",
          name: "子洲县"
        },
        {
          code: "610881",
          name: "神木市"
        }
      ],
      [
        {
          code: "610902",
          name: "汉滨区"
        },
        {
          code: "610921",
          name: "汉阴县"
        },
        {
          code: "610922",
          name: "石泉县"
        },
        {
          code: "610923",
          name: "宁陕县"
        },
        {
          code: "610924",
          name: "紫阳县"
        },
        {
          code: "610925",
          name: "岚皋县"
        },
        {
          code: "610926",
          name: "平利县"
        },
        {
          code: "610927",
          name: "镇坪县"
        },
        {
          code: "610929",
          name: "白河县"
        },
        {
          code: "610981",
          name: "旬阳市"
        }
      ],
      [
        {
          code: "611002",
          name: "商州区"
        },
        {
          code: "611021",
          name: "洛南县"
        },
        {
          code: "611022",
          name: "丹凤县"
        },
        {
          code: "611023",
          name: "商南县"
        },
        {
          code: "611024",
          name: "山阳县"
        },
        {
          code: "611025",
          name: "镇安县"
        },
        {
          code: "611026",
          name: "柞水县"
        }
      ]
    ],
    [
      [
        {
          code: "620102",
          name: "城关区"
        },
        {
          code: "620103",
          name: "七里河区"
        },
        {
          code: "620104",
          name: "西固区"
        },
        {
          code: "620105",
          name: "安宁区"
        },
        {
          code: "620111",
          name: "红古区"
        },
        {
          code: "620121",
          name: "永登县"
        },
        {
          code: "620122",
          name: "皋兰县"
        },
        {
          code: "620123",
          name: "榆中县"
        }
      ],
      [
        {
          code: "620299",
          name: "嘉峪关市"
        }
      ],
      [
        {
          code: "620302",
          name: "金川区"
        },
        {
          code: "620321",
          name: "永昌县"
        }
      ],
      [
        {
          code: "620402",
          name: "白银区"
        },
        {
          code: "620403",
          name: "平川区"
        },
        {
          code: "620421",
          name: "靖远县"
        },
        {
          code: "620422",
          name: "会宁县"
        },
        {
          code: "620423",
          name: "景泰县"
        }
      ],
      [
        {
          code: "620502",
          name: "秦州区"
        },
        {
          code: "620503",
          name: "麦积区"
        },
        {
          code: "620521",
          name: "清水县"
        },
        {
          code: "620522",
          name: "秦安县"
        },
        {
          code: "620523",
          name: "甘谷县"
        },
        {
          code: "620524",
          name: "武山县"
        },
        {
          code: "620525",
          name: "张家川回族自治县"
        }
      ],
      [
        {
          code: "620602",
          name: "凉州区"
        },
        {
          code: "620621",
          name: "民勤县"
        },
        {
          code: "620622",
          name: "古浪县"
        },
        {
          code: "620623",
          name: "天祝藏族自治县"
        }
      ],
      [
        {
          code: "620702",
          name: "甘州区"
        },
        {
          code: "620721",
          name: "肃南裕固族自治县"
        },
        {
          code: "620722",
          name: "民乐县"
        },
        {
          code: "620723",
          name: "临泽县"
        },
        {
          code: "620724",
          name: "高台县"
        },
        {
          code: "620725",
          name: "山丹县"
        }
      ],
      [
        {
          code: "620802",
          name: "崆峒区"
        },
        {
          code: "620821",
          name: "泾川县"
        },
        {
          code: "620822",
          name: "灵台县"
        },
        {
          code: "620823",
          name: "崇信县"
        },
        {
          code: "620825",
          name: "庄浪县"
        },
        {
          code: "620826",
          name: "静宁县"
        },
        {
          code: "620881",
          name: "华亭市"
        }
      ],
      [
        {
          code: "620902",
          name: "肃州区"
        },
        {
          code: "620921",
          name: "金塔县"
        },
        {
          code: "620922",
          name: "瓜州县"
        },
        {
          code: "620923",
          name: "肃北蒙古族自治县"
        },
        {
          code: "620924",
          name: "阿克塞哈萨克族自治县"
        },
        {
          code: "620981",
          name: "玉门市"
        },
        {
          code: "620982",
          name: "敦煌市"
        }
      ],
      [
        {
          code: "621002",
          name: "西峰区"
        },
        {
          code: "621021",
          name: "庆城县"
        },
        {
          code: "621022",
          name: "环县"
        },
        {
          code: "621023",
          name: "华池县"
        },
        {
          code: "621024",
          name: "合水县"
        },
        {
          code: "621025",
          name: "正宁县"
        },
        {
          code: "621026",
          name: "宁县"
        },
        {
          code: "621027",
          name: "镇原县"
        }
      ],
      [
        {
          code: "621102",
          name: "安定区"
        },
        {
          code: "621121",
          name: "通渭县"
        },
        {
          code: "621122",
          name: "陇西县"
        },
        {
          code: "621123",
          name: "渭源县"
        },
        {
          code: "621124",
          name: "临洮县"
        },
        {
          code: "621125",
          name: "漳县"
        },
        {
          code: "621126",
          name: "岷县"
        }
      ],
      [
        {
          code: "621202",
          name: "武都区"
        },
        {
          code: "621221",
          name: "成县"
        },
        {
          code: "621222",
          name: "文县"
        },
        {
          code: "621223",
          name: "宕昌县"
        },
        {
          code: "621224",
          name: "康县"
        },
        {
          code: "621225",
          name: "西和县"
        },
        {
          code: "621226",
          name: "礼县"
        },
        {
          code: "621227",
          name: "徽县"
        },
        {
          code: "621228",
          name: "两当县"
        }
      ],
      [
        {
          code: "622901",
          name: "临夏市"
        },
        {
          code: "622921",
          name: "临夏县"
        },
        {
          code: "622922",
          name: "康乐县"
        },
        {
          code: "622923",
          name: "永靖县"
        },
        {
          code: "622924",
          name: "广河县"
        },
        {
          code: "622925",
          name: "和政县"
        },
        {
          code: "622926",
          name: "东乡族自治县"
        },
        {
          code: "622927",
          name: "积石山保安族东乡族撒拉族自治县"
        }
      ],
      [
        {
          code: "623001",
          name: "合作市"
        },
        {
          code: "623021",
          name: "临潭县"
        },
        {
          code: "623022",
          name: "卓尼县"
        },
        {
          code: "623023",
          name: "舟曲县"
        },
        {
          code: "623024",
          name: "迭部县"
        },
        {
          code: "623025",
          name: "玛曲县"
        },
        {
          code: "623026",
          name: "碌曲县"
        },
        {
          code: "623027",
          name: "夏河县"
        }
      ]
    ],
    [
      [
        {
          code: "630102",
          name: "城东区"
        },
        {
          code: "630103",
          name: "城中区"
        },
        {
          code: "630104",
          name: "城西区"
        },
        {
          code: "630105",
          name: "城北区"
        },
        {
          code: "630106",
          name: "湟中区"
        },
        {
          code: "630121",
          name: "大通回族土族自治县"
        },
        {
          code: "630123",
          name: "湟源县"
        }
      ],
      [
        {
          code: "630202",
          name: "乐都区"
        },
        {
          code: "630203",
          name: "平安区"
        },
        {
          code: "630222",
          name: "民和回族土族自治县"
        },
        {
          code: "630223",
          name: "互助土族自治县"
        },
        {
          code: "630224",
          name: "化隆回族自治县"
        },
        {
          code: "630225",
          name: "循化撒拉族自治县"
        }
      ],
      [
        {
          code: "632221",
          name: "门源回族自治县"
        },
        {
          code: "632222",
          name: "祁连县"
        },
        {
          code: "632223",
          name: "海晏县"
        },
        {
          code: "632224",
          name: "刚察县"
        }
      ],
      [
        {
          code: "632301",
          name: "同仁市"
        },
        {
          code: "632322",
          name: "尖扎县"
        },
        {
          code: "632323",
          name: "泽库县"
        },
        {
          code: "632324",
          name: "河南蒙古族自治县"
        }
      ],
      [
        {
          code: "632521",
          name: "共和县"
        },
        {
          code: "632522",
          name: "同德县"
        },
        {
          code: "632523",
          name: "贵德县"
        },
        {
          code: "632524",
          name: "兴海县"
        },
        {
          code: "632525",
          name: "贵南县"
        }
      ],
      [
        {
          code: "632621",
          name: "玛沁县"
        },
        {
          code: "632622",
          name: "班玛县"
        },
        {
          code: "632623",
          name: "甘德县"
        },
        {
          code: "632624",
          name: "达日县"
        },
        {
          code: "632625",
          name: "久治县"
        },
        {
          code: "632626",
          name: "玛多县"
        }
      ],
      [
        {
          code: "632701",
          name: "玉树市"
        },
        {
          code: "632722",
          name: "杂多县"
        },
        {
          code: "632723",
          name: "称多县"
        },
        {
          code: "632724",
          name: "治多县"
        },
        {
          code: "632725",
          name: "囊谦县"
        },
        {
          code: "632726",
          name: "曲麻莱县"
        }
      ],
      [
        {
          code: "632801",
          name: "格尔木市"
        },
        {
          code: "632802",
          name: "德令哈市"
        },
        {
          code: "632803",
          name: "茫崖市"
        },
        {
          code: "632821",
          name: "乌兰县"
        },
        {
          code: "632822",
          name: "都兰县"
        },
        {
          code: "632823",
          name: "天峻县"
        },
        {
          code: "632857",
          name: "大柴旦行政委员会"
        }
      ]
    ],
    [
      [
        {
          code: "640104",
          name: "兴庆区"
        },
        {
          code: "640105",
          name: "西夏区"
        },
        {
          code: "640106",
          name: "金凤区"
        },
        {
          code: "640121",
          name: "永宁县"
        },
        {
          code: "640122",
          name: "贺兰县"
        },
        {
          code: "640181",
          name: "灵武市"
        }
      ],
      [
        {
          code: "640202",
          name: "大武口区"
        },
        {
          code: "640205",
          name: "惠农区"
        },
        {
          code: "640221",
          name: "平罗县"
        }
      ],
      [
        {
          code: "640302",
          name: "利通区"
        },
        {
          code: "640303",
          name: "红寺堡区"
        },
        {
          code: "640323",
          name: "盐池县"
        },
        {
          code: "640324",
          name: "同心县"
        },
        {
          code: "640381",
          name: "青铜峡市"
        }
      ],
      [
        {
          code: "640402",
          name: "原州区"
        },
        {
          code: "640422",
          name: "西吉县"
        },
        {
          code: "640423",
          name: "隆德县"
        },
        {
          code: "640424",
          name: "泾源县"
        },
        {
          code: "640425",
          name: "彭阳县"
        }
      ],
      [
        {
          code: "640502",
          name: "沙坡头区"
        },
        {
          code: "640521",
          name: "中宁县"
        },
        {
          code: "640522",
          name: "海原县"
        }
      ]
    ],
    [
      [
        {
          code: "650102",
          name: "天山区"
        },
        {
          code: "650103",
          name: "沙依巴克区"
        },
        {
          code: "650104",
          name: "新市区"
        },
        {
          code: "650105",
          name: "水磨沟区"
        },
        {
          code: "650106",
          name: "头屯河区"
        },
        {
          code: "650107",
          name: "达坂城区"
        },
        {
          code: "650109",
          name: "米东区"
        },
        {
          code: "650121",
          name: "乌鲁木齐县"
        }
      ],
      [
        {
          code: "650202",
          name: "独山子区"
        },
        {
          code: "650203",
          name: "克拉玛依区"
        },
        {
          code: "650204",
          name: "白碱滩区"
        },
        {
          code: "650205",
          name: "乌尔禾区"
        }
      ],
      [
        {
          code: "650402",
          name: "高昌区"
        },
        {
          code: "650421",
          name: "鄯善县"
        },
        {
          code: "650422",
          name: "托克逊县"
        }
      ],
      [
        {
          code: "650502",
          name: "伊州区"
        },
        {
          code: "650521",
          name: "巴里坤哈萨克自治县"
        },
        {
          code: "650522",
          name: "伊吾县"
        }
      ],
      [
        {
          code: "652301",
          name: "昌吉市"
        },
        {
          code: "652302",
          name: "阜康市"
        },
        {
          code: "652323",
          name: "呼图壁县"
        },
        {
          code: "652324",
          name: "玛纳斯县"
        },
        {
          code: "652325",
          name: "奇台县"
        },
        {
          code: "652327",
          name: "吉木萨尔县"
        },
        {
          code: "652328",
          name: "木垒哈萨克自治县"
        }
      ],
      [
        {
          code: "652701",
          name: "博乐市"
        },
        {
          code: "652702",
          name: "阿拉山口市"
        },
        {
          code: "652722",
          name: "精河县"
        },
        {
          code: "652723",
          name: "温泉县"
        }
      ],
      [
        {
          code: "652801",
          name: "库尔勒市"
        },
        {
          code: "652822",
          name: "轮台县"
        },
        {
          code: "652823",
          name: "尉犁县"
        },
        {
          code: "652824",
          name: "若羌县"
        },
        {
          code: "652825",
          name: "且末县"
        },
        {
          code: "652826",
          name: "焉耆回族自治县"
        },
        {
          code: "652827",
          name: "和静县"
        },
        {
          code: "652828",
          name: "和硕县"
        },
        {
          code: "652829",
          name: "博湖县"
        }
      ],
      [
        {
          code: "652901",
          name: "阿克苏市"
        },
        {
          code: "652902",
          name: "库车市"
        },
        {
          code: "652922",
          name: "温宿县"
        },
        {
          code: "652924",
          name: "沙雅县"
        },
        {
          code: "652925",
          name: "新和县"
        },
        {
          code: "652926",
          name: "拜城县"
        },
        {
          code: "652927",
          name: "乌什县"
        },
        {
          code: "652928",
          name: "阿瓦提县"
        },
        {
          code: "652929",
          name: "柯坪县"
        }
      ],
      [
        {
          code: "653001",
          name: "阿图什市"
        },
        {
          code: "653022",
          name: "阿克陶县"
        },
        {
          code: "653023",
          name: "阿合奇县"
        },
        {
          code: "653024",
          name: "乌恰县"
        }
      ],
      [
        {
          code: "653101",
          name: "喀什市"
        },
        {
          code: "653121",
          name: "疏附县"
        },
        {
          code: "653122",
          name: "疏勒县"
        },
        {
          code: "653123",
          name: "英吉沙县"
        },
        {
          code: "653124",
          name: "泽普县"
        },
        {
          code: "653125",
          name: "莎车县"
        },
        {
          code: "653126",
          name: "叶城县"
        },
        {
          code: "653127",
          name: "麦盖提县"
        },
        {
          code: "653128",
          name: "岳普湖县"
        },
        {
          code: "653129",
          name: "伽师县"
        },
        {
          code: "653130",
          name: "巴楚县"
        },
        {
          code: "653131",
          name: "塔什库尔干塔吉克自治县"
        }
      ],
      [
        {
          code: "653201",
          name: "和田市"
        },
        {
          code: "653221",
          name: "和田县"
        },
        {
          code: "653222",
          name: "墨玉县"
        },
        {
          code: "653223",
          name: "皮山县"
        },
        {
          code: "653224",
          name: "洛浦县"
        },
        {
          code: "653225",
          name: "策勒县"
        },
        {
          code: "653226",
          name: "于田县"
        },
        {
          code: "653227",
          name: "民丰县"
        }
      ],
      [
        {
          code: "654002",
          name: "伊宁市"
        },
        {
          code: "654003",
          name: "奎屯市"
        },
        {
          code: "654004",
          name: "霍尔果斯市"
        },
        {
          code: "654021",
          name: "伊宁县"
        },
        {
          code: "654022",
          name: "察布查尔锡伯自治县"
        },
        {
          code: "654023",
          name: "霍城县"
        },
        {
          code: "654024",
          name: "巩留县"
        },
        {
          code: "654025",
          name: "新源县"
        },
        {
          code: "654026",
          name: "昭苏县"
        },
        {
          code: "654027",
          name: "特克斯县"
        },
        {
          code: "654028",
          name: "尼勒克县"
        }
      ],
      [
        {
          code: "654201",
          name: "塔城市"
        },
        {
          code: "654202",
          name: "乌苏市"
        },
        {
          code: "654203",
          name: "沙湾市"
        },
        {
          code: "654221",
          name: "额敏县"
        },
        {
          code: "654224",
          name: "托里县"
        },
        {
          code: "654225",
          name: "裕民县"
        },
        {
          code: "654226",
          name: "和布克赛尔蒙古自治县"
        }
      ],
      [
        {
          code: "654301",
          name: "阿勒泰市"
        },
        {
          code: "654321",
          name: "布尔津县"
        },
        {
          code: "654322",
          name: "富蕴县"
        },
        {
          code: "654323",
          name: "福海县"
        },
        {
          code: "654324",
          name: "哈巴河县"
        },
        {
          code: "654325",
          name: "青河县"
        },
        {
          code: "654326",
          name: "吉木乃县"
        }
      ],
      [
        {
          code: "65900101",
          name: "石河子市"
        }
      ],
      [
        {
          code: "65900201",
          name: "阿拉尔市"
        }
      ],
      [
        {
          code: "65900301",
          name: "图木舒克市"
        }
      ],
      [
        {
          code: "65900401",
          name: "五家渠市"
        }
      ],
      [
        {
          code: "65900501",
          name: "北屯市"
        }
      ],
      [
        {
          code: "65900601",
          name: "铁门关市"
        }
      ],
      [
        {
          code: "65900701",
          name: "双河市"
        }
      ],
      [
        {
          code: "65900801",
          name: "可克达拉市"
        }
      ],
      [
        {
          code: "65900901",
          name: "昆玉市"
        }
      ],
      [
        {
          code: "65901001",
          name: "胡杨河市"
        }
      ],
      [
        {
          code: "65901101",
          name: "新星市"
        }
      ],
      [
        {
          code: "65901201",
          name: "白杨市"
        }
      ]
    ],
    [
      [
        {
          code: "711001",
          name: "松山区"
        },
        {
          code: "711002",
          name: "大安区"
        },
        {
          code: "711003",
          name: "中正区"
        },
        {
          code: "711005",
          name: "万华区"
        },
        {
          code: "711009",
          name: "大同区"
        },
        {
          code: "711010",
          name: "中山区"
        },
        {
          code: "711011",
          name: "文山区"
        },
        {
          code: "711013",
          name: "南港区"
        },
        {
          code: "711014",
          name: "内湖区"
        },
        {
          code: "711015",
          name: "士林区"
        },
        {
          code: "711016",
          name: "北投区"
        },
        {
          code: "711017",
          name: "信义区"
        }
      ],
      [
        {
          code: "711101",
          name: "中区"
        },
        {
          code: "711102",
          name: "东区"
        },
        {
          code: "711103",
          name: "西区"
        },
        {
          code: "711104",
          name: "南区"
        },
        {
          code: "711105",
          name: "北区"
        },
        {
          code: "711106",
          name: "西屯区"
        },
        {
          code: "711107",
          name: "南屯区"
        },
        {
          code: "711108",
          name: "北屯区"
        },
        {
          code: "711141",
          name: "丰原区"
        },
        {
          code: "711142",
          name: "东势区"
        },
        {
          code: "711143",
          name: "大甲区"
        },
        {
          code: "711144",
          name: "清水区"
        },
        {
          code: "711145",
          name: "沙鹿区"
        },
        {
          code: "711146",
          name: "梧栖区"
        },
        {
          code: "711147",
          name: "神冈区"
        },
        {
          code: "711148",
          name: "后里区"
        },
        {
          code: "711149",
          name: "大雅区"
        },
        {
          code: "711150",
          name: "潭子区"
        },
        {
          code: "711151",
          name: "新社区"
        },
        {
          code: "711152",
          name: "石冈区"
        },
        {
          code: "711153",
          name: "外埔区"
        },
        {
          code: "711154",
          name: "大安区"
        },
        {
          code: "711155",
          name: "乌日区"
        },
        {
          code: "711156",
          name: "大肚区"
        },
        {
          code: "711157",
          name: "龙井区"
        },
        {
          code: "711158",
          name: "雾峰区"
        },
        {
          code: "711159",
          name: "太平区"
        },
        {
          code: "711160",
          name: "大里区"
        },
        {
          code: "711161",
          name: "和平区"
        }
      ],
      [
        {
          code: "711201",
          name: "中正区"
        },
        {
          code: "711202",
          name: "七堵区"
        },
        {
          code: "711203",
          name: "暖暖区"
        },
        {
          code: "711204",
          name: "仁爱区"
        },
        {
          code: "711205",
          name: "中山区"
        },
        {
          code: "711206",
          name: "安乐区"
        },
        {
          code: "711207",
          name: "信义区"
        }
      ],
      [
        {
          code: "711301",
          name: "东区"
        },
        {
          code: "711302",
          name: "南区"
        },
        {
          code: "711304",
          name: "北区"
        },
        {
          code: "711306",
          name: "安南区"
        },
        {
          code: "711307",
          name: "安平区"
        },
        {
          code: "711308",
          name: "中西区"
        },
        {
          code: "711341",
          name: "新营区"
        },
        {
          code: "711342",
          name: "盐水区"
        },
        {
          code: "711343",
          name: "白河区"
        },
        {
          code: "711344",
          name: "柳营区"
        },
        {
          code: "711345",
          name: "后壁区"
        },
        {
          code: "711346",
          name: "东山区"
        },
        {
          code: "711347",
          name: "麻豆区"
        },
        {
          code: "711348",
          name: "下营区"
        },
        {
          code: "711349",
          name: "六甲区"
        },
        {
          code: "711350",
          name: "官田区"
        },
        {
          code: "711351",
          name: "大内区"
        },
        {
          code: "711352",
          name: "佳里区"
        },
        {
          code: "711353",
          name: "西港区"
        },
        {
          code: "711354",
          name: "七股区"
        },
        {
          code: "711355",
          name: "将军区"
        },
        {
          code: "711356",
          name: "北门区"
        },
        {
          code: "711357",
          name: "学甲区"
        },
        {
          code: "711358",
          name: "新化区"
        },
        {
          code: "711359",
          name: "善化区"
        },
        {
          code: "711360",
          name: "新市区"
        },
        {
          code: "711361",
          name: "安定区"
        },
        {
          code: "711362",
          name: "山上区"
        },
        {
          code: "711363",
          name: "玉井区"
        },
        {
          code: "711364",
          name: "楠西区"
        },
        {
          code: "711365",
          name: "南化区"
        },
        {
          code: "711366",
          name: "左镇区"
        },
        {
          code: "711367",
          name: "仁德区"
        },
        {
          code: "711368",
          name: "归仁区"
        },
        {
          code: "711369",
          name: "关庙区"
        },
        {
          code: "711370",
          name: "龙崎区"
        },
        {
          code: "711371",
          name: "永康区"
        }
      ],
      [
        {
          code: "711401",
          name: "盐埕区"
        },
        {
          code: "711402",
          name: "鼓山区"
        },
        {
          code: "711403",
          name: "左营区"
        },
        {
          code: "711404",
          name: "楠梓区"
        },
        {
          code: "711405",
          name: "三民区"
        },
        {
          code: "711406",
          name: "新兴区"
        },
        {
          code: "711407",
          name: "前金区"
        },
        {
          code: "711408",
          name: "苓雅区"
        },
        {
          code: "711409",
          name: "前镇区"
        },
        {
          code: "711410",
          name: "旗津区"
        },
        {
          code: "711411",
          name: "小港区"
        },
        {
          code: "711441",
          name: "凤山区"
        },
        {
          code: "711442",
          name: "鸟松区"
        },
        {
          code: "711443",
          name: "仁武区"
        },
        {
          code: "711444",
          name: "大社区"
        },
        {
          code: "711445",
          name: "大树区"
        },
        {
          code: "711446",
          name: "大寮区"
        },
        {
          code: "711448",
          name: "林园区"
        },
        {
          code: "711449",
          name: "冈山区"
        },
        {
          code: "711450",
          name: "茄萣区"
        },
        {
          code: "711451",
          name: "永安区"
        },
        {
          code: "711452",
          name: "桥头区"
        },
        {
          code: "711453",
          name: "梓官区"
        },
        {
          code: "711454",
          name: "田寮区"
        },
        {
          code: "711455",
          name: "阿莲区"
        },
        {
          code: "711456",
          name: "路竹区"
        },
        {
          code: "711457",
          name: "燕巢区"
        },
        {
          code: "711458",
          name: "弥陀区"
        },
        {
          code: "711459",
          name: "湖内区"
        },
        {
          code: "711460",
          name: "旗山区"
        },
        {
          code: "711461",
          name: "六龟区"
        },
        {
          code: "711462",
          name: "内门区"
        },
        {
          code: "711463",
          name: "美浓区"
        },
        {
          code: "711464",
          name: "杉林区"
        },
        {
          code: "711465",
          name: "甲仙区"
        },
        {
          code: "711466",
          name: "茂林区"
        },
        {
          code: "711467",
          name: "桃源区"
        },
        {
          code: "711468",
          name: "那玛夏区"
        }
      ],
      [
        {
          code: "711501",
          name: "新庄区"
        },
        {
          code: "711502",
          name: "林口区"
        },
        {
          code: "711503",
          name: "五股区"
        },
        {
          code: "711504",
          name: "芦洲区"
        },
        {
          code: "711505",
          name: "三重区"
        },
        {
          code: "711506",
          name: "泰山区"
        },
        {
          code: "711507",
          name: "新店区"
        },
        {
          code: "711508",
          name: "石碇区"
        },
        {
          code: "711509",
          name: "深坑区"
        },
        {
          code: "711510",
          name: "坪林区"
        },
        {
          code: "711511",
          name: "乌来区"
        },
        {
          code: "711514",
          name: "板桥区"
        },
        {
          code: "711515",
          name: "三峡区"
        },
        {
          code: "711516",
          name: "莺歌区"
        },
        {
          code: "711517",
          name: "树林区"
        },
        {
          code: "711518",
          name: "中和区"
        },
        {
          code: "711519",
          name: "土城区"
        },
        {
          code: "711521",
          name: "瑞芳区"
        },
        {
          code: "711522",
          name: "平溪区"
        },
        {
          code: "711523",
          name: "双溪区"
        },
        {
          code: "711524",
          name: "贡寮区"
        },
        {
          code: "711525",
          name: "金山区"
        },
        {
          code: "711526",
          name: "万里区"
        },
        {
          code: "711527",
          name: "淡水区"
        },
        {
          code: "711528",
          name: "汐止区"
        },
        {
          code: "711530",
          name: "三芝区"
        },
        {
          code: "711531",
          name: "石门区"
        },
        {
          code: "711532",
          name: "八里区"
        },
        {
          code: "711533",
          name: "永和区"
        }
      ],
      [
        {
          code: "711601",
          name: "宜兰市"
        },
        {
          code: "711602",
          name: "头城镇"
        },
        {
          code: "711603",
          name: "礁溪乡"
        },
        {
          code: "711604",
          name: "壮围乡"
        },
        {
          code: "711605",
          name: "员山乡"
        },
        {
          code: "711606",
          name: "罗东镇"
        },
        {
          code: "711607",
          name: "五结乡"
        },
        {
          code: "711608",
          name: "冬山乡"
        },
        {
          code: "711609",
          name: "苏澳镇"
        },
        {
          code: "711610",
          name: "三星乡"
        },
        {
          code: "711611",
          name: "大同乡"
        },
        {
          code: "711612",
          name: "南澳乡"
        }
      ],
      [
        {
          code: "711701",
          name: "桃园区"
        },
        {
          code: "711702",
          name: "大溪区"
        },
        {
          code: "711703",
          name: "中坜区"
        },
        {
          code: "711704",
          name: "杨梅区"
        },
        {
          code: "711705",
          name: "芦竹区"
        },
        {
          code: "711706",
          name: "大园区"
        },
        {
          code: "711707",
          name: "龟山区"
        },
        {
          code: "711708",
          name: "八德区"
        },
        {
          code: "711709",
          name: "龙潭区"
        },
        {
          code: "711710",
          name: "平镇区"
        },
        {
          code: "711711",
          name: "新屋区"
        },
        {
          code: "711712",
          name: "观音区"
        },
        {
          code: "711713",
          name: "复兴区"
        }
      ],
      [
        {
          code: "711801",
          name: "东区"
        },
        {
          code: "711802",
          name: "西区"
        }
      ],
      [
        {
          code: "711902",
          name: "竹东镇"
        },
        {
          code: "711903",
          name: "关西镇"
        },
        {
          code: "711904",
          name: "新埔镇"
        },
        {
          code: "711905",
          name: "竹北市"
        },
        {
          code: "711906",
          name: "湖口乡"
        },
        {
          code: "711908",
          name: "横山乡"
        },
        {
          code: "711909",
          name: "新丰乡"
        },
        {
          code: "711910",
          name: "芎林乡"
        },
        {
          code: "711911",
          name: "宝山乡"
        },
        {
          code: "711912",
          name: "北埔乡"
        },
        {
          code: "711913",
          name: "峨眉乡"
        },
        {
          code: "711914",
          name: "尖石乡"
        },
        {
          code: "711915",
          name: "五峰乡"
        }
      ],
      [
        {
          code: "712001",
          name: "苗栗市"
        },
        {
          code: "712002",
          name: "苑里镇"
        },
        {
          code: "712003",
          name: "通霄镇"
        },
        {
          code: "712004",
          name: "公馆乡"
        },
        {
          code: "712005",
          name: "铜锣乡"
        },
        {
          code: "712006",
          name: "三义乡"
        },
        {
          code: "712007",
          name: "西湖乡"
        },
        {
          code: "712008",
          name: "头屋乡"
        },
        {
          code: "712009",
          name: "竹南镇"
        },
        {
          code: "712010",
          name: "头份市"
        },
        {
          code: "712011",
          name: "造桥乡"
        },
        {
          code: "712012",
          name: "后龙镇"
        },
        {
          code: "712013",
          name: "三湾乡"
        },
        {
          code: "712014",
          name: "南庄乡"
        },
        {
          code: "712015",
          name: "大湖乡"
        },
        {
          code: "712016",
          name: "卓兰镇"
        },
        {
          code: "712017",
          name: "狮潭乡"
        },
        {
          code: "712018",
          name: "泰安乡"
        }
      ],
      [
        {
          code: "712201",
          name: "南投市"
        },
        {
          code: "712202",
          name: "埔里镇"
        },
        {
          code: "712203",
          name: "草屯镇"
        },
        {
          code: "712204",
          name: "竹山镇"
        },
        {
          code: "712205",
          name: "集集镇"
        },
        {
          code: "712206",
          name: "名间乡"
        },
        {
          code: "712207",
          name: "鹿谷乡"
        },
        {
          code: "712208",
          name: "中寮乡"
        },
        {
          code: "712209",
          name: "鱼池乡"
        },
        {
          code: "712210",
          name: "国姓乡"
        },
        {
          code: "712211",
          name: "水里乡"
        },
        {
          code: "712212",
          name: "信义乡"
        },
        {
          code: "712213",
          name: "仁爱乡"
        }
      ],
      [
        {
          code: "712301",
          name: "彰化市"
        },
        {
          code: "712302",
          name: "鹿港镇"
        },
        {
          code: "712303",
          name: "和美镇"
        },
        {
          code: "712304",
          name: "北斗镇"
        },
        {
          code: "712305",
          name: "员林市"
        },
        {
          code: "712306",
          name: "溪湖镇"
        },
        {
          code: "712307",
          name: "田中镇"
        },
        {
          code: "712308",
          name: "二林镇"
        },
        {
          code: "712309",
          name: "线西乡"
        },
        {
          code: "712310",
          name: "伸港乡"
        },
        {
          code: "712311",
          name: "福兴乡"
        },
        {
          code: "712312",
          name: "秀水乡"
        },
        {
          code: "712313",
          name: "花坛乡"
        },
        {
          code: "712314",
          name: "芬园乡"
        },
        {
          code: "712315",
          name: "大村乡"
        },
        {
          code: "712316",
          name: "埔盐乡"
        },
        {
          code: "712317",
          name: "埔心乡"
        },
        {
          code: "712318",
          name: "永靖乡"
        },
        {
          code: "712319",
          name: "社头乡"
        },
        {
          code: "712320",
          name: "二水乡"
        },
        {
          code: "712321",
          name: "田尾乡"
        },
        {
          code: "712322",
          name: "埤头乡"
        },
        {
          code: "712323",
          name: "芳苑乡"
        },
        {
          code: "712324",
          name: "大城乡"
        },
        {
          code: "712325",
          name: "竹塘乡"
        },
        {
          code: "712326",
          name: "溪州乡"
        }
      ],
      [
        {
          code: "712401",
          name: "东区"
        },
        {
          code: "712402",
          name: "香山区"
        },
        {
          code: "712403",
          name: "北区"
        }
      ],
      [
        {
          code: "712501",
          name: "斗六市"
        },
        {
          code: "712502",
          name: "斗南镇"
        },
        {
          code: "712503",
          name: "虎尾镇"
        },
        {
          code: "712504",
          name: "西螺镇"
        },
        {
          code: "712505",
          name: "土库镇"
        },
        {
          code: "712506",
          name: "北港镇"
        },
        {
          code: "712507",
          name: "古坑乡"
        },
        {
          code: "712508",
          name: "大埤乡"
        },
        {
          code: "712509",
          name: "莿桐乡"
        },
        {
          code: "712510",
          name: "林内乡"
        },
        {
          code: "712511",
          name: "二仑乡"
        },
        {
          code: "712512",
          name: "仑背乡"
        },
        {
          code: "712513",
          name: "麦寮乡"
        },
        {
          code: "712514",
          name: "东势乡"
        },
        {
          code: "712515",
          name: "褒忠乡"
        },
        {
          code: "712516",
          name: "台西乡"
        },
        {
          code: "712517",
          name: "元长乡"
        },
        {
          code: "712518",
          name: "四湖乡"
        },
        {
          code: "712519",
          name: "口湖乡"
        },
        {
          code: "712520",
          name: "水林乡"
        }
      ],
      [
        {
          code: "712602",
          name: "朴子市"
        },
        {
          code: "712603",
          name: "布袋镇"
        },
        {
          code: "712604",
          name: "大林镇"
        },
        {
          code: "712605",
          name: "民雄乡"
        },
        {
          code: "712606",
          name: "溪口乡"
        },
        {
          code: "712607",
          name: "新港乡"
        },
        {
          code: "712608",
          name: "六脚乡"
        },
        {
          code: "712609",
          name: "东石乡"
        },
        {
          code: "712610",
          name: "义竹乡"
        },
        {
          code: "712611",
          name: "鹿草乡"
        },
        {
          code: "712612",
          name: "太保市"
        },
        {
          code: "712613",
          name: "水上乡"
        },
        {
          code: "712614",
          name: "中埔乡"
        },
        {
          code: "712615",
          name: "竹崎乡"
        },
        {
          code: "712616",
          name: "梅山乡"
        },
        {
          code: "712617",
          name: "番路乡"
        },
        {
          code: "712618",
          name: "大埔乡"
        },
        {
          code: "712620",
          name: "阿里山乡"
        }
      ],
      [
        {
          code: "712901",
          name: "屏东市"
        },
        {
          code: "712902",
          name: "潮州镇"
        },
        {
          code: "712903",
          name: "东港镇"
        },
        {
          code: "712904",
          name: "恒春镇"
        },
        {
          code: "712905",
          name: "万丹乡"
        },
        {
          code: "712906",
          name: "长治乡"
        },
        {
          code: "712907",
          name: "麟洛乡"
        },
        {
          code: "712908",
          name: "九如乡"
        },
        {
          code: "712909",
          name: "里港乡"
        },
        {
          code: "712910",
          name: "盐埔乡"
        },
        {
          code: "712911",
          name: "高树乡"
        },
        {
          code: "712912",
          name: "万峦乡"
        },
        {
          code: "712913",
          name: "内埔乡"
        },
        {
          code: "712914",
          name: "竹田乡"
        },
        {
          code: "712915",
          name: "新埤乡"
        },
        {
          code: "712916",
          name: "枋寮乡"
        },
        {
          code: "712917",
          name: "新园乡"
        },
        {
          code: "712918",
          name: "崁顶乡"
        },
        {
          code: "712919",
          name: "林边乡"
        },
        {
          code: "712920",
          name: "南州乡"
        },
        {
          code: "712921",
          name: "佳冬乡"
        },
        {
          code: "712922",
          name: "琉球乡"
        },
        {
          code: "712923",
          name: "车城乡"
        },
        {
          code: "712924",
          name: "满州乡"
        },
        {
          code: "712925",
          name: "枋山乡"
        },
        {
          code: "712926",
          name: "三地门乡"
        },
        {
          code: "712927",
          name: "雾台乡"
        },
        {
          code: "712928",
          name: "玛家乡"
        },
        {
          code: "712929",
          name: "泰武乡"
        },
        {
          code: "712930",
          name: "来义乡"
        },
        {
          code: "712931",
          name: "春日乡"
        },
        {
          code: "712932",
          name: "狮子乡"
        },
        {
          code: "712933",
          name: "牡丹乡"
        }
      ],
      [
        {
          code: "713001",
          name: "花莲市"
        },
        {
          code: "713002",
          name: "光复乡"
        },
        {
          code: "713003",
          name: "玉里镇"
        },
        {
          code: "713004",
          name: "新城乡"
        },
        {
          code: "713005",
          name: "吉安乡"
        },
        {
          code: "713006",
          name: "寿丰乡"
        },
        {
          code: "713007",
          name: "凤林镇"
        },
        {
          code: "713008",
          name: "丰滨乡"
        },
        {
          code: "713009",
          name: "瑞穗乡"
        },
        {
          code: "713010",
          name: "富里乡"
        },
        {
          code: "713011",
          name: "卓溪乡"
        },
        {
          code: "713012",
          name: "万荣乡"
        },
        {
          code: "713013",
          name: "秀林乡"
        }
      ],
      [
        {
          code: "713101",
          name: "台东市"
        },
        {
          code: "713102",
          name: "成功镇"
        },
        {
          code: "713103",
          name: "关山镇"
        },
        {
          code: "713104",
          name: "卑南乡"
        },
        {
          code: "713105",
          name: "大武乡"
        },
        {
          code: "713106",
          name: "太麻里乡"
        },
        {
          code: "713107",
          name: "东河乡"
        },
        {
          code: "713108",
          name: "长滨乡"
        },
        {
          code: "713109",
          name: "鹿野乡"
        },
        {
          code: "713110",
          name: "池上乡"
        },
        {
          code: "713111",
          name: "绿岛乡"
        },
        {
          code: "713112",
          name: "延平乡"
        },
        {
          code: "713113",
          name: "海端乡"
        },
        {
          code: "713114",
          name: "达仁乡"
        },
        {
          code: "713115",
          name: "金峰乡"
        },
        {
          code: "713116",
          name: "兰屿乡"
        }
      ],
      [
        {
          code: "713201",
          name: "马公市"
        },
        {
          code: "713202",
          name: "湖西乡"
        },
        {
          code: "713203",
          name: "白沙乡"
        },
        {
          code: "713204",
          name: "西屿乡"
        },
        {
          code: "713205",
          name: "望安乡"
        },
        {
          code: "713206",
          name: "七美乡"
        }
      ]
    ],
    [
      [
        {
          code: "811100",
          name: "中西区"
        },
        {
          code: "811200",
          name: "湾仔区"
        },
        {
          code: "811300",
          name: "东区"
        },
        {
          code: "811400",
          name: "南区"
        },
        {
          code: "812100",
          name: "油尖旺区"
        },
        {
          code: "812200",
          name: "深水埗区"
        },
        {
          code: "812300",
          name: "九龙城区"
        },
        {
          code: "812400",
          name: "黄大仙区"
        },
        {
          code: "812500",
          name: "观塘区"
        },
        {
          code: "813100",
          name: "葵青区"
        },
        {
          code: "813200",
          name: "荃湾区"
        },
        {
          code: "813300",
          name: "屯门区"
        },
        {
          code: "813400",
          name: "元朗区"
        },
        {
          code: "813500",
          name: "北区"
        },
        {
          code: "813600",
          name: "大埔区"
        },
        {
          code: "813700",
          name: "沙田区"
        },
        {
          code: "813800",
          name: "西贡区"
        },
        {
          code: "813900",
          name: "离岛区"
        }
      ]
    ],
    [
      [
        {
          code: "820100",
          name: "澳门半岛"
        },
        {
          code: "820200",
          name: "氹仔岛"
        },
        {
          code: "820300",
          name: "路环岛"
        }
      ]
    ]
  ];
  if (!String.prototype.padStart) {
    String.prototype.padStart = function(maxLength, fillString = " ") {
      if (Object.prototype.toString.call(fillString) !== "[object String]")
        throw new TypeError(
          "fillString must be String"
        );
      let str = this;
      if (str.length >= maxLength)
        return String(str);
      let fillLength = maxLength - str.length, times = Math.ceil(fillLength / fillString.length);
      while (times >>= 1) {
        fillString += fillString;
        if (times === 1) {
          fillString += fillString;
        }
      }
      return fillString.slice(0, fillLength) + str;
    };
  }
  function timeFormat(dateTime = null, fmt = "yyyy-mm-dd") {
    if (!dateTime)
      dateTime = Number(/* @__PURE__ */ new Date());
    if (dateTime.toString().length == 10)
      dateTime *= 1e3;
    let date2 = new Date(dateTime);
    let ret;
    let opt = {
      "y+": date2.getFullYear().toString(),
      // 年
      "m+": (date2.getMonth() + 1).toString(),
      // 月
      "d+": date2.getDate().toString(),
      // 日
      "h+": date2.getHours().toString(),
      // 时
      "M+": date2.getMinutes().toString(),
      // 分
      "s+": date2.getSeconds().toString()
      // 秒
      // 有其他格式化字符需求可以继续添加，必须转化成字符串
    };
    for (let k in opt) {
      ret = new RegExp("(" + k + ")").exec(fmt);
      if (ret) {
        fmt = fmt.replace(ret[1], ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, "0"));
      }
    }
    return fmt;
  }
  class AddressDiscern {
    // 初始化数据源
    constructor(dataSource = {}) {
      this.dataSource = dataSource;
    }
    // 智能解析收货地址
    discern(text) {
      if (!text)
        return { code: -1, msg: "地址文本不能为空" };
      text = text.trim();
      const positionRes = this.regionDiscern(text);
      if (positionRes.code !== 0)
        return positionRes;
      const { name, mobile: mobile2 } = this.nameMobileDiscern(positionRes.not_address_text);
      const status = name && mobile2 && positionRes.data ? 1 : 0;
      let msg = "ok";
      if (status === 0) {
        msg = "未识别：";
        if (!name)
          msg += "姓名、";
        if (!mobile2)
          msg += "手机号、";
        msg = msg.slice(0, -1);
      }
      const res2 = {
        code: 0,
        msg,
        status,
        // 1 表示全部识别成功，0 表示部分成功
        data: {
          name,
          // 姓名
          mobile: mobile2,
          // 手机号
          position: positionRes.data
          // 省市区街道信息
        }
      };
      return res2;
    }
    // 智能识别省市区
    regionDiscern(addressText) {
      const { provinces: provinces2, citys: citys2, areas: areas2 } = this.dataSource;
      const province = {};
      const city = {};
      const area = {};
      let address = "";
      if (!addressText)
        return { code: -1, msg: "地址文本不能为空" };
      addressText = addressText.trim();
      const findProvinceIndex = () => {
        const index = provinces2.findIndex(({ name }) => addressText.includes(name.substring(0, 2)));
        return index;
      };
      const findCityIndex = (citys3) => {
        const index = citys3.findIndex(({ name }) => addressText.includes(name.slice(0, -1)));
        return index;
      };
      const findAreaIndex = (areas3) => {
        const index = areas3.findIndex(({ name }) => {
          const reg = name.length > 2 ? `${name}|${name.slice(0, -1)}` : name;
          const areaRegExp = new RegExp(reg);
          if (areaRegExp.test(addressText)) {
            address = addressText.replace(areaRegExp, "{{~}}").split("{{~}}")[1] || "";
            address = address.split(new RegExp("[^\\u4e00-\\u9fa5a-zA-Z0-9+-（）()]+", "g"))[0];
            return true;
          }
          return false;
        });
        return index;
      };
      const findProvinceByCity = () => {
        for (let i2 = 0; i2 < citys2.length; i2++) {
          const index = findCityIndex(citys2[i2]);
          if (index !== -1) {
            return { provinceIndex: i2, cityIndex: index };
          }
        }
        return { provinceIndex: -1, cityIndex: -1 };
      };
      const findProvinceByArea = () => {
        for (let i2 = 0; i2 < areas2.length; i2++) {
          for (let j2 = 0; j2 < areas2[i2].length; j2++) {
            const index = findAreaIndex(areas2[i2][j2]);
            if (index !== -1) {
              return { provinceIndex: i2, cityIndex: j2, areaIndex: index };
            }
          }
        }
        return { provinceIndex: -1, cityIndex: -1, areaIndex: -1 };
      };
      let provinceIndex = findProvinceIndex();
      let cityIndex = -1;
      let areaIndex = -1;
      if (provinceIndex === -1) {
        const cityResult = findProvinceByCity();
        provinceIndex = cityResult.provinceIndex;
        cityIndex = cityResult.cityIndex;
      }
      if (provinceIndex === -1) {
        const areaResult = findProvinceByArea();
        provinceIndex = areaResult.provinceIndex;
        cityIndex = areaResult.cityIndex;
        areaIndex = areaResult.areaIndex;
      }
      if (provinceIndex === -1)
        return { code: -1, msg: "省份没有找到，请输入正确的地址" };
      Object.assign(province, provinces2[provinceIndex]);
      const cityList = citys2[provinceIndex];
      if (cityIndex === -1) {
        cityIndex = findCityIndex(cityList);
        if (cityIndex === -1)
          return { code: -1, msg: "地级市没有找到，请输入正确的地址" };
      }
      Object.assign(city, cityList[cityIndex]);
      const areaList2 = areas2[provinceIndex][cityIndex];
      if (areaIndex === -1) {
        areaIndex = findAreaIndex(areaList2);
        if (areaIndex === -1)
          return { code: -1, msg: "县级市没有找到，请输入正确的地址" };
      }
      Object.assign(area, areaList2[areaIndex]);
      const formatted_address = `${province.name}${city.name}${area.name}${address}`;
      const provinceName = province.name.substring(0, 2);
      const not_address_text = (addressText.substring(0, addressText.indexOf(provinceName)) + addressText.substring(addressText.indexOf(address) + address.length)).trim();
      return {
        code: 0,
        msg: "ok",
        data: {
          province,
          city,
          area,
          address,
          formatted_address
        },
        not_address_text
      };
    }
    // 智能解析姓名和手机号
    nameMobileDiscern(text) {
      if (!text)
        return { name: "", mobile: "" };
      let name = "";
      let mobile2 = "";
      const mobilePatterns = [
        new RegExp("1\\d{2}([\\s-]?\\d{4}){2}", "g")
      ];
      let mobileMatchText;
      for (const pattern2 of mobilePatterns) {
        const matches = text.match(pattern2);
        if (matches && matches.length > 0) {
          mobile2 = matches[0].replace(new RegExp("[\\s\\-\\.]", "g"), "");
          mobileMatchText = matches[0];
          break;
        }
      }
      let cleanText = text;
      if (mobile2) {
        cleanText = cleanText.replace(mobileMatchText, "");
      }
      const labelPatterns = [
        new RegExp("^姓名[：:]\\s*"),
        new RegExp("^收货人[：:]\\s*"),
        new RegExp("^收件人[：:]\\s*"),
        new RegExp("^联系人[：:]\\s*"),
        new RegExp("^name[：:]\\s*", "i"),
        new RegExp("^收[：:]\\s*"),
        new RegExp("^人[：:]\\s*"),
        new RegExp("^电话[：:]\\s*"),
        new RegExp("^手机[：:]\\s*"),
        new RegExp("^tel[：:]\\s*", "i"),
        new RegExp("^phone[：:]\\s*", "i"),
        new RegExp("^mobile[：:]\\s*", "i"),
        new RegExp("^地址[：:]\\s*"),
        new RegExp("^address[：:]\\s*", "i"),
        new RegExp("^收货地址[：:]\\s*"),
        new RegExp("^收件地址[：:]\\s*")
      ];
      for (const pattern2 of labelPatterns) {
        cleanText = cleanText.replace(pattern2, "");
      }
      cleanText = cleanText.replace(new RegExp("\\s+", "g"), " ").trim();
      const namePatterns = [
        // 英文+称谓（如：vk先生、John先生、Mary女士等）- 最具体，优先匹配
        new RegExp("[A-Za-z]+[\\u4e00-\\u9fa5]{1,3}", "g"),
        // 中文姓名（2-6个汉字，支持复姓和少数民族姓名）
        new RegExp("[\\u4e00-\\u9fa5]{2,6}", "g"),
        // 英文姓名（支持多种格式：全名、简称、首字母等）
        new RegExp("[A-Za-z]+(\\s+[A-Za-z]+)*", "g")
      ];
      for (const pattern2 of namePatterns) {
        const matches = cleanText.match(pattern2);
        if (matches && matches.length > 0) {
          const validNames = matches.filter((match) => {
            const addressWords = ["省", "市", "区", "县", "镇", "村", "路", "街", "号", "楼", "室", "单元", "栋", "层", "小区", "大厦", "广场", "花园"];
            const isAddressWord = addressWords.some((word) => match.includes(word));
            const labelWords = ["姓名", "收货人", "收件人", "联系人", "收", "人", "电话", "手机", "地址", "收货", "收件", "联系"];
            const isLabelWord = labelWords.some((word) => match.includes(word));
            const isNumber2 = new RegExp("^\\d+$").test(match);
            const isTooShort = match.length < 2;
            const isChinese = new RegExp("[\\u4e00-\\u9fa5]").test(match);
            const isEnglishWithTitle = new RegExp("^[A-Za-z]+[\\u4e00-\\u9fa5]{1,3}$").test(match);
            const isTooLong = isEnglishWithTitle ? false : isChinese ? match.length > 8 : match.length > 25;
            const hasSpecialChars = isChinese ? new RegExp("[^\\u4e00-\\u9fa5a-zA-Z\\s]").test(match) : new RegExp("[^a-zA-Z\\s]").test(match);
            return !isAddressWord && !isLabelWord && !isNumber2 && !isTooShort && !isTooLong && !hasSpecialChars;
          });
          if (validNames.length > 0) {
            name = validNames.sort((a2, b2) => a2.length - b2.length)[0];
            break;
          }
        }
      }
      if (!name) {
        const remainingText = cleanText.trim();
        if (remainingText) {
          const parts = remainingText.split(new RegExp("[\\s，,。.！!？?；;：:]"));
          for (const part of parts) {
            const trimmedPart = part.trim();
            const isChineseName = new RegExp("^[\\u4e00-\\u9fa5]{2,6}$").test(trimmedPart);
            const isEnglishName = new RegExp("^[a-zA-Z]{2,20}$").test(trimmedPart);
            const isEnglishWithTitle = new RegExp("^[a-zA-Z]+[\\u4e00-\\u9fa5]{1,3}$").test(trimmedPart);
            if (isChineseName || isEnglishName || isEnglishWithTitle) {
              const addressWords = ["省", "市", "区", "县", "镇", "村", "路", "街", "号", "楼", "室", "单元", "栋", "层", "小区", "大厦", "广场", "花园"];
              const labelWords = ["姓名", "收货人", "收件人", "联系人", "收", "人", "电话", "手机", "地址", "收货", "收件", "联系"];
              const isAddressWord = addressWords.some((word) => trimmedPart.includes(word));
              const isLabelWord = labelWords.some((word) => trimmedPart.includes(word));
              if (!isAddressWord && !isLabelWord) {
                name = trimmedPart;
                break;
              }
            }
          }
        }
      }
      if (name) {
        name = name.replace(new RegExp("\\s+", "g"), "").trim();
      }
      return { name, mobile: mobile2 };
    }
  }
  const addressDiscern = new AddressDiscern({
    provinces,
    citys,
    areas
  });
  const _sfc_main$1f = {
    name: "u-picker",
    emits: ["update:modelValue", "input", "confirm", "cancel", "columnchange"],
    props: {
      // 通过双向绑定控制组件的弹出与收起
      value: {
        type: Boolean,
        default: false
      },
      modelValue: {
        type: Boolean,
        default: false
      },
      // picker中需要显示的参数
      params: {
        type: [Object, null],
        default() {
          return {
            year: true,
            month: true,
            day: true,
            hour: false,
            minute: false,
            second: false,
            province: true,
            city: true,
            area: true,
            timestamp: true
          };
        }
      },
      // 当mode=selector或者mode=multiSelector时，提供的数组
      range: {
        type: Array,
        default() {
          return [];
        }
      },
      // 当mode=selector或者mode=multiSelector时，提供的默认选中的下标
      defaultSelector: {
        type: Array,
        default() {
          return [0];
        }
      },
      // 当 range 是一个 Array＜Object＞ 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容
      rangeKey: {
        type: String,
        default: ""
      },
      // 模式选择，region-地区类型，time-时间类型，selector-单列模式，multiSelector-多列模式
      mode: {
        type: String,
        default: "time"
      },
      // 年份开始时间
      startYear: {
        type: [String, Number],
        default: 1950
      },
      // 年份结束时间
      endYear: {
        type: [String, Number],
        default: 2050
      },
      // "取消"按钮的颜色
      cancelColor: {
        type: String,
        default: "#606266"
      },
      // "确定"按钮的颜色
      confirmColor: {
        type: String,
        default: "#2979ff"
      },
      // 默认显示的时间，2025-07-02 || 2025-07-02 13:01:00 || 2025/07/02
      defaultTime: {
        type: [String, null],
        default: ""
      },
      // 默认显示的地区，可传类似["河北省", "秦皇岛市", "北戴河区"]
      defaultRegion: {
        type: [Array, null],
        default() {
          return [];
        }
      },
      // 时间模式时，是否显示后面的年月日中文提示
      showTimeTag: {
        type: Boolean,
        default: true
      },
      // 默认显示地区的编码，defaultRegion和areaCode同时存在，areaCode优先，可传类似["13", "1303", "130304"]
      areaCode: {
        type: [Array, null],
        default() {
          return [];
        }
      },
      safeAreaInsetBottom: {
        type: Boolean,
        default: false
      },
      // 是否允许通过点击遮罩关闭Picker
      maskCloseAble: {
        type: Boolean,
        default: true
      },
      // 弹出的z-index值
      zIndex: {
        type: [String, Number],
        default: 0
      },
      // 顶部标题
      title: {
        type: String,
        default: ""
      },
      // 取消按钮的文字
      cancelText: {
        type: String,
        default: "取消"
      },
      // 确认按钮的文字
      confirmText: {
        type: String,
        default: "确认"
      },
      // 遮罩的模糊度
      blur: {
        type: [String, Number],
        default: 0
      }
    },
    data() {
      return {
        popupValue: false,
        years: [],
        months: [],
        days: [],
        hours: [],
        minutes: [],
        seconds: [],
        year: 0,
        month: 0,
        day: 0,
        hour: 0,
        minute: 0,
        second: 0,
        reset: false,
        startDate: "",
        endDate: "",
        valueArr: [],
        provinces,
        citys: citys[0],
        areas: areas[0][0],
        province: 0,
        city: 0,
        area: 0,
        moving: false
        // 列是否还在滑动中，微信小程序如果在滑动中就点确定，结果可能不准确
      };
    },
    mounted() {
      this.init();
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      propsChange() {
        let { mode, defaultTime, startYear, endYear, defaultRegion, areaCode, defaultSelector } = this;
        return JSON.stringify({ mode, defaultTime, startYear, endYear, defaultRegion, areaCode, defaultSelector });
      },
      regionChange() {
        return `${this.province}-${this.city}`;
      },
      yearAndMonth() {
        return `${this.year}-${this.month}`;
      },
      uZIndex() {
        return this.zIndex ? this.zIndex : this.$u.zIndex.popup;
      },
      // 用来兼容小程序、App、h5
      showColumnCom() {
        return true;
      }
    },
    watch: {
      propsChange() {
        this.reset = true;
        setTimeout(() => this.init(), 10);
      },
      // 如果地区发生变化，为了让picker联动起来，必须重置this.citys和this.areas
      regionChange(val2) {
        this.citys = citys[this.province];
        this.areas = areas[this.province][this.city];
      },
      // watch监听月份的变化，实时变更日的天数，因为不同月份，天数不一样
      // 一个月可能有30，31天，甚至闰年2月的29天，平年2月28天
      yearAndMonth(val2) {
        if (this.params && this.params.year)
          this.setDays();
      },
      // 微信和QQ小程序由于一些奇怪的原因(故同时对所有平台均初始化一遍)，需要重新初始化才能显示正确的值
      valueCom: {
        immediate: true,
        handler(n2) {
          if (n2) {
            this.reset = true;
            setTimeout(() => this.init(), 10);
          }
          this.popupValue = n2;
        }
      }
    },
    methods: {
      // 标识滑动开始，只有微信小程序才有这样的事件
      pickstart() {
      },
      // 标识滑动结束
      pickend() {
      },
      // 对单列和多列形式的判断是否有传入变量的情况
      getItemValue(item, mode) {
        if (this.mode == mode) {
          return typeof item == "object" ? item[this.rangeKey] : item;
        }
      },
      // 小于10前面补0，用于月份，日期，时分秒等
      formatNumber(num) {
        return +num < 10 ? "0" + num : String(num);
      },
      // 生成递进的数组
      generateArray: function(start, end) {
        start = Number(start);
        end = Number(end);
        end = end > start ? end : start;
        return [...Array(end + 1).keys()].slice(start);
      },
      getIndex: function(arr, val2) {
        let index = arr.indexOf(val2);
        return ~index ? index : 0;
      },
      //日期时间处理
      initTimeValue() {
        let fdate;
        if (!this.defaultTime) {
          fdate = timeFormat(Date.now(), "yyyy/mm/dd hh:MM:ss");
        } else {
          fdate = this.defaultTime.replace(/\-/g, "/");
        }
        fdate = fdate && fdate.indexOf("/") == -1 ? `2020/01/01 ${fdate}` : fdate;
        let arr1 = fdate.split(" ");
        let arr1_1 = arr1[0] || "";
        let arr1_2 = arr1[1] || "";
        let arr2;
        if (arr1_1.indexOf("-") > -1) {
          arr2 = arr1_1.split("-");
        } else {
          arr2 = arr1_1.split("/");
        }
        let arr3 = arr1_2.split(":");
        let dateObj = {
          year: Number(arr2[0]),
          month: Number(arr2[1]) || 1,
          day: Number(arr2[2]) || 1,
          hour: Number(arr3[0]) || 0,
          minute: Number(arr3[1]) || 0,
          second: Number(arr3[2]) || 0
        };
        for (let key in dateObj) {
          if (dateObj[key] >= 0 && dateObj[key] < 10)
            dateObj[key] = `0${dateObj[key]}`;
        }
        fdate = `${dateObj.year}/${dateObj.month}/${dateObj.day} ${dateObj.hour}:${dateObj.minute}:${dateObj.second}`;
        let time = null;
        if (fdate)
          time = new Date(fdate);
        else
          time = /* @__PURE__ */ new Date();
        this.year = time.getFullYear();
        this.month = Number(time.getMonth()) + 1;
        this.day = time.getDate();
        this.hour = time.getHours();
        this.minute = time.getMinutes();
        this.second = time.getSeconds();
      },
      init() {
        this.valueArr = [];
        this.reset = false;
        let params = this.params || {};
        if (this.mode == "time") {
          this.initTimeValue();
          if (params.year) {
            this.valueArr.push(0);
            this.setYears();
          }
          if (params.month) {
            this.valueArr.push(0);
            this.setMonths();
          }
          if (params.day) {
            this.valueArr.push(0);
            this.setDays();
          }
          if (params.hour) {
            this.valueArr.push(0);
            this.setHours();
          }
          if (params.minute) {
            this.valueArr.push(0);
            this.setMinutes();
          }
          if (params.second) {
            this.valueArr.push(0);
            this.setSeconds();
          }
        } else if (this.mode == "region") {
          if (params.province) {
            this.valueArr.push(0);
            this.setProvinces();
          }
          if (params.city) {
            this.valueArr.push(0);
            this.setCitys();
          }
          if (params.area) {
            this.valueArr.push(0);
            this.setAreas();
          }
        } else if (this.mode == "selector") {
          this.valueArr = this.defaultSelector;
        } else if (this.mode == "multiSelector") {
          this.valueArr = this.defaultSelector;
          this.multiSelectorValue = this.defaultSelector;
        }
        this.$forceUpdate();
      },
      // 设置picker的某一列值
      setYears() {
        this.years = this.generateArray(this.startYear, this.endYear);
        this.valueArr.splice(this.valueArr.length - 1, 1, this.getIndex(this.years, this.year));
      },
      setMonths() {
        this.months = this.generateArray(1, 12);
        this.valueArr.splice(this.valueArr.length - 1, 1, this.getIndex(this.months, this.month));
      },
      setDays() {
        let params = this.params || {};
        let totalDays = new Date(this.year, this.month, 0).getDate();
        this.days = this.generateArray(1, totalDays);
        let index = 0;
        if (params.year && params.month)
          index = 2;
        else if (params.month)
          index = 1;
        else if (params.year)
          index = 1;
        else
          index = 0;
        if (this.day > this.days.length)
          this.day = this.days.length;
        this.valueArr.splice(index, 1, this.getIndex(this.days, this.day));
      },
      setHours() {
        this.hours = this.generateArray(0, 23);
        this.valueArr.splice(this.valueArr.length - 1, 1, this.getIndex(this.hours, this.hour));
      },
      setMinutes() {
        this.minutes = this.generateArray(0, 59);
        this.valueArr.splice(this.valueArr.length - 1, 1, this.getIndex(this.minutes, this.minute));
      },
      setSeconds() {
        this.seconds = this.generateArray(0, 59);
        this.valueArr.splice(this.valueArr.length - 1, 1, this.getIndex(this.seconds, this.second));
      },
      setProvinces() {
        let params = this.params || {};
        if (!params.province)
          return;
        let tmp = "";
        let useCode = false;
        if (this.areaCode && this.areaCode.length) {
          tmp = this.areaCode[0];
          useCode = true;
        } else if (this.defaultRegion && this.defaultRegion.length)
          tmp = this.defaultRegion[0];
        else
          tmp = 0;
        provinces.map((v2, k) => {
          if (useCode ? v2.code == tmp : v2.name == tmp) {
            tmp = k;
          }
        });
        this.province = tmp;
        this.provinces = provinces;
        this.valueArr.splice(0, 1, this.province);
      },
      setCitys() {
        let params = this.params || {};
        if (!params.city)
          return;
        let tmp = "";
        let useCode = false;
        if (this.areaCode && this.areaCode.length) {
          tmp = this.areaCode[1];
          useCode = true;
        } else if (this.defaultRegion && this.defaultRegion.length)
          tmp = this.defaultRegion[1];
        else
          tmp = 0;
        citys[this.province].map((v2, k) => {
          if (useCode ? v2.code == tmp : v2.name == tmp) {
            tmp = k;
          }
        });
        this.city = tmp;
        this.citys = citys[this.province];
        this.valueArr.splice(1, 1, this.city);
      },
      setAreas() {
        let params = this.params || {};
        if (!params.area)
          return;
        let tmp = "";
        let useCode = false;
        if (this.areaCode && this.areaCode.length) {
          tmp = this.areaCode[2];
          useCode = true;
        } else if (this.defaultRegion && this.defaultRegion.length)
          tmp = this.defaultRegion[2];
        else
          tmp = 0;
        areas[this.province][this.city].map((v2, k) => {
          if (useCode ? v2.code == tmp : v2.name == tmp) {
            tmp = k;
          }
        });
        this.area = tmp;
        this.areas = areas[this.province][this.city];
        this.valueArr.splice(2, 1, this.area);
      },
      close() {
        this.$emit("input", false);
        this.$emit("update:modelValue", false);
      },
      // 用户更改picker的列选项
      change(e2) {
        let params = this.params || {};
        let oldValueArr = JSON.parse(JSON.stringify(this.valueArr || []));
        this.valueArr = e2.detail.value;
        let i2 = 0;
        if (this.mode == "time") {
          if (params.year)
            this.year = this.years[this.valueArr[i2++]];
          if (params.month)
            this.month = this.months[this.valueArr[i2++]];
          if (params.day)
            this.day = this.days[this.valueArr[i2++]];
          if (params.hour)
            this.hour = this.hours[this.valueArr[i2++]];
          if (params.minute)
            this.minute = this.minutes[this.valueArr[i2++]];
          if (params.second)
            this.second = this.seconds[this.valueArr[i2++]];
        } else if (this.mode == "region") {
          if (params.province)
            this.province = this.valueArr[i2++];
          if (params.city)
            this.city = this.valueArr[i2++];
          if (params.area)
            this.area = this.valueArr[i2++];
        } else if (this.mode == "multiSelector") {
          let index = null;
          oldValueArr.map((val2, idx) => {
            if (val2 !== e2.detail.value[idx])
              index = idx;
          });
          if (index !== null) {
            this.$emit("columnchange", {
              column: index,
              index: e2.detail.value[index]
            });
          }
        }
      },
      // 用户点击确定按钮
      getResult(event = null) {
        let params = this.params || {};
        let result = {};
        if (this.mode == "time") {
          if (params.year)
            result.year = this.formatNumber(this.year || 0);
          if (params.month)
            result.month = this.formatNumber(this.month || 0);
          if (params.day)
            result.day = this.formatNumber(this.day || 0);
          if (params.hour)
            result.hour = this.formatNumber(this.hour || 0);
          if (params.minute)
            result.minute = this.formatNumber(this.minute || 0);
          if (params.second)
            result.second = this.formatNumber(this.second || 0);
          if (params.timestamp)
            result.timestamp = this.getTimestamp();
        } else if (this.mode == "region") {
          if (params.province)
            result.province = provinces[this.province];
          if (params.city)
            result.city = citys[this.province][this.city];
          if (params.area)
            result.area = areas[this.province][this.city][this.area];
        } else if (this.mode == "selector") {
          result = this.valueArr;
        } else if (this.mode == "multiSelector") {
          result = this.valueArr;
        }
        if (event)
          this.$emit(event, result);
        this.close();
      },
      // 获取时间戳
      getTimestamp() {
        let time = this.year + "/" + this.month + "/" + this.day + " " + this.hour + ":" + this.minute + ":" + this.second;
        return new Date(time).getTime() / 1e3;
      },
      // 获得数据源
      getDateSource() {
        return {
          provinces,
          citys,
          areas
        };
      },
      // 智能识别省市区
      regionDiscern(text) {
        return addressDiscern.regionDiscern(text);
      },
      // 智能识别收货信息
      addressDiscern(text) {
        return addressDiscern.discern(text);
      },
      stop() {
      }
    }
  };
  function _sfc_render$1e(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_popup = resolveEasycom(vue.resolveDynamicComponent("u-popup"), __easycom_3$4);
    return vue.openBlock(), vue.createBlock(_component_u_popup, {
      maskCloseAble: $props.maskCloseAble,
      mode: "bottom",
      popup: false,
      modelValue: $data.popupValue,
      "onUpdate:modelValue": _cache[16] || (_cache[16] = ($event) => $data.popupValue = $event),
      length: "auto",
      safeAreaInsetBottom: $props.safeAreaInsetBottom,
      onClose: $options.close,
      "z-index": $options.uZIndex,
      blur: $props.blur
    }, {
      default: vue.withCtx(() => [
        vue.createElementVNode("view", { class: "u-datetime-picker" }, [
          vue.createElementVNode(
            "view",
            {
              class: "u-picker-header",
              onTouchmove: _cache[3] || (_cache[3] = vue.withModifiers((...args) => $options.stop && $options.stop(...args), ["stop", "prevent"]))
            },
            [
              vue.createElementVNode(
                "view",
                {
                  class: "u-btn-picker u-btn-picker--tips",
                  style: vue.normalizeStyle({ color: $props.cancelColor }),
                  "hover-class": "u-opacity",
                  "hover-stay-time": 150,
                  onClick: _cache[0] || (_cache[0] = ($event) => $options.getResult("cancel"))
                },
                vue.toDisplayString($props.cancelText),
                5
                /* TEXT, STYLE */
              ),
              vue.createElementVNode(
                "view",
                { class: "u-picker__title" },
                vue.toDisplayString($props.title),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "view",
                {
                  class: "u-btn-picker u-btn-picker--primary",
                  style: vue.normalizeStyle({ color: $data.moving ? $props.cancelColor : $props.confirmColor }),
                  "hover-class": "u-opacity",
                  "hover-stay-time": 150,
                  onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers((...args) => $options.stop && $options.stop(...args), ["stop"])),
                  onClick: _cache[2] || (_cache[2] = vue.withModifiers(($event) => $options.getResult("confirm"), ["stop"]))
                },
                vue.toDisplayString($props.confirmText),
                37
                /* TEXT, STYLE, NEED_HYDRATION */
              )
            ],
            32
            /* NEED_HYDRATION */
          ),
          vue.createElementVNode("view", { class: "u-picker-body" }, [
            $props.mode == "region" ? (vue.openBlock(), vue.createElementBlock("picker-view", {
              key: 0,
              value: $data.valueArr,
              onChange: _cache[4] || (_cache[4] = (...args) => $options.change && $options.change(...args)),
              class: "u-picker-view",
              onPickstart: _cache[5] || (_cache[5] = (...args) => $options.pickstart && $options.pickstart(...args)),
              onPickend: _cache[6] || (_cache[6] = (...args) => $options.pickend && $options.pickend(...args))
            }, [
              $options.showColumnCom && $props.params && $props.params.province ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 0 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.provinces, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "view",
                        { class: "u-line-1" },
                        vue.toDisplayString(item.name),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.city ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 1 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.citys, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "view",
                        { class: "u-line-1" },
                        vue.toDisplayString(item.name),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.area ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 2 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.areas, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "view",
                        { class: "u-line-1" },
                        vue.toDisplayString(item.name),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true)
            ], 40, ["value"])) : $props.mode == "time" ? (vue.openBlock(), vue.createElementBlock("picker-view", {
              key: 1,
              value: $data.valueArr,
              onChange: _cache[7] || (_cache[7] = (...args) => $options.change && $options.change(...args)),
              class: "u-picker-view",
              onPickstart: _cache[8] || (_cache[8] = (...args) => $options.pickstart && $options.pickstart(...args)),
              onPickend: _cache[9] || (_cache[9] = (...args) => $options.pickend && $options.pickend(...args))
            }, [
              $options.showColumnCom && $props.params && $props.params.year ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 0 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.years, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString(item) + " ",
                        1
                        /* TEXT */
                      ),
                      $props.showTimeTag ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "u-text"
                      }, "年")) : vue.createCommentVNode("v-if", true)
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.month ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 1 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.months, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString($options.formatNumber(item)) + " ",
                        1
                        /* TEXT */
                      ),
                      $props.showTimeTag ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "u-text"
                      }, "月")) : vue.createCommentVNode("v-if", true)
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.day ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 2 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.days, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString($options.formatNumber(item)) + " ",
                        1
                        /* TEXT */
                      ),
                      $props.showTimeTag ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "u-text"
                      }, "日")) : vue.createCommentVNode("v-if", true)
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.hour ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 3 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.hours, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString($options.formatNumber(item)) + " ",
                        1
                        /* TEXT */
                      ),
                      $props.showTimeTag ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "u-text"
                      }, "时")) : vue.createCommentVNode("v-if", true)
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.minute ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 4 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.minutes, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString($options.formatNumber(item)) + " ",
                        1
                        /* TEXT */
                      ),
                      $props.showTimeTag ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "u-text"
                      }, "分")) : vue.createCommentVNode("v-if", true)
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $options.showColumnCom && $props.params && $props.params.second ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 5 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.seconds, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString($options.formatNumber(item)) + " ",
                        1
                        /* TEXT */
                      ),
                      $props.showTimeTag ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        class: "u-text"
                      }, "秒")) : vue.createCommentVNode("v-if", true)
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true)
            ], 40, ["value"])) : $props.mode == "selector" ? (vue.openBlock(), vue.createElementBlock("picker-view", {
              key: 2,
              value: $data.valueArr,
              onChange: _cache[10] || (_cache[10] = (...args) => $options.change && $options.change(...args)),
              class: "u-picker-view",
              onPickstart: _cache[11] || (_cache[11] = (...args) => $options.pickstart && $options.pickstart(...args)),
              onPickend: _cache[12] || (_cache[12] = (...args) => $options.pickend && $options.pickend(...args))
            }, [
              $options.showColumnCom ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 0 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($props.range, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "u-column-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "view",
                        { class: "u-line-1" },
                        vue.toDisplayString($options.getItemValue(item, "selector")),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true)
            ], 40, ["value"])) : $props.mode == "multiSelector" ? (vue.openBlock(), vue.createElementBlock("picker-view", {
              key: 3,
              value: $data.valueArr,
              onChange: _cache[13] || (_cache[13] = (...args) => $options.change && $options.change(...args)),
              class: "u-picker-view",
              onPickstart: _cache[14] || (_cache[14] = (...args) => $options.pickstart && $options.pickstart(...args)),
              onPickend: _cache[15] || (_cache[15] = (...args) => $options.pickend && $options.pickend(...args))
            }, [
              $options.showColumnCom ? (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                { key: 0 },
                vue.renderList($props.range, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("picker-view-column", { key: index }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(item, (item1, index1) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "u-column-item",
                          key: index1
                        }, [
                          vue.createElementVNode(
                            "view",
                            { class: "u-line-1" },
                            vue.toDisplayString($options.getItemValue(item1, "multiSelector")),
                            1
                            /* TEXT */
                          )
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              )) : vue.createCommentVNode("v-if", true)
            ], 40, ["value"])) : vue.createCommentVNode("v-if", true)
          ])
        ])
      ]),
      _: 1
      /* STABLE */
    }, 8, ["maskCloseAble", "modelValue", "safeAreaInsetBottom", "onClose", "z-index", "blur"]);
  }
  const __easycom_2$7 = /* @__PURE__ */ _export_sfc(_sfc_main$1f, [["render", _sfc_render$1e], ["__scopeId", "data-v-e8b59df9"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-picker/u-picker.vue"]]);
  const _sfc_main$1e = {
    name: "u-line-progress",
    props: {
      // 两端是否显示半圆形
      round: {
        type: Boolean,
        default: true
      },
      // 主题颜色
      type: {
        type: String,
        default: ""
      },
      // 激活部分的颜色
      activeColor: {
        type: String,
        default: "#19be6b"
      },
      inactiveColor: {
        type: String,
        default: "#ececec"
      },
      // 进度百分比，数值
      percent: {
        type: Number,
        default: 0
      },
      // 是否在进度条内部显示百分比的值
      showPercent: {
        type: Boolean,
        default: true
      },
      // 进度条的高度，单位rpx
      height: {
        type: [Number, String],
        default: 28
      },
      // 是否显示条纹
      striped: {
        type: Boolean,
        default: false
      },
      // 条纹是否显示活动状态
      stripedActive: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {};
    },
    computed: {
      progressStyle() {
        let style = {};
        style.width = this.percent + "%";
        if (this.activeColor)
          style.backgroundColor = this.activeColor;
        return style;
      }
    },
    methods: {}
  };
  function _sfc_render$1d(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "u-progress",
        style: vue.normalizeStyle({
          borderRadius: $props.round ? "100rpx" : 0,
          height: $props.height + "rpx",
          backgroundColor: $props.inactiveColor
        })
      },
      [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass([[
              $props.type ? `u-type-${$props.type}-bg` : "",
              $props.striped ? "u-striped" : "",
              $props.striped && $props.stripedActive ? "u-striped-active" : ""
            ], "u-active"]),
            style: vue.normalizeStyle([$options.progressStyle])
          },
          [
            _ctx.$slots.default || _ctx.$slots.$default ? vue.renderSlot(_ctx.$slots, "default", { key: 0 }, void 0, true) : $props.showPercent ? (vue.openBlock(), vue.createElementBlock(
              vue.Fragment,
              { key: 1 },
              [
                vue.createTextVNode(
                  vue.toDisplayString($props.percent + "%"),
                  1
                  /* TEXT */
                )
              ],
              64
              /* STABLE_FRAGMENT */
            )) : vue.createCommentVNode("v-if", true)
          ],
          6
          /* CLASS, STYLE */
        )
      ],
      4
      /* STYLE */
    );
  }
  const __easycom_2$6 = /* @__PURE__ */ _export_sfc(_sfc_main$1e, [["render", _sfc_render$1d], ["__scopeId", "data-v-af2fba7d"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-line-progress/u-line-progress.vue"]]);
  const _sfc_main$1d = {
    name: "u-upload",
    emits: ["update:file-list", "on-oversize", "on-list-change", "on-preview", "on-remove", "on-success", "on-change", "on-error", "on-progress", "on-uploaded", "on-choose-complete", "on-choose-fail"],
    props: {
      //是否显示组件自带的图片预览功能
      showUploadList: {
        type: Boolean,
        default: true
      },
      // 后端地址
      action: {
        type: String,
        default: ""
      },
      // 最大上传数量
      maxCount: {
        type: [String, Number],
        default: 52
      },
      //  是否显示进度条
      showProgress: {
        type: Boolean,
        default: true
      },
      // 是否启用
      disabled: {
        type: Boolean,
        default: false
      },
      // 预览上传的图片时的裁剪模式，和image组件mode属性一致
      imageMode: {
        type: String,
        default: "aspectFill"
      },
      // 头部信息
      header: {
        type: Object,
        default() {
          return {};
        }
      },
      // 额外携带的参数
      formData: {
        type: Object,
        default() {
          return {};
        }
      },
      // 上传的文件字段名
      name: {
        type: String,
        default: "file"
      },
      // 所选的图片的尺寸, 可选值为original compressed
      sizeType: {
        type: Array,
        default() {
          return ["original", "compressed"];
        }
      },
      sourceType: {
        type: Array,
        default() {
          return ["album", "camera"];
        }
      },
      // 是否在点击预览图后展示全屏图片预览
      previewFullImage: {
        type: Boolean,
        default: true
      },
      // 是否开启图片多选，部分安卓机型不支持
      multiple: {
        type: Boolean,
        default: true
      },
      // 是否展示删除按钮
      deletable: {
        type: Boolean,
        default: true
      },
      // 文件大小限制，单位为byte
      maxSize: {
        type: [String, Number],
        default: Number.MAX_VALUE
      },
      // 显示已上传的文件列表
      fileList: {
        type: Array,
        default() {
          return [];
        }
      },
      // 上传区域的提示文字
      uploadText: {
        type: String,
        default: "选择图片"
      },
      // 是否自动上传
      autoUpload: {
        type: Boolean,
        default: true
      },
      // 是否显示toast消息提示
      showTips: {
        type: Boolean,
        default: true
      },
      // 是否通过slot自定义传入选择图标的按钮
      customBtn: {
        type: Boolean,
        default: false
      },
      // 内部预览图片区域和选择图片按钮的区域宽度
      width: {
        type: [String, Number],
        default: 200
      },
      // 内部预览图片区域和选择图片按钮的区域高度
      height: {
        type: [String, Number],
        default: 200
      },
      // 右上角关闭按钮的背景颜色
      delBgColor: {
        type: String,
        default: "#fa3534"
      },
      // 右上角关闭按钮的叉号图标的颜色
      delColor: {
        type: String,
        default: "#ffffff"
      },
      // 右上角删除图标名称，只能为uView内置图标
      delIcon: {
        type: String,
        default: "close"
      },
      // 右下角成功图标名称，只能为uView内置图标
      successIcon: {
        type: String,
        default: "checkbox-mark"
      },
      // 右下角成功的叉号图标的颜色
      successColor: {
        type: String,
        default: "#ffffff"
      },
      // 如果上传后的返回值为json字符串，是否自动转json
      toJson: {
        type: Boolean,
        default: true
      },
      // 上传前的钩子，每个文件上传前都会执行
      beforeUpload: {
        type: Function,
        default: null
      },
      // 移除文件前的钩子
      beforeRemove: {
        type: Function,
        default: null
      },
      // 允许上传的图片后缀
      limitType: {
        type: Array,
        default() {
          return ["png", "jpg", "jpeg", "webp", "gif", "image"];
        }
      },
      // 在各个回调事件中的最后一个参数返回，用于区别是哪一个组件的事件
      index: {
        type: [Number, String],
        default: ""
      }
    },
    mounted() {
    },
    data() {
      return {
        lists: [],
        isInCount: true,
        uploading: false
      };
    },
    watch: {
      fileList: {
        immediate: true,
        handler(val2) {
          let that = this;
          let lists = JSON.parse(JSON.stringify(that.lists));
          val2.map((value) => {
            let tmp = lists.some((val3) => {
              return val3.url == value.url;
            });
            if (!tmp) {
              lists.push({ url: value.url, error: false, progress: 100 });
            }
          });
          that.lists = JSON.parse(JSON.stringify(lists));
        }
      },
      // 监听lists的变化，发出事件
      lists: {
        deep: true,
        handler(n2) {
          this.$emit("update:file-list", n2);
          this.$emit("on-list-change", n2, this.index);
        }
      }
    },
    methods: {
      // 清除列表
      clear() {
        this.lists = [];
      },
      // 重新上传队列中上传失败的所有文件
      reUpload() {
        this.uploadFile();
      },
      // 选择图片
      selectFile() {
        let that = this;
        if (that.disabled)
          return;
        const { name = "", maxCount, multiple, maxSize, sizeType, camera, compressed, maxDuration, sourceType } = that;
        let chooseFile = null;
        let lists = JSON.parse(JSON.stringify(that.lists));
        const newMaxCount = maxCount - lists.length;
        chooseFile = new Promise((resolve, reject) => {
          uni.chooseImage({
            count: multiple ? newMaxCount > 9 ? 9 : newMaxCount : 1,
            sourceType,
            sizeType,
            success: resolve,
            fail: reject
          });
        });
        chooseFile.then((res2) => {
          let listOldLength = that.lists.length;
          res2.tempFiles.map((val2, index) => {
            if (!that.checkFileExt(val2))
              return;
            if (!multiple && index >= 1)
              return;
            if (val2.size > maxSize) {
              that.$emit("on-oversize", val2, that.lists, that.index);
              that.showToast("超出允许的文件大小");
            } else {
              if (maxCount <= lists.length) {
                that.$emit("on-exceed", val2, that.lists, that.index);
                that.showToast("超出最大允许的文件个数");
                return;
              }
              lists.push({
                url: val2.path,
                progress: 0,
                error: false,
                file: val2
              });
            }
          });
          this.deepClone(lists, that.lists);
          that.$emit("on-choose-complete", that.lists, that.index);
          if (that.autoUpload)
            that.uploadFile(listOldLength);
        }).catch((error) => {
          that.$emit("on-choose-fail", error);
        });
      },
      // 提示用户消息
      showToast(message2, force = false) {
        if (this.showTips || force) {
          uni.showToast({
            title: message2,
            icon: "none"
          });
        }
      },
      // 该方法供用户通过ref调用，手动上传
      upload() {
        this.uploadFile();
      },
      // 对失败的图片重新上传
      retry(index) {
        this.lists[index].progress = 0;
        this.lists[index].error = false;
        this.lists[index].response = null;
        uni.showLoading({
          title: "重新上传"
        });
        this.uploadFile(index);
      },
      // 上传图片
      async uploadFile(index = 0) {
        if (this.disabled)
          return;
        if (this.uploading)
          return;
        if (index >= this.lists.length) {
          this.$emit("on-uploaded", this.lists, this.index);
          return;
        }
        if (this.lists[index].progress == 100) {
          if (this.autoUpload == false)
            this.uploadFile(index + 1);
          return;
        }
        if (this.beforeUpload && typeof this.beforeUpload === "function") {
          let beforeResponse = this.beforeUpload.bind(this.$u.$parent.call(this))(index, this.lists);
          if (!!beforeResponse && typeof beforeResponse.then === "function") {
            await beforeResponse.then((res2) => {
            }).catch((err) => {
              return this.uploadFile(index + 1);
            });
          } else if (beforeResponse === false) {
            return this.uploadFile(index + 1);
          } else
            ;
        }
        if (!this.action) {
          this.showToast("请配置上传地址", true);
          return;
        }
        this.lists[index].error = false;
        this.uploading = true;
        const task = uni.uploadFile({
          url: this.action,
          filePath: this.lists[index].url,
          name: this.name,
          formData: this.formData,
          header: this.header,
          success: (res2) => {
            let data = this.toJson && this.$u.test.jsonString(res2.data) ? JSON.parse(res2.data) : res2.data;
            if (![200, 201, 204].includes(res2.statusCode)) {
              this.uploadError(index, data);
            } else {
              this.lists[index].response = data;
              this.lists[index].progress = 100;
              this.lists[index].error = false;
              this.$emit("on-success", data, index, this.lists, this.index);
            }
          },
          fail: (e2) => {
            this.uploadError(index, e2);
          },
          complete: (res2) => {
            uni.hideLoading();
            this.uploading = false;
            this.uploadFile(index + 1);
            this.$emit("on-change", res2, index, this.lists, this.index);
          }
        });
        task.onProgressUpdate((res2) => {
          if (res2.progress > 0) {
            this.lists[index].progress = res2.progress;
            this.$emit("on-progress", res2, index, this.lists, this.index);
          }
        });
      },
      // 上传失败
      uploadError(index, err) {
        this.lists[index].progress = 0;
        this.lists[index].error = true;
        this.lists[index].response = null;
        this.$emit("on-error", err, index, this.lists, this.index);
        this.showToast("上传失败，请重试");
      },
      // 删除一个图片
      deleteItem(index) {
        uni.showModal({
          title: "提示",
          content: "您确定要删除此项吗？",
          success: async (res2) => {
            if (res2.confirm) {
              if (this.beforeRemove && typeof this.beforeRemove === "function") {
                let beforeResponse = this.beforeRemove.bind(this.$u.$parent.call(this))(index, this.lists);
                if (!!beforeResponse && typeof beforeResponse.then === "function") {
                  await beforeResponse.then((res3) => {
                    this.handlerDeleteItem(index);
                  }).catch((err) => {
                    this.showToast("已终止移除");
                  });
                } else if (beforeResponse === false) {
                  this.showToast("已终止移除");
                } else {
                  this.handlerDeleteItem(index);
                }
              } else {
                this.handlerDeleteItem(index);
              }
            }
          }
        });
      },
      // 执行移除图片的动作，上方代码只是判断是否可以移除
      handlerDeleteItem(index) {
        if (this.lists[index].progress < 100 && this.lists[index].progress > 0) {
          typeof this.lists[index].uploadTask != "undefined" && this.lists[index].uploadTask.abort();
        }
        this.lists.splice(index, 1);
        this.$forceUpdate();
        this.$emit("on-remove", index, this.lists, this.index);
      },
      // 用户通过ref手动的形式，移除一张图片
      remove(index) {
        if (index >= 0 && index < this.lists.length) {
          this.lists.splice(index, 1);
          this.$emit("on-list-change", this.lists, this.index);
        }
      },
      // 预览图片
      doPreviewImage(url2, index) {
        if (!this.previewFullImage) {
          this.$emit("on-preview", url2, this.lists, this.index);
          return;
        }
        const images = this.lists.map((item) => item.url || item.path);
        uni.previewImage({
          urls: images,
          current: url2,
          success: () => {
            this.$emit("on-preview", url2, this.lists, this.index);
          },
          fail: () => {
            uni.showToast({
              title: "预览图片失败",
              icon: "none"
            });
          }
        });
      },
      // 判断文件后缀是否允许
      checkFileExt(file) {
        let noArrowExt = false;
        let fileExt = "";
        const reg = /.+\./;
        fileExt = file.path.replace(reg, "").toLowerCase();
        noArrowExt = this.limitType.some((ext) => {
          return ext.toLowerCase() === fileExt;
        });
        if (!noArrowExt)
          this.showToast(`不允许选择${fileExt}格式的文件`);
        return noArrowExt;
      },
      // 深拷贝
      deepClone(obj, newObj) {
        for (let k in obj) {
          const value = obj[k];
          if (Array.isArray(value)) {
            newObj[k] = [];
            this.deepClone(value, newObj[k]);
          } else if (value !== null && typeof value === "object") {
            newObj[k] = {};
            this.deepClone(value, newObj[k]);
          } else {
            newObj[k] = value;
          }
        }
      }
    }
  };
  function _sfc_render$1c(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_line_progress = resolveEasycom(vue.resolveDynamicComponent("u-line-progress"), __easycom_2$6);
    return !$props.disabled ? (vue.openBlock(), vue.createElementBlock("view", {
      key: 0,
      class: "u-upload"
    }, [
      $props.showUploadList ? (vue.openBlock(true), vue.createElementBlock(
        vue.Fragment,
        { key: 0 },
        vue.renderList($data.lists, (item, index) => {
          return vue.openBlock(), vue.createElementBlock(
            "view",
            {
              class: "u-list-item u-preview-wrap",
              key: index,
              style: vue.normalizeStyle({
                width: _ctx.$u.addUnit($props.width),
                height: _ctx.$u.addUnit($props.height)
              })
            },
            [
              $props.deletable ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "u-delete-icon",
                onClick: vue.withModifiers(($event) => $options.deleteItem(index), ["stop"]),
                style: vue.normalizeStyle({
                  background: $props.delBgColor
                })
              }, [
                vue.createVNode(_component_u_icon, {
                  class: "u-icon",
                  name: $props.delIcon,
                  size: "20",
                  color: $props.delColor
                }, null, 8, ["name", "color"])
              ], 12, ["onClick"])) : vue.createCommentVNode("v-if", true),
              $props.showProgress && item.progress > 0 && item.progress != 100 && !item.error ? (vue.openBlock(), vue.createBlock(_component_u_line_progress, {
                key: 1,
                "show-percent": false,
                height: "16",
                class: "u-progress",
                percent: item.progress
              }, null, 8, ["percent"])) : vue.createCommentVNode("v-if", true),
              item.error ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 2,
                onClick: vue.withModifiers(($event) => $options.retry(index), ["stop"]),
                class: "u-error-btn"
              }, "点击重试", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
              !item.isImage ? (vue.openBlock(), vue.createElementBlock("image", {
                key: 3,
                onClick: vue.withModifiers(($event) => $options.doPreviewImage(item.url || item.path, index), ["stop"]),
                class: "u-preview-image",
                src: item.url || item.path,
                mode: $props.imageMode
              }, null, 8, ["onClick", "src", "mode"])) : vue.createCommentVNode("v-if", true)
            ],
            4
            /* STYLE */
          );
        }),
        128
        /* KEYED_FRAGMENT */
      )) : vue.createCommentVNode("v-if", true),
      vue.renderSlot(_ctx.$slots, "file", { file: $data.lists }, void 0, true),
      $props.maxCount > $data.lists.length ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        style: { "display": "inline-block" },
        onClick: _cache[0] || (_cache[0] = (...args) => $options.selectFile && $options.selectFile(...args))
      }, [
        vue.renderSlot(_ctx.$slots, "addBtn", {}, void 0, true),
        !$props.customBtn ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 0,
            class: "u-list-item u-add-wrap",
            "hover-class": "u-add-wrap__hover",
            "hover-stay-time": "150",
            style: vue.normalizeStyle({
              width: _ctx.$u.addUnit($props.width),
              height: _ctx.$u.addUnit($props.height)
            })
          },
          [
            vue.createVNode(_component_u_icon, {
              name: "plus",
              class: "u-add-btn",
              size: "40"
            }),
            vue.createElementVNode(
              "view",
              { class: "u-add-tips" },
              vue.toDisplayString($props.uploadText),
              1
              /* TEXT */
            )
          ],
          4
          /* STYLE */
        )) : vue.createCommentVNode("v-if", true)
      ])) : vue.createCommentVNode("v-if", true)
    ])) : vue.createCommentVNode("v-if", true);
  }
  const __easycom_3$3 = /* @__PURE__ */ _export_sfc(_sfc_main$1d, [["render", _sfc_render$1c], ["__scopeId", "data-v-e7606f58"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-upload/u-upload.vue"]]);
  function broadcast(componentName, eventName, params) {
  }
  const Emitter = {
    methods: {
      /**
       * 派发 (向上查找) (一个)
       * @param componentName // 需要找的组件的名称
       * @param eventName // 事件名称
       * @param params // 需要传递的参数
       */
      dispatch(componentName, eventName, params) {
        let parent = this.$parent || this.$root;
        let name = parent.$options.name;
        while (parent && (!name || name !== componentName)) {
          parent = parent.$parent;
          if (parent) {
            name = parent.$options.name;
          }
        }
        if (parent) {
          parent[eventName](params);
        }
      },
      /**
       * 广播 (向下查找) (广播多个)
       * @param componentName // 需要找的组件的名称
       * @param eventName // 事件名称
       * @param params // 需要传递的参数
       */
      broadcast(componentName, eventName, params) {
        broadcast.call(this, componentName, eventName, params);
      }
    }
  };
  const _sfc_main$1c = {
    name: "u-input",
    emits: ["update:modelValue", "input", "change", "confirm", "clear", "blur", "focus", "click", "touchstart"],
    mixins: [Emitter],
    props: {
      value: {
        type: [String, Number],
        default: ""
      },
      modelValue: {
        type: [String, Number],
        default: ""
      },
      // 输入框的类型，textarea，text，number
      type: {
        type: String,
        default: "text"
      },
      inputAlign: {
        type: String,
        default: ""
      },
      placeholder: {
        type: String,
        default: "请输入内容"
      },
      disabled: {
        type: Boolean,
        default: false
      },
      maxlength: {
        type: [Number, String],
        default: 140
      },
      placeholderStyle: {
        type: String,
        default: "color: #c0c4cc;"
      },
      confirmType: {
        type: String,
        default: "done"
      },
      // 输入框的自定义样式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 如果 textarea 是在一个 position:fixed 的区域，需要显示指定属性 fixed 为 true
      fixed: {
        type: Boolean,
        default: false
      },
      // 是否自动获得焦点
      focus: {
        type: Boolean,
        default: false
      },
      // 密码类型时，是否显示右侧的密码图标
      passwordIcon: {
        type: Boolean,
        default: true
      },
      // input|textarea是否显示边框
      border: {
        type: Boolean,
        default: false
      },
      // 输入框的边框颜色
      borderColor: {
        type: String,
        default: "#dcdfe6"
      },
      autoHeight: {
        type: Boolean,
        default: true
      },
      // type=select时，旋转右侧的图标，标识当前处于打开还是关闭select的状态
      // open-打开，close-关闭
      selectOpen: {
        type: Boolean,
        default: false
      },
      // 高度，单位rpx
      height: {
        type: [Number, String],
        default: ""
      },
      // 是否可清空
      clearable: {
        type: [Boolean, String]
      },
      // 指定光标与键盘的距离，单位 px
      cursorSpacing: {
        type: [Number, String],
        default: 0
      },
      // 光标起始位置，自动聚焦时有效，需与selection-end搭配使用
      selectionStart: {
        type: [Number, String],
        default: -1
      },
      // 光标结束位置，自动聚焦时有效，需与selection-start搭配使用
      selectionEnd: {
        type: [Number, String],
        default: -1
      },
      // 是否自动去除两端的空格
      trim: {
        type: Boolean,
        default: true
      },
      // 是否显示键盘上方带有”完成“按钮那一栏
      showConfirmbar: {
        type: Boolean,
        default: true
      },
      // 弹出键盘时是否自动调节高度，uni-app默认值是true
      adjustPosition: {
        type: Boolean,
        default: true
      },
      // input的背景色
      backgroundColor: {
        type: String
      },
      // input的padding
      padding: {
        type: String
      }
    },
    data() {
      return {
        defaultValue: "",
        inputHeight: 70,
        // input的高度
        textareaHeight: 100,
        // textarea的高度
        validateState: false,
        // 当前input的验证状态，用于错误时，边框是否改为红色
        focused: false,
        // 当前是否处于获得焦点的状态
        showPassword: false,
        // 是否预览密码
        lastValue: "",
        // 用于头条小程序，判断@input中，前后的值是否发生了变化，因为头条中文下，按下键没有输入内容，也会触发@input时间
        uForm: {
          inputAlign: "",
          clearable: ""
        },
        showCover: false
      };
    },
    watch: {
      valueCom(nVal, oVal) {
        this.defaultValue = nVal;
        if (nVal != oVal && this.type == "select")
          this.handleInput({
            detail: {
              value: nVal
            }
          });
      },
      defaultValue(nVal, oVal) {
        if (nVal && nVal.length > this.maxlength) {
          setTimeout(() => {
            nVal = nVal.substring(0, this.maxlength);
            this.handleInput({
              detail: {
                value: nVal
              }
            });
          }, 0);
        }
      }
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      inputAlignCom() {
        return this.inputAlign || this.uForm.inputAlign || "left";
      },
      clearableCom() {
        if (typeof this.clearable == "boolean")
          return this.clearable;
        if (typeof this.uForm.clearable == "boolean")
          return this.uForm.clearable;
        return true;
      },
      // 因为uniapp的input组件的maxlength组件必须要数值，这里转为数值，给用户可以传入字符串数值
      inputMaxlength() {
        return Number(this.maxlength);
      },
      getStyle() {
        let style = {};
        style.minHeight = this.height ? this.height + "rpx" : this.type == "textarea" ? this.textareaHeight + "rpx" : this.inputHeight + "rpx";
        style = Object.assign(style, this.customStyle);
        return style;
      },
      //
      getCursorSpacing() {
        return Number(this.cursorSpacing);
      },
      // 光标起始位置
      uSelectionStart() {
        return String(this.selectionStart);
      },
      // 光标结束位置
      uSelectionEnd() {
        return String(this.selectionEnd);
      }
    },
    created() {
      this.defaultValue = this.valueCom;
    },
    mounted() {
      let parent = this.$u.$parent.call(this, "u-form");
      if (parent) {
        Object.keys(this.uForm).map((key) => {
          this.uForm[key] = parent[key];
        });
      }
    },
    methods: {
      /**
       * change 事件
       * @param event
       */
      handleInput(event) {
        let value = event.detail.value;
        if (this.trim)
          value = this.$u.trim(value);
        this.$emit("input", value);
        this.$emit("update:modelValue", value);
        this.defaultValue = value;
        setTimeout(() => {
          this.dispatch("u-form-item", "onFieldChange", value);
        }, 40);
      },
      /**
       * blur 事件
       * @param event
       */
      handleBlur(event) {
        setTimeout(() => {
          this.focused = false;
        }, 100);
        let value = event.detail.value;
        this.$emit("blur", value);
        setTimeout(() => {
          this.dispatch("u-form-item", "onFieldBlur", value);
        }, 40);
      },
      onFormItemError(status) {
        this.validateState = status;
      },
      onFocus(event) {
        this.focused = true;
        this.$emit("focus");
      },
      onConfirm(e2) {
        this.$emit("confirm", e2.detail.value);
      },
      onClear(event) {
        this.$emit("input", "");
        this.$emit("update:modelValue", "");
        this.$emit("clear");
      },
      inputClick() {
        this.$emit("click");
      }
    }
  };
  function _sfc_render$1b(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["u-input", {
          "u-input--border": $props.border,
          "u-input--error": $data.validateState
        }]),
        style: vue.normalizeStyle({
          padding: $props.padding ? $props.padding : `0 ${$props.border ? 20 : 0}rpx`,
          borderColor: $props.borderColor,
          textAlign: $options.inputAlignCom,
          backgroundColor: $props.backgroundColor
        }),
        onClick: _cache[11] || (_cache[11] = vue.withModifiers((...args) => $options.inputClick && $options.inputClick(...args), ["stop"]))
      },
      [
        $props.type == "textarea" ? (vue.openBlock(), vue.createElementBlock("textarea", {
          key: 0,
          class: "u-input__input u-input__textarea",
          style: vue.normalizeStyle([$options.getStyle]),
          value: $data.defaultValue,
          placeholder: $props.placeholder,
          placeholderStyle: $props.placeholderStyle,
          disabled: $props.disabled,
          fixed: $props.fixed,
          focus: $props.focus,
          maxlength: -1,
          autoHeight: $props.autoHeight,
          "selection-end": $options.uSelectionEnd,
          "selection-start": $options.uSelectionStart,
          "cursor-spacing": $options.getCursorSpacing,
          "show-confirm-bar": $props.showConfirmbar,
          "adjust-position": $props.adjustPosition,
          onInput: _cache[0] || (_cache[0] = (...args) => $options.handleInput && $options.handleInput(...args)),
          onBlur: _cache[1] || (_cache[1] = (...args) => $options.handleBlur && $options.handleBlur(...args)),
          onFocus: _cache[2] || (_cache[2] = (...args) => $options.onFocus && $options.onFocus(...args)),
          onConfirm: _cache[3] || (_cache[3] = (...args) => $options.onConfirm && $options.onConfirm(...args))
        }, null, 44, ["value", "placeholder", "placeholderStyle", "disabled", "fixed", "focus", "autoHeight", "selection-end", "selection-start", "cursor-spacing", "show-confirm-bar", "adjust-position"])) : (vue.openBlock(), vue.createElementBlock("input", {
          key: 1,
          class: vue.normalizeClass(["u-input__input", "u-input__" + $props.type]),
          type: $props.type == "password" ? "text" : $props.type,
          style: vue.normalizeStyle([$options.getStyle]),
          value: $data.defaultValue,
          maxlength: 1e4,
          password: $props.type == "password" && !$data.showPassword,
          placeholder: $props.placeholder,
          placeholderStyle: $props.placeholderStyle,
          disabled: $props.disabled || $props.type === "select" && !$data.showCover,
          focus: $props.focus,
          confirmType: $props.confirmType,
          "cursor-spacing": $options.getCursorSpacing,
          "selection-end": $options.uSelectionEnd,
          "selection-start": $options.uSelectionStart,
          "show-confirm-bar": $props.showConfirmbar,
          "adjust-position": $props.adjustPosition,
          onFocus: _cache[4] || (_cache[4] = (...args) => $options.onFocus && $options.onFocus(...args)),
          onBlur: _cache[5] || (_cache[5] = (...args) => $options.handleBlur && $options.handleBlur(...args)),
          onInput: _cache[6] || (_cache[6] = (...args) => $options.handleInput && $options.handleInput(...args)),
          onConfirm: _cache[7] || (_cache[7] = (...args) => $options.onConfirm && $options.onConfirm(...args))
        }, null, 46, ["type", "value", "password", "placeholder", "placeholderStyle", "disabled", "focus", "confirmType", "cursor-spacing", "selection-end", "selection-start", "show-confirm-bar", "adjust-position"])),
        $props.type === "select" && $data.showCover ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "cover-input",
          onClick: _cache[8] || (_cache[8] = vue.withModifiers((...args) => $options.inputClick && $options.inputClick(...args), ["stop"]))
        })) : vue.createCommentVNode("v-if", true),
        vue.createElementVNode("view", { class: "u-input__right-icon u-flex" }, [
          $options.clearableCom && $options.valueCom != "" && $data.focused ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "u-input__right-icon__clear u-input__right-icon__item",
            onClick: _cache[9] || (_cache[9] = (...args) => $options.onClear && $options.onClear(...args))
          }, [
            vue.createVNode(_component_u_icon, {
              size: "32",
              name: "close-circle-fill",
              color: "#c0c4cc"
            })
          ])) : vue.createCommentVNode("v-if", true),
          $props.passwordIcon && $props.type == "password" ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "u-input__right-icon__clear u-input__right-icon__item"
          }, [
            vue.createVNode(_component_u_icon, {
              size: "32",
              name: !$data.showPassword ? "eye" : "eye-fill",
              color: "#c0c4cc",
              onClick: _cache[10] || (_cache[10] = ($event) => $data.showPassword = !$data.showPassword)
            }, null, 8, ["name"])
          ])) : vue.createCommentVNode("v-if", true),
          $props.type == "select" ? (vue.openBlock(), vue.createElementBlock(
            "view",
            {
              key: 2,
              class: vue.normalizeClass(["u-input__right-icon--select u-input__right-icon__item", {
                "u-input__right-icon--select--reverse": $props.selectOpen
              }])
            },
            [
              vue.createVNode(_component_u_icon, {
                name: "arrow-down-fill",
                size: "26",
                color: "#c0c4cc"
              })
            ],
            2
            /* CLASS */
          )) : vue.createCommentVNode("v-if", true)
        ])
      ],
      6
      /* CLASS, STYLE */
    );
  }
  const __easycom_5 = /* @__PURE__ */ _export_sfc(_sfc_main$1c, [["render", _sfc_render$1b], ["__scopeId", "data-v-dc846cb1"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-input/u-input.vue"]]);
  function uploadFile(url2, filePath, formData = {}, name = "file") {
    return new Promise((resolve, reject) => {
      uni.uploadFile({
        url: url2,
        // 统一走代理
        filePath,
        name,
        formData,
        header: {
          "token": uni.getStorageSync("token") || ""
        },
        success: (res2) => {
          try {
            const data = JSON.parse(res2.data);
            resolve(data);
          } catch (e2) {
            resolve(res2.data);
          }
        },
        fail: (err) => reject(err)
      });
    });
  }
  const _imports_0$b = "/static/auth/hold-in-hand.png";
  const _imports_1$7 = "/static/auth/stars.png";
  const _sfc_main$1b = {
    __name: "idCard",
    props: {
      consultantType: String,
      modelValue: {
        type: Object,
        default: () => ({})
      }
    },
    emits: ["update:modelValue", "committed"],
    setup(__props, { expose: __expose, emit: __emit }) {
      const STARS = [
        "白羊座",
        "金牛座",
        "双子座",
        "巨蟹座",
        "狮子座",
        "处女座",
        "天秤座",
        "天蝎座",
        "射手座",
        "摩羯座",
        "水瓶座",
        "双鱼座"
      ];
      const PROMISE_REQUIREMENTS = [
        "字迹书写规整",
        "模板内容抄写完整",
        "签字、按手印",
        "身份证正面向上合照"
      ];
      const props = __props;
      formatAppLog("log", "at pages/forum/my/components/idCard.vue:221", props.modelValue, "props.modelValue - - - - - - - -  - ");
      const emit = __emit;
      const localData = vue.computed({
        get: () => props.modelValue,
        set: (value) => emit("update:modelValue", value)
      });
      const birthdayShow = vue.ref(false);
      const regionPicker = vue.ref(false);
      const workTimeShow = vue.ref(false);
      const height = vue.ref(150);
      const token = uni.getStorageSync("token");
      const headers = vue.ref({ token });
      const uploadUrl = vue.ref("https://ceshi.maimiaoqingsu.com/api/common/upload");
      const timeParams = vue.ref({
        year: true,
        month: true,
        day: false,
        hour: false,
        minute: false,
        second: false
      });
      const stars = vue.ref(STARS);
      const promiseRequirements = vue.ref(PROMISE_REQUIREMENTS);
      const showTimePicker = () => {
        birthdayShow.value = true;
      };
      const confirmBirthday = (e2) => {
        localData.value.birthdate = `${e2.year}-${e2.month}`;
      };
      const confirmRegion = (e2) => {
        localData.value.address = e2.province.name + e2.city.name + e2.area.name;
      };
      const chooseArea = () => {
        regionPicker.value = true;
      };
      const starChange = (e2) => {
        localData.value.constellation = stars.value[e2.detail.value];
      };
      const handleTemplate = (type) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type}`
        });
      };
      const beforeUpload = () => {
      };
      const uploadComplete1 = (data, index, lists) => {
        var _a2;
        if (lists && lists[index]) {
          lists[index].url = ((_a2 = data.data) == null ? void 0 : _a2.url) || "";
          localData.value.masterGallery = [...lists];
        }
      };
      const uploadComplete2 = (data, index, lists) => {
        localData.value.holdIdCardImg = data.data.url;
      };
      const uploadComplete3 = (data, index, lists) => {
        localData.value.commitmentImg = data.data.url;
      };
      const deletePic = (field, index, lists) => {
        formatAppLog("log", "at pages/forum/my/components/idCard.vue:303", `删除${field}第${index}张图片`, lists);
        localData.value[field] = lists;
      };
      const uploadPhoto = async (type) => {
        try {
          const res2 = await uni.chooseImage({ count: 1 });
          const filePath = res2.tempFilePaths[0];
          const uploadRes = await uploadFile("https://ceshi.maimiaoqingsu.com/api/common/upload", filePath);
          if (uploadRes.code === 0) {
            if (type === 1) {
              localData.value.idcardFront = uploadRes.data.url;
            } else {
              localData.value.idcardBackend = uploadRes.data.url;
            }
          }
        } catch (error) {
          formatAppLog("error", "at pages/forum/my/components/idCard.vue:324", "上传失败:", error);
          uni.showToast({
            title: "上传失败",
            icon: "error"
          });
        }
      };
      const submit = async () => {
        var _a2, _b2, _c;
        const requiredFields = [
          { field: localData.value.idcardFront, message: "请上传身份证人像页" },
          { field: localData.value.idcardBackend, message: "请上传身份证国徽页" },
          { field: localData.value.name, message: "请输入姓名" },
          { field: localData.value.idcardNum, message: "请输入身份证号" },
          { field: (_a2 = localData.value.masterGallery) == null ? void 0 : _a2.length, message: "请上传个人形象照" },
          { field: (_b2 = localData.value.holdIdCardImg) == null ? void 0 : _b2.length, message: "请上传手持身份证件照" },
          { field: (_c = localData.value.commitmentImg) == null ? void 0 : _c.length, message: "请上传手写承诺书照" }
        ];
        for (const { field, message: message2 } of requiredFields) {
          if (!field) {
            uni.showToast({ title: message2, icon: "none" });
            return;
          }
        }
        const { masterGallery, commitmentImg, holdIdCardImg } = localData.value;
        if (typeof commitmentImg != "string" || typeof holdIdCardImg != "string") {
          localData.value.commitmentImg = commitmentImg[0].url;
          localData.value.holdIdCardImg = holdIdCardImg[0].url;
        }
        const processedGallery = Array.isArray(masterGallery) ? masterGallery.map((item) => item.url).filter((url2) => !!url2) : [];
        const submitData = {
          ...localData.value,
          masterGallery: JSON.stringify(processedGallery),
          consultantType: props.consultantType,
          idCardNo: localData.value.idcardNum,
          idCardFrontImg: localData.value.idcardFront,
          idCardBackImg: localData.value.idcardBackend
        };
        uni.showLoading({ title: "提交中" });
        try {
          const api = props.consultantType == 1 ? registerConsultantStep1 : registerListenerStep1;
          const res2 = await api(submitData);
          uni.hideLoading();
          localData.value = res2.data;
          emit("committed", "");
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/forum/my/components/idCard.vue:379", "提交失败:", error);
        }
      };
      __expose({ submit });
      vue.watch(
        () => props.modelValue,
        (newVal) => {
          try {
            const masterGallery = JSON.parse(newVal.masterGallery || "[]");
            localData.value.masterGallery = Array.isArray(masterGalleryData) ? masterGalleryData.map((url2) => ({ url: url2 })) : [];
          } catch (e2) {
            localData.value.masterGallery = [];
          }
        },
        { immediate: true, deep: true }
      );
      onUnload(() => {
      });
      const __returned__ = { STARS, PROMISE_REQUIREMENTS, props, emit, localData, birthdayShow, regionPicker, workTimeShow, height, token, headers, uploadUrl, timeParams, stars, promiseRequirements, showTimePicker, confirmBirthday, confirmRegion, chooseArea, starChange, handleTemplate, beforeUpload, uploadComplete1, uploadComplete2, uploadComplete3, deletePic, uploadPhoto, submit, onMounted: vue.onMounted, ref: vue.ref, computed: vue.computed, watch: vue.watch, get uploadFile() {
        return uploadFile;
      }, get onUnload() {
        return onUnload;
      }, get registerConsultantStep1() {
        return registerConsultantStep1;
      }, get registerListenerStep1() {
        return registerListenerStep1;
      }, get baseURL() {
        return baseURL$1;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1a(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_picker = resolveEasycom(vue.resolveDynamicComponent("u-picker"), __easycom_2$7);
    const _component_u_upload = resolveEasycom(vue.resolveDynamicComponent("u-upload"), __easycom_3$3);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    const _component_u_input = resolveEasycom(vue.resolveDynamicComponent("u-input"), __easycom_5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "id-card-box" }, [
      vue.createElementVNode("view", { class: "id-card-content-box" }, [
        vue.createElementVNode("view", { class: "id-card-content" }, [
          vue.createElementVNode("view", { class: "title" }, "身份认证"),
          vue.createElementVNode("view", { class: "remark" }, "仅用于身份实名核验，信息会严格保密"),
          vue.createElementVNode("view", { class: "unload-card-box" }, [
            vue.createElementVNode("view", {
              class: "upload-card-item",
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.uploadPhoto(1))
            }, [
              vue.createElementVNode("image", {
                src: $setup.localData.idcardFront || "@/static/auth/id-card-front.png",
                class: "img"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "txt" }, "身份证人像面")
            ]),
            vue.createElementVNode("view", {
              class: "upload-card-item",
              onClick: _cache[1] || (_cache[1] = ($event) => $setup.uploadPhoto(2))
            }, [
              vue.createElementVNode("image", {
                src: $setup.localData.idcardBackend || "@/static/auth/id-card-back.png",
                class: "img"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "txt" }, "身份证国徽面")
            ])
          ]),
          vue.createElementVNode("view", { class: "id-card-form-content" }, [
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "姓名"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.withDirectives(vue.createElementVNode(
                  "input",
                  {
                    type: "text",
                    "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.localData.name = $event),
                    placeholder: "请输入姓名",
                    class: "form-input"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.localData.name]
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "身份证号"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.withDirectives(vue.createElementVNode(
                  "input",
                  {
                    type: "text",
                    "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.localData.idcardNum = $event),
                    placeholder: "请输入身份证号",
                    class: "form-input"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.localData.idcardNum]
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "出生年月"),
              vue.createElementVNode("view", {
                class: "content",
                onClick: $setup.showTimePicker
              }, [
                vue.createElementVNode(
                  "text",
                  null,
                  vue.toDisplayString($setup.localData.birthdate || "请选择"),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_u_icon, { name: "arrow-right" }),
                vue.createVNode(_component_u_picker, {
                  type: "text",
                  modelValue: $setup.birthdayShow,
                  "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $setup.birthdayShow = $event),
                  params: $setup.timeParams,
                  mode: "time",
                  onConfirm: $setup.confirmBirthday
                }, null, 8, ["modelValue", "params"])
              ])
            ]),
            vue.createElementVNode("view", { class: "upload-section" }, [
              vue.createElementVNode("view", { class: "label require" }, [
                vue.createTextVNode(" 个人形象照 "),
                vue.createElementVNode("text", { class: "sub-label" }, "（用于个人主页封面，格式jpg/png，大小2M内）")
              ]),
              vue.createVNode(_component_u_upload, {
                fileList: $setup.localData.masterGallery,
                "before-upload": $setup.beforeUpload,
                header: $setup.headers,
                onOnSuccess: $setup.uploadComplete1,
                onOnRemove: _cache[5] || (_cache[5] = (index, lists) => $setup.deletePic("masterGallery", index, lists)),
                name: "file",
                action: $setup.uploadUrl,
                maxCount: 5
              }, null, 8, ["fileList", "header", "action"])
            ]),
            vue.createElementVNode("view", { class: "form-item upload-with-image" }, [
              vue.createElementVNode("view", { class: "upload-content" }, [
                vue.createElementVNode("view", {
                  class: "label require",
                  style: { "width": "170rpx" }
                }, "手持身份证件"),
                vue.createVNode(_component_u_upload, {
                  fileList: $setup.localData.holdIdCardImg,
                  "before-upload": $setup.beforeUpload,
                  header: $setup.headers,
                  onOnSuccess: $setup.uploadComplete2,
                  onOnRemove: _cache[6] || (_cache[6] = (index, lists) => $setup.deletePic("holdIdCardImg", index, lists)),
                  name: "file",
                  action: $setup.uploadUrl,
                  maxCount: 1
                }, null, 8, ["fileList", "header", "action"])
              ]),
              vue.createElementVNode("image", {
                src: _imports_0$b,
                class: "example-image"
              })
            ]),
            vue.createElementVNode("view", { class: "form-item upload-with-image" }, [
              vue.createElementVNode("view", { class: "upload-content" }, [
                vue.createElementVNode("view", {
                  class: "label require",
                  style: { "width": "200rpx" }
                }, "手写承诺书照片"),
                vue.createVNode(_component_u_upload, {
                  fileList: $setup.localData.commitmentImg,
                  "before-upload": $setup.beforeUpload,
                  header: $setup.headers,
                  onOnSuccess: $setup.uploadComplete3,
                  onOnRemove: _cache[7] || (_cache[7] = (index, lists) => $setup.deletePic("commitmentImg", index, lists)),
                  name: "file",
                  action: $setup.uploadUrl,
                  maxCount: 1
                }, null, 8, ["fileList", "header", "action"])
              ]),
              vue.createElementVNode("view", { class: "promise" }, [
                vue.createElementVNode("view", {
                  class: "template",
                  onClick: _cache[8] || (_cache[8] = ($event) => $setup.handleTemplate("手写承诺书"))
                }, [
                  vue.createTextVNode(" 点击查看"),
                  vue.createElementVNode("text", null, "《承诺书模板》")
                ]),
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.promiseRequirements, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "promise-item",
                      key: index
                    }, [
                      vue.createElementVNode("image", { src: _imports_1$7 }),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "星座"),
              vue.createElementVNode("picker", {
                range: $setup.stars,
                onChange: $setup.starChange
              }, [
                vue.createElementVNode("view", { class: "content picker-content" }, [
                  vue.createTextVNode(
                    vue.toDisplayString($setup.localData.constellation || "请选择") + " ",
                    1
                    /* TEXT */
                  ),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "14",
                    color: "rgba(0, 0, 0, 0.3)"
                  })
                ])
              ], 40, ["range"])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "所在地区"),
              vue.createElementVNode("view", {
                class: "content",
                onClick: $setup.chooseArea
              }, [
                vue.createTextVNode(
                  vue.toDisplayString($setup.localData.address || "请选择") + " ",
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_icons, {
                  type: "right",
                  size: "14",
                  color: "rgba(0, 0, 0, 0.3)"
                })
              ]),
              vue.createVNode(_component_u_picker, {
                modelValue: $setup.regionPicker,
                "onUpdate:modelValue": _cache[9] || (_cache[9] = ($event) => $setup.regionPicker = $event),
                onConfirm: $setup.confirmRegion,
                mode: "region"
              }, null, 8, ["modelValue"])
            ]),
            vue.createElementVNode("view", { class: "form-item user-sign" }, [
              vue.createElementVNode("view", { class: "label" }, "个人签名"),
              vue.createElementVNode("view", { class: "content-input" }, [
                vue.createVNode(_component_uni_easyinput, {
                  trim: "all",
                  type: "text",
                  placeholder: "请输入个人签名",
                  inputBorder: false,
                  clearable: false,
                  modelValue: $setup.localData.signature,
                  "onUpdate:modelValue": _cache[10] || (_cache[10] = ($event) => $setup.localData.signature = $event),
                  class: "signature-input"
                }, null, 8, ["modelValue"])
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item user-introduction" }, [
              vue.createElementVNode("view", { class: "label" }, "个人简介"),
              vue.createElementVNode("view", { class: "introduction-content" }, [
                vue.createVNode(_component_u_input, {
                  type: "textarea",
                  border: "",
                  modelValue: $setup.localData.profile,
                  "onUpdate:modelValue": _cache[11] || (_cache[11] = ($event) => $setup.localData.profile = $event),
                  "auto-height": "",
                  height: $setup.height,
                  placeholder: "请输入个人简介"
                }, null, 8, ["modelValue", "height"])
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const idCard$2 = /* @__PURE__ */ _export_sfc(_sfc_main$1b, [["render", _sfc_render$1a], ["__scopeId", "data-v-9a5f3de9"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/components/idCard.vue"]]);
  const _imports_0$a = "/static/auth/tip.svg";
  const _sfc_main$1a = {
    __name: "userInfo",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "5723f2e8-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const currentComponent = vue.ref(idCard$2);
      const step = vue.ref(1);
      const consultant = vue.ref({});
      const idCardRef = vue.ref(null);
      const careerRef = vue.ref(null);
      const finalStep = vue.ref(null);
      const consultantType = vue.ref("");
      const userInfo = vue.ref("");
      onLoad((options) => {
        consultantType.value = options.type;
        userInfo.value = JSON.parse(options.userInfo);
        formatAppLog("log", "at pages/forum/my/userInfo.vue:96", userInfo.value);
        uni.setNavigationBarTitle({ title: "认证" });
        getConsultantDetail();
      });
      const getConsultantDetail = async () => {
        if (consultantType.value == 1) {
          let resp = await getConsultantByUserId({ userId: userInfo.value });
          const data = {
            ...resp.data,
            idcardNum: resp.data.sysUser.idCardNo,
            idcardFront: resp.data.sysUser.idCardFrontImg,
            idcardBackend: resp.data.sysUser.idCardBackImg,
            occupationId: resp.data.sysUser.occupationId
          };
          processingImg(data);
        } else {
          let resp = await getListenerByUserId({ userId: userInfo.value });
          const data = {
            ...resp.data,
            occupationId: resp.data.sysUser.occupationId
          };
          processingImg(data);
        }
      };
      const processingImg = (val2) => {
        const { masterGallery, commitmentImg, holdIdCardImg } = val2;
        const master = masterGallery ? JSON.parse(masterGallery) : [];
        const commitment = formatImages([commitmentImg]);
        const holdIdCard = formatImages([holdIdCardImg]);
        const data = Object.assign(val2, {
          masterGallery: master,
          commitmentImg: commitment,
          holdIdCardImg: holdIdCard
        });
        consultant.value = data;
      };
      const formatImages = (urls) => {
        return urls.map((url2, index) => ({
          url: url2
        }));
      };
      const formData = vue.ref({
        idCard: {
          consultantName: "",
          idNum: ""
          // 其他身份证信息字段
        },
        career: {
          profession: "",
          experience: ""
          // 其他职业信息字段
        },
        certificate: {
          files: []
          // 其他证书字段
        }
      });
      const nextStepHandler = () => {
        var _a2, _b2;
        if (step.value == 1) {
          (_a2 = idCardRef.value) == null ? void 0 : _a2.submit();
        }
        if (step.value == 2) {
          (_b2 = careerRef.value) == null ? void 0 : _b2.submit();
        }
      };
      const step1Commit = () => {
        step.value = step.value + 1;
      };
      const setp2Commit = () => {
        step.value = step.value + 1;
      };
      const finalCommit = () => {
        uni.showToast({
          title: "资料已提交，请等待审核"
        });
        uni.navigateBack();
      };
      const prevStepHandler = () => {
        step.value = step.value - 1;
      };
      vue.watch(step, (newVal, oldVal) => {
        var _a2;
        if (newVal == 1) {
          currentComponent.value = idCard$2;
        } else if (newVal == 2) {
          currentComponent.value = career;
        } else if (newVal == 3) {
          (_a2 = finalStep.value) == null ? void 0 : _a2.refreshData();
          currentComponent.value = certificate;
        }
      });
      const examineHandler = async () => {
        var _a2;
        ({
          ...formData.value.idCard,
          ...formData.value.career,
          certificates: formData.value.certificate.files
        });
        (_a2 = finalStep.value) == null ? void 0 : _a2.submit();
      };
      const __returned__ = { globalStore, statusBarHeight, currentComponent, step, consultant, idCardRef, careerRef, finalStep, consultantType, userInfo, getConsultantDetail, processingImg, formatImages, formData, nextStepHandler, step1Commit, setp2Commit, finalCommit, prevStepHandler, examineHandler, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get getConsultantByUserId() {
        return getConsultantByUserId;
      }, get getListenerByUserId() {
        return getListenerByUserId;
      }, idCard: idCard$2 };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$19(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "auth-box" }, [
      vue.createElementVNode("view", { class: "children-component" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([_ctx.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "基本资料"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: _ctx.backFn
            }, null, 8, ["onClick"])
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"]),
        (vue.openBlock(), vue.createElementBlock("scroll-view", {
          key: 0,
          "scroll-y": "true",
          "show-scrollbar": false,
          class: "scroll-content"
        }, [
          vue.createElementVNode("view", { class: "children-content" }, [
            vue.createElementVNode("view", { class: "top-bg" }),
            vue.createElementVNode("view", { class: "current-component" }, [
              vue.createElementVNode("view", { class: "handler-components-box" }, [
                vue.withDirectives(vue.createVNode($setup["idCard"], {
                  modelValue: $setup.consultant,
                  consultantType: $setup.consultantType,
                  onCommitted: $setup.step1Commit,
                  ref: "idCardRef",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.formData.idCard = $event)
                }, null, 8, ["modelValue", "consultantType"]), [
                  [vue.vShow, $setup.step == 1]
                ]),
                vue.createElementVNode("view", { class: "footer" }, [
                  vue.createElementVNode("view", { class: "tip" }, [
                    vue.createElementVNode("image", {
                      src: _imports_0$a,
                      class: "img"
                    }),
                    vue.createTextVNode("个人信息安全保障中 ")
                  ]),
                  vue.createElementVNode("view", { class: "btn" }, [
                    vue.createElementVNode("view", {
                      class: "next",
                      onClick: $setup.nextStepHandler
                    }, "提交审核")
                  ])
                ])
              ])
            ])
          ])
        ]))
      ])
    ]);
  }
  const PagesForumMyUserInfo = /* @__PURE__ */ _export_sfc(_sfc_main$1a, [["render", _sfc_render$19], ["__scopeId", "data-v-5723f2e8"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/userInfo.vue"]]);
  let Calendar$1 = class Calendar {
    constructor({
      selected,
      startDate,
      endDate,
      range: range2
    } = {}) {
      this.date = this.getDateObj(/* @__PURE__ */ new Date());
      this.selected = selected || [];
      this.startDate = startDate;
      this.endDate = endDate;
      this.range = range2;
      this.cleanMultipleStatus();
      this.weeks = {};
      this.lastHover = false;
    }
    /**
     * 设置日期
     * @param {Object} date
     */
    setDate(date2) {
      const selectDate = this.getDateObj(date2);
      this.getWeeks(selectDate.fullDate);
    }
    /**
     * 清理多选状态
     */
    cleanMultipleStatus() {
      this.multipleStatus = {
        before: "",
        after: "",
        data: []
      };
    }
    setStartDate(startDate) {
      this.startDate = startDate;
    }
    setEndDate(endDate) {
      this.endDate = endDate;
    }
    getPreMonthObj(date2) {
      date2 = fixIosDateFormat(date2);
      date2 = new Date(date2);
      const oldMonth = date2.getMonth();
      date2.setMonth(oldMonth - 1);
      const newMonth = date2.getMonth();
      if (oldMonth !== 0 && newMonth - oldMonth === 0) {
        date2.setMonth(newMonth - 1);
      }
      return this.getDateObj(date2);
    }
    getNextMonthObj(date2) {
      date2 = fixIosDateFormat(date2);
      date2 = new Date(date2);
      const oldMonth = date2.getMonth();
      date2.setMonth(oldMonth + 1);
      const newMonth = date2.getMonth();
      if (newMonth - oldMonth > 1) {
        date2.setMonth(newMonth - 1);
      }
      return this.getDateObj(date2);
    }
    /**
     * 获取指定格式Date对象
     */
    getDateObj(date2) {
      date2 = fixIosDateFormat(date2);
      date2 = new Date(date2);
      return {
        fullDate: getDate$1(date2),
        year: date2.getFullYear(),
        month: addZero(date2.getMonth() + 1),
        date: addZero(date2.getDate()),
        day: date2.getDay()
      };
    }
    /**
     * 获取上一个月日期集合
     */
    getPreMonthDays(amount2, dateObj) {
      const result = [];
      for (let i2 = amount2 - 1; i2 >= 0; i2--) {
        const month = dateObj.month - 1;
        result.push({
          date: new Date(dateObj.year, month, -i2).getDate(),
          month,
          disable: true
        });
      }
      return result;
    }
    /**
     * 获取本月日期集合
     */
    getCurrentMonthDays(amount2, dateObj) {
      const result = [];
      const fullDate = this.date.fullDate;
      for (let i2 = 1; i2 <= amount2; i2++) {
        const currentDate = `${dateObj.year}-${dateObj.month}-${addZero(i2)}`;
        const isToday = fullDate === currentDate;
        const info = this.selected && this.selected.find((item) => {
          if (this.dateEqual(currentDate, item.date)) {
            return item;
          }
        });
        if (this.startDate) {
          dateCompare(this.startDate, currentDate);
        }
        if (this.endDate) {
          dateCompare(currentDate, this.endDate);
        }
        let multiples = this.multipleStatus.data;
        let multiplesStatus = -1;
        if (this.range && multiples) {
          multiplesStatus = multiples.findIndex((item) => {
            return this.dateEqual(item, currentDate);
          });
        }
        const checked = multiplesStatus !== -1;
        result.push({
          fullDate: currentDate,
          year: dateObj.year,
          date: i2,
          multiple: this.range ? checked : false,
          beforeMultiple: this.isLogicBefore(currentDate, this.multipleStatus.before, this.multipleStatus.after),
          afterMultiple: this.isLogicAfter(currentDate, this.multipleStatus.before, this.multipleStatus.after),
          month: dateObj.month,
          disable: this.startDate && !dateCompare(this.startDate, currentDate) || this.endDate && !dateCompare(
            currentDate,
            this.endDate
          ),
          isToday,
          userChecked: false,
          extraInfo: info
        });
      }
      return result;
    }
    /**
     * 获取下一个月日期集合
     */
    _getNextMonthDays(amount2, dateObj) {
      const result = [];
      const month = dateObj.month + 1;
      for (let i2 = 1; i2 <= amount2; i2++) {
        result.push({
          date: i2,
          month,
          disable: true
        });
      }
      return result;
    }
    /**
     * 获取当前日期详情
     * @param {Object} date
     */
    getInfo(date2) {
      if (!date2) {
        date2 = /* @__PURE__ */ new Date();
      }
      const res2 = this.calendar.find((item) => item.fullDate === this.getDateObj(date2).fullDate);
      return res2 ? res2 : this.getDateObj(date2);
    }
    /**
     * 比较时间是否相等
     */
    dateEqual(before, after) {
      before = new Date(fixIosDateFormat(before));
      after = new Date(fixIosDateFormat(after));
      return before.valueOf() === after.valueOf();
    }
    /**
     *  比较真实起始日期
     */
    isLogicBefore(currentDate, before, after) {
      let logicBefore = before;
      if (before && after) {
        logicBefore = dateCompare(before, after) ? before : after;
      }
      return this.dateEqual(logicBefore, currentDate);
    }
    isLogicAfter(currentDate, before, after) {
      let logicAfter = after;
      if (before && after) {
        logicAfter = dateCompare(before, after) ? after : before;
      }
      return this.dateEqual(logicAfter, currentDate);
    }
    /**
     * 获取日期范围内所有日期
     * @param {Object} begin
     * @param {Object} end
     */
    geDateAll(begin, end) {
      var arr = [];
      var ab = begin.split("-");
      var ae2 = end.split("-");
      var db = /* @__PURE__ */ new Date();
      db.setFullYear(ab[0], ab[1] - 1, ab[2]);
      var de2 = /* @__PURE__ */ new Date();
      de2.setFullYear(ae2[0], ae2[1] - 1, ae2[2]);
      var unixDb = db.getTime() - 24 * 60 * 60 * 1e3;
      var unixDe = de2.getTime() - 24 * 60 * 60 * 1e3;
      for (var k = unixDb; k <= unixDe; ) {
        k = k + 24 * 60 * 60 * 1e3;
        arr.push(this.getDateObj(new Date(parseInt(k))).fullDate);
      }
      return arr;
    }
    /**
     *  获取多选状态
     */
    setMultiple(fullDate) {
      if (!this.range)
        return;
      let {
        before,
        after
      } = this.multipleStatus;
      if (before && after) {
        if (!this.lastHover) {
          this.lastHover = true;
          return;
        }
        this.multipleStatus.before = fullDate;
        this.multipleStatus.after = "";
        this.multipleStatus.data = [];
        this.multipleStatus.fulldate = "";
        this.lastHover = false;
      } else {
        if (!before) {
          this.multipleStatus.before = fullDate;
          this.multipleStatus.after = void 0;
          this.lastHover = false;
        } else {
          this.multipleStatus.after = fullDate;
          if (dateCompare(this.multipleStatus.before, this.multipleStatus.after)) {
            this.multipleStatus.data = this.geDateAll(this.multipleStatus.before, this.multipleStatus.after);
          } else {
            this.multipleStatus.data = this.geDateAll(this.multipleStatus.after, this.multipleStatus.before);
          }
          this.lastHover = true;
        }
      }
      this.getWeeks(fullDate);
    }
    /**
     *  鼠标 hover 更新多选状态
     */
    setHoverMultiple(fullDate) {
      if (!this.range || this.lastHover)
        return;
      const {
        before
      } = this.multipleStatus;
      if (!before) {
        this.multipleStatus.before = fullDate;
      } else {
        this.multipleStatus.after = fullDate;
        if (dateCompare(this.multipleStatus.before, this.multipleStatus.after)) {
          this.multipleStatus.data = this.geDateAll(this.multipleStatus.before, this.multipleStatus.after);
        } else {
          this.multipleStatus.data = this.geDateAll(this.multipleStatus.after, this.multipleStatus.before);
        }
      }
      this.getWeeks(fullDate);
    }
    /**
     * 更新默认值多选状态
     */
    setDefaultMultiple(before, after) {
      this.multipleStatus.before = before;
      this.multipleStatus.after = after;
      if (before && after) {
        if (dateCompare(before, after)) {
          this.multipleStatus.data = this.geDateAll(before, after);
          this.getWeeks(after);
        } else {
          this.multipleStatus.data = this.geDateAll(after, before);
          this.getWeeks(before);
        }
      }
    }
    /**
     * 获取每周数据
     * @param {Object} dateData
     */
    getWeeks(dateData) {
      const {
        year,
        month
      } = this.getDateObj(dateData);
      const preMonthDayAmount = new Date(year, month - 1, 1).getDay();
      const preMonthDays = this.getPreMonthDays(preMonthDayAmount, this.getDateObj(dateData));
      const currentMonthDayAmount = new Date(year, month, 0).getDate();
      const currentMonthDays = this.getCurrentMonthDays(currentMonthDayAmount, this.getDateObj(dateData));
      const nextMonthDayAmount = 42 - preMonthDayAmount - currentMonthDayAmount;
      const nextMonthDays = this._getNextMonthDays(nextMonthDayAmount, this.getDateObj(dateData));
      const calendarDays = [...preMonthDays, ...currentMonthDays, ...nextMonthDays];
      const weeks = new Array(6);
      for (let i2 = 0; i2 < calendarDays.length; i2++) {
        const index = Math.floor(i2 / 7);
        if (!weeks[index]) {
          weeks[index] = new Array(7);
        }
        weeks[index][i2 % 7] = calendarDays[i2];
      }
      this.calendar = calendarDays;
      this.weeks = weeks;
    }
  };
  function getDateTime(date2, hideSecond) {
    return `${getDate$1(date2)} ${getTime(date2, hideSecond)}`;
  }
  function getDate$1(date2) {
    date2 = fixIosDateFormat(date2);
    date2 = new Date(date2);
    const year = date2.getFullYear();
    const month = date2.getMonth() + 1;
    const day = date2.getDate();
    return `${year}-${addZero(month)}-${addZero(day)}`;
  }
  function getTime(date2, hideSecond) {
    date2 = fixIosDateFormat(date2);
    date2 = new Date(date2);
    const hour = date2.getHours();
    const minute = date2.getMinutes();
    const second = date2.getSeconds();
    return hideSecond ? `${addZero(hour)}:${addZero(minute)}` : `${addZero(hour)}:${addZero(minute)}:${addZero(second)}`;
  }
  function addZero(num) {
    if (num < 10) {
      num = `0${num}`;
    }
    return num;
  }
  function getDefaultSecond(hideSecond) {
    return hideSecond ? "00:00" : "00:00:00";
  }
  function dateCompare(startDate, endDate) {
    startDate = new Date(fixIosDateFormat(startDate));
    endDate = new Date(fixIosDateFormat(endDate));
    return startDate <= endDate;
  }
  function checkDate(date2) {
    const dateReg = /((19|20)\d{2})(-|\/)\d{1,2}(-|\/)\d{1,2}/g;
    return date2.match(dateReg);
  }
  const dateTimeReg = /^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])( [0-5]?[0-9]:[0-5]?[0-9](:[0-5]?[0-9])?)?$/;
  function fixIosDateFormat(value) {
    if (typeof value === "string" && dateTimeReg.test(value)) {
      value = value.replace(/-/g, "/");
    }
    return value;
  }
  const _sfc_main$19 = {
    props: {
      weeks: {
        type: Object,
        default() {
          return {};
        }
      },
      calendar: {
        type: Object,
        default: () => {
          return {};
        }
      },
      selected: {
        type: Array,
        default: () => {
          return [];
        }
      },
      checkHover: {
        type: Boolean,
        default: false
      }
    },
    methods: {
      choiceDate(weeks) {
        this.$emit("change", weeks);
      },
      handleMousemove(weeks) {
        this.$emit("handleMouse", weeks);
      }
    }
  };
  function _sfc_render$18(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["uni-calendar-item__weeks-box", {
          "uni-calendar-item--disable": $props.weeks.disable,
          "uni-calendar-item--before-checked-x": $props.weeks.beforeMultiple,
          "uni-calendar-item--multiple": $props.weeks.multiple,
          "uni-calendar-item--after-checked-x": $props.weeks.afterMultiple
        }]),
        onClick: _cache[0] || (_cache[0] = ($event) => $options.choiceDate($props.weeks)),
        onMouseenter: _cache[1] || (_cache[1] = ($event) => $options.handleMousemove($props.weeks))
      },
      [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["uni-calendar-item__weeks-box-item", {
              "uni-calendar-item--checked": $props.calendar.fullDate === $props.weeks.fullDate && ($props.calendar.userChecked || !$props.checkHover),
              "uni-calendar-item--checked-range-text": $props.checkHover,
              "uni-calendar-item--before-checked": $props.weeks.beforeMultiple,
              "uni-calendar-item--multiple": $props.weeks.multiple,
              "uni-calendar-item--after-checked": $props.weeks.afterMultiple,
              "uni-calendar-item--disable": $props.weeks.disable
            }])
          },
          [
            $props.selected && $props.weeks.extraInfo ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 0,
              class: "uni-calendar-item__weeks-box-circle"
            })) : vue.createCommentVNode("v-if", true),
            vue.createElementVNode(
              "text",
              { class: "uni-calendar-item__weeks-box-text uni-calendar-item__weeks-box-text-disable uni-calendar-item--checked-text" },
              vue.toDisplayString($props.weeks.date),
              1
              /* TEXT */
            )
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass({ "uni-calendar-item--today": $props.weeks.isToday })
          },
          null,
          2
          /* CLASS */
        )
      ],
      34
      /* CLASS, NEED_HYDRATION */
    );
  }
  const calendarItem = /* @__PURE__ */ _export_sfc(_sfc_main$19, [["render", _sfc_render$18], ["__scopeId", "data-v-3c762a01"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-datetime-picker/components/uni-datetime-picker/calendar-item.vue"]]);
  const en = {
    "uni-datetime-picker.selectDate": "select date",
    "uni-datetime-picker.selectTime": "select time",
    "uni-datetime-picker.selectDateTime": "select date and time",
    "uni-datetime-picker.startDate": "start date",
    "uni-datetime-picker.endDate": "end date",
    "uni-datetime-picker.startTime": "start time",
    "uni-datetime-picker.endTime": "end time",
    "uni-datetime-picker.ok": "ok",
    "uni-datetime-picker.clear": "clear",
    "uni-datetime-picker.cancel": "cancel",
    "uni-datetime-picker.year": "-",
    "uni-datetime-picker.month": "",
    "uni-calender.MON": "MON",
    "uni-calender.TUE": "TUE",
    "uni-calender.WED": "WED",
    "uni-calender.THU": "THU",
    "uni-calender.FRI": "FRI",
    "uni-calender.SAT": "SAT",
    "uni-calender.SUN": "SUN",
    "uni-calender.confirm": "confirm"
  };
  const zhHans = {
    "uni-datetime-picker.selectDate": "选择日期",
    "uni-datetime-picker.selectTime": "选择时间",
    "uni-datetime-picker.selectDateTime": "选择日期时间",
    "uni-datetime-picker.startDate": "开始日期",
    "uni-datetime-picker.endDate": "结束日期",
    "uni-datetime-picker.startTime": "开始时间",
    "uni-datetime-picker.endTime": "结束时间",
    "uni-datetime-picker.ok": "确定",
    "uni-datetime-picker.clear": "清除",
    "uni-datetime-picker.cancel": "取消",
    "uni-datetime-picker.year": "年",
    "uni-datetime-picker.month": "月",
    "uni-calender.SUN": "日",
    "uni-calender.MON": "一",
    "uni-calender.TUE": "二",
    "uni-calender.WED": "三",
    "uni-calender.THU": "四",
    "uni-calender.FRI": "五",
    "uni-calender.SAT": "六",
    "uni-calender.confirm": "确认"
  };
  const zhHant = {
    "uni-datetime-picker.selectDate": "選擇日期",
    "uni-datetime-picker.selectTime": "選擇時間",
    "uni-datetime-picker.selectDateTime": "選擇日期時間",
    "uni-datetime-picker.startDate": "開始日期",
    "uni-datetime-picker.endDate": "結束日期",
    "uni-datetime-picker.startTime": "開始时间",
    "uni-datetime-picker.endTime": "結束时间",
    "uni-datetime-picker.ok": "確定",
    "uni-datetime-picker.clear": "清除",
    "uni-datetime-picker.cancel": "取消",
    "uni-datetime-picker.year": "年",
    "uni-datetime-picker.month": "月",
    "uni-calender.SUN": "日",
    "uni-calender.MON": "一",
    "uni-calender.TUE": "二",
    "uni-calender.WED": "三",
    "uni-calender.THU": "四",
    "uni-calender.FRI": "五",
    "uni-calender.SAT": "六",
    "uni-calender.confirm": "確認"
  };
  const i18nMessages = {
    en,
    "zh-Hans": zhHans,
    "zh-Hant": zhHant
  };
  const {
    t: t$1
  } = initVueI18n(i18nMessages);
  const _sfc_main$18 = {
    name: "UniDatetimePicker",
    data() {
      return {
        indicatorStyle: `height: 50px;`,
        visible: false,
        fixNvueBug: {},
        dateShow: true,
        timeShow: true,
        title: "日期和时间",
        // 输入框当前时间
        time: "",
        // 当前的年月日时分秒
        year: 1920,
        month: 0,
        day: 0,
        hour: 0,
        minute: 0,
        second: 0,
        // 起始时间
        startYear: 1920,
        startMonth: 1,
        startDay: 1,
        startHour: 0,
        startMinute: 0,
        startSecond: 0,
        // 结束时间
        endYear: 2120,
        endMonth: 12,
        endDay: 31,
        endHour: 23,
        endMinute: 59,
        endSecond: 59
      };
    },
    options: {
      virtualHost: true
    },
    props: {
      type: {
        type: String,
        default: "datetime"
      },
      value: {
        type: [String, Number],
        default: ""
      },
      modelValue: {
        type: [String, Number],
        default: ""
      },
      start: {
        type: [Number, String],
        default: ""
      },
      end: {
        type: [Number, String],
        default: ""
      },
      returnType: {
        type: String,
        default: "string"
      },
      disabled: {
        type: [Boolean, String],
        default: false
      },
      border: {
        type: [Boolean, String],
        default: true
      },
      hideSecond: {
        type: [Boolean, String],
        default: false
      }
    },
    watch: {
      modelValue: {
        handler(newVal) {
          if (newVal) {
            this.parseValue(fixIosDateFormat(newVal));
            this.initTime(false);
          } else {
            this.time = "";
            this.parseValue(Date.now());
          }
        },
        immediate: true
      },
      type: {
        handler(newValue) {
          if (newValue === "date") {
            this.dateShow = true;
            this.timeShow = false;
            this.title = "日期";
          } else if (newValue === "time") {
            this.dateShow = false;
            this.timeShow = true;
            this.title = "时间";
          } else {
            this.dateShow = true;
            this.timeShow = true;
            this.title = "日期和时间";
          }
        },
        immediate: true
      },
      start: {
        handler(newVal) {
          this.parseDatetimeRange(fixIosDateFormat(newVal), "start");
        },
        immediate: true
      },
      end: {
        handler(newVal) {
          this.parseDatetimeRange(fixIosDateFormat(newVal), "end");
        },
        immediate: true
      },
      // 月、日、时、分、秒可选范围变化后，检查当前值是否在范围内，不在则当前值重置为可选范围第一项
      months(newVal) {
        this.checkValue("month", this.month, newVal);
      },
      days(newVal) {
        this.checkValue("day", this.day, newVal);
      },
      hours(newVal) {
        this.checkValue("hour", this.hour, newVal);
      },
      minutes(newVal) {
        this.checkValue("minute", this.minute, newVal);
      },
      seconds(newVal) {
        this.checkValue("second", this.second, newVal);
      }
    },
    computed: {
      // 当前年、月、日、时、分、秒选择范围
      years() {
        return this.getCurrentRange("year");
      },
      months() {
        return this.getCurrentRange("month");
      },
      days() {
        return this.getCurrentRange("day");
      },
      hours() {
        return this.getCurrentRange("hour");
      },
      minutes() {
        return this.getCurrentRange("minute");
      },
      seconds() {
        return this.getCurrentRange("second");
      },
      // picker 当前值数组
      ymd() {
        return [this.year - this.minYear, this.month - this.minMonth, this.day - this.minDay];
      },
      hms() {
        return [this.hour - this.minHour, this.minute - this.minMinute, this.second - this.minSecond];
      },
      // 当前 date 是 start
      currentDateIsStart() {
        return this.year === this.startYear && this.month === this.startMonth && this.day === this.startDay;
      },
      // 当前 date 是 end
      currentDateIsEnd() {
        return this.year === this.endYear && this.month === this.endMonth && this.day === this.endDay;
      },
      // 当前年、月、日、时、分、秒的最小值和最大值
      minYear() {
        return this.startYear;
      },
      maxYear() {
        return this.endYear;
      },
      minMonth() {
        if (this.year === this.startYear) {
          return this.startMonth;
        } else {
          return 1;
        }
      },
      maxMonth() {
        if (this.year === this.endYear) {
          return this.endMonth;
        } else {
          return 12;
        }
      },
      minDay() {
        if (this.year === this.startYear && this.month === this.startMonth) {
          return this.startDay;
        } else {
          return 1;
        }
      },
      maxDay() {
        if (this.year === this.endYear && this.month === this.endMonth) {
          return this.endDay;
        } else {
          return this.daysInMonth(this.year, this.month);
        }
      },
      minHour() {
        if (this.type === "datetime") {
          if (this.currentDateIsStart) {
            return this.startHour;
          } else {
            return 0;
          }
        }
        if (this.type === "time") {
          return this.startHour;
        }
      },
      maxHour() {
        if (this.type === "datetime") {
          if (this.currentDateIsEnd) {
            return this.endHour;
          } else {
            return 23;
          }
        }
        if (this.type === "time") {
          return this.endHour;
        }
      },
      minMinute() {
        if (this.type === "datetime") {
          if (this.currentDateIsStart && this.hour === this.startHour) {
            return this.startMinute;
          } else {
            return 0;
          }
        }
        if (this.type === "time") {
          if (this.hour === this.startHour) {
            return this.startMinute;
          } else {
            return 0;
          }
        }
      },
      maxMinute() {
        if (this.type === "datetime") {
          if (this.currentDateIsEnd && this.hour === this.endHour) {
            return this.endMinute;
          } else {
            return 59;
          }
        }
        if (this.type === "time") {
          if (this.hour === this.endHour) {
            return this.endMinute;
          } else {
            return 59;
          }
        }
      },
      minSecond() {
        if (this.type === "datetime") {
          if (this.currentDateIsStart && this.hour === this.startHour && this.minute === this.startMinute) {
            return this.startSecond;
          } else {
            return 0;
          }
        }
        if (this.type === "time") {
          if (this.hour === this.startHour && this.minute === this.startMinute) {
            return this.startSecond;
          } else {
            return 0;
          }
        }
      },
      maxSecond() {
        if (this.type === "datetime") {
          if (this.currentDateIsEnd && this.hour === this.endHour && this.minute === this.endMinute) {
            return this.endSecond;
          } else {
            return 59;
          }
        }
        if (this.type === "time") {
          if (this.hour === this.endHour && this.minute === this.endMinute) {
            return this.endSecond;
          } else {
            return 59;
          }
        }
      },
      /**
       * for i18n
       */
      selectTimeText() {
        return t$1("uni-datetime-picker.selectTime");
      },
      okText() {
        return t$1("uni-datetime-picker.ok");
      },
      clearText() {
        return t$1("uni-datetime-picker.clear");
      },
      cancelText() {
        return t$1("uni-datetime-picker.cancel");
      }
    },
    mounted() {
    },
    methods: {
      /**
       * @param {Object} item
       * 小于 10 在前面加个 0
       */
      lessThanTen(item) {
        return item < 10 ? "0" + item : item;
      },
      /**
       * 解析时分秒字符串，例如：00:00:00
       * @param {String} timeString
       */
      parseTimeType(timeString) {
        if (timeString) {
          let timeArr = timeString.split(":");
          this.hour = Number(timeArr[0]);
          this.minute = Number(timeArr[1]);
          this.second = Number(timeArr[2]);
        }
      },
      /**
       * 解析选择器初始值，类型可以是字符串、时间戳，例如：2000-10-02、'08:30:00'、 1610695109000
       * @param {String | Number} datetime
       */
      initPickerValue(datetime) {
        let defaultValue = null;
        if (datetime) {
          defaultValue = this.compareValueWithStartAndEnd(datetime, this.start, this.end);
        } else {
          defaultValue = Date.now();
          defaultValue = this.compareValueWithStartAndEnd(defaultValue, this.start, this.end);
        }
        this.parseValue(defaultValue);
      },
      /**
       * 初始值规则：
       * - 用户设置初始值 value
       * 	- 设置了起始时间 start、终止时间 end，并 start < value < end，初始值为 value， 否则初始值为 start
       * 	- 只设置了起始时间 start，并 start < value，初始值为 value，否则初始值为 start
       * 	- 只设置了终止时间 end，并 value < end，初始值为 value，否则初始值为 end
       * 	- 无起始终止时间，则初始值为 value
       * - 无初始值 value，则初始值为当前本地时间 Date.now()
       * @param {Object} value
       * @param {Object} dateBase
       */
      compareValueWithStartAndEnd(value, start, end) {
        let winner = null;
        value = this.superTimeStamp(value);
        start = this.superTimeStamp(start);
        end = this.superTimeStamp(end);
        if (start && end) {
          if (value < start) {
            winner = new Date(start);
          } else if (value > end) {
            winner = new Date(end);
          } else {
            winner = new Date(value);
          }
        } else if (start && !end) {
          winner = start <= value ? new Date(value) : new Date(start);
        } else if (!start && end) {
          winner = value <= end ? new Date(value) : new Date(end);
        } else {
          winner = new Date(value);
        }
        return winner;
      },
      /**
       * 转换为可比较的时间戳，接受日期、时分秒、时间戳
       * @param {Object} value
       */
      superTimeStamp(value) {
        let dateBase = "";
        if (this.type === "time" && value && typeof value === "string") {
          const now2 = /* @__PURE__ */ new Date();
          const year = now2.getFullYear();
          const month = now2.getMonth() + 1;
          const day = now2.getDate();
          dateBase = year + "/" + month + "/" + day + " ";
        }
        if (Number(value)) {
          value = parseInt(value);
          dateBase = 0;
        }
        return this.createTimeStamp(dateBase + value);
      },
      /**
       * 解析默认值 value，字符串、时间戳
       * @param {Object} defaultTime
       */
      parseValue(value) {
        if (!value) {
          return;
        }
        if (this.type === "time" && typeof value === "string") {
          this.parseTimeType(value);
        } else {
          let defaultDate = null;
          defaultDate = new Date(value);
          if (this.type !== "time") {
            this.year = defaultDate.getFullYear();
            this.month = defaultDate.getMonth() + 1;
            this.day = defaultDate.getDate();
          }
          if (this.type !== "date") {
            this.hour = defaultDate.getHours();
            this.minute = defaultDate.getMinutes();
            this.second = defaultDate.getSeconds();
          }
        }
        if (this.hideSecond) {
          this.second = 0;
        }
      },
      /**
       * 解析可选择时间范围 start、end，年月日字符串、时间戳
       * @param {Object} defaultTime
       */
      parseDatetimeRange(point, pointType) {
        if (!point) {
          if (pointType === "start") {
            this.startYear = 1920;
            this.startMonth = 1;
            this.startDay = 1;
            this.startHour = 0;
            this.startMinute = 0;
            this.startSecond = 0;
          }
          if (pointType === "end") {
            this.endYear = 2120;
            this.endMonth = 12;
            this.endDay = 31;
            this.endHour = 23;
            this.endMinute = 59;
            this.endSecond = 59;
          }
          return;
        }
        if (this.type === "time") {
          const pointArr = point.split(":");
          this[pointType + "Hour"] = Number(pointArr[0]);
          this[pointType + "Minute"] = Number(pointArr[1]);
          this[pointType + "Second"] = Number(pointArr[2]);
        } else {
          if (!point) {
            pointType === "start" ? this.startYear = this.year - 60 : this.endYear = this.year + 60;
            return;
          }
          if (Number(point)) {
            point = parseInt(point);
          }
          const hasTime = /[0-9]:[0-9]/;
          if (this.type === "datetime" && pointType === "end" && typeof point === "string" && !hasTime.test(
            point
          )) {
            point = point + " 23:59:59";
          }
          const pointDate = new Date(point);
          this[pointType + "Year"] = pointDate.getFullYear();
          this[pointType + "Month"] = pointDate.getMonth() + 1;
          this[pointType + "Day"] = pointDate.getDate();
          if (this.type === "datetime") {
            this[pointType + "Hour"] = pointDate.getHours();
            this[pointType + "Minute"] = pointDate.getMinutes();
            this[pointType + "Second"] = pointDate.getSeconds();
          }
        }
      },
      // 获取 年、月、日、时、分、秒 当前可选范围
      getCurrentRange(value) {
        const range2 = [];
        for (let i2 = this["min" + this.capitalize(value)]; i2 <= this["max" + this.capitalize(value)]; i2++) {
          range2.push(i2);
        }
        return range2;
      },
      // 字符串首字母大写
      capitalize(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      },
      // 检查当前值是否在范围内，不在则当前值重置为可选范围第一项
      checkValue(name, value, values) {
        if (values.indexOf(value) === -1) {
          this[name] = values[0];
        }
      },
      // 每个月的实际天数
      daysInMonth(year, month) {
        return new Date(year, month, 0).getDate();
      },
      /**
       * 生成时间戳
       * @param {Object} time
       */
      createTimeStamp(time) {
        if (!time)
          return;
        if (typeof time === "number") {
          return time;
        } else {
          time = time.replace(/-/g, "/");
          if (this.type === "date") {
            time = time + " 00:00:00";
          }
          return Date.parse(time);
        }
      },
      /**
       * 生成日期或时间的字符串
       */
      createDomSting() {
        const yymmdd = this.year + "-" + this.lessThanTen(this.month) + "-" + this.lessThanTen(this.day);
        let hhmmss = this.lessThanTen(this.hour) + ":" + this.lessThanTen(this.minute);
        if (!this.hideSecond) {
          hhmmss = hhmmss + ":" + this.lessThanTen(this.second);
        }
        if (this.type === "date") {
          return yymmdd;
        } else if (this.type === "time") {
          return hhmmss;
        } else {
          return yymmdd + " " + hhmmss;
        }
      },
      /**
       * 初始化返回值，并抛出 change 事件
       */
      initTime(emit = true) {
        this.time = this.createDomSting();
        if (!emit)
          return;
        if (this.returnType === "timestamp" && this.type !== "time") {
          this.$emit("change", this.createTimeStamp(this.time));
          this.$emit("input", this.createTimeStamp(this.time));
          this.$emit("update:modelValue", this.createTimeStamp(this.time));
        } else {
          this.$emit("change", this.time);
          this.$emit("input", this.time);
          this.$emit("update:modelValue", this.time);
        }
      },
      /**
       * 用户选择日期或时间更新 data
       * @param {Object} e
       */
      bindDateChange(e2) {
        const val2 = e2.detail.value;
        this.year = this.years[val2[0]];
        this.month = this.months[val2[1]];
        this.day = this.days[val2[2]];
      },
      bindTimeChange(e2) {
        const val2 = e2.detail.value;
        this.hour = this.hours[val2[0]];
        this.minute = this.minutes[val2[1]];
        this.second = this.seconds[val2[2]];
      },
      /**
       * 初始化弹出层
       */
      initTimePicker() {
        if (this.disabled)
          return;
        const value = fixIosDateFormat(this.time);
        this.initPickerValue(value);
        this.visible = !this.visible;
      },
      /**
       * 触发或关闭弹框
       */
      tiggerTimePicker(e2) {
        this.visible = !this.visible;
      },
      /**
       * 用户点击“清空”按钮，清空当前值
       */
      clearTime() {
        this.time = "";
        this.$emit("change", this.time);
        this.$emit("input", this.time);
        this.$emit("update:modelValue", this.time);
        this.tiggerTimePicker();
      },
      /**
       * 用户点击“确定”按钮
       */
      setTime() {
        this.initTime();
        this.tiggerTimePicker();
      }
    }
  };
  function _sfc_render$17(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-datetime-picker" }, [
      vue.createElementVNode("view", {
        onClick: _cache[0] || (_cache[0] = (...args) => $options.initTimePicker && $options.initTimePicker(...args))
      }, [
        vue.renderSlot(_ctx.$slots, "default", {}, () => [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["uni-datetime-picker-timebox-pointer", { "uni-datetime-picker-disabled": $props.disabled, "uni-datetime-picker-timebox": $props.border }])
            },
            [
              vue.createElementVNode(
                "text",
                { class: "uni-datetime-picker-text" },
                vue.toDisplayString($data.time),
                1
                /* TEXT */
              ),
              !$data.time ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "uni-datetime-picker-time"
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "uni-datetime-picker-text" },
                  vue.toDisplayString($options.selectTimeText),
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          )
        ], true)
      ]),
      $data.visible ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        id: "mask",
        class: "uni-datetime-picker-mask",
        onClick: _cache[1] || (_cache[1] = (...args) => $options.tiggerTimePicker && $options.tiggerTimePicker(...args))
      })) : vue.createCommentVNode("v-if", true),
      $data.visible ? (vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 1,
          class: vue.normalizeClass(["uni-datetime-picker-popup", [$data.dateShow && $data.timeShow ? "" : "fix-nvue-height"]]),
          style: vue.normalizeStyle($data.fixNvueBug)
        },
        [
          vue.createElementVNode("view", { class: "uni-title" }, [
            vue.createElementVNode(
              "text",
              { class: "uni-datetime-picker-text" },
              vue.toDisplayString($options.selectTimeText),
              1
              /* TEXT */
            )
          ]),
          $data.dateShow ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "uni-datetime-picker__container-box"
          }, [
            vue.createElementVNode("picker-view", {
              class: "uni-datetime-picker-view",
              "indicator-style": $data.indicatorStyle,
              value: $options.ymd,
              onChange: _cache[2] || (_cache[2] = (...args) => $options.bindDateChange && $options.bindDateChange(...args))
            }, [
              vue.createElementVNode("picker-view-column", null, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($options.years, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "uni-datetime-picker-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "uni-datetime-picker-item" },
                        vue.toDisplayString($options.lessThanTen(item)),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ]),
              vue.createElementVNode("picker-view-column", null, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($options.months, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "uni-datetime-picker-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "uni-datetime-picker-item" },
                        vue.toDisplayString($options.lessThanTen(item)),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ]),
              vue.createElementVNode("picker-view-column", null, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($options.days, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "uni-datetime-picker-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "uni-datetime-picker-item" },
                        vue.toDisplayString($options.lessThanTen(item)),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ], 40, ["indicator-style", "value"]),
            vue.createElementVNode("text", { class: "uni-datetime-picker-sign sign-left" }, "-"),
            vue.createElementVNode("text", { class: "uni-datetime-picker-sign sign-right" }, "-")
          ])) : vue.createCommentVNode("v-if", true),
          $data.timeShow ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "uni-datetime-picker__container-box"
          }, [
            vue.createElementVNode("picker-view", {
              class: vue.normalizeClass(["uni-datetime-picker-view", [$props.hideSecond ? "time-hide-second" : ""]]),
              "indicator-style": $data.indicatorStyle,
              value: $options.hms,
              onChange: _cache[3] || (_cache[3] = (...args) => $options.bindTimeChange && $options.bindTimeChange(...args))
            }, [
              vue.createElementVNode("picker-view-column", null, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($options.hours, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "uni-datetime-picker-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "uni-datetime-picker-item" },
                        vue.toDisplayString($options.lessThanTen(item)),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ]),
              vue.createElementVNode("picker-view-column", null, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($options.minutes, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "uni-datetime-picker-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "uni-datetime-picker-item" },
                        vue.toDisplayString($options.lessThanTen(item)),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ]),
              !$props.hideSecond ? (vue.openBlock(), vue.createElementBlock("picker-view-column", { key: 0 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($options.seconds, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "uni-datetime-picker-item",
                      key: index
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "uni-datetime-picker-item" },
                        vue.toDisplayString($options.lessThanTen(item)),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true)
            ], 42, ["indicator-style", "value"]),
            vue.createElementVNode(
              "text",
              {
                class: vue.normalizeClass(["uni-datetime-picker-sign", [$props.hideSecond ? "sign-center" : "sign-left"]])
              },
              ":",
              2
              /* CLASS */
            ),
            !$props.hideSecond ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 0,
              class: "uni-datetime-picker-sign sign-right"
            }, ":")) : vue.createCommentVNode("v-if", true)
          ])) : vue.createCommentVNode("v-if", true),
          vue.createElementVNode("view", { class: "uni-datetime-picker-btn" }, [
            vue.createElementVNode("view", {
              onClick: _cache[4] || (_cache[4] = (...args) => $options.clearTime && $options.clearTime(...args))
            }, [
              vue.createElementVNode(
                "text",
                { class: "uni-datetime-picker-btn-text" },
                vue.toDisplayString($options.clearText),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "uni-datetime-picker-btn-group" }, [
              vue.createElementVNode("view", {
                class: "uni-datetime-picker-cancel",
                onClick: _cache[5] || (_cache[5] = (...args) => $options.tiggerTimePicker && $options.tiggerTimePicker(...args))
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "uni-datetime-picker-btn-text" },
                  vue.toDisplayString($options.cancelText),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", {
                onClick: _cache[6] || (_cache[6] = (...args) => $options.setTime && $options.setTime(...args))
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "uni-datetime-picker-btn-text" },
                  vue.toDisplayString($options.okText),
                  1
                  /* TEXT */
                )
              ])
            ])
          ])
        ],
        6
        /* CLASS, STYLE */
      )) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const TimePicker = /* @__PURE__ */ _export_sfc(_sfc_main$18, [["render", _sfc_render$17], ["__scopeId", "data-v-1d532b70"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-datetime-picker/components/uni-datetime-picker/time-picker.vue"]]);
  const {
    t
  } = initVueI18n(i18nMessages);
  const _sfc_main$17 = {
    components: {
      calendarItem,
      timePicker: TimePicker
    },
    options: {
      virtualHost: true
    },
    props: {
      date: {
        type: String,
        default: ""
      },
      defTime: {
        type: [String, Object],
        default: ""
      },
      selectableTimes: {
        type: [Object],
        default() {
          return {};
        }
      },
      selected: {
        type: Array,
        default() {
          return [];
        }
      },
      startDate: {
        type: String,
        default: ""
      },
      endDate: {
        type: String,
        default: ""
      },
      startPlaceholder: {
        type: String,
        default: ""
      },
      endPlaceholder: {
        type: String,
        default: ""
      },
      range: {
        type: Boolean,
        default: false
      },
      hasTime: {
        type: Boolean,
        default: false
      },
      insert: {
        type: Boolean,
        default: true
      },
      showMonth: {
        type: Boolean,
        default: true
      },
      clearDate: {
        type: Boolean,
        default: true
      },
      checkHover: {
        type: Boolean,
        default: true
      },
      hideSecond: {
        type: [Boolean],
        default: false
      },
      pleStatus: {
        type: Object,
        default() {
          return {
            before: "",
            after: "",
            data: [],
            fulldate: ""
          };
        }
      },
      defaultValue: {
        type: [String, Object, Array],
        default: ""
      }
    },
    data() {
      return {
        show: false,
        weeks: [],
        calendar: {},
        nowDate: {},
        aniMaskShow: false,
        firstEnter: true,
        time: "",
        timeRange: {
          startTime: "",
          endTime: ""
        },
        tempSingleDate: "",
        tempRange: {
          before: "",
          after: ""
        }
      };
    },
    watch: {
      date: {
        immediate: true,
        handler(newVal) {
          if (!this.range) {
            this.tempSingleDate = newVal;
            setTimeout(() => {
              this.init(newVal);
            }, 100);
          }
        }
      },
      defTime: {
        immediate: true,
        handler(newVal) {
          if (!this.range) {
            this.time = newVal;
          } else {
            this.timeRange.startTime = newVal.start;
            this.timeRange.endTime = newVal.end;
          }
        }
      },
      startDate(val2) {
        if (!this.cale) {
          return;
        }
        this.cale.setStartDate(val2);
        this.cale.setDate(this.nowDate.fullDate);
        this.weeks = this.cale.weeks;
      },
      endDate(val2) {
        if (!this.cale) {
          return;
        }
        this.cale.setEndDate(val2);
        this.cale.setDate(this.nowDate.fullDate);
        this.weeks = this.cale.weeks;
      },
      selected(newVal) {
        if (!this.cale) {
          return;
        }
        this.cale.setSelectInfo(this.nowDate.fullDate, newVal);
        this.weeks = this.cale.weeks;
      },
      pleStatus: {
        immediate: true,
        handler(newVal) {
          const {
            before,
            after,
            fulldate,
            which
          } = newVal;
          this.tempRange.before = before;
          this.tempRange.after = after;
          setTimeout(() => {
            if (fulldate) {
              this.cale.setHoverMultiple(fulldate);
              if (before && after) {
                this.cale.lastHover = true;
                if (this.rangeWithinMonth(after, before))
                  return;
                this.setDate(before);
              } else {
                this.cale.setMultiple(fulldate);
                this.setDate(this.nowDate.fullDate);
                this.calendar.fullDate = "";
                this.cale.lastHover = false;
              }
            } else {
              if (!this.cale) {
                return;
              }
              this.cale.setDefaultMultiple(before, after);
              if (which === "left" && before) {
                this.setDate(before);
                this.weeks = this.cale.weeks;
              } else if (after) {
                this.setDate(after);
                this.weeks = this.cale.weeks;
              }
              this.cale.lastHover = true;
            }
          }, 16);
        }
      }
    },
    computed: {
      timepickerStartTime() {
        const activeDate = this.range ? this.tempRange.before : this.calendar.fullDate;
        return activeDate === this.startDate ? this.selectableTimes.start : "";
      },
      timepickerEndTime() {
        const activeDate = this.range ? this.tempRange.after : this.calendar.fullDate;
        return activeDate === this.endDate ? this.selectableTimes.end : "";
      },
      /**
       * for i18n
       */
      selectDateText() {
        return t("uni-datetime-picker.selectDate");
      },
      startDateText() {
        return this.startPlaceholder || t("uni-datetime-picker.startDate");
      },
      endDateText() {
        return this.endPlaceholder || t("uni-datetime-picker.endDate");
      },
      okText() {
        return t("uni-datetime-picker.ok");
      },
      yearText() {
        return t("uni-datetime-picker.year");
      },
      monthText() {
        return t("uni-datetime-picker.month");
      },
      MONText() {
        return t("uni-calender.MON");
      },
      TUEText() {
        return t("uni-calender.TUE");
      },
      WEDText() {
        return t("uni-calender.WED");
      },
      THUText() {
        return t("uni-calender.THU");
      },
      FRIText() {
        return t("uni-calender.FRI");
      },
      SATText() {
        return t("uni-calender.SAT");
      },
      SUNText() {
        return t("uni-calender.SUN");
      },
      confirmText() {
        return t("uni-calender.confirm");
      }
    },
    created() {
      this.cale = new Calendar$1({
        selected: this.selected,
        startDate: this.startDate,
        endDate: this.endDate,
        range: this.range
      });
      this.init(this.date);
    },
    methods: {
      leaveCale() {
        this.firstEnter = true;
      },
      handleMouse(weeks) {
        if (weeks.disable)
          return;
        if (this.cale.lastHover)
          return;
        let {
          before,
          after
        } = this.cale.multipleStatus;
        if (!before)
          return;
        this.calendar = weeks;
        this.cale.setHoverMultiple(this.calendar.fullDate);
        this.weeks = this.cale.weeks;
        if (this.firstEnter) {
          this.$emit("firstEnterCale", this.cale.multipleStatus);
          this.firstEnter = false;
        }
      },
      rangeWithinMonth(A2, B2) {
        const [yearA, monthA] = A2.split("-");
        const [yearB, monthB] = B2.split("-");
        return yearA === yearB && monthA === monthB;
      },
      // 蒙版点击事件
      maskClick() {
        this.close();
        this.$emit("maskClose");
      },
      clearCalender() {
        if (this.range) {
          this.timeRange.startTime = "";
          this.timeRange.endTime = "";
          this.tempRange.before = "";
          this.tempRange.after = "";
          this.cale.multipleStatus.before = "";
          this.cale.multipleStatus.after = "";
          this.cale.multipleStatus.data = [];
          this.cale.lastHover = false;
        } else {
          this.time = "";
          this.tempSingleDate = "";
        }
        this.calendar.fullDate = "";
        this.setDate(/* @__PURE__ */ new Date());
      },
      bindDateChange(e2) {
        const value = e2.detail.value + "-1";
        this.setDate(value);
      },
      /**
       * 初始化日期显示
       * @param {Object} date
       */
      init(date2) {
        if (!this.cale) {
          return;
        }
        this.cale.setDate(date2 || /* @__PURE__ */ new Date());
        this.weeks = this.cale.weeks;
        this.nowDate = this.cale.getInfo(date2);
        this.calendar = {
          ...this.nowDate
        };
        if (!date2) {
          this.calendar.fullDate = "";
          if (this.defaultValue && !this.range) {
            const defaultDate = new Date(this.defaultValue);
            const fullDate = getDate$1(defaultDate);
            const year = defaultDate.getFullYear();
            const month = defaultDate.getMonth() + 1;
            const date3 = defaultDate.getDate();
            const day = defaultDate.getDay();
            this.calendar = {
              fullDate,
              year,
              month,
              date: date3,
              day
            }, this.tempSingleDate = fullDate;
            this.time = getTime(defaultDate, this.hideSecond);
          }
        }
      },
      /**
       * 打开日历弹窗
       */
      open() {
        if (this.clearDate && !this.insert) {
          this.cale.cleanMultipleStatus();
          this.init(this.date);
        }
        this.show = true;
        this.$nextTick(() => {
          setTimeout(() => {
            this.aniMaskShow = true;
          }, 50);
        });
      },
      /**
       * 关闭日历弹窗
       */
      close() {
        this.aniMaskShow = false;
        this.$nextTick(() => {
          setTimeout(() => {
            this.show = false;
            this.$emit("close");
          }, 300);
        });
      },
      /**
       * 确认按钮
       */
      confirm() {
        this.setEmit("confirm");
        this.close();
      },
      /**
       * 变化触发
       */
      change(isSingleChange) {
        if (!this.insert && !isSingleChange)
          return;
        this.setEmit("change");
      },
      /**
       * 选择月份触发
       */
      monthSwitch() {
        let {
          year,
          month
        } = this.nowDate;
        this.$emit("monthSwitch", {
          year,
          month: Number(month)
        });
      },
      /**
       * 派发事件
       * @param {Object} name
       */
      setEmit(name) {
        if (!this.range) {
          if (!this.calendar.fullDate) {
            this.calendar = this.cale.getInfo(/* @__PURE__ */ new Date());
            this.tempSingleDate = this.calendar.fullDate;
          }
          if (this.hasTime && !this.time) {
            this.time = getTime(/* @__PURE__ */ new Date(), this.hideSecond);
          }
        }
        let {
          year,
          month,
          date: date2,
          fullDate,
          extraInfo
        } = this.calendar;
        this.$emit(name, {
          range: this.cale.multipleStatus,
          year,
          month,
          date: date2,
          time: this.time,
          timeRange: this.timeRange,
          fulldate: fullDate,
          extraInfo: extraInfo || {}
        });
      },
      /**
       * 选择天触发
       * @param {Object} weeks
       */
      choiceDate(weeks) {
        if (weeks.disable)
          return;
        this.calendar = weeks;
        this.calendar.userChecked = true;
        this.cale.setMultiple(this.calendar.fullDate, true);
        this.weeks = this.cale.weeks;
        this.tempSingleDate = this.calendar.fullDate;
        const beforeDate = new Date(this.cale.multipleStatus.before).getTime();
        const afterDate = new Date(this.cale.multipleStatus.after).getTime();
        if (beforeDate > afterDate && afterDate) {
          this.tempRange.before = this.cale.multipleStatus.after;
          this.tempRange.after = this.cale.multipleStatus.before;
        } else {
          this.tempRange.before = this.cale.multipleStatus.before;
          this.tempRange.after = this.cale.multipleStatus.after;
        }
        this.change(true);
      },
      changeMonth(type) {
        let newDate;
        if (type === "pre") {
          newDate = this.cale.getPreMonthObj(this.nowDate.fullDate).fullDate;
        } else if (type === "next") {
          newDate = this.cale.getNextMonthObj(this.nowDate.fullDate).fullDate;
        }
        this.setDate(newDate);
        this.monthSwitch();
      },
      /**
       * 设置日期
       * @param {Object} date
       */
      setDate(date2) {
        this.cale.setDate(date2);
        this.weeks = this.cale.weeks;
        this.nowDate = this.cale.getInfo(date2);
      }
    }
  };
  function _sfc_render$16(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_calendar_item = vue.resolveComponent("calendar-item");
    const _component_time_picker = vue.resolveComponent("time-picker");
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "uni-calendar",
        onMouseleave: _cache[9] || (_cache[9] = (...args) => $options.leaveCale && $options.leaveCale(...args))
      },
      [
        !$props.insert && $data.show ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 0,
            class: vue.normalizeClass(["uni-calendar__mask", { "uni-calendar--mask-show": $data.aniMaskShow }]),
            onClick: _cache[0] || (_cache[0] = (...args) => $options.maskClick && $options.maskClick(...args))
          },
          null,
          2
          /* CLASS */
        )) : vue.createCommentVNode("v-if", true),
        $props.insert || $data.show ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 1,
            class: vue.normalizeClass(["uni-calendar__content", { "uni-calendar--fixed": !$props.insert, "uni-calendar--ani-show": $data.aniMaskShow, "uni-calendar__content-mobile": $data.aniMaskShow }])
          },
          [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["uni-calendar__header", { "uni-calendar__header-mobile": !$props.insert }])
              },
              [
                vue.createElementVNode("view", {
                  class: "uni-calendar__header-btn-box",
                  onClick: _cache[1] || (_cache[1] = vue.withModifiers(($event) => $options.changeMonth("pre"), ["stop"]))
                }, [
                  vue.createElementVNode("view", { class: "uni-calendar__header-btn uni-calendar--left" })
                ]),
                vue.createElementVNode("picker", {
                  mode: "date",
                  value: $props.date,
                  fields: "month",
                  onChange: _cache[2] || (_cache[2] = (...args) => $options.bindDateChange && $options.bindDateChange(...args))
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__header-text" },
                    vue.toDisplayString(($data.nowDate.year || "") + $options.yearText + ($data.nowDate.month || "") + $options.monthText),
                    1
                    /* TEXT */
                  )
                ], 40, ["value"]),
                vue.createElementVNode("view", {
                  class: "uni-calendar__header-btn-box",
                  onClick: _cache[3] || (_cache[3] = vue.withModifiers(($event) => $options.changeMonth("next"), ["stop"]))
                }, [
                  vue.createElementVNode("view", { class: "uni-calendar__header-btn uni-calendar--right" })
                ]),
                !$props.insert ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "dialog-close",
                  onClick: _cache[4] || (_cache[4] = (...args) => $options.maskClick && $options.maskClick(...args))
                }, [
                  vue.createElementVNode("view", {
                    class: "dialog-close-plus",
                    "data-id": "close"
                  }),
                  vue.createElementVNode("view", {
                    class: "dialog-close-plus dialog-close-rotate",
                    "data-id": "close"
                  })
                ])) : vue.createCommentVNode("v-if", true)
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode("view", { class: "uni-calendar__box" }, [
              $props.showMonth ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "uni-calendar__box-bg"
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "uni-calendar__box-bg-text" },
                  vue.toDisplayString($data.nowDate.month),
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode("view", {
                class: "uni-calendar__weeks",
                style: { "padding-bottom": "7px" }
              }, [
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.SUNText),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.MONText),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.TUEText),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.WEDText),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.THUText),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.FRIText),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "uni-calendar__weeks-day" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "uni-calendar__weeks-day-text" },
                    vue.toDisplayString($options.SATText),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.weeks, (item, weekIndex) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "uni-calendar__weeks",
                    key: weekIndex
                  }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(item, (weeks, weeksIndex) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "uni-calendar__weeks-item",
                          key: weeksIndex
                        }, [
                          vue.createVNode(_component_calendar_item, {
                            class: "uni-calendar-item--hook",
                            weeks,
                            calendar: $data.calendar,
                            selected: $props.selected,
                            checkHover: $props.range,
                            onChange: $options.choiceDate,
                            onHandleMouse: $options.handleMouse
                          }, null, 8, ["weeks", "calendar", "selected", "checkHover", "onChange", "onHandleMouse"])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ]),
            !$props.insert && !$props.range && $props.hasTime ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "uni-date-changed uni-calendar--fixed-top",
              style: { "padding": "0 80px" }
            }, [
              vue.createElementVNode(
                "view",
                { class: "uni-date-changed--time-date" },
                vue.toDisplayString($data.tempSingleDate ? $data.tempSingleDate : $options.selectDateText),
                1
                /* TEXT */
              ),
              vue.createVNode(_component_time_picker, {
                type: "time",
                start: $options.timepickerStartTime,
                end: $options.timepickerEndTime,
                modelValue: $data.time,
                "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.time = $event),
                disabled: !$data.tempSingleDate,
                border: false,
                "hide-second": $props.hideSecond,
                class: "time-picker-style"
              }, null, 8, ["start", "end", "modelValue", "disabled", "hide-second"])
            ])) : vue.createCommentVNode("v-if", true),
            !$props.insert && $props.range && $props.hasTime ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "uni-date-changed uni-calendar--fixed-top"
            }, [
              vue.createElementVNode("view", { class: "uni-date-changed--time-start" }, [
                vue.createElementVNode(
                  "view",
                  { class: "uni-date-changed--time-date" },
                  vue.toDisplayString($data.tempRange.before ? $data.tempRange.before : $options.startDateText),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_time_picker, {
                  type: "time",
                  start: $options.timepickerStartTime,
                  modelValue: $data.timeRange.startTime,
                  "onUpdate:modelValue": _cache[6] || (_cache[6] = ($event) => $data.timeRange.startTime = $event),
                  border: false,
                  "hide-second": $props.hideSecond,
                  disabled: !$data.tempRange.before,
                  class: "time-picker-style"
                }, null, 8, ["start", "modelValue", "hide-second", "disabled"])
              ]),
              vue.createElementVNode("view", { style: { "line-height": "50px" } }, [
                vue.createVNode(_component_uni_icons, {
                  type: "arrowthinright",
                  color: "#999"
                })
              ]),
              vue.createElementVNode("view", { class: "uni-date-changed--time-end" }, [
                vue.createElementVNode(
                  "view",
                  { class: "uni-date-changed--time-date" },
                  vue.toDisplayString($data.tempRange.after ? $data.tempRange.after : $options.endDateText),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_time_picker, {
                  type: "time",
                  end: $options.timepickerEndTime,
                  modelValue: $data.timeRange.endTime,
                  "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.timeRange.endTime = $event),
                  border: false,
                  "hide-second": $props.hideSecond,
                  disabled: !$data.tempRange.after,
                  class: "time-picker-style"
                }, null, 8, ["end", "modelValue", "hide-second", "disabled"])
              ])
            ])) : vue.createCommentVNode("v-if", true),
            !$props.insert ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 2,
              class: "uni-date-changed uni-date-btn--ok"
            }, [
              vue.createElementVNode(
                "view",
                {
                  class: "uni-datetime-picker--btn",
                  onClick: _cache[8] || (_cache[8] = (...args) => $options.confirm && $options.confirm(...args))
                },
                vue.toDisplayString($options.confirmText),
                1
                /* TEXT */
              )
            ])) : vue.createCommentVNode("v-if", true)
          ],
          2
          /* CLASS */
        )) : vue.createCommentVNode("v-if", true)
      ],
      32
      /* NEED_HYDRATION */
    );
  }
  const Calendar = /* @__PURE__ */ _export_sfc(_sfc_main$17, [["render", _sfc_render$16], ["__scopeId", "data-v-1d379219"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-datetime-picker/components/uni-datetime-picker/calendar.vue"]]);
  const _sfc_main$16 = {
    name: "UniDatetimePicker",
    options: {
      virtualHost: true
    },
    components: {
      Calendar,
      TimePicker
    },
    data() {
      return {
        isRange: false,
        hasTime: false,
        displayValue: "",
        inputDate: "",
        calendarDate: "",
        pickerTime: "",
        calendarRange: {
          startDate: "",
          startTime: "",
          endDate: "",
          endTime: ""
        },
        displayRangeValue: {
          startDate: "",
          endDate: ""
        },
        tempRange: {
          startDate: "",
          startTime: "",
          endDate: "",
          endTime: ""
        },
        // 左右日历同步数据
        startMultipleStatus: {
          before: "",
          after: "",
          data: [],
          fulldate: ""
        },
        endMultipleStatus: {
          before: "",
          after: "",
          data: [],
          fulldate: ""
        },
        pickerVisible: false,
        pickerPositionStyle: null,
        isEmitValue: false,
        isPhone: false,
        isFirstShow: true,
        i18nT: () => {
        }
      };
    },
    props: {
      type: {
        type: String,
        default: "datetime"
      },
      value: {
        type: [String, Number, Array, Date],
        default: ""
      },
      modelValue: {
        type: [String, Number, Array, Date],
        default: ""
      },
      start: {
        type: [Number, String],
        default: ""
      },
      end: {
        type: [Number, String],
        default: ""
      },
      returnType: {
        type: String,
        default: "string"
      },
      placeholder: {
        type: String,
        default: ""
      },
      startPlaceholder: {
        type: String,
        default: ""
      },
      endPlaceholder: {
        type: String,
        default: ""
      },
      rangeSeparator: {
        type: String,
        default: "-"
      },
      border: {
        type: [Boolean],
        default: true
      },
      disabled: {
        type: [Boolean],
        default: false
      },
      clearIcon: {
        type: [Boolean],
        default: true
      },
      hideSecond: {
        type: [Boolean],
        default: false
      },
      defaultValue: {
        type: [String, Object, Array],
        default: ""
      }
    },
    watch: {
      type: {
        immediate: true,
        handler(newVal) {
          this.hasTime = newVal.indexOf("time") !== -1;
          this.isRange = newVal.indexOf("range") !== -1;
        }
      },
      modelValue: {
        immediate: true,
        handler(newVal) {
          if (this.isEmitValue) {
            this.isEmitValue = false;
            return;
          }
          this.initPicker(newVal);
        }
      },
      start: {
        immediate: true,
        handler(newVal) {
          if (!newVal)
            return;
          this.calendarRange.startDate = getDate$1(newVal);
          if (this.hasTime) {
            this.calendarRange.startTime = getTime(newVal);
          }
        }
      },
      end: {
        immediate: true,
        handler(newVal) {
          if (!newVal)
            return;
          this.calendarRange.endDate = getDate$1(newVal);
          if (this.hasTime) {
            this.calendarRange.endTime = getTime(newVal, this.hideSecond);
          }
        }
      }
    },
    computed: {
      timepickerStartTime() {
        const activeDate = this.isRange ? this.tempRange.startDate : this.inputDate;
        return activeDate === this.calendarRange.startDate ? this.calendarRange.startTime : "";
      },
      timepickerEndTime() {
        const activeDate = this.isRange ? this.tempRange.endDate : this.inputDate;
        return activeDate === this.calendarRange.endDate ? this.calendarRange.endTime : "";
      },
      mobileCalendarTime() {
        const timeRange = {
          start: this.tempRange.startTime,
          end: this.tempRange.endTime
        };
        return this.isRange ? timeRange : this.pickerTime;
      },
      mobSelectableTime() {
        return {
          start: this.calendarRange.startTime,
          end: this.calendarRange.endTime
        };
      },
      datePopupWidth() {
        return this.isRange ? 653 : 301;
      },
      /**
       * for i18n
       */
      singlePlaceholderText() {
        return this.placeholder || (this.type === "date" ? this.selectDateText : this.selectDateTimeText);
      },
      startPlaceholderText() {
        return this.startPlaceholder || this.startDateText;
      },
      endPlaceholderText() {
        return this.endPlaceholder || this.endDateText;
      },
      selectDateText() {
        return this.i18nT("uni-datetime-picker.selectDate");
      },
      selectDateTimeText() {
        return this.i18nT("uni-datetime-picker.selectDateTime");
      },
      selectTimeText() {
        return this.i18nT("uni-datetime-picker.selectTime");
      },
      startDateText() {
        return this.startPlaceholder || this.i18nT("uni-datetime-picker.startDate");
      },
      startTimeText() {
        return this.i18nT("uni-datetime-picker.startTime");
      },
      endDateText() {
        return this.endPlaceholder || this.i18nT("uni-datetime-picker.endDate");
      },
      endTimeText() {
        return this.i18nT("uni-datetime-picker.endTime");
      },
      okText() {
        return this.i18nT("uni-datetime-picker.ok");
      },
      clearText() {
        return this.i18nT("uni-datetime-picker.clear");
      },
      showClearIcon() {
        return this.clearIcon && !this.disabled && (this.displayValue || this.displayRangeValue.startDate && this.displayRangeValue.endDate);
      }
    },
    created() {
      this.initI18nT();
      this.platform();
    },
    methods: {
      initI18nT() {
        const vueI18n = initVueI18n(i18nMessages);
        this.i18nT = vueI18n.t;
      },
      initPicker(newVal) {
        if (!newVal && !this.defaultValue || Array.isArray(newVal) && !newVal.length) {
          this.$nextTick(() => {
            this.clear(false);
          });
          return;
        }
        if (!Array.isArray(newVal) && !this.isRange) {
          if (newVal) {
            this.displayValue = this.inputDate = this.calendarDate = getDate$1(newVal);
            if (this.hasTime) {
              this.pickerTime = getTime(newVal, this.hideSecond);
              this.displayValue = `${this.displayValue} ${this.pickerTime}`;
            }
          } else if (this.defaultValue) {
            this.inputDate = this.calendarDate = getDate$1(this.defaultValue);
            if (this.hasTime) {
              this.pickerTime = getTime(this.defaultValue, this.hideSecond);
            }
          }
        } else {
          const [before, after] = newVal;
          if (!before && !after)
            return;
          const beforeDate = getDate$1(before);
          const beforeTime = getTime(before, this.hideSecond);
          const afterDate = getDate$1(after);
          const afterTime = getTime(after, this.hideSecond);
          const startDate = beforeDate;
          const endDate = afterDate;
          this.displayRangeValue.startDate = this.tempRange.startDate = startDate;
          this.displayRangeValue.endDate = this.tempRange.endDate = endDate;
          if (this.hasTime) {
            this.displayRangeValue.startDate = `${beforeDate} ${beforeTime}`;
            this.displayRangeValue.endDate = `${afterDate} ${afterTime}`;
            this.tempRange.startTime = beforeTime;
            this.tempRange.endTime = afterTime;
          }
          const defaultRange = {
            before: beforeDate,
            after: afterDate
          };
          this.startMultipleStatus = Object.assign({}, this.startMultipleStatus, defaultRange, {
            which: "right"
          });
          this.endMultipleStatus = Object.assign({}, this.endMultipleStatus, defaultRange, {
            which: "left"
          });
        }
      },
      updateLeftCale(e2) {
        const left = this.$refs.left;
        left.cale.setHoverMultiple(e2.after);
        left.setDate(this.$refs.left.nowDate.fullDate);
      },
      updateRightCale(e2) {
        const right = this.$refs.right;
        right.cale.setHoverMultiple(e2.after);
        right.setDate(this.$refs.right.nowDate.fullDate);
      },
      platform() {
        if (typeof navigator !== "undefined") {
          this.isPhone = navigator.userAgent.toLowerCase().indexOf("mobile") !== -1;
          return;
        }
        const {
          windowWidth
        } = uni.getSystemInfoSync();
        this.isPhone = windowWidth <= 500;
        this.windowWidth = windowWidth;
      },
      show() {
        this.$emit("show");
        if (this.disabled) {
          return;
        }
        this.platform();
        if (this.isPhone) {
          setTimeout(() => {
            this.$refs.mobile.open();
          }, 0);
          return;
        }
        this.pickerPositionStyle = {
          top: "10px"
        };
        const dateEditor = uni.createSelectorQuery().in(this).select(".uni-date-editor");
        dateEditor.boundingClientRect((rect) => {
          if (this.windowWidth - rect.left < this.datePopupWidth) {
            this.pickerPositionStyle.right = 0;
          }
        }).exec();
        setTimeout(() => {
          this.pickerVisible = !this.pickerVisible;
          if (!this.isPhone && this.isRange && this.isFirstShow) {
            this.isFirstShow = false;
            const {
              startDate,
              endDate
            } = this.calendarRange;
            if (startDate && endDate) {
              if (this.diffDate(startDate, endDate) < 30) {
                this.$refs.right.changeMonth("pre");
              }
            } else {
              if (this.isPhone) {
                this.$refs.right.cale.lastHover = false;
              }
            }
          }
        }, 50);
      },
      close() {
        setTimeout(() => {
          this.pickerVisible = false;
          this.$emit("maskClick", this.value);
          this.$refs.mobile && this.$refs.mobile.close();
        }, 20);
      },
      setEmit(value) {
        if (this.returnType === "timestamp" || this.returnType === "date") {
          if (!Array.isArray(value)) {
            if (!this.hasTime) {
              value = value + " 00:00:00";
            }
            value = this.createTimestamp(value);
            if (this.returnType === "date") {
              value = new Date(value);
            }
          } else {
            if (!this.hasTime) {
              value[0] = value[0] + " 00:00:00";
              value[1] = value[1] + " 00:00:00";
            }
            value[0] = this.createTimestamp(value[0]);
            value[1] = this.createTimestamp(value[1]);
            if (this.returnType === "date") {
              value[0] = new Date(value[0]);
              value[1] = new Date(value[1]);
            }
          }
        }
        this.$emit("update:modelValue", value);
        this.$emit("input", value);
        this.$emit("change", value);
        this.isEmitValue = true;
      },
      createTimestamp(date2) {
        date2 = fixIosDateFormat(date2);
        return Date.parse(new Date(date2));
      },
      singleChange(e2) {
        this.calendarDate = this.inputDate = e2.fulldate;
        if (this.hasTime)
          return;
        this.confirmSingleChange();
      },
      confirmSingleChange() {
        if (!checkDate(this.inputDate)) {
          const now2 = /* @__PURE__ */ new Date();
          this.calendarDate = this.inputDate = getDate$1(now2);
          this.pickerTime = getTime(now2, this.hideSecond);
        }
        let startLaterInputDate = false;
        let startDate, startTime;
        if (this.start) {
          let startString = this.start;
          if (typeof this.start === "number") {
            startString = getDateTime(this.start, this.hideSecond);
          }
          [startDate, startTime] = startString.split(" ");
          if (this.start && !dateCompare(startDate, this.inputDate)) {
            startLaterInputDate = true;
            this.inputDate = startDate;
          }
        }
        let endEarlierInputDate = false;
        let endDate, endTime;
        if (this.end) {
          let endString = this.end;
          if (typeof this.end === "number") {
            endString = getDateTime(this.end, this.hideSecond);
          }
          [endDate, endTime] = endString.split(" ");
          if (this.end && !dateCompare(this.inputDate, endDate)) {
            endEarlierInputDate = true;
            this.inputDate = endDate;
          }
        }
        if (this.hasTime) {
          if (startLaterInputDate) {
            this.pickerTime = startTime || getDefaultSecond(this.hideSecond);
          }
          if (endEarlierInputDate) {
            this.pickerTime = endTime || getDefaultSecond(this.hideSecond);
          }
          if (!this.pickerTime) {
            this.pickerTime = getTime(Date.now(), this.hideSecond);
          }
          this.displayValue = `${this.inputDate} ${this.pickerTime}`;
        } else {
          this.displayValue = this.inputDate;
        }
        this.setEmit(this.displayValue);
        this.pickerVisible = false;
      },
      leftChange(e2) {
        const {
          before,
          after
        } = e2.range;
        this.rangeChange(before, after);
        const obj = {
          before: e2.range.before,
          after: e2.range.after,
          data: e2.range.data,
          fulldate: e2.fulldate
        };
        this.startMultipleStatus = Object.assign({}, this.startMultipleStatus, obj);
        this.$emit("calendarClick", e2);
      },
      rightChange(e2) {
        const {
          before,
          after
        } = e2.range;
        this.rangeChange(before, after);
        const obj = {
          before: e2.range.before,
          after: e2.range.after,
          data: e2.range.data,
          fulldate: e2.fulldate
        };
        this.endMultipleStatus = Object.assign({}, this.endMultipleStatus, obj);
        this.$emit("calendarClick", e2);
      },
      mobileChange(e2) {
        if (this.isRange) {
          const {
            before,
            after
          } = e2.range;
          if (!before) {
            return;
          }
          this.handleStartAndEnd(before, after, true);
          if (this.hasTime) {
            const {
              startTime,
              endTime
            } = e2.timeRange;
            this.tempRange.startTime = startTime;
            this.tempRange.endTime = endTime;
          }
          this.confirmRangeChange();
        } else {
          if (this.hasTime) {
            this.displayValue = e2.fulldate + " " + e2.time;
          } else {
            this.displayValue = e2.fulldate;
          }
          this.setEmit(this.displayValue);
          this.calendarDate = this.displayValue;
        }
        this.$refs.mobile.close();
      },
      rangeChange(before, after) {
        if (!(before && after))
          return;
        this.handleStartAndEnd(before, after, true);
        if (this.hasTime)
          return;
        this.confirmRangeChange();
      },
      confirmRangeChange() {
        if (!this.tempRange.startDate || !this.tempRange.endDate) {
          this.pickerVisible = false;
          return;
        }
        if (!checkDate(this.tempRange.startDate)) {
          this.tempRange.startDate = getDate$1(Date.now());
        }
        if (!checkDate(this.tempRange.endDate)) {
          this.tempRange.endDate = getDate$1(Date.now());
        }
        let start, end;
        let startDateLaterRangeStartDate = false;
        let startDateLaterRangeEndDate = false;
        let startDate, startTime;
        let compareStartDateString = this.tempRange.startDate;
        let compareEndDateString = this.tempRange.endDate;
        if (this.hasTime) {
          compareStartDateString = `${this.tempRange.startDate} ${this.tempRange.startTime}`;
          compareEndDateString = `${this.tempRange.endDate} ${this.tempRange.endTime}`;
        }
        if (this.start) {
          let startString = this.start;
          if (typeof this.start === "number") {
            startString = getDateTime(this.start, this.hideSecond);
          }
          [startDate, startTime] = startString.split(" ");
          if (this.start && !dateCompare(this.start, compareStartDateString)) {
            startDateLaterRangeStartDate = true;
            this.tempRange.startDate = startDate;
          }
          if (this.start && !dateCompare(this.start, compareEndDateString)) {
            startDateLaterRangeEndDate = true;
            this.tempRange.endDate = startDate;
          }
        }
        let endDateEarlierRangeStartDate = false;
        let endDateEarlierRangeEndDate = false;
        let endDate, endTime;
        if (this.end) {
          let endString = this.end;
          if (typeof this.end === "number") {
            endString = getDateTime(this.end, this.hideSecond);
          }
          [endDate, endTime] = endString.split(" ");
          if (this.end && !dateCompare(compareStartDateString, this.end)) {
            endDateEarlierRangeStartDate = true;
            this.tempRange.startDate = endDate;
          }
          if (this.end && !dateCompare(compareEndDateString, this.end)) {
            endDateEarlierRangeEndDate = true;
            this.tempRange.endDate = endDate;
          }
        }
        if (!this.hasTime) {
          start = this.displayRangeValue.startDate = this.tempRange.startDate;
          end = this.displayRangeValue.endDate = this.tempRange.endDate;
        } else {
          if (startDateLaterRangeStartDate) {
            this.tempRange.startTime = startTime || getDefaultSecond(this.hideSecond);
          } else if (endDateEarlierRangeStartDate) {
            this.tempRange.startTime = endTime || getDefaultSecond(this.hideSecond);
          }
          if (!this.tempRange.startTime) {
            this.tempRange.startTime = getTime(Date.now(), this.hideSecond);
          }
          if (startDateLaterRangeEndDate) {
            this.tempRange.endTime = startTime || getDefaultSecond(this.hideSecond);
          } else if (endDateEarlierRangeEndDate) {
            this.tempRange.endTime = endTime || getDefaultSecond(this.hideSecond);
          }
          if (!this.tempRange.endTime) {
            this.tempRange.endTime = getTime(Date.now(), this.hideSecond);
          }
          start = this.displayRangeValue.startDate = `${this.tempRange.startDate} ${this.tempRange.startTime}`;
          end = this.displayRangeValue.endDate = `${this.tempRange.endDate} ${this.tempRange.endTime}`;
        }
        if (!dateCompare(start, end)) {
          [start, end] = [end, start];
        }
        this.displayRangeValue.startDate = start;
        this.displayRangeValue.endDate = end;
        const displayRange = [start, end];
        this.setEmit(displayRange);
        this.pickerVisible = false;
      },
      handleStartAndEnd(before, after, temp = false) {
        if (!before)
          return;
        if (!after)
          after = before;
        const type = temp ? "tempRange" : "range";
        const isStartEarlierEnd = dateCompare(before, after);
        this[type].startDate = isStartEarlierEnd ? before : after;
        this[type].endDate = isStartEarlierEnd ? after : before;
      },
      /**
       * 比较时间大小
       */
      dateCompare(startDate, endDate) {
        startDate = new Date(startDate.replace("-", "/").replace("-", "/"));
        endDate = new Date(endDate.replace("-", "/").replace("-", "/"));
        return startDate <= endDate;
      },
      /**
       * 比较时间差
       */
      diffDate(startDate, endDate) {
        startDate = new Date(startDate.replace("-", "/").replace("-", "/"));
        endDate = new Date(endDate.replace("-", "/").replace("-", "/"));
        const diff = (endDate - startDate) / (24 * 60 * 60 * 1e3);
        return Math.abs(diff);
      },
      clear(needEmit = true) {
        if (!this.isRange) {
          this.displayValue = "";
          this.inputDate = "";
          this.pickerTime = "";
          if (this.isPhone) {
            this.$refs.mobile && this.$refs.mobile.clearCalender();
          } else {
            this.$refs.pcSingle && this.$refs.pcSingle.clearCalender();
          }
          if (needEmit) {
            this.$emit("change", "");
            this.$emit("input", "");
            this.$emit("update:modelValue", "");
          }
        } else {
          this.displayRangeValue.startDate = "";
          this.displayRangeValue.endDate = "";
          this.tempRange.startDate = "";
          this.tempRange.startTime = "";
          this.tempRange.endDate = "";
          this.tempRange.endTime = "";
          if (this.isPhone) {
            this.$refs.mobile && this.$refs.mobile.clearCalender();
          } else {
            this.$refs.left && this.$refs.left.clearCalender();
            this.$refs.right && this.$refs.right.clearCalender();
            this.$refs.right && this.$refs.right.changeMonth("next");
          }
          if (needEmit) {
            this.$emit("change", []);
            this.$emit("input", []);
            this.$emit("update:modelValue", []);
          }
        }
      },
      calendarClick(e2) {
        this.$emit("calendarClick", e2);
      }
    }
  };
  function _sfc_render$15(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_time_picker = vue.resolveComponent("time-picker");
    const _component_Calendar = vue.resolveComponent("Calendar");
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-date" }, [
      vue.createElementVNode("view", {
        class: "uni-date-editor",
        onClick: _cache[1] || (_cache[1] = (...args) => $options.show && $options.show(...args))
      }, [
        vue.renderSlot(_ctx.$slots, "default", {}, () => [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["uni-date-editor--x", { "uni-date-editor--x__disabled": $props.disabled, "uni-date-x--border": $props.border }])
            },
            [
              !$data.isRange ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "uni-date-x uni-date-single"
              }, [
                vue.createVNode(_component_uni_icons, {
                  class: "icon-calendar",
                  type: "calendar",
                  color: "#c0c4cc",
                  size: "22"
                }),
                vue.createElementVNode(
                  "view",
                  { class: "uni-date__x-input" },
                  vue.toDisplayString($data.displayValue || $options.singlePlaceholderText),
                  1
                  /* TEXT */
                )
              ])) : (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "uni-date-x uni-date-range"
              }, [
                vue.createVNode(_component_uni_icons, {
                  class: "icon-calendar",
                  type: "calendar",
                  color: "#c0c4cc",
                  size: "22"
                }),
                vue.createElementVNode(
                  "view",
                  { class: "uni-date__x-input text-center" },
                  vue.toDisplayString($data.displayRangeValue.startDate || $options.startPlaceholderText),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "view",
                  { class: "range-separator" },
                  vue.toDisplayString($props.rangeSeparator),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "view",
                  { class: "uni-date__x-input text-center" },
                  vue.toDisplayString($data.displayRangeValue.endDate || $options.endPlaceholderText),
                  1
                  /* TEXT */
                )
              ])),
              $options.showClearIcon ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 2,
                class: "uni-date__icon-clear",
                onClick: _cache[0] || (_cache[0] = vue.withModifiers((...args) => $options.clear && $options.clear(...args), ["stop"]))
              }, [
                vue.createVNode(_component_uni_icons, {
                  type: "clear",
                  color: "#c0c4cc",
                  size: "22"
                })
              ])) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          )
        ], true)
      ]),
      vue.withDirectives(vue.createElementVNode(
        "view",
        {
          class: "uni-date-mask--pc",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.close && $options.close(...args))
        },
        null,
        512
        /* NEED_PATCH */
      ), [
        [vue.vShow, $data.pickerVisible]
      ]),
      !$data.isPhone ? vue.withDirectives((vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 0,
          ref: "datePicker",
          class: "uni-date-picker__container"
        },
        [
          !$data.isRange ? (vue.openBlock(), vue.createElementBlock(
            "view",
            {
              key: 0,
              class: "uni-date-single--x",
              style: vue.normalizeStyle($data.pickerPositionStyle)
            },
            [
              vue.createElementVNode("view", { class: "uni-popper__arrow" }),
              $data.hasTime ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "uni-date-changed popup-x-header"
              }, [
                vue.withDirectives(vue.createElementVNode("input", {
                  class: "uni-date__input text-center",
                  type: "text",
                  "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.inputDate = $event),
                  placeholder: $options.selectDateText
                }, null, 8, ["placeholder"]), [
                  [vue.vModelText, $data.inputDate]
                ]),
                vue.createVNode(_component_time_picker, {
                  type: "time",
                  modelValue: $data.pickerTime,
                  "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.pickerTime = $event),
                  border: false,
                  disabled: !$data.inputDate,
                  start: $options.timepickerStartTime,
                  end: $options.timepickerEndTime,
                  hideSecond: $props.hideSecond,
                  style: { "width": "100%" }
                }, {
                  default: vue.withCtx(() => [
                    vue.withDirectives(vue.createElementVNode("input", {
                      class: "uni-date__input text-center",
                      type: "text",
                      "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.pickerTime = $event),
                      placeholder: $options.selectTimeText,
                      disabled: !$data.inputDate
                    }, null, 8, ["placeholder", "disabled"]), [
                      [vue.vModelText, $data.pickerTime]
                    ])
                  ]),
                  _: 1
                  /* STABLE */
                }, 8, ["modelValue", "disabled", "start", "end", "hideSecond"])
              ])) : vue.createCommentVNode("v-if", true),
              vue.createVNode(_component_Calendar, {
                ref: "pcSingle",
                showMonth: false,
                "start-date": $data.calendarRange.startDate,
                "end-date": $data.calendarRange.endDate,
                date: $data.calendarDate,
                onChange: $options.singleChange,
                "default-value": $props.defaultValue,
                style: { "padding": "0 8px" }
              }, null, 8, ["start-date", "end-date", "date", "onChange", "default-value"]),
              $data.hasTime ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "popup-x-footer"
              }, [
                vue.createElementVNode(
                  "text",
                  {
                    class: "confirm-text",
                    onClick: _cache[6] || (_cache[6] = (...args) => $options.confirmSingleChange && $options.confirmSingleChange(...args))
                  },
                  vue.toDisplayString($options.okText),
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true)
            ],
            4
            /* STYLE */
          )) : (vue.openBlock(), vue.createElementBlock(
            "view",
            {
              key: 1,
              class: "uni-date-range--x",
              style: vue.normalizeStyle($data.pickerPositionStyle)
            },
            [
              vue.createElementVNode("view", { class: "uni-popper__arrow" }),
              $data.hasTime ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "popup-x-header uni-date-changed"
              }, [
                vue.createElementVNode("view", { class: "popup-x-header--datetime" }, [
                  vue.withDirectives(vue.createElementVNode("input", {
                    class: "uni-date__input uni-date-range__input",
                    type: "text",
                    "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.tempRange.startDate = $event),
                    placeholder: $options.startDateText
                  }, null, 8, ["placeholder"]), [
                    [vue.vModelText, $data.tempRange.startDate]
                  ]),
                  vue.createVNode(_component_time_picker, {
                    type: "time",
                    modelValue: $data.tempRange.startTime,
                    "onUpdate:modelValue": _cache[9] || (_cache[9] = ($event) => $data.tempRange.startTime = $event),
                    start: $options.timepickerStartTime,
                    border: false,
                    disabled: !$data.tempRange.startDate,
                    hideSecond: $props.hideSecond
                  }, {
                    default: vue.withCtx(() => [
                      vue.withDirectives(vue.createElementVNode("input", {
                        class: "uni-date__input uni-date-range__input",
                        type: "text",
                        "onUpdate:modelValue": _cache[8] || (_cache[8] = ($event) => $data.tempRange.startTime = $event),
                        placeholder: $options.startTimeText,
                        disabled: !$data.tempRange.startDate
                      }, null, 8, ["placeholder", "disabled"]), [
                        [vue.vModelText, $data.tempRange.startTime]
                      ])
                    ]),
                    _: 1
                    /* STABLE */
                  }, 8, ["modelValue", "start", "disabled", "hideSecond"])
                ]),
                vue.createVNode(_component_uni_icons, {
                  type: "arrowthinright",
                  color: "#999",
                  style: { "line-height": "40px" }
                }),
                vue.createElementVNode("view", { class: "popup-x-header--datetime" }, [
                  vue.withDirectives(vue.createElementVNode("input", {
                    class: "uni-date__input uni-date-range__input",
                    type: "text",
                    "onUpdate:modelValue": _cache[10] || (_cache[10] = ($event) => $data.tempRange.endDate = $event),
                    placeholder: $options.endDateText
                  }, null, 8, ["placeholder"]), [
                    [vue.vModelText, $data.tempRange.endDate]
                  ]),
                  vue.createVNode(_component_time_picker, {
                    type: "time",
                    modelValue: $data.tempRange.endTime,
                    "onUpdate:modelValue": _cache[12] || (_cache[12] = ($event) => $data.tempRange.endTime = $event),
                    end: $options.timepickerEndTime,
                    border: false,
                    disabled: !$data.tempRange.endDate,
                    hideSecond: $props.hideSecond
                  }, {
                    default: vue.withCtx(() => [
                      vue.withDirectives(vue.createElementVNode("input", {
                        class: "uni-date__input uni-date-range__input",
                        type: "text",
                        "onUpdate:modelValue": _cache[11] || (_cache[11] = ($event) => $data.tempRange.endTime = $event),
                        placeholder: $options.endTimeText,
                        disabled: !$data.tempRange.endDate
                      }, null, 8, ["placeholder", "disabled"]), [
                        [vue.vModelText, $data.tempRange.endTime]
                      ])
                    ]),
                    _: 1
                    /* STABLE */
                  }, 8, ["modelValue", "end", "disabled", "hideSecond"])
                ])
              ])) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode("view", { class: "popup-x-body" }, [
                vue.createVNode(_component_Calendar, {
                  ref: "left",
                  showMonth: false,
                  "start-date": $data.calendarRange.startDate,
                  "end-date": $data.calendarRange.endDate,
                  range: true,
                  pleStatus: $data.endMultipleStatus,
                  onChange: $options.leftChange,
                  onFirstEnterCale: $options.updateRightCale,
                  style: { "padding": "0 8px" }
                }, null, 8, ["start-date", "end-date", "pleStatus", "onChange", "onFirstEnterCale"]),
                vue.createVNode(_component_Calendar, {
                  ref: "right",
                  showMonth: false,
                  "start-date": $data.calendarRange.startDate,
                  "end-date": $data.calendarRange.endDate,
                  range: true,
                  onChange: $options.rightChange,
                  pleStatus: $data.startMultipleStatus,
                  onFirstEnterCale: $options.updateLeftCale,
                  style: { "padding": "0 8px", "border-left": "1px solid #F1F1F1" }
                }, null, 8, ["start-date", "end-date", "onChange", "pleStatus", "onFirstEnterCale"])
              ]),
              $data.hasTime ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "popup-x-footer"
              }, [
                vue.createElementVNode(
                  "text",
                  {
                    onClick: _cache[13] || (_cache[13] = (...args) => $options.clear && $options.clear(...args))
                  },
                  vue.toDisplayString($options.clearText),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  {
                    class: "confirm-text",
                    onClick: _cache[14] || (_cache[14] = (...args) => $options.confirmRangeChange && $options.confirmRangeChange(...args))
                  },
                  vue.toDisplayString($options.okText),
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true)
            ],
            4
            /* STYLE */
          ))
        ],
        512
        /* NEED_PATCH */
      )), [
        [vue.vShow, $data.pickerVisible]
      ]) : vue.createCommentVNode("v-if", true),
      $data.isPhone ? (vue.openBlock(), vue.createBlock(_component_Calendar, {
        key: 1,
        ref: "mobile",
        clearDate: false,
        date: $data.calendarDate,
        defTime: $options.mobileCalendarTime,
        "start-date": $data.calendarRange.startDate,
        "end-date": $data.calendarRange.endDate,
        selectableTimes: $options.mobSelectableTime,
        startPlaceholder: $props.startPlaceholder,
        endPlaceholder: $props.endPlaceholder,
        "default-value": $props.defaultValue,
        pleStatus: $data.endMultipleStatus,
        showMonth: false,
        range: $data.isRange,
        hasTime: $data.hasTime,
        insert: false,
        hideSecond: $props.hideSecond,
        onConfirm: $options.mobileChange,
        onMaskClose: $options.close,
        onChange: $options.calendarClick
      }, null, 8, ["date", "defTime", "start-date", "end-date", "selectableTimes", "startPlaceholder", "endPlaceholder", "default-value", "pleStatus", "range", "hasTime", "hideSecond", "onConfirm", "onMaskClose", "onChange"])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const __easycom_2$5 = /* @__PURE__ */ _export_sfc(_sfc_main$16, [["render", _sfc_render$15], ["__scopeId", "data-v-9802168a"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.vue"]]);
  const _sfc_main$15 = {
    __name: "info",
    setup(__props, { expose: __expose }) {
      __expose();
      const picUrl = vue.ref("");
      const nickName = vue.ref("");
      const userInfo = vue.ref({});
      const birthDate = vue.ref("");
      const genderRange = vue.ref(["男", "女"]);
      const status = vue.ref("");
      const maritalStatus = vue.ref(["已婚", "未婚", "离异"]);
      const sexPopupRef = vue.ref(null);
      const statusPopupRef = vue.ref(null);
      const uploadImageHandler = () => {
        uni.chooseImage({
          count: 1,
          success: function(res2) {
            uploadFile(baseURL + "/api/common/upload", res2.tempFilePaths[0]).then((res3) => {
              formatAppLog("log", "at pages/forum/my/info.vue:132", res3);
              userInfo.value.avatar = res3.data.url;
            });
          }
        });
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const maritalChange = (e2) => {
        userInfo.value.marriage = maritalStatus.value[e2.detail.value];
      };
      const bindPickerChange = (e2) => {
        formatAppLog("log", "at pages/forum/my/info.vue:153", e2);
        userInfo.value.gender = genderRange.value[e2.detail.value];
      };
      const openPopupHandler = (type) => {
        type == 1 ? sexPopupRef.value.open() : statusPopupRef.value.open();
      };
      const getInfo = async () => {
        let res2 = await getUserInfo();
        userInfo.value = res2.data;
      };
      const onUpdateUser = async () => {
        formatAppLog("log", "at pages/forum/my/info.vue:173", userInfo.value.avatar);
        let res2 = await updateUser(userInfo.value);
        uni.showToast({
          title: "修改成功",
          icon: "none",
          // 可选值 'success', 'loading', 'none'
          duration: 2e3
          // 持续时长，单位ms
        });
        uni.navigateBack();
        formatAppLog("log", "at pages/forum/my/info.vue:183", res2);
      };
      vue.onMounted(() => {
        getInfo();
      });
      const __returned__ = { picUrl, nickName, userInfo, birthDate, genderRange, status, maritalStatus, sexPopupRef, statusPopupRef, uploadImageHandler, backFn, maritalChange, bindPickerChange, openPopupHandler, getInfo, onUpdateUser, ref: vue.ref, onMounted: vue.onMounted, get getUserInfo() {
        return getUserInfo;
      }, get updateUser() {
        return updateUser;
      }, get uploadFile() {
        return uploadFile;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$14(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_datetime_picker = resolveEasycom(vue.resolveDynamicComponent("uni-datetime-picker"), __easycom_2$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "user-info-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "个人信息",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        right: vue.withCtx(() => []),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "user-info-content" }, [
        vue.createElementVNode("view", { class: "info-content-1" }, [
          vue.createElementVNode("view", { class: "info-content-list" }, [
            vue.createElementVNode("view", {
              class: "content-item auture",
              onClick: $setup.uploadImageHandler
            }, [
              vue.createElementVNode("view", { class: "label" }, "头像"),
              vue.createElementVNode("view", { class: "content" }, [
                $setup.userInfo.avatar ? (vue.openBlock(), vue.createElementBlock("image", {
                  key: 0,
                  src: $setup.userInfo.avatar,
                  class: "pic"
                }, null, 8, ["src"])) : (vue.openBlock(), vue.createElementBlock("text", {
                  key: 1,
                  class: "txt"
                }, [
                  vue.createTextVNode("请选择"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "14",
                    color: "rgba(0,0,0,0.3)",
                    class: "icon"
                  })
                ]))
              ])
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("view", { class: "label" }, "昵称"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("text", { class: "txt" }, [
                  vue.withDirectives(vue.createElementVNode(
                    "input",
                    {
                      type: "text",
                      style: { "text-align": "end", "font-size": "28rpx" },
                      "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.userInfo.realName = $event)
                    },
                    null,
                    512
                    /* NEED_PATCH */
                  ), [
                    [vue.vModelText, $setup.userInfo.realName]
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("view", { class: "label" }, "生日"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.createVNode(_component_uni_datetime_picker, {
                  type: "date",
                  "clear-icon": false,
                  modelValue: $setup.userInfo.birthday,
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.userInfo.birthday = $event)
                }, {
                  default: vue.withCtx(() => [
                    vue.createElementVNode("text", { class: "txt" }, [
                      vue.createTextVNode(
                        vue.toDisplayString($setup.userInfo.birthday || "请选择"),
                        1
                        /* TEXT */
                      ),
                      vue.createVNode(_component_uni_icons, {
                        type: "right",
                        size: "14",
                        color: "rgba(0,0,0,0.3)",
                        class: "icon"
                      })
                    ])
                  ]),
                  _: 1
                  /* STABLE */
                }, 8, ["modelValue"])
              ])
            ]),
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("view", { class: "label" }, "性别"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("picker", {
                  range: $setup.genderRange,
                  onChange: $setup.bindPickerChange,
                  mode: "selector"
                }, [
                  vue.createElementVNode("text", { class: "txt" }, [
                    vue.createTextVNode(
                      vue.toDisplayString($setup.userInfo.gender),
                      1
                      /* TEXT */
                    ),
                    vue.createVNode(_component_uni_icons, {
                      type: "right",
                      size: "14",
                      color: "rgba(0,0,0,0.3)",
                      class: "icon"
                    })
                  ])
                ], 40, ["range"])
              ])
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "info-content-2" }, [
          vue.createElementVNode("view", { class: "info-content-list" }, [
            vue.createElementVNode("view", { class: "content-item" }, [
              vue.createElementVNode("view", { class: "label" }, "婚姻状态"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("picker", {
                  range: $setup.maritalStatus,
                  onChange: $setup.maritalChange
                }, [
                  vue.createElementVNode("text", { class: "txt" }, [
                    vue.createTextVNode(
                      vue.toDisplayString($setup.userInfo.marriage == null ? "请选择" : $setup.userInfo.marriage),
                      1
                      /* TEXT */
                    ),
                    vue.createVNode(_component_uni_icons, {
                      type: "right",
                      size: "14",
                      color: "rgba(0,0,0,0.3)",
                      class: "icon"
                    })
                  ])
                ], 40, ["range"])
              ])
            ]),
            vue.createElementVNode("view", { class: "content-item profile" }, [
              vue.createElementVNode("view", { class: "label" }, "简介"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.withDirectives(vue.createElementVNode(
                  "textarea",
                  {
                    placeholder: "请简单介绍一下自己",
                    style: { "text-align": "end", "font-size": "28rpx" },
                    "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.userInfo.introduce = $event),
                    class: "profile-content",
                    "placeholder-class": "profile-placeholder-content"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.userInfo.introduce]
                ])
              ])
            ])
          ])
        ]),
        vue.createElementVNode("view", { style: { "margin": "30rpx" } }, [
          vue.createElementVNode("button", {
            type: "primary",
            onClick: $setup.onUpdateUser
          }, "提交")
        ])
      ])
    ]);
  }
  const PagesForumMyInfo = /* @__PURE__ */ _export_sfc(_sfc_main$15, [["render", _sfc_render$14], ["__scopeId", "data-v-422be657"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/my/info.vue"]]);
  const _imports_0$9 = "/static/forum/topic-b.png";
  const _sfc_main$14 = {
    __name: "choose-topic",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "255c2008-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const tabActive = vue.ref(1);
      const changeTabHandler = (i2) => {
        if (tabActive.value != i2) {
          tabActive.value = i2;
        }
      };
      const contentActive = vue.ref(1);
      const changeContentHandler = (i2) => {
        if (contentActive.value != i2) {
          contentActive.value = i2;
        }
      };
      const __returned__ = { globalStore, statusBarHeight, backFn, tabActive, changeTabHandler, contentActive, changeContentHandler, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$13(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "choose-topic-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "选择话题",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "choose-topic-content" }, [
        vue.createElementVNode("view", { class: "tag-content" }, [
          vue.createElementVNode("view", { class: "tag-left" }, [
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              class: "scroll-content",
              "show-scrollbar": false
            }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(20, (i2) => {
                  return vue.createElementVNode("view", {
                    class: vue.normalizeClass(["tag-item", $setup.tabActive == i2 ? "active" : ""]),
                    key: i2,
                    onClick: ($event) => $setup.changeTabHandler(i2)
                  }, " 健康 ", 10, ["onClick"]);
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ]),
          vue.createElementVNode("view", { class: "tag-right" }, [
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              class: "scroll-content",
              "show-scrollbar": false
            }, [
              vue.createElementVNode("view", { class: "tag-right-content" }, [
                (vue.openBlock(), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(20, (i2) => {
                    return vue.createElementVNode("view", {
                      class: vue.normalizeClass(["content-item", $setup.contentActive == i2 ? "active" : ""]),
                      key: i2,
                      onClick: ($event) => $setup.changeContentHandler(i2)
                    }, [
                      vue.createElementVNode("view", { class: "topic-image" }, [
                        vue.createElementVNode("image", {
                          src: _imports_0$9,
                          class: "img"
                        })
                      ]),
                      vue.createElementVNode("view", { class: "content" }, [
                        vue.createElementVNode("view", { class: "title" }, "潜意识投射测试"),
                        vue.createElementVNode("view", { class: "remark" }, [
                          vue.createElementVNode("text", { class: "num" }, "234"),
                          vue.createTextVNode("篇内容")
                        ])
                      ])
                    ], 10, ["onClick"]);
                  }),
                  64
                  /* STABLE_FRAGMENT */
                ))
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const PagesForumWriteChooseTopicChooseTopic = /* @__PURE__ */ _export_sfc(_sfc_main$14, [["render", _sfc_render$13], ["__scopeId", "data-v-255c2008"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/write/choose-topic/choose-topic.vue"]]);
  const _sfc_main$13 = {
    __name: "qaDetail",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "819faf70-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const route2 = useRoute();
      const tabActive = vue.ref(0);
      const replyContent = vue.ref("");
      let id2 = vue.ref();
      const data = vue.reactive({
        listParams: {
          "current": 1,
          "size": 10,
          "params": {}
        },
        list: []
      });
      const tabLists = vue.ref([{
        txt: "推荐",
        id: 1
      }, {
        txt: "情感",
        id: 2
      }, {
        txt: "文化",
        id: 3
      }, {
        txt: "职场",
        id: 4
      }, {
        txt: "职场",
        id: 5
      }, {
        txt: "职场",
        id: 6
      }, {
        txt: "职场",
        id: 7
      }, {
        txt: "职场",
        id: 7
      }]);
      const info = vue.ref();
      const commentList = vue.ref([]);
      const changeTabHandler = (index) => {
        tabActive.value = index;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const switchTabsFn = (type) => {
        if (type == 1) {
          uni.switchTab({
            url: "/pages/consult/index"
          });
        } else {
          uni.navigateTo({
            url: "/pages/consult/detail"
          });
        }
      };
      const openArticleFn = (type) => {
        let url2 = type == "1" ? "/pages/readArticle/readArticle" : "";
        uni.navigateTo({
          url: url2
        });
      };
      const getInfo = async () => {
        formatAppLog("log", "at pages/forum/index/qaDetail.vue:202", "==============================" + id2.value);
        let res2 = await getAnswerDetail({
          id: id2.value
        });
        info.value = res2.data;
      };
      const getList = async () => {
        data.listParams.params.articleId = id2.value;
        let res2 = await getCommentById(data.listParams);
        commentList.value = res2.data.records;
      };
      const onSaveComment = async () => {
        let res2 = await saveComment$1({
          "content": replyContent.value,
          "articleId": id2.value,
          "type": 2
        });
        replyContent.value = "";
        uni.showToast({
          title: "发布成功",
          icon: "none",
          // 可选值 'success', 'loading', 'none'
          duration: 2e3
          // 持续时长，单位ms
        });
        formatAppLog("log", "at pages/forum/index/qaDetail.vue:227", res2);
      };
      onLoad((options) => {
        id2.value = options.id;
        getInfo();
        getList();
      });
      vue.onMounted(() => {
      });
      const __returned__ = { globalStore, statusBarHeight, route: route2, tabActive, replyContent, get id() {
        return id2;
      }, set id(v2) {
        id2 = v2;
      }, data, tabLists, info, commentList, changeTabHandler, backFn, switchTabsFn, openArticleFn, getInfo, getList, onSaveComment, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get onLoad() {
        return onLoad;
      }, get onBackPress() {
        return onBackPress;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get getAnswerDetail() {
        return getAnswerDetail;
      }, get getCommentById() {
        return getCommentById;
      }, get saveComment() {
        return saveComment$1;
      }, get RecommendArticleItem() {
        return RecommendArticleItem;
      }, ConsultTeacherListItem, get useRoute() {
        return useRoute;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$12(_ctx, _cache, $props, $setup, $data, $options) {
    var _a2, _b2;
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    return vue.openBlock(), vue.createElementBlock("view", { class: "read-article-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "#F4F6F8",
          border: false,
          title: "",
          class: "header-bar",
          statusBar: true,
          fixed: ""
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createVNode(_component_uni_icons, {
                type: "more-filled",
                size: "24",
                onClick: $setup.backFn
              })
            ])
          ]),
          _: 1
          /* STABLE */
        })
      ]),
      vue.createElementVNode("view", { class: "article-content" }, [
        vue.createElementVNode("view", { class: "detail-box" }, [
          vue.createElementVNode(
            "view",
            { class: "title" },
            vue.toDisplayString((_a2 = $setup.info) == null ? void 0 : _a2.title),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "article-user" }, [
            vue.createElementVNode("view", { class: "user" }, [
              vue.createElementVNode("view", null, [
                vue.createElementVNode("image", {
                  src: $setup.info.avatar == null ? "@/static/my/profile.png" : $setup.info.avatar,
                  class: "picture"
                }, null, 8, ["src"])
              ]),
              vue.createElementVNode("view", { class: "name-box" }, [
                vue.createElementVNode(
                  "view",
                  { class: "name" },
                  vue.toDisplayString($setup.info.realName),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", { class: "auth" }, "咨询师 | 认证作家")
              ])
            ]),
            vue.createElementVNode("view", { class: "follow" }, [
              vue.createVNode(_component_uni_icons, {
                type: "plusempty",
                size: "12",
                color: "#35CA95"
              }),
              vue.createElementVNode("text", { class: "txt" }, "关注")
            ])
          ]),
          vue.createElementVNode(
            "view",
            { class: "content" },
            vue.toDisplayString((_b2 = $setup.info) == null ? void 0 : _b2.content),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "date-num" }, [
            vue.createElementVNode("view", null, "2025-05-06"),
            vue.createElementVNode("view", { style: { "padding-left": "20rpx" } }, "阅读 7876")
          ]),
          vue.createElementVNode("view", { class: "contact" }, [
            vue.createTextVNode("文章转载/侵权，请联系邮箱："),
            vue.createElementVNode("text", { class: "txt" }, "6757567@163.com")
          ])
        ]),
        vue.createElementVNode("view", { style: { "background-color": "white", "margin": "20rpx 30rpx", "border-radius": "20rpx", "padding": "20rpx" } }, [
          vue.createElementVNode("view", { style: { "margin-bottom": "30rpx" } }, [
            vue.createElementVNode("text", { style: { "font-size": "42rpx", "font-weight": "bold" } }, "热门评论")
          ]),
          $setup.commentList.length > 0 ? (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            { key: 0 },
            vue.renderList($setup.commentList, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                key: index,
                style: { "margin-bottom": "20rpx" }
              }, [
                vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row" } }, [
                  vue.createElementVNode("image", {
                    style: { "width": "48rpx", "height": "48rpx", "border-radius": "24rpx" },
                    src: item.avatar == null ? "@/static/my/profile.png" : item.avatar
                  }, null, 8, ["src"]),
                  vue.createElementVNode("view", { style: { "margin-left": "20rpx", "display": "flex", "flex-direction": "column" } }, [
                    vue.createElementVNode(
                      "text",
                      { style: { "font-size": "26rpx" } },
                      vue.toDisplayString(item.nickname),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { style: { "margin-top": "10rpx", "font-size": "28rpx", "color": "#666666" } },
                      vue.toDisplayString(item.content),
                      1
                      /* TEXT */
                    )
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          )) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
            vue.createElementVNode("view", { style: { "text-align": "center" } }, [
              vue.createElementVNode("text", null, "暂无数据")
            ])
          ]))
        ]),
        vue.createElementVNode("view", { class: "hot-psychological-box" }, [
          vue.createElementVNode("view", { class: "hot-psychological-header" }, [
            vue.createElementVNode("view", { class: "title" }, "热门咨询师"),
            vue.createElementVNode("view", {
              class: "more",
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.switchTabsFn(1))
            }, [
              vue.createTextVNode("更多"),
              vue.createVNode(_component_uni_icons, {
                type: "right",
                size: "12",
                color: "rgba(0, 0, 0, 0.5)"
              })
            ])
          ]),
          vue.createElementVNode("scroll-view", {
            class: "scroll-view_H",
            "scroll-x": "true",
            "scroll-left": "0",
            "show-scrollbar": false
          }, [
            vue.createElementVNode("view", { class: "list" }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(10, (i2) => {
                  return vue.createVNode($setup["ConsultTeacherListItem"], {
                    class: "list-item",
                    onClick: _cache[1] || (_cache[1] = ($event) => $setup.switchTabsFn(2))
                  });
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "recommend-article-box" }, [
          vue.createElementVNode("view", { class: "recommend-article-header" }, [
            vue.createElementVNode("view", { class: "title" }, [
              vue.createElementVNode("view", null, "相关阅读")
            ]),
            vue.createElementVNode("view", {
              class: "more",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.openArticleFn(1))
            }, [
              vue.createTextVNode("更多"),
              vue.createVNode(_component_uni_icons, {
                type: "right",
                size: "12",
                color: "rgba(0, 0, 0, 0.5)"
              })
            ])
          ]),
          vue.createElementVNode("view", { class: "article-list" })
        ])
      ]),
      vue.createElementVNode("view", { class: "reply-box" }, [
        vue.createElementVNode("view", { class: "reply-contaior" }, [
          vue.createElementVNode("view", { class: "reply-content" }, [
            vue.createVNode(_component_uni_easyinput, {
              onChange: $setup.onSaveComment,
              "prefix-icon": "chat",
              clearable: false,
              modelValue: $setup.replyContent,
              "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.replyContent = $event),
              placeholder: "写点什么",
              trim: true,
              class: "reply-input"
            }, null, 8, ["modelValue"])
          ]),
          vue.createElementVNode("view", { class: "reply-icons" }, [
            vue.createVNode(_component_uni_icons, {
              type: "star",
              size: "24",
              color: "rgba(0, 0, 0, 0.35)"
            }),
            vue.createVNode(_component_uni_icons, {
              type: "hand-up",
              size: "24",
              color: "rgba(0, 0, 0, 0.35)"
            }),
            vue.createVNode(_component_uni_icons, {
              type: "redo",
              size: "24",
              color: "rgba(0, 0, 0, 0.35)"
            })
          ])
        ])
      ])
    ]);
  }
  const PagesForumIndexQaDetail = /* @__PURE__ */ _export_sfc(_sfc_main$13, [["render", _sfc_render$12], ["__scopeId", "data-v-819faf70"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/forum/index/qaDetail.vue"]]);
  const _sfc_main$12 = /* @__PURE__ */ vue.defineComponent({
    __name: "gp-danmu",
    props: {
      // 弹幕数据
      danmuList: { type: Array, default: () => [] },
      // 配置对象
      config: { type: Object, default: () => ({}) },
      // 自动播放
      autoplay: { type: Boolean, default: true },
      // 最大弹幕数量
      maxNumber: { type: Number, default: 100 },
      // z-index
      zIndex: { type: Number, default: 10 }
    },
    emits: [
      "send",
      // 发送弹幕
      "click",
      // 点击弹幕
      "enter",
      // 弹幕进入
      "leave",
      // 弹幕离开
      "play",
      // 播放
      "pause",
      // 暂停
      "clear"
      // 清空
    ],
    setup(__props, { expose: __expose, emit: __emit }) {
      vue.useCssVars((_ctx) => ({
        "75511d43-mergedConfig.allowLineBreak ? 'normal' : 'nowrap'": mergedConfig.value.allowLineBreak ? "normal" : "nowrap",
        "75511d43-mergedConfig.allowLineBreak ? containerWidth * 0.6 + 'px' : 'none'": mergedConfig.value.allowLineBreak ? containerWidth.value * 0.6 + "px" : "none",
        "75511d43-mergedConfig.allowLineBreak ? 'break-word' : 'keep-all'": mergedConfig.value.allowLineBreak ? "break-word" : "keep-all",
        "75511d43-mergedConfig.allowLineBreak ? '100%' : 'none'": mergedConfig.value.allowLineBreak ? "100%" : "none"
      }));
      const props = __props;
      const emit = __emit;
      const instance = vue.getCurrentInstance();
      const defaultConfig = {
        trackHeight: 40,
        // 轨道高度
        trackNumber: 5,
        // 轨道数量
        speed: 100,
        // 弹幕速度（像素/秒）
        fontSize: 16,
        // 默认字体大小
        fontColor: "#ffffff",
        // 默认字体颜色
        backgroundColor: "transparent",
        // 弹幕背景颜色
        trackMode: "overlap",
        // 轨道模式: 'overlap', 'separate', 'fixed'
        looping: false,
        // 是否循环播放
        direction: "rtl",
        // 弹幕方向: 'rtl', 'ltr'
        duration: 8e3,
        // 动画持续时间(ms)
        density: 0.5,
        // 弹幕密度(0-1)
        randomTrack: true,
        // 是否随机选择轨道
        blockEnabled: false,
        // 是否启用弹幕屏蔽功能
        blockWords: [],
        // 屏蔽词列表
        blockUsers: [],
        // 屏蔽用户ID列表
        clickable: true,
        // 弹幕是否可点击
        opacity: 1,
        // 弹幕透明度
        hoverPause: false,
        // 鼠标悬停时是否暂停
        maxTextLength: 50,
        // 添加最大文本长度限制
        allowLineBreak: false
        // 默认不允许换行
      };
      const mergedConfig = vue.computed(() => {
        return Object.assign({}, defaultConfig, props.config);
      });
      const containerRef = vue.ref(null);
      const containerWidth = vue.ref(0);
      const containerHeight = vue.ref(0);
      const activeDanmus = vue.ref([]);
      const isPlaying = vue.ref(false);
      const trackList = vue.ref([]);
      const danmuTypes = vue.reactive({});
      const pluginContext = vue.reactive({
        mergedConfig,
        // 提供配置给插件
        containerWidth,
        // 提供容器宽度给插件
        containerHeight
        // 提供容器高度给插件
      });
      const animationFrameId = vue.ref(null);
      const lastTimestamp = vue.ref(0);
      const initTracks = () => {
        trackList.value = Array.from({ length: mergedConfig.value.trackNumber || 5 }, (_2, index) => ({
          id: index,
          height: mergedConfig.value.trackHeight || 40,
          danmus: []
        }));
      };
      const initContainerSize = () => {
        if (!containerRef.value)
          return;
        const query = uni.createSelectorQuery().in(instance == null ? void 0 : instance.proxy);
        query.select(".gp-danmu-container").boundingClientRect((rect) => {
          if (rect) {
            containerWidth.value = rect.width;
            containerHeight.value = rect.height;
            if (pluginContext) {
              pluginContext.containerWidth = containerWidth.value;
              pluginContext.containerHeight = containerHeight.value;
            }
          }
        }).exec();
      };
      const registerDefaultDanmuTypes = () => {
        registerDanmuType("scroll", {
          createAnimation(danmu, trackInfo) {
            const direction = mergedConfig.value.direction;
            const duration = calculateDuration(danmu);
            const danmuWidth = calculateDanmuWidth(danmu);
            const startX = direction === "rtl" ? containerWidth.value : -danmuWidth;
            const endX = direction === "rtl" ? -danmuWidth - danmuWidth * 0.2 : containerWidth.value + danmuWidth * 0.2;
            return {
              duration,
              timingFunction: "linear",
              keyframes: [
                { transform: `translateX(${startX}px)`, offset: 0 },
                { transform: `translateX(${endX}px)`, offset: 1 }
              ]
            };
          }
        });
        registerDanmuType("top", {
          createAnimation(danmu) {
            return {
              duration: danmu.duration || mergedConfig.value.duration || 8e3,
              timingFunction: "ease",
              keyframes: [
                { opacity: 0, transform: "translateY(-20px)", offset: 0 },
                { opacity: 1, transform: "translateY(0)", offset: 0.1 },
                { opacity: 1, transform: "translateY(0)", offset: 0.9 },
                { opacity: 0, transform: "translateY(-20px)", offset: 1 }
              ]
            };
          }
        });
        registerDanmuType("bottom", {
          createAnimation(danmu) {
            return {
              duration: danmu.duration || mergedConfig.value.duration || 8e3,
              timingFunction: "ease",
              keyframes: [
                { opacity: 0, transform: "translateY(20px)", offset: 0 },
                { opacity: 1, transform: "translateY(0)", offset: 0.1 },
                { opacity: 1, transform: "translateY(0)", offset: 0.9 },
                { opacity: 0, transform: "translateY(20px)", offset: 1 }
              ]
            };
          }
        });
      };
      const registerDanmuType = (typeName, typeConfig) => {
        danmuTypes[typeName] = typeConfig;
      };
      const calculateDanmuWidth = (danmu) => {
        const maxLength = mergedConfig.value.maxTextLength || 50;
        let text = danmu.text || "";
        if (!mergedConfig.value.allowLineBreak && text.length > maxLength) {
          text = text.substring(0, maxLength) + "...";
          danmu.text = text;
        }
        const fontSize = danmu.fontSize || mergedConfig.value.fontSize || 16;
        if (mergedConfig.value.allowLineBreak) {
          const maxWidth = containerWidth.value * 0.6;
          let totalWidth = 0;
          for (let i2 = 0; i2 < text.length; i2++) {
            if (/[\u4e00-\u9fa5]|[^\x00-\xff]/.test(text[i2])) {
              totalWidth += fontSize;
            } else {
              totalWidth += fontSize * 0.6;
            }
          }
          return Math.min(totalWidth + 20, maxWidth);
        }
        let width = 0;
        for (let i2 = 0; i2 < text.length; i2++) {
          if (/[\u4e00-\u9fa5]|[^\x00-\xff]/.test(text[i2])) {
            width += fontSize;
          } else {
            width += fontSize * 0.6;
          }
        }
        return width + 20;
      };
      const calculateDuration = (danmu) => {
        if (danmu.duration)
          return danmu.duration;
        const speed = mergedConfig.value.speed || 100;
        const distance = containerWidth.value + calculateDanmuWidth(danmu);
        return distance / speed * 1e3;
      };
      const isDanmuBlocked = (danmu) => {
        var _a2;
        if (!mergedConfig.value.blockEnabled)
          return false;
        if (danmu.userId && ((_a2 = mergedConfig.value.blockUsers) == null ? void 0 : _a2.includes(danmu.userId))) {
          return true;
        }
        if (danmu.text && mergedConfig.value.blockWords) {
          for (const word of mergedConfig.value.blockWords) {
            if (danmu.text.includes(word)) {
              return true;
            }
          }
        }
        return false;
      };
      const findAvailableTrack = (danmu) => {
        if (danmu.type === "top") {
          return trackList.value[0];
        }
        if (danmu.type === "bottom") {
          return trackList.value[trackList.value.length - 1];
        }
        if (danmu.trackId !== void 0 && danmu.trackId >= 0 && danmu.trackId < trackList.value.length) {
          return trackList.value[danmu.trackId];
        }
        if (mergedConfig.value.randomTrack) {
          return trackList.value[Math.floor(Math.random() * trackList.value.length)];
        } else {
          return trackList.value.sort((a2, b2) => a2.danmus.length - b2.danmus.length)[0];
        }
      };
      const addDanmu = (danmu) => {
        if (!danmu || !danmu.id || !danmu.text) {
          formatAppLog("error", "at uni_modules/gp-danmu/components/gp-danmu/gp-danmu.vue:349", "添加弹幕失败: 无效的弹幕数据");
          return;
        }
        if (activeDanmus.value.length >= props.maxNumber) {
          return;
        }
        if (isDanmuBlocked(danmu)) {
          return;
        }
        const newDanmu = {
          ...danmu,
          type: danmu.type || "scroll",
          color: danmu.color || mergedConfig.value.fontColor,
          fontSize: danmu.fontSize || mergedConfig.value.fontSize,
          createTime: Date.now(),
          visible: true,
          animationEnded: false
        };
        const track = findAvailableTrack(newDanmu);
        newDanmu.trackId = track.id;
        newDanmu.top = track.id * (track.height || 40);
        const danmuType = danmuTypes[newDanmu.type || "scroll"];
        if (!danmuType) {
          formatAppLog("error", "at uni_modules/gp-danmu/components/gp-danmu/gp-danmu.vue:382", `未知的弹幕类型: ${newDanmu.type}`);
          return;
        }
        const animation = danmuType.createAnimation(newDanmu, track);
        newDanmu.animation = animation;
        createDanmuAnimation(newDanmu);
        activeDanmus.value.push(newDanmu);
        track.danmus.push(newDanmu);
        emit("send", newDanmu);
        return newDanmu;
      };
      const createDanmuAnimation = (danmu) => {
        if (!danmu.animation || !danmu.animation.keyframes)
          return;
        const keyframesName = `danmu-${danmu.type}-${danmu.id}`;
        if (typeof document !== "undefined") {
          const styleId = `gp-danmu-style-${danmu.id}`;
          let styleEl = document.getElementById(styleId);
          if (styleEl) {
            styleEl.remove();
          }
          styleEl = document.createElement("style");
          styleEl.id = styleId;
          let keyframesCSS = `@keyframes ${keyframesName} {`;
          danmu.animation.keyframes.forEach((frame) => {
            const props2 = [];
            let offset = frame.offset * 100;
            Object.keys(frame).forEach((key) => {
              if (key !== "offset") {
                props2.push(`${key}: ${frame[key]}`);
              }
            });
            keyframesCSS += `${offset}% { ${props2.join("; ")}; }`;
          });
          keyframesCSS += "}";
          styleEl.textContent = keyframesCSS;
          document.head.appendChild(styleEl);
        }
        danmu.customAnimationName = keyframesName;
      };
      const addBatchDanmus = (danmuList) => {
        if (!Array.isArray(danmuList))
          return;
        danmuList.forEach((danmu) => {
          addDanmu(danmu);
        });
      };
      const removeDanmu = (id2) => {
        const index = activeDanmus.value.findIndex((d2) => d2.id === id2);
        if (index !== -1) {
          const danmu = activeDanmus.value[index];
          const trackIndex = trackList.value.findIndex((t2) => t2.id === danmu.trackId);
          if (trackIndex !== -1) {
            const trackDanmuIndex = trackList.value[trackIndex].danmus.findIndex((d2) => d2.id === id2);
            if (trackDanmuIndex !== -1) {
              trackList.value[trackIndex].danmus.splice(trackDanmuIndex, 1);
            }
          }
          if (typeof document !== "undefined") {
            const styleId = `gp-danmu-style-${id2}`;
            const styleEl = document.getElementById(styleId);
            if (styleEl) {
              styleEl.remove();
            }
          }
          activeDanmus.value.splice(index, 1);
          emit("leave", danmu);
        }
      };
      const clearDanmus = () => {
        activeDanmus.value = [];
        trackList.value.forEach((track) => {
          track.danmus = [];
        });
        emit("clear");
      };
      const togglePlay = () => {
        if (isPlaying.value) {
          pause();
        } else {
          play();
        }
      };
      const play = () => {
        if (isPlaying.value)
          return;
        isPlaying.value = true;
        lastTimestamp.value = performance.now();
        animationFrameId.value = requestAnimationFrame(updateDanmus);
        emit("play");
      };
      const pause = () => {
        if (!isPlaying.value)
          return;
        isPlaying.value = false;
        if (animationFrameId.value) {
          cancelAnimationFrame(animationFrameId.value);
          animationFrameId.value = null;
        }
        emit("pause");
      };
      const updateDanmus = (timestamp) => {
        if (!isPlaying.value)
          return;
        timestamp - lastTimestamp.value;
        lastTimestamp.value = timestamp;
        const danmusToRemove = [];
        activeDanmus.value.forEach((danmu) => {
          if (danmu.animationEnded) {
            danmusToRemove.push(danmu.id);
            return;
          }
          const elapsed = timestamp - (danmu.createTime || 0);
          const delay = 200;
          if (danmu.animation && elapsed >= danmu.animation.duration + delay) {
            danmu.animationEnded = true;
            danmusToRemove.push(danmu.id);
          }
        });
        danmusToRemove.forEach((id2) => {
          removeDanmu(id2);
        });
        if (mergedConfig.value.looping && activeDanmus.value.length === 0 && props.danmuList.length > 0) {
          addBatchDanmus(props.danmuList);
        }
        animationFrameId.value = requestAnimationFrame(updateDanmus);
      };
      const handleDanmuClick = (danmu, event) => {
        if (!mergedConfig.value.clickable)
          return;
        emit("click", danmu, event);
      };
      const getDanmu = (id2) => {
        return activeDanmus.value.find((d2) => d2.id === id2);
      };
      const blockUser = (userId) => {
        if (mergedConfig.value.blockUsers && !mergedConfig.value.blockUsers.includes(userId)) {
          mergedConfig.value.blockUsers.push(userId);
          activeDanmus.value.forEach((danmu) => {
            if (danmu.userId === userId) {
              removeDanmu(danmu.id);
            }
          });
        }
      };
      const blockWord = (word) => {
        if (mergedConfig.value.blockWords && !mergedConfig.value.blockWords.includes(word)) {
          mergedConfig.value.blockWords.push(word);
          activeDanmus.value.forEach((danmu) => {
            if (danmu.text && danmu.text.includes(word)) {
              removeDanmu(danmu.id);
            }
          });
        }
      };
      const setConfig = (config2) => {
        Object.assign(props.config, config2);
      };
      const use = (plugin) => {
        if (!plugin || typeof plugin.install !== "function") {
          formatAppLog("error", "at uni_modules/gp-danmu/components/gp-danmu/gp-danmu.vue:618", "无效的插件：插件必须提供 install 方法");
          return;
        }
        try {
          plugin.install({
            registerDanmuType,
            pluginContext,
            mergedConfig: mergedConfig.value,
            containerWidth: containerWidth.value,
            containerHeight: containerHeight.value
          });
          formatAppLog("log", "at uni_modules/gp-danmu/components/gp-danmu/gp-danmu.vue:630", `插件 ${plugin.name || "未命名"} 已安装`);
        } catch (error) {
          formatAppLog("error", "at uni_modules/gp-danmu/components/gp-danmu/gp-danmu.vue:632", "安装插件时出错:", error);
        }
      };
      vue.onMounted(() => {
        initContainerSize();
        initTracks();
        registerDefaultDanmuTypes();
        window.addEventListener("resize", initContainerSize);
        if (props.danmuList.length > 0 && props.autoplay) {
          vue.nextTick(() => {
            addBatchDanmus(props.danmuList);
            play();
          });
        }
      });
      vue.onBeforeUnmount(() => {
        pause();
        window.removeEventListener("resize", initContainerSize);
      });
      vue.watch(() => props.danmuList, (newList, oldList) => {
        if (newList !== oldList && isPlaying.value) {
          const oldIds = new Set(oldList.map((d2) => d2.id));
          const newDanmus = newList.filter((d2) => !oldIds.has(d2.id));
          if (newDanmus.length > 0) {
            addBatchDanmus(newDanmus);
          }
        }
      }, { deep: true });
      vue.watch(() => props.config, () => {
        initTracks();
      }, { deep: true });
      __expose({
        add: addDanmu,
        addBatch: addBatchDanmus,
        play,
        pause,
        clear: clearDanmus,
        setConfig,
        getDanmu,
        blockUser,
        blockWord,
        use
      });
      const __returned__ = { props, emit, instance, defaultConfig, mergedConfig, containerRef, containerWidth, containerHeight, activeDanmus, isPlaying, trackList, danmuTypes, pluginContext, animationFrameId, lastTimestamp, initTracks, initContainerSize, registerDefaultDanmuTypes, registerDanmuType, calculateDanmuWidth, calculateDuration, isDanmuBlocked, findAvailableTrack, addDanmu, createDanmuAnimation, addBatchDanmus, removeDanmu, clearDanmus, togglePlay, play, pause, updateDanmus, handleDanmuClick, getDanmu, blockUser, blockWord, setConfig, use };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  });
  function _sfc_render$11(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "gp-danmu-container",
        ref: "containerRef",
        style: vue.normalizeStyle({
          zIndex: $props.zIndex,
          height: `${$setup.mergedConfig.trackNumber * $setup.mergedConfig.trackHeight}px`
        })
      },
      [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.activeDanmus, (danmu) => {
            var _a2, _b2, _c, _d;
            return vue.openBlock(), vue.createElementBlock("view", {
              key: danmu.id,
              class: vue.normalizeClass(["gp-danmu-item", [`gp-danmu-${danmu.type}`, { "gp-danmu-clickable": $setup.mergedConfig.clickable }]]),
              style: vue.normalizeStyle({
                top: `${danmu.top}px`,
                color: danmu.color,
                fontSize: `${danmu.fontSize}px`,
                opacity: $setup.mergedConfig.opacity,
                backgroundColor: $setup.mergedConfig.backgroundColor,
                animation: danmu.customAnimationName ? `${danmu.customAnimationName} ${(_a2 = danmu.animation) == null ? void 0 : _a2.duration}ms ${(_b2 = danmu.animation) == null ? void 0 : _b2.timingFunction} 0s 1 normal forwards` : `danmu-${danmu.type} ${(_c = danmu.animation) == null ? void 0 : _c.duration}ms ${(_d = danmu.animation) == null ? void 0 : _d.timingFunction} 0s 1 normal forwards`,
                animationPlayState: $setup.isPlaying ? "running" : "paused"
              }),
              onClick: ($event) => $setup.handleDanmuClick(danmu, $event),
              onAnimationend: () => {
                danmu.animationEnded = true;
              }
            }, [
              vue.renderSlot(_ctx.$slots, "danmu", { danmu }, () => [
                vue.createElementVNode(
                  "text",
                  { class: "gp-danmu-text" },
                  vue.toDisplayString(danmu.text),
                  1
                  /* TEXT */
                )
              ], true)
            ], 46, ["onClick", "onAnimationend"]);
          }),
          128
          /* KEYED_FRAGMENT */
        )),
        vue.renderSlot(_ctx.$slots, "controls", {}, void 0, true)
      ],
      4
      /* STYLE */
    );
  }
  const __easycom_2$4 = /* @__PURE__ */ _export_sfc(_sfc_main$12, [["render", _sfc_render$11], ["__scopeId", "data-v-75511d43"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/gp-danmu/components/gp-danmu/gp-danmu.vue"]]);
  const getExamDetail = (params, config2 = {}) => http$1.get("/api/psychology/exam/paperDetail", params, config2);
  const getExamRule = (params, config2 = {}) => http$1.get("/api/config/examRuleDescription", params, config2);
  const getExamOptions = (params, config2 = {}) => http$1.get("/api/psychology/exam/options", params, config2);
  const saveExamRecord = (params, config2 = {}) => http$1.post("/api/psychology/examRecord/save", params, config2);
  const updateUserAnswer = (params, config2 = {}) => http$1.post("/api/psychology/examRecord/update", params, config2);
  const examResult = (params, config2 = {}) => http$1.get("/api/psychology/examRecord/getExamResult", params, config2);
  const publishExamComment = (params, config2 = {}) => http$1.post("/api/comment/comment/saveComment", params, config2);
  const examRecord = (params, config2 = {}) => http$1.get("/api/psychology/examRecord/listMyRecord", params, config2);
  const recordDetail = (params, config2 = {}) => http$1.get("/api/psychology/examRecord/userRecordDetail", params, config2);
  const commentSatus = (params, config2 = {}) => http$1.get("/api/psychology/examRecord/commentStatus", params, config2);
  const examListByTypes = (params, config2 = {}) => http$1.get("/api/psychology/exam/listByType", params, config2);
  const recommendExams = (params, config2 = {}) => http$1.get("/api/psychology/exam/recommendExams", params, config2);
  const dailyRecommend = (params, config2 = {}) => http$1.get("/api/psychology/exam/dailyRecommend", params, config2);
  const examListData = (params, config2 = {}) => http$1.get("/api/psychology/exam/list", params, config2);
  const articleComment = (params, config2 = {}) => http$1.get("/api/psychology/exam/commentInfo", params, config2);
  const articleCommentList = (params, config2 = {}) => http$1.get("/api/psychology/exam/commentList", params, config2);
  const _imports_0$8 = "/static/psychological-test/logo.svg";
  const _sfc_main$11 = {
    __name: "index",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "778f7de8-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const danmuRef = vue.ref(null);
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const danmuConfig = vue.reactive({
        trackHeight: 40,
        // 轨道高度
        trackNumber: 3,
        // 轨道数量
        speed: 100,
        // 弹幕速度
        fontSize: 16,
        // 默认字体大小
        fontColor: "#000000",
        // 默认字体颜色
        backgroundColor: "white",
        // 弹幕背景色
        trackMode: "separate",
        // 轨道模式：overlap(重叠)、separate(分离)
        looping: true,
        // 是否循环播放
        direction: "rtl",
        // 弹幕方向：rtl(从右到左)、ltr(从左到右)
        duration: 1e3,
        // 弹幕动画持续时间（毫秒）
        density: 0.5,
        // 弹幕密度(0-1)
        randomTrack: true,
        // 是否随机选择轨道
        opacity: 1,
        // 弹幕透明度
        hoverPause: true
      });
      const gotoDetail = (item) => {
        uni.navigateTo({
          url: "/pages/psychological-test/charge-test/charge-test?id=" + item.id
        });
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const gotoPage = () => {
        uni.navigateTo({
          url: "/pages/psychological-test/test-type/test-type"
        });
      };
      const dailyRecommendExams = vue.ref([]);
      const searchHandler = () => {
      };
      const tabLists = vue.ref([{
        id: 1,
        text: "性格",
        url: "/static/login/logo.png"
      }, {
        id: 2,
        text: "情感",
        url: "/static/login/logo.png"
      }, {
        id: 3,
        text: "健康",
        url: "/static/login/logo.png"
      }, {
        id: 4,
        text: "职业",
        url: "/static/login/logo.png"
      }, {
        id: 5,
        text: "全部",
        url: "/static/login/logo.png"
      }]);
      const menuTabs = vue.ref([{
        id: 1,
        txt: "免费测试"
      }, {
        id: 2,
        txt: "付费测试"
      }]);
      const recommend = vue.ref([]);
      const menuTabActive = vue.ref(0);
      const menuTabHandler = (i2) => {
        menuTabActive.value != i2 ? menuTabActive.value = i2 : "";
        examList.value = [];
        getExamList();
      };
      const getRecommendExams = async () => {
        let resp = await recommendExams();
        recommend.value = resp.data;
      };
      const getDailyRecommend = async () => {
        let resp = await dailyRecommend();
        formatAppLog("log", "at pages/psychological-test/index/index.vue:259", resp);
        dailyRecommendExams.value = resp.data;
      };
      const playDanmu = () => {
        danmuRef.value.play();
      };
      const freePage = vue.ref(1);
      const pageSize = vue.ref(10);
      const payPage = vue.ref(1);
      const examList = vue.ref([]);
      const freeExamList = vue.ref([]);
      const payExamList = vue.ref([]);
      const freeHasMore = vue.ref(false);
      const payHasMore = vue.ref(false);
      const getExamList = async () => {
        let page = menuTabActive.value == 0 ? freePage.value : payPage.value;
        let resp = await examListData({
          payType: menuTabActive.value,
          page,
          size: pageSize.value
        });
        formatAppLog("log", "at pages/psychological-test/index/index.vue:285", resp);
        if (menuTabActive.value == 0) {
          if (freePage.value == 1) {
            freeExamList.value = resp.data.records;
          } else {
            freeExamList.value = freeExamList.value.concat(resp.data.records);
          }
          formatAppLog("log", "at pages/psychological-test/index/index.vue:292", freeExamList.value.length);
          if (resp.data.total <= freeExamList.value.length) {
            freeHasMore.value = false;
          } else {
            freeHasMore.value = true;
          }
          examList.value = freeExamList.value;
        } else {
          if (payPage.value == 1) {
            payExamList.value = resp.data.records;
          } else {
            payExamList.value = payExamList.value.concat(resp.data.records);
          }
          if (resp.data.total <= payExamList.value.length) {
            payHasMore.value = false;
          } else {
            payHasMore.value = true;
          }
          examList.value = payExamList.value;
        }
      };
      onLoad(() => {
        getRecommendExams();
        getDailyRecommend();
        getExamList();
      });
      const reachBottom = () => {
        formatAppLog("log", "at pages/psychological-test/index/index.vue:323", "reach bottom");
        if (menuTabActive.value == 0) {
          if (freeHasMore.value) {
            freePage.value++;
            getExamList();
          }
        } else {
          if (payHasMore.value) {
            payPage++;
            getExamList();
          }
        }
      };
      const myOrderHandler = () => {
        uni.navigateTo({
          url: "/pages/psychological-test/order/order"
        });
      };
      const danmuList = vue.ref([
        {
          id: 1,
          text: "这是一条普通弹幕",
          color: "#000000"
        },
        {
          id: 2,
          text: "这是一条彩色弹幕",
          color: "#FF6600"
        },
        {
          id: 3,
          text: "这是一条顶部弹幕",
          color: "#00FFFF"
        },
        {
          id: 4,
          text: "这是一条底部弹幕",
          color: "#FFFF00"
        }
      ]);
      vue.onMounted(() => {
      });
      const addDanmu = (text) => {
        danmuList.value.push({
          text
        });
      };
      const openAllTypeHandler = (item) => {
        if (item.id < 5) {
          uni.navigateTo({
            url: `/pages/psychological-test/test-type/test-type?type=${item.text}`
          });
        } else {
          uni.navigateTo({
            url: `/pages/psychological-test/test-type/test-type`
          });
        }
      };
      const __returned__ = { globalStore, danmuRef, statusBarHeight, danmuConfig, gotoDetail, backFn, gotoPage, dailyRecommendExams, searchHandler, tabLists, menuTabs, recommend, menuTabActive, menuTabHandler, getRecommendExams, getDailyRecommend, playDanmu, freePage, pageSize, payPage, examList, freeExamList, payExamList, freeHasMore, payHasMore, getExamList, reachBottom, myOrderHandler, danmuList, addDanmu, openAllTypeHandler, onMounted: vue.onMounted, ref: vue.ref, reactive: vue.reactive, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      }, get recommendExams() {
        return recommendExams;
      }, get dailyRecommend() {
        return dailyRecommend;
      }, get examListData() {
        return examListData;
      }, get onLoad() {
        return onLoad;
      }, get onReachBottom() {
        return onReachBottom;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$10(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    const _component_gp_danmu = resolveEasycom(vue.resolveDynamicComponent("gp-danmu"), __easycom_2$4);
    return vue.openBlock(), vue.createElementBlock("view", { class: "psychological-box" }, [
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "true",
          class: "scroll-y",
          "show-scrollbar": false,
          onScrolltolower: $setup.reachBottom
        },
        [
          vue.createElementVNode("view", { class: "psychological-header" }, [
            vue.createElementVNode("view", { class: "header-nav-bar" }, [
              vue.createElementVNode("view", { class: "header-left" }, [
                vue.createVNode(_component_uni_icons, {
                  type: "left",
                  size: "24",
                  onClick: $setup.backFn
                }),
                vue.createElementVNode("text", null, "心理测试")
              ]),
              vue.createElementVNode("view", { class: "header-title" }, [
                vue.createVNode(_component_uni_search_bar, {
                  class: "uni-mt-10",
                  radius: "90",
                  placeholder: "抑郁测试",
                  clearButton: "auto",
                  cancelButton: "none",
                  onConfirm: $setup.searchHandler
                })
              ]),
              vue.createElementVNode("view", {
                class: "header-right",
                onClick: $setup.myOrderHandler
              }, [
                vue.createElementVNode("image", {
                  src: _imports_0$8,
                  class: "logo-svg"
                }),
                vue.createElementVNode("text", { class: "txt" }, "我的测评")
              ])
            ]),
            vue.createElementVNode("view", { class: "scroll-content" }, [
              vue.createElementVNode("scroll-view", {
                "scroll-x": "true",
                class: "scroll-x",
                "show-scrollbar": false
              }, [
                vue.createElementVNode("view", { class: "test-list" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.recommend, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "test-item",
                        key: index,
                        onClick: ($event) => $setup.gotoDetail(item)
                      }, [
                        vue.createElementVNode("image", {
                          src: item.icon ? item.icon : "@/static/forum/bg.png",
                          mode: "aspectFill",
                          class: "img"
                        }, null, 8, ["src"]),
                        vue.createElementVNode(
                          "view",
                          { class: "test-title" },
                          vue.toDisplayString(item.title),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "use-test" },
                          vue.toDisplayString(item.examNum) + "人已测",
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "start-test" }, [
                          vue.createTextVNode("开始测试"),
                          vue.createVNode(_component_uni_icons, {
                            type: "right",
                            size: "12",
                            color: "#35CA95"
                          })
                        ])
                      ], 8, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "emotion-room" }, [
              vue.createElementVNode("view", { class: "emotion-room-header" }, [
                vue.createElementVNode("text", { class: "room-title" }, "情绪小房间"),
                vue.createElementVNode("text", { class: "room-remark" }, "500+倾听师深度解读情绪困惑")
              ]),
              vue.createElementVNode("view", { class: "emotion-room-content" }, [
                vue.createElementVNode("div", { class: "danmu-container" }, [
                  vue.createVNode(_component_gp_danmu, {
                    ref: "danmuRef",
                    danmuList: $setup.danmuList,
                    config: $setup.danmuConfig
                  }, {
                    danmu: vue.withCtx(({ danmu }) => [
                      vue.createElementVNode("view", { class: "custom-danmu" }, [
                        danmu.avatar ? (vue.openBlock(), vue.createElementBlock("image", {
                          key: 0,
                          src: danmu.avatar,
                          class: "avatar"
                        }, null, 8, ["src"])) : vue.createCommentVNode("v-if", true),
                        vue.createElementVNode(
                          "text",
                          { class: "username" },
                          vue.toDisplayString(danmu.username),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "text",
                          { class: "content" },
                          vue.toDisplayString(danmu.text),
                          1
                          /* TEXT */
                        )
                      ])
                    ]),
                    _: 1
                    /* STABLE */
                  }, 8, ["danmuList", "config"])
                ])
              ]),
              vue.createElementVNode("view", { class: "send-msg" })
            ]),
            vue.createElementVNode("view", { class: "bg1" }),
            vue.createElementVNode("view", { class: "bg2" })
          ]),
          vue.createElementVNode("view", { class: "tabs" }, [
            vue.createElementVNode("view", { class: "tabs-list" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.tabLists, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "tab-item",
                    key: index,
                    onClick: ($event) => $setup.openAllTypeHandler(item)
                  }, [
                    vue.createElementVNode("image", {
                      src: item.url,
                      class: "img"
                    }, null, 8, ["src"]),
                    vue.createElementVNode(
                      "text",
                      { class: "txt" },
                      vue.toDisplayString(item.text),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ]),
          vue.createElementVNode("view", { class: "day-recommend-box" }, [
            vue.createElementVNode("view", { class: "day-recommend-content" }, [
              vue.createElementVNode("view", { class: "recommend-heaader" }, [
                vue.createElementVNode("view", { class: "title" }, "每日推荐"),
                vue.createElementVNode("view", {
                  class: "label",
                  onClick: $setup.getDailyRecommend
                }, [
                  vue.createTextVNode("换一换"),
                  vue.createVNode(_component_uni_icons, {
                    type: "reload",
                    size: "12",
                    color: "#38CC98"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "content-list" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.dailyRecommendExams, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "content-item",
                      key: index,
                      onClick: ($event) => $setup.gotoDetail(item)
                    }, [
                      vue.createElementVNode("image", {
                        src: item.icon ? item.icon : "@/static/forum/bg.png",
                        mode: "aspectFill",
                        class: "img"
                      }, null, 8, ["src"]),
                      vue.createElementVNode("view", null, [
                        vue.createElementVNode(
                          "view",
                          { class: "title" },
                          vue.toDisplayString(item.title),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "price-box" }, [
                          vue.createElementVNode(
                            "view",
                            { class: "price" },
                            vue.toDisplayString(item.payType == 0 ? "免费" : "￥" + item.discountPrice),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode("view", { class: "use-test" }, [
                            vue.createVNode(_component_uni_icons, {
                              type: "fire-filled",
                              size: "18",
                              color: "#FA5151"
                            }),
                            vue.createElementVNode(
                              "text",
                              { class: "num" },
                              vue.toDisplayString(item.examNum),
                              1
                              /* TEXT */
                            ),
                            vue.createTextVNode("人已测 ")
                          ])
                        ])
                      ])
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "menu-tabs" }, [
            vue.createElementVNode("view", { class: "menu-tabs-conetnt" }, [
              vue.createElementVNode("view", { class: "menu-tabs-header" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.menuTabs, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: vue.normalizeClass(["title-item", $setup.menuTabActive == index ? "active" : ""]),
                        key: index,
                        onClick: ($event) => $setup.menuTabHandler(index)
                      }, vue.toDisplayString(item.txt), 11, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ]),
                vue.createElementVNode("view", {
                  class: "label",
                  onClick: _cache[0] || (_cache[0] = ($event) => $setup.gotoPage())
                }, [
                  vue.createTextVNode("更多"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "12"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "content-list" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.examList, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "content-item",
                      key: index,
                      onClick: ($event) => $setup.gotoDetail(item)
                    }, [
                      vue.createElementVNode("view", { class: "content-item-content" }, [
                        vue.createElementVNode("view", null, [
                          vue.createElementVNode(
                            "view",
                            { class: "title" },
                            vue.toDisplayString(item.title),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode(
                            "view",
                            { class: "remark" },
                            vue.toDisplayString(item.oneWord),
                            1
                            /* TEXT */
                          ),
                          item.payType == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                            key: 0,
                            class: "price-box"
                          }, [
                            vue.createElementVNode(
                              "text",
                              { class: "price" },
                              "￥" + vue.toDisplayString(item.discountPrice),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode(
                              "text",
                              { class: "under-price" },
                              "￥" + vue.toDisplayString(item.price),
                              1
                              /* TEXT */
                            )
                          ])) : vue.createCommentVNode("v-if", true),
                          vue.createElementVNode("view", { class: "price-box" }, [
                            vue.createElementVNode("text", { class: "price" }),
                            vue.createTextVNode("免费")
                          ]),
                          vue.createElementVNode("view", { class: "test-handler" }, [
                            vue.createElementVNode("view", { class: "handler-btn" }, "去测试"),
                            vue.createElementVNode("view", { class: "use-test" }, [
                              vue.createElementVNode(
                                "text",
                                { class: "num" },
                                vue.toDisplayString(item.examNum),
                                1
                                /* TEXT */
                              ),
                              vue.createTextVNode("人已测")
                            ])
                          ])
                        ]),
                        vue.createElementVNode("view", { class: "img-box" }, [
                          vue.createElementVNode("image", {
                            src: item.icon ? item.icon : "@/static/consult/user.png",
                            mode: "aspectFill",
                            class: "img"
                          }, null, 8, ["src"])
                        ])
                      ])
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      )
    ]);
  }
  const PagesPsychologicalTestIndexIndex = /* @__PURE__ */ _export_sfc(_sfc_main$11, [["render", _sfc_render$10], ["__scopeId", "data-v-778f7de8"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/index/index.vue"]]);
  function pad(str, length = 2) {
    str += "";
    while (str.length < length) {
      str = "0" + str;
    }
    return str.slice(-length);
  }
  const parser = {
    yyyy: (dateObj) => {
      return pad(dateObj.year, 4);
    },
    yy: (dateObj) => {
      return pad(dateObj.year);
    },
    MM: (dateObj) => {
      return pad(dateObj.month);
    },
    M: (dateObj) => {
      return dateObj.month;
    },
    dd: (dateObj) => {
      return pad(dateObj.day);
    },
    d: (dateObj) => {
      return dateObj.day;
    },
    hh: (dateObj) => {
      return pad(dateObj.hour);
    },
    h: (dateObj) => {
      return dateObj.hour;
    },
    mm: (dateObj) => {
      return pad(dateObj.minute);
    },
    m: (dateObj) => {
      return dateObj.minute;
    },
    ss: (dateObj) => {
      return pad(dateObj.second);
    },
    s: (dateObj) => {
      return dateObj.second;
    },
    SSS: (dateObj) => {
      return pad(dateObj.millisecond, 3);
    },
    S: (dateObj) => {
      return dateObj.millisecond;
    }
  };
  function getDate(time) {
    if (time instanceof Date) {
      return time;
    }
    switch (typeof time) {
      case "string": {
        if (time.indexOf("T") > -1) {
          return new Date(time);
        }
        return new Date(time.replace(/-/g, "/"));
      }
      default:
        return new Date(time);
    }
  }
  function formatDate(date2, format = "yyyy/MM/dd hh:mm:ss") {
    if (!date2 && date2 !== 0) {
      return "";
    }
    date2 = getDate(date2);
    const dateObj = {
      year: date2.getFullYear(),
      month: date2.getMonth() + 1,
      day: date2.getDate(),
      hour: date2.getHours(),
      minute: date2.getMinutes(),
      second: date2.getSeconds(),
      millisecond: date2.getMilliseconds()
    };
    const tokenRegExp = /yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/;
    let flag = true;
    let result = format;
    while (flag) {
      flag = false;
      result = result.replace(tokenRegExp, function(matched) {
        flag = true;
        return parser[matched](dateObj);
      });
    }
    return result;
  }
  function friendlyDate(time, {
    locale = "zh",
    threshold = [6e4, 36e5],
    format = "yyyy/MM/dd hh:mm:ss"
  }) {
    if (time === "-") {
      return time;
    }
    if (!time && time !== 0) {
      return "";
    }
    const localeText = {
      zh: {
        year: "年",
        month: "月",
        day: "天",
        hour: "小时",
        minute: "分钟",
        second: "秒",
        ago: "前",
        later: "后",
        justNow: "刚刚",
        soon: "马上",
        template: "{num}{unit}{suffix}"
      },
      en: {
        year: "year",
        month: "month",
        day: "day",
        hour: "hour",
        minute: "minute",
        second: "second",
        ago: "ago",
        later: "later",
        justNow: "just now",
        soon: "soon",
        template: "{num} {unit} {suffix}"
      }
    };
    const text = localeText[locale] || localeText.zh;
    let date2 = getDate(time);
    let ms2 = date2.getTime() - Date.now();
    let absMs = Math.abs(ms2);
    if (absMs < threshold[0]) {
      return ms2 < 0 ? text.justNow : text.soon;
    }
    if (absMs >= threshold[1]) {
      return formatDate(date2, format);
    }
    let num;
    let unit;
    let suffix = text.later;
    if (ms2 < 0) {
      suffix = text.ago;
      ms2 = -ms2;
    }
    const seconds = Math.floor(ms2 / 1e3);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    const months = Math.floor(days / 30);
    const years = Math.floor(months / 12);
    switch (true) {
      case years > 0:
        num = years;
        unit = text.year;
        break;
      case months > 0:
        num = months;
        unit = text.month;
        break;
      case days > 0:
        num = days;
        unit = text.day;
        break;
      case hours > 0:
        num = hours;
        unit = text.hour;
        break;
      case minutes > 0:
        num = minutes;
        unit = text.minute;
        break;
      default:
        num = seconds;
        unit = text.second;
        break;
    }
    if (locale === "en") {
      if (num === 1) {
        num = "a";
      } else {
        unit += "s";
      }
    }
    return text.template.replace(/{\s*num\s*}/g, num + "").replace(/{\s*unit\s*}/g, unit).replace(
      /{\s*suffix\s*}/g,
      suffix
    );
  }
  const _sfc_main$10 = {
    name: "uniDateformat",
    props: {
      date: {
        type: [Object, String, Number],
        default() {
          return "-";
        }
      },
      locale: {
        type: String,
        default: "zh"
      },
      threshold: {
        type: Array,
        default() {
          return [0, 0];
        }
      },
      format: {
        type: String,
        default: "yyyy/MM/dd hh:mm:ss"
      },
      // refreshRate使用不当可能导致性能问题，谨慎使用
      refreshRate: {
        type: [Number, String],
        default: 0
      }
    },
    data() {
      return {
        refreshMark: 0
      };
    },
    computed: {
      dateShow() {
        this.refreshMark;
        return friendlyDate(this.date, {
          locale: this.locale,
          threshold: this.threshold,
          format: this.format
        });
      }
    },
    watch: {
      refreshRate: {
        handler() {
          this.setAutoRefresh();
        },
        immediate: true
      }
    },
    methods: {
      refresh() {
        this.refreshMark++;
      },
      setAutoRefresh() {
        clearInterval(this.refreshInterval);
        if (this.refreshRate) {
          this.refreshInterval = setInterval(() => {
            this.refresh();
          }, parseInt(this.refreshRate));
        }
      }
    }
  };
  function _sfc_render$$(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "text",
      null,
      vue.toDisplayString($options.dateShow),
      1
      /* TEXT */
    );
  }
  const __easycom_3$2 = /* @__PURE__ */ _export_sfc(_sfc_main$10, [["render", _sfc_render$$], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.vue"]]);
  const _sfc_main$$ = {
    __name: "order",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "94d077b1-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const records = vue.ref([]);
      onShow(() => {
        getExamRecord();
      });
      const continueTest = (item) => {
        uni.navigateTo({
          url: `/pages/psychological-test/start-test/start-test?id=${item.id}&examId=${item.examId}&currentIndex=${item.currentIndex}`
        });
      };
      const getExamRecord = async () => {
        let resp = await examRecord({
          type: tabActive.value
        });
        formatAppLog("log", "at pages/psychological-test/order/order.vue:102", resp);
        records.value = resp.data;
      };
      const gotoDetail = (item) => {
        uni.navigateTo({
          url: `/pages/psychological-test/charge-test/charge-test?id=${item.examId}`
        });
      };
      const gotoResult = (item) => {
        uni.navigateTo({
          url: `/pages/psychological-test/test-result/test-result?title=${item.title}&examId=${item.examId}&result=${item.result}&icon=${item.icon}&id=${item.id}`
        });
      };
      const tabsList = vue.ref([{
        id: 1,
        label: "未完成",
        isDot: false
      }, {
        id: 2,
        label: "已完成",
        isDot: false
      }, {
        id: 3,
        label: "待支付",
        isDot: true
      }]);
      const tabActive = vue.ref(1);
      const tabHandler = (item) => {
        uni.showLoading({
          title: "加载中..."
        });
        records.value = [];
        item.id != tabActive.value ? tabActive.value = item.id : "";
        getExamRecord();
        uni.hideLoading();
      };
      const __returned__ = { globalStore, statusBarHeight, backFn, records, continueTest, getExamRecord, gotoDetail, gotoResult, tabsList, tabActive, tabHandler, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get examRecord() {
        return examRecord;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$_(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_dateformat = resolveEasycom(vue.resolveDynamicComponent("uni-dateformat"), __easycom_3$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "my-order-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "我的评测",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "tab-list-box" }, [
        vue.createElementVNode("view", { class: "tab-list-content" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.tabsList, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["tab-item", $setup.tabActive == item.id ? "active" : ""]),
                key: item.id,
                onClick: ($event) => $setup.tabHandler(item)
              }, [
                vue.createTextVNode(
                  vue.toDisplayString(item.label) + " ",
                  1
                  /* TEXT */
                ),
                item.isDot ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "is-dot"
                })) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createElementVNode("view", { class: "order-content-box" }, [
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false
        }, [
          vue.createElementVNode("view", { class: "order-content-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.records, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "order-content-item",
                  key: index,
                  onClick: ($event) => $setup.gotoDetail(item)
                }, [
                  vue.createElementVNode("view", { class: "item-box" }, [
                    vue.createElementVNode("view", { class: "image-item" }, [
                      vue.createElementVNode("image", {
                        src: _imports_2$6,
                        class: "img"
                      })
                    ]),
                    vue.createElementVNode("view", { class: "text-content" }, [
                      vue.createElementVNode("view", { class: "header" }, [
                        vue.createElementVNode(
                          "view",
                          { class: "title" },
                          vue.toDisplayString(item.title),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "date" }, [
                          vue.createVNode(_component_uni_dateformat, {
                            format: "yyyy/MM/dd",
                            date: item.time
                          }, null, 8, ["date"])
                        ])
                      ]),
                      vue.createElementVNode(
                        "view",
                        { class: "content" },
                        vue.toDisplayString(item.oneWord),
                        1
                        /* TEXT */
                      ),
                      item.payType == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "footer"
                      }, [
                        vue.createElementVNode("view", { class: "free" }, "免费"),
                        $setup.tabActive == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "test",
                          onClick: vue.withModifiers(($event) => $setup.continueTest(item), ["stop"])
                        }, "继续评测", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                        $setup.tabActive == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 1,
                          class: "btns"
                        }, [
                          vue.createElementVNode("view", {
                            class: "test",
                            style: { "margin-right": "15rpx" },
                            onClick: vue.withModifiers(($event) => $setup.gotoResult(item), ["stop"])
                          }, "查看结果", 8, ["onClick"]),
                          vue.createElementVNode("view", { class: "test" }, "再次测试")
                        ])) : vue.createCommentVNode("v-if", true)
                      ])) : (vue.openBlock(), vue.createElementBlock("view", {
                        key: 1,
                        class: "footer"
                      }, [
                        vue.createElementVNode(
                          "view",
                          { class: "price" },
                          "￥" + vue.toDisplayString(item.price),
                          1
                          /* TEXT */
                        ),
                        $setup.tabActive == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "test"
                        }, "立即支付")) : vue.createCommentVNode("v-if", true),
                        $setup.tabActive == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 1,
                          class: "test",
                          onClick: vue.withModifiers(($event) => $setup.continueTest(item), ["stop"])
                        }, "继续评测", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                        $setup.tabActive == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 2,
                          class: "btns"
                        }, [
                          vue.createElementVNode("view", {
                            class: "test",
                            style: { "margin-right": "15rpx" },
                            onClick: vue.withModifiers(($event) => $setup.gotoResult(item), ["stop"])
                          }, "查看结果", 8, ["onClick"]),
                          vue.createElementVNode("view", { class: "test" }, "再次测试")
                        ])) : vue.createCommentVNode("v-if", true)
                      ]))
                    ])
                  ])
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ])
    ]);
  }
  const PagesPsychologicalTestOrderOrder = /* @__PURE__ */ _export_sfc(_sfc_main$$, [["render", _sfc_render$_], ["__scopeId", "data-v-94d077b1"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/order/order.vue"]]);
  const _sfc_main$_ = {
    __name: "test-type",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "a192c592-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const hasMore = vue.ref(false);
      const page = vue.ref(1);
      const payType = vue.ref(-1);
      const count = vue.ref(12);
      const types2 = vue.ref(["情感", "性格", "健康", "家庭", "人际", "职业"]);
      const searchHandler = () => {
        getExamListByType();
      };
      const reset = () => {
        getExamListByType();
      };
      const myOrderHandler = () => {
        uni.navigateTo({
          url: "/pages/psychological-test/order/order"
        });
      };
      const tabActive = vue.ref(1);
      const exams = vue.ref([]);
      onLoad((e2) => {
        let type = e2.type;
        if (type) {
          const index = types2.value.findIndex((e3) => e3 == type);
          typeActive.value = index;
        }
        getExamListByType();
      });
      onReachBottom(() => {
        if (hasMore) {
          page.value++;
          getExamListByType();
        }
      });
      const searchContent = vue.ref("");
      const input = (e2) => {
        formatAppLog("log", "at pages/psychological-test/test-type/test-type.vue:141", e2);
        searchContent.value = e2;
      };
      const total = vue.ref(0);
      const getExamListByType = async () => {
        let resp = await examListByTypes({ type: types2.value[typeActive.value], page: page.value, count: count.value, payType: payType.value, keyword: searchContent.value });
        formatAppLog("log", "at pages/psychological-test/test-type/test-type.vue:148", resp);
        total.value = resp.data.total;
        exams.value = resp.data.records;
        if (exams.value.length >= total.value) {
          hasMore.value = false;
        } else {
          hasMore.value = true;
        }
      };
      const tabsList = vue.ref([{
        id: 1,
        label: "全部"
      }, {
        id: 2,
        label: "付费"
      }, {
        id: 3,
        label: "免费"
      }]);
      const tabHandler = (item) => {
        item.id != tabActive.value ? tabActive.value = item.id : "";
        if (item.id == 1) {
          payType.value = -1;
        } else if (item.id == 2) {
          payType.value = 1;
        } else {
          payType.value = 0;
        }
        getExamListByType();
      };
      const openTestHandler = (i2) => {
        let url2 = `/pages/psychological-test/charge-test/charge-test?id=${i2.id}`;
        uni.navigateTo({
          url: url2
        });
      };
      const typeActive = vue.ref(0);
      const changeTabHandler = (item) => {
        typeActive.value != item ? typeActive.value = item : "";
        page.value = 1;
        getExamListByType();
      };
      const __returned__ = { globalStore, statusBarHeight, backFn, hasMore, page, payType, count, types: types2, searchHandler, reset, myOrderHandler, tabActive, exams, searchContent, input, total, getExamListByType, tabsList, tabHandler, openTestHandler, typeActive, changeTabHandler, onMounted: vue.onMounted, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onReachBottom() {
        return onReachBottom;
      }, get examListByTypes() {
        return examListByTypes;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$Z(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    return vue.openBlock(), vue.createElementBlock("view", { class: "psychological-box" }, [
      vue.createElementVNode("view", { class: "psychological-header" }, [
        vue.createElementVNode("view", { class: "header-nav-bar" }, [
          vue.createElementVNode("view", { class: "header-left" }, [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          vue.createElementVNode("view", { class: "header-title" }, [
            vue.createVNode(_component_uni_search_bar, {
              class: "uni-mt-10",
              onInput: $setup.input,
              onClear: $setup.reset,
              radius: "90",
              placeholder: "请输入搜索内容",
              clearButton: "auto",
              cancelButton: "none",
              onConfirm: $setup.searchHandler
            })
          ]),
          vue.createElementVNode("view", {
            class: "header-right",
            onClick: $setup.myOrderHandler
          }, [
            vue.createElementVNode("image", {
              src: _imports_0$8,
              class: "logo-svg"
            }),
            vue.createElementVNode("text", { class: "txt" }, "我的测评")
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "tab-list-box" }, [
        vue.createElementVNode("view", { class: "tab-list-content" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.tabsList, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["tab-item", $setup.tabActive == item.id ? "active" : ""]),
                key: item.id,
                onClick: ($event) => $setup.tabHandler(item)
              }, vue.toDisplayString(item.label), 11, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createElementVNode("view", { class: "choose-topic-content" }, [
        vue.createElementVNode("view", { class: "tag-content" }, [
          vue.createElementVNode("view", { class: "tag-left" }, [
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              class: "scroll-content",
              "show-scrollbar": false
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.types, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: vue.normalizeClass(["tag-item", $setup.typeActive == index ? "active" : ""]),
                    key: index,
                    onClick: ($event) => $setup.changeTabHandler(index)
                  }, vue.toDisplayString(item), 11, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ]),
          vue.createElementVNode("view", { class: "tag-right" }, [
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              class: "scroll-content",
              "show-scrollbar": false
            }, [
              vue.createElementVNode("view", { class: "tag-right-content" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.exams, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "content-item",
                      key: index,
                      onClick: ($event) => $setup.openTestHandler(item)
                    }, [
                      vue.createElementVNode("view", { class: "content-item-content" }, [
                        vue.createElementVNode("view", { class: "content-txt" }, [
                          vue.createElementVNode(
                            "view",
                            { class: "title" },
                            vue.toDisplayString(item.title),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode(
                            "view",
                            { class: "remark" },
                            vue.toDisplayString(item.oneWord),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode("view", { class: "price-box" }, [
                            item.payType == 1 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                              vue.createElementVNode(
                                "text",
                                { class: "price" },
                                "￥" + vue.toDisplayString(item.discountPrice),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "text",
                                { class: "under-price" },
                                "￥" + vue.toDisplayString(item.price),
                                1
                                /* TEXT */
                              )
                            ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
                              vue.createElementVNode("text", { class: "price" }, "免费")
                            ])),
                            vue.createElementVNode("view", { class: "use-test" }, [
                              vue.createElementVNode(
                                "text",
                                { class: "use-num" },
                                vue.toDisplayString(item.examNum),
                                1
                                /* TEXT */
                              ),
                              vue.createTextVNode("人已测 ")
                            ])
                          ])
                        ]),
                        vue.createElementVNode("view", { class: "img-box" }, [
                          vue.createElementVNode("image", {
                            src: item.icon ? item.icon : "@/static/consult/user.png",
                            class: "img"
                          }, null, 8, ["src"])
                        ])
                      ])
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const PagesPsychologicalTestTestTypeTestType = /* @__PURE__ */ _export_sfc(_sfc_main$_, [["render", _sfc_render$Z], ["__scopeId", "data-v-a192c592"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/test-type/test-type.vue"]]);
  const _imports_1$6 = "/static/psychological-test/q-logo.svg";
  const _sfc_main$Z = {
    __name: "start-test",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack();
      };
      const title = vue.ref("");
      const id2 = vue.ref(0);
      const examOptionList = vue.ref([]);
      const examIndex = vue.ref(0);
      const examId = vue.ref(0);
      const userAnswer = vue.ref([]);
      const recordId = vue.ref(0);
      onLoad((e2) => {
        title.value = e2.title;
        examId.value = e2.examId;
        if (!examId.value) {
          id2.value = e2.id;
          createExamRecord();
          getOptionList();
        } else {
          recordId.value = e2.id;
          id2.value = e2.examId;
          answerActive.value = -1;
          getExamOptionRecordDetail();
          examIndex.value = parseInt(e2.currentIndex) + 1;
        }
      });
      const createExamRecord = async () => {
        let resp = await saveExamRecord({
          examId: id2.value
        });
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:113", resp);
        recordId.value = resp.data;
      };
      const nextOption = () => {
        if (answerActive.value === -1 || answerActive.value === void 0) {
          uni.showToast({
            title: "请选择选项",
            icon: "error"
          });
          return;
        }
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:140", userAnswer.value);
        const existIndex = userAnswer.value.findIndex(
          (item) => parseInt(item.optionIndex) === parseInt(examIndex.value)
        );
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:144", existIndex);
        if (existIndex !== -1) {
          userAnswer.value[existIndex].result = answerActive.value;
        } else {
          userAnswer.value.push({
            optionIndex: examIndex.value,
            result: answerActive.value
          });
        }
        updateAnswer();
        examIndex.value = examIndex.value + 1;
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:156", examIndex.value);
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:157", userAnswer.value);
        if (userAnswer.value[examIndex.value]) {
          let answer = userAnswer.value[examIndex.value];
          answerActive.value = answer.result;
        } else {
          answerActive.value = -1;
        }
      };
      const updateAnswer = async () => {
        await updateUserAnswer({
          id: recordId.value,
          options: JSON.stringify(userAnswer.value),
          currentIndex: examIndex.value
        });
      };
      const getResult = async () => {
        if (answerActive.value === -1 || answerActive.value === void 0) {
          uni.showToast({
            title: "请先选择选项",
            icon: "error"
          });
          return;
        }
        const existIndex = userAnswer.value.findIndex(
          (item) => item.optionIndex === examIndex.value
        );
        if (existIndex !== -1) {
          userAnswer.value[existIndex].result = answerActive.value;
        } else {
          userAnswer.value.push({
            optionIndex: examIndex.value,
            result: answerActive.value
          });
        }
        uni.showLoading({
          title: "正在获取结果，请稍后..."
        });
        updateAnswer();
        getExamResult();
      };
      const getExamResult = async () => {
        let resp = await examResult({ id: recordId.value });
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:203", resp);
        uni.hideLoading();
        uni.navigateTo({
          url: `/pages/psychological-test/test-result/test-result?title=${title.value}&examId=${id2.value}&result=${resp.data.examResult}`
        });
      };
      const prevOption = () => {
        examIndex.value = examIndex.value - 1;
        let answer = userAnswer.value[examIndex.value];
        answerActive.value = answer.result;
      };
      const getExamOptionRecordDetail = async () => {
        let resp = await recordDetail({ id: recordId.value });
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:218", resp);
        examOptionList.value = resp.data.options;
        if (resp.data.result) {
          let result = JSON.parse(resp.data.result);
          userAnswer.value = result;
        }
      };
      const getOptionList = async () => {
        let resp = await getExamOptions({
          id: id2.value
        });
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:230", resp);
        examOptionList.value = resp.data;
      };
      const width = vue.ref(0);
      const countProcessHandler = () => {
        width.value = 436 / 13 * 2;
      };
      vue.onMounted(() => {
        countProcessHandler();
      });
      const progressPercent = vue.computed(() => {
        return Math.round((examIndex.value + 1) / examOptionList.value.length * 100);
      });
      vue.watch(progressPercent, (newVal, oldVal) => {
        formatAppLog("log", "at pages/psychological-test/start-test/start-test.vue:250", `进度从 ${oldVal}% → ${newVal}%`);
      });
      const answerActive = vue.ref(-1);
      const answerHandler = (i2) => {
        answerActive.value != i2 ? answerActive.value = i2 : "";
      };
      const __returned__ = { backFn, title, id: id2, examOptionList, examIndex, examId, userAnswer, recordId, createExamRecord, nextOption, updateAnswer, getResult, getExamResult, prevOption, getExamOptionRecordDetail, getOptionList, width, countProcessHandler, progressPercent, answerActive, answerHandler, computed: vue.computed, onMounted: vue.onMounted, ref: vue.ref, watch: vue.watch, get onLoad() {
        return onLoad;
      }, get getExamOptions() {
        return getExamOptions;
      }, get saveExamRecord() {
        return saveExamRecord;
      }, get updateUserAnswer() {
        return updateUserAnswer;
      }, get examResult() {
        return examResult;
      }, get recordDetail() {
        return recordDetail;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$Y(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_u_line_progress = resolveEasycom(vue.resolveDynamicComponent("u-line-progress"), __easycom_2$6);
    return vue.openBlock(), vue.createElementBlock("view", { class: "start-test-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: $setup.title,
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        right: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "right" }, [
            vue.createElementVNode("image", {
              src: _imports_0$n,
              class: "img"
            })
          ])
        ]),
        _: 1
        /* STABLE */
      }, 8, ["title"]),
      vue.createElementVNode("view", { class: "content-box" }, [
        vue.createElementVNode("view", { class: "process-box" }, [
          vue.createElementVNode("view", { class: "process-content" }, [
            vue.createElementVNode("view", { class: "process-txt" }, "评测进度"),
            vue.createVNode(_component_u_line_progress, {
              "active-color": "#38CC98",
              "inactive-color": "#ffffff",
              percent: $setup.progressPercent,
              "show-percent": false
            }, null, 8, ["percent"]),
            vue.createElementVNode("view", { class: "process-num" }, [
              vue.createElementVNode(
                "text",
                { class: "use-num" },
                vue.toDisplayString($setup.examIndex + 1),
                1
                /* TEXT */
              ),
              vue.createTextVNode(
                "/" + vue.toDisplayString($setup.examOptionList.length),
                1
                /* TEXT */
              )
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "question-box" }, [
          vue.createElementVNode("view", { class: "q-logo" }, [
            vue.createElementVNode("image", {
              src: _imports_1$6,
              class: "img"
            })
          ]),
          vue.createElementVNode("view", { class: "q-content" }, [
            vue.createElementVNode(
              "view",
              { class: "content" },
              vue.toDisplayString($setup.examOptionList[$setup.examIndex].question),
              1
              /* TEXT */
            )
          ])
        ]),
        vue.createElementVNode("view", { class: "answer-box" }, [
          vue.createElementVNode("view", { class: "answer-content" }, [
            vue.createElementVNode("view", { class: "answer-list" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(JSON.parse($setup.examOptionList[$setup.examIndex].options), (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: vue.normalizeClass(["answer-item", $setup.answerActive == index ? "active" : ""]),
                    key: index,
                    onClick: ($event) => $setup.answerHandler(index)
                  }, [
                    vue.createElementVNode("view", { class: "dot" }),
                    vue.createElementVNode(
                      "view",
                      { class: "txt" },
                      vue.toDisplayString(item.text),
                      1
                      /* TEXT */
                    )
                  ], 10, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "pre-btn-box" }, [
          $setup.examIndex > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "pre",
            onClick: $setup.prevOption
          }, "上一题")) : vue.createCommentVNode("v-if", true),
          $setup.examIndex < $setup.examOptionList.length - 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "pre",
            onClick: $setup.nextOption
          }, "下一题")) : vue.createCommentVNode("v-if", true),
          $setup.examIndex == $setup.examOptionList.length - 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 2,
            class: "pre",
            onClick: $setup.getResult
          }, "查看结果")) : vue.createCommentVNode("v-if", true)
        ])
      ])
    ]);
  }
  const PagesPsychologicalTestStartTestStartTest = /* @__PURE__ */ _export_sfc(_sfc_main$Z, [["render", _sfc_render$Y], ["__scopeId", "data-v-6da95672"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/start-test/start-test.vue"]]);
  const _sfc_main$Y = {
    __name: "comment",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const content = vue.ref("");
      const examId = vue.ref(0);
      const id2 = vue.ref(0);
      const star = vue.ref(0);
      onLoad((e2) => {
        examId.value = e2.examId;
        id2.value = e2.id;
      });
      const starChange = (e2) => {
        formatAppLog("log", "at pages/psychological-test/comment/comment.vue:52", e2);
        star.value = e2.value;
      };
      const publishComment = async () => {
        if (star.value == 0) {
          uni.showToast({
            title: "请选择星级",
            icon: "error"
          });
          return;
        }
        await publishExamComment({ type: 3, content: content.value, articleId: examId.value, star: star.value, referenceId: id2.value });
        uni.showToast({
          title: "发布成功",
          icon: "success"
        });
        uni.navigateBack();
      };
      const __returned__ = { backFn, content, examId, id: id2, star, starChange, publishComment, onMounted: vue.onMounted, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get publishExamComment() {
        return publishExamComment;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$X(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_2$a);
    return vue.openBlock(), vue.createElementBlock("view", { class: "write-mailbox-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "评论",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "question-content-box" }, [
        vue.createElementVNode("view", { class: "question-content" }, [
          vue.createElementVNode("view", { class: "content" }, [
            vue.withDirectives(vue.createElementVNode(
              "textarea",
              {
                class: "uni-textarea",
                placeholder: "写下您的真实评价有机会获得红包哦~(1000字以内)",
                "placeholder-class": "placeholder-content",
                maxlength: "1000",
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.content = $event)
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $setup.content]
            ]),
            vue.createElementVNode(
              "view",
              { class: "char-count" },
              vue.toDisplayString($setup.content.length) + "/1000",
              1
              /* TEXT */
            )
          ])
        ]),
        vue.createElementVNode("view", { class: "upload-image" }, [
          vue.createElementVNode("view", { class: "upload-image-content" }, [
            vue.createElementVNode("text", { class: "txt" }, "满意度打分"),
            vue.createElementVNode("view", null, [
              vue.createVNode(_component_uni_rate, {
                value: $setup.star,
                onChange: $setup.starChange,
                activeColor: "#38CC98",
                size: "16"
              }, null, 8, ["value"])
            ])
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "send-content-box" }, [
        vue.createElementVNode("view", {
          class: "send-content-btn",
          onClick: $setup.publishComment
        }, "发布")
      ])
    ]);
  }
  const PagesPsychologicalTestCommentComment = /* @__PURE__ */ _export_sfc(_sfc_main$Y, [["render", _sfc_render$X], ["__scopeId", "data-v-90c4927a"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/comment/comment.vue"]]);
  const _sfc_main$X = {
    __name: "contact-consult",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const __returned__ = { backFn };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$W(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "contact-consult-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "联系咨询师",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "contact-consult-content" }, [
        vue.createElementVNode("view", { class: "contact-consult-list" }, [
          (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(20, (i2) => {
              return vue.createElementVNode("view", {
                class: "contact-consult-item",
                key: i2
              }, [
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createElementVNode("image", {
                    src: _imports_2$6,
                    class: "img"
                  }),
                  vue.createElementVNode("view", { class: "content" }, [
                    vue.createElementVNode("view", { class: "name" }, "张三"),
                    vue.createElementVNode("view", { class: "desc" }, "北京 | 二级心理咨询师")
                  ])
                ])
              ]);
            }),
            64
            /* STABLE_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const PagesPsychologicalTestContactConsultContactConsult = /* @__PURE__ */ _export_sfc(_sfc_main$X, [["render", _sfc_render$W], ["__scopeId", "data-v-8508c3e0"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/contact-consult/contact-consult.vue"]]);
  const _imports_0$7 = "/static/psychological-test/comment.svg";
  const _imports_1$5 = "/static/psychological-test/save-share.svg";
  const _imports_2$2 = "/static/psychological-test/send-consult.svg";
  const _sfc_main$W = {
    __name: "test-result",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack();
      };
      const examId = vue.ref(0);
      const result = vue.ref("");
      const icon = vue.ref("");
      const id2 = vue.ref(0);
      const status = vue.ref(0);
      onLoad((e2) => {
        title.value = e2.title;
        examId.value = e2.examId;
        result.value = e2.result;
        icon.value = e2.icon;
        id2.value = e2.id;
      });
      onShow(() => {
        formatAppLog("log", "at pages/psychological-test/test-result/test-result.vue:101", id2.value);
        getCommentStatus();
      });
      const getCommentStatus = async () => {
        let resp = await commentSatus({ id: id2.value, type: 3 });
        status.value = resp.data;
      };
      const title = vue.ref("");
      const openHandler = (url2) => {
        uni.navigateTo({
          url: url2
        });
      };
      const share2 = vue.ref(null);
      const shareHandler = () => {
        share2.value.open();
      };
      const channelList = vue.ref([{
        type: "wechat",
        img: "/static/share/wechat.svg",
        backgroundColor: "#00B578",
        text: "微信",
        imgWidth: "57rpx",
        imgHeight: "57rpx",
        fn: () => new Function()
      }, {
        type: "friend",
        img: "/static/share/friend.svg",
        backgroundColor: "#41B7FF",
        text: "朋友圈",
        imgWidth: "57rpx",
        imgHeight: "57rpx",
        fn: () => new Function()
      }]);
      const closeShare = () => {
        share2.value.close();
      };
      const __returned__ = { backFn, examId, result, icon, id: id2, status, getCommentStatus, title, openHandler, share: share2, shareHandler, channelList, closeShare, onMounted: vue.onMounted, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get onShow() {
        return onShow;
      }, get commentSatus() {
        return commentSatus;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$V(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "test-result-box" }, [
      vue.createVNode(_component_uni_nav_bar, {
        backgroundColor: "#F4F6F8",
        border: false,
        title: "测试结果",
        class: "header-bar",
        statusBar: true,
        fixed: ""
      }, {
        left: vue.withCtx(() => [
          vue.createVNode(_component_uni_icons, {
            type: "left",
            size: "24",
            onClick: $setup.backFn
          })
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "test-result-content-box" }, [
        vue.createElementVNode("view", { class: "test-result-content" }, [
          vue.createElementVNode("view", { class: "content" }, [
            vue.createElementVNode("view", { class: "banner" }, [
              vue.createElementVNode("image", {
                src: $setup.icon ? $setup.icon : "@/static/forum/bg.png",
                mode: "aspectFill",
                class: "img"
              }, null, 8, ["src"])
            ]),
            vue.createElementVNode("view", { class: "result-analysis-box" }, [
              vue.createElementVNode("view", { class: "tip" }, "结果分析"),
              vue.createElementVNode(
                "view",
                { class: "title" },
                vue.toDisplayString($setup.title),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "view",
                { class: "result" },
                vue.toDisplayString($setup.result),
                1
                /* TEXT */
              )
            ])
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "footer-box" }, [
        vue.createElementVNode("view", { class: "footer-content" }, [
          vue.createElementVNode("view", {
            onClick: _cache[0] || (_cache[0] = ($event) => $setup.openHandler(`/pages/psychological-test/comment/comment?examId=${$setup.examId}&id=${$setup.id}`))
          }, [
            vue.createElementVNode("image", { src: _imports_0$7 }),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.status == 0 ? "去评价" : "已评价"),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { onClick: $setup.shareHandler }, [
            vue.createElementVNode("image", { src: _imports_1$5 }),
            vue.createElementVNode("text", null, "保存分享")
          ]),
          vue.createElementVNode("view", {
            onClick: _cache[1] || (_cache[1] = ($event) => $setup.openHandler("/pages/psychological-test/contact-consult/contact-consult"))
          }, [
            vue.createElementVNode("image", { src: _imports_2$2 }),
            vue.createElementVNode("text", null, "发送咨询师 ")
          ]),
          vue.createElementVNode("view", { class: "new-consult-btn" }, "新人0元倾诉")
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "share",
          "background-color": "#fff",
          "is-mask-click": false,
          borderRadius: "24rpx 24rpx 0rpx 0rpx",
          type: "bottom"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "share-popup-box" }, [
              vue.createElementVNode("view", { class: "share-content" }, [
                vue.createElementVNode("view", { class: "title" }, "分享到"),
                vue.createElementVNode("view", { class: "share-list" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.channelList, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "share-item",
                        key: index,
                        onClick: item.fn
                      }, [
                        vue.createElementVNode(
                          "view",
                          {
                            class: "share-item-img",
                            style: vue.normalizeStyle({ backgroundColor: item.backgroundColor })
                          },
                          [
                            vue.createElementVNode("image", {
                              src: item.img,
                              class: "img",
                              style: vue.normalizeStyle({ width: item.imgWidth, height: item.imgHeight }),
                              mode: "widthFix"
                            }, null, 12, ["src"])
                          ],
                          4
                          /* STYLE */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "txt" },
                          vue.toDisplayString(item.text),
                          1
                          /* TEXT */
                        )
                      ], 8, ["onClick"]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ]),
                vue.createElementVNode("view", {
                  class: "cancel",
                  onClick: $setup.closeShare
                }, " 取消 ")
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesPsychologicalTestTestResultTestResult = /* @__PURE__ */ _export_sfc(_sfc_main$W, [["render", _sfc_render$V], ["__scopeId", "data-v-fea36aa9"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/test-result/test-result.vue"]]);
  const _sfc_main$V = {
    __name: "charge-test",
    setup(__props, { expose: __expose }) {
      __expose();
      const id2 = vue.ref(0);
      const rule = vue.ref("");
      const recommendList = vue.ref([]);
      const examDetail = vue.ref({});
      const commentInfo = vue.ref({ rating: 1, ratio: 80, num: 100 });
      const commentList = vue.ref([]);
      onLoad((e2) => {
        id2.value = e2.id;
        getDetail();
        getRule();
        getRecommendList();
        getCommentInfo2();
        getCommentList2();
      });
      const getCommentInfo2 = async () => {
        let resp = await articleComment({ id: id2.value });
        commentInfo.value = resp.data;
      };
      const page = vue.ref(1);
      const size = vue.ref(20);
      const hasMore = vue.ref(true);
      const getCommentList2 = async () => {
        let resp = await articleCommentList({ id: id2.value, page: page.value, count: size.value });
        formatAppLog("log", "at pages/psychological-test/charge-test/charge-test.vue:190", resp);
        commentList.value = resp.data.records;
        if (resp.total <= commentList.value.length) {
          hasMore.value = false;
        } else {
          hasMore.value = true;
        }
      };
      const getRecommendList = async () => {
        let resp = await dailyRecommend({ size: 2 });
        recommendList.value = resp.data;
      };
      const gotoChargeList = () => {
        uni.navigateTo({
          url: "/pages/psychological-test/test-type/test-type"
        });
      };
      const reachBottom = () => {
        formatAppLog("log", "at pages/psychological-test/charge-test/charge-test.vue:212", "reach bottom");
        if (hasMore.value) {
          page.value++;
          getCommentList2();
        }
      };
      const getRule = async () => {
        let resp = await getExamRule();
        rule.value = resp.data;
      };
      const getDetail = async () => {
        let resp = await getExamDetail({
          id: id2.value
        });
        formatAppLog("log", "at pages/psychological-test/charge-test/charge-test.vue:228", resp);
        examDetail.value = resp.data;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const startTestHandler = () => {
        if (examDetail.value.payType == 0) {
          uni.navigateTo({
            url: "/pages/psychological-test/start-test/start-test?title=" + examDetail.value.title + "&id=" + examDetail.value.id
          });
        }
      };
      const __returned__ = { id: id2, rule, recommendList, examDetail, commentInfo, commentList, getCommentInfo: getCommentInfo2, page, size, hasMore, getCommentList: getCommentList2, getRecommendList, gotoChargeList, reachBottom, getRule, getDetail, backFn, startTestHandler, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get getExamDetail() {
        return getExamDetail;
      }, get getExamRule() {
        return getExamRule;
      }, get dailyRecommend() {
        return dailyRecommend;
      }, get articleComment() {
        return articleComment;
      }, get articleCommentList() {
        return articleCommentList;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$U(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_2$a);
    const _component_uni_dateformat = resolveEasycom(vue.resolveDynamicComponent("uni-dateformat"), __easycom_3$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "charge-test-box" }, [
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "true",
          class: "scroll-content",
          "show-scrollbar": false,
          onScrolltolower: $setup.reachBottom
        },
        [
          vue.createVNode(_component_uni_nav_bar, {
            backgroundColor: "#9DDDC7",
            border: false,
            title: "",
            class: "header-bar",
            statusBar: true,
            fixed: ""
          }, {
            left: vue.withCtx(() => [
              vue.createVNode(_component_uni_icons, {
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })
            ]),
            right: vue.withCtx(() => [
              vue.createElementVNode("view", { class: "right" }, [
                vue.createElementVNode("image", {
                  src: _imports_0$n,
                  class: "img",
                  style: { "width": "40rpx", "height": "40rpx" }
                })
              ])
            ]),
            _: 1
            /* STABLE */
          }),
          vue.createElementVNode("view", { class: "charge-test-content-box" }, [
            vue.createElementVNode("view", { class: "content-box" }, [
              vue.createElementVNode("view", { class: "content-banner" }, [
                vue.createElementVNode("image", {
                  src: $setup.examDetail.icon == null ? "@/static/forum/bg.png" : $setup.examDetail.icon,
                  mode: "aspectFill",
                  class: "img"
                }, null, 8, ["src"]),
                vue.createElementVNode("view", { class: "banner-text" }, [
                  vue.createElementVNode(
                    "text",
                    { style: { "color": "white", "font-size": "42rpx" } },
                    vue.toDisplayString($setup.examDetail.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { style: { "color": "white", "font-size": "28rpx" } },
                    vue.toDisplayString($setup.examDetail.oneWord),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "charge-test-options" }, [
                vue.createElementVNode("view", { class: "option-item" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "weight" },
                    vue.toDisplayString($setup.examDetail.examNum),
                    1
                    /* TEXT */
                  ),
                  vue.createTextVNode("人已测 ")
                ]),
                vue.createElementVNode("view", { class: "option-item" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "weight" },
                    vue.toDisplayString($setup.examDetail.examOptionNum) + "道",
                    1
                    /* TEXT */
                  ),
                  vue.createTextVNode("精选问题 ")
                ]),
                vue.createElementVNode("view", { class: "option-item" }, [
                  vue.createElementVNode("text", { class: "weight" }, "16页"),
                  vue.createTextVNode("专业报告 ")
                ])
              ]),
              vue.createElementVNode(
                "view",
                { class: "content-info" },
                vue.toDisplayString($setup.examDetail.description),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "test-notice" }, [
              vue.createElementVNode("view", { class: "test-notice-content" }, [
                vue.createElementVNode("view", { class: "title" }, "评测须知"),
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode("rich-text", { nodes: $setup.rule }, null, 8, ["nodes"])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "recommend-content-box" }, [
              vue.createElementVNode("view", { class: "recommend-content" }, [
                vue.createElementVNode("view", { class: "recommend-content-header" }, [
                  vue.createElementVNode("view", { class: "title" }, " 相关推荐 "),
                  vue.createElementVNode("view", {
                    class: "label",
                    onClick: $setup.gotoChargeList
                  }, [
                    vue.createTextVNode("更多"),
                    vue.createVNode(_component_uni_icons, {
                      type: "right",
                      size: "12"
                    })
                  ])
                ]),
                vue.createElementVNode("view", { class: "content-list" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($setup.recommendList, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "content-item",
                        key: index
                      }, [
                        vue.createElementVNode("view", { class: "content-item-content" }, [
                          vue.createElementVNode("view", null, [
                            vue.createElementVNode(
                              "view",
                              { class: "title" },
                              vue.toDisplayString(item.title),
                              1
                              /* TEXT */
                            ),
                            vue.createElementVNode(
                              "view",
                              { class: "remark" },
                              vue.toDisplayString(item.oneWord),
                              1
                              /* TEXT */
                            ),
                            item.payType == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                              key: 0,
                              class: "price-box"
                            }, [
                              vue.createElementVNode(
                                "text",
                                { class: "price" },
                                "￥" + vue.toDisplayString(item.discountPrice),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "text",
                                { class: "under-price" },
                                "￥" + vue.toDisplayString(item.price),
                                1
                                /* TEXT */
                              )
                            ])) : vue.createCommentVNode("v-if", true),
                            vue.createElementVNode("view", { class: "test-handler" }, [
                              vue.createElementVNode("view", { class: "handler-btn" }, "去测试"),
                              vue.createElementVNode("view", { class: "use-test" }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "num" },
                                  vue.toDisplayString(item.examNum),
                                  1
                                  /* TEXT */
                                ),
                                vue.createTextVNode("人已测")
                              ])
                            ])
                          ]),
                          vue.createElementVNode("view", { class: "img-box" }, [
                            vue.createElementVNode("image", {
                              src: item.icon ? item.icon : "@/static/consult/user.png",
                              mode: "aspectFill",
                              class: "img"
                            }, null, 8, ["src"])
                          ])
                        ])
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "user-comment-content-box" }, [
              vue.createElementVNode("view", { class: "user-comment-content" }, [
                vue.createElementVNode("view", { class: "user-comment-content-header" }, [
                  vue.createElementVNode("view", { class: "title" }, " 用户评价 ")
                ]),
                vue.createElementVNode("view", { class: "comment-content-list" }, [
                  vue.createElementVNode("view", { class: "comment-list-header" }, [
                    vue.createElementVNode("view", { class: "left" }, [
                      vue.createElementVNode("view", { class: "star" }, [
                        vue.createElementVNode(
                          "text",
                          null,
                          vue.toDisplayString($setup.commentInfo.rating),
                          1
                          /* TEXT */
                        ),
                        vue.createVNode(_component_uni_rate, {
                          readonly: true,
                          value: $setup.commentInfo.rating,
                          size: "12"
                        }, null, 8, ["value"])
                      ]),
                      vue.createElementVNode("view", { class: "txt" }, "评分")
                    ]),
                    vue.createElementVNode("view", { class: "right" }, [
                      vue.createElementVNode("view", { class: "comment-num" }, [
                        vue.createElementVNode(
                          "view",
                          { class: "num" },
                          vue.toDisplayString($setup.commentInfo.num > 2e3 ? "2000+" : $setup.commentInfo.num),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "txt" }, "真实评价")
                      ]),
                      vue.createElementVNode("view", { class: "percent" }, [
                        vue.createElementVNode(
                          "view",
                          { class: "num" },
                          vue.toDisplayString($setup.commentInfo.ratio) + "%",
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "txt" }, "满意度")
                      ])
                    ])
                  ]),
                  $setup.commentList.length > 0 ? (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    { key: 0 },
                    vue.renderList($setup.commentList, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "comment-content-item",
                        key: index
                      }, [
                        vue.createElementVNode("view", { class: "content-item-header" }, [
                          vue.createElementVNode("view", { class: "left" }, [
                            vue.createElementVNode("view", null, [
                              vue.createElementVNode("image", {
                                src: item.avatar ? item.avatar : "@/static/my/profile.png",
                                mode: "aspectFill",
                                class: "img"
                              }, null, 8, ["src"])
                            ]),
                            vue.createElementVNode(
                              "view",
                              null,
                              vue.toDisplayString(item.real_name),
                              1
                              /* TEXT */
                            )
                          ]),
                          vue.createElementVNode("view", { class: "right" }, [
                            vue.createVNode(_component_uni_dateformat, {
                              format: "yyyy-MM-dd hh:mm:ss",
                              date: item.create_time
                            }, null, 8, ["date"])
                          ])
                        ]),
                        vue.createElementVNode(
                          "view",
                          { class: "content" },
                          vue.toDisplayString(item.content),
                          1
                          /* TEXT */
                        )
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  )) : (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    style: { "height": "200rpx", "display": "flex", "justify-content": "center", "align-items": "center" }
                  }, [
                    vue.createElementVNode("text", null, "暂无数据~")
                  ]))
                ])
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", { class: "price-box" }, [
          $setup.examDetail.payType == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "price"
          }, [
            vue.createElementVNode(
              "text",
              { class: "use-price" },
              "¥" + vue.toDisplayString($setup.examDetail.discountPrice),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "text",
              { class: "under-price" },
              "¥" + vue.toDisplayString($setup.examDetail.price),
              1
              /* TEXT */
            )
          ])) : (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "price"
          }, "免费")),
          vue.createElementVNode("view", { class: "txt" }, "开通会员享受免费测试")
        ]),
        vue.createElementVNode("view", { class: "member" }, "会员免费"),
        vue.createElementVNode("view", {
          class: "start-test",
          onClick: $setup.startTestHandler
        }, "立即测试")
      ])
    ]);
  }
  const PagesPsychologicalTestChargeTestChargeTest = /* @__PURE__ */ _export_sfc(_sfc_main$V, [["render", _sfc_render$U], ["__scopeId", "data-v-566b2014"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/charge-test/charge-test.vue"]]);
  const _imports_1$4 = "/static/forum/bg.png";
  const _sfc_main$U = {
    __name: "free-test",
    setup(__props, { expose: __expose }) {
      __expose();
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const startTestHandler = () => {
        uni.navigateTo({
          url: "/pages/psychological-test/start-test/start-test"
        });
      };
      const __returned__ = { backFn, startTestHandler };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$T(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "free-test-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "true",
        class: "scroll-content",
        "show-scrollbar": false
      }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "#f4f6f8",
          border: false,
          title: "心理测试",
          class: "header-bar",
          statusBar: true,
          fixed: ""
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                class: "img",
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }),
        vue.createElementVNode("view", { class: "free-test-content-box" }, [
          vue.createElementVNode("view", { class: "content-box" }, [
            vue.createElementVNode("view", { class: "content-banner" }, [
              vue.createElementVNode("image", {
                src: _imports_1$4,
                class: "img"
              })
            ]),
            vue.createElementVNode("view", { class: "free-test-options" }, [
              vue.createElementVNode("view", { class: "option-item" }, [
                vue.createElementVNode("text", { class: "weight" }, "23.4W"),
                vue.createTextVNode("人已测 ")
              ]),
              vue.createElementVNode("view", { class: "option-item" }, [
                vue.createElementVNode("text", { class: "weight" }, "49道"),
                vue.createTextVNode("精选问题 ")
              ]),
              vue.createElementVNode("view", { class: "option-item" }, [
                vue.createElementVNode("text", { class: "weight" }, "16页"),
                vue.createTextVNode("专业报告 ")
              ])
            ]),
            vue.createElementVNode("view", { class: "content-info" }, " 很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人 很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人 很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人 很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人 很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人很多人在谈恋爱,但病是不是说每个人 "),
            vue.createElementVNode("view", {
              class: "start-test",
              onClick: $setup.startTestHandler
            }, "开始测试")
          ]),
          vue.createElementVNode("view", { class: "recommend-content-box" }, [
            vue.createElementVNode("view", { class: "recommend-content" }, [
              vue.createElementVNode("view", { class: "recommend-content-header" }, [
                vue.createElementVNode("view", { class: "title" }, " 相关推荐 "),
                vue.createElementVNode("view", { class: "label" }, [
                  vue.createTextVNode("更多"),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "12"
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "content-list" }, [
                (vue.openBlock(), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(2, (i2) => {
                    return vue.createElementVNode("view", {
                      class: "content-item",
                      key: i2
                    }, [
                      vue.createElementVNode("view", { class: "content-item-content" }, [
                        vue.createElementVNode("view", null, [
                          vue.createElementVNode("view", { class: "title" }, "潜意识投射测试"),
                          vue.createElementVNode("view", { class: "remark" }, "14张图片，揭露你的潜意识"),
                          vue.createElementVNode("view", { class: "price-box" }, [
                            vue.createElementVNode("text", { class: "price" }, "￥19.9"),
                            vue.createElementVNode("text", { class: "under-price" }, "￥59.9")
                          ]),
                          vue.createElementVNode("view", { class: "test-handler" }, [
                            vue.createElementVNode("view", { class: "handler-btn" }, "去测试"),
                            vue.createElementVNode("view", { class: "use-test" }, [
                              vue.createElementVNode("text", { class: "num" }, "23.4W"),
                              vue.createTextVNode("人已测")
                            ])
                          ])
                        ]),
                        vue.createElementVNode("view", { class: "img-box" }, [
                          vue.createElementVNode("image", {
                            src: _imports_2$6,
                            class: "img"
                          })
                        ])
                      ])
                    ]);
                  }),
                  64
                  /* STABLE_FRAGMENT */
                ))
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const PagesPsychologicalTestFreeTestFreeTest = /* @__PURE__ */ _export_sfc(_sfc_main$U, [["render", _sfc_render$T], ["__scopeId", "data-v-bec04afb"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/psychological-test/free-test/free-test.vue"]]);
  class EmojiDecoder {
    constructor(url2, emojiMap) {
      __publicField(this, "emojiMap", null);
      __publicField(this, "url", "");
      __publicField(this, "patterns", []);
      __publicField(this, "metaChars", /[[\]{}()*+?.\\|^$\-,&#\s]/g);
      this.url = url2 || "";
      this.emojiMap = emojiMap || {};
      for (let i2 in this.emojiMap) {
        if (this.emojiMap.hasOwnProperty(i2)) {
          this.patterns.push("(" + i2.replace(this.metaChars, "\\$&") + ")");
        }
      }
    }
    decode(text) {
      return text.replace(new RegExp(this.patterns.join("|"), "g"), (match) => {
        return typeof this.emojiMap[match] != "undefined" ? '<img height="20rpx" width="20rpx" src="' + this.url + this.emojiMap[match] + '" />' : match;
      });
    }
  }
  class RestApi {
    constructor() {
      //用户数据示例
      __publicField(this, "users", [
        {
          id: "08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a",
          name: "Mattie",
          password: "123",
          avatar: "/static/message/Avatar-1.png",
          email: "Mattie@goeasy.io",
          phone: "138xxxxxxxx"
        },
        {
          id: "3bb179af-bcc5-4fe0-9dac-c05688484649",
          name: "Wallace",
          password: "123",
          avatar: "/static/message/Avatar-2.png",
          email: "Wallace@goeasy.io",
          phone: "138xxxxxxxx"
        },
        {
          id: "fdee46b0-4b01-4590-bdba-6586d7617f95",
          name: "Tracy",
          password: "123",
          avatar: "/static/message/Avatar-3.png",
          email: "Tracy@goeasy.io",
          phone: "138xxxxxxxx"
        },
        {
          id: "33c3693b-dbb0-4bc9-99c6-fa77b9eb763f",
          name: "Juanita",
          password: "123",
          avatar: "/static/message/Avatar-4.png",
          email: "Juanita@goeasy.io",
          phone: "138xxxxxxxx"
        }
      ]);
      //群数据示例
      __publicField(this, "groups", [
        {
          id: "group-a42b-47b2-bb1e-15e0f5f9a19a",
          name: "小程序交流群",
          avatar: "/static/message/wx.png",
          userList: [
            "08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a",
            "3bb179af-bcc5-4fe0-9dac-c05688484649",
            "fdee46b0-4b01-4590-bdba-6586d7617f95",
            "33c3693b-dbb0-4bc9-99c6-fa77b9eb763f"
          ]
        },
        {
          id: "group-4b01-4590-bdba-6586d7617f95",
          name: "UniApp交流群",
          avatar: "/static/message/uniapp.png",
          userList: [
            "08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a",
            "fdee46b0-4b01-4590-bdba-6586d7617f95",
            "33c3693b-dbb0-4bc9-99c6-fa77b9eb763f"
          ]
        },
        {
          id: "group-dbb0-4bc9-99c6-fa77b9eb763f",
          name: "GoEasy交流群",
          avatar: "/static/message/goeasy.jpeg",
          userList: ["08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a", "3bb179af-bcc5-4fe0-9dac-c05688484649"]
        }
      ]);
      // 订单
      __publicField(this, "orders", [
        {
          id: "252364104325",
          url: "/static/message/goods1-1.jpg",
          name: "青桔柠檬气泡美式",
          price: "￥23",
          count: 1
        },
        {
          id: "251662058022",
          url: "/static/message/goods1-2.jpg",
          name: "咸柠七",
          price: "￥8",
          count: 2
        },
        {
          id: "250676186141",
          url: "/static/message/goods1-3.jpg",
          name: "黑糖波波鲜奶茶",
          price: "￥12",
          count: 1
        }
      ]);
    }
    findUsers() {
      return this.users;
    }
    findFriends(user) {
      return this.users.filter((v2) => v2.id !== user.id);
    }
    findGroups(user) {
      return this.groups.filter((v2) => v2.userList.find((id2) => id2 === user.id));
    }
    findUser(username, password) {
      return this.users.find((user) => user.name === username && user.password === password);
    }
    getOrderList() {
      return this.orders;
    }
    findGroupById(groupId) {
      return this.groups.find((group) => group.id === groupId);
    }
    findUserById(userId) {
      return this.users.find((user) => user.id === userId);
    }
    findGroupMembers(groupId) {
      let members = [];
      let group = this.groups.find((v2) => v2.id === groupId);
      if (group) {
        members = this.users.filter((user) => group.userList.includes(user.id));
      }
      return members;
    }
  }
  const restApi = new RestApi();
  class RecorderManager {
    constructor() {
      __publicField(this, "recorder", null);
      //录音开始时间
      __publicField(this, "uniStartTime", null);
      //语音录音中
      __publicField(this, "recording", false);
      __publicField(this, "onRecordingComplete", null);
      this.recorder = uni.getRecorderManager();
    }
    onRecordComplete(callBack) {
      this.onRecordingComplete = callBack;
      this.initUniRecorder();
    }
    initUniRecorder() {
      this.recorder.onStop((res2) => {
        const duration = Date.now() - this.uniStartTime;
        res2.duration = duration;
        this.onRecordingComplete(res2, duration);
      });
    }
    authorize() {
      return new Promise((resolve, reject) => {
        if (plus.os.name === "iOS") {
          var avaudiosession = plus.ios.import("AVAudioSession");
          var avaudio = avaudiosession.sharedInstance();
          var permissionStatus = avaudio.recordPermission();
          if (permissionStatus === 1684369017 || permissionStatus === 1970168948) {
            formatAppLog("log", "at lib/RecorderManager.js:66", "麦克风权限没有开启");
          }
          plus.ios.deleteObject(avaudiosession);
          resolve();
        } else {
          plus.android.requestPermissions(
            ["android.permission.RECORD_AUDIO"],
            (resultObj) => {
              resultObj.granted.length ? resolve() : reject("已拒绝");
            },
            (error) => {
              formatAppLog("error", "at lib/RecorderManager.js:77", `申请权限错误：${error.code} = ${error.message}`);
              reject();
            }
          );
        }
      });
    }
    start() {
      this.recording = true;
      try {
        this.recorder.start({
          duration: 6e5
          // 指定录音的时长,单位 ms
        });
        this.uniStartTime = Date.now();
      } catch (e2) {
        formatAppLog("log", "at lib/RecorderManager.js:115", e2);
      }
    }
    stop() {
      this.recording = false;
      try {
        this.recorder.stop();
      } catch (e2) {
        formatAppLog("log", "at lib/RecorderManager.js:138", e2);
      }
    }
  }
  const getDayStartTimestamp = (date2 = /* @__PURE__ */ new Date()) => {
    if (!(date2 instanceof Date) || isNaN(date2.getTime())) {
      date2 = /* @__PURE__ */ new Date();
    }
    const year = date2.getFullYear();
    const month = date2.getMonth();
    const day = date2.getDate();
    return new Date(year, month, day).getTime();
  };
  const formatMessageTime = (timestamp) => {
    if (!timestamp || isNaN(Number(timestamp))) {
      return "未知时间";
    }
    const msgTime = Number(timestamp) * 1e3;
    const msgDate = new Date(msgTime);
    if (isNaN(msgDate.getTime())) {
      return "未知时间";
    }
    const getHHMM = (date2) => {
      const hours = date2.getHours().toString().padStart(2, "0");
      const minutes = date2.getMinutes().toString().padStart(2, "0");
      return `${hours}:${minutes}`;
    };
    const todayStart = getDayStartTimestamp();
    const yesterdayStart = todayStart - 24 * 60 * 60 * 1e3;
    if (msgTime >= todayStart) {
      return getHHMM(msgDate);
    }
    if (msgTime >= yesterdayStart && msgTime < todayStart) {
      return `昨天 ${getHHMM(msgDate)}`;
    }
    const month = (msgDate.getMonth() + 1).toString().padStart(2, "0");
    const day = msgDate.getDate().toString().padStart(2, "0");
    return `${month}-${day} ${getHHMM(msgDate)}`;
  };
  const shouldShowTime = (index, messageList) => {
    if (!Array.isArray(messageList) || messageList.length === 0) {
      return false;
    }
    if (index < 0 || index >= messageList.length) {
      return false;
    }
    if (index === 0) {
      return true;
    }
    const currentMsg = messageList[index];
    const prevMsg = messageList[index - 1];
    if (!currentMsg || !prevMsg || !currentMsg.time || !prevMsg.time) {
      return true;
    }
    const currentTime = Number(currentMsg.time) * 1e3;
    const prevTime = Number(prevMsg.time) * 1e3;
    const timeDiff = (currentTime - prevTime) / (60 * 1e3);
    const isSameDay = (time1, time2) => {
      if (isNaN(time1) || isNaN(time2))
        return false;
      return getDayStartTimestamp(new Date(time1)) === getDayStartTimestamp(new Date(time2));
    };
    return timeDiff > 5 || !isSameDay(currentTime, prevTime);
  };
  function useTUICallKit() {
    const state = vue.reactive({
      SDKAppID: "",
      userID: "",
      userSig: "",
      calleeUserID: "",
      callMediaType: 2,
      // 1=语音通话  2=视频通话
      tuiCallKit: null,
      // 新版插件实例
      expireSeconds: 86400,
      // UserSig有效期24小时，腾讯云推荐值
      eventCallback: null
      // 保存事件监听回调，用于销毁
    });
    const loadTuiCallKit = () => {
      const tuiCallKit = requireNativePlugin("TencentCloud-TUICallKit");
      if (!tuiCallKit) {
        throw new Error("加载腾讯云插件失败，请检查是否已在uniapp后台安装9035云端插件");
      }
      if (typeof tuiCallKit.callTUICallKit !== "function") {
        throw new Error("当前插件非新版9035，或插件加载异常，请重新打包真机测试");
      }
      state.tuiCallKit = tuiCallKit;
      formatAppLog("log", "at utils/tencentCallKit.js:34", "✅ 新版TUICallKit插件加载成功");
      return tuiCallKit;
    };
    const getUserSig = async () => {
      var _a2;
      try {
        const res2 = await tencentSigTrtc({
          expireSeconds: state.expireSeconds,
          userId: state.userID
        });
        if ((_a2 = res2.data) == null ? void 0 : _a2.userSig) {
          state.userSig = res2.data.userSig;
          formatAppLog("log", "at utils/tencentCallKit.js:47", "✅ UserSig签名获取成功", state.userSig);
          return Promise.resolve();
        } else {
          throw new Error("UserSig获取失败：" + (res2.msg || "接口返回数据异常"));
        }
      } catch (err) {
        throw new Error("签名接口请求失败：" + (err.message || "网络异常，请重试"));
      }
    };
    const watchCallEvent = () => {
      if (state.eventCallback) {
        state.tuiCallKit.callTUICallKit({
          action: "offCallEvent",
          params: { callback: state.eventCallback }
        });
      }
      const callback = (event) => {
        formatAppLog("log", "at utils/tencentCallKit.js:68", "📞 通话状态回调：", event);
        const { type, message: message2 } = event;
        switch (type) {
          case 1001:
            uni.showToast({ title: "对方正在通话中", icon: "none", duration: 3e3 });
            break;
          case 1002:
            uni.showToast({ title: "对方无人接听", icon: "none", duration: 3e3 });
            break;
          case 1003:
            uni.showToast({ title: "对方拒绝接听通话", icon: "none", duration: 3e3 });
            break;
          case 2001:
            uni.showToast({ title: "通话已接通", icon: "none", duration: 2e3 });
            break;
          case 2002:
            uni.showToast({ title: "通话已挂断", icon: "none" });
            destroy();
            break;
          case 3001:
            uni.showToast({ title: "通话异常：" + message2, icon: "none" });
            destroy();
            break;
        }
      };
      state.eventCallback = callback;
      state.tuiCallKit.callTUICallKit({
        action: "onCallEvent",
        params: { callback }
      });
    };
    const startCall = async (params) => {
      try {
        destroy();
        const { SDKAppID: SDKAppID2, userID, calleeUserID, callMediaType, expireSeconds } = params;
        state.SDKAppID = SDKAppID2;
        state.userID = userID;
        state.calleeUserID = calleeUserID;
        state.callMediaType = callMediaType || 2;
        state.expireSeconds = expireSeconds || state.expireSeconds;
        formatAppLog("log", "at utils/tencentCallKit.js:101", "📤 开始发起通话参数：", params);
        loadTuiCallKit();
        await getUserSig();
        watchCallEvent();
        state.tuiCallKit.callTUICallKit({
          action: "call",
          // 新版API：发起通话的动作标识
          params: {
            SDKAppID: Number(state.SDKAppID),
            // 强制转数字，腾讯云要求
            userID: state.userID,
            userSig: state.userSig,
            calleeUserID: state.calleeUserID,
            callMediaType: state.callMediaType,
            isFromGroup: false
            // 一对一通话固定为false
          },
          callback: (res2) => {
            if (res2.code === 0) {
              formatAppLog("log", "at utils/tencentCallKit.js:122", "✅ 通话已发起，等待对方接听");
            } else {
              uni.showToast({ title: "拨打失败：" + res2.message, icon: "none", duration: 3e3 });
              destroy();
            }
          }
        });
        return Promise.resolve("发起通话成功");
      } catch (error) {
        formatAppLog("error", "at utils/tencentCallKit.js:131", "❌ 发起通话失败", error);
        uni.showToast({ title: error.message, icon: "none", duration: 3500 });
        destroy();
        return Promise.reject(error);
      }
    };
    const hangupCall = () => {
      if (!state.tuiCallKit)
        return;
      state.tuiCallKit.callTUICallKit({
        action: "hangup",
        params: {},
        callback: (res2) => {
          if (res2.code === 0) {
            formatAppLog("log", "at utils/tencentCallKit.js:146", "✅ 已主动挂断通话");
          }
        }
      });
      destroy();
    };
    const destroy = () => {
      if (state.tuiCallKit && state.eventCallback) {
        state.tuiCallKit.callTUICallKit({
          action: "offCallEvent",
          params: { callback: state.eventCallback }
        });
      }
      state.tuiCallKit = null;
      state.userSig = "";
      state.calleeUserID = "";
      state.eventCallback = null;
      formatAppLog("log", "at utils/tencentCallKit.js:167", "✅ 通话资源已全部销毁，状态重置完成");
    };
    return {
      startCall,
      // 发起通话
      hangupCall,
      // 挂断通话
      destroy
      // 销毁资源
    };
  }
  const _imports_0$6 = "/static/message/jianpan.png";
  const _imports_1$3 = "/static/message/audio.png";
  const _imports_2$1 = "/static/message/emoji.png";
  const _imports_3 = "/static/message/more.png";
  const _imports_4 = "/static/message/picture.png";
  const _imports_5 = "/static/message/rtc.png";
  const _imports_6 = "/static/message/delete.png";
  const IMAGE_MAX_WIDTH = 200;
  const IMAGE_MAX_HEIGHT = 150;
  const emojiUrl = "https://imgcache.qq.com/open/qcloud/tim/assets/emoji/";
  const _sfc_main$T = {
    __name: "private-chat",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "2afa2121-statusBarHeight": statusBarHeight.value
      }));
      const tuicallkit = requireNativePlugin("TencentCloud-TUICallKit");
      uni.showToast({ title: tuicallkit, icon: "none" });
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const text = vue.ref("");
      let friend = null;
      let conversationID = "";
      const {
        tim: tim2,
        isLogin,
        userId,
        sdkReady,
        checkLoginStatus,
        waitSDKReady: waitSDKReady2,
        onTIMEvent
      } = useTIM("1600116083");
      const currentUserAvatar = vue.ref();
      let { avatar } = uni.getStorageSync("currentUser");
      currentUserAvatar.value = avatar;
      const instance = vue.getCurrentInstance();
      const emojiMap = {
        "[么么哒]": "emoji_3@2x.png",
        "[乒乓]": "emoji_4@2x.png",
        "[便便]": "emoji_5@2x.png",
        "[信封]": "emoji_6@2x.png",
        "[偷笑]": "emoji_7@2x.png",
        "[傲慢]": "emoji_8@2x.png",
        "[咪咪]": "emoji_9@2x.png",
        "[咖啡]": "emoji_10@2x.png"
      };
      const recorderManager = vue.reactive(new RecorderManager());
      const emoji = vue.reactive({
        url: emojiUrl,
        map: emojiMap,
        visible: false,
        decoder: new EmojiDecoder(emojiUrl, emojiMap)
      });
      const otherTypesMessagePanelVisible = vue.ref(false);
      const orderList2 = vue.reactive({
        orders: [],
        visible: false
      });
      const history = vue.reactive({
        messages: [],
        allLoaded: false,
        loading: true,
        nextReqMessageID: ""
        // 用于加载更多历史消息
      });
      const audioVisible = vue.ref(false);
      const innerAudioContext = uni.createInnerAudioContext();
      const audioPlayer = vue.reactive({
        audio: {},
        playingMessage: null
      });
      const videoPlayer = vue.reactive({
        visible: false,
        url: "",
        context: null
      });
      const actionPopup = vue.reactive({
        visible: false,
        message: null,
        recallable: false
      });
      const messageSelector = vue.reactive({
        messages: [],
        visible: false,
        ids: []
      });
      onLoad((options) => {
        let id2 = options.to;
        let name = options.name;
        friend = { id: id2, name, avatar: options.avatar };
        conversationID = `C2C${id2}`;
        checkLoginStatus().then((loggedIn) => {
          if (loggedIn) {
            initialTIMListeners();
            initialAudioPlayer();
            initRecorderListeners();
            initTUICallKit();
          }
        });
        loadHistoryMessage(true);
        initialTIMLStates();
      });
      onShow(() => {
        otherTypesMessagePanelVisible.value = false;
        emoji.visible = false;
        if (isLogin.value && sdkReady.value) {
          initialTIMListeners();
        }
      });
      onReady(async () => {
        if (isLogin.value && sdkReady.value) {
          loadHistoryMessage(true);
        }
        videoPlayer.context = uni.createVideoContext("videoPlayer", instance);
      });
      const isCompleteds = vue.ref(false);
      onPullDownRefresh(() => {
        formatAppLog(
          "log",
          "at pages/message/private-chat.vue:387",
          12312312312312312e11
        );
        if (!isCompleteds.value) {
          loadHistoryMessage(true);
        } else {
          uni.stopPullDownRefresh();
        }
      });
      function renderTextMessage(message2) {
        return "<span>" + emoji.decoder.decode(message2.payload.text) + "</span>";
      }
      function renderMessageDate(message2, index) {
        if (index === 0) {
          return formatDate$1(message2.time);
        } else {
          if (message2.time - history.messages[index - 1].time > 5 * 60 * 1e3) {
            return formatDate$1(message2.time);
          }
        }
        return "";
      }
      const { EVENT: TIM_EVENT } = TIM$1;
      const initialTIMListeners = () => {
        if (!tim2.value) {
          formatAppLog("warn", "at pages/message/private-chat.vue:418", "TIM 实例未初始化，跳过事件监听注册");
          return;
        }
        const { MESSAGE_RECEIVED, MESSAGE_REVOKED, MESSAGE_READ_BY_PEER } = TIM_EVENT;
        tim2.value.off(MESSAGE_RECEIVED, onMessageReceived);
        tim2.value.off(MESSAGE_REVOKED, onMessageRevoked);
        tim2.value.off(MESSAGE_READ_BY_PEER, onMessageReadByPeer);
        onTIMEvent(MESSAGE_RECEIVED, onMessageReceived);
        onTIMEvent(MESSAGE_REVOKED, onMessageRevoked);
        onTIMEvent(MESSAGE_READ_BY_PEER, onMessageReadByPeer);
        onTIMEvent(TIM_EVENT.SDK_READY, () => {
          formatAppLog("log", "at pages/message/private-chat.vue:437", "SDK 就绪，加载历史消息 + 确保事件监听生效");
          loadHistoryMessage(true);
        });
      };
      const initialTIMLStates = () => {
        tim2.value.getUserStatus({ userIDList: [friend.id] });
      };
      const onMessageReceived = (event) => {
        formatAppLog("log", "at pages/message/private-chat.vue:447", "[实时消息事件触发]", event.data, "当前会话ID：", conversationID);
        if (!event.data || !Array.isArray(event.data)) {
          formatAppLog("warn", "at pages/message/private-chat.vue:449", "消息数据格式异常", event);
          return;
        }
        const newMessages = event.data;
        newMessages.forEach((message2) => {
          if (message2.conversationID === conversationID) {
            formatAppLog("log", "at pages/message/private-chat.vue:456", "[收到当前会话消息]", message2);
            const isDuplicate = history.messages.some((m2) => m2.ID === message2.ID);
            if (!isDuplicate) {
              history.messages.push(message2);
              scrollToBottom();
              markMessageAsRead(message2);
            }
          }
        });
      };
      function onMessageRevoked(event) {
        const revokedMessage = event.data[0];
        const index = history.messages.findIndex(
          (msg) => msg.ID === revokedMessage.ID
        );
        if (index !== -1) {
          history.messages.splice(index, 1, revokedMessage);
        }
      }
      function onMessageReadByPeer(event) {
        const { conversationID: convID, readTime } = event.data;
        if (convID === conversationID) {
          history.messages.forEach((message2) => {
            if (message2.from === userId && message2.time <= readTime) {
              message2.read = true;
            }
          });
        }
      }
      function initialAudioPlayer() {
        innerAudioContext.onEnded(() => {
          audioPlayer.playingMessage = null;
        });
        innerAudioContext.onStop(() => {
          audioPlayer.playingMessage = null;
        });
      }
      const initRecorderListeners = () => {
        recorderManager.onRecordComplete((file, duration) => {
          if (duration < 1e3) {
            uni.showToast({
              icon: "none",
              title: "录音时间太短",
              duration: 500
            });
            return;
          }
          sendSoundMessage(file, duration);
        });
      };
      const sendSoundMessage = async (file, duration) => {
        const canSend = await checkMessagePolicy();
        if (!canSend)
          return;
        try {
          await waitSDKReady2();
          const message2 = tim2.value.createSoundMessage({
            to: friend.id,
            soundBase64: file.base64,
            fileSize: file.size,
            duration: Math.round(duration)
          });
          sendMessage(message2);
        } catch (err) {
          formatAppLog("error", "at pages/message/private-chat.vue:533", "创建语音消息失败:", err);
        }
      };
      function getImageHeight(width, height) {
        if (width < IMAGE_MAX_WIDTH && height < IMAGE_MAX_HEIGHT) {
          return height * 2;
        } else if (width > height) {
          return IMAGE_MAX_WIDTH / width * height * 2;
        } else if (width === height || width < height) {
          return IMAGE_MAX_HEIGHT * 2;
        }
      }
      async function sendMessage(message2) {
        try {
          await waitSDKReady2();
          message2.status = "sending";
          history.messages.push(message2);
          scrollToBottom();
          const { data: { message: sentMessage } } = await tim2.value.sendMessage(message2);
          const index = history.messages.findIndex((m2) => m2.ID === sentMessage.ID);
          if (index !== -1) {
            history.messages.splice(index, 1, sentMessage);
          }
        } catch (imError) {
          formatAppLog("warn", "at pages/message/private-chat.vue:572", "sendMessage error:", imError);
          const index = history.messages.findIndex((m2) => m2.ID === message2.ID);
          if (index !== -1) {
            history.messages[index].status = "fail";
          }
        }
      }
      const sendTextMessage = async () => {
        try {
          const message2 = tim2.value.createTextMessage({
            to: friend.id,
            // 接收方 ID（单聊传用户 ID，群聊传群 ID）
            conversationType: TIM$1.TYPES.CONV_C2C,
            // 会话类型：单聊为 TIM.TYPES.CONV_C2C，群聊为 TIM.TYPES.CONV_GROUP
            payload: {
              text: text.value
            }
            // 可选参数：如消息自定义数据等
            // cloudCustomData: '自定义数据'
          });
          await sendMessage(message2);
          text.value = "";
        } catch (error) {
          formatAppLog("error", "at pages/message/private-chat.vue:602", "发送文本消息失败:", error);
        }
      };
      const sendImageMessage = async () => {
        try {
          const canSend = await checkMessagePolicy();
          if (!canSend)
            return;
          await waitSDKReady2();
          uni.chooseImage({
            count: 9,
            success: (res2) => {
              res2.tempFiles.forEach((file) => {
                uni.getFileSystemManager().readFile({
                  filePath: file.path,
                  encoding: "base64",
                  success: async (fileRes) => {
                    const message2 = tim2.value.createImageMessage({
                      to: friend.id,
                      imageBase64: fileRes.data,
                      fileName: file.name,
                      fileSize: file.size
                    });
                    await sendMessage(message2);
                    otherTypesMessagePanelVisible.value = false;
                  }
                });
              });
            }
          });
        } catch (err) {
          formatAppLog("error", "at pages/message/private-chat.vue:639", "发送图片消息失败:", err);
        }
      };
      async function sendOrderMessage(order) {
        try {
          await waitSDKReady2();
          const message2 = tim2.value.createCustomMessage({
            to: friend.id,
            data: JSON.stringify({
              type: "order",
              ...order
            }),
            description: "订单消息",
            extension: ""
          });
          await sendMessage(message2);
          orderList2.visible = false;
          otherTypesMessagePanelVisible.value = false;
        } catch (err) {
          formatAppLog("error", "at pages/message/private-chat.vue:665", "发送订单消息失败:", err);
        }
      }
      function showActionPopup(message2) {
        const MAX_RECALLABLE_TIME = 3 * 60 * 1e3;
        messageSelector.messages = [message2];
        if (Date.now() - message2.time < MAX_RECALLABLE_TIME && message2.from === userId && message2.status === "success") {
          actionPopup.recallable = true;
        } else {
          actionPopup.recallable = false;
        }
        actionPopup.visible = true;
        actionPopup.message = message2;
      }
      function hideActionPopup() {
        actionPopup.visible = false;
        actionPopup.message = null;
      }
      function deleteSingleMessage() {
        uni.showModal({
          content: "确认删除？",
          success: (res2) => {
            actionPopup.visible = false;
            if (res2.confirm) {
              deleteMessage();
            }
          }
        });
      }
      function deleteMultipleMessages() {
        if (messageSelector.messages.length > 0) {
          uni.showModal({
            content: "确认删除？",
            success: (res2) => {
              messageSelector.visible = false;
              if (res2.confirm) {
                deleteMessage();
              }
            }
          });
        }
      }
      async function deleteMessage() {
        try {
          await waitSDKReady2();
          const messageIDs = messageSelector.messages.map((msg) => msg.ID);
          await tim2.value.deleteMessage(messageIDs);
          messageSelector.messages.forEach((message2) => {
            const index = history.messages.findIndex((m2) => m2.ID === message2.ID);
            if (index > -1) {
              history.messages.splice(index, 1);
            }
          });
          messageSelector.messages = [];
        } catch (imError) {
          formatAppLog("warn", "at pages/message/private-chat.vue:751", "deleteMessage error:", imError);
        }
      }
      async function recallMessage() {
        actionPopup.visible = false;
        try {
          await waitSDKReady2();
          await tim2.value.revokeMessage(actionPopup.message.ID);
          formatAppLog("log", "at pages/message/private-chat.vue:766", "撤回成功");
        } catch (imError) {
          formatAppLog("warn", "at pages/message/private-chat.vue:768", "撤回失败:", imError);
          uni.showToast({
            title: "撤回失败",
            icon: "none"
          });
        }
      }
      function editRecalledMessage(content) {
        if (audioVisible.value) {
          audioVisible.value = false;
        }
        text.value = content;
      }
      function showCheckBox() {
        messageSelector.messages = [];
        messageSelector.visible = true;
        actionPopup.visible = false;
      }
      function selectMessages(e2) {
        const selectedMessageIds = e2.detail.value;
        let selectedMessages = [];
        history.messages.forEach((message2) => {
          if (selectedMessageIds.includes(message2.ID)) {
            selectedMessages.push(message2);
          }
        });
        messageSelector.messages = selectedMessages;
      }
      const loadHistoryMessage = async (isScrollToBottom) => {
        history.loading = true;
        try {
          await waitSDKReady2();
          const count = 10;
          const options = {
            conversationID,
            count
          };
          if (history.nextReqMessageID) {
            options.nextReqMessageID = history.nextReqMessageID;
          }
          const { data } = await tim2.value.getMessageList(options);
          uni.stopPullDownRefresh();
          history.loading = false;
          const { messageList, nextReqMessageID, isCompleted } = data;
          isCompleteds.value = isCompleted;
          if (messageList.length === 0) {
            history.allLoaded = true;
            return;
          }
          if (history.nextReqMessageID) {
            history.messages = [...messageList, ...history.messages];
          } else {
            history.messages = messageList;
          }
          history.nextReqMessageID = nextReqMessageID;
          if (messageList.length < count) {
            history.allLoaded = true;
          }
          if (isScrollToBottom) {
            scrollToBottom();
            markConversationAsRead();
          }
        } catch (imError) {
          formatAppLog("warn", "at pages/message/private-chat.vue:859", "getMessageList error:", imError);
          uni.stopPullDownRefresh();
          history.loading = false;
        }
      };
      function switchAudioKeyboard() {
        audioVisible.value = !audioVisible.value;
        if (audioVisible.value) {
          recorderManager.authorize().then(() => {
            formatAppLog("log", "at pages/message/private-chat.vue:874", "录音权限获取成功");
          }).catch((err) => {
            formatAppLog("log", "at pages/message/private-chat.vue:877", "err:", err);
            uni.showModal({
              title: "获取录音权限失败",
              content: "请先授权才能发送语音消息！"
            });
          });
        }
      }
      function onRecordStart() {
        recorderManager.start();
      }
      function onRecordEnd() {
        recorderManager.stop();
      }
      function showImageFullScreen(e2) {
        let imagesUrl = [e2.currentTarget.dataset.url];
        uni.previewImage({
          urls: imagesUrl
        });
      }
      function playVideo(e2) {
        videoPlayer.visible = true;
        videoPlayer.url = e2.currentTarget.dataset.url;
        vue.nextTick(() => {
          videoPlayer.context.requestFullScreen({
            direction: 0
          });
          videoPlayer.context.play();
        });
      }
      function playAudio(audioMessage) {
        let playingMessage = audioPlayer.playingMessage;
        if (playingMessage) {
          innerAudioContext.stop();
          if (playingMessage.ID === audioMessage.ID) {
            return;
          }
        }
        audioPlayer.playingMessage = audioMessage;
        innerAudioContext.src = audioMessage.payload.url;
        innerAudioContext.play();
      }
      function onVideoFullScreenChange(e2) {
        if (videoPlayer.visible && !e2.detail.fullScreen) {
          videoPlayer.visible = false;
          videoPlayer.context.stop();
        }
      }
      function switchEmojiKeyboard() {
        emoji.visible = !emoji.visible;
        otherTypesMessagePanelVisible.value = false;
      }
      function showOtherTypesMessagePanel() {
        otherTypesMessagePanelVisible.value = !otherTypesMessagePanelVisible.value;
        emoji.visible = false;
      }
      function chooseEmoji(emojiKey) {
        text.value += emojiKey;
      }
      const privateCall = () => {
        uni.showActionSheet({
          itemList: ["视频通话", "音频通话"],
          success: (res2) => {
            if (res2.tapIndex === 0) {
              videoCalling(2);
            } else if (res2.tapIndex === 1) {
              videoCalling(1);
            }
          },
          fail: (res2) => {
            formatAppLog("log", "at pages/message/private-chat.vue:996", res2.errMsg);
          }
        });
      };
      const { startCall, hangupCall, destroy } = useTUICallKit();
      const videoCalling = async (val2) => {
        const currentUser = uni.getStorageSync("currentUser");
        formatAppLog("log", "at pages/message/private-chat.vue:1018", {
          SDKAppID: "1600116083",
          userID: currentUser.id,
          calleeUserID: friend.id,
          callMediaType: val2
          // 视频通话
        });
        try {
          const currentUser2 = uni.getStorageSync("currentUser");
          await startCall({
            SDKAppID: "1600116083",
            userID: currentUser2.id,
            calleeUserID: friend.id,
            callMediaType: val2
            // 视频通话
          });
        } catch (err) {
          formatAppLog("error", "at pages/message/private-chat.vue:1034", "发起通话失败", err);
        }
      };
      function scrollToBottom() {
        vue.nextTick(() => {
          uni.pageScrollTo({
            scrollTop: 2e6,
            duration: 0
          });
        });
      }
      async function markConversationAsRead() {
        try {
          await waitSDKReady2();
          await tim2.value.setMessageRead({ conversationID });
          formatAppLog("log", "at pages/message/private-chat.vue:1061", "标记会话已读成功");
        } catch (imError) {
          formatAppLog("warn", "at pages/message/private-chat.vue:1063", "标记会话已读失败:", imError);
        }
      }
      async function markMessageAsRead(message2) {
        if (message2.from !== userId) {
          try {
            await waitSDKReady2();
            await tim2.value.setMessageRead({
              conversationID,
              messageID: message2.ID
            });
          } catch (imError) {
            formatAppLog("warn", "at pages/message/private-chat.vue:1081", "标记消息已读失败:", imError);
          }
        }
      }
      async function checkMessagePolicy(content = "") {
        try {
          const currentUser = uni.getStorageSync("currentUser");
          if (!currentUser || !currentUser.id || !friend || !friend.id) {
            uni.showToast({ title: "用户信息不完整", icon: "none" });
            return false;
          }
          const params = {
            fromUserId: currentUser.id,
            toUserId: friend.id,
            content,
            ordered: false
            // 根据实际业务逻辑确定是否已下单
            // expireSeconds: 1 // 可选参数，根据需要添加
          };
          const { data, code: code2 } = await checkPolicy(params);
          if (code2 !== 0) {
            uni.showToast({ title: data.msg || "检查失败", icon: "none" });
            return false;
          }
          if (!data.allowed) {
            let message2 = data.message || "发送消息失败";
            if (!message2) {
              switch (data.limitType) {
                case "SENSITIVE":
                  message2 = "消息包含敏感词，请修改后重试";
                  break;
                case "FREE_LIMIT":
                  message2 = `未下单，剩余免费条数: ${data.remainFreeMessages}`;
                  break;
                case "RATE_LIMIT":
                  message2 = `发送频率过高，请稍后再试`;
                  break;
                case "COMPLAINT_RESTRICT":
                  message2 = "因被投诉，您的消息发送受到限制";
                  break;
                case "BANNED":
                  message2 = "您已被封禁，无法发送消息";
                  break;
                default:
                  message2 = "不允许发送消息";
              }
            }
            uni.showToast({ title: message2, icon: "none" });
            return false;
          }
          return true;
        } catch (error) {
          formatAppLog("error", "at pages/message/private-chat.vue:1147", "检查消息发送权限失败:", error);
          uni.showToast({ title: "检查权限失败", icon: "none" });
          return false;
        }
      }
      const chattingList = vue.reactive([
        { name: "备注", type: "remark" },
        { name: "关注", type: "attention" },
        { name: "置顶", type: "top" },
        { name: "举报/投诉", type: "report" },
        { name: "取消", type: "cancel" }
      ]);
      const popup = vue.ref(null);
      const chattingFunction = () => {
        popup.value.open("bottom");
      };
      const selectChatting = (item) => {
        switch (item) {
          case "remark":
            formatAppLog("log", "at pages/message/private-chat.vue:1168", "remark");
            break;
          case "attention":
            formatAppLog("log", "at pages/message/private-chat.vue:1171", "attention");
            break;
          case "top":
            let promise2 = tim2.value.pinConversation({
              conversationID,
              isPinned: true
            });
            promise2.then(() => {
              uni.showToast({
                title: "置顶成功",
                icon: "none"
              });
            });
            break;
          case "report":
            uni.navigateTo({
              url: `/pages/settings/complaint?id=${friend.id}`
            });
            break;
          case "cancel":
            popup.value.close();
            break;
        }
        popup.value.close();
      };
      const requestPermissions = async () => {
        return new Promise((resolve, reject) => {
          const permissions = [
            "android.permission.CAMERA",
            "android.permission.RECORD_AUDIO"
          ];
          plus.android.requestPermissions(permissions, (result) => {
            const allGranted = result.every((item) => item.granted);
            if (allGranted) {
              resolve(true);
            } else {
              uni.showToast({
                title: "请授予相机和麦克风权限，否则无法使用通话功能",
                icon: "none",
                duration: 3e3
              });
              reject(false);
            }
          }, (error) => {
            uni.showToast({ title: "权限申请失败：" + error.message, icon: "none" });
            reject(false);
          });
        });
      };
      const initTUICallKit = async () => {
        if (!tuicallkit)
          return;
        try {
          const hasPermission = await requestPermissions();
          if (!hasPermission)
            return;
          const currentUser = uni.getStorageSync("currentUser");
          if (!currentUser || !currentUser.id) {
            uni.showToast({ title: "请先登录", icon: "none" });
            return false;
          }
          const { data } = await tencentSigTrtc({ userId: currentUser.id });
          if (!data.userSig) {
            uni.showToast({ title: "获取通话签名失败", icon: "none" });
            return false;
          }
          const result = tuicallkit.init({
            sdkAppID: 1600116083,
            // 替换为你的SDKAppID
            userId: currentUser.id,
            userSig: data.userSig
          });
          if (result.code === 0) {
            formatAppLog("log", "at pages/message/private-chat.vue:1264", "TUICallKit初始化成功");
            setupTUICallKitListener();
            return true;
          } else {
            formatAppLog("error", "at pages/message/private-chat.vue:1268", "TUICallKit初始化失败:", result.msg);
            uni.showToast({ title: "初始化通话失败", icon: "none" });
            return false;
          }
        } catch (error) {
          formatAppLog("error", "at pages/message/private-chat.vue:1273", "初始化通话异常:", error);
          uni.showToast({ title: "初始化通话异常", icon: "none" });
          return false;
        }
      };
      const setupTUICallKitListener = () => {
        if (!tuicallkit)
          return;
        tuicallkit.setListener((event) => {
          switch (event.type) {
            case "callReceived":
              handleIncomingCall(event.data);
              break;
            case "callBegin":
              uni.showToast({ title: "通话开始", icon: "none" });
              break;
            case "callEnd":
              uni.showToast({ title: `通话结束，时长${event.data.duration}秒`, icon: "none" });
              break;
            case "callFailed":
              uni.showToast({ title: `通话失败: ${event.data.message}`, icon: "none" });
              break;
          }
        });
      };
      const handleIncomingCall = (data) => {
        if (!tuicallkit)
          return;
        uni.showModal({
          title: `收到${data.callType === 1 ? "视频" : "语音"}通话`,
          content: `来自 ${data.caller} 的通话`,
          showCancel: true,
          confirmText: "接听",
          cancelText: "挂断",
          success: (res2) => {
            if (res2.confirm) {
              tuicallkit.accept({
                callID: data.callID
              });
            } else if (res2.cancel) {
              tuicallkit.reject({
                callID: data.callID
              });
            }
          }
        });
      };
      onUnload(() => {
        innerAudioContext.stop();
        if (tuicallkit) {
          tuicallkit.hangupAll();
          tuicallkit.removeListener();
        }
        if (tim2.value) {
          tim2.value.off(tim2.value.EVENT.MESSAGE_RECEIVED, onMessageReceived);
          tim2.value.off(tim2.value.EVENT.MESSAGE_REVOKED, onMessageRevoked);
          tim2.value.off(tim2.value.EVENT.MESSAGE_READ_BY_PEER, onMessageReadByPeer);
        }
        destroy();
      });
      const __returned__ = { tuicallkit, globalStore, statusBarHeight, backFn, text, get friend() {
        return friend;
      }, set friend(v2) {
        friend = v2;
      }, get conversationID() {
        return conversationID;
      }, set conversationID(v2) {
        conversationID = v2;
      }, tim: tim2, isLogin, userId, sdkReady, checkLoginStatus, waitSDKReady: waitSDKReady2, onTIMEvent, currentUserAvatar, get avatar() {
        return avatar;
      }, set avatar(v2) {
        avatar = v2;
      }, instance, IMAGE_MAX_WIDTH, IMAGE_MAX_HEIGHT, emojiUrl, emojiMap, recorderManager, emoji, otherTypesMessagePanelVisible, orderList: orderList2, history, audioVisible, innerAudioContext, audioPlayer, videoPlayer, actionPopup, messageSelector, isCompleteds, renderTextMessage, renderMessageDate, TIM_EVENT, initialTIMListeners, initialTIMLStates, onMessageReceived, onMessageRevoked, onMessageReadByPeer, initialAudioPlayer, initRecorderListeners, sendSoundMessage, getImageHeight, sendMessage, sendTextMessage, sendImageMessage, sendOrderMessage, showActionPopup, hideActionPopup, deleteSingleMessage, deleteMultipleMessages, deleteMessage, recallMessage, editRecalledMessage, showCheckBox, selectMessages, loadHistoryMessage, switchAudioKeyboard, onRecordStart, onRecordEnd, showImageFullScreen, playVideo, playAudio, onVideoFullScreenChange, switchEmojiKeyboard, showOtherTypesMessagePanel, chooseEmoji, privateCall, startCall, hangupCall, destroy, videoCalling, scrollToBottom, markConversationAsRead, markMessageAsRead, checkMessagePolicy, chattingList, popup, chattingFunction, selectChatting, requestPermissions, initTUICallKit, setupTUICallKitListener, handleIncomingCall, ref: vue.ref, reactive: vue.reactive, nextTick: vue.nextTick, getCurrentInstance: vue.getCurrentInstance, get onLoad() {
        return onLoad;
      }, get onShow() {
        return onShow;
      }, get onReady() {
        return onReady;
      }, get onUnload() {
        return onUnload;
      }, get onPullDownRefresh() {
        return onPullDownRefresh;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get EmojiDecoder() {
        return EmojiDecoder;
      }, get restApi() {
        return restApi;
      }, get TIM() {
        return TIM$1;
      }, get formatDate() {
        return formatDate$1;
      }, get RecorderManager() {
        return RecorderManager;
      }, get tencentSigIm() {
        return tencentSigIm;
      }, get tencentSigTrtc() {
        return tencentSigTrtc;
      }, get checkPolicy() {
        return checkPolicy;
      }, get useTIM() {
        return useTIM;
      }, get formatMessageTime() {
        return formatMessageTime;
      }, get shouldShowTime() {
        return shouldShowTime;
      }, get useTUICallKit() {
        return useTUICallKit;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$S(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([_ctx.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          leftWidth: "300rpx"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            }),
            vue.createElementVNode("image", {
              src: $setup.friend.avatar,
              style: { "width": "50rpx", "height": "50rpx", "border-radius": "50%", "margin": "0 10rpx" }
            }, null, 8, ["src"]),
            vue.createElementVNode(
              "view",
              null,
              vue.toDisplayString($setup.friend.name),
              1
              /* TEXT */
            )
          ]),
          container: vue.withCtx(() => []),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", {
              class: "right",
              onClick: $setup.chattingFunction
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "more-filled",
                size: "30",
                onClick: _ctx.moreFn
              }, null, 8, ["onClick"])
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"]),
        vue.createElementVNode("view", { class: "uni-padding-wrap" }, [
          vue.createVNode(_component_uni_icons, {
            type: "info",
            size: "15",
            color: "#FF8F1F"
          }),
          vue.createElementVNode("view", null, "为了保障您的合法权益，请不要脱离平台与老师私下联系、缴费。")
        ])
      ]),
      vue.createElementVNode("view", { class: "scroll-view" }, [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass($setup.isCompleteds ? "history-loaded" : "")
          },
          [
            vue.createElementVNode(
              "view",
              null,
              vue.toDisplayString($setup.isCompleteds ? "已经没有更多的历史消息" : ""),
              1
              /* TEXT */
            )
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode(
          "checkbox-group",
          { onChange: $setup.selectMessages },
          [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.history.messages, (message2, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: message2.ID
                }, [
                  $setup.shouldShowTime(index, $setup.history.messages) ? (vue.openBlock(), vue.createElementBlock(
                    "view",
                    {
                      key: 0,
                      class: "message-time"
                    },
                    vue.toDisplayString($setup.formatMessageTime(message2.time)),
                    1
                    /* TEXT */
                  )) : vue.createCommentVNode("v-if", true),
                  vue.createElementVNode("view", { class: "message-item" }, [
                    message2.flow === "in" ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "message-item-right"
                    }, [
                      vue.createElementVNode("view", { class: "right-content" }, [
                        vue.createElementVNode("image", {
                          src: $setup.friend.avatar
                        }, null, 8, ["src"]),
                        message2.type === "TIMTextElem" ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "text-content",
                          innerHTML: $setup.renderTextMessage(message2)
                        }, null, 8, ["innerHTML"])) : vue.createCommentVNode("v-if", true)
                      ])
                    ])) : (vue.openBlock(), vue.createElementBlock("view", {
                      key: 1,
                      class: "message-item-left"
                    }, [
                      vue.createElementVNode("view", { class: "left-content" }, [
                        message2.type === "TIMTextElem" ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "text-content",
                          innerHTML: $setup.renderTextMessage(message2)
                        }, null, 8, ["innerHTML"])) : vue.createCommentVNode("v-if", true),
                        vue.createElementVNode("image", { src: $setup.currentUserAvatar }, null, 8, ["src"])
                      ])
                    ]))
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ],
          32
          /* NEED_HYDRATION */
        )
      ]),
      !$setup.videoPlayer.visible && !$setup.messageSelector.visible ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "action-box"
      }, [
        vue.createElementVNode("view", { class: "action-top" }, [
          vue.createElementVNode("view", { class: "action-middle" }, [
            vue.createElementVNode("view", { class: "action-item" }, "立即倾诉"),
            vue.createElementVNode("view", { class: "action-item" }, "老师简介"),
            vue.createElementVNode("view", { class: "action-item" }, "查看评论")
          ]),
          vue.createElementVNode("view", { class: "action-bottom-box" }, [
            vue.createElementVNode("view", { onClick: $setup.switchAudioKeyboard }, [
              $setup.audioVisible ? (vue.openBlock(), vue.createElementBlock("image", {
                key: 0,
                class: "more",
                src: _imports_0$6
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                class: "more",
                src: _imports_1$3
              }))
            ]),
            $setup.audioVisible ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                class: "record-input",
                onTouchend: vue.withModifiers($setup.onRecordEnd, ["stop"]),
                onTouchstart: vue.withModifiers($setup.onRecordStart, ["stop"])
              },
              vue.toDisplayString($setup.recorderManager.recording ? "松开发送" : "按住说话"),
              33
              /* TEXT, NEED_HYDRATION */
            )) : vue.withDirectives((vue.openBlock(), vue.createElementBlock(
              "input",
              {
                key: 1,
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.text = $event),
                onConfirm: $setup.sendTextMessage,
                class: "consult-input",
                maxlength: "700",
                placeholder: "发送消息",
                type: "text"
              },
              null,
              544
              /* NEED_HYDRATION, NEED_PATCH */
            )), [
              [vue.vModelText, $setup.text]
            ]),
            vue.createElementVNode("view", { onClick: $setup.switchEmojiKeyboard }, [
              $setup.emoji.visible ? (vue.openBlock(), vue.createElementBlock("image", {
                key: 0,
                class: "more",
                src: _imports_0$6
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                class: "more",
                src: _imports_2$1
              }))
            ]),
            vue.createElementVNode("view", null, [
              vue.createElementVNode("image", {
                onClick: _cache[1] || (_cache[1] = ($event) => $setup.showOtherTypesMessagePanel()),
                class: "more",
                src: _imports_3
              })
            ]),
            $setup.text ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 2,
              class: "send-btn-box"
            }, [
              vue.createElementVNode("text", {
                class: "btn",
                onClick: _cache[2] || (_cache[2] = ($event) => $setup.sendTextMessage())
              }, "发送")
            ])) : vue.createCommentVNode("v-if", true)
          ])
        ]),
        $setup.emoji.visible ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "action-bottom action-bottom-emoji"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.emoji.map, (emojiItem, emojiKey, index) => {
              return vue.openBlock(), vue.createElementBlock("image", {
                class: "emoji-item",
                key: index,
                src: $setup.emoji.url + emojiItem,
                onClick: ($event) => $setup.chooseEmoji(emojiKey)
              }, null, 8, ["src", "onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true),
        $setup.otherTypesMessagePanelVisible ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "action-bottom"
        }, [
          vue.createElementVNode("view", { class: "more-icon" }, [
            vue.createElementVNode("image", {
              onClick: _cache[3] || (_cache[3] = ($event) => $setup.sendImageMessage()),
              class: "operation-icon",
              src: _imports_4
            }),
            vue.createElementVNode("view", { class: "operation-title" }, "图片")
          ]),
          vue.createElementVNode("view", { class: "more-icon" }, [
            vue.createElementVNode("image", {
              onClick: _cache[4] || (_cache[4] = ($event) => $setup.privateCall()),
              class: "operation-icon",
              src: _imports_5
            }),
            vue.createElementVNode("view", { class: "operation-title" }, "视频通话")
          ])
        ])) : vue.createCommentVNode("v-if", true)
      ])) : vue.createCommentVNode("v-if", true),
      $setup.actionPopup.visible ? (vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 1,
          class: "action-popup",
          onTouchmove: _cache[5] || (_cache[5] = vue.withModifiers(() => {
          }, ["stop", "prevent"]))
        },
        [
          vue.createElementVNode("view", { class: "layer" }),
          vue.createElementVNode("view", { class: "action-list" }, [
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: $setup.deleteSingleMessage
            }, "删除"),
            $setup.actionPopup.recallable ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "action-item",
              onClick: $setup.recallMessage
            }, "撤回")) : vue.createCommentVNode("v-if", true),
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: $setup.showCheckBox
            }, "多选"),
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: $setup.hideActionPopup
            }, "取消")
          ])
        ],
        32
        /* NEED_HYDRATION */
      )) : vue.createCommentVNode("v-if", true),
      $setup.messageSelector.visible ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 2,
        class: "messageSelector-box"
      }, [
        vue.createElementVNode("image", {
          class: "messageSelector-btn",
          onClick: $setup.deleteMultipleMessages,
          src: _imports_6
        })
      ])) : vue.createCommentVNode("v-if", true),
      $setup.recorderManager.recording ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 3,
        class: "record-loading"
      })) : vue.createCommentVNode("v-if", true),
      $setup.videoPlayer.visible ? (vue.openBlock(), vue.createElementBlock("video", {
        key: 4,
        src: $setup.videoPlayer.url,
        id: "videoPlayer",
        onFullscreenchange: $setup.onVideoFullScreenChange
      }, null, 40, ["src"])) : vue.createCommentVNode("v-if", true),
      $setup.orderList.visible ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 5,
        class: "order-list"
      }, [
        vue.createElementVNode("view", { class: "orders-content" }, [
          vue.createElementVNode("view", { class: "title" }, [
            vue.createElementVNode("view", null, "请选择一个订单"),
            vue.createElementVNode("view", {
              class: "close",
              onClick: _cache[6] || (_cache[6] = (...args) => _ctx.hideOrderMessageList && _ctx.hideOrderMessageList(...args))
            }, "×")
          ]),
          vue.createElementVNode("view", { class: "orders" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.orderList.orders, (order, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: "order-item",
                  onClick: ($event) => $setup.sendOrderMessage(order)
                }, [
                  vue.createElementVNode(
                    "view",
                    { class: "order-id" },
                    "订单号：" + vue.toDisplayString(order.id),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "order-body" }, [
                    vue.createElementVNode("image", {
                      src: order.url,
                      class: "order-img"
                    }, null, 8, ["src"]),
                    vue.createElementVNode(
                      "view",
                      { class: "order-name" },
                      vue.toDisplayString(order.name),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "order-right" }, [
                      vue.createElementVNode(
                        "view",
                        { class: "order-price" },
                        vue.toDisplayString(order.price),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "view",
                        { class: "order-count" },
                        "共" + vue.toDisplayString(order.count) + "件",
                        1
                        /* TEXT */
                      )
                    ])
                  ])
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "message"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-content" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.chattingList, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    key: index,
                    onClick: ($event) => $setup.selectChatting(item.type),
                    class: "popup-item"
                  }, vue.toDisplayString(item.name), 9, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesMessagePrivateChat = /* @__PURE__ */ _export_sfc(_sfc_main$T, [["render", _sfc_render$S], ["__scopeId", "data-v-2afa2121"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/message/private-chat.vue"]]);
  const _sfc_main$S = {
    name: "u-button",
    emits: ["click", "getphonenumber", "getuserinfo", "error", "opensetting", "launchapp", "chooseavatar"],
    props: {
      // 是否细边框
      hairLine: {
        type: Boolean,
        default: true
      },
      // 按钮的预置样式，default，primary，error，warning，success
      type: {
        type: String,
        default: "default"
      },
      // 按钮尺寸，default，medium，mini
      size: {
        type: String,
        default: "default"
      },
      // 按钮形状，circle（两边为半圆），square（带圆角）
      shape: {
        type: String,
        default: "square"
      },
      // 按钮是否镂空
      plain: {
        type: Boolean,
        default: false
      },
      // 是否禁止状态
      disabled: {
        type: Boolean,
        default: false
      },
      // 是否加载中
      loading: {
        type: Boolean,
        default: false
      },
      // 开放能力，具体请看uniapp稳定关于button组件部分说明
      // https://uniapp.dcloud.io/component/button
      openType: {
        type: String,
        default: ""
      },
      // 用于 <form> 组件，点击分别会触发 <form> 组件的 submit/reset 事件
      // 取值为submit（提交表单），reset（重置表单）
      formType: {
        type: String,
        default: ""
      },
      // 打开 APP 时，向 APP 传递的参数，open-type=launchApp时有效
      // 只微信小程序、QQ小程序有效
      appParameter: {
        type: String,
        default: ""
      },
      // 指定是否阻止本节点的祖先节点出现点击态，微信小程序有效
      hoverStopPropagation: {
        type: Boolean,
        default: false
      },
      // 指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。只微信小程序有效
      lang: {
        type: String,
        default: "en"
      },
      // 会话来源，open-type="contact"时有效。只微信小程序有效
      sessionFrom: {
        type: String,
        default: ""
      },
      // 会话内消息卡片标题，open-type="contact"时有效
      // 默认当前标题，只微信小程序有效
      sendMessageTitle: {
        type: String,
        default: ""
      },
      // 会话内消息卡片点击跳转小程序路径，open-type="contact"时有效
      // 默认当前分享路径，只微信小程序有效
      sendMessagePath: {
        type: String,
        default: ""
      },
      // 会话内消息卡片图片，open-type="contact"时有效
      // 默认当前页面截图，只微信小程序有效
      sendMessageImg: {
        type: String,
        default: ""
      },
      // 是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示"可能要发送的小程序"提示，
      // 用户点击后可以快速发送小程序消息，open-type="contact"时有效
      showMessageCard: {
        type: Boolean,
        default: false
      },
      // 手指按（触摸）按钮时按钮时的背景颜色
      hoverBgColor: {
        type: String,
        default: ""
      },
      // 水波纹的背景颜色
      rippleBgColor: {
        type: String,
        default: ""
      },
      // 是否开启水波纹效果
      ripple: {
        type: Boolean,
        default: false
      },
      // 按下的类名
      hoverClass: {
        type: String,
        default: ""
      },
      // 自定义样式，对象形式
      customStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 额外传参参数，用于小程序的data-xxx属性，通过target.dataset.name获取
      dataName: {
        type: String,
        default: ""
      },
      // 节流，一定时间内只能触发一次
      throttleTime: {
        type: [String, Number],
        default: 500
      },
      // 按住后多久出现点击态，单位毫秒
      hoverStartTime: {
        type: [String, Number],
        default: 20
      },
      // 手指松开后点击态保留时间，单位毫秒
      hoverStayTime: {
        type: [String, Number],
        default: 150
      },
      timerId: {
        type: [String, Number]
      }
    },
    computed: {
      // 当没有传bgColor变量时，按钮按下去的颜色类名
      getHoverClass() {
        if (this.loading || this.disabled || this.ripple || this.hoverClass)
          return "";
        let hoverClass = "";
        hoverClass = this.plain ? "u-" + this.type + "-plain-hover" : "u-" + this.type + "-hover";
        return hoverClass;
      },
      // 在'primary', 'success', 'error', 'warning'类型下，不显示边框，否则会造成四角有毛刺现象
      showHairLineBorder() {
        if (["primary", "success", "error", "warning"].indexOf(this.type) >= 0 && !this.plain) {
          return "";
        } else {
          return "u-hairline-border";
        }
      }
    },
    data() {
      let btnTimerId = this.timerId || "button_" + Math.floor(Math.random() * 1e8 + 0);
      return {
        btnTimerId,
        rippleTop: 0,
        // 水波纹的起点Y坐标到按钮上边界的距离
        rippleLeft: 0,
        // 水波纹起点X坐标到按钮左边界的距离
        fields: {},
        // 波纹按钮节点信息
        waveActive: false
        // 激活水波纹
      };
    },
    methods: {
      // 按钮点击
      click(e2) {
        this.$u.throttle(() => {
          if (this.loading === true || this.disabled === true)
            return;
          if (this.ripple) {
            this.waveActive = false;
            this.$nextTick(function() {
              this.getWaveQuery(e2);
            });
          }
          this.$emit("click", e2);
        }, this.throttleTime, true, this.btnTimerId);
      },
      // 查询按钮的节点信息
      getWaveQuery(e2) {
        this.getElQuery().then((res2) => {
          let data = res2[0];
          if (!data.width || !data.width)
            return;
          data.targetWidth = data.height > data.width ? data.height : data.width;
          if (!data.targetWidth)
            return;
          this.fields = data;
          let touchesX = "", touchesY = "";
          touchesX = e2.touches[0].clientX;
          touchesY = e2.touches[0].clientY;
          this.rippleTop = touchesY - data.top - data.targetWidth / 2;
          this.rippleLeft = touchesX - data.left - data.targetWidth / 2;
          this.$nextTick(() => {
            this.waveActive = true;
          });
        });
      },
      // 获取节点信息
      getElQuery() {
        return new Promise((resolve) => {
          let queryInfo = "";
          queryInfo = uni.createSelectorQuery().in(this);
          queryInfo.select(".u-btn").boundingClientRect();
          queryInfo.exec((data) => {
            resolve(data);
          });
        });
      },
      // 下面为对接uniapp官方按钮开放能力事件回调的对接
      getphonenumber(res2) {
        this.$emit("getphonenumber", res2);
      },
      getuserinfo(res2) {
        this.$emit("getuserinfo", res2);
      },
      error(res2) {
        this.$emit("error", res2);
      },
      opensetting(res2) {
        this.$emit("opensetting", res2);
      },
      launchapp(res2) {
        this.$emit("launchapp", res2);
      },
      chooseavatar(res2) {
        this.$emit("chooseavatar", res2);
      }
    }
  };
  function _sfc_render$R(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("button", {
      id: "u-wave-btn",
      class: vue.normalizeClass(["u-btn u-line-1 u-fix-ios-appearance", [
        "u-size-" + $props.size,
        $props.plain ? "u-btn--" + $props.type + "--plain" : "",
        $props.loading ? "u-loading" : "",
        $props.shape == "circle" ? "u-round-circle" : "",
        $props.hairLine ? $options.showHairLineBorder : "u-btn--bold-border",
        "u-btn--" + $props.type,
        $props.disabled ? `u-btn--${$props.type}--disabled` : ""
      ]]),
      "hover-start-time": Number($props.hoverStartTime),
      "hover-stay-time": Number($props.hoverStayTime),
      disabled: $props.disabled,
      "form-type": $props.formType,
      "open-type": $props.openType,
      "app-parameter": $props.appParameter,
      "hover-stop-propagation": $props.hoverStopPropagation,
      "send-message-title": $props.sendMessageTitle,
      "send-message-path": "sendMessagePath",
      lang: $props.lang,
      "data-name": $props.dataName,
      "session-from": $props.sessionFrom,
      "send-message-img": $props.sendMessageImg,
      "show-message-card": $props.showMessageCard,
      onGetphonenumber: _cache[0] || (_cache[0] = (...args) => $options.getphonenumber && $options.getphonenumber(...args)),
      onGetuserinfo: _cache[1] || (_cache[1] = (...args) => $options.getuserinfo && $options.getuserinfo(...args)),
      onError: _cache[2] || (_cache[2] = (...args) => $options.error && $options.error(...args)),
      onOpensetting: _cache[3] || (_cache[3] = (...args) => $options.opensetting && $options.opensetting(...args)),
      onLaunchapp: _cache[4] || (_cache[4] = (...args) => $options.launchapp && $options.launchapp(...args)),
      onChooseavatar: _cache[5] || (_cache[5] = (...args) => $options.chooseavatar && $options.chooseavatar(...args)),
      style: vue.normalizeStyle([$props.customStyle, {
        overflow: $props.ripple ? "hidden" : "visible"
      }]),
      onClick: _cache[6] || (_cache[6] = vue.withModifiers(($event) => $options.click($event), ["stop"])),
      "hover-class": $options.getHoverClass,
      loading: $props.loading
    }, [
      vue.renderSlot(_ctx.$slots, "default", {}, void 0, true),
      $props.ripple ? (vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 0,
          class: vue.normalizeClass(["u-wave-ripple", [$data.waveActive ? "u-wave-active" : ""]]),
          style: vue.normalizeStyle({
            top: $data.rippleTop + "px",
            left: $data.rippleLeft + "px",
            width: $data.fields.targetWidth + "px",
            height: $data.fields.targetWidth + "px",
            "background-color": $props.rippleBgColor || "rgba(0, 0, 0, 0.15)"
          })
        },
        null,
        6
        /* CLASS, STYLE */
      )) : vue.createCommentVNode("v-if", true)
    ], 46, ["hover-start-time", "hover-stay-time", "disabled", "form-type", "open-type", "app-parameter", "hover-stop-propagation", "send-message-title", "lang", "data-name", "session-from", "send-message-img", "show-message-card", "hover-class", "loading"]);
  }
  const __easycom_1$2 = /* @__PURE__ */ _export_sfc(_sfc_main$S, [["render", _sfc_render$R], ["__scopeId", "data-v-097def2b"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-button/u-button.vue"]]);
  function getSystemInfoSync() {
    return uni.getSystemInfoSync();
  }
  let systemInfo = getSystemInfoSync();
  let menuButtonInfo = {};
  const _sfc_main$R = {
    name: "u-navbar",
    props: {
      // 导航栏高度，单位px，非rpx
      height: {
        type: [String, Number],
        default: ""
      },
      // 返回箭头的颜色
      backIconColor: {
        type: String,
        default: "#606266"
      },
      // 左边返回的图标
      backIconName: {
        type: String,
        default: "nav-back"
      },
      // 左边返回图标的大小，rpx
      backIconSize: {
        type: [String, Number],
        default: "44"
      },
      // 返回的文字提示
      backText: {
        type: String,
        default: ""
      },
      // 返回的文字的 样式
      backTextStyle: {
        type: Object,
        default() {
          return {
            color: "#606266"
          };
        }
      },
      // 导航栏标题
      title: {
        type: String,
        default: ""
      },
      // 标题的宽度，如果需要自定义右侧内容，且右侧内容很多时，可能需要减少这个宽度，单位rpx
      titleWidth: {
        type: [String, Number],
        default: "250"
      },
      // 标题的颜色
      titleColor: {
        type: String,
        default: "#606266"
      },
      // 标题字体是否加粗
      titleBold: {
        type: Boolean,
        default: false
      },
      // 标题的字体大小
      titleSize: {
        type: [String, Number],
        default: 32
      },
      isBack: {
        type: [Boolean, String],
        default: true
      },
      // 对象形式，因为用户可能定义一个纯色，或者线性渐变的颜色
      background: {
        type: Object,
        default() {
          return {
            background: "#ffffff"
          };
        }
      },
      // 导航栏是否固定在顶部
      isFixed: {
        type: Boolean,
        default: true
      },
      // 是否沉浸式，允许fixed定位后导航栏塌陷，仅fixed定位下生效
      immersive: {
        type: Boolean,
        default: false
      },
      // 是否显示导航栏的下边框
      borderBottom: {
        type: Boolean,
        default: true
      },
      zIndex: {
        type: [String, Number],
        default: ""
      },
      // 自定义返回逻辑
      customBack: {
        type: Function,
        default: null
      }
    },
    data() {
      return {
        menuButtonInfo,
        statusBarHeight: systemInfo.statusBarHeight
      };
    },
    computed: {
      // 导航栏内部盒子的样式
      navbarInnerStyle() {
        let style = {};
        style.height = this.navbarHeight + "px";
        return style;
      },
      // 整个导航栏的样式
      navbarStyle() {
        let style = {};
        style.zIndex = this.zIndex ? this.zIndex : this.$u.zIndex.navbar;
        Object.assign(style, this.background);
        return style;
      },
      // 导航中间的标题的样式
      titleStyle() {
        let style = {};
        style.left = (systemInfo.windowWidth - uni.upx2px(this.titleWidth)) / 2 + "px";
        style.right = (systemInfo.windowWidth - uni.upx2px(this.titleWidth)) / 2 + "px";
        style.width = uni.upx2px(this.titleWidth) + "px";
        return style;
      },
      // 转换字符数值为真正的数值
      navbarHeight() {
        return this.height ? this.height : 44;
      }
    },
    created() {
    },
    methods: {
      goBack() {
        if (typeof this.customBack === "function") {
          this.customBack.bind(this.$u.$parent.call(this))();
        } else {
          uni.navigateBack();
        }
      }
    }
  };
  function _sfc_render$Q(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "" }, [
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["u-navbar", { "u-navbar-fixed": $props.isFixed, "u-border-bottom": $props.borderBottom }]),
          style: vue.normalizeStyle([$options.navbarStyle])
        },
        [
          vue.createElementVNode(
            "view",
            {
              class: "u-status-bar",
              style: vue.normalizeStyle({ height: $data.statusBarHeight + "px" })
            },
            null,
            4
            /* STYLE */
          ),
          vue.createElementVNode(
            "view",
            {
              class: "u-navbar-inner",
              style: vue.normalizeStyle([$options.navbarInnerStyle])
            },
            [
              $props.isBack ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "u-back-wrap",
                onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
              }, [
                vue.createElementVNode("view", { class: "u-icon-wrap" }, [
                  vue.createVNode(_component_u_icon, {
                    name: $props.backIconName,
                    color: $props.backIconColor,
                    size: $props.backIconSize
                  }, null, 8, ["name", "color", "size"])
                ]),
                $props.backText ? (vue.openBlock(), vue.createElementBlock(
                  "view",
                  {
                    key: 0,
                    class: "u-icon-wrap u-back-text u-line-1",
                    style: vue.normalizeStyle([$props.backTextStyle])
                  },
                  vue.toDisplayString($props.backText),
                  5
                  /* TEXT, STYLE */
                )) : vue.createCommentVNode("v-if", true)
              ])) : vue.createCommentVNode("v-if", true),
              $props.title ? (vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: 1,
                  class: "u-navbar-content-title",
                  style: vue.normalizeStyle([$options.titleStyle])
                },
                [
                  vue.createElementVNode(
                    "view",
                    {
                      class: "u-title u-line-1",
                      style: vue.normalizeStyle({
                        color: $props.titleColor,
                        fontSize: $props.titleSize + "rpx",
                        fontWeight: $props.titleBold ? "bold" : "normal"
                      })
                    },
                    vue.toDisplayString($props.title),
                    5
                    /* TEXT, STYLE */
                  )
                ],
                4
                /* STYLE */
              )) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode("view", { class: "u-slot-content" }, [
                vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
              ]),
              vue.createElementVNode("view", { class: "u-slot-right" }, [
                vue.renderSlot(_ctx.$slots, "right", {}, void 0, true)
              ])
            ],
            4
            /* STYLE */
          )
        ],
        6
        /* CLASS, STYLE */
      ),
      $props.isFixed && !$props.immersive ? (vue.openBlock(), vue.createElementBlock(
        "view",
        {
          key: 0,
          class: "u-navbar-placeholder",
          style: vue.normalizeStyle({ width: "100%", height: Number($options.navbarHeight) + $data.statusBarHeight + "px" })
        },
        null,
        4
        /* STYLE */
      )) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const __easycom_0$1 = /* @__PURE__ */ _export_sfc(_sfc_main$R, [["render", _sfc_render$Q], ["__scopeId", "data-v-986be06f"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-navbar/u-navbar.vue"]]);
  const _sfc_main$Q = {
    emits: ["update:modelValue", "input", "confirm", "cancel"],
    props: {
      // 通过双向绑定控制组件的弹出与收起
      value: {
        type: Boolean,
        default: false
      },
      modelValue: {
        type: Boolean,
        default: false
      },
      // 列数据
      list: {
        type: Array,
        default() {
          return [];
        }
      },
      // 是否显示边框
      border: {
        type: Boolean,
        default: true
      },
      // "取消"按钮的颜色
      cancelColor: {
        type: String,
        default: "#606266"
      },
      // "确定"按钮的颜色
      confirmColor: {
        type: String,
        default: "#2979ff"
      },
      // 弹出的z-index值
      zIndex: {
        type: [String, Number],
        default: 0
      },
      safeAreaInsetBottom: {
        type: Boolean,
        default: false
      },
      // 是否允许通过点击遮罩关闭Picker
      maskCloseAble: {
        type: Boolean,
        default: true
      },
      // 提供的默认选中的下标
      defaultValue: {
        type: Array,
        default() {
          return [0];
        }
      },
      // 模式选择，single-column-单列，mutil-column-多列，mutil-column-auto-多列联动
      mode: {
        type: String,
        default: "single-column"
      },
      // 自定义value属性名
      valueName: {
        type: String,
        default: "value"
      },
      // 自定义label属性名
      labelName: {
        type: String,
        default: "label"
      },
      // 自定义多列联动模式的children属性名
      childName: {
        type: String,
        default: "children"
      },
      // 顶部标题
      title: {
        type: String,
        default: ""
      },
      // 取消按钮的文字
      cancelText: {
        type: String,
        default: "取消"
      },
      // 确认按钮的文字
      confirmText: {
        type: String,
        default: "确认"
      },
      // 遮罩的模糊度
      blur: {
        type: [Number, String],
        default: 0
      }
    },
    data() {
      return {
        popupValue: false,
        // 用于列改变时，保存当前的索引，下一次变化时比较得出是哪一列发生了变化
        defaultSelector: [0],
        // picker-view的数据
        columnData: [],
        // 每次队列发生变化时，保存选择的结果
        selectValue: [],
        // 上一次列变化时的index
        lastSelectIndex: [],
        // 列数
        columnNum: 0,
        // 列是否还在滑动中，微信小程序如果在滑动中就点确定，结果可能不准确
        moving: false,
        reset: false
      };
    },
    watch: {
      // 在select弹起的时候，重新初始化所有数据
      valueCom: {
        immediate: true,
        handler(val2) {
          if (val2) {
            this.reset = true;
            setTimeout(() => this.init(), 10);
          }
          this.popupValue = val2;
        }
      }
    },
    computed: {
      uZIndex() {
        return this.zIndex ? this.zIndex : this.$u.zIndex.popup;
      },
      valueCom() {
        return this.modelValue;
      },
      // 用来兼容小程序、App、h5
      showColumnCom() {
        return true;
      }
    },
    methods: {
      // 标识滑动开始，只有微信小程序才有这样的事件
      pickstart() {
      },
      // 标识滑动结束
      pickend() {
      },
      init() {
        this.reset = false;
        this.setColumnNum();
        this.setDefaultSelector();
        this.setColumnData();
        this.setSelectValue();
      },
      // 获取默认选中列下标
      setDefaultSelector() {
        this.defaultSelector = this.defaultValue.length == this.columnNum ? this.defaultValue : Array(this.columnNum).fill(0);
        this.lastSelectIndex = this.$u.deepClone(this.defaultSelector);
      },
      // 计算列数
      setColumnNum() {
        if (this.mode == "single-column")
          this.columnNum = 1;
        else if (this.mode == "mutil-column")
          this.columnNum = this.list.length;
        else if (this.mode == "mutil-column-auto") {
          let num = 1;
          let column = this.list;
          while (column[0][this.childName]) {
            column = column[0] ? column[0][this.childName] : {};
            num++;
          }
          this.columnNum = num;
        }
      },
      // 获取需要展示在picker中的列数据
      setColumnData() {
        let data = [];
        this.selectValue = [];
        if (this.mode == "mutil-column-auto") {
          let column = this.list[this.defaultSelector.length ? this.defaultSelector[0] : 0];
          for (let i2 = 0; i2 < this.columnNum; i2++) {
            if (i2 == 0) {
              data[i2] = this.list;
              column = column[this.childName];
            } else {
              data[i2] = column;
              column = column[this.defaultSelector[i2]][this.childName];
            }
          }
        } else if (this.mode == "single-column") {
          data[0] = this.list;
        } else {
          data = this.list;
        }
        this.columnData = data;
      },
      // 获取默认选中的值，如果没有设置defaultValue，就默认选中每列的第一个
      setSelectValue() {
        let tmp = null;
        for (let i2 = 0; i2 < this.columnNum; i2++) {
          tmp = this.columnData[i2][this.defaultSelector[i2]];
          let data = {
            index: this.defaultSelector[i2],
            value: tmp ? tmp[this.valueName] : null,
            label: tmp ? tmp[this.labelName] : null
          };
          if (tmp && tmp.extra !== void 0)
            data.extra = tmp.extra;
          this.selectValue.push(data);
        }
      },
      // 列选项
      columnChange(e2) {
        let index = null;
        let columnIndex = e2.detail.value;
        this.selectValue = [];
        if (this.mode == "mutil-column-auto") {
          this.lastSelectIndex.map((val2, idx) => {
            if (val2 != columnIndex[idx])
              index = idx;
          });
          this.defaultSelector = columnIndex;
          for (let i2 = index + 1; i2 < this.columnNum; i2++) {
            this.columnData[i2] = this.columnData[i2 - 1][i2 - 1 == index ? columnIndex[index] : 0][this.childName];
            this.defaultSelector[i2] = 0;
          }
          columnIndex.map((item, index2) => {
            let data = this.columnData[index2][columnIndex[index2]];
            let tmp = {
              index: columnIndex[index2],
              value: data ? data[this.valueName] : null,
              label: data ? data[this.labelName] : null
            };
            if (data && data.extra !== void 0)
              tmp.extra = data.extra;
            this.selectValue.push(tmp);
          });
          this.lastSelectIndex = columnIndex;
        } else if (this.mode == "single-column") {
          let data = this.columnData[0][columnIndex[0]];
          let tmp = {
            index: columnIndex[0],
            value: data ? data[this.valueName] : null,
            label: data ? data[this.labelName] : null
          };
          if (data && data.extra !== void 0)
            tmp.extra = data.extra;
          this.selectValue.push(tmp);
          this.lastSelectIndex = columnIndex;
        } else if (this.mode == "mutil-column") {
          columnIndex.map((item, index2) => {
            let data = this.columnData[index2][columnIndex[index2]];
            let tmp = {
              index: columnIndex[index2],
              value: data ? data[this.valueName] : null,
              label: data ? data[this.labelName] : null
            };
            if (data && data.extra !== void 0)
              tmp.extra = data.extra;
            this.selectValue.push(tmp);
          });
          this.lastSelectIndex = columnIndex;
        }
      },
      close() {
        this.$emit("input", false);
        this.$emit("update:modelValue", false);
      },
      // 点击确定或者取消
      getResult(event = null) {
        if (event)
          this.$emit(event, this.selectValue);
        this.close();
      },
      selectHandler() {
        this.$emit("click");
      }
    }
  };
  function _sfc_render$P(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_popup = resolveEasycom(vue.resolveDynamicComponent("u-popup"), __easycom_3$4);
    return vue.openBlock(), vue.createElementBlock("view", { class: "u-select" }, [
      vue.createVNode(_component_u_popup, {
        blur: $props.blur,
        maskCloseAble: $props.maskCloseAble,
        mode: "bottom",
        popup: false,
        modelValue: $data.popupValue,
        "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.popupValue = $event),
        length: "auto",
        safeAreaInsetBottom: $props.safeAreaInsetBottom,
        onClose: $options.close,
        "z-index": $options.uZIndex
      }, {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "u-select" }, [
            vue.createElementVNode(
              "view",
              {
                class: "u-select__header",
                onTouchmove: _cache[3] || (_cache[3] = vue.withModifiers(() => {
                }, ["stop", "prevent"]))
              },
              [
                vue.createElementVNode(
                  "view",
                  {
                    class: "u-select__header__cancel u-select__header__btn",
                    style: vue.normalizeStyle({ color: $props.cancelColor }),
                    "hover-class": "u-hover-class",
                    "hover-stay-time": 150,
                    onClick: _cache[0] || (_cache[0] = ($event) => $options.getResult("cancel"))
                  },
                  vue.toDisplayString($props.cancelText),
                  5
                  /* TEXT, STYLE */
                ),
                vue.createElementVNode(
                  "view",
                  { class: "u-select__header__title" },
                  vue.toDisplayString($props.title),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "view",
                  {
                    class: "u-select__header__confirm u-select__header__btn",
                    style: vue.normalizeStyle({ color: $data.moving ? $props.cancelColor : $props.confirmColor }),
                    "hover-class": "u-hover-class",
                    "hover-stay-time": 150,
                    onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers(() => {
                    }, ["stop"])),
                    onClick: _cache[2] || (_cache[2] = vue.withModifiers(($event) => $options.getResult("confirm"), ["stop"]))
                  },
                  vue.toDisplayString($props.confirmText),
                  37
                  /* TEXT, STYLE, NEED_HYDRATION */
                )
              ],
              32
              /* NEED_HYDRATION */
            ),
            vue.createElementVNode("view", { class: "u-select__body" }, [
              $data.columnData && $data.columnData.length > 0 ? (vue.openBlock(), vue.createElementBlock("picker-view", {
                key: 0,
                onChange: _cache[4] || (_cache[4] = (...args) => $options.columnChange && $options.columnChange(...args)),
                class: "u-select__body__picker-view",
                value: $data.defaultSelector,
                onPickstart: _cache[5] || (_cache[5] = (...args) => $options.pickstart && $options.pickstart(...args)),
                onPickend: _cache[6] || (_cache[6] = (...args) => $options.pickend && $options.pickend(...args))
              }, [
                $options.showColumnCom ? (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  { key: 0 },
                  vue.renderList($data.columnData, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("picker-view-column", { key: index }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList(item, (item1, index1) => {
                          return vue.openBlock(), vue.createElementBlock("view", {
                            class: "u-select__body__picker-view__item",
                            key: index1
                          }, [
                            vue.createElementVNode(
                              "view",
                              { class: "u-line-1" },
                              vue.toDisplayString(item1[$props.labelName]),
                              1
                              /* TEXT */
                            )
                          ]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                )) : vue.createCommentVNode("v-if", true)
              ], 40, ["value"])) : vue.createCommentVNode("v-if", true)
            ])
          ])
        ]),
        _: 1
        /* STABLE */
      }, 8, ["blur", "maskCloseAble", "modelValue", "safeAreaInsetBottom", "onClose", "z-index"])
    ]);
  }
  const __easycom_3$1 = /* @__PURE__ */ _export_sfc(_sfc_main$Q, [["render", _sfc_render$P], ["__scopeId", "data-v-2ab5fcb0"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-select/u-select.vue"]]);
  const _sfc_main$P = {
    __name: "supplementInfo",
    setup(__props, { expose: __expose }) {
      __expose();
      const showGender = vue.ref(false);
      const avatar = vue.ref("");
      const nickname = vue.ref("");
      const gender = vue.ref(null);
      const genders = vue.ref(["男", "女"]);
      const genderText = vue.computed(() => gender.value === "male" ? "男" : "女");
      const chooseAvatar = () => {
        formatAppLog("log", "at pages/supplementInfo/supplementInfo.vue:68", "选择头像");
        uni.chooseImage({
          count: 1,
          success: (res2) => {
            avatar.value = res2.tempFilePaths[0];
          }
        });
      };
      const chooseGender = () => {
        uni.showActionSheet({
          itemList: ["男", "女"],
          success: (res2) => {
            gender.value = res2.tapIndex === 0 ? "male" : "female";
          }
        });
      };
      const goBack = () => {
        uni.navigateBack();
      };
      const saveInfo = async () => {
        if (nickname.value == "") {
          uni.showToast({
            title: "请输入昵称",
            icon: "error"
          });
          return;
        }
        if (genderText == null) {
          uni.showToast({
            title: "请选择性别",
            icon: "error"
          });
          return;
        }
        if (avatar.value == "") {
          uni.showToast({
            title: "请选择头像",
            icon: "error"
          });
          return;
        }
        let resp = await uploadFile(baseURL$1 + "/api/common/upload", avatar.value);
        let userInfo = uni.getStorageSync("currentUser");
        userInfo.avatar = resp.data.url;
        formatAppLog("log", "at pages/supplementInfo/supplementInfo.vue:118", resp.data.url);
        userInfo.realName = nickname.value;
        userInfo.gender = genderText.value;
        formatAppLog("log", "at pages/supplementInfo/supplementInfo.vue:121", userInfo);
        let response = await updateUser(userInfo);
        if (response.code == 0) {
          uni.reLaunch({
            url: "/pages/index/index"
          });
        }
        uni.showToast({
          title: "保存成功",
          icon: "success"
        });
      };
      const __returned__ = { showGender, avatar, nickname, gender, genders, genderText, chooseAvatar, chooseGender, goBack, saveInfo, ref: vue.ref, computed: vue.computed, get uploadFile() {
        return uploadFile;
      }, get baseURL() {
        return baseURL$1;
      }, get updateUser() {
        return updateUser;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$O(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    const _component_u_navbar = resolveEasycom(vue.resolveDynamicComponent("u-navbar"), __easycom_0$1);
    const _component_u_avatar = resolveEasycom(vue.resolveDynamicComponent("u-avatar"), __easycom_2$8);
    const _component_u_select = resolveEasycom(vue.resolveDynamicComponent("u-select"), __easycom_3$1);
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "profile-page" }, [
      vue.createVNode(_component_u_navbar, { title: "个人资料" }, {
        right: vue.withCtx(() => [
          vue.createVNode(_component_u_button, {
            size: "mini",
            type: "success",
            onClick: $setup.saveInfo,
            style: { "margin-right": "30rpx" }
          }, {
            default: vue.withCtx(() => [
              vue.createTextVNode("保存")
            ]),
            _: 1
            /* STABLE */
          })
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createElementVNode("view", { class: "avatar-section" }, [
        vue.createElementVNode("view", { class: "avatar-box" }, [
          vue.createVNode(_component_u_avatar, {
            src: $setup.avatar,
            size: "128",
            onClick: $setup.chooseAvatar
          }, null, 8, ["src"])
        ])
      ]),
      vue.createElementVNode("view", { class: "info-list" }, [
        vue.createElementVNode("view", { class: "info-item" }, [
          vue.createElementVNode("text", { class: "label" }, "昵称"),
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "input",
              type: "text",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.nickname = $event),
              placeholder: "请输入",
              "placeholder-style": "color:#ccc;"
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $setup.nickname]
          ])
        ]),
        vue.createElementVNode("view", {
          class: "info-item",
          onClick: $setup.chooseGender
        }, [
          vue.createElementVNode("text", { class: "label" }, "性别"),
          vue.createElementVNode("view", { class: "right" }, [
            vue.createElementVNode(
              "text",
              { class: "value" },
              vue.toDisplayString($setup.genderText),
              1
              /* TEXT */
            ),
            vue.createVNode(_component_u_select),
            $setup.genderText == null ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 0,
              class: "arrow"
            }, "请选择")) : vue.createCommentVNode("v-if", true),
            vue.createVNode(_component_u_icon, { name: "arrow-right" })
          ])
        ])
      ])
    ]);
  }
  const PagesSupplementInfoSupplementInfo = /* @__PURE__ */ _export_sfc(_sfc_main$P, [["render", _sfc_render$O], ["__scopeId", "data-v-538e9d08"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/supplementInfo/supplementInfo.vue"]]);
  const _sfc_main$O = {
    __name: "serviceSettings",
    setup(__props, { expose: __expose }) {
      __expose();
      const type = vue.ref(null);
      onLoad((options) => {
        type.value = JSON.parse(options.type);
      });
      const gotoPersonSettingPage = () => {
        uni.navigateTo({
          url: `/pages/forum/my/userInfo?userInfo=${type.value.id}&type=${type.value.userRole}`
        });
      };
      const gotoServiceSettingPage = () => {
        uni.navigateTo({
          url: `/pages/settings/services?userInfo=${type.value}`
        });
      };
      const __returned__ = { type, gotoPersonSettingPage, gotoServiceSettingPage, get onLoad() {
        return onLoad;
      }, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$N(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { style: { "padding": "30rpx" } }, [
      vue.createElementVNode("text", null, "个人设置"),
      vue.createElementVNode("view", { class: "menu" }, [
        vue.createElementVNode("view", {
          class: "menu-item",
          style: { "border-bottom": "1rpx solid #e6e6e6" },
          onClick: $setup.gotoPersonSettingPage
        }, [
          vue.createElementVNode("text", null, "基本资料"),
          vue.createVNode(_component_u_icon, { name: "arrow-right" })
        ]),
        vue.createElementVNode("view", {
          class: "menu-item",
          onClick: $setup.gotoServiceSettingPage
        }, [
          vue.createElementVNode("text", null, "服务资料"),
          vue.createElementVNode("view", null, [
            vue.createElementVNode("text", { style: { "font-size": "26rpx", "color": "#868686" } }, "服务类型，资质证书"),
            vue.createVNode(_component_u_icon, { name: "arrow-right" })
          ])
        ])
      ])
    ]);
  }
  const PagesSettingsServiceSettings = /* @__PURE__ */ _export_sfc(_sfc_main$O, [["render", _sfc_render$N], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/serviceSettings.vue"]]);
  const _sfc_main$N = {
    __name: "help-center",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "c04bd148-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const clauses = vue.ref([]);
      const getAgreementData = async () => {
        const { data } = await getAgreement({ current: 1, size: 100, type: "5" });
        clauses.value = data.records.filter((item) => item.type === "5");
      };
      onShow(() => {
        getAgreementData();
      });
      const toggleClause = (index) => {
        clauses.value[index].expanded = !clauses.value[index].expanded;
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, backFn, clauses, getAgreementData, toggleClause, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get getAgreement() {
        return getAgreement;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$M(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "帮助中心"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "clause" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.clauses, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", { class: "clause-item" }, [
                vue.createElementVNode("view", {
                  onClick: ($event) => $setup.toggleClause(index),
                  class: "item-title"
                }, [
                  vue.createElementVNode(
                    "view",
                    null,
                    vue.toDisplayString(item.title),
                    1
                    /* TEXT */
                  ),
                  vue.createVNode(_component_uni_icons, {
                    type: item.expanded ? "up" : "down",
                    size: "15",
                    color: item.expanded ? "#eea84c" : "#57b584"
                  }, null, 8, ["type", "color"])
                ], 8, ["onClick"]),
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["item-desc", { expanded: item.expanded }])
                  },
                  [
                    vue.createElementVNode("view", {
                      innerHTML: item.content
                    }, null, 8, ["innerHTML"])
                  ],
                  2
                  /* CLASS */
                )
              ]);
            }),
            256
            /* UNKEYED_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const PagesSettingsHelpCenter = /* @__PURE__ */ _export_sfc(_sfc_main$N, [["render", _sfc_render$M], ["__scopeId", "data-v-c04bd148"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/help-center.vue"]]);
  var dayjs_min = { exports: {} };
  (function(module, exports) {
    !function(t2, e2) {
      module.exports = e2();
    }(commonjsGlobal, function() {
      var t2 = 1e3, e2 = 6e4, n2 = 36e5, r2 = "millisecond", i2 = "second", s2 = "minute", u2 = "hour", a2 = "day", o2 = "week", c2 = "month", f2 = "quarter", h2 = "year", d2 = "date", l2 = "Invalid Date", $2 = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/, y2 = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g, M2 = { name: "en", weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), ordinal: function(t3) {
        var e3 = ["th", "st", "nd", "rd"], n3 = t3 % 100;
        return "[" + t3 + (e3[(n3 - 20) % 10] || e3[n3] || e3[0]) + "]";
      } }, m2 = function(t3, e3, n3) {
        var r3 = String(t3);
        return !r3 || r3.length >= e3 ? t3 : "" + Array(e3 + 1 - r3.length).join(n3) + t3;
      }, v2 = { s: m2, z: function(t3) {
        var e3 = -t3.utcOffset(), n3 = Math.abs(e3), r3 = Math.floor(n3 / 60), i3 = n3 % 60;
        return (e3 <= 0 ? "+" : "-") + m2(r3, 2, "0") + ":" + m2(i3, 2, "0");
      }, m: function t3(e3, n3) {
        if (e3.date() < n3.date())
          return -t3(n3, e3);
        var r3 = 12 * (n3.year() - e3.year()) + (n3.month() - e3.month()), i3 = e3.clone().add(r3, c2), s3 = n3 - i3 < 0, u3 = e3.clone().add(r3 + (s3 ? -1 : 1), c2);
        return +(-(r3 + (n3 - i3) / (s3 ? i3 - u3 : u3 - i3)) || 0);
      }, a: function(t3) {
        return t3 < 0 ? Math.ceil(t3) || 0 : Math.floor(t3);
      }, p: function(t3) {
        return { M: c2, y: h2, w: o2, d: a2, D: d2, h: u2, m: s2, s: i2, ms: r2, Q: f2 }[t3] || String(t3 || "").toLowerCase().replace(/s$/, "");
      }, u: function(t3) {
        return void 0 === t3;
      } }, g2 = "en", D2 = {};
      D2[g2] = M2;
      var p2 = "$isDayjsObject", S2 = function(t3) {
        return t3 instanceof _2 || !(!t3 || !t3[p2]);
      }, w2 = function t3(e3, n3, r3) {
        var i3;
        if (!e3)
          return g2;
        if ("string" == typeof e3) {
          var s3 = e3.toLowerCase();
          D2[s3] && (i3 = s3), n3 && (D2[s3] = n3, i3 = s3);
          var u3 = e3.split("-");
          if (!i3 && u3.length > 1)
            return t3(u3[0]);
        } else {
          var a3 = e3.name;
          D2[a3] = e3, i3 = a3;
        }
        return !r3 && i3 && (g2 = i3), i3 || !r3 && g2;
      }, O2 = function(t3, e3) {
        if (S2(t3))
          return t3.clone();
        var n3 = "object" == typeof e3 ? e3 : {};
        return n3.date = t3, n3.args = arguments, new _2(n3);
      }, b2 = v2;
      b2.l = w2, b2.i = S2, b2.w = function(t3, e3) {
        return O2(t3, { locale: e3.$L, utc: e3.$u, x: e3.$x, $offset: e3.$offset });
      };
      var _2 = function() {
        function M3(t3) {
          this.$L = w2(t3.locale, null, true), this.parse(t3), this.$x = this.$x || t3.x || {}, this[p2] = true;
        }
        var m3 = M3.prototype;
        return m3.parse = function(t3) {
          this.$d = function(t4) {
            var e3 = t4.date, n3 = t4.utc;
            if (null === e3)
              return /* @__PURE__ */ new Date(NaN);
            if (b2.u(e3))
              return /* @__PURE__ */ new Date();
            if (e3 instanceof Date)
              return new Date(e3);
            if ("string" == typeof e3 && !/Z$/i.test(e3)) {
              var r3 = e3.match($2);
              if (r3) {
                var i3 = r3[2] - 1 || 0, s3 = (r3[7] || "0").substring(0, 3);
                return n3 ? new Date(Date.UTC(r3[1], i3, r3[3] || 1, r3[4] || 0, r3[5] || 0, r3[6] || 0, s3)) : new Date(r3[1], i3, r3[3] || 1, r3[4] || 0, r3[5] || 0, r3[6] || 0, s3);
              }
            }
            return new Date(e3);
          }(t3), this.init();
        }, m3.init = function() {
          var t3 = this.$d;
          this.$y = t3.getFullYear(), this.$M = t3.getMonth(), this.$D = t3.getDate(), this.$W = t3.getDay(), this.$H = t3.getHours(), this.$m = t3.getMinutes(), this.$s = t3.getSeconds(), this.$ms = t3.getMilliseconds();
        }, m3.$utils = function() {
          return b2;
        }, m3.isValid = function() {
          return !(this.$d.toString() === l2);
        }, m3.isSame = function(t3, e3) {
          var n3 = O2(t3);
          return this.startOf(e3) <= n3 && n3 <= this.endOf(e3);
        }, m3.isAfter = function(t3, e3) {
          return O2(t3) < this.startOf(e3);
        }, m3.isBefore = function(t3, e3) {
          return this.endOf(e3) < O2(t3);
        }, m3.$g = function(t3, e3, n3) {
          return b2.u(t3) ? this[e3] : this.set(n3, t3);
        }, m3.unix = function() {
          return Math.floor(this.valueOf() / 1e3);
        }, m3.valueOf = function() {
          return this.$d.getTime();
        }, m3.startOf = function(t3, e3) {
          var n3 = this, r3 = !!b2.u(e3) || e3, f3 = b2.p(t3), l3 = function(t4, e4) {
            var i3 = b2.w(n3.$u ? Date.UTC(n3.$y, e4, t4) : new Date(n3.$y, e4, t4), n3);
            return r3 ? i3 : i3.endOf(a2);
          }, $3 = function(t4, e4) {
            return b2.w(n3.toDate()[t4].apply(n3.toDate("s"), (r3 ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(e4)), n3);
          }, y3 = this.$W, M4 = this.$M, m4 = this.$D, v3 = "set" + (this.$u ? "UTC" : "");
          switch (f3) {
            case h2:
              return r3 ? l3(1, 0) : l3(31, 11);
            case c2:
              return r3 ? l3(1, M4) : l3(0, M4 + 1);
            case o2:
              var g3 = this.$locale().weekStart || 0, D3 = (y3 < g3 ? y3 + 7 : y3) - g3;
              return l3(r3 ? m4 - D3 : m4 + (6 - D3), M4);
            case a2:
            case d2:
              return $3(v3 + "Hours", 0);
            case u2:
              return $3(v3 + "Minutes", 1);
            case s2:
              return $3(v3 + "Seconds", 2);
            case i2:
              return $3(v3 + "Milliseconds", 3);
            default:
              return this.clone();
          }
        }, m3.endOf = function(t3) {
          return this.startOf(t3, false);
        }, m3.$set = function(t3, e3) {
          var n3, o3 = b2.p(t3), f3 = "set" + (this.$u ? "UTC" : ""), l3 = (n3 = {}, n3[a2] = f3 + "Date", n3[d2] = f3 + "Date", n3[c2] = f3 + "Month", n3[h2] = f3 + "FullYear", n3[u2] = f3 + "Hours", n3[s2] = f3 + "Minutes", n3[i2] = f3 + "Seconds", n3[r2] = f3 + "Milliseconds", n3)[o3], $3 = o3 === a2 ? this.$D + (e3 - this.$W) : e3;
          if (o3 === c2 || o3 === h2) {
            var y3 = this.clone().set(d2, 1);
            y3.$d[l3]($3), y3.init(), this.$d = y3.set(d2, Math.min(this.$D, y3.daysInMonth())).$d;
          } else
            l3 && this.$d[l3]($3);
          return this.init(), this;
        }, m3.set = function(t3, e3) {
          return this.clone().$set(t3, e3);
        }, m3.get = function(t3) {
          return this[b2.p(t3)]();
        }, m3.add = function(r3, f3) {
          var d3, l3 = this;
          r3 = Number(r3);
          var $3 = b2.p(f3), y3 = function(t3) {
            var e3 = O2(l3);
            return b2.w(e3.date(e3.date() + Math.round(t3 * r3)), l3);
          };
          if ($3 === c2)
            return this.set(c2, this.$M + r3);
          if ($3 === h2)
            return this.set(h2, this.$y + r3);
          if ($3 === a2)
            return y3(1);
          if ($3 === o2)
            return y3(7);
          var M4 = (d3 = {}, d3[s2] = e2, d3[u2] = n2, d3[i2] = t2, d3)[$3] || 1, m4 = this.$d.getTime() + r3 * M4;
          return b2.w(m4, this);
        }, m3.subtract = function(t3, e3) {
          return this.add(-1 * t3, e3);
        }, m3.format = function(t3) {
          var e3 = this, n3 = this.$locale();
          if (!this.isValid())
            return n3.invalidDate || l2;
          var r3 = t3 || "YYYY-MM-DDTHH:mm:ssZ", i3 = b2.z(this), s3 = this.$H, u3 = this.$m, a3 = this.$M, o3 = n3.weekdays, c3 = n3.months, f3 = n3.meridiem, h3 = function(t4, n4, i4, s4) {
            return t4 && (t4[n4] || t4(e3, r3)) || i4[n4].slice(0, s4);
          }, d3 = function(t4) {
            return b2.s(s3 % 12 || 12, t4, "0");
          }, $3 = f3 || function(t4, e4, n4) {
            var r4 = t4 < 12 ? "AM" : "PM";
            return n4 ? r4.toLowerCase() : r4;
          };
          return r3.replace(y2, function(t4, r4) {
            return r4 || function(t5) {
              switch (t5) {
                case "YY":
                  return String(e3.$y).slice(-2);
                case "YYYY":
                  return b2.s(e3.$y, 4, "0");
                case "M":
                  return a3 + 1;
                case "MM":
                  return b2.s(a3 + 1, 2, "0");
                case "MMM":
                  return h3(n3.monthsShort, a3, c3, 3);
                case "MMMM":
                  return h3(c3, a3);
                case "D":
                  return e3.$D;
                case "DD":
                  return b2.s(e3.$D, 2, "0");
                case "d":
                  return String(e3.$W);
                case "dd":
                  return h3(n3.weekdaysMin, e3.$W, o3, 2);
                case "ddd":
                  return h3(n3.weekdaysShort, e3.$W, o3, 3);
                case "dddd":
                  return o3[e3.$W];
                case "H":
                  return String(s3);
                case "HH":
                  return b2.s(s3, 2, "0");
                case "h":
                  return d3(1);
                case "hh":
                  return d3(2);
                case "a":
                  return $3(s3, u3, true);
                case "A":
                  return $3(s3, u3, false);
                case "m":
                  return String(u3);
                case "mm":
                  return b2.s(u3, 2, "0");
                case "s":
                  return String(e3.$s);
                case "ss":
                  return b2.s(e3.$s, 2, "0");
                case "SSS":
                  return b2.s(e3.$ms, 3, "0");
                case "Z":
                  return i3;
              }
              return null;
            }(t4) || i3.replace(":", "");
          });
        }, m3.utcOffset = function() {
          return 15 * -Math.round(this.$d.getTimezoneOffset() / 15);
        }, m3.diff = function(r3, d3, l3) {
          var $3, y3 = this, M4 = b2.p(d3), m4 = O2(r3), v3 = (m4.utcOffset() - this.utcOffset()) * e2, g3 = this - m4, D3 = function() {
            return b2.m(y3, m4);
          };
          switch (M4) {
            case h2:
              $3 = D3() / 12;
              break;
            case c2:
              $3 = D3();
              break;
            case f2:
              $3 = D3() / 3;
              break;
            case o2:
              $3 = (g3 - v3) / 6048e5;
              break;
            case a2:
              $3 = (g3 - v3) / 864e5;
              break;
            case u2:
              $3 = g3 / n2;
              break;
            case s2:
              $3 = g3 / e2;
              break;
            case i2:
              $3 = g3 / t2;
              break;
            default:
              $3 = g3;
          }
          return l3 ? $3 : b2.a($3);
        }, m3.daysInMonth = function() {
          return this.endOf(c2).$D;
        }, m3.$locale = function() {
          return D2[this.$L];
        }, m3.locale = function(t3, e3) {
          if (!t3)
            return this.$L;
          var n3 = this.clone(), r3 = w2(t3, e3, true);
          return r3 && (n3.$L = r3), n3;
        }, m3.clone = function() {
          return b2.w(this.$d, this);
        }, m3.toDate = function() {
          return new Date(this.valueOf());
        }, m3.toJSON = function() {
          return this.isValid() ? this.toISOString() : null;
        }, m3.toISOString = function() {
          return this.$d.toISOString();
        }, m3.toString = function() {
          return this.$d.toUTCString();
        }, M3;
      }(), k = _2.prototype;
      return O2.prototype = k, [["$ms", r2], ["$s", i2], ["$m", s2], ["$H", u2], ["$W", a2], ["$M", c2], ["$y", h2], ["$D", d2]].forEach(function(t3) {
        k[t3[1]] = function(e3) {
          return this.$g(e3, t3[0], t3[1]);
        };
      }), O2.extend = function(t3, e3) {
        return t3.$i || (t3(e3, _2, O2), t3.$i = true), O2;
      }, O2.locale = w2, O2.isDayjs = S2, O2.unix = function(t3) {
        return O2(1e3 * t3);
      }, O2.en = D2[g2], O2.Ls = D2, O2.p = {}, O2;
    });
  })(dayjs_min);
  var dayjs_minExports = dayjs_min.exports;
  const dayjs = /* @__PURE__ */ getDefaultExportFromCjs(dayjs_minExports);
  var zhCn = { exports: {} };
  (function(module, exports) {
    !function(e2, _2) {
      module.exports = _2(dayjs_minExports);
    }(commonjsGlobal, function(e2) {
      function _2(e3) {
        return e3 && "object" == typeof e3 && "default" in e3 ? e3 : { default: e3 };
      }
      var t2 = _2(e2), d2 = { name: "zh-cn", weekdays: "星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"), weekdaysShort: "周日_周一_周二_周三_周四_周五_周六".split("_"), weekdaysMin: "日_一_二_三_四_五_六".split("_"), months: "一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"), monthsShort: "1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"), ordinal: function(e3, _3) {
        return "W" === _3 ? e3 + "周" : e3 + "日";
      }, weekStart: 1, yearStart: 4, formats: { LT: "HH:mm", LTS: "HH:mm:ss", L: "YYYY/MM/DD", LL: "YYYY年M月D日", LLL: "YYYY年M月D日Ah点mm分", LLLL: "YYYY年M月D日ddddAh点mm分", l: "YYYY/M/D", ll: "YYYY年M月D日", lll: "YYYY年M月D日 HH:mm", llll: "YYYY年M月D日dddd HH:mm" }, relativeTime: { future: "%s内", past: "%s前", s: "几秒", m: "1 分钟", mm: "%d 分钟", h: "1 小时", hh: "%d 小时", d: "1 天", dd: "%d 天", M: "1 个月", MM: "%d 个月", y: "1 年", yy: "%d 年" }, meridiem: function(e3, _3) {
        var t3 = 100 * e3 + _3;
        return t3 < 600 ? "凌晨" : t3 < 900 ? "早上" : t3 < 1100 ? "上午" : t3 < 1300 ? "中午" : t3 < 1800 ? "下午" : "晚上";
      } };
      return t2.default.locale(d2, null, true), d2;
    });
  })(zhCn);
  const getUserBaseSetting = (params, config2 = {}) => http$1.get("/api/user/roleInfo", params, config2);
  const initSchedule = (params, config2 = {}) => http$1.post(`/api/consultant/schedule/init?consultantId=${params.consultantId}`, params, config2);
  const postOrder = (params, config2 = {}) => http$1.post(`/api/admin/order/manage/paging`, params, config2);
  const cancel = (params, config2 = {}) => http$1.post(`/api/order/order/cancel`, params, config2);
  const _sfc_main$M = {
    __name: "service-setup",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "1ad96ed9-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const typeId = vue.ref({});
      const img = vue.ref("select-green");
      const colorText = vue.ref("#34A76F");
      onLoad((options) => {
        typeId.value = JSON.parse(options.type);
        colorText.value = typeId.value.userRole == "1" ? "#34A76F" : "#eb9516";
        img.value = typeId.value.userRole == "1" ? "select-green" : "select-yellow";
      });
      const quoteList = vue.ref([]);
      const getQuoteList = async () => {
        try {
          const api = typeId.value.userRole == "1" ? consultantList : listenerList;
          const res2 = await api(typeId.value.id);
          quoteList.value = res2.data.map((item) => ({
            ...item,
            selected: false
          }));
        } catch (error) {
          formatAppLog("error", "at pages/settings/service-setup.vue:262", "Failed to fetch quote list:", error);
        }
      };
      onShow(() => {
        getQuoteList();
      });
      const colorType = vue.ref(1);
      const serviceList2 = (val2) => {
        colorType.value = val2;
      };
      const Info = async () => {
        try {
          const res2 = await initSchedule({ consultantId: "1998788533289500673" });
          formatAppLog("log", "at pages/settings/service-setup.vue:276", res2);
        } catch (error) {
          formatAppLog("error", "at pages/settings/service-setup.vue:278", "Failed to fetch quote list:", error);
        }
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const popupOriginList = vue.ref([
        {
          id: 1,
          type: "img",
          icon: "/static/my/consulting-video.png",
          title: "视频",
          width: "70rpx",
          height: "50rpx"
        },
        {
          id: 2,
          type: "img",
          icon: "/static/my/consulting-speech.png",
          title: "语音",
          width: "60rpx",
          height: "70rpx"
        },
        { id: 3, type: "icon", title: "文字", width: "0", height: "0" }
      ]);
      const popupList = vue.computed(() => {
        const { userRole } = typeId.value;
        if (userRole == 1) {
          return popupOriginList.value.filter((item) => item.id !== 3);
        } else if (userRole == 2) {
          return popupOriginList.value.filter((item) => item.id !== 1);
        }
        return popupOriginList;
      });
      const popup = vue.ref(null);
      const serviceAdd = () => {
        popup.value.open("bottom");
      };
      const unipopupClose = () => {
        popup.value.close();
      };
      const wayAdd = (item) => {
        popup.value.close();
        uni.navigateTo({
          url: `/pages/settings/service-price?type=${item.id}&point=${JSON.stringify(
            typeId.value
          )}`
        });
      };
      const processingObj = vue.ref({});
      const toggleSelect = (item) => {
        item.selected = !item.selected;
        processingObj.value = item;
        quoteList.value.forEach((i2) => {
          if (i2 !== item)
            i2.selected = false;
        });
      };
      const serviceEdit = () => {
        if (processingObj.value.id == void 0) {
          return uni.showToast({
            title: "请选择要编辑的服务",
            icon: "none"
          });
        }
        uni.navigateTo({
          url: `/pages/settings/service-price?type=${processingObj.value.serviceQuoteType}&point=${JSON.stringify(typeId.value)}&update=${JSON.stringify(
            processingObj.value
          )}`
        });
      };
      const serviceDelete = async () => {
        if (processingObj.value.id == void 0) {
          return uni.showToast({
            title: "请选择要删除的服务",
            icon: "none"
          });
        }
        try {
          const api = typeId.value.userRole == "1" ? consultantDelete : listenerDelete;
          const res2 = await api(processingObj.value.id);
          uni.showToast({
            title: "删除成功",
            icon: "none"
          });
          getQuoteList();
        } catch (error) {
          formatAppLog("log", "at pages/settings/service-setup.vue:381", error);
        }
      };
      dayjs.locale("zh-cn");
      const getWeekDates = () => {
        const dates = [];
        const todayStr = dayjs().format("YYYY-MM-DD");
        for (let i2 = 0; i2 < 7; i2++) {
          const date2 = dayjs().add(i2, "day");
          const currentDateStr = date2.format("YYYY-MM-DD");
          dates.push({
            dateStr: currentDateStr,
            week: currentDateStr === todayStr ? "今天" : date2.format("ddd"),
            // 星期（如“周四”）
            isAvailable: true
            // 默认全部可约，可根据需求调整
          });
        }
        return dates;
      };
      const currentWeekDates = vue.ref(getWeekDates());
      const selectedDate = vue.ref(currentWeekDates.value[0].dateStr);
      const generateTimeSlots = (startHour, endHour, interval) => {
        const slots = [];
        let current = dayjs().hour(startHour).minute(0);
        const end = dayjs().hour(endHour).minute(0);
        while (current.isBefore(end)) {
          const startTime = current.format("HH:mm");
          current = current.add(interval, "minute");
          const endTime = current.format("HH:mm");
          slots.push({ startTime, endTime });
        }
        return slots;
      };
      const morningSlots = vue.ref(generateTimeSlots(9, 12, 30));
      const afternoonSlots = vue.ref(generateTimeSlots(13, 18, 30));
      const selectedTimeSlots = vue.ref({});
      const toggleTimeSlot = (slot) => {
        if (!selectedTimeSlots.value[selectedDate.value]) {
          selectedTimeSlots.value[selectedDate.value] = [];
        }
        const targetIdx = selectedTimeSlots.value[selectedDate.value].findIndex(
          (item) => item.startTime === slot.startTime && item.endTime === slot.endTime
        );
        if (targetIdx > -1) {
          selectedTimeSlots.value[selectedDate.value].splice(targetIdx, 1);
        } else {
          selectedTimeSlots.value[selectedDate.value].push({ ...slot });
        }
        selectedTimeSlots.value = { ...selectedTimeSlots.value };
      };
      const isSlotSelected = (slot) => {
        var _a2;
        return ((_a2 = selectedTimeSlots.value[selectedDate.value]) == null ? void 0 : _a2.some(
          (item) => item.startTime === slot.startTime && item.endTime === slot.endTime
        )) || false;
      };
      const handleSubmit = () => {
        const submitList = [];
        Object.entries(selectedTimeSlots.value).forEach(([date2, slots]) => {
          slots.forEach((slot) => {
            submitList.push({
              consultantId: 24,
              // typeId.value.id, // 顾问ID
              date: `${date2} ${slot.startTime}:00`,
              // 日期+开始时间
              isEnable: 1,
              startTime: slot.startTime,
              endTime: slot.endTime
            });
          });
        });
        postSetBatch(submitList);
      };
      const postSetBatch = async (list) => {
        try {
          const res2 = await setBatch(list);
          uni.showToast({ title: "保存成功", icon: "success" });
        } catch (error) {
          formatAppLog("log", "at pages/settings/service-setup.vue:477", error);
        }
      };
      const __returned__ = { globalStore, statusBarHeight, typeId, img, colorText, quoteList, getQuoteList, colorType, serviceList: serviceList2, Info, backFn, scrollTop, popupOriginList, popupList, popup, serviceAdd, unipopupClose, wayAdd, processingObj, toggleSelect, serviceEdit, serviceDelete, getWeekDates, currentWeekDates, selectedDate, generateTimeSlots, morningSlots, afternoonSlots, selectedTimeSlots, toggleTimeSlot, isSlotSelected, handleSubmit, postSetBatch, get dayjs() {
        return dayjs;
      }, ref: vue.ref, computed: vue.computed, get onLoad() {
        return onLoad;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get initSchedule() {
        return initSchedule;
      }, get setBatch() {
        return setBatch;
      }, get consultantList() {
        return consultantList;
      }, get listenerList() {
        return listenerList;
      }, get listenerDelete() {
        return listenerDelete;
      }, get consultantDelete() {
        return consultantDelete;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$L(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "#fff",
          border: false,
          title: "服务设置"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            $setup.colorType == 1 ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                class: vue.normalizeClass(["right", `right-${$setup.typeId.userRole}`]),
                onClick: $setup.serviceAdd
              },
              "添加",
              2
              /* CLASS */
            )) : vue.createCommentVNode("v-if", true)
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        $setup.colorType == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "content-list",
          style: { "margin": "30rpx 0 20rpx" }
        }, [
          vue.createElementVNode("view", {
            class: "content-list-item",
            onClick: _cache[0] || (_cache[0] = ($event) => $setup.serviceList(1))
          }, [
            vue.createElementVNode(
              "view",
              {
                style: vue.normalizeStyle({ color: $setup.colorType == 1 ? $setup.colorText : "#959596" })
              },
              "服务列表",
              4
              /* STYLE */
            ),
            $setup.colorType == 1 && $setup.typeId.userRole == 1 ? (vue.openBlock(), vue.createElementBlock("image", {
              key: 0,
              src: _imports_0$k,
              style: { "left": "45rpx" }
            })) : vue.createCommentVNode("v-if", true)
          ]),
          $setup.typeId.userRole == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "content-list-item",
            onClick: _cache[1] || (_cache[1] = ($event) => $setup.serviceList(2))
          }, [
            vue.createElementVNode(
              "view",
              {
                style: vue.normalizeStyle({ color: $setup.colorType == 2 ? $setup.colorText : "#959596" })
              },
              "时间列表",
              4
              /* STYLE */
            ),
            $setup.colorType == 2 ? (vue.openBlock(), vue.createElementBlock("image", {
              key: 0,
              src: _imports_0$k,
              style: { "right": "45rpx" }
            })) : vue.createCommentVNode("v-if", true)
          ])) : vue.createCommentVNode("v-if", true)
        ])) : vue.createCommentVNode("v-if", true),
        $setup.colorType == 1 ? (vue.openBlock(), vue.createElementBlock(
          "view",
          {
            key: 1,
            class: vue.normalizeClass(["content-details", `content-details-${$setup.typeId.userRole}`])
          },
          [
            vue.createElementVNode("view", { class: "content-list" }, [
              vue.createElementVNode("view", {
                class: "content-list-item",
                onClick: _cache[2] || (_cache[2] = ($event) => $setup.serviceList(1))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    style: vue.normalizeStyle({ color: $setup.colorType == 1 ? $setup.colorText : "#959596" })
                  },
                  "服务列表",
                  4
                  /* STYLE */
                ),
                $setup.colorType == 1 && $setup.typeId.userRole == 1 ? (vue.openBlock(), vue.createElementBlock("image", {
                  key: 0,
                  src: _imports_0$k,
                  style: { "left": "45rpx" }
                })) : vue.createCommentVNode("v-if", true)
              ]),
              $setup.typeId.userRole == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "content-list-item",
                onClick: _cache[3] || (_cache[3] = ($event) => $setup.serviceList(2))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    style: vue.normalizeStyle({ color: $setup.colorType == 2 ? $setup.colorText : "#959596" })
                  },
                  "时间列表",
                  4
                  /* STYLE */
                ),
                $setup.colorType == 2 ? (vue.openBlock(), vue.createElementBlock("image", {
                  key: 0,
                  src: _imports_0$k,
                  style: { "right": "45rpx" }
                })) : vue.createCommentVNode("v-if", true)
              ])) : vue.createCommentVNode("v-if", true)
            ]),
            vue.createElementVNode("view", { class: "content-header" }, [
              vue.createElementVNode("view", { class: "content-header-item" }, [
                vue.createElementVNode("view", { style: { "width": "35%", "text-align": "center" } }, "名称"),
                vue.createElementVNode("view", null, "咨询方式"),
                vue.createElementVNode("view", null, "时长"),
                vue.createElementVNode("view", null, "价格")
              ]),
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.quoteList, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "content-header-item",
                    key: index,
                    onClick: ($event) => _ctx.serviceDetail(item),
                    style: { "margin": "20rpx 0" }
                  }, [
                    vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "width": "35%" } }, [
                      vue.createElementVNode("image", {
                        src: `/static/auth/${item.selected ? $setup.img : "not-selected"}.png`,
                        onClick: vue.withModifiers(($event) => $setup.toggleSelect(item), ["stop"]),
                        style: { "width": "30rpx", "height": "30rpx", "margin-right": "10rpx" }
                      }, null, 8, ["src", "onClick"]),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.title),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode(
                      "view",
                      { style: { "width": "110rpx", "text-align": "center" } },
                      vue.toDisplayString(item.serviceQuoteType == 1 ? "语音" : item.serviceQuoteType == 2 ? "视频" : "图文"),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "view",
                      null,
                      vue.toDisplayString(item.serviceDuration) + "分钟",
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "view",
                      null,
                      "¥ " + vue.toDisplayString(item.quoteAmount),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ]),
            vue.createElementVNode("view", { class: "header-operation" }, [
              vue.createElementVNode("view", { onClick: $setup.serviceEdit }, "编辑"),
              vue.createElementVNode("view", { class: "line" }, "|"),
              vue.createElementVNode("view", { onClick: $setup.serviceDelete }, "删除")
            ])
          ],
          2
          /* CLASS */
        )) : vue.createCommentVNode("v-if", true)
      ]),
      $setup.colorType == 2 && $setup.typeId.userRole == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "container"
      }, [
        vue.createElementVNode("scroll-view", {
          "scroll-x": "",
          class: "date-nav"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.currentWeekDates, (item, idx) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                key: idx,
                class: vue.normalizeClass(["date-item", {
                  active: item.dateStr === $setup.selectedDate,
                  available: item.isAvailable
                }]),
                onClick: ($event) => $setup.selectedDate = item.dateStr
              }, [
                vue.createElementVNode(
                  "view",
                  { class: "week" },
                  vue.toDisplayString(item.week),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "view",
                  { class: "date" },
                  vue.toDisplayString(item.dateStr.split("-").slice(1).join("-")),
                  1
                  /* TEXT */
                ),
                item.isAvailable ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "status"
                }, "可约")) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        vue.createElementVNode("view", { class: "time-section" }, [
          vue.createElementVNode("view", { class: "section-title" }, "上午"),
          vue.createElementVNode("view", { class: "slots-wrap" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.morningSlots, (slot, idx) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: idx,
                  class: vue.normalizeClass(["slot-item", { selected: $setup.isSlotSelected(slot) }]),
                  onClick: ($event) => $setup.toggleTimeSlot(slot)
                }, vue.toDisplayString(slot.startTime) + "-" + vue.toDisplayString(slot.endTime), 11, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ]),
          vue.createElementVNode("view", { class: "section-title" }, "下午"),
          vue.createElementVNode("view", { class: "slots-wrap" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.afternoonSlots, (slot, idx) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: idx,
                  class: vue.normalizeClass(["slot-item", { selected: $setup.isSlotSelected(slot) }]),
                  onClick: ($event) => $setup.toggleTimeSlot(slot)
                }, vue.toDisplayString(slot.startTime) + "-" + vue.toDisplayString(slot.endTime), 11, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ]),
        vue.createElementVNode("view", { class: "btn-group" }, [
          vue.createElementVNode("view", {
            class: "save-btn",
            onClick: $setup.handleSubmit
          }, "保存设置")
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createVNode(
        _component_uni_popup,
        { ref: "popup" },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-content" }, [
              vue.createElementVNode("view", { class: "popup-header" }, [
                vue.createElementVNode(
                  "view",
                  null,
                  "选择" + vue.toDisplayString($setup.typeId.userRole == 1 ? "咨询" : "倾听") + "方式",
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_icons, {
                  type: "closeempty",
                  size: "20",
                  class: "close-icon",
                  color: "#A6A6A6",
                  onClick: $setup.unipopupClose
                })
              ]),
              vue.createElementVNode("view", { class: "popup-list" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.popupList, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      key: index,
                      onClick: ($event) => $setup.wayAdd(item),
                      class: "popup-list-item"
                    }, [
                      item.type == "img" ? (vue.openBlock(), vue.createElementBlock("image", {
                        key: 0,
                        src: item.icon,
                        style: vue.normalizeStyle({ width: item.width, height: item.height })
                      }, null, 12, ["src"])) : (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                        key: 1,
                        type: "wallet",
                        size: "35",
                        color: "#38CC98",
                        class: "popup-list-icon"
                      })),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.title),
                        1
                        /* TEXT */
                      )
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesSettingsServiceSetup = /* @__PURE__ */ _export_sfc(_sfc_main$M, [["render", _sfc_render$L], ["__scopeId", "data-v-1ad96ed9"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/service-setup.vue"]]);
  const _sfc_main$L = {
    __name: "service-price",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "3f900ab4-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const array2 = vue.ref(["15分钟", "30分钟", "60分钟", "90分钟"]);
      const index = vue.ref(0);
      const price = vue.ref("");
      const titleName = vue.ref("");
      const userInfo = vue.ref({});
      const Info = async () => {
        try {
          const res2 = await getUserInfo();
          userInfo.value = res2.data;
        } catch (error) {
          formatAppLog("error", "at pages/settings/service-price.vue:138", "Failed to fetch user info:", error);
        }
      };
      const percent = vue.ref(0);
      const operation = async () => {
        try {
          const { data } = await getOperation();
          const { consultantCommissionPercent, listenerCommissionPercent } = data.records[0];
          percent.value = point.value.userRole == "1" ? consultantCommissionPercent : listenerCommissionPercent;
        } catch (error) {
          formatAppLog("error", "at pages/settings/service-price.vue:153", "Failed to fetch user info:", error);
        }
      };
      const barTime = (price2, time) => {
        return (price2 / time).toFixed(2);
      };
      onShow(() => {
        operation();
        Info();
      });
      const calculateCommission = (base, ratePercent) => {
        if (isNaN(base) || isNaN(ratePercent)) {
          formatAppLog("error", "at pages/settings/service-price.vue:166", "基数或提成比例必须是数字");
          return 0;
        }
        const rate = ratePercent / 100;
        const rawValue = base * (1 - rate);
        const roundedValue = Math.round(rawValue * 100) / 100;
        const commission = roundedValue.toFixed(2);
        return Number(commission);
      };
      const bindPickerChange = (e2) => {
        index.value = e2.detail.value;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const BarTitle = vue.ref("语音服务");
      const type = vue.ref("");
      const point = vue.ref({});
      const updata = vue.ref({});
      onLoad((options) => {
        point.value = JSON.parse(options.point);
        type.value = options.type;
        if (options.update) {
          updata.value = JSON.parse(options.update);
          const { userId, serviceQuoteType, quoteAmount, serviceDuration, title } = updata.value;
          userInfo.value.id = userId;
          type.value = serviceQuoteType;
          price.value = quoteAmount;
          titleName.value = title;
          index.value = serviceDuration == 15 ? 0 : serviceDuration == 30 ? 1 : serviceDuration == 60 ? 2 : 3;
        }
        options.type == 1 ? BarTitle.value = "视频服务" : options.type == 2 ? BarTitle.value = "语音服务" : BarTitle.value = "文字服务";
      });
      const serviceAdd = () => {
        if (titleName.value == "") {
          uni.showToast({
            title: "请输入名称",
            icon: "none"
          });
          return;
        }
        if (price.value == "") {
          uni.showToast({
            title: "建议报价金额",
            icon: "none"
          });
          return;
        }
        const params = {
          userId: userInfo.value.id,
          serviceQuoteType: type.value,
          quoteAmount: price.value,
          title: titleName.value,
          serviceDuration: index.value == 0 ? 15 : index.value == 1 ? 30 : index.value == 2 ? 60 : 90
        };
        if (updata.value.id != void 0) {
          const api = point.value.userRole == "1" ? consultantUpdate : listenerUpdate;
          api({ id: updata.value.id, ...params }).then((res2) => {
            uni.showToast({ title: "报价成功", icon: "none" });
            setTimeout(() => {
              uni.navigateBack({ delta: 1 });
            }, 1500);
            updata.value = {};
          }).catch((err) => {
            uni.showToast({
              title: err.message,
              icon: "none"
            });
          });
        } else {
          const api = point.value.userRole == "1" ? consultantAdd : listenerAdd;
          api(params).then((res2) => {
            uni.showToast({ title: "报价成功", icon: "none" });
            setTimeout(() => {
              uni.navigateBack({ delta: 1 });
            }, 1500);
          }).catch((err) => {
            uni.showToast({
              title: err.message,
              icon: "none"
            });
          });
        }
      };
      const __returned__ = { globalStore, statusBarHeight, array: array2, index, price, titleName, userInfo, Info, percent, operation, barTime, calculateCommission, bindPickerChange, backFn, scrollTop, BarTitle, type, point, updata, serviceAdd, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get consultantAdd() {
        return consultantAdd;
      }, get listenerAdd() {
        return listenerAdd;
      }, get listenerUpdate() {
        return listenerUpdate;
      }, get consultantUpdate() {
        return consultantUpdate;
      }, get getUserInfo() {
        return getUserInfo;
      }, get getOperation() {
        return getOperation;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$K(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "#f4f6f8",
          border: false,
          title: $setup.BarTitle
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["right", `right-${$setup.point.userRole}`]),
                onClick: $setup.serviceAdd
              },
              "提交",
              2
              /* CLASS */
            )
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class", "title"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "content-details" }, [
          vue.createElementVNode("view", { class: "tips" }, "修改价格需平台审核，每个月份可修改 2次"),
          vue.createElementVNode("view", { class: "uni-list-cell" }, [
            vue.createElementVNode("view", { class: "uni-list-cell-left" }, "名称"),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["uni-list-cell-db", `uni-list-cell-db-${$setup.point.userRole}`])
              },
              [
                vue.withDirectives(vue.createElementVNode(
                  "input",
                  {
                    class: "uni-input",
                    "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.titleName = $event),
                    style: { "text-align": "right" }
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.titleName]
                ])
              ],
              2
              /* CLASS */
            )
          ]),
          vue.createElementVNode("view", { class: "uni-list-cell" }, [
            vue.createElementVNode("view", { class: "uni-list-cell-left" }, [
              vue.createTextVNode(" 价格"),
              vue.createElementVNode("text", { style: { "color": "#a9a9a9" } }, "（含服务费）")
            ]),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["uni-list-cell-db", `uni-list-cell-db-${$setup.point.userRole}`])
              },
              [
                vue.createElementVNode("image", {
                  src: `@/static/my/${$setup.point.userRole == "1" ? "pen" : "yen"}.png`,
                  style: { "width": "30rpx", "height": "30rpx" }
                }, null, 8, ["src"]),
                vue.withDirectives(vue.createElementVNode(
                  "input",
                  {
                    class: "uni-input",
                    "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.price = $event),
                    style: { "text-align": "right", "max-width": "65rpx" }
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.price]
                ]),
                vue.createElementVNode("text", { style: { "margin-left": "10rpx" } }, "元")
              ],
              2
              /* CLASS */
            )
          ]),
          vue.createElementVNode(
            "view",
            { class: "text-tips" },
            vue.toDisplayString($setup.barTime(
              $setup.price,
              $setup.index == 0 ? 15 : $setup.index == 1 ? 30 : $setup.index == 2 ? 60 : 90
            )) + " 元/分钟",
            1
            /* TEXT */
          ),
          vue.createElementVNode(
            "view",
            {
              class: "text-tips",
              style: { "padding-bottom": "20rpx" }
            },
            "不含服务费价：" + vue.toDisplayString($setup.calculateCommission($setup.price, $setup.percent)) + " 元",
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", {
            class: "uni-list-cell",
            style: { "margin-top": "20rpx" }
          }, [
            vue.createElementVNode("view", { class: "uni-list-cell-left" }, " 最低服务时长 "),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["uni-list-cell-db", `uni-list-cell-db-${$setup.point.userRole}`])
              },
              [
                vue.createElementVNode("image", {
                  src: `@/static/my/${$setup.point.userRole == "1" ? "pen" : "yen"}.png`,
                  style: { "width": "30rpx", "height": "30rpx" }
                }, null, 8, ["src"]),
                vue.createElementVNode("picker", {
                  onChange: $setup.bindPickerChange,
                  value: $setup.index,
                  range: $setup.array
                }, [
                  vue.createElementVNode(
                    "view",
                    { class: "uni-input" },
                    vue.toDisplayString($setup.array[$setup.index]),
                    1
                    /* TEXT */
                  )
                ], 40, ["value", "range"])
              ],
              2
              /* CLASS */
            )
          ])
        ]),
        vue.createElementVNode("view", { class: "protocol" }, [
          vue.createElementVNode("view", null, "温馨提示："),
          vue.createElementVNode(
            "text",
            null,
            "1." + vue.toDisplayString($setup.BarTitle) + "为预约服务，为保证服务质量，请您提前做好预约服务准备。\\n",
            1
            /* TEXT */
          ),
          vue.createElementVNode(
            "text",
            null,
            "2.平台将按最低15分钟展示含服务费的价格，服务费为订单金额的" + vue.toDisplayString($setup.percent) + "%，订单收益按不含服务费交易额计算。\\n",
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", null, "3.请您根据自身经验合理填写价格，平台后续也会依据您的评价率、响应率等标准进行审核。\\n")
        ])
      ])
    ]);
  }
  const PagesSettingsServicePrice = /* @__PURE__ */ _export_sfc(_sfc_main$L, [["render", _sfc_render$K], ["__scopeId", "data-v-3f900ab4"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/service-price.vue"]]);
  const _sfc_main$K = {
    __name: "feedback",
    props: {
      titlePage: {
        type: String,
        default: "意见反馈"
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "d9359076-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const props = __props;
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const popup = vue.ref(null);
      const feedbackFrom = vue.ref({
        complaintTypeId: null,
        content: ""
      });
      const items = vue.ref([
        { id: 1, typeName: "使用便捷问题" },
        { id: 2, typeName: "登陆问题" },
        { id: 3, typeName: "安全问题" },
        { id: 4, typeName: "支付问题" },
        { id: 5, typeName: "订单问题" },
        { id: 6, typeName: "账号问题" },
        { id: 7, typeName: "退款问题" }
      ]);
      const complaintSubmit = async () => {
        try {
          const { content, complaintTypeId } = feedbackFrom.value;
          const data = {
            content,
            types: [complaintTypeId]
          };
          let resp = await feedbackSubmit(data);
          popup.value.open("center");
        } catch {
          formatAppLog("log", "at pages/settings/feedback.vue:141", "err");
        }
      };
      const unipopupClose = () => {
        popup.value.close();
      };
      const checkboxChange = (e2) => {
        feedbackFrom.value.complaintTypeId = e2.detail.value;
      };
      const toRecord = () => {
        uni.navigateTo({
          url: "/pages/settings/record"
        });
      };
      onShow(() => {
      });
      const __returned__ = { globalStore, statusBarHeight, props, scrollTop, backFn, popup, feedbackFrom, items, complaintSubmit, unipopupClose, checkboxChange, toRecord, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get complaintSubmitPost() {
        return complaintSubmitPost;
      }, get feedbackSubmit() {
        return feedbackSubmit;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$J(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: $props.titlePage,
          class: vue.normalizeClass(["header-bar", $setup.scrollTop > 15 ? "scrollClass" : ""])
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["title", "class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "clause" }, [
          vue.createElementVNode("view", { class: "clause-type" }, [
            vue.createElementVNode("view", null, "请选择您需要反馈的问题类型："),
            vue.createElementVNode(
              "radio-group",
              {
                onChange: $setup.checkboxChange,
                class: "clause-group"
              },
              [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.items, (item) => {
                    return vue.openBlock(), vue.createElementBlock("label", {
                      class: "uni-list-cell uni-list-cell-pd",
                      key: item.id
                    }, [
                      vue.createElementVNode("view", { class: "cell-item" }, [
                        vue.createElementVNode("radio", {
                          value: item.id,
                          checked: $setup.feedbackFrom.complaintTypeId == item.id,
                          color: "#FFCC33",
                          style: { "transform": "scale(0.7)" }
                        }, null, 8, ["value", "checked"]),
                        vue.createElementVNode(
                          "text",
                          {
                            style: vue.normalizeStyle({
                              color: $setup.feedbackFrom.complaintTypeId == item.id ? "#FFCC33" : ""
                            })
                          },
                          vue.toDisplayString(item.typeName),
                          5
                          /* TEXT, STYLE */
                        )
                      ])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ],
              32
              /* NEED_HYDRATION */
            )
          ]),
          vue.createElementVNode("view", null, [
            vue.createElementVNode("view", { style: { "margin-bottom": "20rpx" } }, "请在下方文本框内详情描述："),
            vue.withDirectives(vue.createElementVNode(
              "textarea",
              {
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.feedbackFrom.content = $event),
                "placeholder-style": "color:#9E9E9E;padding: 20rpx",
                placeholder: "请输入详情描述"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $setup.feedbackFrom.content]
            ])
          ]),
          vue.createElementVNode("view", { style: { "margin-top": "300rpx" } }, [
            vue.createVNode(_component_u_button, {
              type: "primary",
              size: "large",
              shape: "circle",
              block: "",
              onClick: $setup.complaintSubmit
            }, {
              default: vue.withCtx(() => [
                vue.createTextVNode("确认提交")
              ]),
              _: 1
              /* STABLE */
            })
          ]),
          vue.createElementVNode("view", {
            style: { "margin-top": "50rpx", "text-align": "center", "color": "#9e9e9e" },
            onClick: $setup.toRecord
          }, "反馈记录")
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          "background-color": "#fff",
          class: "unipopup"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", {
              class: "shutdown",
              onClick: $setup.unipopupClose
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "closeempty",
                size: "20",
                color: "#A6A6A6"
              })
            ]),
            vue.createElementVNode("view", { class: "title" }, "您的反馈已提交！"),
            vue.createElementVNode("view", { class: "text" }, "可在“反馈记录”查看审核进度"),
            vue.createElementVNode("view", {
              class: "but",
              onClick: $setup.toRecord
            }, "反馈记录")
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesSettingsFeedback = /* @__PURE__ */ _export_sfc(_sfc_main$K, [["render", _sfc_render$J], ["__scopeId", "data-v-d9359076"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/feedback.vue"]]);
  const _sfc_main$J = {
    __name: "complaint",
    props: {
      titlePage: {
        type: String,
        default: "投诉"
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "7a4f9f80-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const props = __props;
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const items = vue.ref([]);
      const popup = vue.ref(null);
      const feedbackFrom = vue.ref({
        complaintTypeId: null,
        description: "",
        accusedUserId: null
      });
      onLoad((options) => {
        feedbackFrom.value.accusedUserId = options.id;
      });
      const typeList = async () => {
        let { data } = await complaintType();
        items.value = data.records;
      };
      const complaintSubmit = async () => {
        try {
          const data = Object.assign(feedbackFrom.value);
          let resp = await complaintSubmitPost(data);
          popup.value.open("center");
        } catch {
          formatAppLog("log", "at pages/settings/complaint.vue:112", "err");
        }
      };
      const unipopupClose = () => {
        popup.value.close();
      };
      const checkboxChange = (e2) => {
        feedbackFrom.value.complaintTypeId = e2.detail.value;
      };
      const toRecord = () => {
        uni.navigateTo({
          url: "/pages/settings/record"
        });
      };
      onShow(() => {
      });
      vue.onMounted(() => {
        typeList();
      });
      const __returned__ = { globalStore, statusBarHeight, props, scrollTop, backFn, items, popup, feedbackFrom, typeList, complaintSubmit, unipopupClose, checkboxChange, toRecord, ref: vue.ref, onMounted: vue.onMounted, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get complaintSubmitPost() {
        return complaintSubmitPost;
      }, get complaintType() {
        return complaintType;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$I(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: $props.titlePage,
          class: vue.normalizeClass(["header-bar", $setup.scrollTop > 15 ? "scrollClass" : ""])
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["title", "class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "clause" }, [
          vue.createElementVNode("view", { class: "clause-type" }, [
            vue.createElementVNode("view", null, "请选择您需要投诉的问题类型："),
            vue.createElementVNode(
              "radio-group",
              {
                onChange: $setup.checkboxChange,
                class: "clause-group"
              },
              [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.items, (item) => {
                    return vue.openBlock(), vue.createElementBlock("label", {
                      class: "uni-list-cell uni-list-cell-pd",
                      key: item.id
                    }, [
                      vue.createElementVNode("view", { class: "cell-item" }, [
                        vue.createElementVNode("radio", {
                          value: item.id,
                          checked: $setup.feedbackFrom.complaintTypeId == item.id,
                          color: "#FFCC33",
                          style: { "transform": "scale(0.7)" }
                        }, null, 8, ["value", "checked"]),
                        vue.createElementVNode(
                          "text",
                          {
                            style: vue.normalizeStyle({ color: $setup.feedbackFrom.complaintTypeId == item.id ? "#FFCC33" : "" })
                          },
                          vue.toDisplayString(item.typeName),
                          5
                          /* TEXT, STYLE */
                        )
                      ])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ],
              32
              /* NEED_HYDRATION */
            )
          ]),
          vue.createElementVNode("view", null, [
            vue.createElementVNode("view", { style: { "margin-bottom": "20rpx" } }, "请在下方文本框内详情描述："),
            vue.withDirectives(vue.createElementVNode(
              "textarea",
              {
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.feedbackFrom.description = $event),
                "placeholder-style": "color:#9E9E9E;padding: 20rpx",
                placeholder: "请输入详情描述"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $setup.feedbackFrom.description]
            ])
          ]),
          vue.createElementVNode("view", { style: { "margin-top": "300rpx" } }, [
            vue.createVNode(_component_u_button, {
              type: "primary",
              size: "large",
              shape: "circle",
              block: "",
              onClick: $setup.complaintSubmit
            }, {
              default: vue.withCtx(() => [
                vue.createTextVNode("确认提交")
              ]),
              _: 1
              /* STABLE */
            })
          ]),
          vue.createElementVNode("view", {
            style: { "margin-top": "50rpx", "text-align": "center", "color": "#9E9E9E" },
            onClick: $setup.toRecord
          }, "投诉记录")
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          "background-color": "#fff",
          class: "unipopup"
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", {
              class: "shutdown",
              onClick: $setup.unipopupClose
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "closeempty",
                size: "20",
                color: "#A6A6A6"
              })
            ]),
            vue.createElementVNode("view", { class: "title" }, "您的投诉已提交！"),
            vue.createElementVNode("view", { class: "text" }, "可在“投诉记录”查看审核进度"),
            vue.createElementVNode("view", { class: "but" }, "投诉记录")
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesSettingsComplaint = /* @__PURE__ */ _export_sfc(_sfc_main$J, [["render", _sfc_render$I], ["__scopeId", "data-v-7a4f9f80"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/complaint.vue"]]);
  const _sfc_main$I = {
    name: "uni-data-select",
    mixins: [tr.mixinDatacom || {}],
    props: {
      localdata: {
        type: Array,
        default() {
          return [];
        }
      },
      value: {
        type: [String, Number],
        default: ""
      },
      modelValue: {
        type: [String, Number],
        default: ""
      },
      label: {
        type: String,
        default: ""
      },
      placeholder: {
        type: String,
        default: "请选择"
      },
      emptyTips: {
        type: String,
        default: "无选项"
      },
      clear: {
        type: Boolean,
        default: true
      },
      defItem: {
        type: Number,
        default: 0
      },
      disabled: {
        type: Boolean,
        default: false
      },
      // 格式化输出 用法 field="_id as value, version as text, uni_platform as label" format="{label} - {text}"
      format: {
        type: String,
        default: ""
      },
      placement: {
        type: String,
        default: "bottom"
      }
    },
    data() {
      return {
        showSelector: false,
        current: "",
        mixinDatacomResData: [],
        apps: [],
        channels: [],
        cacheKey: "uni-data-select-lastSelectedValue"
      };
    },
    created() {
      this.debounceGet = this.debounce(() => {
        this.query();
      }, 300);
      if (this.collection && !this.localdata.length) {
        this.debounceGet();
      }
    },
    computed: {
      typePlaceholder() {
        const text = {
          "opendb-stat-app-versions": "版本",
          "opendb-app-channels": "渠道",
          "opendb-app-list": "应用"
        };
        const common = this.placeholder;
        const placeholder = text[this.collection];
        return placeholder ? common + placeholder : common;
      },
      valueCom() {
        return this.modelValue;
      },
      textShow() {
        let text = this.current;
        return text;
      },
      getOffsetByPlacement() {
        switch (this.placement) {
          case "top":
            return "bottom:calc(100% + 12px);";
          case "bottom":
            return "top:calc(100% + 12px);";
        }
      }
    },
    watch: {
      localdata: {
        immediate: true,
        handler(val2, old) {
          if (Array.isArray(val2) && old !== val2) {
            this.mixinDatacomResData = val2;
          }
        }
      },
      valueCom(val2, old) {
        this.initDefVal();
      },
      mixinDatacomResData: {
        immediate: true,
        handler(val2) {
          if (val2.length) {
            this.initDefVal();
          }
        }
      }
    },
    methods: {
      debounce(fn, time = 100) {
        let timer = null;
        return function(...args) {
          if (timer)
            clearTimeout(timer);
          timer = setTimeout(() => {
            fn.apply(this, args);
          }, time);
        };
      },
      // 执行数据库查询
      query() {
        this.mixinDatacomEasyGet();
      },
      // 监听查询条件变更事件
      onMixinDatacomPropsChange() {
        if (this.collection) {
          this.debounceGet();
        }
      },
      initDefVal() {
        let defValue = "";
        if ((this.valueCom || this.valueCom === 0) && !this.isDisabled(this.valueCom)) {
          defValue = this.valueCom;
        } else {
          let strogeValue;
          if (this.collection) {
            strogeValue = this.getCache();
          }
          if (strogeValue || strogeValue === 0) {
            defValue = strogeValue;
          } else {
            let defItem = "";
            if (this.defItem > 0 && this.defItem <= this.mixinDatacomResData.length) {
              defItem = this.mixinDatacomResData[this.defItem - 1].value;
            }
            defValue = defItem;
          }
          if (defValue || defValue === 0) {
            this.emit(defValue);
          }
        }
        const def = this.mixinDatacomResData.find((item) => item.value === defValue);
        this.current = def ? this.formatItemName(def) : "";
      },
      /**
       * @param {[String, Number]} value
       * 判断用户给的 value 是否同时为禁用状态
       */
      isDisabled(value) {
        let isDisabled = false;
        this.mixinDatacomResData.forEach((item) => {
          if (item.value === value) {
            isDisabled = item.disable;
          }
        });
        return isDisabled;
      },
      clearVal() {
        this.emit("");
        this.current = "";
        if (this.collection) {
          this.removeCache();
        }
      },
      change(item) {
        if (!item.disable) {
          this.showSelector = false;
          this.current = this.formatItemName(item);
          this.emit(item.value);
        }
      },
      emit(val2) {
        this.$emit("input", val2);
        this.$emit("update:modelValue", val2);
        this.$emit("change", val2);
        if (this.collection) {
          this.setCache(val2);
        }
      },
      toggleSelector() {
        if (this.disabled) {
          return;
        }
        this.showSelector = !this.showSelector;
      },
      formatItemName(item) {
        let {
          text,
          value,
          channel_code
        } = item;
        channel_code = channel_code ? `(${channel_code})` : "";
        if (this.format) {
          let str = "";
          str = this.format;
          for (let key in item) {
            str = str.replace(new RegExp(`{${key}}`, "g"), item[key]);
          }
          return str;
        } else {
          return this.collection.indexOf("app-list") > 0 ? `${text}(${value})` : text ? text : `未命名${channel_code}`;
        }
      },
      // 获取当前加载的数据
      getLoadData() {
        return this.mixinDatacomResData;
      },
      // 获取当前缓存key
      getCurrentCacheKey() {
        return this.collection;
      },
      // 获取缓存
      getCache(name = this.getCurrentCacheKey()) {
        let cacheData = uni.getStorageSync(this.cacheKey) || {};
        return cacheData[name];
      },
      // 设置缓存
      setCache(value, name = this.getCurrentCacheKey()) {
        let cacheData = uni.getStorageSync(this.cacheKey) || {};
        cacheData[name] = value;
        uni.setStorageSync(this.cacheKey, cacheData);
      },
      // 删除缓存
      removeCache(name = this.getCurrentCacheKey()) {
        let cacheData = uni.getStorageSync(this.cacheKey) || {};
        delete cacheData[name];
        uni.setStorageSync(this.cacheKey, cacheData);
      }
    }
  };
  function _sfc_render$H(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-stat__select" }, [
      $props.label ? (vue.openBlock(), vue.createElementBlock(
        "span",
        {
          key: 0,
          class: "uni-label-text hide-on-phone"
        },
        vue.toDisplayString($props.label + "："),
        1
        /* TEXT */
      )) : vue.createCommentVNode("v-if", true),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["uni-stat-box", { "uni-stat__actived": $data.current }])
        },
        [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["uni-select", { "uni-select--disabled": $props.disabled }])
            },
            [
              vue.createElementVNode("view", {
                class: "uni-select__input-box",
                onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleSelector && $options.toggleSelector(...args))
              }, [
                $data.current ? (vue.openBlock(), vue.createElementBlock(
                  "view",
                  {
                    key: 0,
                    class: "uni-select__input-text"
                  },
                  vue.toDisplayString($options.textShow),
                  1
                  /* TEXT */
                )) : (vue.openBlock(), vue.createElementBlock(
                  "view",
                  {
                    key: 1,
                    class: "uni-select__input-text uni-select__input-placeholder"
                  },
                  vue.toDisplayString($options.typePlaceholder),
                  1
                  /* TEXT */
                )),
                $data.current && $props.clear && !$props.disabled ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: "clear-button",
                  onClick: _cache[0] || (_cache[0] = vue.withModifiers((...args) => $options.clearVal && $options.clearVal(...args), ["stop"]))
                }, [
                  vue.createVNode(_component_uni_icons, {
                    type: "clear",
                    color: "#c0c4cc",
                    size: "24"
                  })
                ])) : (vue.openBlock(), vue.createElementBlock("view", { key: "arrow-button" }, [
                  vue.createVNode(_component_uni_icons, {
                    type: $data.showSelector ? "top" : "bottom",
                    size: "14",
                    color: "#999"
                  }, null, 8, ["type"])
                ]))
              ]),
              $data.showSelector ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "uni-select--mask",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleSelector && $options.toggleSelector(...args))
              })) : vue.createCommentVNode("v-if", true),
              $data.showSelector ? (vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: 1,
                  class: "uni-select__selector",
                  style: vue.normalizeStyle($options.getOffsetByPlacement)
                },
                [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass($props.placement == "bottom" ? "uni-popper__arrow_bottom" : "uni-popper__arrow_top")
                    },
                    null,
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode("scroll-view", {
                    "scroll-y": "true",
                    class: "uni-select__selector-scroll"
                  }, [
                    $data.mixinDatacomResData.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "uni-select__selector-empty"
                    }, [
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString($props.emptyTips),
                        1
                        /* TEXT */
                      )
                    ])) : (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      { key: 1 },
                      vue.renderList($data.mixinDatacomResData, (item, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "uni-select__selector-item",
                          key: index,
                          onClick: ($event) => $options.change(item)
                        }, [
                          vue.createElementVNode(
                            "text",
                            {
                              class: vue.normalizeClass({ "uni-select__selector__disabled": item.disable })
                            },
                            vue.toDisplayString($options.formatItemName(item)),
                            3
                            /* TEXT, CLASS */
                          )
                        ], 8, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ],
                4
                /* STYLE */
              )) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          )
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const __easycom_2$3 = /* @__PURE__ */ _export_sfc(_sfc_main$I, [["render", _sfc_render$H], ["__scopeId", "data-v-ddf9e0a2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue"]]);
  const wxPay = (params, config2 = {}) => http$1.post("/api/order/order/wxPay", params, config2);
  const aliPay = (params, config2 = {}) => http$1.post("/api/order/order/aliPay", params, config2);
  const payment = (params, config2 = {}) => http$1.post("/api/order/order/getPaymentList", params, config2);
  const summary = (params, config2 = {}) => http$1.get("/api/wallet/summary", params, config2);
  const wallet = (params, config2 = {}) => http$1.post("/api/wallet/income/page", params, config2);
  const withdraw = (params, config2 = {}) => http$1.post("/api/wallet/withdraw/page", params, config2);
  const apply = (params, config2 = {}) => http$1.post("/api/wallet/apply", params, config2);
  const bank = (params, config2 = {}) => http$1.get("/api/wallet/bank-cards", params, config2);
  const addBank = (params, config2 = {}) => http$1.post("/api/wallet/bank-card/add", params, config2);
  const saveComment = (params, config2 = {}) => http$1.post("/api/comment/comment/saveComment", params, config2);
  const applyRefund = (params, config2 = {}) => http$1.post("/api/order/order/applyRefund", params, config2);
  const payResult = (params, config2 = {}) => http$1.get("/api/order/order/payResult", params, config2);
  const orderDetail = (params, config2 = {}) => http$1.get(`/api/order/order/detail?orderSn=${params}`, config2);
  const express = (params, config2 = {}) => http$1.get(`/api/mall/express/query`, params, config2);
  const orderList = (params, config2 = {}) => http$1.post(`/api/order/order/createConsult`, params, config2);
  const createListen = (params, config2 = {}) => http$1.post(`/api/order/order/createListen`, params, config2);
  const orderMy = (params, config2 = {}) => http$1.post(`/api/mall/order/my`, params, config2);
  const _imports_0$5 = "/static/order/ic-copy.png";
  const _imports_2 = "/static/auth/refund.png";
  const _sfc_main$H = {
    __name: "refund-order",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "cf5d4b02-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const orderInfo = vue.ref({});
      const orderType = vue.ref("continue");
      const orderRefund = vue.ref({
        orderSn: "",
        refundType: "",
        refundReason: "",
        refundDesc: ""
      });
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const range2 = vue.ref([
        { value: "老师原因", text: "老师原因" },
        { value: "个人原因", text: "个人原因" },
        { value: "其他原因", text: "其他原因" }
      ]);
      const change = (e2) => {
        orderRefund.value.refundType = e2;
      };
      const radioList = vue.ref([
        { value: "暂不需要" },
        { value: "协商一致" },
        { value: "联系不上" },
        { value: "时间冲突" },
        { value: "期望落差" },
        { value: "老师原因" },
        { value: "其他原因" },
        { value: "服务太多不好", checked: "true" }
      ]);
      onLoad((options) => {
        orderInfo.value = JSON.parse(options.order);
        orderRefund.value.orderSn = orderInfo.value.orderSn;
      });
      const radioChange = (e2) => {
        orderRefund.value.refundReason = e2.detail.value;
      };
      const popup = vue.ref(null);
      const applyRefundBut = async () => {
        if (orderRefund.value.refundType == "" || orderRefund.value.refundReason == "") {
          uni.showToast({
            title: "请填写完整信息",
            icon: "none"
          });
          return;
        }
        popup.value.open("center");
      };
      const closePopup = async () => {
        try {
          const res2 = await applyRefund(orderRefund.value);
          uni.showToast({
            title: "申请退款成功",
            icon: "success"
          });
          orderType.value = "success";
        } catch (e2) {
        }
      };
      const cancelPopup = () => {
        popup.value.close();
        backFn();
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, orderInfo, orderType, orderRefund, backFn, copyText, range: range2, change, radioList, radioChange, popup, applyRefundBut, closePopup, cancelPopup, ref: vue.ref, Text: vue.Text, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get applyRefund() {
        return applyRefund;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$G(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_data_select = resolveEasycom(vue.resolveDynamicComponent("uni-data-select"), __easycom_2$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "申请退款"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "clause" }, [
          vue.createElementVNode("view", { class: "user-info" }, [
            vue.createElementVNode("view", { class: "user-name" }, [
              vue.createElementVNode("image", {
                src: $setup.orderInfo.teacherAvatar,
                class: "user-avatar"
              }, null, 8, ["src"]),
              vue.createElementVNode(
                "view",
                null,
                vue.toDisplayString($setup.orderInfo.teacherName),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "order-info" }, [
              vue.createElementVNode(
                "view",
                null,
                "订单号：" + vue.toDisplayString($setup.orderInfo.orderSn),
                1
                /* TEXT */
              ),
              vue.createElementVNode("image", {
                src: _imports_0$5,
                style: { "width": "22rpx", "height": "22rpx", "margin-left": "10rpx" },
                onClick: _cache[0] || (_cache[0] = ($event) => $setup.copyText("Z20251119874653"))
              })
            ])
          ]),
          vue.createElementVNode(
            "view",
            { style: { "margin-top": "10rpx" } },
            vue.toDisplayString($setup.orderInfo.serviceInfo),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "time" }, [
            vue.createTextVNode("购买时长："),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.orderInfo.buyDuration),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "time" }, [
            vue.createTextVNode("服务方式："),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.orderInfo.consultTypeDesc),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "time" }, [
            vue.createTextVNode("剩余时长："),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.orderInfo.remainingDuration),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "time" }, [
            vue.createTextVNode("下单时间："),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.orderInfo.createTime),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "time" }, [
            vue.createTextVNode("到期时间："),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.orderInfo.expireTime),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "view",
              { class: "time-money" },
              "¥ " + vue.toDisplayString($setup.orderInfo.orderMoney),
              1
              /* TEXT */
            )
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "refund-reason" }, [
        vue.createElementVNode("view", { class: "reason-title" }, [
          vue.createTextVNode("请选择退款类型:"),
          vue.createElementVNode("text", null, "*")
        ]),
        vue.createElementVNode("view", null, [
          vue.createVNode(_component_uni_data_select, {
            modelValue: $setup.orderRefund.refundType,
            "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.orderRefund.refundType = $event),
            localdata: $setup.range,
            onChange: $setup.change,
            placeholder: "请选择退款原因"
          }, null, 8, ["modelValue", "localdata"])
        ])
      ]),
      vue.createElementVNode("view", { class: "refund-reason" }, [
        vue.createElementVNode("view", { class: "reason-title" }, [
          vue.createTextVNode("请选择退款原因:"),
          vue.createElementVNode("text", null, "*")
        ]),
        vue.createElementVNode("view", { class: "radio-group" }, [
          vue.createElementVNode(
            "radio-group",
            { onChange: $setup.radioChange },
            [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.radioList, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("radio", {
                    value: item.value,
                    key: index,
                    activeBackgroundColor: "#35CA95",
                    style: { "margin": "0 20rpx 30rpx 0" }
                  }, [
                    vue.createElementVNode(
                      "text",
                      null,
                      vue.toDisplayString(item.value),
                      1
                      /* TEXT */
                    )
                  ], 8, ["value"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ],
            32
            /* NEED_HYDRATION */
          )
        ])
      ]),
      vue.createElementVNode("view", { class: "refund-description" }, [
        vue.createElementVNode("view", { class: "radio-group" }, [
          vue.createElementVNode("view", { style: { "margin-bottom": "20rpx" } }, "请在下方文本框内详情描述:"),
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.orderRefund.refundDesc = $event),
              "placeholder-style": "color:#9E9E9E;padding: 20rpx",
              placeholder: "请输入详情描述"
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $setup.orderRefund.refundDesc]
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "refund-btn-container" }, [
        vue.createElementVNode("view", {
          class: "refund-btn",
          onClick: $setup.applyRefundBut
        }, "确认退款")
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "center",
          animation: false
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-container" }, [
              vue.createElementVNode("image", { src: _imports_2 }),
              $setup.orderType == "continue" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "popup-title"
              }, "很遗憾")) : vue.createCommentVNode("v-if", true),
              $setup.orderType == "continue" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "popup-content"
              }, "未能给你一个满意的服务体验")) : vue.createCommentVNode("v-if", true),
              $setup.orderType == "continue" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 2,
                class: "popup-btn"
              }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "继续退款"),
                vue.createElementVNode("view", { class: "popup-btn-text" }, "|"),
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "换一位老师")
              ])) : vue.createCommentVNode("v-if", true),
              $setup.orderType == "success" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 3,
                class: "popup-content",
                style: { "margin-top": "50rpx" }
              }, "退款成功")) : vue.createCommentVNode("v-if", true),
              $setup.orderType == "success" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 4,
                class: "popup-title",
                style: { "margin": "0" }
              }, "期待与您更好的重逢")) : vue.createCommentVNode("v-if", true),
              $setup.orderType == "success" ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 5,
                class: "popup-btn"
              }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.cancelPopup
                }, "关闭"),
                vue.createElementVNode("view", { class: "popup-btn-text" }, "|"),
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "看看其他老师")
              ])) : vue.createCommentVNode("v-if", true)
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesPaymentOrderRefundOrder = /* @__PURE__ */ _export_sfc(_sfc_main$H, [["render", _sfc_render$G], ["__scopeId", "data-v-cf5d4b02"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order/refund-order.vue"]]);
  const _sfc_main$G = {
    __name: "record",
    props: {
      titlePage: {
        type: String,
        default: "反馈记录"
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "ee6ca4e9-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const props = __props;
      const itemLsit = vue.ref([
        { id: 1, typeName: "使用便捷问题" },
        { id: 2, typeName: "登陆问题" },
        { id: 3, typeName: "安全问题" },
        { id: 4, typeName: "支付问题" },
        { id: 5, typeName: "订单问题" },
        { id: 6, typeName: "账号问题" },
        { id: 7, typeName: "退款问题" }
      ]);
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      onShow(() => {
        initListData();
      });
      const feedbackList = vue.ref([]);
      const splitContent = (content) => {
        var _a2, _b2;
        let type = "";
        let detail = "";
        if (content && content.trim()) {
          const typeReg = /类型：([^\n]+)/;
          const detailReg = /详情：([\s\S]*)/;
          type = ((_a2 = content.match(typeReg)) == null ? void 0 : _a2[1]) || "";
          detail = ((_b2 = content.match(detailReg)) == null ? void 0 : _b2[1]) || "";
        }
        return { type: Number(type) || "", detail };
      };
      const initListData = async () => {
        let { data } = await getFeedback({
          current: 1,
          size: 10,
          userId: globalStore.userInfo.id
        });
        const newList = data.records.map((item) => {
          const { type, detail } = splitContent(item.content);
          return { ...item, type, detail, isShowDetail: false };
        });
        formatAppLog("log", "at pages/settings/record.vue:153", newList);
        feedbackList.value = newList;
      };
      const toggleDetail = (index) => {
        feedbackList.value[index].isShowDetail = !feedbackList.value[index].isShowDetail;
      };
      initListData();
      const __returned__ = { globalStore, statusBarHeight, props, itemLsit, scrollTop, backFn, feedbackList, splitContent, initListData, toggleDetail, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get complaintSubmitPost() {
        return complaintSubmitPost;
      }, get complaintType() {
        return complaintType;
      }, get getFeedback() {
        return getFeedback;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$F(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: $props.titlePage,
          class: vue.normalizeClass(["header-bar", $setup.scrollTop > 15 ? "scrollClass" : ""])
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["title", "class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "feedback-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.feedbackList, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "feedback-item",
                key: item.id
              }, [
                vue.createElementVNode("view", {
                  class: "time-item",
                  onClick: ($event) => $setup.toggleDetail(index)
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "time-text" },
                    vue.toDisplayString(item.createdTime),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "icon" },
                    vue.toDisplayString(item.isShowDetail ? "▲" : "▼"),
                    1
                    /* TEXT */
                  )
                ], 8, ["onClick"]),
                vue.withDirectives(vue.createElementVNode(
                  "view",
                  { class: "detail-box" },
                  [
                    vue.createElementVNode("radio-group", { class: "clause-group" }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.itemLsit, (items, index2) => {
                          return vue.openBlock(), vue.createElementBlock("label", {
                            class: "uni-list-cell uni-list-cell-pd",
                            key: items.id
                          }, [
                            vue.createElementVNode("view", { class: "cell-item" }, [
                              vue.createElementVNode("radio", {
                                value: items.id,
                                checked: item.type == items.id,
                                color: "#FFCC33",
                                style: { "transform": "scale(0.7)" },
                                disabled: ""
                              }, null, 8, ["value", "checked"]),
                              vue.createElementVNode(
                                "text",
                                {
                                  style: vue.normalizeStyle({ color: item.type == items.id ? "#FFCC33" : "" })
                                },
                                vue.toDisplayString(items.typeName),
                                5
                                /* TEXT, STYLE */
                              )
                            ])
                          ]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ]),
                    item.detail ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "content-item"
                    }, [
                      vue.createElementVNode("view", { style: { "margin-bottom": "10rpx" } }, "您填写的详情描述："),
                      vue.withDirectives(vue.createElementVNode("textarea", {
                        "onUpdate:modelValue": ($event) => item.detail = $event,
                        "placeholder-style": "color:#b0b2b4;padding: 20rpx",
                        disabled: ""
                      }, null, 8, ["onUpdate:modelValue"]), [
                        [vue.vModelText, item.detail]
                      ])
                    ])) : vue.createCommentVNode("v-if", true),
                    item.detail ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 1,
                      style: { "margin": "20rpx 0", "display": "flex", "align-items": "center", "justify-content": "flex-end" }
                    }, [
                      vue.createElementVNode("view", { style: { "color": "#5a5c5d" } }, "提交时间："),
                      vue.createElementVNode(
                        "view",
                        { style: { "color": "#b0b2b4" } },
                        vue.toDisplayString(item.createdTime),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true),
                    item.replyContent ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 2,
                      class: "content-item"
                    }, [
                      vue.createElementVNode("view", { style: { "margin-bottom": "10rpx" } }, "平台受理意见:"),
                      vue.withDirectives(vue.createElementVNode("textarea", {
                        "onUpdate:modelValue": ($event) => item.replyContent = $event,
                        "placeholder-style": "color:#b0b2b4;padding: 20rpx",
                        disabled: ""
                      }, null, 8, ["onUpdate:modelValue"]), [
                        [vue.vModelText, item.replyContent]
                      ])
                    ])) : vue.createCommentVNode("v-if", true),
                    item.replyContent ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 3,
                      style: { "margin": "20rpx 0", "display": "flex", "align-items": "center", "justify-content": "flex-end" }
                    }, [
                      vue.createElementVNode("view", { style: { "color": "#5a5c5d" } }, "回复时间："),
                      vue.createElementVNode(
                        "view",
                        { style: { "color": "#b0b2b4" } },
                        vue.toDisplayString(item.createdTime),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true)
                  ],
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vShow, item.isShowDetail]
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])
    ]);
  }
  const PagesSettingsRecord = /* @__PURE__ */ _export_sfc(_sfc_main$G, [["render", _sfc_render$F], ["__scopeId", "data-v-ee6ca4e9"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/record.vue"]]);
  const _sfc_main$F = {
    name: "u-badge",
    props: {
      // primary,warning,success,error,info
      type: {
        type: String,
        default: "error"
      },
      // default, mini
      size: {
        type: String,
        default: "default"
      },
      //是否是圆点
      isDot: {
        type: Boolean,
        default: false
      },
      // 显示的数值内容
      count: {
        type: [Number, String]
      },
      // 展示封顶的数字值
      overflowCount: {
        type: Number,
        default: 99
      },
      // 当数值为 0 时，是否展示 Badge
      showZero: {
        type: Boolean,
        default: false
      },
      // 位置偏移
      offset: {
        type: Array,
        default: () => {
          return [10, 10];
        }
      },
      // 是否开启绝对定位，开启了offset才会起作用
      absolute: {
        type: Boolean,
        default: true
      },
      // 字体大小
      fontSize: {
        type: [String, Number],
        default: "12"
      },
      // 字体演示
      color: {
        type: String,
        default: "#ffffff"
      },
      // badge的背景颜色
      bgColor: {
        type: String,
        default: ""
      },
      // 是否让badge组件的中心点和父组件右上角重合，配置的话，offset将会失效
      isCenter: {
        type: Boolean,
        default: false
      }
    },
    computed: {
      // 是否将badge中心与父组件右上角重合
      boxStyle() {
        let style = {};
        if (this.isCenter) {
          style.top = 0;
          style.right = 0;
          style.transform = "translateY(-50%) translateX(50%)";
        } else {
          style.top = this.offset[0] + "px";
          style.right = this.offset[1] + "px";
          style.transform = "translateY(0) translateX(0)";
        }
        if (this.size == "mini") {
          style.transform = style.transform + " scale(0.8)";
        }
        return style;
      },
      // isDot类型时，不显示文字
      showText() {
        if (this.isDot)
          return "";
        else {
          if (this.count > this.overflowCount)
            return `${this.overflowCount}+`;
          else
            return this.count;
        }
      },
      // 是否显示组件
      show() {
        if (this.count == 0 && this.showZero == false)
          return false;
        else
          return true;
      }
    }
  };
  function _sfc_render$E(_ctx, _cache, $props, $setup, $data, $options) {
    return $options.show ? (vue.openBlock(), vue.createElementBlock(
      "view",
      {
        key: 0,
        class: vue.normalizeClass(["u-badge", [
          $props.isDot ? "u-badge-dot" : "",
          $props.size == "mini" ? "u-badge-mini" : "",
          $props.type ? "u-badge--bg--" + $props.type : ""
        ]]),
        style: vue.normalizeStyle([{
          top: $props.offset[0] + "px",
          right: $props.offset[1] + "px",
          fontSize: $props.fontSize + "px",
          position: $props.absolute ? "absolute" : "static",
          color: $props.color,
          backgroundColor: $props.bgColor
        }, $options.boxStyle])
      },
      vue.toDisplayString($options.showText),
      7
      /* TEXT, CLASS, STYLE */
    )) : vue.createCommentVNode("v-if", true);
  }
  const __easycom_0 = /* @__PURE__ */ _export_sfc(_sfc_main$F, [["render", _sfc_render$E], ["__scopeId", "data-v-f84de764"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-badge/u-badge.vue"]]);
  const _sfc_main$E = {
    name: "u-tabs",
    emits: ["update:modelValue", "input", "change"],
    props: {
      // 通过双向绑定控制组件的弹出与收起
      value: {
        type: [Number, String],
        default: 0
      },
      modelValue: {
        type: [Number, String],
        default: 0
      },
      // 当前活动tab的索引（请使用 v-model="current" 代替 :current="current" @change="change" 其他不变）
      current: {
        type: [Number, String],
        default: 0
      },
      // 导航菜单是否需要滚动，如只有2或者3个的时候，就不需要滚动了，此时使用flex平分tab的宽度
      isScroll: {
        type: Boolean,
        default: true
      },
      //需循环的标签列表
      list: {
        type: Array,
        default() {
          return [];
        }
      },
      // 导航栏的高度和行高
      height: {
        type: [String, Number],
        default: 80
      },
      // 字体大小
      fontSize: {
        type: [String, Number],
        default: 30
      },
      // 过渡动画时长, 单位ms
      duration: {
        type: [String, Number],
        default: 0.5
      },
      // 选中项的主题颜色
      activeColor: {
        type: String,
        default: "#2979ff"
      },
      // 未选中项的颜色
      inactiveColor: {
        type: String,
        default: "#303133"
      },
      // 菜单底部移动的bar的宽度，单位rpx
      barWidth: {
        type: [String, Number],
        default: 40
      },
      // 移动bar的高度
      barHeight: {
        type: [String, Number],
        default: 6
      },
      // 单个tab的左或有内边距（左右相同）
      gutter: {
        type: [String, Number],
        default: 30
      },
      // 导航栏的背景颜色
      bgColor: {
        type: String,
        default: "#ffffff"
      },
      // 读取传入的数组对象的属性(tab名称)
      name: {
        type: String,
        default: "name"
      },
      // 读取传入的数组对象的属性(徽标数)
      count: {
        type: String,
        default: "count"
      },
      // 徽标数位置偏移
      offset: {
        type: Array,
        default: () => {
          return [5, 20];
        }
      },
      // 活动tab字体是否加粗
      bold: {
        type: Boolean,
        default: true
      },
      // 当前活动tab item的样式
      activeItemStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 是否显示底部的滑块
      showBar: {
        type: Boolean,
        default: true
      },
      // 底部滑块的自定义样式
      barStyle: {
        type: Object,
        default() {
          return {};
        }
      },
      // 标签的宽度
      itemWidth: {
        type: [Number, String],
        default: "auto"
      }
    },
    data() {
      return {
        scrollLeft: 0,
        // 滚动scroll-view的左边滚动距离
        tabQueryInfo: [],
        // 存放对tab菜单查询后的节点信息
        componentWidth: 0,
        // 屏幕宽度，单位为px
        scrollBarLeft: 0,
        // 移动bar需要通过translateX()移动的距离
        parentLeft: 0,
        // 父元素(tabs组件)到屏幕左边的距离
        id: this.$u.guid(),
        // id值
        currentIndex: this.current,
        barFirstTimeMove: true
        // 滑块第一次移动时(页面刚生成时)，无需动画，否则给人怪异的感觉
      };
    },
    watch: {
      // 监听tab的变化，重新计算tab菜单的布局信息，因为实际使用中菜单可能是通过
      // 后台获取的（如新闻app顶部的菜单），获取返回需要一定时间，所以list变化时，重新获取布局信息
      list(n2, o2) {
        if (n2.length !== o2.length)
          this.currentIndex = 0;
        this.$nextTick(() => {
          this.init();
        });
      },
      current: {
        immediate: true,
        handler(nVal, oVal) {
          this.$nextTick(() => {
            this.currentIndex = nVal;
            this.scrollByIndex();
          });
        }
      },
      valueCom: {
        immediate: true,
        handler(nVal, oVal) {
          this.$nextTick(() => {
            this.currentIndex = nVal;
            this.scrollByIndex();
          });
        }
      }
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      // 移动bar的样式
      tabBarStyle() {
        let style = {
          width: this.barWidth + "rpx",
          transform: `translate(${this.scrollBarLeft}px, -100%)`,
          // 滑块在页面渲染后第一次滑动时，无需动画效果
          "transition-duration": `${this.barFirstTimeMove ? 0 : this.duration}s`,
          "background-color": this.activeColor,
          height: this.barHeight + "rpx",
          // 设置一个很大的值，它会自动取能用的最大值，不用高度的一半，是因为高度可能是单数，会有小数出现
          "border-radius": `${this.barHeight / 2}px`
        };
        Object.assign(style, this.barStyle);
        return style;
      },
      // tab的样式
      tabItemStyle() {
        return (index) => {
          let style = {
            height: this.height + "rpx",
            "line-height": this.height + "rpx",
            "font-size": this.fontSize + "rpx",
            "transition-duration": `${this.duration}s`,
            padding: this.isScroll ? `0 ${this.gutter}rpx` : "",
            flex: this.isScroll ? "auto" : "1",
            width: this.$u.addUnit(this.itemWidth)
          };
          if (index == this.currentIndex && this.bold)
            style.fontWeight = "bold";
          if (index == this.currentIndex) {
            style.color = this.activeColor;
            style = Object.assign(style, this.activeItemStyle);
          } else {
            style.color = this.inactiveColor;
          }
          return style;
        };
      }
    },
    methods: {
      // 设置一个init方法，方便多处调用
      async init() {
        let tabRect = await this.$uGetRect("#" + this.id);
        this.parentLeft = tabRect.left;
        this.componentWidth = tabRect.width;
        this.getTabRect();
      },
      // 点击某一个tab菜单
      clickTab(index) {
        if (index == this.currentIndex)
          return;
        this.$emit("change", index);
        this.$emit("input", index);
        this.$emit("update:modelValue", index);
      },
      // 查询tab的布局信息
      getTabRect() {
        let query = uni.createSelectorQuery().in(this);
        for (let i2 = 0; i2 < this.list.length; i2++) {
          query.select(`#u-tab-item-${i2}`).fields({
            size: true,
            rect: true
          });
        }
        query.exec(
          (function(res2) {
            this.tabQueryInfo = res2;
            this.scrollByIndex();
          }).bind(this)
        );
      },
      // 滚动scroll-view，让活动的tab处于屏幕的中间位置
      scrollByIndex() {
        let tabInfo = this.tabQueryInfo[this.currentIndex];
        if (!tabInfo)
          return;
        let tabWidth = tabInfo.width;
        let offsetLeft = tabInfo.left - this.parentLeft;
        let scrollLeft = offsetLeft - (this.componentWidth - tabWidth) / 2;
        this.scrollLeft = scrollLeft < 0 ? 0 : scrollLeft;
        let left = tabInfo.left + tabInfo.width / 2 - this.parentLeft;
        this.scrollBarLeft = left - uni.upx2px(this.barWidth) / 2;
        if (this.barFirstTimeMove == true) {
          setTimeout(() => {
            this.barFirstTimeMove = false;
          }, 100);
        }
      }
    },
    mounted() {
      this.init();
    }
  };
  function _sfc_render$D(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_badge = resolveEasycom(vue.resolveDynamicComponent("u-badge"), __easycom_0);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "u-tabs",
        style: vue.normalizeStyle({
          background: $props.bgColor
        })
      },
      [
        vue.createElementVNode("view", { id: $data.id }, [
          vue.createElementVNode("scroll-view", {
            "scroll-x": "",
            class: "u-scroll-view",
            "scroll-left": $data.scrollLeft,
            "scroll-with-animation": ""
          }, [
            vue.createElementVNode("view", {
              class: vue.normalizeClass(["u-scroll-box", { "u-tabs-scroll-flex": !$props.isScroll }]),
              id: $data.id
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($props.list, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "u-tab-item u-line-1",
                    id: "u-tab-item-" + index,
                    key: index,
                    onClick: ($event) => $options.clickTab(index),
                    style: vue.normalizeStyle([$options.tabItemStyle(index)])
                  }, [
                    vue.createVNode(_component_u_badge, {
                      count: item[$props.count] || item["count"] || 0,
                      offset: $props.offset,
                      size: "mini"
                    }, null, 8, ["count", "offset"]),
                    vue.createTextVNode(
                      " " + vue.toDisplayString(item[$props.name] || item["name"]),
                      1
                      /* TEXT */
                    )
                  ], 12, ["id", "onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              )),
              $props.showBar ? (vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: 0,
                  class: "u-tab-bar",
                  style: vue.normalizeStyle([$options.tabBarStyle])
                },
                null,
                4
                /* STYLE */
              )) : vue.createCommentVNode("v-if", true)
            ], 10, ["id"])
          ], 8, ["scroll-left"])
        ], 8, ["id"])
      ],
      4
      /* STYLE */
    );
  }
  const __easycom_1$1 = /* @__PURE__ */ _export_sfc(_sfc_main$E, [["render", _sfc_render$D], ["__scopeId", "data-v-750d9d75"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-tabs/u-tabs.vue"]]);
  const serviceTyep = (type) => {
    const SERVICE_TYEP = {
      1: "语音",
      2: "视频",
      3: "文字"
    };
    return SERVICE_TYEP[type];
  };
  const _sfc_main$D = {
    __name: "consult-order",
    setup(__props, { expose: __expose }) {
      __expose();
      const tabs = vue.ref([
        { name: "全部" },
        { name: "待付款" },
        { name: "待咨询" },
        { name: "待评价" },
        { name: "交易完成" }
      ]);
      const paramsData = vue.ref({
        current: 1,
        params: {
          orderType: 9,
          current: 1,
          size: 10
        },
        size: 10
      });
      const currentTab = vue.ref(0);
      const orderList2 = vue.ref([]);
      const changeTab = (e2) => {
        paramsData.value.current = 1;
        paramsData.value.params.status = e2;
        currentTab.value = e2;
        orderList2.value = [];
        if (e2 == 0) {
          delete paramsData.value.params.status;
        }
        postList();
      };
      const listEmpty = vue.ref(false);
      onReachBottom(() => {
        if (!listEmpty.value) {
          paramsData.value.current += 1;
          postList();
        }
      });
      const postList = async () => {
        try {
          const { data } = await postOrder(paramsData.value);
          orderList2.value = [...orderList2.value, ...data.records];
          listEmpty.value = res.data.records.length === 0 ? true : false;
        } catch (e2) {
          formatAppLog("log", "at pages/payment/order/consult-order.vue:172", e2);
        }
      };
      const getStatusText = (status) => {
        switch (status) {
          case 1:
            return "待付款";
          case 2:
            return "待咨询";
          case 3:
            return "待评价";
          case 4:
            return "已完成";
          case 5:
            return "交易关闭";
          case 6:
            return "退款";
          default:
            return "";
        }
      };
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const getStatusClass = (status) => {
        return {
          待支付: "",
          待咨询: "",
          待评价: "",
          已完成: "",
          未完成: ""
        }[status];
      };
      const typeId = vue.ref({});
      onLoad((options) => {
        typeId.value = JSON.parse(options.type);
        if (options.identity == "consult-order") {
          paramsData.value.params.consultantId = typeId.value.id;
        } else if (options.identity == "listener-order") {
          paramsData.value.params.listenerId = typeId.value.id;
        } else {
          paramsData.value.params.userId = typeId.value.id;
        }
      });
      const toDetail = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order-details?status=${JSON.stringify(item)}&type=${JSON.stringify(typeId.value)}&colorType=1`
        });
      };
      const toComment = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order/evaluation-order?type=${JSON.stringify(
            typeId.value
          )}&colorType=2`
        });
      };
      const handleChat = (val2) => {
        formatAppLog("log", "at pages/payment/order/consult-order.vue:245", val2);
      };
      const cancelOrder = async (item) => {
        try {
          const res2 = await cancel({ orderSn: item.orderSn });
          uni.showToast({
            title: "取消成功",
            icon: "none"
          });
          postList();
        } catch (e2) {
          formatAppLog("log", "at pages/payment/order/consult-order.vue:262", e2);
        }
      };
      vue.onMounted(() => {
        postList();
      });
      const __returned__ = { tabs, paramsData, currentTab, orderList: orderList2, changeTab, listEmpty, postList, getStatusText, copyText, getStatusClass, typeId, toDetail, toComment, handleChat, cancelOrder, ref: vue.ref, computed: vue.computed, onMounted: vue.onMounted, get onLoad() {
        return onLoad;
      }, get onReachBottom() {
        return onReachBottom;
      }, get postOrder() {
        return postOrder;
      }, get cancel() {
        return cancel;
      }, get serviceTyep() {
        return serviceTyep;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$C(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_navbar = resolveEasycom(vue.resolveDynamicComponent("u-navbar"), __easycom_0$1);
    const _component_u_tabs = resolveEasycom(vue.resolveDynamicComponent("u-tabs"), __easycom_1$1);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "order-page" }, [
      vue.createVNode(_component_u_navbar, {
        title: "咨询订单",
        autoBack: true
      }),
      vue.createVNode(_component_u_tabs, {
        list: $setup.tabs,
        onChange: $setup.changeTab,
        current: $setup.currentTab,
        lineColor: "#00C28A",
        activeStyle: "color:#000;font-weight:600",
        inactiveStyle: "color:#666"
      }, null, 8, ["list", "current"]),
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "order-list"
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.orderList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: index,
                class: vue.normalizeClass(["order-card", $setup.getStatusClass(item.status)])
              },
              [
                vue.createElementVNode("view", { class: "order-header" }, [
                  vue.createElementVNode("text", { class: "order-no" }, [
                    vue.createTextVNode(
                      "订单号：" + vue.toDisplayString(item.orderSn) + " ",
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("image", {
                      src: _imports_0$5,
                      style: { "width": "28rpx", "height": "28rpx", "margin-left": "15rpx" },
                      onClick: ($event) => $setup.copyText(item.orderSn)
                    }, null, 8, ["onClick"])
                  ]),
                  vue.createElementVNode(
                    "text",
                    { class: "status green" },
                    vue.toDisplayString($setup.getStatusText(item.status)),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "user-info" }, [
                  vue.createElementVNode("image", {
                    src: item.teacherAvatar,
                    class: "avatar"
                  }, null, 8, ["src"]),
                  vue.createElementVNode(
                    "text",
                    { class: "username" },
                    vue.toDisplayString(item.teacherName),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", {
                  class: "order-body",
                  onClick: ($event) => $setup.toDetail(item)
                }, [
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "购买时长："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.buyDuration),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "服务方式："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.consultTypeDesc),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "剩余时间："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.remainingDuration),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "到期时间："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.expireTime),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "下单时间："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.createTime),
                      1
                      /* TEXT */
                    )
                  ])
                ], 8, ["onClick"]),
                vue.createElementVNode("view", { class: "order-footer" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "price" },
                    "￥" + vue.toDisplayString(item.orderMoney),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "btn-group" }, [
                  vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "gap": "20rpx" } }, [
                    item.status == 1 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 0,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      plain: "",
                      type: "info",
                      onClick: ($event) => $setup.cancelOrder(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("取消订单")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.status == 1 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 1,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      type: "success"
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("立即支付")
                      ]),
                      _: 1
                      /* STABLE */
                    })) : vue.createCommentVNode("v-if", true),
                    item.status == 2 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 2,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      plain: "",
                      type: "info"
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("退款")
                      ]),
                      _: 1
                      /* STABLE */
                    })) : vue.createCommentVNode("v-if", true),
                    item.status == 2 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 3,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      type: "success",
                      onClick: ($event) => $setup.handleChat(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("立即咨询")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.status == 3 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 4,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      type: "success",
                      onClick: ($event) => $setup.toComment(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("去评价")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true)
                  ])
                ])
              ],
              2
              /* CLASS */
            );
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const PagesPaymentOrderConsultOrder = /* @__PURE__ */ _export_sfc(_sfc_main$D, [["render", _sfc_render$C], ["__scopeId", "data-v-d8eacf03"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order/consult-order.vue"]]);
  const _sfc_main$C = {
    __name: "exam-order",
    setup(__props, { expose: __expose }) {
      __expose();
      const tabs = vue.ref([
        {
          name: "已付款"
        },
        {
          name: "待支付"
        }
      ]);
      const currentTab = vue.ref(0);
      const recordList = vue.ref([
        {
          orderNo: "78567564565",
          status: "未完成",
          name: "张三",
          avatar: "/static/avatar.png",
          image: "/static/test.png",
          title: "谈一段好的爱情",
          desc: "现在社会压力越来越大现在社会压力越来越大现在社会压力越来越大",
          price: 66,
          time: "2025-11-02 09:25"
        },
        {
          orderNo: "78567564565",
          status: "已完成",
          name: "张三",
          avatar: "/static/avatar.png",
          image: "/static/test.png",
          title: "谈一段好的爱情",
          desc: "现在社会压力越来越大现在社会压力越来越大现在社会压力越来越大",
          price: 66,
          time: "2025-11-02 09:25"
        },
        {
          orderNo: "78567564565",
          status: "待支付",
          name: "张三",
          avatar: "/static/avatar.png",
          image: "/static/test.png",
          title: "谈一段好的爱情",
          desc: "现在社会压力越来越大现在社会压力越来越大现在社会压力越来越大",
          price: 66,
          time: "2025-11-02 09:25"
        }
      ]);
      const changeTab = (e2) => {
        currentTab.value = e2.index;
      };
      const statusClass = (status) => {
        return {
          "未完成": "red",
          "已完成": "green",
          "待支付": "orange"
        }[status];
      };
      const __returned__ = { tabs, currentTab, recordList, changeTab, statusClass, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$B(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_navbar = resolveEasycom(vue.resolveDynamicComponent("u-navbar"), __easycom_0$1);
    const _component_u_tabs = resolveEasycom(vue.resolveDynamicComponent("u-tabs"), __easycom_1$1);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "evaluate-page" }, [
      vue.createVNode(_component_u_navbar, {
        title: "评测记录",
        autoBack: true
      }),
      vue.createVNode(_component_u_tabs, {
        list: $setup.tabs,
        onClick: $setup.changeTab,
        current: $setup.currentTab,
        lineColor: "#00C28A",
        activeStyle: "color:#000;font-weight:600",
        inactiveStyle: "color:#666"
      }, null, 8, ["list", "current"]),
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "record-list"
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.recordList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: index,
              class: "record-card"
            }, [
              vue.createElementVNode("view", { class: "order-header" }, [
                vue.createElementVNode(
                  "text",
                  { class: "order-no" },
                  "订单号：" + vue.toDisplayString(item.orderNo),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  {
                    class: vue.normalizeClass(["status", $setup.statusClass(item.status)])
                  },
                  vue.toDisplayString(item.status),
                  3
                  /* TEXT, CLASS */
                )
              ]),
              vue.createElementVNode("view", { class: "user-info" }, [
                vue.createElementVNode("image", {
                  src: item.avatar,
                  class: "avatar"
                }, null, 8, ["src"]),
                vue.createElementVNode(
                  "text",
                  { class: "name" },
                  vue.toDisplayString(item.name),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "record-content" }, [
                vue.createElementVNode("image", {
                  src: item.image,
                  class: "cover"
                }, null, 8, ["src"]),
                vue.createElementVNode("view", { class: "info" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "title" },
                    vue.toDisplayString(item.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "view",
                    { class: "desc" },
                    vue.toDisplayString(item.desc),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "record-footer" }, [
                vue.createElementVNode(
                  "text",
                  { class: "time" },
                  "下单时间：" + vue.toDisplayString(item.time),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "price" },
                  "￥" + vue.toDisplayString(item.price),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "btn-group" }, [
                vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "gap": "10rpx" } }, [
                  item.status === "未完成" ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                    key: 0,
                    class: "btn",
                    size: "small",
                    shape: "circle",
                    type: "success"
                  }, {
                    default: vue.withCtx(() => [
                      vue.createTextVNode("继续评测")
                    ]),
                    _: 1
                    /* STABLE */
                  })) : vue.createCommentVNode("v-if", true),
                  item.status === "已完成" ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                    key: 1,
                    class: "btn",
                    size: "small",
                    shape: "circle",
                    type: "success"
                  }, {
                    default: vue.withCtx(() => [
                      vue.createTextVNode("查看报告")
                    ]),
                    _: 1
                    /* STABLE */
                  })) : vue.createCommentVNode("v-if", true),
                  item.status === "待支付" ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                    key: 2,
                    class: "btn",
                    size: "small",
                    shape: "circle",
                    plain: "",
                    type: "info"
                  }, {
                    default: vue.withCtx(() => [
                      vue.createTextVNode("取消订单")
                    ]),
                    _: 1
                    /* STABLE */
                  })) : vue.createCommentVNode("v-if", true),
                  item.status === "待支付" ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                    key: 3,
                    class: "btn",
                    size: "small",
                    shape: "circle",
                    type: "success"
                  }, {
                    default: vue.withCtx(() => [
                      vue.createTextVNode("立即支付")
                    ]),
                    _: 1
                    /* STABLE */
                  })) : vue.createCommentVNode("v-if", true)
                ])
              ])
            ]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const PagesPaymentOrderExamOrder = /* @__PURE__ */ _export_sfc(_sfc_main$C, [["render", _sfc_render$B], ["__scopeId", "data-v-0bdda119"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order/exam-order.vue"]]);
  const _sfc_main$B = {
    __name: "listener-order",
    setup(__props, { expose: __expose }) {
      __expose();
      const tabs = vue.ref([
        { name: "全部" },
        { name: "待付款" },
        { name: "待咨询" },
        { name: "待评价" },
        { name: "交易完成" }
      ]);
      const orderService = vue.ref(false);
      const currentTab = vue.ref(0);
      const orderList2 = vue.ref([]);
      const changeTab = (e2) => {
        paramsData.value.current = 1;
        paramsData.value.params.status = e2;
        currentTab.value = e2;
        orderList2.value = [];
        if (e2 == 0) {
          delete paramsData.value.params.status;
        }
        postList();
      };
      const paramsData = vue.ref({
        current: 1,
        params: {
          current: 1,
          size: 10,
          orderType: 10
        },
        size: 10
      });
      const listEmpty = vue.ref(false);
      onReachBottom(() => {
        if (!listEmpty.value) {
          paramsData.value.current += 1;
          postList();
        }
      });
      const postList = async () => {
        try {
          const res2 = await postOrder(paramsData.value);
          orderList2.value = [...orderList2.value, ...res2.data.records];
          listEmpty.value = res2.data.records.length === 0 ? true : false;
        } catch (e2) {
          formatAppLog("log", "at pages/payment/order/listener-order.vue:184", e2);
        }
      };
      const getStatusText = (status) => {
        switch (status) {
          case 1:
            return "待付款";
          case 2:
            return "待咨询";
          case 3:
            return "待评价";
          case 4:
            return "已完成";
          case 5:
            return "交易关闭";
          case 6:
            return "退款";
          default:
            return "";
        }
      };
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const getStatusClass = (status) => {
        return {
          待支付: "",
          待咨询: "",
          待评价: "",
          已完成: "",
          未完成: ""
        }[status];
      };
      const typeId = vue.ref({});
      onLoad((options) => {
        orderService.value = options.service;
        typeId.value = JSON.parse(options.type);
        if (options.identity == "consult-order") {
          paramsData.value.params.consultantId = typeId.value.id;
        } else if (options.identity == "listener-order") {
          paramsData.value.params.listenerId = typeId.value.id;
        } else {
          paramsData.value.params.userId = typeId.value.id;
        }
      });
      const toDetail = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order-details?status=${JSON.stringify(item)}&type=${JSON.stringify(typeId.value)}&colorType=2`
        });
      };
      const toComment = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order/evaluation-order?type=${JSON.stringify(
            typeId.value
          )}&colorType=1`
        });
      };
      const handleChat = (val2) => {
        const { teacherUserId, teacherName, teacherAvatar } = val2;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${teacherUserId}&name=${teacherName}&avatar=${teacherAvatar}`
        });
      };
      const cancelOrder = async (item) => {
        try {
          const res2 = await cancel({ orderSn: item.orderSn });
          uni.showToast({
            title: "取消成功",
            icon: "none"
          });
          postList();
        } catch (e2) {
          formatAppLog("log", "at pages/payment/order/listener-order.vue:273", e2);
        }
      };
      const toRefund = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order/refund-order?order=${JSON.stringify(item)}`
        });
      };
      vue.onMounted(() => {
        postList();
      });
      const __returned__ = { tabs, orderService, currentTab, orderList: orderList2, changeTab, paramsData, listEmpty, postList, getStatusText, copyText, getStatusClass, typeId, toDetail, toComment, handleChat, cancelOrder, toRefund, ref: vue.ref, onMounted: vue.onMounted, get onLoad() {
        return onLoad;
      }, get onReachBottom() {
        return onReachBottom;
      }, get postOrder() {
        return postOrder;
      }, get cancel() {
        return cancel;
      }, get serviceTyep() {
        return serviceTyep;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$A(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_navbar = resolveEasycom(vue.resolveDynamicComponent("u-navbar"), __easycom_0$1);
    const _component_u_tabs = resolveEasycom(vue.resolveDynamicComponent("u-tabs"), __easycom_1$1);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "order-page" }, [
      vue.createVNode(_component_u_navbar, {
        title: "倾诉订单",
        autoBack: true
      }),
      vue.createVNode(_component_u_tabs, {
        list: $setup.tabs,
        onChange: $setup.changeTab,
        current: $setup.currentTab,
        lineColor: "#00C28A",
        activeStyle: "color:#000;font-weight:600",
        inactiveStyle: "color:#666"
      }, null, 8, ["list", "current"]),
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "order-list"
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.orderList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: index,
                class: vue.normalizeClass(["order-card", $setup.getStatusClass(item.status)])
              },
              [
                vue.createElementVNode("view", { class: "order-header" }, [
                  vue.createElementVNode("text", { class: "order-no" }, [
                    vue.createTextVNode(
                      "订单号：" + vue.toDisplayString(item.orderSn) + " ",
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("image", {
                      src: _imports_0$5,
                      style: { "width": "28rpx", "height": "28rpx", "margin-left": "15rpx" },
                      onClick: ($event) => $setup.copyText(item.orderSn)
                    }, null, 8, ["onClick"])
                  ]),
                  vue.createElementVNode(
                    "text",
                    { class: "status orange" },
                    vue.toDisplayString($setup.getStatusText(item.status)),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "user-info" }, [
                  vue.createElementVNode("image", {
                    src: item.teacherAvatar,
                    class: "avatar"
                  }, null, 8, ["src"]),
                  vue.createElementVNode(
                    "text",
                    { class: "username" },
                    vue.toDisplayString(item.teacherName),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", {
                  class: "order-body",
                  onClick: ($event) => $setup.toDetail(item)
                }, [
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "购买时长："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.buyDuration),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "服务方式："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.consultTypeDesc),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "剩余时间："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.remainingDuration),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "到期时间："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.expirationTime),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "desc" }, [
                    vue.createElementVNode("text", null, "下单时间："),
                    vue.createTextVNode(
                      vue.toDisplayString(item.createTime),
                      1
                      /* TEXT */
                    )
                  ])
                ], 8, ["onClick"]),
                vue.createElementVNode("view", { class: "order-footer" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "price" },
                    "￥" + vue.toDisplayString(item.orderMoney),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "btn-group" }, [
                  vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "gap": "20rpx" } }, [
                    item.status == 1 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 0,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      plain: "",
                      type: "info",
                      onClick: ($event) => $setup.cancelOrder(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("取消订单")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.status == 1 && $setup.orderService ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 1,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      type: "warning"
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("立即支付")
                      ]),
                      _: 1
                      /* STABLE */
                    })) : vue.createCommentVNode("v-if", true),
                    item.status == 2 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 2,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      plain: "",
                      type: "info",
                      onClick: ($event) => $setup.toRefund(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("退款")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.status == 2 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 3,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.handleChat(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("立即咨询")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.status == 3 ? (vue.openBlock(), vue.createBlock(_component_u_button, {
                      key: 4,
                      class: "btn",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.toComment(item)
                    }, {
                      default: vue.withCtx(() => [
                        vue.createTextVNode("去评价")
                      ]),
                      _: 2
                      /* DYNAMIC */
                    }, 1032, ["onClick"])) : vue.createCommentVNode("v-if", true)
                  ])
                ])
              ],
              2
              /* CLASS */
            );
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const PagesPaymentOrderListenerOrder = /* @__PURE__ */ _export_sfc(_sfc_main$B, [["render", _sfc_render$A], ["__scopeId", "data-v-7622675c"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order/listener-order.vue"]]);
  const _sfc_main$A = {
    __name: "bill-order",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "d5155521-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      onShow(() => {
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const clauses = vue.ref([
        {
          orderNumber: 78567564565,
          title: "婚姻关系咨询",
          time: "10分钟",
          service: "语音咨询",
          remainingTime: "10:00",
          timeOrder: "2024-06-01 14:30",
          timeExpiration: "2024-06-01 15:30",
          amountOrder: "￥200"
        },
        {
          orderNumber: 78567564565,
          title: "婚姻关系咨询",
          time: "10分钟",
          service: "语音咨询",
          remainingTime: "10:00",
          timeOrder: "2024-06-01 14:30",
          timeExpiration: "2024-06-01 15:30",
          amountOrder: "￥200"
        },
        {
          orderNumber: 78567564565,
          title: "婚姻关系咨询",
          time: "10分钟",
          service: "语音咨询",
          remainingTime: "10:00",
          timeOrder: "2024-06-01 14:30",
          timeExpiration: "2024-06-01 15:30",
          amountOrder: "￥200"
        }
      ]);
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const __returned__ = { globalStore, statusBarHeight, backFn, scrollTop, clauses, copyText, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$z(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_datetime_picker = resolveEasycom(vue.resolveDynamicComponent("uni-datetime-picker"), __easycom_2$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "账单"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          right: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              vue.createElementVNode("image", {
                src: _imports_0$n,
                style: { "width": "40rpx", "height": "40rpx" }
              })
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "content-details" }, [
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", null, "支出"),
            vue.createElementVNode("view", null, "158 元")
          ]),
          vue.createElementVNode("view", null, "｜"),
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", null, "退款"),
            vue.createElementVNode("view", null, "56 元")
          ])
        ]),
        vue.createElementVNode("view", { class: "content-tiem" }, [
          vue.createVNode(_component_uni_datetime_picker, {
            type: "date",
            placeholder: "选择开始日期",
            value: _ctx.single,
            onChange: _ctx.change
          }, null, 8, ["value", "onChange"]),
          vue.createElementVNode("view", null, "——"),
          vue.createVNode(_component_uni_datetime_picker, {
            type: "date",
            placeholder: "选择结束日期",
            value: _ctx.single,
            onChange: _ctx.change
          }, null, 8, ["value", "onChange"])
        ]),
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.clauses, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", { class: "clause" }, [
              vue.createElementVNode("view", { class: "clause-item" }, [
                vue.createElementVNode("view", { class: "item-head" }, [
                  vue.createElementVNode("view", { class: "head-left" }, [
                    vue.createElementVNode("view", null, "头像"),
                    vue.createElementVNode("view", null, "张三")
                  ]),
                  vue.createElementVNode("view", { class: "head-right" }, [
                    vue.createElementVNode(
                      "view",
                      null,
                      "订单号：" + vue.toDisplayString(item.orderNumber),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("image", {
                      src: _imports_0$5,
                      style: { "width": "28rpx", "height": "28rpx", "margin-left": "15rpx" },
                      onClick: ($event) => $setup.copyText(item.orderNo)
                    }, null, 8, ["onClick"])
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createElementVNode("view", { class: "content-left" }, [
                    vue.createElementVNode(
                      "view",
                      null,
                      vue.toDisplayString(item.title),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode("text", null, "购买时长："),
                      vue.createTextVNode(
                        vue.toDisplayString(item.time),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode("text", null, "服务方式："),
                      vue.createTextVNode(
                        vue.toDisplayString(item.service),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode("text", null, "剩余时间："),
                      vue.createTextVNode(
                        vue.toDisplayString(item.remainingTime),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode("text", null, "下单时间："),
                      vue.createTextVNode(
                        vue.toDisplayString(item.timeOrder),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode("text", null, "到期时间："),
                      vue.createTextVNode(
                        vue.toDisplayString(item.timeExpiration),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode("text", null, "订单金额："),
                      vue.createTextVNode(
                        vue.toDisplayString(item.amountOrder),
                        1
                        /* TEXT */
                      )
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "content-right" }, [
                    vue.createElementVNode(
                      "view",
                      null,
                      vue.toDisplayString(item.amountOrder),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("text", null, "支出")
                  ])
                ])
              ])
            ]);
          }),
          256
          /* UNKEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const PagesPaymentOrderBillOrder = /* @__PURE__ */ _export_sfc(_sfc_main$A, [["render", _sfc_render$z], ["__scopeId", "data-v-d5155521"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order/bill-order.vue"]]);
  const _sfc_main$z = {
    __name: "Tags-Container",
    props: {
      // 初始选中的标签（逗号分隔字符串）
      modelValue: {
        type: String,
        default: ""
      },
      // 输入框名称（用于表单提交）
      inputName: {
        type: String,
        default: "evaluation_tags"
      },
      // 是否显示调试信息
      debug: {
        type: Boolean,
        default: false
      },
      colorType: {
        type: String,
        default: "#34A76F"
      }
    },
    emits: ["update:modelValue"],
    setup(__props, { expose: __expose, emit: __emit }) {
      vue.useCssVars((_ctx) => ({
        "e3aa4145-colorType": __props.colorType
      }));
      const props = __props;
      const tagsList = vue.ref([
        "咨询师专业性",
        "共情与倾听能力",
        "沟通与引导技巧",
        "咨询效果满意度",
        "响应及时性",
        "隐私保护措施",
        "平台操作体验",
        "性价比感知"
      ]);
      const selectedTags = vue.ref([]);
      const initSelectedTags = () => {
        if (props.modelValue) {
          selectedTags.value = props.modelValue.split(",").filter((tag) => tag);
        }
      };
      initSelectedTags();
      vue.watch(() => props.modelValue, (newVal) => {
        if (newVal) {
          selectedTags.value = newVal.split(",").filter((tag) => tag);
        } else {
          selectedTags.value = [];
        }
      });
      const toggleTag = (tag) => {
        const index = selectedTags.value.indexOf(tag);
        if (index > -1) {
          selectedTags.value.splice(index, 1);
        } else {
          selectedTags.value.push(tag);
        }
      };
      const isTagSelected = (tag) => {
        return selectedTags.value.includes(tag);
      };
      const selectedTagsStr = vue.computed({
        get() {
          return selectedTags.value.join(",");
        },
        set(val2) {
          selectedTags.value = val2.split(",").filter((tag) => tag);
        }
      });
      const emit = __emit;
      vue.watch(selectedTagsStr, (newVal) => {
        emit("update:modelValue", newVal);
      });
      __expose({
        selectedTags,
        selectedTagsStr,
        toggleTag
      });
      const __returned__ = { props, tagsList, selectedTags, initSelectedTags, toggleTag, isTagSelected, selectedTagsStr, emit, ref: vue.ref, computed: vue.computed, watch: vue.watch };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$y(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "tags-container" }, [
      vue.createElementVNode("view", { class: "tags-list" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.tagsList, (tag, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: index,
              class: vue.normalizeClass(["tag-item", { "active": $setup.isTagSelected(tag) }]),
              onClick: ($event) => $setup.toggleTag(tag)
            }, vue.toDisplayString(tag), 11, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const TagsSelect = /* @__PURE__ */ _export_sfc(_sfc_main$z, [["render", _sfc_render$y], ["__scopeId", "data-v-e3aa4145"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Tags-Container.vue"]]);
  const _sfc_main$y = {
    __name: "evaluation-order",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "6e248be0-statusBarHeight": statusBarHeight.value,
        "6e248be0-startColor": startColor.value,
        "6e248be0-colorType": colorType.value
      }));
      const scrollTop = vue.ref(0);
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const startColor = vue.ref("#35ca955c");
      const fromData = vue.ref({
        type: 1,
        // 评论类型
        tags: "",
        // 印象标签，逗号分隔
        star: 0,
        // 满意程度
        recommendStar: 0,
        // 值得推荐
        isAnonymous: 0,
        //是否匿名：0否 1是
        targetUserId: "1998631440393773058",
        content: ""
        //留言内容
      });
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const orderInfo = vue.ref({});
      const colorType = vue.ref("#34A76F");
      onLoad((options) => {
        orderInfo.value = JSON.parse(options.order);
        formatAppLog("log", "at pages/payment/order/evaluation-order.vue:120", orderInfo.value, colorType.value, startColor.value);
        colorType.value = options.colorType == 1 ? "#eb9516" : "#35CA95";
        options.colorType == 1 ? startColor.value = "#ffbb4166" : startColor.value = "#35ca955c";
      });
      const popup = vue.ref(null);
      const closePopup = () => {
        popup.value.close();
      };
      const changeAnonymous = (e2) => {
        fromData.value.isAnonymous = e2.detail.value[0] ? 1 : 0;
      };
      const submitForm = async () => {
        if (!fromData.value.tags) {
          uni.showToast({
            title: "请至少选择一个评价维度",
            icon: "none"
          });
          return;
        }
        try {
          const res2 = await saveComment(fromData.value);
          uni.showToast({
            title: "评价提交成功",
            icon: "success"
          });
        } catch (e2) {
        }
      };
      const handleChat = () => {
        const { userId, teacherName, teacherAvatar } = orderInfo.value;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${userId}&name=${teacherName}&avatar=${teacherAvatar}`
        });
      };
      const __returned__ = { scrollTop, globalStore, statusBarHeight, startColor, fromData, onPageScroll: onPageScroll2, backFn, orderInfo, colorType, popup, closePopup, changeAnonymous, submitForm, handleChat, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get saveComment() {
        return saveComment;
      }, TagsSelect };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$x(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_2$a);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "评价"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          onScroll: $setup.onPageScroll,
          style: { "height": "100vh" },
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "consultation-content" }, [
            vue.createElementVNode("view", { class: "user-info-section" }, [
              vue.createElementVNode("view", { class: "user-info" }, [
                vue.createElementVNode("image", {
                  src: $setup.orderInfo.teacherAvatar,
                  class: "user-avatar"
                }, null, 8, ["src"]),
                vue.createElementVNode("view", { class: "user-details" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "user-name" },
                    vue.toDisplayString($setup.orderInfo.teacherName),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode(
                "view",
                {
                  style: vue.normalizeStyle({ color: $setup.colorType }),
                  onClick: $setup.handleChat
                },
                " 私聊ta ",
                4
                /* STYLE */
              )
            ]),
            vue.createElementVNode("view", { class: "evaluation-content" }, [
              vue.createElementVNode("view", { class: "evaluation-item" }, [
                vue.createElementVNode("view", null, "满意程度"),
                vue.createVNode(_component_uni_rate, {
                  modelValue: $setup.fromData.star,
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.fromData.star = $event),
                  size: "18",
                  value: 5
                }, null, 8, ["modelValue"])
              ]),
              vue.createElementVNode("view", { class: "evaluation-item" }, [
                vue.createElementVNode("view", null, "值得推荐"),
                vue.createVNode(_component_uni_rate, {
                  modelValue: $setup.fromData.recommendStar,
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.fromData.recommendStar = $event),
                  size: "18",
                  value: 5
                }, null, 8, ["modelValue"])
              ]),
              vue.createElementVNode("view", null, [
                vue.createElementVNode("view", null, "对Ta的印象"),
                vue.createVNode($setup["TagsSelect"], {
                  modelValue: $setup.fromData.tags,
                  "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.fromData.tags = $event),
                  debug: true,
                  colorType: $setup.colorType,
                  style: vue.normalizeStyle({ backgroundColor: $setup.startColor == "#ffbb4166" ? "#FFFAF1" : "#F3F9F7" }),
                  class: "tags-select"
                }, null, 8, ["modelValue", "colorType", "style"])
              ]),
              vue.createElementVNode("view", null, [
                vue.createElementVNode("view", null, "评价描述"),
                vue.withDirectives(vue.createElementVNode(
                  "textarea",
                  {
                    "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.fromData.content = $event),
                    "placeholder-style": "\n							background-color: #F6F6F6;\n							width: 100%; color:#9E9E9E;\n							padding: 20rpx;",
                    placeholder: "请输入详情描述"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.fromData.content]
                ]),
                vue.createElementVNode("view", { class: "anonymous" }, [
                  vue.createElementVNode(
                    "checkbox-group",
                    { onChange: $setup.changeAnonymous },
                    [
                      vue.createElementVNode("checkbox", {
                        value: 1,
                        checked: false
                      })
                    ],
                    32
                    /* NEED_HYDRATION */
                  ),
                  vue.createElementVNode("view", null, "匿名评价")
                ])
              ]),
              vue.createElementVNode("view", { class: "evaluation-btn" }, [
                vue.createElementVNode("view", {
                  class: "evaluation-btn-text",
                  onClick: $setup.submitForm
                }, "提交")
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "center",
          animation: false
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-container" }, [
              vue.createElementVNode("view", { class: "popup-title" }, [
                vue.createVNode(_component_uni_icons, {
                  type: "notification-filled",
                  size: "40",
                  color: "#35CA95"
                })
              ]),
              vue.createElementVNode("view", { class: "popup-content" }, " 抱歉，您存在的情况不适于咨询， 建议您选择更专业治疗，以便于给您提 供更好的服务。 "),
              vue.createElementVNode("view", { class: "popup-btn" }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "知道了")
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesPaymentOrderEvaluationOrder = /* @__PURE__ */ _export_sfc(_sfc_main$y, [["render", _sfc_render$x], ["__scopeId", "data-v-6e248be0"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order/evaluation-order.vue"]]);
  const _sfc_main$x = {
    __name: "services",
    setup(__props, { expose: __expose }) {
      __expose();
      const fileList = vue.ref([]);
      const uploadUrl = vue.ref("");
      uploadUrl.value = baseURL$1 + "/api/common/upload";
      const token = uni.getStorageSync("token");
      const headers = vue.ref({
        "token": token
      });
      const saveSignature = () => {
        showEditSignature.value = false;
      };
      const cancelServiceDialog = () => {
      };
      const changeGroupChecked = (group) => {
        if (group.checked) {
          group.checked = false;
          group.selectedList = [];
          group.children.forEach((e2) => {
            e2.selected = false;
          });
        } else {
          group.checked = true;
        }
      };
      const showEditSignature = vue.ref(false);
      const serviceChooseDialog = vue.ref(false);
      const getAllServiceTypes = async () => {
        let resp = await serviceTypes();
        serviceList2.value = resp.data;
        formatAppLog("log", "at pages/settings/services.vue:199", resp.data);
        serviceList2.value.forEach((group) => {
          group.children = JSON.parse(group.children || "[]");
          if (services.value.includes(String(group.id))) {
            group.checked = true;
          } else {
            group.checked = false;
          }
          group.children.forEach((child) => {
            if (services.value.includes(String(child.id))) {
              if (!group.selectedList) {
                group.selectedList = [];
              }
              group.selectedList.push(child);
              child.selected = true;
              group.checked = true;
            } else {
              child.selected = false;
            }
          });
        });
      };
      const stars = vue.ref(["白羊座", "金牛座", "双子座", "巨蟹座", "狮子座", "处女座", "天秤座", "天蝎座", "射手座", "摩羯座", "水瓶座", "双鱼座"]);
      onLoad(() => {
        userSettings();
      });
      const regionPicker = vue.ref(false);
      const chooseArea = () => {
        regionPicker.value = true;
      };
      const confirmSelect = () => {
        let services2 = serviceList2.value;
        let selectedServicesName = [];
        let serviceType = [];
        services2.forEach((e2) => {
          if (e2.checked) {
            if (e2.selectedList) {
              e2.selectedList.forEach((item) => {
                selectedServicesName.push(item.name);
                serviceType.push(item.id);
              });
            } else {
              selectedServicesName.push(e2.name);
              serviceType.push(e2.id);
            }
          }
        });
        form.value.serviceType = serviceType.join(",");
        form.value.serviceTypeDesc = selectedServicesName.join(",");
        serviceChooseDialog.value = false;
      };
      const confirmRegion = (e2) => {
        form.value.address = e2.province.name + e2.city.name + e2.area.name;
      };
      const uploadComplete = (data, index, lists, name) => {
        var _a2;
        if ((_a2 = data == null ? void 0 : data.data) == null ? void 0 : _a2.url) {
          lists[index].url = data.data.url;
        }
        form.value.gallery = JSON.stringify(
          lists.map((item) => {
            var _a3, _b2;
            return item.url || (((_b2 = (_a3 = item.response) == null ? void 0 : _a3.data) == null ? void 0 : _b2.url) || "");
          }).filter((url2) => url2)
          // 过滤空值
        );
        formatAppLog("log", "at pages/settings/services.vue:278", form.value.gallery);
      };
      const serviceList2 = vue.ref([]);
      const toggleExpand = (gIndex) => {
        serviceList2.value[gIndex].expanded = !serviceList2.value[gIndex].expanded;
      };
      const displayTags = (group) => {
        if (group.children) {
          if (group.expanded) {
            return group.children;
          }
          return group.children.slice(0, 6);
        }
        return [];
      };
      const toggleTag = (gIndex, tIndex) => {
        const group = serviceList2.value[gIndex];
        const tag = group.children[tIndex];
        if (!group.selectedList) {
          group.selectedList = [];
        }
        if (!group.checked) {
          const groupCount = serviceList2.value.filter((i2) => i2.checked).length;
          if (groupCount >= 5) {
            uni.showToast({
              title: "您最多可以选择5个分类",
              icon: "none"
            });
            return;
          }
        }
        if (!tag.selected) {
          let selectedList = group.selectedList;
          if (selectedList) {
            if (selectedList.length >= 5) {
              uni.showToast({
                title: "您最多可以选择5个标签",
                icon: "none"
              });
              return;
            }
          }
          tag.selected = true;
          group.selectedList.push(tag);
          group.checked = true;
        } else {
          tag.selected = false;
          const index = group.selectedList.findIndex((item) => item.id === tag.id);
          if (index !== -1) {
            group.selectedList.splice(index, 1);
          }
        }
        formatAppLog("log", "at pages/settings/services.vue:354", group.selectedList);
      };
      const starChange = (e2) => {
        form.value.constellation = stars.value[e2.detail.value];
      };
      const services = vue.ref([]);
      const userSettings = async () => {
        let resp = await getUserBaseSetting();
        form.value = resp.data;
        let serviceType = form.value.serviceType;
        services.value = serviceType.split(",");
        getAllServiceTypes();
        formatAppLog("log", "at pages/settings/services.vue:370", services.value);
        if (form.value.gallery) {
          let galleryList = JSON.parse(form.value.gallery);
          fileList.value = galleryList.map((url2) => ({
            url: url2
          }));
        }
      };
      const form = vue.ref({});
      const afterRead = (event) => {
        fileList.value = event.fileList;
      };
      const chooseProfession = () => uni.showToast({
        title: "选择职业",
        icon: "none"
      });
      const chooseConstellation = () => uni.showToast({
        title: "选择星座",
        icon: "none"
      });
      const deletePic = (event, index, lists, name) => {
        formatAppLog("log", "at pages/settings/services.vue:402", "图片已被移除 index:", index);
        formatAppLog("log", "at pages/settings/services.vue:406", fileList);
        fileList.value.splice(index, 1);
        if (fileList.value) {
          formatAppLog("log", "at pages/settings/services.vue:410", fileList.value);
          form.value.gallery = JSON.stringify(
            fileList.value.map((item) => {
              var _a2, _b2;
              return item.url || (((_b2 = (_a2 = item.response) == null ? void 0 : _a2.data) == null ? void 0 : _b2.url) || "");
            }).filter((url2) => url2)
            // 过滤空值
          );
          formatAppLog("log", "at pages/settings/services.vue:416", form.value.gallery);
        } else {
          form.value.gallery = "";
        }
      };
      const chooseRegion = () => uni.showToast({
        title: "选择地区",
        icon: "none"
      });
      const chooseServiceType = () => {
        serviceChooseDialog.value = true;
      };
      const saveInfo = async () => {
        let resp = await saveRoleInfo(form.value);
        if (resp.code == 0) {
          uni.showToast({
            title: "修改成功"
          });
          uni.navigateBack();
        }
      };
      const editSignature = () => {
        showEditSignature.value = true;
      };
      const beforeUpload = (index, list) => {
      };
      const submit = () => {
        formatAppLog("log", "at pages/settings/services.vue:451", "提交表单:", form.value);
        uni.showToast({
          title: "保存成功",
          icon: "success"
        });
      };
      const __returned__ = { fileList, uploadUrl, token, headers, saveSignature, cancelServiceDialog, changeGroupChecked, showEditSignature, serviceChooseDialog, getAllServiceTypes, stars, regionPicker, chooseArea, confirmSelect, confirmRegion, uploadComplete, serviceList: serviceList2, toggleExpand, displayTags, toggleTag, starChange, services, userSettings, form, afterRead, chooseProfession, chooseConstellation, deletePic, chooseRegion, chooseServiceType, saveInfo, editSignature, beforeUpload, submit, ref: vue.ref, reactive: vue.reactive, get onLoad() {
        return onLoad;
      }, get getUserBaseSetting() {
        return getUserBaseSetting;
      }, get saveRoleInfo() {
        return saveRoleInfo;
      }, get baseURL() {
        return baseURL$1;
      }, get serviceTypes() {
        return serviceTypes;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$w(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    const _component_u_navbar = resolveEasycom(vue.resolveDynamicComponent("u-navbar"), __easycom_0$1);
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_popup = resolveEasycom(vue.resolveDynamicComponent("u-popup"), __easycom_3$4);
    const _component_u_upload = resolveEasycom(vue.resolveDynamicComponent("u-upload"), __easycom_3$3);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_u_picker = resolveEasycom(vue.resolveDynamicComponent("u-picker"), __easycom_2$7);
    const _component_u_input = resolveEasycom(vue.resolveDynamicComponent("u-input"), __easycom_5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "page" }, [
      vue.createVNode(_component_u_navbar, {
        title: "服务资料",
        border: false
      }, {
        right: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "nav-right" }, [
            vue.createVNode(_component_u_button, {
              size: "mini",
              type: "success",
              onClick: $setup.saveInfo
            }, {
              default: vue.withCtx(() => [
                vue.createTextVNode("保存")
              ]),
              _: 1
              /* STABLE */
            })
          ])
        ]),
        _: 1
        /* STABLE */
      }),
      vue.createVNode(_component_u_popup, {
        mode: "bottom",
        modelValue: $setup.serviceChooseDialog,
        "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.serviceChooseDialog = $event),
        "border-radius": 10
      }, {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { class: "popup-container" }, [
            vue.createElementVNode("view", { class: "popup-header" }, [
              vue.createElementVNode("text", { onClick: $setup.cancelServiceDialog }, "取消"),
              vue.createElementVNode("text", { class: "popup-title" }, "服务类型"),
              vue.createElementVNode("text", {
                onClick: $setup.confirmSelect,
                style: { "color": "#00C38D" }
              }, "确认")
            ]),
            vue.createElementVNode("scroll-view", {
              style: { "height": "800rpx" },
              "scroll-y": ""
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.serviceList, (group, gIndex) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    key: group.id,
                    class: "service-group"
                  }, [
                    vue.createElementVNode("view", { class: "group-header" }, [
                      vue.createElementVNode("view", {
                        onClick: ($event) => $setup.changeGroupChecked(group)
                      }, [
                        vue.createElementVNode(
                          "text",
                          {
                            style: vue.normalizeStyle({ color: group.checked ? "red" : "black" })
                          },
                          vue.toDisplayString(group.name),
                          5
                          /* TEXT, STYLE */
                        ),
                        group.checked ? (vue.openBlock(), vue.createElementBlock(
                          "text",
                          {
                            key: 0,
                            style: { "font-size": "26rpx", "color": "grey" }
                          },
                          "(已选" + vue.toDisplayString(group.selectedList ? group.selectedList.length : 0) + "项)",
                          1
                          /* TEXT */
                        )) : vue.createCommentVNode("v-if", true)
                      ], 8, ["onClick"]),
                      group.children.length > 6 ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "expand-toggle",
                        onClick: ($event) => $setup.toggleExpand(gIndex)
                      }, [
                        vue.createElementVNode(
                          "text",
                          null,
                          vue.toDisplayString(group.expanded ? "收起" : "展开"),
                          1
                          /* TEXT */
                        ),
                        vue.createVNode(_component_u_icon, {
                          name: group.expanded ? "arrow-up" : "arrow-down",
                          size: "14"
                        }, null, 8, ["name"])
                      ], 8, ["onClick"])) : vue.createCommentVNode("v-if", true)
                    ]),
                    group.children ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "tag-container"
                    }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.displayTags(group), (tag, tIndex) => {
                          return vue.openBlock(), vue.createElementBlock("view", {
                            key: tag.id,
                            class: vue.normalizeClass(["tag-item", { active: tag.selected }]),
                            onClick: vue.withModifiers(($event) => $setup.toggleTag(gIndex, tIndex), ["stop"])
                          }, vue.toDisplayString(tag.name), 11, ["onClick"]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])) : vue.createCommentVNode("v-if", true)
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ])
        ]),
        _: 1
        /* STABLE */
      }, 8, ["modelValue"]),
      vue.createElementVNode("view", { class: "form-box" }, [
        vue.createElementVNode("view", { class: "form-item upload-section" }, [
          vue.createElementVNode("view", { class: "label" }, [
            vue.createTextVNode(" 个人形象照 "),
            vue.createElementVNode("text", { class: "desc" }, "（用于个人主页封面，格式jpg/png，大小2M内）")
          ]),
          vue.createVNode(_component_u_upload, {
            fileList: $setup.fileList,
            "before-upload": $setup.beforeUpload,
            header: $setup.headers,
            onOnSuccess: $setup.uploadComplete,
            onOnRemove: $setup.deletePic,
            name: "file",
            action: $setup.uploadUrl,
            multiple: "",
            maxCount: 5
          }, null, 8, ["fileList", "header", "action"])
        ]),
        vue.createElementVNode("view", { class: "info-list" }, [
          vue.createElementVNode("view", {
            class: "info-item",
            onClick: $setup.chooseConstellation
          }, [
            vue.createElementVNode("view", { class: "label required" }, "星座"),
            vue.createElementVNode("picker", {
              range: $setup.stars,
              onChange: $setup.starChange
            }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createTextVNode(
                  vue.toDisplayString($setup.form.constellation == null ? "请选择" : $setup.form.constellation),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_icons, {
                  type: "right",
                  size: "14",
                  color: "rgba(0, 0, 0, 0.3)"
                })
              ])
            ], 40, ["range"])
          ]),
          vue.createElementVNode("view", {
            class: "info-item",
            onClick: $setup.chooseRegion
          }, [
            vue.createElementVNode("view", { class: "label required" }, "所在地区"),
            vue.createElementVNode("view", { onClick: $setup.chooseArea }, [
              vue.createTextVNode(
                vue.toDisplayString($setup.form.address ? $setup.form.address : "请选择"),
                1
                /* TEXT */
              ),
              vue.createVNode(_component_uni_icons, {
                type: "right",
                size: "14",
                color: "rgba(0, 0, 0, 0.3)"
              })
            ]),
            vue.createVNode(_component_u_picker, {
              modelValue: $setup.regionPicker,
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.regionPicker = $event),
              onConfirm: $setup.confirmRegion,
              mode: "region"
            }, null, 8, ["modelValue"])
          ]),
          vue.createElementVNode("view", {
            class: "info-item",
            onClick: $setup.chooseServiceType
          }, [
            vue.createElementVNode("view", { class: "label required" }, "服务类型"),
            vue.createElementVNode(
              "view",
              { class: "value service-type" },
              vue.toDisplayString($setup.form.serviceTypeDesc),
              1
              /* TEXT */
            ),
            vue.createVNode(_component_u_icon, {
              name: "arrow-right",
              size: "18",
              color: "#999"
            })
          ]),
          vue.createElementVNode("view", {
            class: "info-item",
            onClick: $setup.editSignature
          }, [
            vue.createElementVNode("view", { class: "label" }, "个人签名"),
            vue.createElementVNode(
              "view",
              { class: "value text-gray" },
              vue.toDisplayString($setup.form.signature || "一句话个人签名文字"),
              1
              /* TEXT */
            ),
            vue.createVNode(_component_u_icon, {
              name: "arrow-right",
              size: "18",
              color: "#999"
            })
          ])
        ]),
        vue.createElementVNode("view", { class: "textarea-box" }, [
          vue.createElementVNode("view", { class: "label" }, "个人简介"),
          vue.createVNode(_component_u_input, {
            type: "textarea",
            modelValue: $setup.form.profile,
            "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.form.profile = $event),
            placeholder: "请输入个人简介",
            height: 300,
            "auto-height": true
          }, null, 8, ["modelValue"])
        ])
      ]),
      vue.createVNode(_component_u_popup, {
        modelValue: $setup.showEditSignature,
        "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $setup.showEditSignature = $event),
        mode: "center",
        "border-radius": 15
      }, {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { style: { "width": "600rpx", "border-radius": "30rpx", "padding": "10rpx" } }, [
            vue.createElementVNode("view", { style: { "text-align": "center", "font-size": "36rpx", "margin-top": "30rpx" } }, "编辑签名"),
            vue.createElementVNode("view", null, [
              vue.createVNode(_component_u_input, {
                placeholder: "请输入签名",
                type: "textarea",
                modelValue: $setup.form.signature,
                "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.form.signature = $event),
                height: 200
              }, null, 8, ["modelValue"])
            ]),
            vue.createElementVNode("view", null, [
              vue.createElementVNode("button", {
                type: "primary",
                onClick: $setup.saveSignature
              }, "保存")
            ])
          ])
        ]),
        _: 1
        /* STABLE */
      }, 8, ["modelValue"])
    ]);
  }
  const PagesSettingsServices = /* @__PURE__ */ _export_sfc(_sfc_main$x, [["render", _sfc_render$w], ["__scopeId", "data-v-c24b6665"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/services.vue"]]);
  const _sfc_main$w = {
    __name: "idCard",
    props: {
      consultantType: String,
      modelValue: {
        type: Object,
        default: () => ({})
      }
    },
    emits: ["update:modelValue", "committed"],
    setup(__props, { expose: __expose, emit: __emit }) {
      const STARS = [
        "白羊座",
        "金牛座",
        "双子座",
        "巨蟹座",
        "狮子座",
        "处女座",
        "天秤座",
        "天蝎座",
        "射手座",
        "摩羯座",
        "水瓶座",
        "双鱼座"
      ];
      const PROMISE_REQUIREMENTS = [
        "字迹书写规整",
        "模板内容抄写完整",
        "签字、按手印",
        "身份证正面向上合照"
      ];
      const props = __props;
      const emit = __emit;
      const localData = vue.ref({
        ...props.modelValue,
        masterGallery: (() => {
          try {
            const gallery = JSON.parse(props.modelValue.masterGallery || "[]");
            return Array.isArray(gallery) ? gallery.map((url2) => ({ url: url2 })) : [];
          } catch (e2) {
            return [];
          }
        })(),
        // 确保u-upload的fileList默认是数组
        holdIdCardImg: props.modelValue.holdIdCardImg || [],
        commitmentImg: props.modelValue.commitmentImg || []
      });
      vue.watch(
        () => props.modelValue,
        (newVal) => {
          vue.nextTick(() => {
            localData.value = {
              ...newVal,
              masterGallery: (() => {
                try {
                  const masterGallery = JSON.parse(newVal.masterGallery || "[]");
                  return Array.isArray(masterGallery) ? masterGallery.map((url2) => ({ url: url2 })) : [];
                } catch (e2) {
                  return [];
                }
              })(),
              holdIdCardImg: newVal.holdIdCardImg || [],
              commitmentImg: newVal.commitmentImg || []
            };
          });
        },
        { immediate: true, deep: true }
      );
      vue.watch(
        localData,
        (newVal) => {
          vue.nextTick(() => {
            emit("update:modelValue", { ...newVal });
          });
        },
        { deep: true }
      );
      const birthdayShow = vue.ref(false);
      const regionPicker = vue.ref(false);
      const height = vue.ref(150);
      const token = uni.getStorageSync("token");
      const headers = vue.ref({ token });
      const uploadUrl = vue.ref("https://ceshi.maimiaoqingsu.com/api/common/upload");
      const timeParams = vue.ref({
        year: true,
        month: true,
        day: false,
        hour: false,
        minute: false,
        second: false
      });
      const stars = vue.ref(STARS);
      const promiseRequirements = vue.ref(PROMISE_REQUIREMENTS);
      const showTimePicker = () => {
        birthdayShow.value = true;
      };
      const confirmBirthday = (e2) => {
        localData.value.birthdate = `${e2.year}-${e2.month}`;
      };
      const chooseArea = () => {
        regionPicker.value = true;
      };
      const confirmRegion = (e2) => {
        localData.value.address = e2.province.name + e2.city.name + e2.area.name;
      };
      const starChange = (e2) => {
        localData.value.constellation = stars.value[e2.detail.value];
      };
      const handleTemplate = (type) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type}`
        });
      };
      const beforeUpload = () => {
      };
      const uploadComplete1 = (data, index, lists) => {
        var _a2;
        if (lists && lists[index]) {
          lists[index].url = ((_a2 = data.data) == null ? void 0 : _a2.url) || "";
          localData.value.masterGallery = lists.map((item) => ({ url: item.url }));
        }
      };
      const uploadComplete2 = (data, index, lists) => {
        var _a2;
        lists[index].url = ((_a2 = data.data) == null ? void 0 : _a2.url) || "";
        localData.value.holdIdCardImg = lists;
      };
      const uploadComplete3 = (data, index, lists) => {
        var _a2;
        lists[index].url = ((_a2 = data.data) == null ? void 0 : _a2.url) || "";
        localData.value.commitmentImg = lists;
      };
      const deletePic = (field, index, lists) => {
        localData.value[field] = lists;
      };
      const uploadPhoto = async (type) => {
        try {
          const res2 = await uni.chooseImage({ count: 1 });
          const filePath = res2.tempFilePaths[0];
          const uploadRes = await uploadFile(uploadUrl.value, filePath);
          if (uploadRes.code === 0) {
            if (type === 1) {
              localData.value.idcardFront = uploadRes.data.url;
            } else {
              localData.value.idcardBackend = uploadRes.data.url;
            }
          }
        } catch (error) {
          formatAppLog("error", "at pages/auth/components/idCard.vue:356", "上传失败:", error);
          uni.showToast({
            title: "上传失败",
            icon: "error"
          });
        }
      };
      const submit = async () => {
        var _a2, _b2, _c, _d, _e2;
        const requiredFields = [
          { field: localData.value.idcardFront, message: "请上传身份证人像页" },
          { field: localData.value.idcardBackend, message: "请上传身份证国徽页" },
          { field: localData.value.name, message: "请输入姓名" },
          { field: localData.value.idcardNum, message: "请输入身份证号" },
          { field: localData.value.birthdate, message: "请选择出生年月" },
          { field: (_a2 = localData.value.masterGallery) == null ? void 0 : _a2.length, message: "请上传个人形象照" },
          { field: (_b2 = localData.value.holdIdCardImg) == null ? void 0 : _b2.length, message: "请上传手持身份证件照" },
          { field: (_c = localData.value.commitmentImg) == null ? void 0 : _c.length, message: "请上传手写承诺书照" },
          { field: localData.value.constellation, message: "请选择星座" },
          { field: localData.value.address, message: "请选择所在地区" }
        ];
        for (const { field, message: message2 } of requiredFields) {
          if (!field) {
            uni.showToast({ title: message2, icon: "none" });
            return;
          }
        }
        const submitData = {
          ...localData.value,
          masterGallery: JSON.stringify(localData.value.masterGallery.map((item) => item.url)),
          consultantType: props.consultantType,
          idCardNo: localData.value.idcardNum,
          idCardFrontImg: localData.value.idcardFront,
          idCardBackImg: localData.value.idcardBackend,
          holdIdCardImg: ((_d = localData.value.holdIdCardImg[0]) == null ? void 0 : _d.url) || "",
          commitmentImg: ((_e2 = localData.value.commitmentImg[0]) == null ? void 0 : _e2.url) || ""
        };
        delete submitData.masterGallery;
        delete submitData.holdIdCardImg;
        delete submitData.commitmentImg;
        uni.showLoading({ title: "提交中" });
        try {
          const api = props.consultantType == 1 ? registerConsultantStep1 : registerListenerStep1;
          const res2 = await api(submitData);
          uni.hideLoading();
          localData.value = { ...localData.value, ...res2.data };
          emit("committed", "");
          uni.showToast({ title: "提交成功", icon: "success" });
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/auth/components/idCard.vue:417", "提交失败:", error);
          uni.showToast({ title: "提交失败，请重试", icon: "error" });
        }
      };
      __expose({ submit });
      onUnload(() => {
      });
      const __returned__ = { STARS, PROMISE_REQUIREMENTS, props, emit, localData, birthdayShow, regionPicker, height, token, headers, uploadUrl, timeParams, stars, promiseRequirements, showTimePicker, confirmBirthday, chooseArea, confirmRegion, starChange, handleTemplate, beforeUpload, uploadComplete1, uploadComplete2, uploadComplete3, deletePic, uploadPhoto, submit, ref: vue.ref, watch: vue.watch, nextTick: vue.nextTick, get uploadFile() {
        return uploadFile;
      }, get onUnload() {
        return onUnload;
      }, get registerConsultantStep1() {
        return registerConsultantStep1;
      }, get registerListenerStep1() {
        return registerListenerStep1;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$v(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_picker = resolveEasycom(vue.resolveDynamicComponent("u-picker"), __easycom_2$7);
    const _component_u_upload = resolveEasycom(vue.resolveDynamicComponent("u-upload"), __easycom_3$3);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    const _component_u_input = resolveEasycom(vue.resolveDynamicComponent("u-input"), __easycom_5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "id-card-box" }, [
      vue.createElementVNode("view", { class: "id-card-content-box" }, [
        vue.createElementVNode("view", { class: "id-card-content" }, [
          vue.createElementVNode("view", { class: "title" }, "身份认证"),
          vue.createElementVNode("view", { class: "remark" }, "仅用于身份实名核验，信息会严格保密"),
          vue.createElementVNode("view", { class: "unload-card-box" }, [
            vue.createElementVNode("view", {
              class: "upload-card-item",
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.uploadPhoto(1))
            }, [
              vue.createElementVNode("image", {
                src: $setup.localData.idcardFront || "/static/auth/id-card-front.png",
                class: "img"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "txt" }, "身份证人像面")
            ]),
            vue.createElementVNode("view", {
              class: "upload-card-item",
              onClick: _cache[1] || (_cache[1] = ($event) => $setup.uploadPhoto(2))
            }, [
              vue.createElementVNode("image", {
                src: $setup.localData.idcardBackend || "/static/auth/id-card-back.png",
                class: "img"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "txt" }, "身份证国徽面")
            ])
          ]),
          vue.createElementVNode("view", { class: "id-card-form-content" }, [
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "姓名"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.withDirectives(vue.createElementVNode(
                  "input",
                  {
                    type: "text",
                    "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.localData.name = $event),
                    placeholder: "请输入姓名",
                    class: "form-input"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.localData.name]
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "身份证号"),
              vue.createElementVNode("view", { class: "content" }, [
                vue.withDirectives(vue.createElementVNode(
                  "input",
                  {
                    type: "text",
                    "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.localData.idcardNum = $event),
                    placeholder: "请输入身份证号",
                    class: "form-input"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.localData.idcardNum]
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "出生年月"),
              vue.createElementVNode("view", {
                class: "content",
                onClick: $setup.showTimePicker
              }, [
                vue.createElementVNode(
                  "text",
                  null,
                  vue.toDisplayString($setup.localData.birthdate || "请选择"),
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_u_icon, { name: "arrow-right" }),
                vue.createVNode(_component_u_picker, {
                  type: "text",
                  modelValue: $setup.birthdayShow,
                  "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $setup.birthdayShow = $event),
                  params: $setup.timeParams,
                  mode: "time",
                  onConfirm: $setup.confirmBirthday
                }, null, 8, ["modelValue", "params"])
              ])
            ]),
            vue.createElementVNode("view", { class: "upload-section" }, [
              vue.createElementVNode("view", { class: "label require" }, [
                vue.createTextVNode(" 个人形象照 "),
                vue.createElementVNode("text", { class: "sub-label" }, "（用于个人主页封面，格式jpg/png，大小2M内）")
              ]),
              vue.createVNode(_component_u_upload, {
                fileList: $setup.localData.masterGallery,
                "before-upload": $setup.beforeUpload,
                header: $setup.headers,
                onOnSuccess: $setup.uploadComplete1,
                onOnRemove: _cache[5] || (_cache[5] = (index, lists) => $setup.deletePic("masterGallery", index, lists)),
                name: "file",
                action: $setup.uploadUrl,
                maxCount: 5
              }, null, 8, ["fileList", "header", "action"])
            ]),
            vue.createElementVNode("view", { class: "form-item upload-with-image" }, [
              vue.createElementVNode("view", { class: "upload-content" }, [
                vue.createElementVNode("view", {
                  class: "label require",
                  style: { "width": "170rpx" }
                }, "手持身份证件"),
                vue.createVNode(_component_u_upload, {
                  fileList: $setup.localData.holdIdCardImg,
                  "before-upload": $setup.beforeUpload,
                  header: $setup.headers,
                  onOnSuccess: $setup.uploadComplete2,
                  onOnRemove: _cache[6] || (_cache[6] = (index, lists) => $setup.deletePic("holdIdCardImg", index, lists)),
                  name: "file",
                  action: $setup.uploadUrl,
                  maxCount: 1
                }, null, 8, ["fileList", "header", "action"])
              ]),
              vue.createElementVNode("image", {
                src: _imports_0$b,
                class: "example-image"
              })
            ]),
            vue.createElementVNode("view", { class: "form-item upload-with-image" }, [
              vue.createElementVNode("view", { class: "upload-content" }, [
                vue.createElementVNode("view", {
                  class: "label require",
                  style: { "width": "200rpx" }
                }, "手写承诺书照片"),
                vue.createVNode(_component_u_upload, {
                  fileList: $setup.localData.commitmentImg,
                  "before-upload": $setup.beforeUpload,
                  header: $setup.headers,
                  onOnSuccess: $setup.uploadComplete3,
                  onOnRemove: _cache[7] || (_cache[7] = (index, lists) => $setup.deletePic("commitmentImg", index, lists)),
                  name: "file",
                  action: $setup.uploadUrl,
                  maxCount: 1
                }, null, 8, ["fileList", "header", "action"])
              ]),
              vue.createElementVNode("view", { class: "promise" }, [
                vue.createElementVNode("view", {
                  class: "template",
                  onClick: _cache[8] || (_cache[8] = ($event) => $setup.handleTemplate("手写承诺书"))
                }, [
                  vue.createTextVNode(" 点击查看"),
                  vue.createElementVNode("text", null, "《承诺书模板》")
                ]),
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.promiseRequirements, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "promise-item",
                      key: index
                    }, [
                      vue.createElementVNode("image", { src: _imports_1$7 }),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item),
                        1
                        /* TEXT */
                      )
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "星座"),
              vue.createElementVNode("picker", {
                range: $setup.stars,
                onChange: $setup.starChange
              }, [
                vue.createElementVNode("view", { class: "content picker-content" }, [
                  vue.createTextVNode(
                    vue.toDisplayString($setup.localData.constellation || "请选择") + " ",
                    1
                    /* TEXT */
                  ),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "14",
                    color: "rgba(0, 0, 0, 0.3)"
                  })
                ])
              ], 40, ["range"])
            ]),
            vue.createElementVNode("view", { class: "form-item" }, [
              vue.createElementVNode("view", { class: "label require" }, "所在地区"),
              vue.createElementVNode("view", {
                class: "content",
                onClick: $setup.chooseArea
              }, [
                vue.createTextVNode(
                  vue.toDisplayString($setup.localData.address || "请选择") + " ",
                  1
                  /* TEXT */
                ),
                vue.createVNode(_component_uni_icons, {
                  type: "right",
                  size: "14",
                  color: "rgba(0, 0, 0, 0.3)"
                })
              ]),
              vue.createVNode(_component_u_picker, {
                modelValue: $setup.regionPicker,
                "onUpdate:modelValue": _cache[9] || (_cache[9] = ($event) => $setup.regionPicker = $event),
                onConfirm: $setup.confirmRegion,
                mode: "region"
              }, null, 8, ["modelValue"])
            ]),
            vue.createElementVNode("view", { class: "form-item user-sign" }, [
              vue.createElementVNode("view", { class: "label" }, "个人签名"),
              vue.createElementVNode("view", { class: "content-input" }, [
                vue.createVNode(_component_uni_easyinput, {
                  trim: "all",
                  type: "text",
                  placeholder: "请输入个人签名",
                  inputBorder: false,
                  clearable: false,
                  modelValue: $setup.localData.signature,
                  "onUpdate:modelValue": _cache[10] || (_cache[10] = ($event) => $setup.localData.signature = $event),
                  class: "signature-input"
                }, null, 8, ["modelValue"])
              ])
            ]),
            vue.createElementVNode("view", { class: "form-item user-introduction" }, [
              vue.createElementVNode("view", { class: "label" }, "个人简介"),
              vue.createElementVNode("view", { class: "introduction-content" }, [
                vue.createVNode(_component_u_input, {
                  type: "textarea",
                  border: "",
                  modelValue: $setup.localData.profile,
                  "onUpdate:modelValue": _cache[11] || (_cache[11] = ($event) => $setup.localData.profile = $event),
                  "auto-height": "",
                  height: $setup.height,
                  placeholder: "请输入个人简介"
                }, null, 8, ["modelValue", "height"])
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const idCard$1 = /* @__PURE__ */ _export_sfc(_sfc_main$w, [["render", _sfc_render$v], ["__scopeId", "data-v-1bff6c23"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/auth/components/idCard.vue"]]);
  const _sfc_main$v = {
    name: "uniCollapseItem",
    props: {
      // 列表标题
      title: {
        type: String,
        default: ""
      },
      name: {
        type: [Number, String],
        default: ""
      },
      // 是否禁用
      disabled: {
        type: Boolean,
        default: false
      },
      // 是否显示动画,app 端默认不开启动画，卡顿严重
      showAnimation: {
        type: Boolean,
        default: false
      },
      // 是否展开
      open: {
        type: Boolean,
        default: false
      },
      // 缩略图
      thumb: {
        type: String,
        default: ""
      },
      // 标题分隔线显示类型
      titleBorder: {
        type: String,
        default: "auto"
      },
      border: {
        type: Boolean,
        default: true
      },
      showArrow: {
        type: Boolean,
        default: true
      }
    },
    data() {
      const elId = `Uni_${Math.ceil(Math.random() * 1e6).toString(36)}`;
      return {
        isOpen: false,
        isheight: null,
        height: 0,
        elId,
        nameSync: 0
      };
    },
    watch: {
      open(val2) {
        this.isOpen = val2;
        this.onClick(val2, "init");
      }
    },
    updated(e2) {
      this.$nextTick(() => {
        this.init(true);
      });
    },
    created() {
      this.collapse = this.getCollapse();
      this.oldHeight = 0;
      this.onClick(this.open, "init");
    },
    // TODO vue3
    unmounted() {
      this.__isUnmounted = true;
      this.uninstall();
    },
    mounted() {
      if (!this.collapse)
        return;
      if (this.name !== "") {
        this.nameSync = this.name;
      } else {
        this.nameSync = this.collapse.childrens.length + "";
      }
      if (this.collapse.names.indexOf(this.nameSync) === -1) {
        this.collapse.names.push(this.nameSync);
      } else {
        formatAppLog("warn", "at uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.vue:154", `name 值 ${this.nameSync} 重复`);
      }
      if (this.collapse.childrens.indexOf(this) === -1) {
        this.collapse.childrens.push(this);
      }
      this.init();
    },
    methods: {
      init(type) {
        this.getCollapseHeight(type);
      },
      uninstall() {
        if (this.collapse) {
          this.collapse.childrens.forEach((item, index) => {
            if (item === this) {
              this.collapse.childrens.splice(index, 1);
            }
          });
          this.collapse.names.forEach((item, index) => {
            if (item === this.nameSync) {
              this.collapse.names.splice(index, 1);
            }
          });
        }
      },
      onClick(isOpen, type) {
        if (this.disabled)
          return;
        this.isOpen = isOpen;
        if (this.isOpen && this.collapse) {
          this.collapse.setAccordion(this);
        }
        if (type !== "init") {
          this.collapse.onChange(isOpen, this);
        }
      },
      getCollapseHeight(type, index = 0) {
        const views = uni.createSelectorQuery().in(this);
        views.select(`#${this.elId}`).fields({
          size: true
        }, (data) => {
          if (index >= 10)
            return;
          if (!data) {
            index++;
            this.getCollapseHeight(false, index);
            return;
          }
          this.height = data.height;
          this.isheight = true;
          if (type)
            return;
          this.onClick(this.isOpen, "init");
        }).exec();
      },
      getNvueHwight(type) {
        dom.getComponentRect(this.$refs["collapse--hook"], (option) => {
          if (option && option.result && option.size) {
            this.height = option.size.height;
            this.isheight = true;
            if (type)
              return;
            this.onClick(this.open, "init");
          }
        });
      },
      /**
       * 获取父元素实例
       */
      getCollapse(name = "uniCollapse") {
        let parent = this.$parent;
        let parentName = parent.$options.name;
        while (parentName !== name) {
          parent = parent.$parent;
          if (!parent)
            return false;
          parentName = parent.$options.name;
        }
        return parent;
      }
    }
  };
  function _sfc_render$u(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-collapse-item" }, [
      vue.createElementVNode(
        "view",
        {
          onClick: _cache[0] || (_cache[0] = ($event) => $options.onClick(!$data.isOpen)),
          class: vue.normalizeClass(["uni-collapse-item__title", { "is-open": $data.isOpen && $props.titleBorder === "auto", "uni-collapse-item-border": $props.titleBorder !== "none" }])
        },
        [
          vue.createElementVNode("view", { class: "uni-collapse-item__title-wrap" }, [
            vue.renderSlot(_ctx.$slots, "title", {}, () => [
              vue.createElementVNode(
                "view",
                {
                  class: vue.normalizeClass(["uni-collapse-item__title-box", { "is-disabled": $props.disabled }])
                },
                [
                  $props.thumb ? (vue.openBlock(), vue.createElementBlock("image", {
                    key: 0,
                    src: $props.thumb,
                    class: "uni-collapse-item__title-img"
                  }, null, 8, ["src"])) : vue.createCommentVNode("v-if", true),
                  vue.createElementVNode(
                    "text",
                    { class: "uni-collapse-item__title-text" },
                    vue.toDisplayString($props.title),
                    1
                    /* TEXT */
                  )
                ],
                2
                /* CLASS */
              )
            ], true)
          ]),
          $props.showArrow ? (vue.openBlock(), vue.createElementBlock(
            "view",
            {
              key: 0,
              class: vue.normalizeClass([{ "uni-collapse-item__title-arrow-active": $data.isOpen, "uni-collapse-item--animation": $props.showAnimation === true }, "uni-collapse-item__title-arrow"])
            },
            [
              vue.createVNode(_component_uni_icons, {
                color: $props.disabled ? "#ddd" : "#bbb",
                size: "14",
                type: "bottom"
              }, null, 8, ["color"])
            ],
            2
            /* CLASS */
          )) : vue.createCommentVNode("v-if", true)
        ],
        2
        /* CLASS */
      ),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["uni-collapse-item__wrap", { "is--transition": $props.showAnimation }]),
          style: vue.normalizeStyle({ height: ($data.isOpen ? $data.height : 0) + "px" })
        },
        [
          vue.createElementVNode("view", {
            id: $data.elId,
            ref: "collapse--hook",
            class: vue.normalizeClass(["uni-collapse-item__wrap-content", { open: $data.isheight, "uni-collapse-item--border": $props.border && $data.isOpen }])
          }, [
            vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
          ], 10, ["id"])
        ],
        6
        /* CLASS, STYLE */
      )
    ]);
  }
  const __easycom_1 = /* @__PURE__ */ _export_sfc(_sfc_main$v, [["render", _sfc_render$u], ["__scopeId", "data-v-3d2dde9f"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.vue"]]);
  const _sfc_main$u = {
    name: "uniCollapse",
    emits: ["change", "activeItem", "input", "update:modelValue"],
    props: {
      value: {
        type: [String, Array],
        default: ""
      },
      modelValue: {
        type: [String, Array],
        default: ""
      },
      accordion: {
        // 是否开启手风琴效果
        type: [Boolean, String],
        default: false
      }
    },
    data() {
      return {};
    },
    computed: {
      // TODO 兼容 vue2 和 vue3
      dataValue() {
        let value = typeof this.value === "string" && this.value === "" || Array.isArray(this.value) && this.value.length === 0;
        let modelValue = typeof this.modelValue === "string" && this.modelValue === "" || Array.isArray(this.modelValue) && this.modelValue.length === 0;
        if (value) {
          return this.modelValue;
        }
        if (modelValue) {
          return this.value;
        }
        return this.value;
      }
    },
    watch: {
      dataValue(val2) {
        this.setOpen(val2);
      }
    },
    created() {
      this.childrens = [];
      this.names = [];
    },
    mounted() {
      this.$nextTick(() => {
        this.setOpen(this.dataValue);
      });
    },
    methods: {
      setOpen(val2) {
        let str = typeof val2 === "string";
        let arr = Array.isArray(val2);
        this.childrens.forEach((vm, index) => {
          if (str) {
            if (val2 === vm.nameSync) {
              if (!this.accordion) {
                formatAppLog("warn", "at uni_modules/uni-collapse/components/uni-collapse/uni-collapse.vue:75", "accordion 属性为 false ,v-model 类型应该为 array");
                return;
              }
              vm.isOpen = true;
            }
          }
          if (arr) {
            val2.forEach((v2) => {
              if (v2 === vm.nameSync) {
                if (this.accordion) {
                  formatAppLog("warn", "at uni_modules/uni-collapse/components/uni-collapse/uni-collapse.vue:85", "accordion 属性为 true ,v-model 类型应该为 string");
                  return;
                }
                vm.isOpen = true;
              }
            });
          }
        });
        this.emit(val2);
      },
      setAccordion(self2) {
        if (!this.accordion)
          return;
        this.childrens.forEach((vm, index) => {
          if (self2 !== vm) {
            vm.isOpen = false;
          }
        });
      },
      resize() {
        this.childrens.forEach((vm, index) => {
          vm.getCollapseHeight();
        });
      },
      onChange(isOpen, self2) {
        let activeItem = [];
        if (this.accordion) {
          activeItem = isOpen ? self2.nameSync : "";
        } else {
          this.childrens.forEach((vm, index) => {
            if (vm.isOpen) {
              activeItem.push(vm.nameSync);
            }
          });
        }
        this.$emit("change", activeItem);
        this.emit(activeItem);
      },
      emit(val2) {
        this.$emit("input", val2);
        this.$emit("update:modelValue", val2);
      }
    }
  };
  function _sfc_render$t(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-collapse" }, [
      vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
    ]);
  }
  const __easycom_2$2 = /* @__PURE__ */ _export_sfc(_sfc_main$u, [["render", _sfc_render$t], ["__scopeId", "data-v-3f050360"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-collapse/components/uni-collapse/uni-collapse.vue"]]);
  const _sfc_main$t = {
    __name: "career",
    props: {
      modelValue: Object,
      consultantType: String
    },
    emits: ["update:modelValue", "committed"],
    setup(__props, { expose: __expose, emit: __emit }) {
      const serviceType = vue.ref([]);
      const occupationId = vue.ref();
      const workTime = vue.ref();
      const selectIndex = vue.ref(0);
      const rangeKey = vue.ref("name");
      const certificateDateParam = vue.ref({
        year: true,
        month: true,
        day: false,
        hour: false,
        minute: false,
        second: false,
        // 选择时间的时间戳
        timestamp: true
      });
      const processedData = vue.ref([]);
      const activeNames = vue.ref([]);
      const selectedIds = vue.ref([]);
      const checkedList = vue.ref([]);
      const certificatePickerShow = vue.ref(false);
      const t2 = vue.ref([]);
      const emit = __emit;
      const submit = async () => {
        const requiredFields = [
          { field: occupationId.value, message: "请选择职业" },
          { field: workTime.value, message: "请选择工作时间" },
          { field: selectedIds.value, message: "请选择服务类型" }
        ];
        for (const { field, message: message2 } of requiredFields) {
          if (!field) {
            uni.showToast({ title: message2, icon: "none" });
            return;
          }
        }
        props.modelValue.serviceType = selectedIds.value.join(",");
        if (props.consultantType == 1) {
          await registerConsultantStep2(props.modelValue);
          emit("committed", "");
        } else {
          await registerListenerStep2(props.modelValue);
          emit("committed", "");
        }
      };
      const occupationList = vue.ref([]);
      const getOccupationList = async () => {
        let { data } = await getOccupation();
        occupationList.value = data;
      };
      const bindPickerChange = (e2) => {
        var _a2;
        occupationId.value = (_a2 = occupationList.value[e2.detail.value]) == null ? void 0 : _a2.name;
        props.modelValue.occupationId = occupationList.value[e2.detail.value].id;
      };
      __expose({
        submit
      });
      const props = __props;
      const initPickerEcho = () => {
        workTime.value = props.modelValue.workTime;
        if (occupationList.value.length === 0)
          return;
        const targetId = props.modelValue.occupationId;
        if (!targetId)
          return;
        const matchedItem = occupationList.value.find((item) => item.id == targetId);
        if (matchedItem) {
          occupationId.value = matchedItem.name;
          selectIndex.value = occupationList.value.indexOf(matchedItem);
        } else {
          occupationId.value = "";
          selectIndex.value = 0;
        }
      };
      const confirmCertificateDate = (item, e2) => {
        props.modelValue.workTime = e2.year + "-" + e2.month;
        workTime.value = e2.year + "-" + e2.month;
      };
      vue.watch(
        () => props.modelValue,
        (newVal, oldVal) => {
          if (newVal.serviceType) {
            const arr = newVal.serviceType.split(",").map((e2) => e2 = parseInt(e2));
            vue.nextTick(() => {
              selectedIds.value = arr;
            });
          }
        },
        { immediate: true, deep: true }
      );
      vue.watch(
        () => occupationList.value,
        () => {
          initPickerEcho();
        }
      );
      vue.watch(checkedList, (val2) => {
        const str = val2.join(",");
        emit("update:modelValue", {
          ...props.modelValue,
          serviceType: str
        });
      });
      onShow(async () => {
        if (props.consultantType == "1") {
          let consultMenu = uni.getStorageSync("consultantMenu");
          if (!consultMenu) {
            let resp = await getConsultantMenus({
              type: 0
            });
            uni.setStorageSync("consultantMenu", JSON.stringify(resp.data));
          }
          serviceType.value = JSON.parse(uni.getStorageSync("consultantMenu"));
        } else {
          let listenerMenu = uni.getStorageSync("listenerMenu");
          serviceList().then((res2) => {
            t2.value = res2.data;
          });
          if (!listenerMenu) {
            let resp = await getConsultantMenus({
              type: 1
            });
            uni.setStorageSync("listenerMenu", JSON.stringify(resp.data));
          }
          serviceType.value = JSON.parse(uni.getStorageSync("listenerMenu"));
        }
        serviceType.value = serviceType.value.map((item) => ({
          ...item,
          checked: false
        }));
      });
      const safeJsonParse = (str) => {
        if (!str || str === "[]")
          return [];
        try {
          let cleanStr = str.replace(/[“”‘’]/g, '"').replace(/\s+/g, "").replace(/\\+/g, "\\").replace(/,}/g, "}").replace(/,\]/g, "]").replace(/([{,])\s*(\w+)\s*:/g, '$1"$2":').replace(/:\s*([^"'\d][^,}]*)([,}])/g, ':"$1"$2');
          const result = JSON.parse(cleanStr);
          return Array.isArray(result) ? result : [];
        } catch (e2) {
          return [];
        }
      };
      const initData = async () => {
        const res2 = await serviceList();
        processedData.value = res2.data.map((item) => {
          const children = safeJsonParse(item.children);
          const normalizedChildren = children.map((child) => ({
            ...child,
            id: Number(child.id) || 0
          })).filter((child) => child.id !== 0);
          return {
            ...item,
            id: Number(item.id) || 0,
            children: normalizedChildren
          };
        });
      };
      const toggleParent = async (parentItem) => {
        const parentId = parentItem.id;
        const isChecked = selectedIds.value.includes(parentId);
        await vue.nextTick();
        if (!isChecked) {
          const addIds = [parentId, ...parentItem.children.map((c2) => c2.id)];
          addIds.forEach((id2) => {
            if (!selectedIds.value.includes(id2)) {
              selectedIds.value.push(id2);
            }
          });
        } else {
          const removeIds = [parentId, ...parentItem.children.map((c2) => c2.id)];
          selectedIds.value = selectedIds.value.filter((id2) => !removeIds.includes(id2));
        }
        selectedIds.value = [...selectedIds.value];
      };
      const handleChildGroupChange = (parentItem, e2) => {
        const checkedChildIds = e2.detail.value.map((id2) => Number(id2));
        const allChildIds = parentItem.children.map((c2) => c2.id);
        selectedIds.value = selectedIds.value.filter((id2) => {
          if (allChildIds.includes(id2) && !checkedChildIds.includes(id2)) {
            return false;
          }
          return true;
        });
        checkedChildIds.forEach((id2) => {
          if (!selectedIds.value.includes(id2)) {
            selectedIds.value.push(id2);
          }
        });
        const parentId = parentItem.id;
        const allChildChecked = allChildIds.every((id2) => checkedChildIds.includes(id2));
        if (allChildChecked && !selectedIds.value.includes(parentId)) {
          selectedIds.value.push(parentId);
        } else if (!allChildChecked && selectedIds.value.includes(parentId)) {
          selectedIds.value = selectedIds.value.filter((id2) => id2 !== parentId);
        }
        selectedIds.value = [...selectedIds.value];
      };
      vue.onMounted(() => {
        initData();
        getOccupationList();
        initPickerEcho();
      });
      const __returned__ = { serviceType, occupationId, workTime, selectIndex, rangeKey, certificateDateParam, processedData, activeNames, selectedIds, checkedList, certificatePickerShow, t: t2, emit, submit, occupationList, getOccupationList, bindPickerChange, props, initPickerEcho, confirmCertificateDate, safeJsonParse, initData, toggleParent, handleChildGroupChange, nextTick: vue.nextTick, ref: vue.ref, watch: vue.watch, onMounted: vue.onMounted, get onShow() {
        return onShow;
      }, get getConsultantMenus() {
        return getConsultantMenus;
      }, get registerConsultantStep2() {
        return registerConsultantStep2;
      }, get registerListenerStep2() {
        return registerListenerStep2;
      }, get getOccupation() {
        return getOccupation;
      }, get serviceList() {
        return serviceList;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$s(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_picker = resolveEasycom(vue.resolveDynamicComponent("u-picker"), __easycom_2$7);
    const _component_uni_collapse_item = resolveEasycom(vue.resolveDynamicComponent("uni-collapse-item"), __easycom_1);
    const _component_uni_collapse = resolveEasycom(vue.resolveDynamicComponent("uni-collapse"), __easycom_2$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "career-box" }, [
      vue.createElementVNode("view", { class: "career-content-box" }, [
        vue.createElementVNode("view", { class: "career-content" }, [
          vue.createElementVNode("view", { class: "career-collapse-box" }, [
            vue.createElementVNode("picker", {
              onChange: $setup.bindPickerChange,
              value: $setup.selectIndex,
              range: $setup.occupationList,
              "range-key": $setup.rangeKey
            }, [
              vue.createElementVNode("view", { class: "career-collapse-item" }, [
                vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "justify-content": "space-between", "margin": "40rpx 0" } }, [
                  vue.createElementVNode("view", null, [
                    vue.createTextVNode("职业"),
                    vue.createElementVNode("text", { style: { "color": "red" } }, "*")
                  ]),
                  vue.createElementVNode(
                    "view",
                    { style: { "color": "#595959", "font-size": "25rpx" } },
                    vue.toDisplayString($setup.occupationId ? $setup.occupationId : "请选择"),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ], 40, ["value", "range", "range-key"]),
            vue.createElementVNode("view", { class: "career-collapse-item" }, [
              vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "justify-content": "space-between", "margin": "40rpx 0" } }, [
                vue.createElementVNode("view", null, [
                  vue.createTextVNode("工作开始时间"),
                  vue.createElementVNode("text", { style: { "color": "red" } }, "*")
                ]),
                vue.createElementVNode(
                  "view",
                  {
                    style: { "color": "#595959", "font-size": "25rpx" },
                    onClick: _cache[0] || (_cache[0] = ($event) => $setup.certificatePickerShow = true)
                  },
                  vue.toDisplayString($setup.workTime ? $setup.workTime : "请选择"),
                  1
                  /* TEXT */
                )
              ])
            ]),
            vue.createVNode(_component_u_picker, {
              mode: "time",
              modelValue: $setup.certificatePickerShow,
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.certificatePickerShow = $event),
              onConfirm: _cache[2] || (_cache[2] = ($event) => $setup.confirmCertificateDate(_ctx.item, $event)),
              params: $setup.certificateDateParam
            }, null, 8, ["modelValue", "params"])
          ])
        ]),
        vue.createElementVNode("view", { class: "career-content" }, [
          vue.createElementVNode("view", { class: "title" }, [
            vue.createTextVNode("服务类型"),
            vue.createElementVNode("text", null, "*")
          ]),
          vue.createElementVNode("view", { class: "remark" }, "专业信息展示在个人资料（多选）"),
          vue.createElementVNode("view", { class: "career-collapse-box" }, [
            vue.createElementVNode("view", { class: "career-collapse-item" }, [
              vue.createElementVNode("view", { class: "container" }, [
                vue.createVNode(_component_uni_collapse, {
                  modelValue: $setup.activeNames,
                  "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.activeNames = $event),
                  accordion: "false"
                }, {
                  default: vue.withCtx(() => [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($setup.processedData, (item) => {
                        return vue.openBlock(), vue.createBlock(_component_uni_collapse_item, {
                          key: item.id,
                          name: item.id
                        }, {
                          title: vue.withCtx(() => [
                            vue.createElementVNode("view", { class: "parent-title" }, [
                              vue.createElementVNode("view", {
                                class: vue.normalizeClass(["custom-checkbox", { checked: $setup.selectedIds.includes(item.id) }]),
                                onClick: vue.withModifiers(($event) => $setup.toggleParent(item), ["stop"])
                              }, [
                                $setup.selectedIds.includes(item.id) ? (vue.openBlock(), vue.createElementBlock("text", {
                                  key: 0,
                                  class: "check-icon"
                                }, "✓")) : vue.createCommentVNode("v-if", true)
                              ], 10, ["onClick"]),
                              vue.createElementVNode(
                                "text",
                                { class: "parent-name" },
                                vue.toDisplayString(item.name),
                                1
                                /* TEXT */
                              )
                            ])
                          ]),
                          default: vue.withCtx(() => [
                            item.children.length ? (vue.openBlock(), vue.createElementBlock("view", {
                              key: 0,
                              class: "children-list"
                            }, [
                              vue.createElementVNode("checkbox-group", {
                                onChange: (e2) => $setup.handleChildGroupChange(item, e2)
                              }, [
                                vue.createElementVNode("view", { class: "children-grid" }, [
                                  (vue.openBlock(true), vue.createElementBlock(
                                    vue.Fragment,
                                    null,
                                    vue.renderList(item.children, (child) => {
                                      return vue.openBlock(), vue.createElementBlock("view", {
                                        class: "child-item",
                                        key: child.id
                                      }, [
                                        vue.createElementVNode("checkbox", {
                                          value: child.id.toString(),
                                          checked: $setup.selectedIds.includes(child.id),
                                          color: "#fff",
                                          style: { "transform": "scale(0.7)" },
                                          activeBackgroundColor: "#35CA95"
                                        }, null, 8, ["value", "checked"]),
                                        vue.createElementVNode(
                                          "text",
                                          { class: "child-name" },
                                          vue.toDisplayString(child.name),
                                          1
                                          /* TEXT */
                                        )
                                      ]);
                                    }),
                                    128
                                    /* KEYED_FRAGMENT */
                                  ))
                                ])
                              ], 40, ["onChange"])
                            ])) : (vue.openBlock(), vue.createElementBlock("view", {
                              key: 1,
                              class: "no-children"
                            }, " 暂无子分类 "))
                          ]),
                          _: 2
                          /* DYNAMIC */
                        }, 1032, ["name"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ]),
                  _: 1
                  /* STABLE */
                }, 8, ["modelValue"])
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const career$1 = /* @__PURE__ */ _export_sfc(_sfc_main$t, [["render", _sfc_render$s], ["__scopeId", "data-v-1daff894"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/auth/components/career.vue"]]);
  const _imports_0$4 = "/static/auth/remark.png";
  const _imports_1$2 = "/static/auth/edit.png";
  const _sfc_main$s = {
    __name: "certificate",
    props: {
      consultantType: Number,
      modelValue: Object
    },
    emits: ["commited"],
    setup(__props, { expose: __expose, emit: __emit }) {
      const certificatePickerShow = vue.ref(false);
      const certificateLists = vue.ref([
        { name: null, date: null, photoList: [], authority: null, number: null, listenerId: null }
      ]);
      const educationLists = vue.ref([]);
      const trainLists = vue.ref([]);
      const qualification = vue.ref([]);
      const uploadUrl = vue.ref(baseURL$1 + "/api/common/upload");
      const timePickerShow = vue.ref(false);
      const currentIndex = vue.ref(-1);
      const type = vue.ref(0);
      const token = uni.getStorageSync("token");
      const headers = vue.ref({ token });
      const timePickerParams = vue.ref({
        year: true,
        month: true,
        day: false,
        hour: false,
        minute: false,
        second: false,
        timestamp: true
      });
      const certificateDateParam = vue.ref({
        year: true,
        month: true,
        day: true,
        hour: false,
        minute: false,
        second: false,
        timestamp: true
      });
      const initCertificateLists = (apiData) => {
        certificateLists.value.length = 0;
        const validData = Array.isArray(apiData) ? apiData : [];
        validData.forEach((item) => {
          certificateLists.value.push({
            // 正确访问ref数组
            ...item,
            selectIndex: -1,
            qualificationValue: "",
            photoList: item.photoList || []
          });
        });
      };
      const getQualificationApi = async () => {
        try {
          const { data } = await getQualification();
          qualification.value = Array.isArray(data) ? data : [];
          initCertificateLists(qualification.value);
        } catch (err) {
          formatAppLog("error", "at pages/auth/components/certificate.vue:1292", "获取资质类别失败：", err);
          qualification.value = [];
          initCertificateLists([]);
        }
      };
      const confirmSchoolTime = (item, e2) => {
        if (currentIndex.value === -1)
          return;
        const monthStr = String(e2.month).padStart(2, "0");
        const fullDate = `${e2.year}-${monthStr}-01 00:00:00`;
        if (type.value === 1) {
          item.startTime = fullDate;
        } else {
          item.endTime = fullDate;
        }
        timePickerShow.value = false;
      };
      const parseStrToImgArr = (str) => {
        if (!str || str === "" || str === "[]")
          return [];
        try {
          const res2 = JSON.parse(str);
          return Array.isArray(res2) ? res2.map((item) => typeof item === "string" ? { url: item } : { url: item.url || "" }) : [];
        } catch (err) {
          return [];
        }
      };
      const parseImgArrToStr = (arr) => {
        if (arr.length === 0)
          return "[]";
        const validArr = arr.map((item) => ({ url: item }));
        return JSON.stringify(validArr);
      };
      const showCertificateTimePicker = () => {
        certificatePickerShow.value = true;
      };
      const confirmCertificateDate = (item, e2) => {
        item.date = `${e2.year}-${e2.month}-${e2.day}`;
      };
      const bindPickerChange = (e2, index) => {
        const selectIdx = Number(e2.detail.value);
        const selectItem = qualification.value[selectIdx];
        certificateLists.value[index].listenerId = (selectItem == null ? void 0 : selectItem.id) || "";
        certificateLists.value[index].name = (selectItem == null ? void 0 : selectItem.name) || "";
      };
      const showTimePicker = (item, index, t2) => {
        type.value = t2;
        currentIndex.value = index;
        timePickerShow.value = true;
      };
      const beforeUpload = () => {
      };
      const uploadComplete = (data) => (index) => {
        if (!certificateLists.value[index])
          return;
        const item = certificateLists.value[index];
        item.photoList = item.photoList || [];
        item.photoList.push(data.data.url);
        certificateLists.value = [...certificateLists.value];
      };
      const uploadComplete1 = (data) => (index) => {
        if (!educationLists.value[index])
          return;
        const item = educationLists.value[index];
        item.photoList = item.photoList || [];
        item.photoList.push(data.data.url);
        educationLists.value = [...educationLists.value];
      };
      const uploadComplete2 = (data) => (index) => {
        if (!trainLists.value[index])
          return;
        const item = trainLists.value[index];
        item.photoList = item.photoList || [];
        item.photoList.push(data.data.url);
        trainLists.value = [...trainLists.value];
      };
      const deletePic = (_2, fileLists) => (index) => {
        if (!certificateLists.value[index])
          return;
        certificateLists.value[index].photoList = fileLists.map((item) => item.url).filter(Boolean);
        certificateLists.value = [...certificateLists.value];
      };
      const deletePic1 = (_2, fileLists) => (index) => {
        if (!educationLists.value[index])
          return;
        educationLists.value[index].photoList = fileLists.map((item) => item.url).filter(Boolean);
        educationLists.value = [...educationLists.value];
      };
      const deletePic2 = (_2, fileLists) => (index) => {
        if (!trainLists.value[index])
          return;
        trainLists.value[index].photoList = fileLists.map((item) => item.url).filter(Boolean);
        trainLists.value = [...trainLists.value];
      };
      const addCertificateListHandler = () => {
        certificateLists.value.push({
          name: "",
          date: "",
          photoList: [],
          authority: "",
          number: "",
          listenerId: null
        });
      };
      const addEducationListsHandler = () => {
        educationLists.value.push({
          startTime: null,
          endTime: null,
          schoolName: null,
          idNumber: null,
          photoList: [],
          code: null,
          degree: null
        });
      };
      const addTrainListsHandler = () => {
        trainLists.value.push({
          startTime: null,
          endTime: null,
          schoolName: null,
          idNumber: null,
          photoList: [],
          code: null,
          career: ""
        });
      };
      const removeCertificateListHandler = (index) => {
        certificateLists.value.splice(index, 1);
      };
      const removeEducationListsHandler = (index) => {
        educationLists.value.splice(index, 1);
      };
      const removeTrainListsHandler = (index) => {
        trainLists.value.splice(index, 1);
      };
      const emit = __emit;
      const props = __props;
      const refreshData = () => {
        var _a2, _b2, _c, _d, _e2, _f;
        if ((_b2 = (_a2 = props.modelValue) == null ? void 0 : _a2.certificateList) == null ? void 0 : _b2.length) {
          certificateLists.value = props.modelValue.certificateList.map((e2) => ({
            ...e2,
            photoList: parseStrToImgArr(e2.photos),
            selectIndex: -1,
            qualificationValue: ""
          }));
        } else {
          certificateLists.value = [{ name: null, date: null, photoList: [], authority: null, number: null, listenerId: null }];
        }
        if ((_d = (_c = props.modelValue) == null ? void 0 : _c.educationList) == null ? void 0 : _d.length) {
          educationLists.value = props.modelValue.educationList.map((e2) => ({
            ...e2,
            photoList: parseStrToImgArr(e2.photo)
          }));
        } else {
          educationLists.value = [];
        }
        if ((_f = (_e2 = props.modelValue) == null ? void 0 : _e2.careerList) == null ? void 0 : _f.length) {
          trainLists.value = props.modelValue.careerList.map((e2) => ({
            ...e2,
            photoList: parseStrToImgArr(e2.photos)
          }));
        } else {
          trainLists.value = [];
        }
      };
      const fromDataCertificate = vue.ref({});
      const submit = async () => {
        if (props.consultantType === 1 && certificateLists.value.length === 0) {
          uni.showToast({ title: "请上传至少一张资质证书", icon: "error" });
          return;
        }
        certificateLists.value.forEach((e2) => e2.photos = parseImgArrToStr(e2.photoList));
        educationLists.value.forEach((e2) => e2.photo = parseImgArrToStr(e2.photoList));
        trainLists.value.forEach((e2) => e2.photos = parseImgArrToStr(e2.photoList));
        const data = {
          certificateList: certificateLists.value,
          educationList: educationLists.value,
          careerList: trainLists.value,
          consultantType: props.consultantType
        };
        fromDataCertificate.value = data;
        try {
          const res2 = props.consultantType === 1 ? await registerConsultantStep3({ ...props.modelValue, ...data }) : await registerListenerStep3({ ...props.modelValue, ...data });
          if (res2.code == 0) {
            uni.showToast({ title: "提交成功" });
            emit("commited", "");
          }
        } catch (err) {
          formatAppLog("error", "at pages/auth/components/certificate.vue:1476", "提交失败：", err);
          uni.showToast({ title: "提交失败", icon: "error" });
        }
      };
      vue.onMounted(() => {
        refreshData();
        getQualificationApi();
      });
      __expose({ submit, refreshData, fromDataCertificate });
      const __returned__ = { certificatePickerShow, certificateLists, educationLists, trainLists, qualification, uploadUrl, timePickerShow, currentIndex, type, token, headers, timePickerParams, certificateDateParam, initCertificateLists, getQualificationApi, confirmSchoolTime, parseStrToImgArr, parseImgArrToStr, showCertificateTimePicker, confirmCertificateDate, bindPickerChange, showTimePicker, beforeUpload, uploadComplete, uploadComplete1, uploadComplete2, deletePic, deletePic1, deletePic2, addCertificateListHandler, addEducationListsHandler, addTrainListsHandler, removeCertificateListHandler, removeEducationListsHandler, removeTrainListsHandler, emit, props, refreshData, fromDataCertificate, submit, ref: vue.ref, onMounted: vue.onMounted, get uploadFile() {
        return uploadFile;
      }, get registerConsultantStep3() {
        return registerConsultantStep3;
      }, get registerListenerStep3() {
        return registerListenerStep3;
      }, get getQualification() {
        return getQualification;
      }, get baseURL() {
        return baseURL$1;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$r(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_picker = resolveEasycom(vue.resolveDynamicComponent("u-picker"), __easycom_2$7);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    const _component_u_upload = resolveEasycom(vue.resolveDynamicComponent("u-upload"), __easycom_3$3);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    return vue.openBlock(), vue.createElementBlock("view", { class: "certificate-box" }, [
      vue.createElementVNode("view", { class: "certificate-content-box" }, [
        vue.createElementVNode("view", { class: "certificate-content" }, [
          vue.createElementVNode("view", { class: "title" }, [
            vue.createElementVNode("view", null, [
              vue.createTextVNode(" 资质信息"),
              vue.createElementVNode("text", { class: "require" }, "(必填)")
            ]),
            vue.createElementVNode("view", { class: "tips" }, [
              vue.createElementVNode("image", {
                src: _imports_0$4,
                class: "img"
              }),
              vue.createTextVNode("说明 ")
            ])
          ]),
          vue.createElementVNode("view", { class: "remark" }, "此项信息正式上线后会公开展示在个人资料"),
          vue.createElementVNode("view", { class: "id-card-form-box" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.certificateLists, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "id-card-form-content",
                  key: index
                }, [
                  vue.createElementVNode("picker", {
                    onChange: (e2) => $setup.bindPickerChange(e2, index),
                    value: item.selectIndex,
                    range: $setup.qualification,
                    "range-key": "name"
                  }, [
                    vue.createElementVNode("view", { class: "form-item" }, [
                      vue.createElementVNode("view", { class: "label require" }, "资质类别"),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass(["content", !_ctx.value ? "weight" : ""])
                        },
                        null,
                        2
                        /* CLASS */
                      ),
                      vue.createElementVNode("view", {
                        class: "content",
                        style: { "font-size": "24rpx" }
                      }, [
                        vue.createTextVNode(
                          vue.toDisplayString(item.name || "请选择"),
                          1
                          /* TEXT */
                        ),
                        vue.createVNode(_component_u_icon, { name: "arrow-right" })
                      ])
                    ])
                  ], 40, ["onChange", "value", "range"]),
                  vue.createElementVNode("view", { class: "form-item" }, [
                    vue.createElementVNode("view", { class: "label require" }, "发证时间"),
                    vue.createElementVNode("view", { class: "content" }, [
                      vue.createElementVNode("view", { onClick: $setup.showCertificateTimePicker }, [
                        vue.createElementVNode("text", { style: { "font-size": "24rpx" } }, [
                          vue.createTextVNode(
                            vue.toDisplayString(item.date ? item.date : "请选择") + " ",
                            1
                            /* TEXT */
                          ),
                          vue.createVNode(_component_u_icon, { name: "arrow-right" })
                        ])
                      ])
                    ])
                  ]),
                  vue.createVNode(_component_u_picker, {
                    mode: "time",
                    modelValue: $setup.certificatePickerShow,
                    "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.certificatePickerShow = $event),
                    onConfirm: ($event) => $setup.confirmCertificateDate(item, $event),
                    params: $setup.certificateDateParam
                  }, null, 8, ["modelValue", "onConfirm", "params"]),
                  vue.createElementVNode("view", { class: "form-item user-sign" }, [
                    vue.createElementVNode("view", { class: "label require" }, "证书编号"),
                    vue.createElementVNode("view", {
                      class: "content-input",
                      style: { "width": "400rpx" }
                    }, [
                      vue.createVNode(_component_uni_easyinput, {
                        trim: "all",
                        type: "text",
                        placeholder: "请输入证书编号",
                        inputBorder: false,
                        clearable: false,
                        modelValue: item.number,
                        "onUpdate:modelValue": ($event) => item.number = $event,
                        style: { "text-align": "end" }
                      }, null, 8, ["modelValue", "onUpdate:modelValue"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "form-item user-introduction" }, [
                    vue.createElementVNode("view", { class: "label require" }, "证件照片"),
                    vue.createElementVNode("view", { class: "introduction-content" }, [
                      vue.createVNode(_component_u_upload, {
                        fileList: $setup.certificateLists[index].photoList,
                        "before-upload": $setup.beforeUpload,
                        header: $setup.headers,
                        onOnSuccess: ($event) => $setup.uploadComplete($event)(index),
                        onOnRemove: ($event) => $setup.deletePic($event)(index),
                        name: "file",
                        action: $setup.uploadUrl
                      }, null, 8, ["fileList", "header", "onOnSuccess", "onOnRemove", "action"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "line-box" }, [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["line", index > 0 ? "line-delete" : ""])
                      },
                      null,
                      2
                      /* CLASS */
                    ),
                    index > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "delete-item",
                      onClick: ($event) => $setup.removeCertificateListHandler(index)
                    }, [
                      vue.createVNode(_component_uni_icons, {
                        type: "minus-filled",
                        size: "30",
                        color: "#FA5151"
                      }),
                      vue.createTextVNode(" 移除 ")
                    ], 8, ["onClick"])) : vue.createCommentVNode("v-if", true)
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            )),
            vue.createElementVNode("view", {
              class: "add-certificate-btn",
              onClick: $setup.addCertificateListHandler
            }, [
              vue.createElementVNode("view", { class: "btn" }, [
                vue.createVNode(_component_uni_icons, {
                  type: "plus-filled",
                  size: "18",
                  color: "rgba(0,0,0,.85)"
                }),
                vue.createTextVNode("增加一项")
              ])
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "certificate-content" }, [
          vue.createElementVNode("view", { class: "title" }, [
            vue.createElementVNode("view", null, [
              vue.createTextVNode("教育背景"),
              vue.createElementVNode("text", { class: "require" }, "(选填)")
            ]),
            vue.createElementVNode("view", { class: "tips" }, [
              vue.createElementVNode("image", {
                src: _imports_0$4,
                class: "img"
              }),
              vue.createTextVNode("说明 ")
            ])
          ]),
          vue.createElementVNode("view", { class: "remark" }, "此项信息正式上线后会公开展示在个人资料"),
          vue.createElementVNode("view", { class: "id-card-form-box" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.educationLists, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "id-card-form-content",
                  key: index
                }, [
                  vue.createElementVNode("view", { class: "form-item" }, [
                    vue.createElementVNode("view", { class: "label" }, "起始时间"),
                    vue.createElementVNode("view", {
                      class: "content",
                      onClick: ($event) => $setup.showTimePicker(item, index, 1)
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString(item.startTime == null ? "请选择" : item.startTime) + " ",
                        1
                        /* TEXT */
                      ),
                      vue.createVNode(_component_uni_icons, {
                        type: "right",
                        size: "14",
                        color: "rgba(0, 0, 0, 0.3)"
                      })
                    ], 8, ["onClick"])
                  ]),
                  vue.createElementVNode("view", { class: "form-item" }, [
                    vue.createElementVNode("view", { class: "label" }, "截止时间"),
                    vue.createElementVNode("view", {
                      class: "content",
                      onClick: ($event) => $setup.showTimePicker(item, index, 2)
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString(item.endTime == null ? "请选择" : item.endTime) + " ",
                        1
                        /* TEXT */
                      ),
                      vue.createVNode(_component_uni_icons, {
                        type: "right",
                        size: "14",
                        color: "rgba(0, 0, 0, 0.3)"
                      })
                    ], 8, ["onClick"])
                  ]),
                  vue.createVNode(_component_u_picker, {
                    mode: "time",
                    modelValue: $setup.timePickerShow,
                    "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.timePickerShow = $event),
                    onConfirm: ($event) => $setup.confirmSchoolTime(item, $event),
                    params: $setup.timePickerParams
                  }, null, 8, ["modelValue", "onConfirm", "params"]),
                  vue.createElementVNode("view", { class: "form-item user-sign" }, [
                    vue.createElementVNode("view", { class: "label" }, "毕业院校"),
                    vue.createElementVNode("view", {
                      class: "content-input",
                      style: { "width": "400rpx" }
                    }, [
                      vue.createVNode(_component_uni_easyinput, {
                        trim: "all",
                        type: "text",
                        placeholder: "请输入毕业院校",
                        modelValue: item.schoolName,
                        "onUpdate:modelValue": ($event) => item.schoolName = $event,
                        inputBorder: false,
                        clearable: false
                      }, null, 8, ["modelValue", "onUpdate:modelValue"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "form-item user-sign" }, [
                    vue.createElementVNode("view", { class: "label" }, "证书编号"),
                    vue.createElementVNode("view", {
                      class: "content-input",
                      style: { "width": "400rpx" }
                    }, [
                      vue.createVNode(_component_uni_easyinput, {
                        trim: "all",
                        style: { "text-align": "end" },
                        type: "text",
                        placeholder: "请输入证书编号",
                        modelValue: item.code,
                        "onUpdate:modelValue": ($event) => item.code = $event,
                        inputBorder: false,
                        clearable: false
                      }, null, 8, ["modelValue", "onUpdate:modelValue"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "form-item user-sign" }, [
                    vue.createElementVNode("view", { class: "label" }, "学历"),
                    vue.createElementVNode("view", {
                      class: "content-input",
                      style: { "width": "400rpx" }
                    }, [
                      vue.createVNode(_component_uni_easyinput, {
                        trim: "all",
                        style: { "text-align": "end" },
                        type: "text",
                        placeholder: "请输入学历",
                        modelValue: item.degree,
                        "onUpdate:modelValue": ($event) => item.degree = $event,
                        inputBorder: false,
                        clearable: false
                      }, null, 8, ["modelValue", "onUpdate:modelValue"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "form-item user-introduction" }, [
                    vue.createElementVNode("view", { class: "label" }, "证件照片"),
                    vue.createElementVNode("view", { class: "introduction-content" }, [
                      vue.createVNode(_component_u_upload, {
                        fileList: $setup.educationLists[index].photoList,
                        "before-upload": $setup.beforeUpload,
                        header: $setup.headers,
                        onOnSuccess: ($event) => $setup.uploadComplete1($event)(index),
                        onOnRemove: ($event) => $setup.deletePic1($event)(index),
                        name: "file",
                        action: $setup.uploadUrl
                      }, null, 8, ["fileList", "header", "onOnSuccess", "onOnRemove", "action"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "line-box" }, [
                    vue.createElementVNode("view", { class: "line line-delete" }),
                    vue.createElementVNode("view", {
                      class: "delete-item",
                      onClick: ($event) => $setup.removeEducationListsHandler(index)
                    }, [
                      vue.createVNode(_component_uni_icons, {
                        type: "minus-filled",
                        size: "30",
                        color: "#FA5151"
                      }),
                      vue.createTextVNode(" 移除 ")
                    ], 8, ["onClick"])
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ]),
          vue.createElementVNode("view", {
            class: "add-certificate-btn",
            onClick: $setup.addEducationListsHandler
          }, [
            $setup.educationLists.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "btn"
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "plus-filled",
                size: "18",
                color: "rgba(0,0,0,.85)"
              }),
              vue.createTextVNode("增加一项")
            ])) : (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "btn edit-btn"
            }, [
              vue.createElementVNode("image", {
                src: _imports_1$2,
                class: "img"
              }),
              vue.createTextVNode("编辑 ")
            ]))
          ])
        ]),
        vue.createElementVNode("view", { class: "certificate-content" }, [
          vue.createElementVNode("view", { class: "title" }, [
            vue.createElementVNode("view", null, [
              vue.createTextVNode("伦理培训"),
              vue.createElementVNode("text", { class: "require" }, "(选填)")
            ]),
            vue.createElementVNode("view", { class: "tips" }, [
              vue.createElementVNode("image", {
                src: _imports_0$4,
                class: "img"
              }),
              vue.createTextVNode("说明 ")
            ])
          ]),
          vue.createElementVNode("view", { class: "remark" }, "此项信息正式上线后会公开展示在个人资料"),
          vue.createElementVNode("view", { class: "id-card-form-box" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.trainLists, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "id-card-form-content",
                  key: index
                }, [
                  vue.createElementVNode("view", { class: "form-item" }, [
                    vue.createElementVNode("view", { class: "label" }, "起始时间"),
                    vue.createElementVNode("view", {
                      class: "content",
                      onClick: ($event) => $setup.showTimePicker(item, index, 1)
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString(item.startTime == null ? "请选择" : item.startTime) + " ",
                        1
                        /* TEXT */
                      ),
                      vue.createVNode(_component_uni_icons, {
                        type: "right",
                        size: "14",
                        color: "rgba(0, 0, 0, 0.3)"
                      })
                    ], 8, ["onClick"])
                  ]),
                  vue.createElementVNode("view", { class: "form-item" }, [
                    vue.createElementVNode("view", { class: "label" }, "截止时间"),
                    vue.createElementVNode("view", {
                      class: "content",
                      onClick: ($event) => $setup.showTimePicker(item, index, 2)
                    }, [
                      vue.createTextVNode(
                        vue.toDisplayString(item.endTime == null ? "请选择" : item.endTime) + " ",
                        1
                        /* TEXT */
                      ),
                      vue.createVNode(_component_uni_icons, {
                        type: "right",
                        size: "14",
                        color: "rgba(0, 0, 0, 0.3)"
                      })
                    ], 8, ["onClick"])
                  ]),
                  vue.createVNode(_component_u_picker, {
                    mode: "time",
                    modelValue: $setup.timePickerShow,
                    "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.timePickerShow = $event),
                    onConfirm: ($event) => $setup.confirmSchoolTime(item, $event),
                    params: $setup.timePickerParams
                  }, null, 8, ["modelValue", "onConfirm", "params"]),
                  vue.createElementVNode("view", { class: "form-item user-sign" }, [
                    vue.createElementVNode("view", { class: "label" }, "培训课程"),
                    vue.createElementVNode("view", {
                      class: "content-input",
                      style: { "width": "400rpx" }
                    }, [
                      vue.createVNode(_component_uni_easyinput, {
                        trim: "all",
                        type: "text",
                        placeholder: "请输入培训课程",
                        modelValue: item.career,
                        "onUpdate:modelValue": ($event) => item.career = $event,
                        inputBorder: false,
                        clearable: false,
                        placeholderStyle: { "text-align": "right" }
                      }, null, 8, ["modelValue", "onUpdate:modelValue"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "form-item user-introduction" }, [
                    vue.createElementVNode("view", { class: "label" }, "证件照片"),
                    vue.createElementVNode("view", { class: "introduction-content" }, [
                      vue.createVNode(_component_u_upload, {
                        fileList: $setup.trainLists[index].photoList,
                        "before-upload": $setup.beforeUpload,
                        header: $setup.headers,
                        onOnSuccess: ($event) => $setup.uploadComplete2($event)(index),
                        onOnRemove: ($event) => $setup.deletePic2($event)(index),
                        name: "file",
                        action: $setup.uploadUrl
                      }, null, 8, ["fileList", "header", "onOnSuccess", "onOnRemove", "action"])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "line-box" }, [
                    vue.createElementVNode("view", { class: "line line-delete" }),
                    vue.createElementVNode("view", {
                      class: "delete-item",
                      onClick: ($event) => $setup.removeTrainListsHandler(index)
                    }, [
                      vue.createVNode(_component_uni_icons, {
                        type: "minus-filled",
                        size: "30",
                        color: "#FA5151"
                      }),
                      vue.createTextVNode(" 移除 ")
                    ], 8, ["onClick"])
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            )),
            vue.createElementVNode("view", {
              class: "add-certificate-btn",
              onClick: $setup.addTrainListsHandler
            }, [
              $setup.trainLists.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "btn"
              }, [
                vue.createVNode(_component_uni_icons, {
                  type: "plus-filled",
                  size: "18",
                  color: "rgba(0,0,0,.85)"
                }),
                vue.createTextVNode("增加一项")
              ])) : (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "btn edit-btn"
              }, [
                vue.createElementVNode("image", {
                  src: _imports_1$2,
                  class: "img"
                }),
                vue.createTextVNode("编辑 ")
              ]))
            ])
          ])
        ])
      ])
    ]);
  }
  const certificate$1 = /* @__PURE__ */ _export_sfc(_sfc_main$s, [["render", _sfc_render$r], ["__scopeId", "data-v-67319c65"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/auth/components/certificate.vue"]]);
  const _sfc_main$r = {
    __name: "auth",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "98e148d1-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const currentComponent = vue.ref(idCard$1);
      const step = vue.ref(1);
      const consultant = vue.ref({});
      const idCardRef = vue.ref(null);
      const careerRef = vue.ref(null);
      const finalStep = vue.ref(null);
      const consultantType = vue.ref("");
      const userInfo = vue.ref("");
      onLoad((options) => {
        consultantType.value = options.type;
        userInfo.value = JSON.parse(options.userInfo);
        formatAppLog("log", "at pages/auth/auth.vue:147", userInfo.value);
        uni.setNavigationBarTitle({ title: "认证" });
        getConsultantDetail();
      });
      const getConsultantDetail = async () => {
        if (consultantType.value == 1) {
          let resp = await getConsultantByUserId({ userId: userInfo.value });
          const data = {
            ...resp.data,
            idcardNum: resp.data.sysUser.idCardNo,
            idcardFront: resp.data.sysUser.idCardFrontImg,
            idcardBackend: resp.data.sysUser.idCardBackImg,
            occupationId: resp.data.sysUser.occupationId
          };
          processingImg(data);
        } else {
          let resp = await getListenerByUserId({ userId: userInfo.value });
          const data = {
            ...resp.data,
            occupationId: resp.data.sysUser.occupationId
          };
          processingImg(data);
        }
      };
      const processingImg = (val2) => {
        const { masterGallery, commitmentImg, holdIdCardImg } = val2;
        const master = masterGallery ? JSON.parse(masterGallery) : [];
        const commitment = formatImages([commitmentImg]);
        const holdIdCard = formatImages([holdIdCardImg]);
        const data = Object.assign(val2, {
          masterGallery: master,
          commitmentImg: commitment,
          holdIdCardImg: holdIdCard
        });
        consultant.value = data;
      };
      const formatImages = (urls) => {
        return urls.map((url2, index) => ({
          url: url2
        }));
      };
      const formData = vue.ref({
        idCard: {
          consultantName: "",
          idNum: ""
          // 其他身份证信息字段
        },
        career: {
          profession: "",
          experience: ""
          // 其他职业信息字段
        },
        certificate: {
          files: []
          // 其他证书字段
        }
      });
      const nextStepHandler = () => {
        var _a2, _b2;
        if (step.value == 1) {
          (_a2 = idCardRef.value) == null ? void 0 : _a2.submit();
        }
        if (step.value == 2) {
          (_b2 = careerRef.value) == null ? void 0 : _b2.submit();
        }
      };
      const step1Commit = () => {
        step.value = step.value + 1;
      };
      const setp2Commit = () => {
        step.value = step.value + 1;
      };
      const finalCommit = () => {
        uni.showToast({
          title: "资料已提交，请等待审核"
        });
        uni.navigateBack();
      };
      const prevStepHandler = () => {
        step.value = step.value - 1;
      };
      vue.watch(step, (newVal, oldVal) => {
        var _a2;
        if (newVal == 1) {
          currentComponent.value = idCard$1;
        } else if (newVal == 2) {
          currentComponent.value = career$1;
        } else if (newVal == 3) {
          (_a2 = finalStep.value) == null ? void 0 : _a2.refreshData();
          currentComponent.value = certificate$1;
        }
      });
      const examineHandler = async () => {
        var _a2;
        (_a2 = finalStep.value) == null ? void 0 : _a2.submit();
        const { certificateList, educationList, careerList, consultantType: consultantType2 } = finalStep.value.fromDataCertificate;
        const submitData = {
          ...formData.value.idCard,
          ...formData.value.career,
          certificateList,
          educationList,
          careerList,
          consultantType: consultantType2,
          certificates: formData.value.certificate.files
        };
        try {
          let res2 = await saveConsultant(submitData);
        } catch (err) {
          formatAppLog("error", "at pages/auth/auth.vue:265", "提交失败：", err);
          uni.showToast({ title: "提交失败", icon: "error" });
        }
      };
      const __returned__ = { globalStore, statusBarHeight, currentComponent, step, consultant, idCardRef, careerRef, finalStep, consultantType, userInfo, getConsultantDetail, processingImg, formatImages, formData, nextStepHandler, step1Commit, setp2Commit, finalCommit, prevStepHandler, examineHandler, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get getConsultantByUserId() {
        return getConsultantByUserId;
      }, get getListenerByUserId() {
        return getListenerByUserId;
      }, get saveConsultant() {
        return saveConsultant;
      }, idCard: idCard$1, career: career$1, certificate: certificate$1, get constant() {
        return constant;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$q(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "auth-box" }, [
      vue.createElementVNode("view", { class: "children-component" }, [
        $setup.certificate.verifyStatus == null || $setup.certificate.verifyStatus == 0 ? (vue.openBlock(), vue.createElementBlock("scroll-view", {
          key: 0,
          "scroll-y": "true",
          "show-scrollbar": false,
          class: "scroll-content"
        }, [
          vue.createElementVNode("view", { class: "children-content" }, [
            vue.createElementVNode("view", { class: "top-bg" }),
            vue.createElementVNode("view", { class: "current-component" }, [
              vue.createElementVNode("view", { class: "step-box" }, [
                vue.createElementVNode("view", { class: "step-content" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["step-item", $setup.step == 1 ? "step-item-active" : ""])
                    },
                    [
                      vue.createElementVNode("view", { class: "step-num" }, "1"),
                      vue.createElementVNode("view", { class: "step-txt" }, "基本信息")
                    ],
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode("view", { class: "step-line" }),
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["step-item", $setup.step == 2 ? "step-item-active" : ""])
                    },
                    [
                      vue.createElementVNode("view", { class: "step-num" }, "2"),
                      vue.createElementVNode("view", { class: "step-txt" }, "职业信息")
                    ],
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode("view", { class: "step-line" }),
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["step-item", $setup.step == 3 ? "step-item-active" : ""])
                    },
                    [
                      vue.createElementVNode("view", { class: "step-num" }, "3"),
                      vue.createElementVNode("view", { class: "step-txt" }, "证书资料")
                    ],
                    2
                    /* CLASS */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "handler-components-box" }, [
                vue.withDirectives(vue.createVNode($setup["idCard"], {
                  modelValue: $setup.consultant,
                  consultantType: $setup.consultantType,
                  onCommitted: $setup.step1Commit,
                  ref: "idCardRef",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.formData.idCard = $event)
                }, null, 8, ["modelValue", "consultantType"]), [
                  [vue.vShow, $setup.step == 1]
                ]),
                vue.withDirectives(vue.createVNode($setup["career"], {
                  ref: "careerRef",
                  modelValue: $setup.consultant,
                  consultantType: $setup.consultantType,
                  onCommitted: $setup.setp2Commit
                }, null, 8, ["modelValue", "consultantType"]), [
                  [vue.vShow, $setup.step == 2]
                ]),
                vue.withDirectives(vue.createVNode($setup["certificate"], {
                  ref: "finalStep",
                  onCommited: $setup.finalCommit,
                  modelValue: $setup.consultant,
                  consultantType: $setup.consultantType
                }, null, 8, ["modelValue", "consultantType"]), [
                  [vue.vShow, $setup.step == 3]
                ]),
                vue.createElementVNode("view", { class: "footer" }, [
                  vue.createElementVNode("view", { class: "tip" }, [
                    vue.createElementVNode("image", {
                      src: _imports_0$a,
                      class: "img"
                    }),
                    vue.createTextVNode("个人信息安全保障中 ")
                  ]),
                  $setup.step == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "btn"
                  }, [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["next", $setup.consultantType == 1 ? "next-ba1" : "next-ba2"]),
                        onClick: $setup.nextStepHandler
                      },
                      "填好了，下一步",
                      2
                      /* CLASS */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  $setup.step == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "btn step-2"
                  }, [
                    vue.createElementVNode("view", {
                      class: "next prev",
                      onClick: $setup.prevStepHandler
                    }, "上一步"),
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["next", $setup.consultantType == 1 ? "next-ba1" : "next-ba2"]),
                        onClick: $setup.nextStepHandler
                      },
                      "填好了，下一步",
                      2
                      /* CLASS */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  $setup.step == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 2,
                    class: "btn step-2"
                  }, [
                    vue.createElementVNode("view", {
                      class: "next prev",
                      onClick: $setup.prevStepHandler
                    }, "上一步"),
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["next", $setup.consultantType == 1 ? "next-ba1" : "next-ba2"]),
                        onClick: $setup.examineHandler
                      },
                      "提交审核",
                      2
                      /* CLASS */
                    )
                  ])) : vue.createCommentVNode("v-if", true)
                ])
              ])
            ])
          ])
        ])) : $setup.consultant.verifyStatus == 1 ? (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
          vue.createElementVNode("view", null, [
            vue.createVNode(_component_u_icon, { name: "info-circle-fill" })
          ]),
          vue.createElementVNode("view", null, [
            vue.createElementVNode("text", null, "认证审核中，请稍后查看")
          ]),
          vue.createElementVNode("view", null, [
            vue.createElementVNode("text", {
              onClick: _cache[1] || (_cache[1] = (...args) => _ctx.recheck && _ctx.recheck(...args)),
              style: { "color": "red" }
            }, "重新审核")
          ])
        ])) : $setup.consultant.verifyStatus == 2 ? (vue.openBlock(), vue.createElementBlock("view", { key: 2 }, [
          vue.createElementVNode("view", null, [
            vue.createElementVNode("text", null, "您已认证成为心理咨询师")
          ])
        ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 3 }, [
          vue.createElementVNode("view", null, [
            vue.createElementVNode("text", null, "您的资料未通过审核~")
          ])
        ]))
      ])
    ]);
  }
  const PagesAuthAuth = /* @__PURE__ */ _export_sfc(_sfc_main$r, [["render", _sfc_render$q], ["__scopeId", "data-v-98e148d1"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/auth/auth.vue"]]);
  const cityJson = [{ "letter": "A", "city": "阿坝县" }, { "letter": "A", "city": "阿巴嘎旗" }, { "letter": "A", "city": "阿坝藏族羌族自治州" }, { "letter": "A", "city": "阿尔山市" }, { "letter": "A", "city": "阿合奇县" }, { "letter": "A", "city": "阿克塞哈萨克族自治县" }, { "letter": "A", "city": "阿克苏市" }, { "letter": "A", "city": "阿克苏地区" }, { "letter": "A", "city": "阿克陶县" }, { "letter": "A", "city": "阿拉尔市" }, { "letter": "A", "city": "阿拉山口市" }, { "letter": "A", "city": "阿拉善盟" }, { "letter": "A", "city": "阿拉善右旗" }, { "letter": "A", "city": "阿拉善左旗" }, { "letter": "A", "city": "阿勒泰市" }, { "letter": "A", "city": "阿勒泰地区" }, { "letter": "A", "city": "阿里地区" }, { "letter": "A", "city": "阿鲁科尔沁旗" }, { "letter": "A", "city": "安达市" }, { "letter": "A", "city": "安多县" }, { "letter": "A", "city": "安福县" }, { "letter": "A", "city": "昂仁县" }, { "letter": "A", "city": "安国市" }, { "letter": "A", "city": "安化县" }, { "letter": "A", "city": "安吉县" }, { "letter": "A", "city": "安康市" }, { "letter": "A", "city": "安龙县" }, { "letter": "A", "city": "安陆市" }, { "letter": "A", "city": "安宁市" }, { "letter": "A", "city": "安平县" }, { "letter": "A", "city": "安庆市" }, { "letter": "A", "city": "安丘市" }, { "letter": "A", "city": "安仁县" }, { "letter": "A", "city": "安塞区" }, { "letter": "A", "city": "鞍山市" }, { "letter": "A", "city": "安顺市" }, { "letter": "A", "city": "安图县" }, { "letter": "A", "city": "安溪县" }, { "letter": "A", "city": "安乡县" }, { "letter": "A", "city": "安新县" }, { "letter": "A", "city": "安阳市" }, { "letter": "A", "city": "安阳县" }, { "letter": "A", "city": "安义县" }, { "letter": "A", "city": "安远县" }, { "letter": "A", "city": "安岳县" }, { "letter": "A", "city": "安泽县" }, { "letter": "A", "city": "敖汉旗" }, { "letter": "A", "city": "澳门特别行政区" }, { "letter": "A", "city": "阿荣旗" }, { "letter": "A", "city": "阿图什市" }, { "letter": "A", "city": "阿瓦提县" }, { "letter": "B", "city": "巴楚县" }, { "letter": "B", "city": "巴东县" }, { "letter": "B", "city": "白城市" }, { "letter": "B", "city": "拜城县" }, { "letter": "B", "city": "白河县" }, { "letter": "B", "city": "白朗县" }, { "letter": "B", "city": "拜泉县" }, { "letter": "B", "city": "百色市" }, { "letter": "B", "city": "白沙黎族自治县" }, { "letter": "B", "city": "白山市" }, { "letter": "B", "city": "白水县" }, { "letter": "B", "city": "柏乡县" }, { "letter": "B", "city": "白银市" }, { "letter": "B", "city": "白玉县" }, { "letter": "B", "city": "巴里坤哈萨克自治县" }, { "letter": "B", "city": "巴林右旗" }, { "letter": "B", "city": "巴林左旗" }, { "letter": "B", "city": "巴马瑶族自治县" }, { "letter": "B", "city": "班戈县" }, { "letter": "B", "city": "班玛县" }, { "letter": "B", "city": "保德县" }, { "letter": "B", "city": "保定市" }, { "letter": "B", "city": "宝丰县" }, { "letter": "B", "city": "宝鸡市" }, { "letter": "B", "city": "保靖县" }, { "letter": "B", "city": "保康县" }, { "letter": "B", "city": "宝清县" }, { "letter": "B", "city": "保山市" }, { "letter": "B", "city": "保亭黎族苗族自治县" }, { "letter": "B", "city": "包头市" }, { "letter": "B", "city": "宝兴县" }, { "letter": "B", "city": "宝应县" }, { "letter": "B", "city": "巴青县" }, { "letter": "B", "city": "八宿县" }, { "letter": "B", "city": "巴塘县" }, { "letter": "B", "city": "巴彦县" }, { "letter": "B", "city": "巴彦淖尔市" }, { "letter": "B", "city": "巴音郭楞蒙古自治州" }, { "letter": "B", "city": "巴中市" }, { "letter": "B", "city": "霸州市" }, { "letter": "B", "city": "北安市" }, { "letter": "B", "city": "北川羌族自治县" }, { "letter": "B", "city": "北海市" }, { "letter": "B", "city": "北京市" }, { "letter": "B", "city": "北流市" }, { "letter": "B", "city": "北票市" }, { "letter": "B", "city": "北屯市" }, { "letter": "B", "city": "北镇市" }, { "letter": "B", "city": "蚌埠市" }, { "letter": "B", "city": "本溪市" }, { "letter": "B", "city": "本溪满族自治县" }, { "letter": "B", "city": "边坝县" }, { "letter": "B", "city": "毕节市" }, { "letter": "B", "city": "宾川县" }, { "letter": "B", "city": "滨海县" }, { "letter": "B", "city": "宾县" }, { "letter": "B", "city": "彬县" }, { "letter": "B", "city": "宾阳县" }, { "letter": "B", "city": "滨州市" }, { "letter": "B", "city": "比如县" }, { "letter": "B", "city": "泌阳县" }, { "letter": "B", "city": "博爱县" }, { "letter": "B", "city": "博白县" }, { "letter": "B", "city": "博尔塔拉蒙古自治州" }, { "letter": "B", "city": "博湖县" }, { "letter": "B", "city": "博乐市" }, { "letter": "B", "city": "勃利县" }, { "letter": "B", "city": "博罗县" }, { "letter": "B", "city": "波密县" }, { "letter": "B", "city": "泊头市" }, { "letter": "B", "city": "博兴县" }, { "letter": "B", "city": "博野县" }, { "letter": "B", "city": "亳州市" }, { "letter": "B", "city": "布尔津县" }, { "letter": "B", "city": "布拖县" }, { "letter": "C", "city": "苍南县" }, { "letter": "C", "city": "苍梧县" }, { "letter": "C", "city": "苍溪县" }, { "letter": "C", "city": "沧县" }, { "letter": "C", "city": "沧源佤族自治县" }, { "letter": "C", "city": "沧州市" }, { "letter": "C", "city": "曹县" }, { "letter": "C", "city": "册亨县" }, { "letter": "C", "city": "策勒县" }, { "letter": "C", "city": "岑巩县" }, { "letter": "C", "city": "岑溪市" }, { "letter": "C", "city": "察布查尔锡伯自治县" }, { "letter": "C", "city": "察哈尔右翼后旗" }, { "letter": "C", "city": "察哈尔右翼前旗" }, { "letter": "C", "city": "察哈尔右翼中旗" }, { "letter": "C", "city": "柴桑区" }, { "letter": "C", "city": "茶陵县" }, { "letter": "C", "city": "长白朝鲜族自治县" }, { "letter": "C", "city": "长春市" }, { "letter": "C", "city": "长岛县" }, { "letter": "C", "city": "常德市" }, { "letter": "C", "city": "昌都市" }, { "letter": "C", "city": "长丰县" }, { "letter": "C", "city": "长葛市" }, { "letter": "C", "city": "长海县" }, { "letter": "C", "city": "昌吉市" }, { "letter": "C", "city": "昌江黎族自治县" }, { "letter": "C", "city": "昌吉回族自治州" }, { "letter": "C", "city": "昌乐县" }, { "letter": "C", "city": "昌黎县" }, { "letter": "C", "city": "长岭县" }, { "letter": "C", "city": "常宁市" }, { "letter": "C", "city": "长宁县" }, { "letter": "C", "city": "昌宁县" }, { "letter": "C", "city": "长沙市" }, { "letter": "C", "city": "长沙县" }, { "letter": "C", "city": "常山县" }, { "letter": "C", "city": "常熟市" }, { "letter": "C", "city": "长顺县" }, { "letter": "C", "city": "长泰县" }, { "letter": "C", "city": "长汀县" }, { "letter": "C", "city": "昌图县" }, { "letter": "C", "city": "长武县" }, { "letter": "C", "city": "长兴县" }, { "letter": "C", "city": "长阳土家族自治县" }, { "letter": "C", "city": "昌邑市" }, { "letter": "C", "city": "长垣县" }, { "letter": "C", "city": "长治市" }, { "letter": "C", "city": "长治县" }, { "letter": "C", "city": "常州市" }, { "letter": "C", "city": "巢湖市" }, { "letter": "C", "city": "朝阳市" }, { "letter": "C", "city": "朝阳县" }, { "letter": "C", "city": "潮州市" }, { "letter": "C", "city": "察雅县" }, { "letter": "C", "city": "察隅县" }, { "letter": "C", "city": "陈巴尔虎旗" }, { "letter": "C", "city": "成安县" }, { "letter": "C", "city": "城步苗族自治县" }, { "letter": "C", "city": "澄城县" }, { "letter": "C", "city": "承德市" }, { "letter": "C", "city": "承德县" }, { "letter": "C", "city": "成都市" }, { "letter": "C", "city": "称多县" }, { "letter": "C", "city": "城固县" }, { "letter": "C", "city": "澄江县" }, { "letter": "C", "city": "城口县" }, { "letter": "C", "city": "澄迈县" }, { "letter": "C", "city": "成武县" }, { "letter": "C", "city": "成县" }, { "letter": "C", "city": "辰溪县" }, { "letter": "C", "city": "郴州市" }, { "letter": "C", "city": "赤壁市" }, { "letter": "C", "city": "赤城县" }, { "letter": "C", "city": "赤峰市" }, { "letter": "C", "city": "茌平县" }, { "letter": "C", "city": "赤水市" }, { "letter": "C", "city": "池州市" }, { "letter": "C", "city": "崇明区" }, { "letter": "C", "city": "重庆市" }, { "letter": "C", "city": "崇仁县" }, { "letter": "C", "city": "崇信县" }, { "letter": "C", "city": "崇阳县" }, { "letter": "C", "city": "崇义县" }, { "letter": "C", "city": "崇州市" }, { "letter": "C", "city": "崇左市" }, { "letter": "C", "city": "淳安县" }, { "letter": "C", "city": "淳化县" }, { "letter": "C", "city": "楚雄市" }, { "letter": "C", "city": "楚雄彝族自治州" }, { "letter": "C", "city": "滁州市" }, { "letter": "C", "city": "慈利县" }, { "letter": "C", "city": "慈溪市" }, { "letter": "C", "city": "磁县" }, { "letter": "C", "city": "从江县" }, { "letter": "C", "city": "措美县" }, { "letter": "C", "city": "错那县" }, { "letter": "C", "city": "措勤县" }, { "letter": "D", "city": "大安市" }, { "letter": "D", "city": "大柴旦行政委员会" }, { "letter": "D", "city": "大厂回族自治县" }, { "letter": "D", "city": "达尔罕茂明安联合旗" }, { "letter": "D", "city": "大方县" }, { "letter": "D", "city": "大关县" }, { "letter": "D", "city": "大化瑶族自治县" }, { "letter": "D", "city": "大城县" }, { "letter": "D", "city": "岱山县" }, { "letter": "D", "city": "代县" }, { "letter": "D", "city": "达拉特旗" }, { "letter": "D", "city": "大理市" }, { "letter": "D", "city": "大荔县" }, { "letter": "D", "city": "大连市" }, { "letter": "D", "city": "大理白族自治州" }, { "letter": "D", "city": "大名县" }, { "letter": "D", "city": "丹巴县" }, { "letter": "D", "city": "郸城县" }, { "letter": "D", "city": "丹东市" }, { "letter": "D", "city": "丹凤县" }, { "letter": "D", "city": "宕昌县" }, { "letter": "D", "city": "砀山县" }, { "letter": "D", "city": "当涂县" }, { "letter": "D", "city": "当雄县" }, { "letter": "D", "city": "当阳市" }, { "letter": "D", "city": "大宁县" }, { "letter": "D", "city": "丹江口市" }, { "letter": "D", "city": "丹棱县" }, { "letter": "D", "city": "丹阳市" }, { "letter": "D", "city": "丹寨县" }, { "letter": "D", "city": "儋州市" }, { "letter": "D", "city": "稻城县" }, { "letter": "D", "city": "道孚县" }, { "letter": "D", "city": "道县" }, { "letter": "D", "city": "道真仡佬族苗族自治县" }, { "letter": "D", "city": "大埔县" }, { "letter": "D", "city": "大庆市" }, { "letter": "D", "city": "达日县" }, { "letter": "D", "city": "大石桥市" }, { "letter": "D", "city": "大田县" }, { "letter": "D", "city": "大同市" }, { "letter": "D", "city": "大同县" }, { "letter": "D", "city": "大通回族土族自治县" }, { "letter": "D", "city": "大悟县" }, { "letter": "D", "city": "大新县" }, { "letter": "D", "city": "大兴安岭地区" }, { "letter": "D", "city": "大姚县" }, { "letter": "D", "city": "大冶市" }, { "letter": "D", "city": "大邑县" }, { "letter": "D", "city": "大英县" }, { "letter": "D", "city": "大余县" }, { "letter": "D", "city": "达州市" }, { "letter": "D", "city": "大竹县" }, { "letter": "D", "city": "德安县" }, { "letter": "D", "city": "德保县" }, { "letter": "D", "city": "德昌县" }, { "letter": "D", "city": "德格县" }, { "letter": "D", "city": "德宏傣族景颇族自治州" }, { "letter": "D", "city": "德化县" }, { "letter": "D", "city": "德惠市" }, { "letter": "D", "city": "德江县" }, { "letter": "D", "city": "德令哈市" }, { "letter": "D", "city": "登封市" }, { "letter": "D", "city": "磴口县" }, { "letter": "D", "city": "灯塔市" }, { "letter": "D", "city": "邓州市" }, { "letter": "D", "city": "德钦县" }, { "letter": "D", "city": "德清县" }, { "letter": "D", "city": "德庆县" }, { "letter": "D", "city": "得荣县" }, { "letter": "D", "city": "德兴市" }, { "letter": "D", "city": "德阳市" }, { "letter": "D", "city": "德州市" }, { "letter": "D", "city": "垫江县" }, { "letter": "D", "city": "调兵山市" }, { "letter": "D", "city": "迭部县" }, { "letter": "D", "city": "定安县" }, { "letter": "D", "city": "定边县" }, { "letter": "D", "city": "定结县" }, { "letter": "D", "city": "定南县" }, { "letter": "D", "city": "丁青县" }, { "letter": "D", "city": "定日县" }, { "letter": "D", "city": "定西市" }, { "letter": "D", "city": "定襄县" }, { "letter": "D", "city": "定兴县" }, { "letter": "D", "city": "定远县" }, { "letter": "D", "city": "定州市" }, { "letter": "D", "city": "迪庆藏族自治州" }, { "letter": "D", "city": "东安县" }, { "letter": "D", "city": "东阿县" }, { "letter": "D", "city": "东方市" }, { "letter": "D", "city": "东丰县" }, { "letter": "D", "city": "东港市" }, { "letter": "D", "city": "东莞市" }, { "letter": "D", "city": "东光县" }, { "letter": "D", "city": "东海县" }, { "letter": "D", "city": "洞口县" }, { "letter": "D", "city": "东兰县" }, { "letter": "D", "city": "东辽县" }, { "letter": "D", "city": "东明县" }, { "letter": "D", "city": "东宁市" }, { "letter": "D", "city": "东平县" }, { "letter": "D", "city": "东山县" }, { "letter": "D", "city": "东台市" }, { "letter": "D", "city": "东乌珠穆沁旗" }, { "letter": "D", "city": "东乡族自治县" }, { "letter": "D", "city": "东兴市" }, { "letter": "D", "city": "东阳市" }, { "letter": "D", "city": "东营市" }, { "letter": "D", "city": "东源县" }, { "letter": "D", "city": "东至县" }, { "letter": "D", "city": "都安瑶族自治县" }, { "letter": "D", "city": "都昌县" }, { "letter": "D", "city": "杜尔伯特蒙古族自治县" }, { "letter": "D", "city": "都江堰市" }, { "letter": "D", "city": "都兰县" }, { "letter": "D", "city": "敦化市" }, { "letter": "D", "city": "敦煌市" }, { "letter": "D", "city": "多伦县" }, { "letter": "D", "city": "独山县" }, { "letter": "D", "city": "都匀市" }, { "letter": "E", "city": "峨边彝族自治县" }, { "letter": "E", "city": "鄂尔多斯市" }, { "letter": "E", "city": "额尔古纳市" }, { "letter": "E", "city": "额济纳旗" }, { "letter": "E", "city": "鄂伦春自治旗" }, { "letter": "E", "city": "峨眉山市" }, { "letter": "E", "city": "额敏县" }, { "letter": "E", "city": "恩平市" }, { "letter": "E", "city": "恩施市" }, { "letter": "E", "city": "恩施土家族苗族自治州" }, { "letter": "E", "city": "二连浩特市" }, { "letter": "E", "city": "洱源县" }, { "letter": "E", "city": "峨山彝族自治县" }, { "letter": "E", "city": "鄂托克旗" }, { "letter": "E", "city": "鄂托克前旗" }, { "letter": "E", "city": "鄂温克族自治旗" }, { "letter": "E", "city": "鄂州市" }, { "letter": "F", "city": "法库县" }, { "letter": "F", "city": "繁昌县" }, { "letter": "F", "city": "方城县" }, { "letter": "F", "city": "防城港市" }, { "letter": "F", "city": "方山县" }, { "letter": "F", "city": "房县" }, { "letter": "F", "city": "方正县" }, { "letter": "F", "city": "范县" }, { "letter": "F", "city": "繁峙县" }, { "letter": "F", "city": "肥城市" }, { "letter": "F", "city": "肥东县" }, { "letter": "F", "city": "肥西县" }, { "letter": "F", "city": "费县" }, { "letter": "F", "city": "肥乡县" }, { "letter": "F", "city": "丰城市" }, { "letter": "F", "city": "凤城市" }, { "letter": "F", "city": "丰都县" }, { "letter": "F", "city": "凤冈县" }, { "letter": "F", "city": "凤凰县" }, { "letter": "F", "city": "奉节县" }, { "letter": "F", "city": "封开县" }, { "letter": "F", "city": "丰宁满族自治县" }, { "letter": "F", "city": "凤庆县" }, { "letter": "F", "city": "封丘县" }, { "letter": "F", "city": "凤山县" }, { "letter": "F", "city": "丰顺县" }, { "letter": "F", "city": "凤台县" }, { "letter": "F", "city": "丰县" }, { "letter": "F", "city": "凤县" }, { "letter": "F", "city": "凤翔县" }, { "letter": "F", "city": "奉新县" }, { "letter": "F", "city": "凤阳县" }, { "letter": "F", "city": "丰镇市" }, { "letter": "F", "city": "汾西县" }, { "letter": "F", "city": "汾阳市" }, { "letter": "F", "city": "分宜县" }, { "letter": "F", "city": "佛冈县" }, { "letter": "F", "city": "佛坪县" }, { "letter": "F", "city": "佛山市" }, { "letter": "F", "city": "福安市" }, { "letter": "F", "city": "阜城县" }, { "letter": "F", "city": "富川瑶族自治县" }, { "letter": "F", "city": "福鼎市" }, { "letter": "F", "city": "扶风县" }, { "letter": "F", "city": "福贡县" }, { "letter": "F", "city": "扶沟县" }, { "letter": "F", "city": "府谷县" }, { "letter": "F", "city": "福海县" }, { "letter": "F", "city": "富锦市" }, { "letter": "F", "city": "阜康市" }, { "letter": "F", "city": "浮梁县" }, { "letter": "F", "city": "富民县" }, { "letter": "F", "city": "阜南县" }, { "letter": "F", "city": "阜宁县" }, { "letter": "F", "city": "富宁县" }, { "letter": "F", "city": "阜平县" }, { "letter": "F", "city": "富平县" }, { "letter": "F", "city": "福清市" }, { "letter": "F", "city": "福泉市" }, { "letter": "F", "city": "浮山县" }, { "letter": "F", "city": "抚顺市" }, { "letter": "F", "city": "富顺县" }, { "letter": "F", "city": "抚顺县" }, { "letter": "F", "city": "抚松县" }, { "letter": "F", "city": "扶绥县" }, { "letter": "F", "city": "富县" }, { "letter": "F", "city": "阜新市" }, { "letter": "F", "city": "阜新蒙古族自治县" }, { "letter": "F", "city": "阜阳市" }, { "letter": "F", "city": "扶余市" }, { "letter": "F", "city": "富裕县" }, { "letter": "F", "city": "富源县" }, { "letter": "F", "city": "抚远市" }, { "letter": "F", "city": "富蕴县" }, { "letter": "F", "city": "福州市" }, { "letter": "F", "city": "抚州市" }, { "letter": "G", "city": "噶尔县" }, { "letter": "G", "city": "改则县" }, { "letter": "G", "city": "盖州市" }, { "letter": "G", "city": "甘德县" }, { "letter": "G", "city": "岗巴县" }, { "letter": "G", "city": "刚察县" }, { "letter": "G", "city": "甘谷县" }, { "letter": "G", "city": "甘洛县" }, { "letter": "G", "city": "甘南县" }, { "letter": "G", "city": "甘南藏族自治州" }, { "letter": "G", "city": "甘泉县" }, { "letter": "G", "city": "赣州市" }, { "letter": "G", "city": "甘孜县" }, { "letter": "G", "city": "甘孜藏族自治州" }, { "letter": "G", "city": "高安市" }, { "letter": "G", "city": "高碑店市" }, { "letter": "G", "city": "皋兰县" }, { "letter": "G", "city": "高密市" }, { "letter": "G", "city": "高平市" }, { "letter": "G", "city": "高青县" }, { "letter": "G", "city": "高台县" }, { "letter": "G", "city": "高唐县" }, { "letter": "G", "city": "高县" }, { "letter": "G", "city": "高阳县" }, { "letter": "G", "city": "高邑县" }, { "letter": "G", "city": "高邮市" }, { "letter": "G", "city": "高州市" }, { "letter": "G", "city": "格尔木市" }, { "letter": "G", "city": "革吉县" }, { "letter": "G", "city": "个旧市" }, { "letter": "G", "city": "耿马傣族佤族自治县" }, { "letter": "G", "city": "根河市" }, { "letter": "G", "city": "公安县" }, { "letter": "G", "city": "工布江达县" }, { "letter": "G", "city": "恭城瑶族自治县" }, { "letter": "G", "city": "贡嘎县" }, { "letter": "G", "city": "共和县" }, { "letter": "G", "city": "贡觉县" }, { "letter": "G", "city": "巩留县" }, { "letter": "G", "city": "共青城市" }, { "letter": "G", "city": "贡山独龙族怒族自治县" }, { "letter": "G", "city": "珙县" }, { "letter": "G", "city": "巩义市" }, { "letter": "G", "city": "公主岭市" }, { "letter": "G", "city": "固安县" }, { "letter": "G", "city": "广安市" }, { "letter": "G", "city": "广昌县" }, { "letter": "G", "city": "广德县" }, { "letter": "G", "city": "广汉市" }, { "letter": "G", "city": "广河县" }, { "letter": "G", "city": "广灵县" }, { "letter": "G", "city": "广南县" }, { "letter": "G", "city": "广宁县" }, { "letter": "G", "city": "广平县" }, { "letter": "G", "city": "广饶县" }, { "letter": "G", "city": "光山县" }, { "letter": "G", "city": "广水市" }, { "letter": "G", "city": "广元市" }, { "letter": "G", "city": "光泽县" }, { "letter": "G", "city": "广州市" }, { "letter": "G", "city": "广宗县" }, { "letter": "G", "city": "关岭布依族苗族自治县" }, { "letter": "G", "city": "灌南县" }, { "letter": "G", "city": "馆陶县" }, { "letter": "G", "city": "冠县" }, { "letter": "G", "city": "灌阳县" }, { "letter": "G", "city": "灌云县" }, { "letter": "G", "city": "瓜州县" }, { "letter": "G", "city": "谷城县" }, { "letter": "G", "city": "故城县" }, { "letter": "G", "city": "贵德县" }, { "letter": "G", "city": "贵定县" }, { "letter": "G", "city": "桂东县" }, { "letter": "G", "city": "贵港市" }, { "letter": "G", "city": "桂林市" }, { "letter": "G", "city": "贵南县" }, { "letter": "G", "city": "桂平市" }, { "letter": "G", "city": "贵溪市" }, { "letter": "G", "city": "贵阳市" }, { "letter": "G", "city": "桂阳县" }, { "letter": "G", "city": "古交市" }, { "letter": "G", "city": "古浪县" }, { "letter": "G", "city": "古蔺县" }, { "letter": "G", "city": "果洛藏族自治州" }, { "letter": "G", "city": "固始县" }, { "letter": "G", "city": "古田县" }, { "letter": "G", "city": "古县" }, { "letter": "G", "city": "固阳县" }, { "letter": "G", "city": "沽源县" }, { "letter": "G", "city": "固原市" }, { "letter": "G", "city": "古丈县" }, { "letter": "G", "city": "固镇县" }, { "letter": "H", "city": "哈巴河县" }, { "letter": "H", "city": "哈尔滨市" }, { "letter": "H", "city": "海安县" }, { "letter": "H", "city": "海北藏族自治州" }, { "letter": "H", "city": "海城市" }, { "letter": "H", "city": "海东市" }, { "letter": "H", "city": "海丰县" }, { "letter": "H", "city": "海口市" }, { "letter": "H", "city": "海林市" }, { "letter": "H", "city": "海伦市" }, { "letter": "H", "city": "海门市" }, { "letter": "H", "city": "海南藏族自治州" }, { "letter": "H", "city": "海宁市" }, { "letter": "H", "city": "海西蒙古族藏族自治州" }, { "letter": "H", "city": "海兴县" }, { "letter": "H", "city": "海盐县" }, { "letter": "H", "city": "海晏县" }, { "letter": "H", "city": "海阳市" }, { "letter": "H", "city": "海原县" }, { "letter": "H", "city": "哈密市" }, { "letter": "H", "city": "韩城市" }, { "letter": "H", "city": "汉川市" }, { "letter": "H", "city": "邯郸市" }, { "letter": "H", "city": "邯郸县" }, { "letter": "H", "city": "杭锦后旗" }, { "letter": "H", "city": "杭锦旗" }, { "letter": "H", "city": "杭州市" }, { "letter": "H", "city": "含山县" }, { "letter": "H", "city": "汉寿县" }, { "letter": "H", "city": "汉阴县" }, { "letter": "H", "city": "汉源县" }, { "letter": "H", "city": "汉中市" }, { "letter": "H", "city": "鹤壁市" }, { "letter": "H", "city": "和布克赛尔蒙古自治县" }, { "letter": "H", "city": "河池市" }, { "letter": "H", "city": "合肥市" }, { "letter": "H", "city": "鹤峰县" }, { "letter": "H", "city": "鹤岗市" }, { "letter": "H", "city": "黑河市" }, { "letter": "H", "city": "黑山县" }, { "letter": "H", "city": "黑水县" }, { "letter": "H", "city": "河间市" }, { "letter": "H", "city": "合江县" }, { "letter": "H", "city": "河津市" }, { "letter": "H", "city": "和静县" }, { "letter": "H", "city": "河口瑶族自治县" }, { "letter": "H", "city": "贺兰县" }, { "letter": "H", "city": "和林格尔县" }, { "letter": "H", "city": "和龙市" }, { "letter": "H", "city": "河南蒙古族自治县" }, { "letter": "H", "city": "衡东县" }, { "letter": "H", "city": "横峰县" }, { "letter": "H", "city": "衡南县" }, { "letter": "H", "city": "衡山县" }, { "letter": "H", "city": "衡水市" }, { "letter": "H", "city": "横县" }, { "letter": "H", "city": "衡阳市" }, { "letter": "H", "city": "衡阳县" }, { "letter": "H", "city": "和平县" }, { "letter": "H", "city": "合浦县" }, { "letter": "H", "city": "鹤庆县" }, { "letter": "H", "city": "河曲县" }, { "letter": "H", "city": "鹤山市" }, { "letter": "H", "city": "合山市" }, { "letter": "H", "city": "合水县" }, { "letter": "H", "city": "和顺县" }, { "letter": "H", "city": "和硕县" }, { "letter": "H", "city": "和田市" }, { "letter": "H", "city": "和田县" }, { "letter": "H", "city": "和田地区" }, { "letter": "H", "city": "和县" }, { "letter": "H", "city": "合阳县" }, { "letter": "H", "city": "河源市" }, { "letter": "H", "city": "菏泽市" }, { "letter": "H", "city": "赫章县" }, { "letter": "H", "city": "和政县" }, { "letter": "H", "city": "贺州市" }, { "letter": "H", "city": "合作市" }, { "letter": "H", "city": "红安县" }, { "letter": "H", "city": "洪洞县" }, { "letter": "H", "city": "红河县" }, { "letter": "H", "city": "红河哈尼族彝族自治州" }, { "letter": "H", "city": "洪湖市" }, { "letter": "H", "city": "洪江市" }, { "letter": "H", "city": "洪雅县" }, { "letter": "H", "city": "红原县" }, { "letter": "H", "city": "洪泽区" }, { "letter": "H", "city": "侯马市" }, { "letter": "H", "city": "华安县" }, { "letter": "H", "city": "华池县" }, { "letter": "H", "city": "桦川县" }, { "letter": "H", "city": "化德县" }, { "letter": "H", "city": "桦甸市" }, { "letter": "H", "city": "淮安市" }, { "letter": "H", "city": "怀安县" }, { "letter": "H", "city": "淮北市" }, { "letter": "H", "city": "淮滨县" }, { "letter": "H", "city": "怀化市" }, { "letter": "H", "city": "怀集县" }, { "letter": "H", "city": "怀来县" }, { "letter": "H", "city": "淮南市" }, { "letter": "H", "city": "怀宁县" }, { "letter": "H", "city": "怀仁县" }, { "letter": "H", "city": "淮阳县" }, { "letter": "H", "city": "怀远县" }, { "letter": "H", "city": "化隆回族自治县" }, { "letter": "H", "city": "桦南县" }, { "letter": "H", "city": "潢川县" }, { "letter": "H", "city": "黄冈市" }, { "letter": "H", "city": "黄骅市" }, { "letter": "H", "city": "黄陵县" }, { "letter": "H", "city": "黄龙县" }, { "letter": "H", "city": "黄梅县" }, { "letter": "H", "city": "黄南藏族自治州" }, { "letter": "H", "city": "黄平县" }, { "letter": "H", "city": "黄山市" }, { "letter": "H", "city": "黄石市" }, { "letter": "H", "city": "湟源县" }, { "letter": "H", "city": "湟中县" }, { "letter": "H", "city": "华宁县" }, { "letter": "H", "city": "环江毛南族自治县" }, { "letter": "H", "city": "桓仁满族自治县" }, { "letter": "H", "city": "桓台县" }, { "letter": "H", "city": "环县" }, { "letter": "H", "city": "华坪县" }, { "letter": "H", "city": "华容县" }, { "letter": "H", "city": "华亭县" }, { "letter": "H", "city": "滑县" }, { "letter": "H", "city": "华阴市" }, { "letter": "H", "city": "华蓥市" }, { "letter": "H", "city": "花垣县" }, { "letter": "H", "city": "化州市" }, { "letter": "H", "city": "壶关县" }, { "letter": "H", "city": "呼和浩特市" }, { "letter": "H", "city": "惠安县" }, { "letter": "H", "city": "会昌县" }, { "letter": "H", "city": "惠东县" }, { "letter": "H", "city": "会东县" }, { "letter": "H", "city": "惠来县" }, { "letter": "H", "city": "会理县" }, { "letter": "H", "city": "惠民县" }, { "letter": "H", "city": "辉南县" }, { "letter": "H", "city": "睢宁县" }, { "letter": "H", "city": "会宁县" }, { "letter": "H", "city": "惠水县" }, { "letter": "H", "city": "会同县" }, { "letter": "H", "city": "辉县市" }, { "letter": "H", "city": "睢县" }, { "letter": "H", "city": "徽县" }, { "letter": "H", "city": "会泽县" }, { "letter": "H", "city": "惠州市" }, { "letter": "H", "city": "湖口县" }, { "letter": "H", "city": "虎林市" }, { "letter": "H", "city": "葫芦岛市" }, { "letter": "H", "city": "呼伦贝尔市" }, { "letter": "H", "city": "呼玛县" }, { "letter": "H", "city": "珲春市" }, { "letter": "H", "city": "浑源县" }, { "letter": "H", "city": "霍城县" }, { "letter": "H", "city": "霍尔果斯市" }, { "letter": "H", "city": "获嘉县" }, { "letter": "H", "city": "霍林郭勒市" }, { "letter": "H", "city": "霍邱县" }, { "letter": "H", "city": "霍山县" }, { "letter": "H", "city": "霍州市" }, { "letter": "H", "city": "呼图壁县" }, { "letter": "H", "city": "湖州市" }, { "letter": "H", "city": "互助土族自治县" }, { "letter": "J", "city": "加查县" }, { "letter": "J", "city": "嘉禾县" }, { "letter": "J", "city": "夹江县" }, { "letter": "J", "city": "嘉黎县" }, { "letter": "J", "city": "佳木斯市" }, { "letter": "J", "city": "吉安市" }, { "letter": "J", "city": "集安市" }, { "letter": "J", "city": "吉安县" }, { "letter": "J", "city": "建昌县" }, { "letter": "J", "city": "剑川县" }, { "letter": "J", "city": "建德市" }, { "letter": "J", "city": "江安县" }, { "letter": "J", "city": "江城哈尼族彝族自治县" }, { "letter": "J", "city": "江达县" }, { "letter": "J", "city": "剑阁县" }, { "letter": "J", "city": "江华瑶族自治县" }, { "letter": "J", "city": "江口县" }, { "letter": "J", "city": "将乐县" }, { "letter": "J", "city": "江陵县" }, { "letter": "J", "city": "江门市" }, { "letter": "J", "city": "江山市" }, { "letter": "J", "city": "绛县" }, { "letter": "J", "city": "江阴市" }, { "letter": "J", "city": "江永县" }, { "letter": "J", "city": "江油市" }, { "letter": "J", "city": "江孜县" }, { "letter": "J", "city": "剑河县" }, { "letter": "J", "city": "建湖县" }, { "letter": "J", "city": "监利县" }, { "letter": "J", "city": "建宁县" }, { "letter": "J", "city": "建瓯市" }, { "letter": "J", "city": "建平县" }, { "letter": "J", "city": "建始县" }, { "letter": "J", "city": "建水县" }, { "letter": "J", "city": "犍为县" }, { "letter": "J", "city": "简阳市" }, { "letter": "J", "city": "尖扎县" }, { "letter": "J", "city": "交城县" }, { "letter": "J", "city": "蛟河市" }, { "letter": "J", "city": "交口县" }, { "letter": "J", "city": "蕉岭县" }, { "letter": "J", "city": "胶州市" }, { "letter": "J", "city": "焦作市" }, { "letter": "J", "city": "嘉善县" }, { "letter": "J", "city": "伽师县" }, { "letter": "J", "city": "郏县" }, { "letter": "J", "city": "佳县" }, { "letter": "J", "city": "嘉祥县" }, { "letter": "J", "city": "嘉兴市" }, { "letter": "J", "city": "嘉荫县" }, { "letter": "J", "city": "嘉鱼县" }, { "letter": "J", "city": "嘉峪关市" }, { "letter": "J", "city": "鸡东县" }, { "letter": "J", "city": "界首市" }, { "letter": "J", "city": "揭西县" }, { "letter": "J", "city": "介休市" }, { "letter": "J", "city": "揭阳市" }, { "letter": "J", "city": "吉林市" }, { "letter": "J", "city": "吉隆县" }, { "letter": "J", "city": "吉木乃县" }, { "letter": "J", "city": "吉木萨尔县" }, { "letter": "J", "city": "济南市" }, { "letter": "J", "city": "金昌市" }, { "letter": "J", "city": "晋城市" }, { "letter": "J", "city": "金川县" }, { "letter": "J", "city": "靖安县" }, { "letter": "J", "city": "靖边县" }, { "letter": "J", "city": "泾川县" }, { "letter": "J", "city": "旌德县" }, { "letter": "J", "city": "景德镇市" }, { "letter": "J", "city": "景东彝族自治县" }, { "letter": "J", "city": "井冈山市" }, { "letter": "J", "city": "景谷傣族彝族自治县" }, { "letter": "J", "city": "精河县" }, { "letter": "J", "city": "景洪市" }, { "letter": "J", "city": "靖江市" }, { "letter": "J", "city": "静乐县" }, { "letter": "J", "city": "荆门市" }, { "letter": "J", "city": "静宁县" }, { "letter": "J", "city": "景宁畲族自治县" }, { "letter": "J", "city": "京山县" }, { "letter": "J", "city": "景泰县" }, { "letter": "J", "city": "靖西市" }, { "letter": "J", "city": "景县" }, { "letter": "J", "city": "泾县" }, { "letter": "J", "city": "井陉县" }, { "letter": "J", "city": "井研县" }, { "letter": "J", "city": "泾阳县" }, { "letter": "J", "city": "靖宇县" }, { "letter": "J", "city": "靖远县" }, { "letter": "J", "city": "泾源县" }, { "letter": "J", "city": "荆州市" }, { "letter": "J", "city": "靖州苗族侗族自治县" }, { "letter": "J", "city": "金湖县" }, { "letter": "J", "city": "金华市" }, { "letter": "J", "city": "济宁市" }, { "letter": "J", "city": "晋江市" }, { "letter": "J", "city": "金门县" }, { "letter": "J", "city": "锦屏县" }, { "letter": "J", "city": "金平苗族瑶族傣族自治县" }, { "letter": "J", "city": "金沙县" }, { "letter": "J", "city": "津市市" }, { "letter": "J", "city": "金塔县" }, { "letter": "J", "city": "金堂县" }, { "letter": "J", "city": "金溪县" }, { "letter": "J", "city": "进贤县" }, { "letter": "J", "city": "金乡县" }, { "letter": "J", "city": "金秀瑶族自治县" }, { "letter": "J", "city": "金阳县" }, { "letter": "J", "city": "缙云县" }, { "letter": "J", "city": "金寨县" }, { "letter": "J", "city": "晋中市" }, { "letter": "J", "city": "锦州市" }, { "letter": "J", "city": "晋州市" }, { "letter": "J", "city": "稷山县" }, { "letter": "J", "city": "积石山保安族东乡族撒拉族自治县" }, { "letter": "J", "city": "吉首市" }, { "letter": "J", "city": "吉水县" }, { "letter": "J", "city": "九江市" }, { "letter": "J", "city": "九龙县" }, { "letter": "J", "city": "酒泉市" }, { "letter": "J", "city": "九寨沟县" }, { "letter": "J", "city": "久治县" }, { "letter": "J", "city": "鸡西市" }, { "letter": "J", "city": "绩溪县" }, { "letter": "J", "city": "蓟县" }, { "letter": "J", "city": "吉县" }, { "letter": "J", "city": "集贤县" }, { "letter": "J", "city": "济阳县" }, { "letter": "J", "city": "济源市" }, { "letter": "J", "city": "鸡泽县" }, { "letter": "J", "city": "冀州区" }, { "letter": "J", "city": "鄄城县" }, { "letter": "J", "city": "巨鹿县" }, { "letter": "J", "city": "莒南县" }, { "letter": "J", "city": "句容市" }, { "letter": "J", "city": "莒县" }, { "letter": "J", "city": "巨野县" }, { "letter": "K", "city": "开封市" }, { "letter": "K", "city": "开化县" }, { "letter": "K", "city": "开江县" }, { "letter": "K", "city": "凯里市" }, { "letter": "K", "city": "开鲁县" }, { "letter": "K", "city": "开平市" }, { "letter": "K", "city": "开阳县" }, { "letter": "K", "city": "开原市" }, { "letter": "K", "city": "开远市" }, { "letter": "K", "city": "开州区" }, { "letter": "K", "city": "喀喇沁旗" }, { "letter": "K", "city": "喀喇沁左翼蒙古族自治县" }, { "letter": "K", "city": "康保县" }, { "letter": "K", "city": "康定市" }, { "letter": "K", "city": "康乐县" }, { "letter": "K", "city": "康马县" }, { "letter": "K", "city": "康平县" }, { "letter": "K", "city": "康县" }, { "letter": "K", "city": "喀什市" }, { "letter": "K", "city": "喀什地区" }, { "letter": "K", "city": "克东县" }, { "letter": "K", "city": "科尔沁右翼前旗" }, { "letter": "K", "city": "科尔沁右翼中旗" }, { "letter": "K", "city": "科尔沁左翼后旗" }, { "letter": "K", "city": "科尔沁左翼中旗" }, { "letter": "K", "city": "可克达拉市" }, { "letter": "K", "city": "克拉玛依市" }, { "letter": "K", "city": "岢岚县" }, { "letter": "K", "city": "垦利区" }, { "letter": "K", "city": "柯坪县" }, { "letter": "K", "city": "克山县" }, { "letter": "K", "city": "克什克腾旗" }, { "letter": "K", "city": "克孜勒苏柯尔克孜自治州" }, { "letter": "K", "city": "宽城满族自治县" }, { "letter": "K", "city": "宽甸满族自治县" }, { "letter": "K", "city": "库车县" }, { "letter": "K", "city": "库尔勒市" }, { "letter": "K", "city": "奎屯市" }, { "letter": "K", "city": "库伦旗" }, { "letter": "K", "city": "昆明市" }, { "letter": "K", "city": "昆山市" }, { "letter": "K", "city": "昆玉市" }, { "letter": "L", "city": "来安县" }, { "letter": "L", "city": "来宾市" }, { "letter": "L", "city": "来凤县" }, { "letter": "L", "city": "涞水县" }, { "letter": "L", "city": "莱芜市" }, { "letter": "L", "city": "莱西市" }, { "letter": "L", "city": "莱阳市" }, { "letter": "L", "city": "涞源县" }, { "letter": "L", "city": "莱州市" }, { "letter": "L", "city": "澜沧拉祜族自治县" }, { "letter": "L", "city": "岚皋县" }, { "letter": "L", "city": "廊坊市" }, { "letter": "L", "city": "浪卡子县" }, { "letter": "L", "city": "郎溪县" }, { "letter": "L", "city": "朗县" }, { "letter": "L", "city": "阆中市" }, { "letter": "L", "city": "兰考县" }, { "letter": "L", "city": "兰陵县" }, { "letter": "L", "city": "兰坪白族普米族自治县" }, { "letter": "L", "city": "蓝山县" }, { "letter": "L", "city": "蓝田县" }, { "letter": "L", "city": "兰溪市" }, { "letter": "L", "city": "兰西县" }, { "letter": "L", "city": "岚县" }, { "letter": "L", "city": "兰州市" }, { "letter": "L", "city": "老河口市" }, { "letter": "L", "city": "乐陵市" }, { "letter": "L", "city": "乐亭县" }, { "letter": "L", "city": "拉萨市" }, { "letter": "L", "city": "拉孜县" }, { "letter": "L", "city": "乐安县" }, { "letter": "L", "city": "乐昌市" }, { "letter": "L", "city": "乐东黎族自治县" }, { "letter": "L", "city": "雷波县" }, { "letter": "L", "city": "雷山县" }, { "letter": "L", "city": "类乌齐县" }, { "letter": "L", "city": "耒阳市" }, { "letter": "L", "city": "雷州市" }, { "letter": "L", "city": "冷湖行政委员会" }, { "letter": "L", "city": "冷水江市" }, { "letter": "L", "city": "乐平市" }, { "letter": "L", "city": "乐山市" }, { "letter": "L", "city": "乐业县" }, { "letter": "L", "city": "乐至县" }, { "letter": "L", "city": "连城县" }, { "letter": "L", "city": "凉城县" }, { "letter": "L", "city": "两当县" }, { "letter": "L", "city": "梁河县" }, { "letter": "L", "city": "梁山县" }, { "letter": "L", "city": "凉山彝族自治州" }, { "letter": "L", "city": "莲花县" }, { "letter": "L", "city": "连江县" }, { "letter": "L", "city": "廉江市" }, { "letter": "L", "city": "连南瑶族自治县" }, { "letter": "L", "city": "连平县" }, { "letter": "L", "city": "连山壮族瑶族自治县" }, { "letter": "L", "city": "涟水县" }, { "letter": "L", "city": "涟源市" }, { "letter": "L", "city": "连云港市" }, { "letter": "L", "city": "连州市" }, { "letter": "L", "city": "聊城市" }, { "letter": "L", "city": "辽阳市" }, { "letter": "L", "city": "辽阳县" }, { "letter": "L", "city": "辽源市" }, { "letter": "L", "city": "荔波县" }, { "letter": "L", "city": "黎城县" }, { "letter": "L", "city": "利川市" }, { "letter": "L", "city": "黎川县" }, { "letter": "L", "city": "丽江市" }, { "letter": "L", "city": "利津县" }, { "letter": "L", "city": "醴陵市" }, { "letter": "L", "city": "临沧市" }, { "letter": "L", "city": "临城县" }, { "letter": "L", "city": "林甸县" }, { "letter": "L", "city": "临汾市" }, { "letter": "L", "city": "临高县" }, { "letter": "L", "city": "灵宝市" }, { "letter": "L", "city": "灵璧县" }, { "letter": "L", "city": "陵川县" }, { "letter": "L", "city": "灵川县" }, { "letter": "L", "city": "凌海市" }, { "letter": "L", "city": "灵丘县" }, { "letter": "L", "city": "灵山县" }, { "letter": "L", "city": "灵石县" }, { "letter": "L", "city": "灵寿县" }, { "letter": "L", "city": "陵水黎族自治县" }, { "letter": "L", "city": "灵台县" }, { "letter": "L", "city": "灵武市" }, { "letter": "L", "city": "陵县" }, { "letter": "L", "city": "凌源市" }, { "letter": "L", "city": "凌云县" }, { "letter": "L", "city": "临海市" }, { "letter": "L", "city": "临江市" }, { "letter": "L", "city": "林口县" }, { "letter": "L", "city": "临澧县" }, { "letter": "L", "city": "临清市" }, { "letter": "L", "city": "临朐县" }, { "letter": "L", "city": "临泉县" }, { "letter": "L", "city": "临沭县" }, { "letter": "L", "city": "邻水县" }, { "letter": "L", "city": "临潭县" }, { "letter": "L", "city": "临洮县" }, { "letter": "L", "city": "临武县" }, { "letter": "L", "city": "临西县" }, { "letter": "L", "city": "林西县" }, { "letter": "L", "city": "临夏市" }, { "letter": "L", "city": "临夏县" }, { "letter": "L", "city": "临夏回族自治州" }, { "letter": "L", "city": "临县" }, { "letter": "L", "city": "临湘市" }, { "letter": "L", "city": "临沂市" }, { "letter": "L", "city": "临邑县" }, { "letter": "L", "city": "临猗县" }, { "letter": "L", "city": "临颍县" }, { "letter": "L", "city": "麟游县" }, { "letter": "L", "city": "临泽县" }, { "letter": "L", "city": "临漳县" }, { "letter": "L", "city": "林芝市" }, { "letter": "L", "city": "林州市" }, { "letter": "L", "city": "林周县" }, { "letter": "L", "city": "黎平县" }, { "letter": "L", "city": "荔浦县" }, { "letter": "L", "city": "礼泉县" }, { "letter": "L", "city": "梨树县" }, { "letter": "L", "city": "丽水市" }, { "letter": "L", "city": "理塘县" }, { "letter": "L", "city": "六安市" }, { "letter": "L", "city": "留坝县" }, { "letter": "L", "city": "柳城县" }, { "letter": "L", "city": "柳河县" }, { "letter": "L", "city": "柳林县" }, { "letter": "L", "city": "六盘水市" }, { "letter": "L", "city": "浏阳市" }, { "letter": "L", "city": "柳州市" }, { "letter": "L", "city": "澧县" }, { "letter": "L", "city": "蠡县" }, { "letter": "L", "city": "理县" }, { "letter": "L", "city": "礼县" }, { "letter": "L", "city": "利辛县" }, { "letter": "L", "city": "溧阳市" }, { "letter": "L", "city": "隆安县" }, { "letter": "L", "city": "隆昌市" }, { "letter": "L", "city": "龙川县" }, { "letter": "L", "city": "陇川县" }, { "letter": "L", "city": "隆德县" }, { "letter": "L", "city": "龙海市" }, { "letter": "L", "city": "隆化县" }, { "letter": "L", "city": "隆回县" }, { "letter": "L", "city": "龙江县" }, { "letter": "L", "city": "龙井市" }, { "letter": "L", "city": "龙口市" }, { "letter": "L", "city": "龙里县" }, { "letter": "L", "city": "龙陵县" }, { "letter": "L", "city": "隆林各族自治县" }, { "letter": "L", "city": "龙门县" }, { "letter": "L", "city": "龙南县" }, { "letter": "L", "city": "陇南市" }, { "letter": "L", "city": "龙泉市" }, { "letter": "L", "city": "龙山县" }, { "letter": "L", "city": "龙胜各族自治县" }, { "letter": "L", "city": "陇西县" }, { "letter": "L", "city": "陇县" }, { "letter": "L", "city": "龙岩市" }, { "letter": "L", "city": "隆尧县" }, { "letter": "L", "city": "龙游县" }, { "letter": "L", "city": "龙州县" }, { "letter": "L", "city": "隆子县" }, { "letter": "L", "city": "娄底市" }, { "letter": "L", "city": "娄烦县" }, { "letter": "L", "city": "栾川县" }, { "letter": "L", "city": "滦南县" }, { "letter": "L", "city": "滦平县" }, { "letter": "L", "city": "滦县" }, { "letter": "L", "city": "潞城市" }, { "letter": "L", "city": "陆川县" }, { "letter": "L", "city": "鲁甸县" }, { "letter": "L", "city": "泸定县" }, { "letter": "L", "city": "略阳县" }, { "letter": "L", "city": "陆丰市" }, { "letter": "L", "city": "禄丰县" }, { "letter": "L", "city": "陆河县" }, { "letter": "L", "city": "炉霍县" }, { "letter": "L", "city": "庐江县" }, { "letter": "L", "city": "陆良县" }, { "letter": "L", "city": "卢龙县" }, { "letter": "L", "city": "轮台县" }, { "letter": "L", "city": "萝北县" }, { "letter": "L", "city": "罗城仫佬族自治县" }, { "letter": "L", "city": "洛川县" }, { "letter": "L", "city": "罗甸县" }, { "letter": "L", "city": "罗定市" }, { "letter": "L", "city": "漯河市" }, { "letter": "L", "city": "罗江县" }, { "letter": "L", "city": "洛隆县" }, { "letter": "L", "city": "洛南县" }, { "letter": "L", "city": "洛宁县" }, { "letter": "L", "city": "罗平县" }, { "letter": "L", "city": "洛浦县" }, { "letter": "L", "city": "罗山县" }, { "letter": "L", "city": "罗田县" }, { "letter": "L", "city": "洛阳市" }, { "letter": "L", "city": "罗源县" }, { "letter": "L", "city": "洛扎县" }, { "letter": "L", "city": "碌曲县" }, { "letter": "L", "city": "禄劝彝族苗族自治县" }, { "letter": "L", "city": "鲁山县" }, { "letter": "L", "city": "庐山市" }, { "letter": "L", "city": "芦山县" }, { "letter": "L", "city": "卢氏县" }, { "letter": "L", "city": "泸水市" }, { "letter": "L", "city": "芦溪县" }, { "letter": "L", "city": "泸溪县" }, { "letter": "L", "city": "泸西县" }, { "letter": "L", "city": "泸县" }, { "letter": "L", "city": "鹿邑县" }, { "letter": "L", "city": "鹿寨县" }, { "letter": "L", "city": "泸州市" }, { "letter": "L", "city": "绿春县" }, { "letter": "L", "city": "吕梁市" }, { "letter": "M", "city": "马鞍山市" }, { "letter": "M", "city": "马边彝族自治县" }, { "letter": "M", "city": "麻城市" }, { "letter": "M", "city": "玛多县" }, { "letter": "M", "city": "马尔康市" }, { "letter": "M", "city": "马关县" }, { "letter": "M", "city": "麦盖提县" }, { "letter": "M", "city": "麻江县" }, { "letter": "M", "city": "麻栗坡县" }, { "letter": "M", "city": "马龙县" }, { "letter": "M", "city": "玛纳斯县" }, { "letter": "M", "city": "芒康县" }, { "letter": "M", "city": "芒市" }, { "letter": "M", "city": "茫崖行政委员会" }, { "letter": "M", "city": "满洲里市" }, { "letter": "M", "city": "茂名市" }, { "letter": "M", "city": "茂县" }, { "letter": "M", "city": "玛沁县" }, { "letter": "M", "city": "玛曲县" }, { "letter": "M", "city": "马山县" }, { "letter": "M", "city": "麻阳苗族自治县" }, { "letter": "M", "city": "美姑县" }, { "letter": "M", "city": "梅河口市" }, { "letter": "M", "city": "眉山市" }, { "letter": "M", "city": "湄潭县" }, { "letter": "M", "city": "眉县" }, { "letter": "M", "city": "梅州市" }, { "letter": "M", "city": "蒙城县" }, { "letter": "M", "city": "孟村回族自治县" }, { "letter": "M", "city": "勐海县" }, { "letter": "M", "city": "孟津县" }, { "letter": "M", "city": "勐腊县" }, { "letter": "M", "city": "孟连傣族拉祜族佤族自治县" }, { "letter": "M", "city": "蒙山县" }, { "letter": "M", "city": "蒙阴县" }, { "letter": "M", "city": "孟州市" }, { "letter": "M", "city": "蒙自市" }, { "letter": "M", "city": "门源回族自治县" }, { "letter": "M", "city": "渑池县" }, { "letter": "M", "city": "冕宁县" }, { "letter": "M", "city": "勉县" }, { "letter": "M", "city": "绵阳市" }, { "letter": "M", "city": "绵竹市" }, { "letter": "M", "city": "弥渡县" }, { "letter": "M", "city": "弥勒市" }, { "letter": "M", "city": "米林县" }, { "letter": "M", "city": "汨罗市" }, { "letter": "M", "city": "民丰县" }, { "letter": "M", "city": "明光市" }, { "letter": "M", "city": "明水县" }, { "letter": "M", "city": "明溪县" }, { "letter": "M", "city": "民和回族土族自治县" }, { "letter": "M", "city": "闽侯县" }, { "letter": "M", "city": "民乐县" }, { "letter": "M", "city": "民勤县" }, { "letter": "M", "city": "闽清县" }, { "letter": "M", "city": "民权县" }, { "letter": "M", "city": "岷县" }, { "letter": "M", "city": "密山市" }, { "letter": "M", "city": "米易县" }, { "letter": "M", "city": "米脂县" }, { "letter": "M", "city": "漠河县" }, { "letter": "M", "city": "墨江哈尼族自治县" }, { "letter": "M", "city": "莫力达瓦达斡尔族自治旗" }, { "letter": "M", "city": "墨脱县" }, { "letter": "M", "city": "牟定县" }, { "letter": "M", "city": "墨玉县" }, { "letter": "M", "city": "墨竹工卡县" }, { "letter": "M", "city": "沐川县" }, { "letter": "M", "city": "牡丹江市" }, { "letter": "M", "city": "木兰县" }, { "letter": "M", "city": "木垒哈萨克自治县" }, { "letter": "M", "city": "穆棱市" }, { "letter": "M", "city": "木里藏族自治县" }, { "letter": "N", "city": "乃东区" }, { "letter": "N", "city": "奈曼旗" }, { "letter": "N", "city": "南安市" }, { "letter": "N", "city": "南澳县" }, { "letter": "N", "city": "南部县" }, { "letter": "N", "city": "南昌市" }, { "letter": "N", "city": "南昌县" }, { "letter": "N", "city": "南城县" }, { "letter": "N", "city": "南充市" }, { "letter": "N", "city": "南丹县" }, { "letter": "N", "city": "南丰县" }, { "letter": "N", "city": "南宫市" }, { "letter": "N", "city": "囊谦县" }, { "letter": "N", "city": "南和县" }, { "letter": "N", "city": "南华县" }, { "letter": "N", "city": "南江县" }, { "letter": "N", "city": "南涧彝族自治县" }, { "letter": "N", "city": "南京市" }, { "letter": "N", "city": "南靖县" }, { "letter": "N", "city": "南乐县" }, { "letter": "N", "city": "南陵县" }, { "letter": "N", "city": "南木林县" }, { "letter": "N", "city": "南宁市" }, { "letter": "N", "city": "南皮县" }, { "letter": "N", "city": "南平市" }, { "letter": "N", "city": "南沙群岛" }, { "letter": "N", "city": "南通市" }, { "letter": "N", "city": "南县" }, { "letter": "N", "city": "南雄市" }, { "letter": "N", "city": "南阳市" }, { "letter": "N", "city": "南漳县" }, { "letter": "N", "city": "南召县" }, { "letter": "N", "city": "那坡县" }, { "letter": "N", "city": "那曲市" }, { "letter": "N", "city": "那曲县" }, { "letter": "N", "city": "纳雍县" }, { "letter": "N", "city": "讷河市" }, { "letter": "N", "city": "内黄县" }, { "letter": "N", "city": "内江市" }, { "letter": "N", "city": "内丘县" }, { "letter": "N", "city": "内乡县" }, { "letter": "N", "city": "嫩江县" }, { "letter": "N", "city": "聂拉木县" }, { "letter": "N", "city": "聂荣县" }, { "letter": "N", "city": "尼勒克县" }, { "letter": "N", "city": "尼玛县" }, { "letter": "N", "city": "尼木县" }, { "letter": "N", "city": "宁安市" }, { "letter": "N", "city": "宁波市" }, { "letter": "N", "city": "宁城县" }, { "letter": "N", "city": "宁德市" }, { "letter": "N", "city": "宁都县" }, { "letter": "N", "city": "宁洱哈尼族彝族自治县" }, { "letter": "N", "city": "宁国市" }, { "letter": "N", "city": "宁海县" }, { "letter": "N", "city": "宁化县" }, { "letter": "N", "city": "宁晋县" }, { "letter": "N", "city": "宁津县" }, { "letter": "N", "city": "宁蒗彝族自治县" }, { "letter": "N", "city": "宁陵县" }, { "letter": "N", "city": "宁明县" }, { "letter": "N", "city": "宁南县" }, { "letter": "N", "city": "宁强县" }, { "letter": "N", "city": "宁陕县" }, { "letter": "N", "city": "宁武县" }, { "letter": "N", "city": "宁县" }, { "letter": "N", "city": "宁阳县" }, { "letter": "N", "city": "宁远县" }, { "letter": "N", "city": "农安县" }, { "letter": "N", "city": "怒江傈僳族自治州" }, { "letter": "P", "city": "磐安县" }, { "letter": "P", "city": "盘锦市" }, { "letter": "P", "city": "盘山县" }, { "letter": "P", "city": "磐石市" }, { "letter": "P", "city": "盘州市" }, { "letter": "P", "city": "攀枝花市" }, { "letter": "P", "city": "沛县" }, { "letter": "P", "city": "蓬安县" }, { "letter": "P", "city": "蓬莱市" }, { "letter": "P", "city": "彭水苗族土家族自治县" }, { "letter": "P", "city": "蓬溪县" }, { "letter": "P", "city": "彭阳县" }, { "letter": "P", "city": "彭泽县" }, { "letter": "P", "city": "彭州市" }, { "letter": "P", "city": "偏关县" }, { "letter": "P", "city": "屏边苗族自治县" }, { "letter": "P", "city": "平昌县" }, { "letter": "P", "city": "平定县" }, { "letter": "P", "city": "平顶山市" }, { "letter": "P", "city": "平度市" }, { "letter": "P", "city": "平果县" }, { "letter": "P", "city": "平和县" }, { "letter": "P", "city": "平湖市" }, { "letter": "P", "city": "平江县" }, { "letter": "P", "city": "平乐县" }, { "letter": "P", "city": "平利县" }, { "letter": "P", "city": "平凉市" }, { "letter": "P", "city": "平陆县" }, { "letter": "P", "city": "平罗县" }, { "letter": "P", "city": "平南县" }, { "letter": "P", "city": "屏南县" }, { "letter": "P", "city": "平泉市" }, { "letter": "P", "city": "屏山县" }, { "letter": "P", "city": "平山县" }, { "letter": "P", "city": "平顺县" }, { "letter": "P", "city": "平潭县" }, { "letter": "P", "city": "平塘县" }, { "letter": "P", "city": "平武县" }, { "letter": "P", "city": "萍乡市" }, { "letter": "P", "city": "平乡县" }, { "letter": "P", "city": "凭祥市" }, { "letter": "P", "city": "平阳县" }, { "letter": "P", "city": "平遥县" }, { "letter": "P", "city": "平邑县" }, { "letter": "P", "city": "平阴县" }, { "letter": "P", "city": "平舆县" }, { "letter": "P", "city": "平原县" }, { "letter": "P", "city": "平远县" }, { "letter": "P", "city": "皮山县" }, { "letter": "P", "city": "邳州市" }, { "letter": "P", "city": "鄱阳县" }, { "letter": "P", "city": "普安县" }, { "letter": "P", "city": "浦北县" }, { "letter": "P", "city": "浦城县" }, { "letter": "P", "city": "蒲城县" }, { "letter": "P", "city": "普定县" }, { "letter": "P", "city": "普洱市" }, { "letter": "P", "city": "普格县" }, { "letter": "P", "city": "浦江县" }, { "letter": "P", "city": "蒲江县" }, { "letter": "P", "city": "普兰县" }, { "letter": "P", "city": "普宁市" }, { "letter": "P", "city": "莆田市" }, { "letter": "P", "city": "蒲县" }, { "letter": "P", "city": "濮阳市" }, { "letter": "P", "city": "濮阳县" }, { "letter": "Q", "city": "迁安市" }, { "letter": "Q", "city": "乾安县" }, { "letter": "Q", "city": "黔东南苗族侗族自治州" }, { "letter": "Q", "city": "前郭尔罗斯蒙古族自治县" }, { "letter": "Q", "city": "潜江市" }, { "letter": "Q", "city": "黔南布依族苗族自治州" }, { "letter": "Q", "city": "潜山县" }, { "letter": "Q", "city": "黔西县" }, { "letter": "Q", "city": "迁西县" }, { "letter": "Q", "city": "乾县" }, { "letter": "Q", "city": "黔西南布依族苗族自治州" }, { "letter": "Q", "city": "千阳县" }, { "letter": "Q", "city": "巧家县" }, { "letter": "Q", "city": "蕲春县" }, { "letter": "Q", "city": "祁东县" }, { "letter": "Q", "city": "启东市" }, { "letter": "Q", "city": "且末县" }, { "letter": "Q", "city": "齐河县" }, { "letter": "Q", "city": "祁连县" }, { "letter": "Q", "city": "祁门县" }, { "letter": "Q", "city": "秦安县" }, { "letter": "Q", "city": "庆安县" }, { "letter": "Q", "city": "庆城县" }, { "letter": "Q", "city": "青川县" }, { "letter": "Q", "city": "青岛市" }, { "letter": "Q", "city": "清丰县" }, { "letter": "Q", "city": "青冈县" }, { "letter": "Q", "city": "清河县" }, { "letter": "Q", "city": "青河县" }, { "letter": "Q", "city": "清涧县" }, { "letter": "Q", "city": "清流县" }, { "letter": "Q", "city": "晴隆县" }, { "letter": "Q", "city": "青龙满族自治县" }, { "letter": "Q", "city": "青神县" }, { "letter": "Q", "city": "清水县" }, { "letter": "Q", "city": "清水河县" }, { "letter": "Q", "city": "青田县" }, { "letter": "Q", "city": "青铜峡市" }, { "letter": "Q", "city": "青县" }, { "letter": "Q", "city": "清徐县" }, { "letter": "Q", "city": "庆阳市" }, { "letter": "Q", "city": "青阳县" }, { "letter": "Q", "city": "清远市" }, { "letter": "Q", "city": "庆元县" }, { "letter": "Q", "city": "清原满族自治县" }, { "letter": "Q", "city": "庆云县" }, { "letter": "Q", "city": "清镇市" }, { "letter": "Q", "city": "青州市" }, { "letter": "Q", "city": "秦皇岛市" }, { "letter": "Q", "city": "沁水县" }, { "letter": "Q", "city": "沁县" }, { "letter": "Q", "city": "沁阳市" }, { "letter": "Q", "city": "沁源县" }, { "letter": "Q", "city": "钦州市" }, { "letter": "Q", "city": "琼海市" }, { "letter": "Q", "city": "琼结县" }, { "letter": "Q", "city": "邛崃市" }, { "letter": "Q", "city": "琼中黎族苗族自治县" }, { "letter": "Q", "city": "齐齐哈尔市" }, { "letter": "Q", "city": "岐山县" }, { "letter": "Q", "city": "奇台县" }, { "letter": "Q", "city": "七台河市" }, { "letter": "Q", "city": "丘北县" }, { "letter": "Q", "city": "邱县" }, { "letter": "Q", "city": "栖霞市" }, { "letter": "Q", "city": "杞县" }, { "letter": "Q", "city": "祁县" }, { "letter": "Q", "city": "淇县" }, { "letter": "Q", "city": "祁阳县" }, { "letter": "Q", "city": "全椒县" }, { "letter": "Q", "city": "全南县" }, { "letter": "Q", "city": "泉州市" }, { "letter": "Q", "city": "全州县" }, { "letter": "Q", "city": "确山县" }, { "letter": "Q", "city": "曲阜市" }, { "letter": "Q", "city": "曲靖市" }, { "letter": "Q", "city": "曲麻莱县" }, { "letter": "Q", "city": "曲水县" }, { "letter": "Q", "city": "曲松县" }, { "letter": "Q", "city": "曲沃县" }, { "letter": "Q", "city": "渠县" }, { "letter": "Q", "city": "曲阳县" }, { "letter": "Q", "city": "衢州市" }, { "letter": "Q", "city": "曲周县" }, { "letter": "R", "city": "壤塘县" }, { "letter": "R", "city": "饶河县" }, { "letter": "R", "city": "饶平县" }, { "letter": "R", "city": "饶阳县" }, { "letter": "R", "city": "仁布县" }, { "letter": "R", "city": "仁化县" }, { "letter": "R", "city": "仁怀市" }, { "letter": "R", "city": "任丘市" }, { "letter": "R", "city": "仁寿县" }, { "letter": "R", "city": "任县" }, { "letter": "R", "city": "日喀则市" }, { "letter": "R", "city": "日土县" }, { "letter": "R", "city": "日照市" }, { "letter": "R", "city": "融安县" }, { "letter": "R", "city": "荣成市" }, { "letter": "R", "city": "容城县" }, { "letter": "R", "city": "榕江县" }, { "letter": "R", "city": "融水苗族自治县" }, { "letter": "R", "city": "荣县" }, { "letter": "R", "city": "容县" }, { "letter": "R", "city": "汝城县" }, { "letter": "R", "city": "如东县" }, { "letter": "R", "city": "如皋市" }, { "letter": "R", "city": "瑞安市" }, { "letter": "R", "city": "瑞昌市" }, { "letter": "R", "city": "芮城县" }, { "letter": "R", "city": "瑞金市" }, { "letter": "R", "city": "瑞丽市" }, { "letter": "R", "city": "汝南县" }, { "letter": "R", "city": "若尔盖县" }, { "letter": "R", "city": "若羌县" }, { "letter": "R", "city": "乳山市" }, { "letter": "R", "city": "汝阳县" }, { "letter": "R", "city": "乳源瑶族自治县" }, { "letter": "R", "city": "汝州市" }, { "letter": "S", "city": "萨嘎县" }, { "letter": "S", "city": "萨迦县" }, { "letter": "S", "city": "三都水族自治县" }, { "letter": "S", "city": "桑日县" }, { "letter": "S", "city": "桑植县" }, { "letter": "S", "city": "三河市" }, { "letter": "S", "city": "三江侗族自治县" }, { "letter": "S", "city": "三门县" }, { "letter": "S", "city": "三门峡市" }, { "letter": "S", "city": "三明市" }, { "letter": "S", "city": "三沙市" }, { "letter": "S", "city": "三穗县" }, { "letter": "S", "city": "三台县" }, { "letter": "S", "city": "三亚市" }, { "letter": "S", "city": "三原县" }, { "letter": "S", "city": "色达县" }, { "letter": "S", "city": "莎车县" }, { "letter": "S", "city": "沙河市" }, { "letter": "S", "city": "山丹县" }, { "letter": "S", "city": "上蔡县" }, { "letter": "S", "city": "商城县" }, { "letter": "S", "city": "商都县" }, { "letter": "S", "city": "上高县" }, { "letter": "S", "city": "上海市" }, { "letter": "S", "city": "上杭县" }, { "letter": "S", "city": "商河县" }, { "letter": "S", "city": "上栗县" }, { "letter": "S", "city": "上林县" }, { "letter": "S", "city": "商洛市" }, { "letter": "S", "city": "商南县" }, { "letter": "S", "city": "商丘市" }, { "letter": "S", "city": "上饶市" }, { "letter": "S", "city": "上饶县" }, { "letter": "S", "city": "商水县" }, { "letter": "S", "city": "上思县" }, { "letter": "S", "city": "尚义县" }, { "letter": "S", "city": "上犹县" }, { "letter": "S", "city": "尚志市" }, { "letter": "S", "city": "山南市" }, { "letter": "S", "city": "鄯善县" }, { "letter": "S", "city": "汕头市" }, { "letter": "S", "city": "汕尾市" }, { "letter": "S", "city": "单县" }, { "letter": "S", "city": "山阳县" }, { "letter": "S", "city": "山阴县" }, { "letter": "S", "city": "邵东县" }, { "letter": "S", "city": "韶关市" }, { "letter": "S", "city": "韶山市" }, { "letter": "S", "city": "邵武市" }, { "letter": "S", "city": "绍兴市" }, { "letter": "S", "city": "邵阳市" }, { "letter": "S", "city": "邵阳县" }, { "letter": "S", "city": "沙湾县" }, { "letter": "S", "city": "沙县" }, { "letter": "S", "city": "沙雅县" }, { "letter": "S", "city": "沙洋县" }, { "letter": "S", "city": "射洪县" }, { "letter": "S", "city": "神池县" }, { "letter": "S", "city": "嵊泗县" }, { "letter": "S", "city": "嵊州市" }, { "letter": "S", "city": "神木市" }, { "letter": "S", "city": "神农架林区" }, { "letter": "S", "city": "沈丘县" }, { "letter": "S", "city": "莘县" }, { "letter": "S", "city": "沈阳市" }, { "letter": "S", "city": "深泽县" }, { "letter": "S", "city": "申扎县" }, { "letter": "S", "city": "深圳市" }, { "letter": "S", "city": "深州市" }, { "letter": "S", "city": "社旗县" }, { "letter": "S", "city": "涉县" }, { "letter": "S", "city": "歙县" }, { "letter": "S", "city": "射阳县" }, { "letter": "S", "city": "施秉县" }, { "letter": "S", "city": "石城县" }, { "letter": "S", "city": "施甸县" }, { "letter": "S", "city": "什邡市" }, { "letter": "S", "city": "石河子市" }, { "letter": "S", "city": "石家庄市" }, { "letter": "S", "city": "石林彝族自治县" }, { "letter": "S", "city": "石楼县" }, { "letter": "S", "city": "石门县" }, { "letter": "S", "city": "石棉县" }, { "letter": "S", "city": "石屏县" }, { "letter": "S", "city": "石阡县" }, { "letter": "S", "city": "石渠县" }, { "letter": "S", "city": "石泉县" }, { "letter": "S", "city": "石狮市" }, { "letter": "S", "city": "石首市" }, { "letter": "S", "city": "石台县" }, { "letter": "S", "city": "始兴县" }, { "letter": "S", "city": "十堰市" }, { "letter": "S", "city": "石柱土家族自治县" }, { "letter": "S", "city": "师宗县" }, { "letter": "S", "city": "石嘴山市" }, { "letter": "S", "city": "寿光市" }, { "letter": "S", "city": "寿宁县" }, { "letter": "S", "city": "寿县" }, { "letter": "S", "city": "寿阳县" }, { "letter": "S", "city": "双柏县" }, { "letter": "S", "city": "双峰县" }, { "letter": "S", "city": "双河市" }, { "letter": "S", "city": "双湖县" }, { "letter": "S", "city": "双江拉祜族佤族布朗族傣族自治县" }, { "letter": "S", "city": "双辽市" }, { "letter": "S", "city": "双牌县" }, { "letter": "S", "city": "双鸭山市" }, { "letter": "S", "city": "舒城县" }, { "letter": "S", "city": "疏附县" }, { "letter": "S", "city": "水城县" }, { "letter": "S", "city": "水富县" }, { "letter": "S", "city": "舒兰市" }, { "letter": "S", "city": "疏勒县" }, { "letter": "S", "city": "顺昌县" }, { "letter": "S", "city": "顺平县" }, { "letter": "S", "city": "朔州市" }, { "letter": "S", "city": "沭阳县" }, { "letter": "S", "city": "泗洪县" }, { "letter": "S", "city": "四会市" }, { "letter": "S", "city": "思南县" }, { "letter": "S", "city": "四平市" }, { "letter": "S", "city": "泗水县" }, { "letter": "S", "city": "泗县" }, { "letter": "S", "city": "泗阳县" }, { "letter": "S", "city": "四子王旗" }, { "letter": "S", "city": "嵩明县" }, { "letter": "S", "city": "松潘县" }, { "letter": "S", "city": "松桃苗族自治县" }, { "letter": "S", "city": "松溪县" }, { "letter": "S", "city": "嵩县" }, { "letter": "S", "city": "松阳县" }, { "letter": "S", "city": "松原市" }, { "letter": "S", "city": "松滋市" }, { "letter": "S", "city": "肃北蒙古族自治县" }, { "letter": "S", "city": "绥滨县" }, { "letter": "S", "city": "遂昌县" }, { "letter": "S", "city": "遂川县" }, { "letter": "S", "city": "绥德县" }, { "letter": "S", "city": "绥芬河市" }, { "letter": "S", "city": "绥化市" }, { "letter": "S", "city": "绥江县" }, { "letter": "S", "city": "绥棱县" }, { "letter": "S", "city": "遂宁市" }, { "letter": "S", "city": "绥宁县" }, { "letter": "S", "city": "遂平县" }, { "letter": "S", "city": "濉溪县" }, { "letter": "S", "city": "遂溪县" }, { "letter": "S", "city": "随县" }, { "letter": "S", "city": "绥阳县" }, { "letter": "S", "city": "绥中县" }, { "letter": "S", "city": "随州市" }, { "letter": "S", "city": "肃南裕固族自治县" }, { "letter": "S", "city": "肃宁县" }, { "letter": "S", "city": "苏尼特右旗" }, { "letter": "S", "city": "苏尼特左旗" }, { "letter": "S", "city": "孙吴县" }, { "letter": "S", "city": "索县" }, { "letter": "S", "city": "宿迁市" }, { "letter": "S", "city": "宿松县" }, { "letter": "S", "city": "苏州市" }, { "letter": "S", "city": "宿州市" }, { "letter": "T", "city": "塔城市" }, { "letter": "T", "city": "塔城地区" }, { "letter": "T", "city": "塔河县" }, { "letter": "T", "city": "泰安市" }, { "letter": "T", "city": "台安县" }, { "letter": "T", "city": "太白县" }, { "letter": "T", "city": "台北市" }, { "letter": "T", "city": "太仓市" }, { "letter": "T", "city": "太谷县" }, { "letter": "T", "city": "太和县" }, { "letter": "T", "city": "泰和县" }, { "letter": "T", "city": "太湖县" }, { "letter": "T", "city": "台江县" }, { "letter": "T", "city": "太康县" }, { "letter": "T", "city": "泰来县" }, { "letter": "T", "city": "泰宁县" }, { "letter": "T", "city": "太仆寺旗" }, { "letter": "T", "city": "台前县" }, { "letter": "T", "city": "台山市" }, { "letter": "T", "city": "泰顺县" }, { "letter": "T", "city": "泰兴市" }, { "letter": "T", "city": "太原市" }, { "letter": "T", "city": "台州市" }, { "letter": "T", "city": "泰州市" }, { "letter": "T", "city": "郯城县" }, { "letter": "T", "city": "唐河县" }, { "letter": "T", "city": "唐山市" }, { "letter": "T", "city": "唐县" }, { "letter": "T", "city": "汤阴县" }, { "letter": "T", "city": "汤原县" }, { "letter": "T", "city": "桃江县" }, { "letter": "T", "city": "洮南市" }, { "letter": "T", "city": "桃源县" }, { "letter": "T", "city": "塔什库尔干塔吉克自治县" }, { "letter": "T", "city": "特克斯县" }, { "letter": "T", "city": "腾冲市" }, { "letter": "T", "city": "藤县" }, { "letter": "T", "city": "滕州市" }, { "letter": "T", "city": "天长市" }, { "letter": "T", "city": "天等县" }, { "letter": "T", "city": "田东县" }, { "letter": "T", "city": "天峨县" }, { "letter": "T", "city": "天津市" }, { "letter": "T", "city": "天峻县" }, { "letter": "T", "city": "田林县" }, { "letter": "T", "city": "天门市" }, { "letter": "T", "city": "天全县" }, { "letter": "T", "city": "天水市" }, { "letter": "T", "city": "天台县" }, { "letter": "T", "city": "田阳县" }, { "letter": "T", "city": "天镇县" }, { "letter": "T", "city": "天柱县" }, { "letter": "T", "city": "天祝藏族自治县" }, { "letter": "T", "city": "铁力市" }, { "letter": "T", "city": "铁岭市" }, { "letter": "T", "city": "铁岭县" }, { "letter": "T", "city": "铁门关市" }, { "letter": "T", "city": "桐柏县" }, { "letter": "T", "city": "桐城市" }, { "letter": "T", "city": "通城县" }, { "letter": "T", "city": "铜川市" }, { "letter": "T", "city": "通道侗族自治县" }, { "letter": "T", "city": "同德县" }, { "letter": "T", "city": "铜鼓县" }, { "letter": "T", "city": "潼关县" }, { "letter": "T", "city": "通海县" }, { "letter": "T", "city": "通河县" }, { "letter": "T", "city": "通化市" }, { "letter": "T", "city": "通化县" }, { "letter": "T", "city": "同江市" }, { "letter": "T", "city": "通江县" }, { "letter": "T", "city": "通辽市" }, { "letter": "T", "city": "铜陵市" }, { "letter": "T", "city": "铜陵县" }, { "letter": "T", "city": "桐庐县" }, { "letter": "T", "city": "铜仁市" }, { "letter": "T", "city": "同仁县" }, { "letter": "T", "city": "通山县" }, { "letter": "T", "city": "通渭县" }, { "letter": "T", "city": "桐乡市" }, { "letter": "T", "city": "同心县" }, { "letter": "T", "city": "通许县" }, { "letter": "T", "city": "通榆县" }, { "letter": "T", "city": "桐梓县" }, { "letter": "T", "city": "团风县" }, { "letter": "T", "city": "吐鲁番市" }, { "letter": "T", "city": "图们市" }, { "letter": "T", "city": "土默特右旗" }, { "letter": "T", "city": "土默特左旗" }, { "letter": "T", "city": "图木舒克市" }, { "letter": "T", "city": "屯昌县" }, { "letter": "T", "city": "屯留县" }, { "letter": "T", "city": "托克托县" }, { "letter": "T", "city": "托克逊县" }, { "letter": "T", "city": "托里县" }, { "letter": "T", "city": "突泉县" }, { "letter": "W", "city": "瓦房店市" }, { "letter": "W", "city": "万安县" }, { "letter": "W", "city": "旺苍县" }, { "letter": "W", "city": "望都县" }, { "letter": "W", "city": "望江县" }, { "letter": "W", "city": "望奎县" }, { "letter": "W", "city": "望谟县" }, { "letter": "W", "city": "汪清县" }, { "letter": "W", "city": "万年县" }, { "letter": "W", "city": "万宁市" }, { "letter": "W", "city": "万荣县" }, { "letter": "W", "city": "万源市" }, { "letter": "W", "city": "万载县" }, { "letter": "W", "city": "围场满族蒙古族自治县" }, { "letter": "W", "city": "潍坊市" }, { "letter": "W", "city": "威海市" }, { "letter": "W", "city": "卫辉市" }, { "letter": "W", "city": "尉犁县" }, { "letter": "W", "city": "渭南市" }, { "letter": "W", "city": "威宁彝族回族苗族自治县" }, { "letter": "W", "city": "微山县" }, { "letter": "W", "city": "巍山彝族回族自治县" }, { "letter": "W", "city": "尉氏县" }, { "letter": "W", "city": "魏县" }, { "letter": "W", "city": "威县" }, { "letter": "W", "city": "维西傈僳族自治县" }, { "letter": "W", "city": "威信县" }, { "letter": "W", "city": "威远县" }, { "letter": "W", "city": "渭源县" }, { "letter": "W", "city": "文安县" }, { "letter": "W", "city": "文昌市" }, { "letter": "W", "city": "文成县" }, { "letter": "W", "city": "汶川县" }, { "letter": "W", "city": "瓮安县" }, { "letter": "W", "city": "翁牛特旗" }, { "letter": "W", "city": "翁源县" }, { "letter": "W", "city": "温岭市" }, { "letter": "W", "city": "温泉县" }, { "letter": "W", "city": "文山市" }, { "letter": "W", "city": "汶上县" }, { "letter": "W", "city": "文山壮族苗族自治州" }, { "letter": "W", "city": "文水县" }, { "letter": "W", "city": "温宿县" }, { "letter": "W", "city": "闻喜县" }, { "letter": "W", "city": "温县" }, { "letter": "W", "city": "文县" }, { "letter": "W", "city": "温州市" }, { "letter": "W", "city": "涡阳县" }, { "letter": "W", "city": "武安市" }, { "letter": "W", "city": "吴堡县" }, { "letter": "W", "city": "五常市" }, { "letter": "W", "city": "武城县" }, { "letter": "W", "city": "吴川市" }, { "letter": "W", "city": "武川县" }, { "letter": "W", "city": "务川仡佬族苗族自治县" }, { "letter": "W", "city": "五大连池市" }, { "letter": "W", "city": "无棣县" }, { "letter": "W", "city": "武定县" }, { "letter": "W", "city": "五峰土家族自治县" }, { "letter": "W", "city": "武冈市" }, { "letter": "W", "city": "舞钢市" }, { "letter": "W", "city": "武功县" }, { "letter": "W", "city": "乌海市" }, { "letter": "W", "city": "武汉市" }, { "letter": "W", "city": "五河县" }, { "letter": "W", "city": "芜湖市" }, { "letter": "W", "city": "芜湖县" }, { "letter": "W", "city": "五华县" }, { "letter": "W", "city": "无极县" }, { "letter": "W", "city": "五家渠市" }, { "letter": "W", "city": "乌兰县" }, { "letter": "W", "city": "乌兰察布市" }, { "letter": "W", "city": "乌兰浩特市" }, { "letter": "W", "city": "乌拉特后旗" }, { "letter": "W", "city": "乌拉特前旗" }, { "letter": "W", "city": "乌拉特中旗" }, { "letter": "W", "city": "五莲县" }, { "letter": "W", "city": "乌鲁木齐市" }, { "letter": "W", "city": "乌鲁木齐县" }, { "letter": "W", "city": "武宁县" }, { "letter": "W", "city": "武平县" }, { "letter": "W", "city": "吴起县" }, { "letter": "W", "city": "乌恰县" }, { "letter": "W", "city": "武强县" }, { "letter": "W", "city": "吴桥县" }, { "letter": "W", "city": "巫山县" }, { "letter": "W", "city": "武山县" }, { "letter": "W", "city": "武胜县" }, { "letter": "W", "city": "乌审旗" }, { "letter": "W", "city": "乌什县" }, { "letter": "W", "city": "乌苏市" }, { "letter": "W", "city": "五台县" }, { "letter": "W", "city": "无为县" }, { "letter": "W", "city": "武威市" }, { "letter": "W", "city": "无锡市" }, { "letter": "W", "city": "巫溪县" }, { "letter": "W", "city": "武乡县" }, { "letter": "W", "city": "武宣县" }, { "letter": "W", "city": "武穴市" }, { "letter": "W", "city": "舞阳县" }, { "letter": "W", "city": "武义县" }, { "letter": "W", "city": "武邑县" }, { "letter": "W", "city": "武夷山市" }, { "letter": "W", "city": "五原县" }, { "letter": "W", "city": "婺源县" }, { "letter": "W", "city": "五寨县" }, { "letter": "W", "city": "武陟县" }, { "letter": "W", "city": "五指山市" }, { "letter": "W", "city": "吴忠市" }, { "letter": "W", "city": "梧州市" }, { "letter": "X", "city": "夏河县" }, { "letter": "X", "city": "峡江县" }, { "letter": "X", "city": "夏津县" }, { "letter": "X", "city": "厦门市" }, { "letter": "X", "city": "西安市" }, { "letter": "X", "city": "咸丰县" }, { "letter": "X", "city": "项城市" }, { "letter": "X", "city": "襄城县" }, { "letter": "X", "city": "乡城县" }, { "letter": "X", "city": "襄汾县" }, { "letter": "X", "city": "香港特别行政区" }, { "letter": "X", "city": "香格里拉市" }, { "letter": "X", "city": "香河县" }, { "letter": "X", "city": "镶黄旗" }, { "letter": "X", "city": "乡宁县" }, { "letter": "X", "city": "象山县" }, { "letter": "X", "city": "响水县" }, { "letter": "X", "city": "湘潭市" }, { "letter": "X", "city": "湘潭县" }, { "letter": "X", "city": "湘乡市" }, { "letter": "X", "city": "湘西土家族苗族自治州" }, { "letter": "X", "city": "襄阳市" }, { "letter": "X", "city": "湘阴县" }, { "letter": "X", "city": "襄垣县" }, { "letter": "X", "city": "祥云县" }, { "letter": "X", "city": "象州县" }, { "letter": "X", "city": "仙居县" }, { "letter": "X", "city": "咸宁市" }, { "letter": "X", "city": "仙桃市" }, { "letter": "X", "city": "献县" }, { "letter": "X", "city": "咸阳市" }, { "letter": "X", "city": "仙游县" }, { "letter": "X", "city": "孝昌县" }, { "letter": "X", "city": "孝感市" }, { "letter": "X", "city": "小金县" }, { "letter": "X", "city": "萧县" }, { "letter": "X", "city": "孝义市" }, { "letter": "X", "city": "霞浦县" }, { "letter": "X", "city": "夏县" }, { "letter": "X", "city": "夏邑县" }, { "letter": "X", "city": "西昌市" }, { "letter": "X", "city": "西充县" }, { "letter": "X", "city": "西畴县" }, { "letter": "X", "city": "淅川县" }, { "letter": "X", "city": "喜德县" }, { "letter": "X", "city": "谢通门县" }, { "letter": "X", "city": "西丰县" }, { "letter": "X", "city": "息烽县" }, { "letter": "X", "city": "西和县" }, { "letter": "X", "city": "西华县" }, { "letter": "X", "city": "西吉县" }, { "letter": "X", "city": "西林县" }, { "letter": "X", "city": "锡林郭勒盟" }, { "letter": "X", "city": "锡林浩特市" }, { "letter": "X", "city": "西盟佤族自治县" }, { "letter": "X", "city": "新安县" }, { "letter": "X", "city": "新巴尔虎右旗" }, { "letter": "X", "city": "新巴尔虎左旗" }, { "letter": "X", "city": "新宾满族自治县" }, { "letter": "X", "city": "新蔡县" }, { "letter": "X", "city": "新昌县" }, { "letter": "X", "city": "忻城县" }, { "letter": "X", "city": "信丰县" }, { "letter": "X", "city": "新丰县" }, { "letter": "X", "city": "兴安盟" }, { "letter": "X", "city": "新干县" }, { "letter": "X", "city": "兴安县" }, { "letter": "X", "city": "兴城市" }, { "letter": "X", "city": "兴国县" }, { "letter": "X", "city": "兴海县" }, { "letter": "X", "city": "兴和县" }, { "letter": "X", "city": "兴化市" }, { "letter": "X", "city": "兴隆县" }, { "letter": "X", "city": "兴宁市" }, { "letter": "X", "city": "兴平市" }, { "letter": "X", "city": "兴仁县" }, { "letter": "X", "city": "兴山县" }, { "letter": "X", "city": "邢台市" }, { "letter": "X", "city": "邢台县" }, { "letter": "X", "city": "行唐县" }, { "letter": "X", "city": "兴文县" }, { "letter": "X", "city": "兴县" }, { "letter": "X", "city": "荥阳市" }, { "letter": "X", "city": "兴业县" }, { "letter": "X", "city": "兴义市" }, { "letter": "X", "city": "新河县" }, { "letter": "X", "city": "新和县" }, { "letter": "X", "city": "新化县" }, { "letter": "X", "city": "新晃侗族自治县" }, { "letter": "X", "city": "西宁市" }, { "letter": "X", "city": "辛集市" }, { "letter": "X", "city": "新绛县" }, { "letter": "X", "city": "新津县" }, { "letter": "X", "city": "新乐市" }, { "letter": "X", "city": "新龙县" }, { "letter": "X", "city": "新密市" }, { "letter": "X", "city": "新民市" }, { "letter": "X", "city": "新宁县" }, { "letter": "X", "city": "新平彝族傣族自治县" }, { "letter": "X", "city": "新邵县" }, { "letter": "X", "city": "新泰市" }, { "letter": "X", "city": "新田县" }, { "letter": "X", "city": "新县" }, { "letter": "X", "city": "新乡市" }, { "letter": "X", "city": "新乡县" }, { "letter": "X", "city": "新兴县" }, { "letter": "X", "city": "信阳市" }, { "letter": "X", "city": "新野县" }, { "letter": "X", "city": "信宜市" }, { "letter": "X", "city": "新沂市" }, { "letter": "X", "city": "新余市" }, { "letter": "X", "city": "新源县" }, { "letter": "X", "city": "新郑市" }, { "letter": "X", "city": "忻州市" }, { "letter": "X", "city": "雄县" }, { "letter": "X", "city": "西平县" }, { "letter": "X", "city": "西沙群岛" }, { "letter": "X", "city": "西双版纳傣族自治州" }, { "letter": "X", "city": "浠水县" }, { "letter": "X", "city": "习水县" }, { "letter": "X", "city": "休宁县" }, { "letter": "X", "city": "秀山土家族苗族自治县" }, { "letter": "X", "city": "修水县" }, { "letter": "X", "city": "修文县" }, { "letter": "X", "city": "修武县" }, { "letter": "X", "city": "岫岩满族自治县" }, { "letter": "X", "city": "西乌珠穆沁旗" }, { "letter": "X", "city": "西峡县" }, { "letter": "X", "city": "息县" }, { "letter": "X", "city": "隰县" }, { "letter": "X", "city": "西乡县" }, { "letter": "X", "city": "昔阳县" }, { "letter": "X", "city": "宣城市" }, { "letter": "X", "city": "宣恩县" }, { "letter": "X", "city": "宣汉县" }, { "letter": "X", "city": "宣化县" }, { "letter": "X", "city": "宣威市" }, { "letter": "X", "city": "许昌市" }, { "letter": "X", "city": "寻甸回族彝族自治县" }, { "letter": "X", "city": "循化撒拉族自治县" }, { "letter": "X", "city": "逊克县" }, { "letter": "X", "city": "寻乌县" }, { "letter": "X", "city": "浚县" }, { "letter": "X", "city": "旬阳县" }, { "letter": "X", "city": "旬邑县" }, { "letter": "X", "city": "溆浦县" }, { "letter": "X", "city": "徐闻县" }, { "letter": "X", "city": "盱眙县" }, { "letter": "X", "city": "叙永县" }, { "letter": "X", "city": "徐州市" }, { "letter": "Y", "city": "雅安市" }, { "letter": "Y", "city": "亚东县" }, { "letter": "Y", "city": "雅江县" }, { "letter": "Y", "city": "牙克石市" }, { "letter": "Y", "city": "延安市" }, { "letter": "Y", "city": "延边朝鲜族自治州" }, { "letter": "Y", "city": "盐边县" }, { "letter": "Y", "city": "延长县" }, { "letter": "Y", "city": "盐城市" }, { "letter": "Y", "city": "盐池县" }, { "letter": "Y", "city": "延川县" }, { "letter": "Y", "city": "漾濞彝族自治县" }, { "letter": "Y", "city": "阳城县" }, { "letter": "Y", "city": "阳春市" }, { "letter": "Y", "city": "阳高县" }, { "letter": "Y", "city": "阳谷县" }, { "letter": "Y", "city": "阳江市" }, { "letter": "Y", "city": "阳曲县" }, { "letter": "Y", "city": "阳泉市" }, { "letter": "Y", "city": "阳山县" }, { "letter": "Y", "city": "阳朔县" }, { "letter": "Y", "city": "阳西县" }, { "letter": "Y", "city": "洋县" }, { "letter": "Y", "city": "阳新县" }, { "letter": "Y", "city": "阳信县" }, { "letter": "Y", "city": "阳原县" }, { "letter": "Y", "city": "扬中市" }, { "letter": "Y", "city": "扬州市" }, { "letter": "Y", "city": "沿河土家族自治县" }, { "letter": "Y", "city": "延吉市" }, { "letter": "Y", "city": "延津县" }, { "letter": "Y", "city": "盐津县" }, { "letter": "Y", "city": "鄢陵县" }, { "letter": "Y", "city": "炎陵县" }, { "letter": "Y", "city": "焉耆回族自治县" }, { "letter": "Y", "city": "盐山县" }, { "letter": "Y", "city": "铅山县" }, { "letter": "Y", "city": "砚山县" }, { "letter": "Y", "city": "偃师市" }, { "letter": "Y", "city": "延寿县" }, { "letter": "Y", "city": "烟台市" }, { "letter": "Y", "city": "盐亭县" }, { "letter": "Y", "city": "盐源县" }, { "letter": "Y", "city": "姚安县" }, { "letter": "Y", "city": "叶城县" }, { "letter": "Y", "city": "叶县" }, { "letter": "Y", "city": "依安县" }, { "letter": "Y", "city": "宜宾市" }, { "letter": "Y", "city": "宜宾县" }, { "letter": "Y", "city": "宜昌市" }, { "letter": "Y", "city": "宜城市" }, { "letter": "Y", "city": "翼城县" }, { "letter": "Y", "city": "伊川县" }, { "letter": "Y", "city": "宜川县" }, { "letter": "Y", "city": "宜春市" }, { "letter": "Y", "city": "伊春市" }, { "letter": "Y", "city": "宜都市" }, { "letter": "Y", "city": "宜丰县" }, { "letter": "Y", "city": "宜黄县" }, { "letter": "Y", "city": "伊金霍洛旗" }, { "letter": "Y", "city": "宜君县" }, { "letter": "Y", "city": "依兰县" }, { "letter": "Y", "city": "宜良县" }, { "letter": "Y", "city": "彝良县" }, { "letter": "Y", "city": "伊犁哈萨克自治州" }, { "letter": "Y", "city": "仪陇县" }, { "letter": "Y", "city": "义马市" }, { "letter": "Y", "city": "易门县" }, { "letter": "Y", "city": "沂南县" }, { "letter": "Y", "city": "银川市" }, { "letter": "Y", "city": "应城市" }, { "letter": "Y", "city": "英德市" }, { "letter": "Y", "city": "盈江县" }, { "letter": "Y", "city": "荥经县" }, { "letter": "Y", "city": "英吉沙县" }, { "letter": "Y", "city": "营口市" }, { "letter": "Y", "city": "营山县" }, { "letter": "Y", "city": "英山县" }, { "letter": "Y", "city": "颍上县" }, { "letter": "Y", "city": "鹰潭市" }, { "letter": "Y", "city": "应县" }, { "letter": "Y", "city": "伊宁市" }, { "letter": "Y", "city": "伊宁县" }, { "letter": "Y", "city": "印江土家族苗族自治县" }, { "letter": "Y", "city": "沂水县" }, { "letter": "Y", "city": "伊通满族自治县" }, { "letter": "Y", "city": "义乌市" }, { "letter": "Y", "city": "伊吾县" }, { "letter": "Y", "city": "易县" }, { "letter": "Y", "city": "义县" }, { "letter": "Y", "city": "黟县" }, { "letter": "Y", "city": "宜兴市" }, { "letter": "Y", "city": "益阳市" }, { "letter": "Y", "city": "弋阳县" }, { "letter": "Y", "city": "宜阳县" }, { "letter": "Y", "city": "沂源县" }, { "letter": "Y", "city": "宜章县" }, { "letter": "Y", "city": "仪征市" }, { "letter": "Y", "city": "永安市" }, { "letter": "Y", "city": "永昌县" }, { "letter": "Y", "city": "永城市" }, { "letter": "Y", "city": "永春县" }, { "letter": "Y", "city": "永德县" }, { "letter": "Y", "city": "永登县" }, { "letter": "Y", "city": "永丰县" }, { "letter": "Y", "city": "永福县" }, { "letter": "Y", "city": "永和县" }, { "letter": "Y", "city": "永济市" }, { "letter": "Y", "city": "永吉县" }, { "letter": "Y", "city": "永嘉县" }, { "letter": "Y", "city": "永靖县" }, { "letter": "Y", "city": "永康市" }, { "letter": "Y", "city": "永年县" }, { "letter": "Y", "city": "永宁县" }, { "letter": "Y", "city": "永平县" }, { "letter": "Y", "city": "永清县" }, { "letter": "Y", "city": "永仁县" }, { "letter": "Y", "city": "永善县" }, { "letter": "Y", "city": "永胜县" }, { "letter": "Y", "city": "永寿县" }, { "letter": "Y", "city": "永顺县" }, { "letter": "Y", "city": "永泰县" }, { "letter": "Y", "city": "永新县" }, { "letter": "Y", "city": "永兴县" }, { "letter": "Y", "city": "永修县" }, { "letter": "Y", "city": "永州市" }, { "letter": "Y", "city": "尤溪县" }, { "letter": "Y", "city": "攸县" }, { "letter": "Y", "city": "酉阳土家族苗族自治县" }, { "letter": "Y", "city": "友谊县" }, { "letter": "Y", "city": "右玉县" }, { "letter": "Y", "city": "远安县" }, { "letter": "Y", "city": "沅江市" }, { "letter": "Y", "city": "元江哈尼族彝族傣族自治县" }, { "letter": "Y", "city": "沅陵县" }, { "letter": "Y", "city": "元谋县" }, { "letter": "Y", "city": "原平市" }, { "letter": "Y", "city": "垣曲县" }, { "letter": "Y", "city": "元氏县" }, { "letter": "Y", "city": "原阳县" }, { "letter": "Y", "city": "元阳县" }, { "letter": "Y", "city": "虞城县" }, { "letter": "Y", "city": "禹城市" }, { "letter": "Y", "city": "于都县" }, { "letter": "Y", "city": "岳池县" }, { "letter": "Y", "city": "岳普湖县" }, { "letter": "Y", "city": "乐清市" }, { "letter": "Y", "city": "岳西县" }, { "letter": "Y", "city": "越西县" }, { "letter": "Y", "city": "岳阳市" }, { "letter": "Y", "city": "岳阳县" }, { "letter": "Y", "city": "余干县" }, { "letter": "Y", "city": "玉环市" }, { "letter": "Y", "city": "余江县" }, { "letter": "Y", "city": "玉林市" }, { "letter": "Y", "city": "榆林市" }, { "letter": "Y", "city": "玉龙纳西族自治县" }, { "letter": "Y", "city": "玉门市" }, { "letter": "Y", "city": "裕民县" }, { "letter": "Y", "city": "郁南县" }, { "letter": "Y", "city": "运城市" }, { "letter": "Y", "city": "郓城县" }, { "letter": "Y", "city": "云浮市" }, { "letter": "Y", "city": "云和县" }, { "letter": "Y", "city": "筠连县" }, { "letter": "Y", "city": "云龙县" }, { "letter": "Y", "city": "云梦县" }, { "letter": "Y", "city": "郧西县" }, { "letter": "Y", "city": "勋县" }, { "letter": "Y", "city": "云县" }, { "letter": "Y", "city": "云霄县" }, { "letter": "Y", "city": "云阳县" }, { "letter": "Y", "city": "玉屏侗族自治县" }, { "letter": "Y", "city": "余庆县" }, { "letter": "Y", "city": "玉山县" }, { "letter": "Y", "city": "榆社县" }, { "letter": "Y", "city": "榆树市" }, { "letter": "Y", "city": "玉树市" }, { "letter": "Y", "city": "玉树藏族自治州" }, { "letter": "Y", "city": "鱼台县" }, { "letter": "Y", "city": "玉田县" }, { "letter": "Y", "city": "于田县" }, { "letter": "Y", "city": "玉溪市" }, { "letter": "Y", "city": "蔚县" }, { "letter": "Y", "city": "盂县" }, { "letter": "Y", "city": "余姚市" }, { "letter": "Y", "city": "榆中县" }, { "letter": "Y", "city": "禹州市" }, { "letter": "Z", "city": "杂多县" }, { "letter": "Z", "city": "赞皇县" }, { "letter": "Z", "city": "枣强县" }, { "letter": "Z", "city": "枣阳市" }, { "letter": "Z", "city": "枣庄市" }, { "letter": "Z", "city": "泽库县" }, { "letter": "Z", "city": "泽普县" }, { "letter": "Z", "city": "泽州县" }, { "letter": "Z", "city": "札达县" }, { "letter": "Z", "city": "扎赉特旗" }, { "letter": "Z", "city": "扎兰屯市" }, { "letter": "Z", "city": "扎鲁特旗" }, { "letter": "Z", "city": "扎囊县" }, { "letter": "Z", "city": "张北县" }, { "letter": "Z", "city": "张家川回族自治县" }, { "letter": "Z", "city": "张家港市" }, { "letter": "Z", "city": "张家界市" }, { "letter": "Z", "city": "张家口市" }, { "letter": "Z", "city": "漳平市" }, { "letter": "Z", "city": "漳浦县" }, { "letter": "Z", "city": "樟树市" }, { "letter": "Z", "city": "彰武县" }, { "letter": "Z", "city": "漳县" }, { "letter": "Z", "city": "张掖市" }, { "letter": "Z", "city": "漳州市" }, { "letter": "Z", "city": "长子县" }, { "letter": "Z", "city": "湛江市" }, { "letter": "Z", "city": "诏安县" }, { "letter": "Z", "city": "肇东市" }, { "letter": "Z", "city": "昭觉县" }, { "letter": "Z", "city": "昭平县" }, { "letter": "Z", "city": "肇庆市" }, { "letter": "Z", "city": "昭苏县" }, { "letter": "Z", "city": "昭通市" }, { "letter": "Z", "city": "赵县" }, { "letter": "Z", "city": "招远市" }, { "letter": "Z", "city": "肇源县" }, { "letter": "Z", "city": "肇州县" }, { "letter": "Z", "city": "柘城县" }, { "letter": "Z", "city": "镇安县" }, { "letter": "Z", "city": "镇巴县" }, { "letter": "Z", "city": "贞丰县" }, { "letter": "Z", "city": "正安县" }, { "letter": "Z", "city": "正定县" }, { "letter": "Z", "city": "政和县" }, { "letter": "Z", "city": "正蓝旗" }, { "letter": "Z", "city": "正宁县" }, { "letter": "Z", "city": "正镶白旗" }, { "letter": "Z", "city": "正阳县" }, { "letter": "Z", "city": "郑州市" }, { "letter": "Z", "city": "镇江市" }, { "letter": "Z", "city": "镇康县" }, { "letter": "Z", "city": "镇赉县" }, { "letter": "Z", "city": "镇宁布依族苗族自治县" }, { "letter": "Z", "city": "镇平县" }, { "letter": "Z", "city": "镇坪县" }, { "letter": "Z", "city": "镇雄县" }, { "letter": "Z", "city": "镇远县" }, { "letter": "Z", "city": "镇原县" }, { "letter": "Z", "city": "镇沅彝族哈尼族拉祜族自治县" }, { "letter": "Z", "city": "柘荣县" }, { "letter": "Z", "city": "志丹县" }, { "letter": "Z", "city": "治多县" }, { "letter": "Z", "city": "枝江市" }, { "letter": "Z", "city": "芷江侗族自治县" }, { "letter": "Z", "city": "织金县" }, { "letter": "Z", "city": "仲巴县" }, { "letter": "Z", "city": "中方县" }, { "letter": "Z", "city": "中江县" }, { "letter": "Z", "city": "中牟县" }, { "letter": "Z", "city": "中宁县" }, { "letter": "Z", "city": "中山市" }, { "letter": "Z", "city": "钟山县" }, { "letter": "Z", "city": "中沙群岛的岛礁及其海域" }, { "letter": "Z", "city": "中卫市" }, { "letter": "Z", "city": "忠县" }, { "letter": "Z", "city": "钟祥市" }, { "letter": "Z", "city": "中阳县" }, { "letter": "Z", "city": "周口市" }, { "letter": "Z", "city": "周宁县" }, { "letter": "Z", "city": "舟曲县" }, { "letter": "Z", "city": "舟山市" }, { "letter": "Z", "city": "周至县" }, { "letter": "Z", "city": "庄河市" }, { "letter": "Z", "city": "庄浪县" }, { "letter": "Z", "city": "诸城市" }, { "letter": "Z", "city": "珠海市" }, { "letter": "Z", "city": "诸暨市" }, { "letter": "Z", "city": "驻马店市" }, { "letter": "Z", "city": "准格尔旗" }, { "letter": "Z", "city": "涿鹿县" }, { "letter": "Z", "city": "卓尼县" }, { "letter": "Z", "city": "涿州市" }, { "letter": "Z", "city": "卓资县" }, { "letter": "Z", "city": "竹山县" }, { "letter": "Z", "city": "竹溪县" }, { "letter": "Z", "city": "株洲市" }, { "letter": "Z", "city": "株洲县" }, { "letter": "Z", "city": "淄博市" }, { "letter": "Z", "city": "子长县" }, { "letter": "Z", "city": "自贡市" }, { "letter": "Z", "city": "秭归县" }, { "letter": "Z", "city": "紫金县" }, { "letter": "Z", "city": "梓潼县" }, { "letter": "Z", "city": "资溪县" }, { "letter": "Z", "city": "资兴市" }, { "letter": "Z", "city": "资阳市" }, { "letter": "Z", "city": "紫阳县" }, { "letter": "Z", "city": "资源县" }, { "letter": "Z", "city": "紫云苗族布依族自治县" }, { "letter": "Z", "city": "资中县" }, { "letter": "Z", "city": "子洲县" }, { "letter": "Z", "city": "枞阳县" }, { "letter": "Z", "city": "邹城市" }, { "letter": "Z", "city": "邹平县" }, { "letter": "Z", "city": "遵化市" }, { "letter": "Z", "city": "遵义市" }, { "letter": "Z", "city": "左贡县" }, { "letter": "Z", "city": "左权县" }, { "letter": "Z", "city": "柞水县" }, { "letter": "Z", "city": "左云县" }];
  const _sfc_main$q = {
    data() {
      return {
        nowCity: "",
        locationStatus: "定位成功",
        letter: [
          "A",
          "B",
          "C",
          "D",
          "E",
          "F",
          "G",
          "H",
          "J",
          "K",
          "L",
          "M",
          "N",
          "P",
          "Q",
          "R",
          "S",
          "T",
          "W",
          "X",
          "Y",
          "Z"
        ],
        //热门城市
        hotCityList: [],
        //全部城市
        allCityList: [],
        //滑动到指定位置
        scrollId: "",
        //动画
        animation: {},
        //接口请求的数据
        cityList: []
      };
    },
    onLoad(options) {
      this.nowCity = "北京";
      this.getCityList();
    },
    methods: {
      //拼音点击事件
      letterTap(index) {
        formatAppLog("log", "at pages/auth/cityChoose.vue:80", index);
        if (this.letter[index] == "热") {
          this.scrollId = "re";
        } else {
          this.scrollId = this.letter[index];
        }
      },
      //搜索
      cityInputListener(e2) {
        let value = e2.detail.value;
        let cityAll = this.allCityList;
        let newArray = [];
        for (let i2 = 0; i2 < cityAll.length; i2++) {
          if (cityAll[i2].city.indexOf(value) != -1 || cityAll[i2].letter == value.toUpperCase()) {
            newArray.push(cityAll[i2]);
          }
        }
        if (value == "") {
          this.formatCityData(this.cityList);
        } else {
          this.formatCityData(newArray);
        }
      },
      //定位
      locationImageClick() {
        var that = this;
        this.animation = uni.createAnimation();
        this.animation.rotate(360).step();
        this.animation = this.animation.export();
        this.locationStatus = "定位中...";
        uni.getLocation({
          geocode: true,
          // 是否解析地址信息（返回详细格式化地址信息）
          success: (res2) => {
            if (res2.address != void 0) {
              that.nowCity = res2.address.city;
              that.locationStatus = "定位成功";
            }
          },
          fail: (res2) => {
            that.nowCity = "获取定位信息失败";
            formatAppLog("log", "at pages/auth/cityChoose.vue:123", "获取定位信息失败");
          }
        });
      },
      //获取城市列表	
      getCityList() {
        this.cityList = cityJson;
        this.formatCityData(cityJson);
      },
      formatCityData: function(array2) {
        for (let i2 = 0; i2 < array2.length; i2++) {
          if (i2 == 0) {
            array2[i2].show = true;
          } else if (array2[i2].letter != array2[i2 - 1].letter) {
            array2[i2].show = true;
            array2[i2 - 1].last = true;
          }
          if (array2.length == 1) {
            array2[0].last = true;
          }
          array2.show = false;
        }
        this.allCityList = array2;
      },
      //城市条目点击
      cityItemClick(index) {
        var data = this.allCityList[index];
        formatAppLog("log", "at pages/auth/cityChoose.vue:156", data);
        uni.setStorageSync("verifyAddress", data.city);
        uni.navigateBack({
          delta: 1
        });
      }
    }
  };
  function _sfc_render$p(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "introScroll" }, [
      vue.createElementVNode("view", { class: "topView" }, [
        vue.createElementVNode("view", { class: "nowCityTextTipsView" }, [
          vue.createElementVNode("view", { class: "nowLocationCity" }, [
            vue.createTextVNode("当前地区："),
            vue.createElementVNode("text", null, "北京市")
          ]),
          vue.createElementVNode("view", { class: "address" }, [
            vue.createElementVNode("image", {
              src: _imports_0$p,
              class: "img"
            }),
            vue.createTextVNode("自动定位 ")
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "city_right" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($data.letter, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("text", {
              class: "letter_item",
              key: index,
              onClick: vue.withModifiers(($event) => $options.letterTap(index), ["stop"])
            }, vue.toDisplayString(item), 9, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("scroll-view", {
        "scroll-with-animation": "true",
        class: "cityListView",
        "scroll-y": "true",
        "scroll-into-view": $data.scrollId,
        "show-scrollbar": false
      }, [
        vue.createElementVNode("view", { class: "forCityView" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.allCityList, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "forCityItem",
                key: index
              }, [
                item.show ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  id: item.letter,
                  class: "letterItemFirst"
                }, vue.toDisplayString(item.letter), 9, ["id"])) : vue.createCommentVNode("v-if", true),
                vue.createElementVNode("text", {
                  onClick: ($event) => $options.cityItemClick(index),
                  class: "itemCityContent"
                }, vue.toDisplayString(item.city), 9, ["onClick"]),
                !item.last ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "line"
                })) : vue.createCommentVNode("v-if", true)
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ], 8, ["scroll-into-view"])
    ]);
  }
  const PagesAuthCityChoose = /* @__PURE__ */ _export_sfc(_sfc_main$q, [["render", _sfc_render$p], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/auth/cityChoose.vue"]]);
  const PAYMENT_CHANNELS = {
    WECHAT: "wxpay",
    ALIPAY: "alipay"
  };
  const PAYMENT_STATUS = {
    SUCCESS: "success",
    FAILED: "failed",
    CANCELED: "canceled",
    UNKNOWN: "unknown"
  };
  function usePayment() {
    const paymentChannels = vue.ref({});
    const isLoading = vue.ref(false);
    const paymentStatus = vue.ref(PAYMENT_STATUS.UNKNOWN);
    const getPaymentChannels = () => {
      return new Promise((resolve, reject) => {
        if (Object.keys(paymentChannels.value).length) {
          resolve(paymentChannels.value);
          return;
        }
        plus.payment.getChannels((channels) => {
          const channelMap = {};
          channels.forEach((channel) => {
            channelMap[channel.id] = channel;
          });
          paymentChannels.value = channelMap;
          resolve(channelMap);
        }, (error) => {
          formatAppLog("error", "at utils/usePayment.js:62", "获取支付渠道失败:", error);
          reject(new Error(`获取支付渠道失败: ${error.message || error.code}`));
        });
      });
    };
    const getChannel = (channelId) => {
      return paymentChannels.value[channelId] || null;
    };
    const getErrorMessage = (error, channelId) => {
      var _a2;
      const { code: code2, message: message2 } = error;
      const commonErrors = {
        [-1]: "支付失败，请重试",
        [-2]: "用户取消支付",
        [-3]: "支付操作未完成",
        [-4]: "支付渠道不可用",
        [-5]: "网络异常，请检查网络"
      };
      const channelErrors = {
        [PAYMENT_CHANNELS.WECHAT]: {
          [-100]: "微信未安装",
          [-101]: "微信版本不支持",
          [-102]: "微信支付参数错误",
          [-103]: "微信登录授权失败"
        },
        [PAYMENT_CHANNELS.ALIPAY]: {
          [-100]: "支付宝未安装",
          [-101]: "支付宝版本不支持",
          [-102]: "支付宝支付参数错误",
          [-103]: "支付宝账号未登录"
        }
      };
      return ((_a2 = channelErrors[channelId]) == null ? void 0 : _a2[code2]) || commonErrors[code2] || message2 || `支付错误: 错误码=${code2}`;
    };
    const requestPayment = (channelId, orderInfo) => {
      return new Promise((resolve, reject) => {
        if (!orderInfo) {
          reject(new Error("订单信息不能为空"));
          return;
        }
        const channel = getChannel(channelId);
        if (!channel) {
          reject(new Error(`未找到支付渠道: ${channelId}，请先初始化渠道`));
          return;
        }
        plus.payment.request(channel, orderInfo, (result) => {
          let rawData2 = result.rawdata;
          try {
            rawData2 = typeof rawData2 === "string" ? JSON.parse(rawData2) : rawData2;
          } catch (e2) {
            formatAppLog("warn", "at utils/usePayment.js:142", "支付返回数据解析失败:", e2);
          }
          paymentStatus.value = PAYMENT_STATUS.SUCCESS;
          resolve({
            status: PAYMENT_STATUS.SUCCESS,
            data: rawData2,
            originalResult: result
          });
        }, (error) => {
          formatAppLog("error", "at utils/usePayment.js:152", `[${channelId}]支付失败:`, error);
          let status = PAYMENT_STATUS.FAILED;
          if (error.code === -2) {
            status = PAYMENT_STATUS.CANCELED;
          }
          paymentStatus.value = status;
          reject({
            status,
            error,
            message: getErrorMessage(error, channelId)
          });
        });
      });
    };
    const wechatPay = async (orderInfo) => {
      if (isLoading.value) {
        formatAppLog("warn", "at utils/usePayment.js:176", "有正在进行的支付，请稍后再试");
        return;
      }
      isLoading.value = true;
      try {
        if (!getChannel(PAYMENT_CHANNELS.WECHAT)) {
          await getPaymentChannels();
        }
        return await requestPayment(PAYMENT_CHANNELS.WECHAT, orderInfo);
      } finally {
        isLoading.value = false;
      }
    };
    const alipay = async (orderInfo) => {
      formatAppLog("log", "at utils/usePayment.js:196", orderInfo, "196 - - - - - ");
      if (isLoading.value) {
        formatAppLog("warn", "at utils/usePayment.js:199", "有正在进行的支付，请稍后再试");
        return;
      }
      isLoading.value = true;
      try {
        if (!getChannel(PAYMENT_CHANNELS.ALIPAY)) {
          await getPaymentChannels();
        }
        return await requestPayment(PAYMENT_CHANNELS.ALIPAY, orderInfo);
      } finally {
        isLoading.value = false;
      }
    };
    const pay = async (channelId, orderInfo) => {
      if (isLoading.value) {
        formatAppLog("warn", "at utils/usePayment.js:221", "有正在进行的支付，请稍后再试");
        return;
      }
      isLoading.value = true;
      try {
        paymentStatus.value = PAYMENT_STATUS.UNKNOWN;
        if (!getChannel(channelId)) {
          await getPaymentChannels();
        }
        return await requestPayment(channelId, orderInfo);
      } catch (error) {
        throw error;
      } finally {
        isLoading.value = false;
      }
    };
    const initPaymentChannels = async () => {
      try {
        await getPaymentChannels();
        formatAppLog("log", "at utils/usePayment.js:247", "支付渠道初始化成功:", Object.keys(paymentChannels.value));
      } catch (error) {
        formatAppLog("error", "at utils/usePayment.js:249", "支付渠道初始化失败:", error);
        throw error;
      }
    };
    const isChannelAvailable = (channelId) => {
      return !!getChannel(channelId);
    };
    const getAvailableChannels = () => {
      return Object.keys(paymentChannels.value);
    };
    return {
      isLoading,
      // 支付加载状态
      paymentStatus,
      // 当前支付状态
      paymentChannels,
      // 支付渠道映射表
      pay,
      // 通用支付方法
      wechatPay,
      // 微信支付快捷方法
      alipay,
      // 支付宝支付快捷方法
      initPaymentChannels,
      // 初始化支付渠道
      isChannelAvailable,
      // 检查渠道是否可用
      getAvailableChannels,
      // 获取可用渠道列表
      PAYMENT_CHANNELS,
      // 支付渠道常量
      PAYMENT_STATUS
      // 支付状态常量
    };
  }
  const _sfc_main$p = {
    __name: "payment",
    props: {
      distinguish: {
        type: String,
        default: "consultation"
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "eade9ab2-statusBarHeight": statusBarHeight.value,
        "eade9ab2-startColor": startColor.value,
        "eade9ab2-textColor": textColor.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const consultation = vue.ref(1);
      const startColor = vue.ref("#35ca955c");
      const selectImg = vue.ref("select-green");
      const textColor = vue.ref("#34a76f");
      const showMore = vue.ref(false);
      const avatarImg = vue.ref("");
      const titleName = vue.ref("");
      const orderData2 = vue.ref({
        counselorId: "",
        // 咨询师ID
        consultType: null,
        // 咨询方式
        date: null,
        // 预约日期
        serveCategoryId: 3,
        // 服务类别ID
        startTime: null,
        // 开始时间
        endTime: null,
        // 结束时间
        duration: null,
        // 时长
        price: null
      });
      const props = __props;
      vue.watch(() => props.distinguish, (newVal) => {
        if (newVal == "consultation") {
          startColor.value = "#35ca955c";
          selectImg.value = "select-green";
          textColor.value = "#34a76f";
        } else {
          startColor.value = "#ffbb4166";
          selectImg.value = "select-yellow";
          textColor.value = "#EB9516";
        }
      }, {
        immediate: true,
        deep: true
      });
      onShow(() => {
      });
      const scrollTop = vue.ref(0);
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const gotoPrivacy = (type) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type}`
        });
      };
      const content = vue.ref("");
      const getAgreementByType = async () => {
        try {
          const queryParams2 = {
            current: 1,
            size: 10,
            title: "咨询服务须知"
          };
          let { data } = await articleByType$1(queryParams2);
          content.value = data.records[0].content;
        } catch (error) {
          formatAppLog("log", "at pages/payment/payment.vue:248", error);
        }
      };
      const planList = vue.ref([]);
      const planTitle = vue.ref("");
      const getlnfo = async (id2) => {
        let { data } = await consultantList(id2);
        data.map((item, index) => {
          item.selected = index === 0 ? true : false;
        });
        const { quoteAmount, serviceDuration, serviceQuoteType } = data[0];
        orderData2.value.consultType = serviceQuoteType;
        orderData2.value.price = quoteAmount;
        orderData2.value.serveCategoryId = data[0].id;
        orderData2.value.duration = serviceDuration;
        planList.value = data;
        planTitle.value = data[0].title;
      };
      const selectPlan = (plan, index) => {
        planTitle.value = plan.title;
        planList.value.forEach((plan2, i2) => {
          plan2.selected = i2 === index;
        });
        consultation.value = plan.serviceQuoteType;
        const { createTime, quoteAmount, serviceDuration, serviceQuoteType } = plan;
        orderData2.value.consultType = serviceQuoteType;
        orderData2.value.price = quoteAmount;
        orderData2.value.duration = serviceDuration;
      };
      const clauseVal = vue.ref("agree");
      const popupType2 = vue.ref("service");
      const popup = vue.ref(null);
      const handleClause = (val2) => {
        popupType2.value = "service";
        if (val2 == "disagree") {
          popup.value.open("center");
        }
        clauseVal.value = val2;
      };
      const closePopup = () => {
        popup.value.close();
      };
      const paymentMethod = vue.ref("weixin");
      const handlePayment = (val2) => {
        paymentMethod.value = val2;
      };
      const gotoOrder = () => {
        uni.navigateTo({
          url: `/pages/payment/order/listener-order`
        });
      };
      const gotoIndex = () => {
        uni.switchTab({
          url: "/pages/index/index"
        });
      };
      const {
        isLoading,
        paymentStatus,
        initPaymentChannels,
        wechatPay,
        alipay,
        PAYMENT_STATUS: PAYMENT_STATUS2
      } = usePayment();
      const orderPay = async (id2) => {
        try {
          const api = paymentMethod.value == "weixin" ? wxPay : aliPay;
          const type = paymentMethod.value == "weixin" ? "wxPay" : "aliPay";
          const res2 = await orderList(orderData2.value);
          const { data } = await api({
            orderId: res2.data.orderSn,
            amount: res2.data.amount,
            type,
            status: 1
          });
          if (paymentMethod.value == "weixin") {
            handleWechatPay(data.orderString);
          } else {
            handleAlipay(data.orderString, res2.data.orderSn);
          }
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleAlipay = async (orderInfo, orderSn) => {
        try {
          const result = await alipay(orderInfo);
          payResultApi(orderSn);
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleWechatPay = async (orderInfo) => {
        try {
          const result = await wechatPay(orderInfo);
          if (result.status === PAYMENT_STATUS2.SUCCESS) {
            message.value = "微信支付成功";
          }
        } catch (err) {
          message.value = err.message || "微信支付失败";
        }
      };
      const payResultApi = async (orderSn) => {
        try {
          const result = await payResult({ orderSn });
          if (result.data.status == 2) {
            popupType2.value = "success";
            popup.value.open("center");
          }
        } catch (err) {
          message.value = err.message || "支付失败";
        }
      };
      onLoad((options) => {
        const { date: date2, startTime, endTime } = JSON.parse(options.time);
        orderData2.value.date = timeStrToSecondTimestamp(`${date2} ${endTime}`);
        orderData2.value.startTime = timeStrToSecondTimestamp(`${date2} ${startTime}`);
        orderData2.value.endTime = timeStrToSecondTimestamp(`${date2} ${endTime}`);
        const { to, avatar, name, id: id2 } = options;
        avatarImg.value = avatar;
        titleName.value = name;
        orderData2.value.counselorId = id2;
        formatAppLog("log", "at pages/payment/payment.vue:391", orderData2.value);
        getAgreementByType();
        getlnfo(to);
      });
      const __returned__ = { globalStore, statusBarHeight, consultation, startColor, selectImg, textColor, showMore, avatarImg, titleName, orderData: orderData2, props, scrollTop, onPageScroll: onPageScroll2, backFn, gotoPrivacy, content, getAgreementByType, planList, planTitle, getlnfo, selectPlan, clauseVal, popupType: popupType2, popup, handleClause, closePopup, paymentMethod, handlePayment, gotoOrder, gotoIndex, isLoading, paymentStatus, initPaymentChannels, wechatPay, alipay, PAYMENT_STATUS: PAYMENT_STATUS2, orderPay, handleAlipay, handleWechatPay, payResultApi, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get consultantList() {
        return consultantList;
      }, get timeStrToSecondTimestamp() {
        return timeStrToSecondTimestamp;
      }, get payment() {
        return payment;
      }, get wxPay() {
        return wxPay;
      }, get aliPay() {
        return aliPay;
      }, get orderList() {
        return orderList;
      }, get payResult() {
        return payResult;
      }, get getUserInfo() {
        return getUserInfo;
      }, get articleByType() {
        return articleByType$1;
      }, get usePayment() {
        return usePayment;
      }, get formatTime() {
        return formatTime;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$o(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "确认订单"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          onScroll: $setup.onPageScroll,
          style: { "height": "100vh" },
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "consultation-content" }, [
            vue.createElementVNode("view", { class: "notice-bar" }, [
              vue.createVNode(_component_uni_icons, {
                type: "sound",
                size: "20",
                color: "#F87171"
              }),
              vue.createElementVNode("view", { class: "notice-text" }, " 为确保沟通顺畅，请提前确认设备是否开启对应麦克风权限>> ")
            ]),
            vue.createElementVNode("view", { class: "user-info-section" }, [
              vue.createElementVNode("image", {
                src: $setup.avatarImg,
                class: "user-avatar"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "user-details" }, [
                vue.createElementVNode(
                  "view",
                  { class: "user-name" },
                  vue.toDisplayString($setup.titleName),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "view",
                  { class: "user-expertise" },
                  vue.toDisplayString($setup.planTitle),
                  1
                  /* TEXT */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "appointment-info" }, [
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "预约时间"),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  vue.toDisplayString($setup.formatTime($setup.orderData.date)),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "咨询方式"),
                vue.createElementVNode("view", { class: "consultation-methods" }, [
                  vue.createElementVNode("view", { class: "method-item" }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "videocam",
                      size: "20",
                      color: $setup.consultation == 1 ? "#34A76F" : "#959596"
                    }, null, 8, ["color"]),
                    vue.createElementVNode(
                      "text",
                      {
                        class: "method-text",
                        style: vue.normalizeStyle({ color: $setup.consultation == 1 ? "" : "#666" })
                      },
                      "视频",
                      4
                      /* STYLE */
                    ),
                    vue.withDirectives(vue.createElementVNode(
                      "image",
                      {
                        style: { "left": "60rpx" },
                        src: _imports_0$k
                      },
                      null,
                      512
                      /* NEED_PATCH */
                    ), [
                      [vue.vShow, $setup.consultation == 1]
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "method-item" }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "mic",
                      size: "20",
                      color: $setup.consultation == 2 ? "#34A76F" : "#959596"
                    }, null, 8, ["color"]),
                    vue.createElementVNode(
                      "text",
                      {
                        class: "method-text",
                        style: vue.normalizeStyle({ color: $setup.consultation == 2 ? "" : "#666" })
                      },
                      "语音",
                      4
                      /* STYLE */
                    ),
                    vue.withDirectives(vue.createElementVNode(
                      "image",
                      {
                        style: { "right": "160rpx" },
                        src: _imports_0$k
                      },
                      null,
                      512
                      /* NEED_PATCH */
                    ), [
                      [vue.vShow, $setup.consultation == 2]
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "method-item" }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "compose",
                      size: "20",
                      color: $setup.consultation == 3 ? "#34A76F" : "#959596"
                    }, null, 8, ["color"]),
                    vue.createElementVNode(
                      "text",
                      {
                        class: "method-text",
                        style: vue.normalizeStyle({ color: $setup.consultation == 3 ? "" : "#666" })
                      },
                      "文字",
                      4
                      /* STYLE */
                    ),
                    vue.withDirectives(vue.createElementVNode(
                      "image",
                      {
                        style: { "right": "10rpx" },
                        src: _imports_0$k
                      },
                      null,
                      512
                      /* NEED_PATCH */
                    ), [
                      [vue.vShow, $setup.consultation == 3]
                    ])
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-title" }, "咨询方案"),
              vue.createElementVNode("view", { class: "plan-list-container" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.planList, (plan, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: vue.normalizeClass(["plan-item", { "plan-item--active": plan.selected }]),
                      key: index,
                      onClick: ($event) => $setup.selectPlan(plan, index)
                    }, [
                      vue.createElementVNode("view", { class: "plan-item-content" }, [
                        vue.createElementVNode("view", { class: "plan-info" }, [
                          vue.createElementVNode("image", {
                            src: plan.selected ? `/static/auth/${$setup.selectImg}.png` : "/static/auth/not-selected.png",
                            class: "plan-select-icon"
                          }, null, 8, ["src"]),
                          vue.createElementVNode(
                            "view",
                            { class: "plan-name" },
                            "【" + vue.toDisplayString(plan.title) + "】" + vue.toDisplayString(plan.serviceDuration) + "分钟",
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode(
                          "view",
                          { class: "plan-price" },
                          "￥" + vue.toDisplayString(plan.quoteAmount),
                          1
                          /* TEXT */
                        )
                      ])
                    ], 10, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-title" }, "服务须知"),
              vue.createElementVNode("view", { class: "please-note" }, [
                vue.createElementVNode("view", { class: "note" }, [
                  vue.createElementVNode("view", null, "这里是内容，请仔细阅读了解是否存在以下描述的情况"),
                  vue.createElementVNode(
                    "view",
                    {
                      class: "note-text",
                      style: vue.normalizeStyle({ "max-height": $setup.showMore ? "none" : "200rpx" })
                    },
                    [
                      vue.createElementVNode("view", { innerHTML: $setup.content }, null, 8, ["innerHTML"])
                    ],
                    4
                    /* STYLE */
                  ),
                  vue.createElementVNode("view", {
                    class: "text-display",
                    onClick: _cache[0] || (_cache[0] = ($event) => $setup.showMore = !$setup.showMore)
                  }, [
                    vue.createVNode(_component_uni_icons, {
                      type: $setup.showMore ? "up" : "down",
                      size: "20",
                      color: "#959596"
                    }, null, 8, ["type"])
                  ]),
                  vue.createElementVNode("view", { class: "clause" }, [
                    vue.createElementVNode("view", {
                      class: "clause-text disagree",
                      onClick: _cache[1] || (_cache[1] = ($event) => $setup.handleClause("disagree"))
                    }, [
                      vue.createElementVNode("image", {
                        src: `/static/auth/${$setup.clauseVal == "disagree" ? $setup.selectImg : "not-selected"}.png`,
                        class: "plan-select-icon"
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass($setup.clauseVal == "disagree" ? "clause-txt" : "")
                        },
                        "存在以上情况",
                        2
                        /* CLASS */
                      )
                    ]),
                    vue.createElementVNode("view", {
                      class: "clause-text agree",
                      onClick: _cache[3] || (_cache[3] = ($event) => $setup.handleClause("agree"))
                    }, [
                      vue.createElementVNode("image", {
                        src: `/static/auth/${$setup.clauseVal == "agree" ? $setup.selectImg : "not-selected"}.png`,
                        class: "plan-select-icon"
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass($setup.clauseVal == "agree" ? "clause-txt" : "")
                        },
                        [
                          vue.createTextVNode("不存在以上情况，且同意"),
                          vue.createElementVNode(
                            "text",
                            {
                              style: vue.normalizeStyle({ color: $setup.textColor }),
                              onClick: _cache[2] || (_cache[2] = ($event) => $setup.gotoPrivacy("用户下单服务协议"))
                            },
                            "《用户下单服务协议》",
                            4
                            /* STYLE */
                          )
                        ],
                        2
                        /* CLASS */
                      )
                    ])
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-title" }, "支付方式"),
              vue.createElementVNode("view", { class: "please-note" }, [
                vue.createElementVNode("view", {
                  class: "note-pay",
                  onClick: _cache[4] || (_cache[4] = ($event) => $setup.handlePayment("weixin"))
                }, [
                  vue.createElementVNode("view", { class: "pay-item" }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-wechatimg.png" }),
                    vue.createElementVNode("view", null, "微信支付")
                  ]),
                  vue.createElementVNode("image", {
                    src: `/static/auth/${$setup.paymentMethod == "weixin" ? $setup.selectImg : "not-selected"}.png`,
                    style: { "width": "25rpx", "height": "25rpx" }
                  }, null, 8, ["src"])
                ]),
                vue.createElementVNode("view", {
                  class: "note-pay",
                  onClick: _cache[5] || (_cache[5] = ($event) => $setup.handlePayment("alipay"))
                }, [
                  vue.createElementVNode("view", { class: "pay-item" }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-alipayimg.png" }),
                    vue.createElementVNode("view", null, "支付宝支付")
                  ]),
                  vue.createElementVNode("image", {
                    src: `/static/auth/${$setup.paymentMethod == "alipay" ? $setup.selectImg : "not-selected"}.png`,
                    style: { "width": "25rpx", "height": "25rpx" }
                  }, null, 8, ["src"])
                ])
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createElementVNode("view", { class: "recharge-pay-footer" }, [
        vue.createElementVNode("view", { style: { "display": "flex", "margin-left": "20rpx" } }, [
          vue.createElementVNode("view", { class: "recharge-pay-price" }, [
            vue.createTextVNode(
              "¥" + vue.toDisplayString($setup.orderData.price),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "text",
              null,
              "元/" + vue.toDisplayString($setup.orderData.duration) + "分钟",
              1
              /* TEXT */
            )
          ])
        ]),
        vue.createElementVNode("view", { style: { "display": "flex", "margin-right": "20rpx" } }, [
          vue.createElementVNode("button", {
            disabled: $setup.clauseVal == "disagree",
            class: "recharge-sure-price",
            onClick: $setup.orderPay
          }, "提交订单", 8, ["disabled"])
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "center",
          animation: false
        },
        {
          default: vue.withCtx(() => [
            $setup.popupType == "service" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "popup-container"
            }, [
              vue.createElementVNode("view", { class: "popup-title" }, [
                vue.createVNode(_component_uni_icons, {
                  type: "notification-filled",
                  size: "40",
                  color: "#35CA95"
                })
              ]),
              vue.createElementVNode("view", { class: "popup-content" }, " 抱歉，您存在的情况不适于咨询， 建议您选择更专业治疗，以便于给您提 供更好的服务。 "),
              vue.createElementVNode("view", { class: "popup-btn" }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "知道了")
              ])
            ])) : vue.createCommentVNode("v-if", true),
            $setup.popupType == "success" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "popup-order"
            }, [
              vue.createElementVNode("view", { class: "popup-order-header" }, [
                vue.createVNode(_component_uni_icons, {
                  "custom-prefix": "iconfont",
                  type: "icon-smile-full",
                  size: "30",
                  color: "#f7db79",
                  class: "icon"
                }),
                vue.createElementVNode("view", { class: "popup-order-title" }, [
                  vue.createElementVNode("view", null, "恭喜您"),
                  vue.createElementVNode("view", null, "订单已成功支付！")
                ])
              ]),
              vue.createElementVNode("view", { class: "popup-order-btn" }, [
                vue.createElementVNode("view", { onClick: $setup.gotoOrder }, "查看订单"),
                vue.createElementVNode("view", null, "|"),
                vue.createElementVNode("view", { onClick: $setup.gotoIndex }, "返回首页")
              ])
            ])) : vue.createCommentVNode("v-if", true)
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesPaymentPayment = /* @__PURE__ */ _export_sfc(_sfc_main$p, [["render", _sfc_render$o], ["__scopeId", "data-v-eade9ab2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/payment.vue"]]);
  const _sfc_main$o = {
    __name: "payment-records",
    props: {
      distinguish: {
        type: String,
        default: "1"
      }
    },
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "82fe96ef-statusBarHeight": statusBarHeight.value,
        "82fe96ef-textColor": textColor.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const consultation = vue.ref(1);
      const startColor = vue.ref("#35ca955c");
      const selectImg = vue.ref("select-green");
      const textColor = vue.ref("#34a76f");
      const showMore = vue.ref(false);
      const avatarImg = vue.ref("");
      const titleName = vue.ref("");
      const orderData2 = vue.ref({
        listenerId: null,
        // 倾听师ID
        consultType: null,
        // 倾听方式
        voiceStartTime: null,
        // 语音开始时间
        duration: null,
        // 时长
        price: null
        // 价格
      });
      const props = __props;
      onLoad((options) => {
        const { id: id2, userId, avatar, name } = options;
        avatarImg.value = avatar;
        titleName.value = name;
        orderData2.value.listenerId = id2;
        getlnfo(userId);
      });
      const planList = vue.ref([]);
      const planTitle = vue.ref("");
      const getlnfo = async (id2) => {
        let { data } = await listenerList(id2);
        data.map((item, index) => {
          item.selected = index === 0 ? true : false;
        });
        const { createTime, quoteAmount, serviceDuration, serviceQuoteType } = data[0];
        orderData2.value.consultType = serviceQuoteType;
        orderData2.value.price = quoteAmount;
        orderData2.value.voiceStartTime = timeStrToSecondTimestamp(createTime);
        orderData2.value.duration = serviceDuration;
        planList.value = data;
        planTitle.value = data[0].title;
      };
      vue.watch(() => props.distinguish, (newVal) => {
        if (newVal == "consultation") {
          startColor.value = "#35ca955c";
          selectImg.value = "select-green";
          textColor.value = "#34a76f";
        } else {
          startColor.value = "#ffbb4166";
          selectImg.value = "select-yellow";
          textColor.value = "#EB9516";
        }
      }, {
        immediate: true,
        deep: true
      });
      onShow(() => {
      });
      const scrollTop = vue.ref(0);
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const gotoPrivacy = (type) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type}`
        });
      };
      const content = vue.ref("");
      const getAgreementByType = async () => {
        try {
          const queryParams2 = {
            current: 1,
            size: 10,
            title: "倾听服务须知"
          };
          let { data } = await articleByType$1(queryParams2);
          content.value = data.records[0].content;
        } catch (error) {
          formatAppLog("log", "at pages/payment/payment-records.vue:258", error);
        }
      };
      const selectPlan = (plan, index) => {
        planList.value.forEach((plan2, i2) => {
          plan2.selected = i2 === index;
        });
        consultation.value = plan.serviceQuoteType;
        const { createTime, quoteAmount, serviceDuration, serviceQuoteType } = plan;
        orderData2.value.consultType = serviceQuoteType;
        orderData2.value.price = quoteAmount;
        orderData2.value.voiceStartTime = timeStrToSecondTimestamp(createTime);
        orderData2.value.duration = serviceDuration;
        planTitle.value = plan.title;
      };
      const clauseVal = vue.ref("agree");
      const popupType2 = vue.ref("service");
      const popup = vue.ref(null);
      const handleClause = (val2) => {
        popupType2.value = "service";
        if (val2 == "disagree") {
          popup.value.open("center");
        }
        clauseVal.value = val2;
      };
      const closePopup = () => {
        popup.value.close();
      };
      const gotoOrder = () => {
        uni.navigateTo({
          url: `/pages/payment/order/listener-order`
        });
      };
      const gotoIndex = () => {
        uni.switchTab({
          url: "/pages/index/index"
        });
      };
      const paymentMethod = vue.ref("weixin");
      const handlePayment = (val2) => {
        paymentMethod.value = val2;
      };
      const {
        isLoading,
        paymentStatus,
        initPaymentChannels,
        wechatPay,
        alipay,
        PAYMENT_STATUS: PAYMENT_STATUS2
      } = usePayment();
      const orderPay = async (id2) => {
        try {
          const api = paymentMethod.value == "weixin" ? wxPay : aliPay;
          const type = paymentMethod.value == "weixin" ? "wxPay" : "aliPay";
          const res2 = await createListen(orderData2.value);
          const { data } = await api({
            orderId: res2.data.orderSn,
            amount: res2.data.amount,
            type,
            status: 1
          });
          if (paymentMethod.value == "weixin") {
            handleWechatPay(data.orderString);
          } else {
            handleAlipay(data.orderString, res2.data.orderSn);
          }
        } catch (err) {
          formatAppLog("log", "at pages/payment/payment-records.vue:336", err);
        }
      };
      const handleAlipay = async (orderInfo, orderSn) => {
        try {
          const result = await alipay(orderInfo);
          payResultApi(orderSn);
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleWechatPay = async (orderInfo) => {
        try {
          const result = await wechatPay(orderInfo);
          if (result.status === PAYMENT_STATUS2.SUCCESS) {
            message.value = "微信支付成功";
          }
        } catch (err) {
          message.value = err.message || "微信支付失败";
        }
      };
      const payResultApi = async (orderSn) => {
        try {
          const result = await payResult({ orderSn });
          if (result.data.status == 2) {
            popupType2.value = "success";
            popup.value.open("center");
          }
        } catch (err) {
          message.value = err.message || "支付失败";
        }
      };
      vue.onMounted(() => {
        getAgreementByType();
      });
      const __returned__ = { globalStore, statusBarHeight, consultation, startColor, selectImg, textColor, showMore, avatarImg, titleName, orderData: orderData2, props, planList, planTitle, getlnfo, scrollTop, onPageScroll: onPageScroll2, backFn, gotoPrivacy, content, getAgreementByType, selectPlan, clauseVal, popupType: popupType2, popup, handleClause, closePopup, gotoOrder, gotoIndex, paymentMethod, handlePayment, isLoading, paymentStatus, initPaymentChannels, wechatPay, alipay, PAYMENT_STATUS: PAYMENT_STATUS2, orderPay, handleAlipay, handleWechatPay, payResultApi, ref: vue.ref, watch: vue.watch, onMounted: vue.onMounted, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get articleByType() {
        return articleByType$1;
      }, get usePayment() {
        return usePayment;
      }, get listenerList() {
        return listenerList;
      }, get timeStrToSecondTimestamp() {
        return timeStrToSecondTimestamp;
      }, get payment() {
        return payment;
      }, get wxPay() {
        return wxPay;
      }, get aliPay() {
        return aliPay;
      }, get createListen() {
        return createListen;
      }, get payResult() {
        return payResult;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$n(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "确认订单"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          onScroll: $setup.onPageScroll,
          style: { "height": "100vh" },
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "consultation-content" }, [
            vue.createElementVNode("view", { class: "notice-bar" }, [
              vue.createVNode(_component_uni_icons, {
                type: "sound",
                size: "20",
                color: "#F87171"
              }),
              vue.createElementVNode("view", { class: "notice-text" }, " 为确保沟通顺畅，请提前确认设备是否开启对应麦克风权限>> ")
            ]),
            vue.createElementVNode("view", { class: "user-info-section" }, [
              vue.createElementVNode("image", {
                src: $setup.avatarImg,
                class: "user-avatar"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "user-details" }, [
                vue.createElementVNode(
                  "view",
                  { class: "user-name" },
                  vue.toDisplayString($setup.titleName),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "view",
                  { class: "user-expertise" },
                  vue.toDisplayString($setup.planTitle),
                  1
                  /* TEXT */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "appointment-info" }, [
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "咨询方式"),
                vue.createElementVNode("view", { class: "consultation-methods" }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["method-item", $setup.consultation == 1 ? "method-item-active" : ""])
                    },
                    [
                      vue.createVNode(_component_uni_icons, {
                        type: "compose",
                        size: "20",
                        color: $setup.consultation == 1 ? "#EB9516" : "#959596"
                      }, null, 8, ["color"]),
                      vue.createElementVNode("text", { class: "method-text" }, "视频")
                    ],
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["method-item", $setup.consultation == 2 ? "method-item-active" : ""])
                    },
                    [
                      vue.createVNode(_component_uni_icons, {
                        type: "mic",
                        size: "20",
                        color: $setup.consultation == 2 ? "#EB9516" : "#959596"
                      }, null, 8, ["color"]),
                      vue.createElementVNode("text", { class: "method-text" }, "语音")
                    ],
                    2
                    /* CLASS */
                  ),
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["method-item", $setup.consultation == 3 ? "method-item-active" : ""])
                    },
                    [
                      vue.createVNode(_component_uni_icons, {
                        type: "compose",
                        size: "20",
                        color: $setup.consultation == 3 ? "#EB9516" : "#959596"
                      }, null, 8, ["color"]),
                      vue.createElementVNode("text", { class: "method-text" }, "文字")
                    ],
                    2
                    /* CLASS */
                  )
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-title" }, "咨询方案"),
              vue.createElementVNode("view", { class: "plan-list-container" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.planList, (plan, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: vue.normalizeClass(["plan-item", { "plan-item--active": plan.selected }]),
                      key: index,
                      onClick: ($event) => $setup.selectPlan(plan, index)
                    }, [
                      vue.createElementVNode("view", { class: "plan-item-content" }, [
                        vue.createElementVNode("view", { class: "plan-info" }, [
                          vue.createElementVNode("image", {
                            src: plan.selected ? `/static/auth/${$setup.selectImg}.png` : "/static/auth/not-selected.png",
                            class: "plan-select-icon"
                          }, null, 8, ["src"]),
                          vue.createElementVNode(
                            "view",
                            { class: "plan-name" },
                            "【" + vue.toDisplayString(plan.title) + "】" + vue.toDisplayString(plan.serviceDuration) + "分钟",
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode(
                          "view",
                          { class: "plan-price" },
                          "￥" + vue.toDisplayString(plan.quoteAmount),
                          1
                          /* TEXT */
                        )
                      ])
                    ], 10, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-title" }, "服务须知"),
              vue.createElementVNode("view", { class: "please-note" }, [
                vue.createElementVNode("view", { class: "note" }, [
                  vue.createElementVNode("view", null, "这里是内容，请仔细阅读了解是否存在以下描述的情况"),
                  vue.createElementVNode(
                    "view",
                    {
                      class: "note-text",
                      style: vue.normalizeStyle({ "max-height": $setup.showMore ? "none" : "200rpx" })
                    },
                    [
                      vue.createElementVNode("view", { innerHTML: $setup.content }, null, 8, ["innerHTML"])
                    ],
                    4
                    /* STYLE */
                  ),
                  vue.createElementVNode("view", {
                    class: "text-display",
                    onClick: _cache[0] || (_cache[0] = ($event) => $setup.showMore = !$setup.showMore)
                  }, [
                    vue.createVNode(_component_uni_icons, {
                      type: $setup.showMore ? "up" : "down",
                      size: "20",
                      color: "#959596"
                    }, null, 8, ["type"])
                  ]),
                  vue.createElementVNode("view", { class: "clause" }, [
                    vue.createElementVNode("view", {
                      class: "clause-text disagree",
                      onClick: _cache[1] || (_cache[1] = ($event) => $setup.handleClause("disagree"))
                    }, [
                      vue.createElementVNode("image", {
                        src: `/static/auth/${$setup.clauseVal == "disagree" ? $setup.selectImg : "not-selected"}.png`,
                        class: "plan-select-icon"
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass($setup.clauseVal == "disagree" ? "clause-txt" : "")
                        },
                        "存在以上情况",
                        2
                        /* CLASS */
                      )
                    ]),
                    vue.createElementVNode("view", {
                      class: "clause-text agree",
                      onClick: _cache[3] || (_cache[3] = ($event) => $setup.handleClause("agree"))
                    }, [
                      vue.createElementVNode("image", {
                        src: `/static/auth/${$setup.clauseVal == "agree" ? $setup.selectImg : "not-selected"}.png`,
                        class: "plan-select-icon"
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass($setup.clauseVal == "agree" ? "clause-txt" : "")
                        },
                        [
                          vue.createTextVNode("不存在以上情况，且同意"),
                          vue.createElementVNode(
                            "text",
                            {
                              style: vue.normalizeStyle({ color: $setup.textColor }),
                              onClick: _cache[2] || (_cache[2] = ($event) => $setup.gotoPrivacy("用户下单服务协议"))
                            },
                            "《用户下单服务协议》",
                            4
                            /* STYLE */
                          )
                        ],
                        2
                        /* CLASS */
                      )
                    ])
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", {
              class: "consultation-plan-section",
              style: { "margin-bottom": "100rpx" }
            }, [
              vue.createElementVNode("view", { class: "plan-title" }, "支付方式"),
              vue.createElementVNode("view", { class: "please-note" }, [
                vue.createElementVNode("view", {
                  class: "note-pay",
                  onClick: _cache[4] || (_cache[4] = ($event) => $setup.handlePayment("weixin"))
                }, [
                  vue.createElementVNode("view", { class: "pay-item" }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-wechatimg.png" }),
                    vue.createElementVNode("view", null, "微信支付")
                  ]),
                  vue.createElementVNode("image", {
                    src: `/static/auth/${$setup.paymentMethod == "weixin" ? $setup.selectImg : "not-selected"}.png`,
                    style: { "width": "25rpx", "height": "25rpx" }
                  }, null, 8, ["src"])
                ]),
                vue.createElementVNode("view", {
                  class: "note-pay",
                  onClick: _cache[5] || (_cache[5] = ($event) => $setup.handlePayment("alipay"))
                }, [
                  vue.createElementVNode("view", { class: "pay-item" }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-alipayimg.png" }),
                    vue.createElementVNode("view", null, "支付宝支付")
                  ]),
                  vue.createElementVNode("image", {
                    src: `/static/auth/${$setup.paymentMethod == "alipay" ? $setup.selectImg : "not-selected"}.png`,
                    style: { "width": "25rpx", "height": "25rpx" }
                  }, null, 8, ["src"])
                ])
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createElementVNode("view", { class: "recharge-pay-footer" }, [
        vue.createElementVNode("view", { style: { "display": "flex", "margin-left": "20rpx" } }, [
          vue.createElementVNode("view", { class: "recharge-pay-price" }, [
            vue.createTextVNode(
              "¥" + vue.toDisplayString($setup.orderData.price),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", null, "元/分钟")
          ])
        ]),
        vue.createElementVNode("view", { style: { "display": "flex", "margin-right": "20rpx" } }, [
          vue.createElementVNode("button", {
            disabled: $setup.clauseVal == "disagree",
            class: "recharge-sure-price",
            onClick: $setup.orderPay
          }, "提交订单", 8, ["disabled"])
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "center",
          animation: false
        },
        {
          default: vue.withCtx(() => [
            $setup.popupType == "service" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "popup-container"
            }, [
              vue.createElementVNode("view", { class: "popup-title" }, [
                vue.createVNode(_component_uni_icons, {
                  type: "notification-filled",
                  size: "40",
                  color: "#35CA95"
                })
              ]),
              vue.createElementVNode("view", { class: "popup-content" }, " 抱歉，您存在的情况不适于咨询， 建议您选择更专业治疗，以便于给您提 供更好的服务。 "),
              vue.createElementVNode("view", { class: "popup-btn" }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "知道了")
              ])
            ])) : vue.createCommentVNode("v-if", true),
            $setup.popupType == "success" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "popup-order"
            }, [
              vue.createElementVNode("view", { class: "popup-order-header" }, [
                vue.createVNode(_component_uni_icons, {
                  "custom-prefix": "iconfont",
                  type: "icon-smile-full",
                  size: "30",
                  color: "#f7db79",
                  class: "icon"
                }),
                vue.createElementVNode("view", { class: "popup-order-title" }, [
                  vue.createElementVNode("view", null, "恭喜您"),
                  vue.createElementVNode("view", null, "订单已成功支付！")
                ])
              ]),
              vue.createElementVNode("view", { class: "popup-order-btn" }, [
                vue.createElementVNode("view", { onClick: $setup.gotoOrder }, "查看订单"),
                vue.createElementVNode("view", null, "|"),
                vue.createElementVNode("view", { onClick: $setup.gotoIndex }, "返回首页")
              ])
            ])) : vue.createCommentVNode("v-if", true)
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesPaymentPaymentRecords = /* @__PURE__ */ _export_sfc(_sfc_main$o, [["render", _sfc_render$n], ["__scopeId", "data-v-82fe96ef"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/payment-records.vue"]]);
  const _imports_1$1 = "/static/index/warnings.png";
  const _sfc_main$n = {
    __name: "order-details",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "bf2277ae-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const orderInfo = vue.ref({});
      const typeId = vue.ref({});
      const serviceExperience = vue.ref({});
      const getStatusText = (status) => {
        switch (status) {
          case 1:
            return "待付款";
          case 2:
            return "待咨询";
          case 3:
            return "待评价";
          case 4:
            return "已完成";
          case 5:
            return "交易关闭";
          case 6:
            return "退款";
          default:
            return "";
        }
      };
      onLoad((options) => {
        typeId.value = JSON.parse(options.type);
        orderInfo.value = JSON.parse(options.status);
        formatAppLog("log", "at pages/payment/order-details.vue:204", typeId.value, orderInfo.value);
        orderDetailApi(orderInfo.value.orderSn);
        const api = options.colorType == 1 ? getServiceExperienceCon : getServiceExperience;
        api({ id }).then((res2) => {
          serviceExperience.value = res2.data;
        });
      });
      const orderDetailApi = async (id2) => {
        try {
          const { data } = await orderDetail(id2);
          formatAppLog("log", "at pages/payment/order-details.vue:216", data);
        } catch (error) {
          formatAppLog("log", "at pages/payment/order-details.vue:219", error);
        }
      };
      onShow(() => {
      });
      const scrollTop = vue.ref(0);
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const gotoPrivacy = (type) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type}`
        });
      };
      const handleComplaint = () => {
        uni.navigateTo({
          url: "/pages/settings/complaint?id=" + orderInfo.value.teacherUserId
        });
      };
      const handleComment = () => {
        uni.navigateTo({
          url: `/pages/payment/order/evaluation-order?order=${JSON.stringify(orderInfo.value)}&colorType=1`
        });
      };
      const handleChat = () => {
        const { teacherUserId, teacherName, teacherAvatar } = orderInfo.value;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${teacherUserId}&name=${teacherName}&avatar=${teacherAvatar}&purchase=true`
        });
      };
      const content = vue.ref("");
      const getAgreementByType = async () => {
        try {
          const queryParams2 = {
            current: 1,
            size: 10,
            title: "咨询服务须知"
          };
          let { data } = await articleByType(queryParams2);
          content.value = data.records[0].content;
        } catch (error) {
          formatAppLog("log", "at pages/payment/order-details.vue:274", error);
        }
      };
      getAgreementByType();
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const popup = vue.ref(null);
      const handleClause = (val2) => {
        popup.value.open("center");
      };
      const closePopup = () => {
        uni.navigateTo({
          url: `/pages/payment/order/refund-order?order=${JSON.stringify(orderInfo.value)}`
        });
        popup.value.close();
      };
      const paymentMethod = vue.ref("weixin");
      const {
        isLoading,
        paymentStatus,
        initPaymentChannels,
        wechatPay,
        alipay,
        PAYMENT_STATUS: PAYMENT_STATUS2
      } = usePayment();
      const orderPay = async (id2) => {
        try {
          const api = paymentMethod.value == "weixin" ? wxPay : aliPay;
          const type = paymentMethod.value == "weixin" ? "wxPay" : "aliPay";
          const res2 = await orderList(orderData.value);
          const { data } = await api({
            orderId: res2.data.orderSn,
            amount: res2.data.amount,
            type,
            status: 1
          });
          if (paymentMethod.value == "weixin") {
            handleWechatPay(data.orderString);
          } else {
            handleAlipay(data.orderString, res2.data.orderSn);
          }
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleAlipay = async (orderInfo2, orderSn) => {
        try {
          const result = await alipay(orderInfo2);
          payResultApi(orderSn);
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleWechatPay = async (orderInfo2) => {
        try {
          const result = await wechatPay(orderInfo2);
          if (result.status === PAYMENT_STATUS2.SUCCESS) {
            message.value = "微信支付成功";
          }
        } catch (err) {
          message.value = err.message || "微信支付失败";
        }
      };
      const payResultApi = async (orderSn) => {
        try {
          const result = await payResult({ orderSn });
          if (result.data.status == 2) {
            popupType.value = "success";
            popup.value.open("center");
          }
        } catch (err) {
          message.value = err.message || "支付失败";
        }
      };
      const __returned__ = { globalStore, statusBarHeight, orderInfo, typeId, serviceExperience, getStatusText, orderDetailApi, scrollTop, onPageScroll: onPageScroll2, backFn, gotoPrivacy, handleComplaint, handleComment, handleChat, content, getAgreementByType, copyText, popup, handleClause, closePopup, paymentMethod, isLoading, paymentStatus, initPaymentChannels, wechatPay, alipay, PAYMENT_STATUS: PAYMENT_STATUS2, orderPay, handleAlipay, handleWechatPay, payResultApi, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get payment() {
        return payment;
      }, get wxPay() {
        return wxPay;
      }, get aliPay() {
        return aliPay;
      }, get orderList() {
        return orderList;
      }, get payResult() {
        return payResult;
      }, get getUserInfo() {
        return getUserInfo;
      }, get usePayment() {
        return usePayment;
      }, get orderDetail() {
        return orderDetail;
      }, get getServiceExperience() {
        return getServiceExperience;
      }, get getServiceExperienceCon() {
        return getServiceExperienceCon;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$m(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "订单详情"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          onScroll: $setup.onPageScroll,
          style: { "height": "100vh" },
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "consultation-content" }, [
            vue.createElementVNode("view", { class: "notice-bar" }, [
              vue.createVNode(_component_uni_icons, {
                type: "sound",
                size: "20",
                color: "#F87171"
              }),
              vue.createElementVNode("view", { class: "notice-text" }, " 为确保沟通顺畅，请提前确认设备是否开启对应麦克风权限>> ")
            ]),
            $setup.orderInfo.status == 1 || $setup.orderInfo.status == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "appointment-info"
            }, [
              vue.createElementVNode("view", {
                class: "info-item",
                style: { "margin-top": "0" }
              }, [
                vue.createElementVNode("view", {
                  class: "info-label",
                  style: { "color": "#FF8F1F" }
                }, [
                  vue.createVNode(_component_uni_icons, {
                    "custom-prefix": "iconfont",
                    type: "icon-deng",
                    size: "18",
                    color: "#FF8F1F",
                    class: "icon"
                  }),
                  vue.createTextVNode(
                    " " + vue.toDisplayString($setup.getStatusText($setup.orderInfo.status)),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                $setup.orderInfo.status == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "info-label info-text"
                }, [
                  vue.createTextVNode("订单自动释放剩余 "),
                  vue.createElementVNode(
                    "text",
                    null,
                    vue.toDisplayString($setup.orderInfo.remainingDuration),
                    1
                    /* TEXT */
                  )
                ])) : vue.createCommentVNode("v-if", true),
                $setup.orderInfo.status == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "info-label info-text"
                }, [
                  vue.createTextVNode("订单服务时长剩余 "),
                  vue.createElementVNode(
                    "text",
                    null,
                    vue.toDisplayString($setup.orderInfo.remainingDuration),
                    1
                    /* TEXT */
                  )
                ])) : vue.createCommentVNode("v-if", true)
              ])
            ])) : vue.createCommentVNode("v-if", true),
            vue.createElementVNode("view", { class: "user-info-section" }, [
              vue.createElementVNode("view", { class: "user-details" }, [
                vue.createElementVNode("view", { class: "user-name" }, [
                  vue.createElementVNode("image", {
                    src: $setup.orderInfo.teacherAvatar,
                    class: "user-avatar"
                  }, null, 8, ["src"]),
                  vue.createElementVNode("view", { class: "user-info" }, [
                    vue.createElementVNode(
                      "view",
                      null,
                      vue.toDisplayString($setup.orderInfo.teacherName),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "user-expertise" }, [
                      vue.createElementVNode(
                        "text",
                        null,
                        "123" + vue.toDisplayString($setup.serviceExperience.platformHours) + "+",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 小时经验 "),
                      vue.createElementVNode(
                        "text",
                        null,
                        "13" + vue.toDisplayString($setup.serviceExperience.years) + "年",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 从业 "),
                      vue.createElementVNode(
                        "text",
                        null,
                        "2" + vue.toDisplayString($setup.serviceExperience.commentCount) + "+",
                        1
                        /* TEXT */
                      ),
                      vue.createTextVNode(" 评价 ")
                    ])
                  ])
                ]),
                vue.createElementVNode("view", {
                  class: "user-but",
                  onClick: $setup.handleChat
                }, "咨询历史")
              ]),
              vue.createVNode(_component_uni_icons, {
                type: "chatboxes",
                color: "#35ca95",
                size: "30",
                onClick: $setup.handleChat
              })
            ]),
            vue.createElementVNode("view", { class: "appointment-info" }, [
              vue.createElementVNode("view", { class: "info-title" }, "服务信息"),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "购买时长："),
                vue.createElementVNode("view", { class: "consultation-methods" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "method-text" },
                    vue.toDisplayString($setup.orderInfo.buyDuration),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "服务方式："),
                vue.createElementVNode("view", { class: "consultation-methods" }, [
                  $setup.orderInfo.consultTypeDesc == "视频" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "method-item"
                  }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "videocam",
                      size: "20",
                      color: "#34A76F"
                    }),
                    vue.createElementVNode("text", { class: "method-text" }, "视频")
                  ])) : vue.createCommentVNode("v-if", true),
                  $setup.orderInfo.consultTypeDesc == "语音" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "method-item"
                  }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "mic",
                      size: "20",
                      color: "#34A76F"
                    }),
                    vue.createElementVNode("text", { class: "method-text" }, "语音")
                  ])) : vue.createCommentVNode("v-if", true),
                  $setup.orderInfo.consultTypeDesc == "文本" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 2,
                    class: "method-item"
                  }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "mic",
                      size: "20",
                      color: "#34A76F"
                    }),
                    vue.createElementVNode("text", { class: "method-text" }, "文本")
                  ])) : vue.createCommentVNode("v-if", true)
                ])
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "预约时间："),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  vue.toDisplayString($setup.orderInfo.reserveDate),
                  1
                  /* TEXT */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "appointment-info" }, [
              vue.createElementVNode("view", { class: "info-title" }, [
                vue.createElementVNode("view", null, "订单信息"),
                $setup.orderInfo.status == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "info-refund",
                  onClick: $setup.handleClause
                }, "我要退款")) : vue.createCommentVNode("v-if", true)
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "订单编号"),
                vue.createElementVNode("view", {
                  class: "consultation-methods",
                  style: { "display": "block" }
                }, [
                  vue.createElementVNode("image", {
                    src: _imports_0$5,
                    style: { "width": "22rpx", "height": "22rpx", "margin-right": "10rpx" },
                    onClick: _cache[0] || (_cache[0] = ($event) => $setup.copyText($setup.orderInfo.orderSn))
                  }),
                  vue.createElementVNode(
                    "text",
                    { class: "method-text" },
                    vue.toDisplayString($setup.orderInfo.orderSn),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "创建时间"),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  vue.toDisplayString($setup.orderInfo.createTime),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "订单金额"),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  "￥" + vue.toDisplayString($setup.orderInfo.orderMoney),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "支付方式"),
                vue.createElementVNode("view", { class: "consultation-methods" }, [
                  $setup.orderInfo.payType == "wxpay" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "method-item"
                  }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-wechatimg.png" }),
                    vue.createElementVNode("text", { class: "method-text" }, "微信支付")
                  ])) : (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "method-item"
                  }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-alipayimg.png" }),
                    vue.createElementVNode("text", { class: "method-text" }, "支付宝支付")
                  ]))
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "appointment-info" }, [
              vue.createElementVNode("view", { class: "info-protocol" }, [
                vue.createElementVNode("view", null, [
                  vue.createTextVNode("查看"),
                  vue.createElementVNode("text", {
                    style: { "color": "#34a76f" },
                    onClick: _cache[1] || (_cache[1] = ($event) => $setup.gotoPrivacy("用户下单服务协议"))
                  }, "《用户下单服务协议》")
                ]),
                vue.createElementVNode("view", {
                  style: { "color": "#898686" },
                  onClick: $setup.handleComplaint
                }, "投诉")
              ])
            ]),
            $setup.orderInfo.status == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              onClick: $setup.orderPay,
              class: "appointment-but"
            }, "立即支付")) : vue.createCommentVNode("v-if", true),
            $setup.orderInfo.status == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 2,
              onClick: $setup.handleChat,
              class: "appointment-but"
            }, "立即联系")) : vue.createCommentVNode("v-if", true),
            $setup.orderInfo.status == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 3,
              onClick: $setup.handleComment,
              class: "appointment-but"
            }, "立即评价")) : vue.createCommentVNode("v-if", true)
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "center",
          animation: false
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-container" }, [
              vue.createElementVNode("view", { class: "popup-title" }, [
                vue.createElementVNode("view", null, "退款须知"),
                vue.createElementVNode("image", {
                  src: _imports_1$1,
                  style: { "width": "33rpx", "height": "33rpx", "margin-right": "10rpx" }
                })
              ]),
              vue.createElementVNode("view", { class: "popup-content" }, [
                vue.createElementVNode("view", { class: "list-item" }, "订单剩余未服务时长在有效期内可退"),
                vue.createElementVNode("view", { class: "list-item" }, "如拨打过且通话时长>3分钟，根据实际使用时长，按照原价进行扣减后退费;"),
                vue.createElementVNode("view", { class: "list-item" }, "文字倾诉订单下单后未回复的，自动退款;")
              ]),
              vue.createElementVNode("view", { class: "popup-btn" }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "我知道了")
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesPaymentOrderDetails = /* @__PURE__ */ _export_sfc(_sfc_main$n, [["render", _sfc_render$m], ["__scopeId", "data-v-bf2277ae"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/payment/order-details.vue"]]);
  const _sfc_main$m = {
    name: "u-checkbox",
    emits: ["update:modelValue", "input", "change"],
    props: {
      // 是否为选中状态
      value: {
        type: Boolean,
        default: false
      },
      modelValue: {
        type: Boolean,
        default: false
      },
      // checkbox的名称
      name: {
        type: [String, Number],
        default: ""
      },
      // 形状，square为方形，circle为圆型
      shape: {
        type: String,
        default: ""
      },
      // 是否禁用
      disabled: {
        type: [String, Boolean],
        default: ""
      },
      // 是否禁止点击提示语选中复选框
      labelDisabled: {
        type: [String, Boolean],
        default: ""
      },
      // 选中状态下的颜色，如设置此值，将会覆盖checkboxGroup的activeColor值
      activeColor: {
        type: String,
        default: ""
      },
      // 图标的大小，单位rpx
      iconSize: {
        type: [String, Number],
        default: ""
      },
      // label的字体大小，rpx单位
      labelSize: {
        type: [String, Number],
        default: ""
      },
      // 组件的整体大小
      size: {
        type: [String, Number],
        default: ""
      },
      // 设置不确定状态，仅负责样式控制
      indeterminate: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {
        parentDisabled: false,
        newParams: {},
        parent: null
      };
    },
    created() {
      this.parent = this.$u.$parent.call(this, "u-checkbox-group");
      this.parent && this.parent.children.push(this);
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      // 是否禁用，如果父组件u-checkbox-group禁用的话，将会忽略子组件的配置
      isDisabled() {
        return this.disabled !== "" ? this.disabled : this.parent ? this.parent.disabled : false;
      },
      // 是否禁用label点击
      isLabelDisabled() {
        return this.labelDisabled !== "" ? this.labelDisabled : this.parent ? this.parent.labelDisabled : false;
      },
      // 组件尺寸，对应size的值，默认值为34rpx
      checkboxSize() {
        return this.size ? this.size : this.parent ? this.parent.size : 34;
      },
      // 组件的勾选图标的尺寸，默认20
      checkboxIconSize() {
        return this.iconSize ? this.iconSize : this.parent ? this.parent.iconSize : 20;
      },
      // 组件选中激活时的颜色
      elActiveColor() {
        return this.activeColor ? this.activeColor : this.parent ? this.parent.activeColor : "primary";
      },
      // 组件的形状
      elShape() {
        return this.shape ? this.shape : this.parent ? this.parent.shape : "square";
      },
      iconStyle() {
        let style = {};
        if (this.elActiveColor && this.valueCom && !this.isDisabled) {
          style.borderColor = this.elActiveColor;
          style.backgroundColor = this.elActiveColor;
        }
        style.width = this.$u.addUnit(this.checkboxSize);
        style.height = this.$u.addUnit(this.checkboxSize);
        return style;
      },
      // checkbox内部的勾选图标，如果选中状态，为白色，否则为透明色即可
      iconColor() {
        if (this.indeterminate)
          return "#ffffff";
        return this.valueCom ? "#ffffff" : "transparent";
      },
      iconClass() {
        let classes = [];
        classes.push("u-checkbox__icon-wrap--" + this.elShape);
        if (this.valueCom == true)
          classes.push("u-checkbox__icon-wrap--checked");
        if (this.isDisabled)
          classes.push("u-checkbox__icon-wrap--disabled");
        if (this.valueCom && this.isDisabled)
          classes.push("u-checkbox__icon-wrap--disabled--checked");
        if (this.indeterminate === true)
          classes.push("u-checkbox__icon-wrap--indeterminate");
        return classes.join(" ");
      },
      checkboxStyle() {
        let style = {};
        if (this.parent && this.parent.width) {
          style.width = this.parent.width;
          style.flex = `0 0 ${this.parent.width}`;
        }
        if (this.parent && this.parent.wrap) {
          style.width = "100%";
          style.flex = "0 0 100%";
        }
        return style;
      }
    },
    mounted() {
      this._emitEvent();
    },
    watch: {
      valueCom: {
        handler: function(newVal, oldVal) {
          this._emitEvent();
        }
      }
    },
    methods: {
      _emitEvent() {
        let value = this.valueCom;
        let obj = {
          value,
          name: this.name
        };
        if (this.parent && this.parent.emitEvent)
          this.parent.emitEvent(obj);
      },
      onClickLabel() {
        if (!this.isLabelDisabled && !this.isDisabled) {
          this.setValue();
        }
      },
      toggle() {
        if (!this.isDisabled) {
          this.setValue();
        }
      },
      emitEvent() {
        let obj = {
          value: !this.valueCom,
          name: this.name
        };
        this.$emit("change", obj);
        if (this.parent && this.parent.emitEvent)
          this.parent.emitEvent(obj);
      },
      // 设置input的值，这里通过input事件，设置通过v-model绑定的组件的值
      setValue() {
        let value = this.valueCom;
        let checkedNum = 0;
        if (this.parent && this.parent.children) {
          this.parent.children.map((val2) => {
            if (val2.valueCom || val2.value)
              checkedNum++;
          });
        }
        if (value == true) {
          this.emitEvent();
          this.$emit("input", !value);
          this.$emit("update:modelValue", !value);
        } else {
          if (this.parent && checkedNum >= this.parent.max) {
            return this.$u.toast(`最多可选${this.parent.max}项`);
          }
          this.emitEvent();
          this.$emit("input", !value);
          this.$emit("update:modelValue", !value);
        }
      }
    }
  };
  function _sfc_render$l(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: "u-checkbox",
        style: vue.normalizeStyle([$options.checkboxStyle])
      },
      [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["u-checkbox__icon-wrap", [$options.iconClass]]),
            onClick: _cache[0] || (_cache[0] = (...args) => $options.toggle && $options.toggle(...args)),
            style: vue.normalizeStyle([$options.iconStyle])
          },
          [
            $props.indeterminate ? (vue.openBlock(), vue.createBlock(_component_u_icon, {
              key: 0,
              class: "u-checkbox__icon-wrap__icon",
              name: "minus",
              size: $options.checkboxIconSize,
              color: $options.iconColor
            }, null, 8, ["size", "color"])) : (vue.openBlock(), vue.createBlock(_component_u_icon, {
              key: 1,
              class: "u-checkbox__icon-wrap__icon",
              name: "checkbox-mark",
              size: $options.checkboxIconSize,
              color: $options.iconColor
            }, null, 8, ["size", "color"]))
          ],
          6
          /* CLASS, STYLE */
        ),
        vue.createElementVNode(
          "view",
          {
            class: "u-checkbox__label",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.onClickLabel && $options.onClickLabel(...args)),
            style: vue.normalizeStyle({
              fontSize: _ctx.$u.addUnit($props.labelSize)
            })
          },
          [
            vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
          ],
          4
          /* STYLE */
        )
      ],
      4
      /* STYLE */
    );
  }
  const __easycom_2$1 = /* @__PURE__ */ _export_sfc(_sfc_main$m, [["render", _sfc_render$l], ["__scopeId", "data-v-cafae08d"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/vk-uview-ui/components/u-checkbox/u-checkbox.vue"]]);
  const _sfc_main$l = {
    __name: "register",
    setup(__props, { expose: __expose }) {
      __expose();
      const border = vue.ref(true);
      const agree = vue.ref(true);
      const codeText = vue.ref("获取验证码");
      const form = vue.ref({
        userName: null,
        code: null,
        password: null
      });
      const uCode = vue.ref(null);
      const countdown = vue.ref(0);
      const gotoLogin = () => {
        uni.navigateBack();
      };
      const gotoPrivacy = () => {
        uni.switchTab({
          url: "/pages/index/index"
        });
      };
      const isValidPhone = (num) => /^1[3-9]\d{9}$/.test(num);
      const getCode = async () => {
        if (countdown.value > 0)
          return;
        if (!form.value.userName) {
          uni.showToast({
            title: "请输入手机号",
            icon: "none"
          });
          return;
        }
        if (!isValidPhone(form.value.userName)) {
          uni.showToast({
            title: "手机号格式不正确",
            icon: "none"
          });
          return;
        }
        let resp = await sendSms({
          phone: form.value.userName,
          type: 2
        });
        if (resp.code == 0) {
          uni.showToast({
            title: "验证码已发送",
            icon: "none"
          });
          countdown.value = 60;
          const timer = setInterval(() => {
            countdown.value--;
            if (countdown.value <= 0)
              clearInterval(timer);
          }, 1e3);
        }
      };
      const gotoRegister = async () => {
        if (!form.value.userName) {
          uni.showToast({
            title: "请输入手机号",
            icon: "error"
          });
          return;
        }
        if (!form.value.code) {
          uni.showToast({
            title: "请输入验证码",
            icon: "error"
          });
          return;
        }
        if (!form.value.password) {
          uni.showToast({
            title: "请输入密码",
            icon: "error"
          });
          return;
        }
        if (!agree.value) {
          uni.showToast({
            title: "请同意协议",
            icon: "error"
          });
        }
        let resp = await register(form.value);
        let userInfo = resp.data;
        formatAppLog("log", "at pages/register/register.vue:145", resp);
        uni.setStorageSync("token", resp.data.token);
        uni.setStorageSync("currentUser", userInfo);
        if (resp.code == 0) {
          uni.navigateTo({
            url: "/pages/supplementInfo/supplementInfo"
          });
        }
      };
      const __returned__ = { border, agree, codeText, form, uCode, countdown, gotoLogin, gotoPrivacy, isValidPhone, getCode, gotoRegister, ref: vue.ref, get sendSms() {
        return sendSms;
      }, get register() {
        return register;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$k(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    const _component_u_checkbox = resolveEasycom(vue.resolveDynamicComponent("u-checkbox"), __easycom_2$1);
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-box" }, [
      vue.createElementVNode("view", { class: "login-bg" }, [
        vue.createElementVNode("view", { class: "bg-top" }),
        vue.createElementVNode("view", { class: "bg-top-content" }, [
          vue.createVNode(_component_u_icon, {
            name: "arrow-left",
            size: "42",
            onClick: $setup.gotoLogin
          }),
          vue.createElementVNode("view", { style: { "margin-left": "30rpx", "margin-right": "30rpx" } }, [
            vue.createElementVNode("view", { class: "welcome" }, [
              vue.createElementVNode("text", null, "欢迎注册"),
              vue.createTextVNode(),
              vue.createElementVNode("text", { class: "txt" }, "「麦苗倾诉」")
            ]),
            vue.createElementVNode("view", { class: "msg" }, "注册账号发现更多精彩"),
            vue.createElementVNode("view", { style: {} }, [
              vue.createElementVNode("view", { class: "login-form" }, [
                vue.createElementVNode("view", { class: "input-box" }, [
                  vue.withDirectives(vue.createElementVNode(
                    "input",
                    {
                      class: "input",
                      type: "number",
                      "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.form.userName = $event),
                      placeholder: "请输入手机号"
                    },
                    null,
                    512
                    /* NEED_PATCH */
                  ), [
                    [vue.vModelText, $setup.form.userName]
                  ])
                ]),
                vue.createElementVNode("view", { class: "input-box code-box" }, [
                  vue.withDirectives(vue.createElementVNode(
                    "input",
                    {
                      class: "input",
                      type: "number",
                      "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.form.code = $event),
                      placeholder: "请输入验证码"
                    },
                    null,
                    512
                    /* NEED_PATCH */
                  ), [
                    [vue.vModelText, $setup.form.code]
                  ]),
                  vue.createElementVNode("view", { class: "divider" }),
                  vue.createElementVNode(
                    "text",
                    {
                      class: "get-code",
                      onClick: $setup.getCode
                    },
                    vue.toDisplayString($setup.countdown > 0 ? $setup.countdown + "s" : "获取验证码"),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "input-box" }, [
                  vue.withDirectives(vue.createElementVNode(
                    "input",
                    {
                      class: "input",
                      type: "password",
                      "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.form.password = $event),
                      placeholder: "请输入密码"
                    },
                    null,
                    512
                    /* NEED_PATCH */
                  ), [
                    [vue.vModelText, $setup.form.password]
                  ])
                ]),
                vue.createElementVNode("view", { style: { "margin-top": "80rpx" } }, [
                  vue.createVNode(_component_u_button, {
                    type: "success",
                    shape: "circle",
                    onClick: $setup.gotoRegister
                  }, {
                    default: vue.withCtx(() => [
                      vue.createTextVNode("确定注册")
                    ]),
                    _: 1
                    /* STABLE */
                  })
                ]),
                vue.createElementVNode("view", { style: { "text-align": "center", "margin-top": "20rpx" } }, [
                  vue.createElementVNode("text", null, "已有账号，现在去"),
                  vue.createElementVNode("text", {
                    style: { "color": "#34A755" },
                    onClick: $setup.gotoLogin
                  }, "登录>>")
                ])
              ])
            ])
          ])
        ])
      ]),
      vue.createElementVNode("view", { class: "agree" }, [
        vue.createVNode(_component_u_checkbox, {
          shape: "circle",
          "active-color": "#1EBC80",
          modelValue: $setup.agree,
          "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $setup.agree = $event),
          "label-size": "24"
        }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("注册即代表同意 "),
            vue.createElementVNode("text", {
              class: "txt",
              onClick: _cache[3] || (_cache[3] = ($event) => $setup.gotoPrivacy(1))
            }, "《用户注册协议》"),
            vue.createTextVNode("和"),
            vue.createElementVNode("text", {
              class: "txt",
              onClick: _cache[4] || (_cache[4] = ($event) => $setup.gotoPrivacy(2))
            }, "《隐私协议》")
          ]),
          _: 1
          /* STABLE */
        }, 8, ["modelValue"])
      ])
    ]);
  }
  const PagesRegisterRegister = /* @__PURE__ */ _export_sfc(_sfc_main$l, [["render", _sfc_render$k], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/register/register.vue"]]);
  const _sfc_main$k = {
    __name: "settings",
    setup(__props, { expose: __expose }) {
      __expose();
      const maskPhone = (phone) => {
        if (!phone)
          return "";
        const s2 = String(phone);
        return s2.length >= 7 ? s2.slice(0, 3) + "****" + s2.slice(-4) : s2;
      };
      const items = vue.ref([
        { title: "账号与安全", value: "", route: "/pages/account/security" },
        {
          title: "隐私政策",
          value: "",
          route: "/pages/webview/webview?type=隐私政策"
        },
        {
          title: "用户协议",
          value: "",
          route: "/pages/webview/webview?type=用户协议"
        },
        { title: "关于麦苗倾诉", value: "", route: "/pages/webview/webview?type=关于麦苗倾诉" },
        { title: "帮助中心", value: "", route: "/pages/settings/help-center" }
      ]);
      const toLogout = () => {
        uni.showModal({
          title: "退出登录",
          content: "确定退出登录？",
          confirmText: "确定",
          cancelText: "取消",
          success(e2) {
            if (e2.confirm) {
              uni.clearStorageSync();
              uni.navigateTo({
                url: "/pages/login/login"
              });
            }
          }
        });
      };
      const onItemClick = (item) => {
        if (item.route) {
          uni.navigateTo({ url: item.route });
        } else {
          uni.showToast({ title: "未配置跳转", icon: "none" });
        }
      };
      const __returned__ = { maskPhone, items, toLogout, onItemClick, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$j(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    const _component_u_button = resolveEasycom(vue.resolveDynamicComponent("u-button"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "page" }, [
      vue.createElementVNode("view", { class: "setting-list" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.items, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: index,
              class: "setting-item",
              onClick: ($event) => $setup.onItemClick(item)
            }, [
              vue.createElementVNode("view", { class: "left" }, [
                vue.createElementVNode(
                  "text",
                  { class: "title" },
                  vue.toDisplayString(item.title),
                  1
                  /* TEXT */
                ),
                item.sub ? (vue.openBlock(), vue.createElementBlock(
                  "text",
                  {
                    key: 0,
                    class: "sub"
                  },
                  vue.toDisplayString(item.sub),
                  1
                  /* TEXT */
                )) : vue.createCommentVNode("v-if", true)
              ]),
              vue.createElementVNode("view", { class: "right" }, [
                item.value ? (vue.openBlock(), vue.createElementBlock(
                  "text",
                  {
                    key: 0,
                    class: "value"
                  },
                  vue.toDisplayString(item.value),
                  1
                  /* TEXT */
                )) : vue.createCommentVNode("v-if", true),
                vue.createVNode(_component_u_icon, {
                  name: "arrow-right",
                  size: "28",
                  color: "#CFCFCF"
                })
              ])
            ], 8, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("view", { class: "bottom-space" }),
      vue.createElementVNode("view", { style: { "margin": "30rpx" } }, [
        vue.createVNode(_component_u_button, {
          type: "error",
          onClick: $setup.toLogout
        }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("退出登录")
          ]),
          _: 1
          /* STABLE */
        })
      ])
    ]);
  }
  const PagesSettingsSettings = /* @__PURE__ */ _export_sfc(_sfc_main$k, [["render", _sfc_render$j], ["__scopeId", "data-v-7fad0a1c"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/settings/settings.vue"]]);
  const _sfc_main$j = {
    __name: "security",
    setup(__props, { expose: __expose }) {
      __expose();
      const maskPhone = (phone) => {
        if (!phone)
          return "";
        const s2 = String(phone);
        return s2.length >= 7 ? s2.slice(0, 3) + "****" + s2.slice(-4) : s2;
      };
      const items = vue.ref([
        { title: "手机号", value: maskPhone("19512348441"), route: "/pages/account/phone" },
        { title: "登录密码设置 / 修改", value: "未设置", route: "/pages/account/password" },
        { title: "安全锁设置", value: "未设置", route: "/pages/account/safelock" },
        { title: "微信绑定", value: "未绑定", route: "/pages/account/wechat" },
        { title: "微博绑定", value: "未绑定", route: "/pages/account/weibo" },
        { title: "QQ 绑定", value: "未绑定", route: "/pages/account/qq" },
        { title: "账号注销", value: "", route: "/pages/account/delete" }
      ]);
      const onItemClick = (item) => {
        if (item.route) {
          uni.navigateTo({ url: item.route });
        } else {
          uni.showToast({ title: "未配置跳转", icon: "none" });
        }
      };
      const __returned__ = { maskPhone, items, onItemClick, ref: vue.ref };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$i(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_icon = resolveEasycom(vue.resolveDynamicComponent("u-icon"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "page" }, [
      vue.createElementVNode("view", { class: "setting-list" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.items, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: index,
              class: "setting-item",
              onClick: ($event) => $setup.onItemClick(item)
            }, [
              vue.createElementVNode("view", { class: "left" }, [
                vue.createElementVNode(
                  "text",
                  { class: "title" },
                  vue.toDisplayString(item.title),
                  1
                  /* TEXT */
                ),
                item.sub ? (vue.openBlock(), vue.createElementBlock(
                  "text",
                  {
                    key: 0,
                    class: "sub"
                  },
                  vue.toDisplayString(item.sub),
                  1
                  /* TEXT */
                )) : vue.createCommentVNode("v-if", true)
              ]),
              vue.createElementVNode("view", { class: "right" }, [
                item.value ? (vue.openBlock(), vue.createElementBlock(
                  "text",
                  {
                    key: 0,
                    class: "value"
                  },
                  vue.toDisplayString(item.value),
                  1
                  /* TEXT */
                )) : vue.createCommentVNode("v-if", true),
                vue.createVNode(_component_u_icon, {
                  name: "arrow-right",
                  size: "28",
                  color: "#CFCFCF"
                })
              ])
            ], 8, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createElementVNode("view", { class: "bottom-space" })
    ]);
  }
  const PagesAccountSecurity = /* @__PURE__ */ _export_sfc(_sfc_main$j, [["render", _sfc_render$i], ["__scopeId", "data-v-0476cc82"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/account/security.vue"]]);
  const _sfc_main$i = {
    __name: "webview",
    setup(__props, { expose: __expose }) {
      __expose();
      const type = vue.ref("");
      const content = vue.ref("");
      onLoad((e2) => {
        type.value = e2.type;
        getAgreementByType();
      });
      const getAgreementByType = async () => {
        uni.setNavigationBarTitle({ title: type.value });
        try {
          const queryParams2 = {
            current: 1,
            size: 10,
            title: type.value
          };
          let { data } = await articleByType$1(queryParams2);
          content.value = data.records[0].content;
        } catch (error) {
          formatAppLog("log", "at pages/webview/webview.vue:29", error);
        }
      };
      const __returned__ = { type, content, getAgreementByType, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get articleByType() {
        return articleByType$1;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$h(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { style: { "padding": "30rpx" } }, [
      vue.createElementVNode("rich-text", { nodes: $setup.content }, null, 8, ["nodes"])
    ]);
  }
  const PagesWebviewWebview = /* @__PURE__ */ _export_sfc(_sfc_main$i, [["render", _sfc_render$h], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/webview/webview.vue"]]);
  const _imports_1 = "/static/order/gold-coin.png";
  const _sfc_main$h = {
    __name: "bill",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "a4f8cb8c-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const paramsList = vue.ref({
        current: 1,
        size: 10,
        params: {
          startTime: ""
          //开始时间
        }
      });
      const timeParams = vue.ref({
        year: true,
        month: true,
        day: true,
        hour: false,
        minute: false,
        second: false
      });
      const tabInexd = vue.ref(1);
      const birthdayShow = vue.ref(false);
      const timeText = vue.ref("请选择时间");
      const confirmBirthday = (e2) => {
        timeText.value = `${e2.year}-${e2.month}-${e2.day}`;
        paramsList.value.params.startTime = `${e2.year}-${e2.month}-${e2.day}`;
        list(tabInexd.value);
      };
      const type = vue.ref({});
      onLoad((options) => {
        type.value = JSON.parse(options.type);
      });
      const showTimePicker = () => {
        birthdayShow.value = true;
      };
      const moneyData = vue.ref({
        monthlyIncome: 0,
        //本月收益
        unsettledAmount: 1,
        //未结算金额
        withdrawableAmount: 0,
        //可提现余额
        totalAssets: 0
        //我的资产
      });
      const tabClick = (index) => {
        tabInexd.value = index;
        list(index);
      };
      const withdrawalData = vue.ref([]);
      const list = async (index) => {
        try {
          const api = index == 1 ? wallet : withdraw;
          const { data } = await api(paramsList.value);
          withdrawalData.value = data.records;
        } catch (error) {
          formatAppLog("log", "at pages/my/wallet/bill.vue:153", error);
        }
      };
      const withdrawal = async () => {
        try {
          const { data } = await summary();
          moneyData.value = data;
        } catch (error) {
          formatAppLog("log", "at pages/my/wallet/bill.vue:161", error);
        }
      };
      vue.onMounted(() => {
        list(1);
        withdrawal();
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const pasteId = (id2) => {
        formatAppLog("log", "at pages/my/wallet/bill.vue:183", id2);
        uni.setClipboardData({
          data: id2
        });
        uni.showToast({
          title: "复制成功",
          icon: "none"
        });
      };
      const __returned__ = { globalStore, statusBarHeight, paramsList, timeParams, tabInexd, birthdayShow, timeText, confirmBirthday, type, showTimePicker, moneyData, tabClick, withdrawalData, list, withdrawal, backFn, scrollTop, pasteId, ref: vue.ref, onMounted: vue.onMounted, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get summary() {
        return summary;
      }, get withdraw() {
        return withdraw;
      }, get wallet() {
        return wallet;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$g(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_u_picker = resolveEasycom(vue.resolveDynamicComponent("u-picker"), __easycom_2$7);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "账单"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "content-title" }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass($setup.tabInexd == 1 ? "hove-view" : "view"),
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.tabClick(1))
            },
            "收入记录",
            2
            /* CLASS */
          ),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass($setup.tabInexd == 2 ? "hove-view" : "view"),
              onClick: _cache[1] || (_cache[1] = ($event) => $setup.tabClick(2))
            },
            "提现记录",
            2
            /* CLASS */
          )
        ]),
        vue.createElementVNode("view", { class: "content-details" }, [
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode(
              "view",
              null,
              vue.toDisplayString($setup.tabInexd == 1 ? "当前收益" : "累计提现"),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.tabInexd == 1 ? $setup.moneyData.monthlyIncome : $setup.moneyData.unsettledAmount),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", {
            class: "uni-list-cell",
            onClick: $setup.showTimePicker
          }, [
            vue.createElementVNode("view", { class: "uni-list-cell-left" }, [
              vue.createVNode(_component_uni_icons, {
                type: "calendar",
                size: "20",
                color: "#fff"
              }),
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString($setup.timeText),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "uni-list-cell-db" }, [
              vue.createVNode(_component_u_picker, {
                type: "text",
                modelValue: $setup.birthdayShow,
                "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.birthdayShow = $event),
                params: $setup.timeParams,
                mode: "time",
                onConfirm: $setup.confirmBirthday
              }, null, 8, ["modelValue", "params"])
            ])
          ])
        ]),
        $setup.tabInexd == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "clause"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.withdrawalData, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "clause-item",
                key: index
              }, [
                vue.createElementVNode("view", { class: "item-head" }, [
                  vue.createElementVNode("view", { class: "head-left" }, [
                    vue.createElementVNode("view", null, "订单编号"),
                    vue.createElementVNode(
                      "view",
                      { class: "order-number" },
                      vue.toDisplayString(item.orderSn),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("image", {
                      src: _imports_0$5,
                      onClick: ($event) => $setup.pasteId(item.orderSn)
                    }, null, 8, ["onClick"])
                  ]),
                  vue.createElementVNode(
                    "view",
                    { class: "head-right" },
                    vue.toDisplayString(item.createTime),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "item-content" }, [
                  vue.createElementVNode("view", { class: "content-left" }, [
                    vue.createElementVNode("view", { class: "left-top" }, [
                      vue.createElementVNode("image", {
                        src: $setup.type.avatar
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString($setup.type.realName),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", { class: "left-bottom" }, [
                      vue.createElementVNode("view", null, [
                        vue.createElementVNode("text", null, "服务方式："),
                        vue.createTextVNode(
                          vue.toDisplayString(item.consultTypeDesc),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode("view", null, [
                        vue.createElementVNode("text", null, "购买时长："),
                        vue.createTextVNode(
                          vue.toDisplayString(item.serviceInfo),
                          1
                          /* TEXT */
                        )
                      ])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "content-right" }, [
                    vue.createElementVNode(
                      "view",
                      null,
                      "+" + vue.toDisplayString(item.amount),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      null,
                      vue.toDisplayString(item.statusDesc),
                      1
                      /* TEXT */
                    )
                  ])
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true),
        $setup.tabInexd == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "clause"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($setup.withdrawalData, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "clause-item",
                style: { "flex-direction": "row" },
                key: index
              }, [
                vue.createElementVNode("view", { class: "item-gold" }, [
                  vue.createElementVNode("view", { class: "gold-icon" }, [
                    vue.createElementVNode("image", { src: _imports_1 })
                  ]),
                  vue.createElementVNode("view", { class: "gold-content" }, [
                    vue.createElementVNode("view", null, "提现"),
                    vue.createElementVNode(
                      "view",
                      { class: "gold-time" },
                      vue.toDisplayString(item.applyTime),
                      1
                      /* TEXT */
                    )
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-coin" }, [
                  vue.createElementVNode(
                    "view",
                    { class: "gold-num" },
                    "-" + vue.toDisplayString(item.amount),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "gold-status" }, "(审核中)")
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true)
      ])
    ]);
  }
  const PagesMyWalletBill = /* @__PURE__ */ _export_sfc(_sfc_main$h, [["render", _sfc_render$g], ["__scopeId", "data-v-a4f8cb8c"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/my/wallet/bill.vue"]]);
  const _imports_0$3 = "/static/my/withdrawal.png";
  const _sfc_main$g = {
    __name: "withdrawal",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "36f14612-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const amount2 = vue.ref();
      const bankData = vue.ref([]);
      const balance = vue.ref(0);
      const bankCardId = vue.ref();
      const bankBool = vue.ref(false);
      const title = vue.ref("绑定银行卡");
      const bankCardList = async () => {
        try {
          const { data } = await bank();
          bankData.value = data;
          Default();
        } catch (e2) {
          formatAppLog("log", "at pages/my/wallet/withdrawal.vue:86", e2);
        }
      };
      onShow(() => {
        bankCardList();
        Default();
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      onLoad((options) => {
        balance.value = options.amount;
      });
      const handleWithdrawal = (url2) => {
        uni.navigateTo({ url: url2 });
      };
      const format = (val2) => {
        return val2.slice(-4);
      };
      const Default = () => {
        if (bankData.value.length == 0) {
          return title.value = "绑定银行卡";
        }
        if (bankData.value.length >= 1) {
          bankCardId.value = bankData.value[0].id;
          return title.value = bankData.value[0].bankName + "（" + format(bankData.value[0].cardNo) + "）";
        }
      };
      vue.watch(bankCardId, (newVal, oldVal) => {
        if (bankCardId.value) {
          bankData.value.map((item) => {
            if (item.id == bankCardId.value) {
              return title.value = item.bankName + "（" + format(item.cardNo) + "）";
            }
          });
        }
      });
      const butBankCard = async () => {
        if (bankData.value.length == 0) {
          uni.showToast({
            title: "请先绑定银行卡",
            icon: "none",
            duration: 2e3
          });
          return;
        }
        try {
          const { data } = await apply({
            amount: amount2.value,
            bankCardId: bankCardId.value
          });
          formatAppLog("log", "at pages/my/wallet/withdrawal.vue:149", data);
        } catch (e2) {
          formatAppLog("log", "at pages/my/wallet/withdrawal.vue:151", e2);
        }
      };
      const handleHandover = () => {
        if (bankData.value.length > 2) {
          bankBool.value = true;
        }
      };
      const handleBank = (item) => {
        bankCardId.value = item.id;
        bankBool.value = false;
      };
      const __returned__ = { globalStore, statusBarHeight, amount: amount2, bankData, balance, bankCardId, bankBool, title, bankCardList, backFn, scrollTop, handleWithdrawal, format, Default, butBankCard, handleHandover, handleBank, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get onLoad() {
        return onLoad;
      }, get bank() {
        return bank;
      }, get apply() {
        return apply;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$f(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "我的钱包"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "content-details" }, [
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", null, "提现金额"),
            vue.createElementVNode("text", null, "满50元即可申请提现")
          ]),
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", { style: { "display": "flex" } }, [
              vue.createElementVNode("view", { style: { "font-size": "50rpx" } }, "¥"),
              vue.createVNode(_component_uni_easyinput, {
                modelValue: $setup.amount,
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.amount = $event),
                placeholder: "输入自定义金额"
              }, null, 8, ["modelValue"])
            ]),
            vue.createElementVNode(
              "text",
              null,
              "可用余额￥" + vue.toDisplayString($setup.balance),
              1
              /* TEXT */
            )
          ])
        ]),
        vue.createElementVNode("view", { class: "clause" }, [
          vue.createElementVNode("view", { style: { "padding-left": "15rpx" } }, "提现至银行卡"),
          vue.createElementVNode("view", { class: "bank-card" }, [
            vue.createElementVNode("view", {
              style: { "display": "flex", "align-items": "center" },
              onClick: _cache[1] || (_cache[1] = ($event) => $setup.handleHandover())
            }, [
              vue.createElementVNode("image", {
                src: _imports_0$3,
                class: "bank-img"
              }),
              vue.createElementVNode(
                "view",
                null,
                vue.toDisplayString($setup.title),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", {
              class: "card",
              onClick: _cache[2] || (_cache[2] = ($event) => $setup.handleWithdrawal("/pages/my/wallet/bank-card"))
            }, [
              $setup.bankData.length == 0 ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
                vue.createElementVNode("view", { style: { "color": "#9e9e9e", "font-size": "20rpx", "padding-right": "10rpx" } }, "去绑定")
              ])) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode("view", { style: { "color": "#9e9e9e" } }, " > ")
            ])
          ]),
          $setup.bankData.length != 0 && $setup.bankBool ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "bank-list"
          }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.bankData, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: vue.normalizeClass(index % 2 != 0 ? "card-item1" : ""),
                  onClick: ($event) => $setup.handleBank(item)
                }, [
                  vue.createElementVNode("view", { class: "card-item" }, [
                    vue.createElementVNode("image", {
                      src: _imports_0$3,
                      class: "bank-img"
                    }),
                    vue.createElementVNode(
                      "view",
                      null,
                      vue.toDisplayString(item.bankName) + "（" + vue.toDisplayString($setup.format(item.cardNo)) + "）",
                      1
                      /* TEXT */
                    )
                  ])
                ], 10, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])) : vue.createCommentVNode("v-if", true),
          vue.createElementVNode("view", { style: { "margin": "50rpx 0 10rpx", "color": "#9e9e9e" } }, "提现说明："),
          vue.createElementVNode("view", { style: { "font-size": "25rpx", "color": "#9e9e9e" } }, "1.本次提现仅若遇未到账，请联系客服。"),
          vue.createElementVNode("view", { style: { "font-size": "25rpx", "color": "#9e9e9e" } }, "2.多张银行卡时，点击银行卡可切换。")
        ]),
        vue.createElementVNode("button", {
          onClick: $setup.butBankCard,
          class: "but"
        }, "确定")
      ])
    ]);
  }
  const PagesMyWalletWithdrawal = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["render", _sfc_render$f], ["__scopeId", "data-v-36f14612"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/my/wallet/withdrawal.vue"]]);
  const _sfc_main$f = {
    name: "uniFormsItem",
    options: {
      virtualHost: true
    },
    provide() {
      return {
        uniFormItem: this
      };
    },
    inject: {
      form: {
        from: "uniForm",
        default: null
      }
    },
    props: {
      // 表单校验规则
      rules: {
        type: Array,
        default() {
          return null;
        }
      },
      // 表单域的属性名，在使用校验规则时必填
      name: {
        type: [String, Array],
        default: ""
      },
      required: {
        type: Boolean,
        default: false
      },
      label: {
        type: String,
        default: ""
      },
      // label的宽度
      labelWidth: {
        type: [String, Number],
        default: ""
      },
      // label 居中方式，默认 left 取值 left/center/right
      labelAlign: {
        type: String,
        default: ""
      },
      // 强制显示错误信息
      errorMessage: {
        type: [String, Boolean],
        default: ""
      },
      // 1.4.0 弃用，统一使用 form 的校验时机
      // validateTrigger: {
      // 	type: String,
      // 	default: ''
      // },
      // 1.4.0 弃用，统一使用 form 的label 位置
      // labelPosition: {
      // 	type: String,
      // 	default: ''
      // },
      // 1.4.0 以下属性已经废弃，请使用  #label 插槽代替
      leftIcon: String,
      iconColor: {
        type: String,
        default: "#606266"
      }
    },
    data() {
      return {
        errMsg: "",
        userRules: null,
        localLabelAlign: "left",
        localLabelWidth: "70px",
        localLabelPos: "left",
        border: false,
        isFirstBorder: false
      };
    },
    computed: {
      // 处理错误信息
      msg() {
        return this.errorMessage || this.errMsg;
      }
    },
    watch: {
      // 规则发生变化通知子组件更新
      "form.formRules"(val2) {
        this.init();
      },
      "form.labelWidth"(val2) {
        this.localLabelWidth = this._labelWidthUnit(val2);
      },
      "form.labelPosition"(val2) {
        this.localLabelPos = this._labelPosition();
      },
      "form.labelAlign"(val2) {
      }
    },
    created() {
      this.init(true);
      if (this.name && this.form) {
        this.$watch(
          () => {
            const val2 = this.form._getDataValue(this.name, this.form.localData);
            return val2;
          },
          (value, oldVal) => {
            const isEqual2 = this.form._isEqual(value, oldVal);
            if (!isEqual2) {
              const val2 = this.itemSetValue(value);
              this.onFieldChange(val2, false);
            }
          },
          {
            immediate: false
          }
        );
      }
    },
    unmounted() {
      this.__isUnmounted = true;
      this.unInit();
    },
    methods: {
      /**
       * 外部调用方法
       * 设置规则 ，主要用于小程序自定义检验规则
       * @param {Array} rules 规则源数据
       */
      setRules(rules = null) {
        this.userRules = rules;
        this.init(false);
      },
      // 兼容老版本表单组件
      setValue() {
      },
      /**
       * 外部调用方法
       * 校验数据
       * @param {any} value 需要校验的数据
       * @param {boolean} 是否立即校验
       * @return {Array|null} 校验内容
       */
      async onFieldChange(value, formtrigger = true) {
        const {
          formData,
          localData,
          errShowType,
          validateCheck,
          validateTrigger,
          _isRequiredField,
          _realName
        } = this.form;
        const name = _realName(this.name);
        if (!value) {
          value = this.form.formData[name];
        }
        const ruleLen = this.itemRules.rules && this.itemRules.rules.length;
        if (!this.validator || !ruleLen || ruleLen === 0)
          return;
        const isRequiredField2 = _isRequiredField(this.itemRules.rules || []);
        let result = null;
        if (validateTrigger === "bind" || formtrigger) {
          result = await this.validator.validateUpdate(
            {
              [name]: value
            },
            formData
          );
          if (!isRequiredField2 && (value === void 0 || value === "")) {
            result = null;
          }
          if (result && result.errorMessage) {
            if (errShowType === "undertext") {
              this.errMsg = !result ? "" : result.errorMessage;
            }
            if (errShowType === "toast") {
              uni.showToast({
                title: result.errorMessage || "校验错误",
                icon: "none"
              });
            }
            if (errShowType === "modal") {
              uni.showModal({
                title: "提示",
                content: result.errorMessage || "校验错误"
              });
            }
          } else {
            this.errMsg = "";
          }
          validateCheck(result ? result : null);
        } else {
          this.errMsg = "";
        }
        return result ? result : null;
      },
      /**
       * 初始组件数据
       */
      init(type = false) {
        const {
          validator,
          formRules,
          childrens,
          formData,
          localData,
          _realName,
          labelWidth,
          _getDataValue,
          _setDataValue
        } = this.form || {};
        this.localLabelAlign = this._justifyContent();
        this.localLabelWidth = this._labelWidthUnit(labelWidth);
        this.localLabelPos = this._labelPosition();
        this.form && type && childrens.push(this);
        if (!validator || !formRules)
          return;
        if (!this.form.isFirstBorder) {
          this.form.isFirstBorder = true;
          this.isFirstBorder = true;
        }
        if (this.group) {
          if (!this.group.isFirstBorder) {
            this.group.isFirstBorder = true;
            this.isFirstBorder = true;
          }
        }
        this.border = this.form.border;
        const name = _realName(this.name);
        const itemRule = this.userRules || this.rules;
        if (typeof formRules === "object" && itemRule) {
          formRules[name] = {
            rules: itemRule
          };
          validator.updateSchema(formRules);
        }
        const itemRules = formRules[name] || {};
        this.itemRules = itemRules;
        this.validator = validator;
        this.itemSetValue(_getDataValue(this.name, localData));
      },
      unInit() {
        if (this.form) {
          const {
            childrens,
            formData,
            _realName
          } = this.form;
          childrens.forEach((item, index) => {
            if (item === this) {
              this.form.childrens.splice(index, 1);
              delete formData[_realName(item.name)];
            }
          });
        }
      },
      // 设置item 的值
      itemSetValue(value) {
        const name = this.form._realName(this.name);
        const rules = this.itemRules.rules || [];
        const val2 = this.form._getValue(name, value, rules);
        this.form._setDataValue(name, this.form.formData, val2);
        return val2;
      },
      /**
       * 移除该表单项的校验结果
       */
      clearValidate() {
        this.errMsg = "";
      },
      // 是否显示星号
      _isRequired() {
        return this.required;
      },
      // 处理对齐方式
      _justifyContent() {
        if (this.form) {
          const {
            labelAlign
          } = this.form;
          let labelAli = this.labelAlign ? this.labelAlign : labelAlign;
          if (labelAli === "left")
            return "flex-start";
          if (labelAli === "center")
            return "center";
          if (labelAli === "right")
            return "flex-end";
        }
        return "flex-start";
      },
      // 处理 label宽度单位 ,继承父元素的值
      _labelWidthUnit(labelWidth) {
        return this.num2px(this.labelWidth ? this.labelWidth : labelWidth || (this.label ? 70 : "auto"));
      },
      // 处理 label 位置
      _labelPosition() {
        if (this.form)
          return this.form.labelPosition || "left";
        return "left";
      },
      /**
       * 触发时机
       * @param {Object} rule 当前规则内时机
       * @param {Object} itemRlue 当前组件时机
       * @param {Object} parentRule 父组件时机
       */
      isTrigger(rule, itemRlue, parentRule) {
        if (rule === "submit" || !rule) {
          if (rule === void 0) {
            if (itemRlue !== "bind") {
              if (!itemRlue) {
                return parentRule === "" ? "bind" : "submit";
              }
              return "submit";
            }
            return "bind";
          }
          return "submit";
        }
        return "bind";
      },
      num2px(num) {
        if (typeof num === "number") {
          return `${num}px`;
        }
        return num;
      }
    }
  };
  function _sfc_render$e(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      "view",
      {
        class: vue.normalizeClass(["uni-forms-item", ["is-direction-" + $data.localLabelPos, $data.border ? "uni-forms-item--border" : "", $data.border && $data.isFirstBorder ? "is-first-border" : ""]])
      },
      [
        vue.renderSlot(_ctx.$slots, "label", {}, () => [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["uni-forms-item__label", { "no-label": !$props.label && !$props.required }]),
              style: vue.normalizeStyle({ width: $data.localLabelWidth, justifyContent: $data.localLabelAlign })
            },
            [
              $props.required ? (vue.openBlock(), vue.createElementBlock("text", {
                key: 0,
                class: "is-required"
              }, "*")) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString($props.label),
                1
                /* TEXT */
              )
            ],
            6
            /* CLASS, STYLE */
          )
        ], true),
        vue.createElementVNode("view", { class: "uni-forms-item__content" }, [
          vue.renderSlot(_ctx.$slots, "default", {}, void 0, true),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["uni-forms-item__error", { "msg--active": $options.msg }])
            },
            [
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString($options.msg),
                1
                /* TEXT */
              )
            ],
            2
            /* CLASS */
          )
        ])
      ],
      2
      /* CLASS */
    );
  }
  const __easycom_3 = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["render", _sfc_render$e], ["__scopeId", "data-v-462874dd"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue"]]);
  var pattern = {
    email: /^\S+?@\S+?\.\S+?$/,
    idcard: /^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,
    url: new RegExp(
      "^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$",
      "i"
    )
  };
  const FORMAT_MAPPING = {
    "int": "integer",
    "bool": "boolean",
    "double": "number",
    "long": "number",
    "password": "string"
    // "fileurls": 'array'
  };
  function formatMessage(args, resources = "") {
    var defaultMessage = ["label"];
    defaultMessage.forEach((item) => {
      if (args[item] === void 0) {
        args[item] = "";
      }
    });
    let str = resources;
    for (let key in args) {
      let reg = new RegExp("{" + key + "}");
      str = str.replace(reg, args[key]);
    }
    return str;
  }
  function isEmptyValue(value, type) {
    if (value === void 0 || value === null) {
      return true;
    }
    if (typeof value === "string" && !value) {
      return true;
    }
    if (Array.isArray(value) && !value.length) {
      return true;
    }
    if (type === "object" && !Object.keys(value).length) {
      return true;
    }
    return false;
  }
  const types = {
    integer(value) {
      return types.number(value) && parseInt(value, 10) === value;
    },
    string(value) {
      return typeof value === "string";
    },
    number(value) {
      if (isNaN(value)) {
        return false;
      }
      return typeof value === "number";
    },
    "boolean": function(value) {
      return typeof value === "boolean";
    },
    "float": function(value) {
      return types.number(value) && !types.integer(value);
    },
    array(value) {
      return Array.isArray(value);
    },
    object(value) {
      return typeof value === "object" && !types.array(value);
    },
    date(value) {
      return value instanceof Date;
    },
    timestamp(value) {
      if (!this.integer(value) || Math.abs(value).toString().length > 16) {
        return false;
      }
      return true;
    },
    file(value) {
      return typeof value.url === "string";
    },
    email(value) {
      return typeof value === "string" && !!value.match(pattern.email) && value.length < 255;
    },
    url(value) {
      return typeof value === "string" && !!value.match(pattern.url);
    },
    pattern(reg, value) {
      try {
        return new RegExp(reg).test(value);
      } catch (e2) {
        return false;
      }
    },
    method(value) {
      return typeof value === "function";
    },
    idcard(value) {
      return typeof value === "string" && !!value.match(pattern.idcard);
    },
    "url-https"(value) {
      return this.url(value) && value.startsWith("https://");
    },
    "url-scheme"(value) {
      return value.startsWith("://");
    },
    "url-web"(value) {
      return false;
    }
  };
  class RuleValidator {
    constructor(message2) {
      this._message = message2;
    }
    async validateRule(fieldKey, fieldValue, value, data, allData) {
      var result = null;
      let rules = fieldValue.rules;
      let hasRequired = rules.findIndex((item) => {
        return item.required;
      });
      if (hasRequired < 0) {
        if (value === null || value === void 0) {
          return result;
        }
        if (typeof value === "string" && !value.length) {
          return result;
        }
      }
      var message2 = this._message;
      if (rules === void 0) {
        return message2["default"];
      }
      for (var i2 = 0; i2 < rules.length; i2++) {
        let rule = rules[i2];
        let vt2 = this._getValidateType(rule);
        Object.assign(rule, {
          label: fieldValue.label || `["${fieldKey}"]`
        });
        if (RuleValidatorHelper[vt2]) {
          result = RuleValidatorHelper[vt2](rule, value, message2);
          if (result != null) {
            break;
          }
        }
        if (rule.validateExpr) {
          let now2 = Date.now();
          let resultExpr = rule.validateExpr(value, allData, now2);
          if (resultExpr === false) {
            result = this._getMessage(rule, rule.errorMessage || this._message["default"]);
            break;
          }
        }
        if (rule.validateFunction) {
          result = await this.validateFunction(rule, value, data, allData, vt2);
          if (result !== null) {
            break;
          }
        }
      }
      if (result !== null) {
        result = message2.TAG + result;
      }
      return result;
    }
    async validateFunction(rule, value, data, allData, vt2) {
      let result = null;
      try {
        let callbackMessage = null;
        const res2 = await rule.validateFunction(rule, value, allData || data, (message2) => {
          callbackMessage = message2;
        });
        if (callbackMessage || typeof res2 === "string" && res2 || res2 === false) {
          result = this._getMessage(rule, callbackMessage || res2, vt2);
        }
      } catch (e2) {
        result = this._getMessage(rule, e2.message, vt2);
      }
      return result;
    }
    _getMessage(rule, message2, vt2) {
      return formatMessage(rule, message2 || rule.errorMessage || this._message[vt2] || message2["default"]);
    }
    _getValidateType(rule) {
      var result = "";
      if (rule.required) {
        result = "required";
      } else if (rule.format) {
        result = "format";
      } else if (rule.arrayType) {
        result = "arrayTypeFormat";
      } else if (rule.range) {
        result = "range";
      } else if (rule.maximum !== void 0 || rule.minimum !== void 0) {
        result = "rangeNumber";
      } else if (rule.maxLength !== void 0 || rule.minLength !== void 0) {
        result = "rangeLength";
      } else if (rule.pattern) {
        result = "pattern";
      } else if (rule.validateFunction) {
        result = "validateFunction";
      }
      return result;
    }
  }
  const RuleValidatorHelper = {
    required(rule, value, message2) {
      if (rule.required && isEmptyValue(value, rule.format || typeof value)) {
        return formatMessage(rule, rule.errorMessage || message2.required);
      }
      return null;
    },
    range(rule, value, message2) {
      const {
        range: range2,
        errorMessage
      } = rule;
      let list = new Array(range2.length);
      for (let i2 = 0; i2 < range2.length; i2++) {
        const item = range2[i2];
        if (types.object(item) && item.value !== void 0) {
          list[i2] = item.value;
        } else {
          list[i2] = item;
        }
      }
      let result = false;
      if (Array.isArray(value)) {
        result = new Set(value.concat(list)).size === list.length;
      } else {
        if (list.indexOf(value) > -1) {
          result = true;
        }
      }
      if (!result) {
        return formatMessage(rule, errorMessage || message2["enum"]);
      }
      return null;
    },
    rangeNumber(rule, value, message2) {
      if (!types.number(value)) {
        return formatMessage(rule, rule.errorMessage || message2.pattern.mismatch);
      }
      let {
        minimum,
        maximum,
        exclusiveMinimum,
        exclusiveMaximum
      } = rule;
      let min = exclusiveMinimum ? value <= minimum : value < minimum;
      let max = exclusiveMaximum ? value >= maximum : value > maximum;
      if (minimum !== void 0 && min) {
        return formatMessage(rule, rule.errorMessage || message2["number"][exclusiveMinimum ? "exclusiveMinimum" : "minimum"]);
      } else if (maximum !== void 0 && max) {
        return formatMessage(rule, rule.errorMessage || message2["number"][exclusiveMaximum ? "exclusiveMaximum" : "maximum"]);
      } else if (minimum !== void 0 && maximum !== void 0 && (min || max)) {
        return formatMessage(rule, rule.errorMessage || message2["number"].range);
      }
      return null;
    },
    rangeLength(rule, value, message2) {
      if (!types.string(value) && !types.array(value)) {
        return formatMessage(rule, rule.errorMessage || message2.pattern.mismatch);
      }
      let min = rule.minLength;
      let max = rule.maxLength;
      let val2 = value.length;
      if (min !== void 0 && val2 < min) {
        return formatMessage(rule, rule.errorMessage || message2["length"].minLength);
      } else if (max !== void 0 && val2 > max) {
        return formatMessage(rule, rule.errorMessage || message2["length"].maxLength);
      } else if (min !== void 0 && max !== void 0 && (val2 < min || val2 > max)) {
        return formatMessage(rule, rule.errorMessage || message2["length"].range);
      }
      return null;
    },
    pattern(rule, value, message2) {
      if (!types["pattern"](rule.pattern, value)) {
        return formatMessage(rule, rule.errorMessage || message2.pattern.mismatch);
      }
      return null;
    },
    format(rule, value, message2) {
      var customTypes = Object.keys(types);
      var format = FORMAT_MAPPING[rule.format] ? FORMAT_MAPPING[rule.format] : rule.format || rule.arrayType;
      if (customTypes.indexOf(format) > -1) {
        if (!types[format](value)) {
          return formatMessage(rule, rule.errorMessage || message2.typeError);
        }
      }
      return null;
    },
    arrayTypeFormat(rule, value, message2) {
      if (!Array.isArray(value)) {
        return formatMessage(rule, rule.errorMessage || message2.typeError);
      }
      for (let i2 = 0; i2 < value.length; i2++) {
        const element = value[i2];
        let formatResult = this.format(rule, element, message2);
        if (formatResult !== null) {
          return formatResult;
        }
      }
      return null;
    }
  };
  class SchemaValidator extends RuleValidator {
    constructor(schema, options) {
      super(SchemaValidator.message);
      this._schema = schema;
      this._options = options || null;
    }
    updateSchema(schema) {
      this._schema = schema;
    }
    async validate(data, allData) {
      let result = this._checkFieldInSchema(data);
      if (!result) {
        result = await this.invokeValidate(data, false, allData);
      }
      return result.length ? result[0] : null;
    }
    async validateAll(data, allData) {
      let result = this._checkFieldInSchema(data);
      if (!result) {
        result = await this.invokeValidate(data, true, allData);
      }
      return result;
    }
    async validateUpdate(data, allData) {
      let result = this._checkFieldInSchema(data);
      if (!result) {
        result = await this.invokeValidateUpdate(data, false, allData);
      }
      return result.length ? result[0] : null;
    }
    async invokeValidate(data, all, allData) {
      let result = [];
      let schema = this._schema;
      for (let key in schema) {
        let value = schema[key];
        let errorMessage = await this.validateRule(key, value, data[key], data, allData);
        if (errorMessage != null) {
          result.push({
            key,
            errorMessage
          });
          if (!all)
            break;
        }
      }
      return result;
    }
    async invokeValidateUpdate(data, all, allData) {
      let result = [];
      for (let key in data) {
        let errorMessage = await this.validateRule(key, this._schema[key], data[key], data, allData);
        if (errorMessage != null) {
          result.push({
            key,
            errorMessage
          });
          if (!all)
            break;
        }
      }
      return result;
    }
    _checkFieldInSchema(data) {
      var keys = Object.keys(data);
      var keys2 = Object.keys(this._schema);
      if (new Set(keys.concat(keys2)).size === keys2.length) {
        return "";
      }
      var noExistFields = keys.filter((key) => {
        return keys2.indexOf(key) < 0;
      });
      var errorMessage = formatMessage({
        field: JSON.stringify(noExistFields)
      }, SchemaValidator.message.TAG + SchemaValidator.message["defaultInvalid"]);
      return [{
        key: "invalid",
        errorMessage
      }];
    }
  }
  function Message() {
    return {
      TAG: "",
      default: "验证错误",
      defaultInvalid: "提交的字段{field}在数据库中并不存在",
      validateFunction: "验证无效",
      required: "{label}必填",
      "enum": "{label}超出范围",
      timestamp: "{label}格式无效",
      whitespace: "{label}不能为空",
      typeError: "{label}类型无效",
      date: {
        format: "{label}日期{value}格式无效",
        parse: "{label}日期无法解析,{value}无效",
        invalid: "{label}日期{value}无效"
      },
      length: {
        minLength: "{label}长度不能少于{minLength}",
        maxLength: "{label}长度不能超过{maxLength}",
        range: "{label}必须介于{minLength}和{maxLength}之间"
      },
      number: {
        minimum: "{label}不能小于{minimum}",
        maximum: "{label}不能大于{maximum}",
        exclusiveMinimum: "{label}不能小于等于{minimum}",
        exclusiveMaximum: "{label}不能大于等于{maximum}",
        range: "{label}必须介于{minimum}and{maximum}之间"
      },
      pattern: {
        mismatch: "{label}格式不匹配"
      }
    };
  }
  SchemaValidator.message = new Message();
  const deepCopy = (val2) => {
    return JSON.parse(JSON.stringify(val2));
  };
  const typeFilter = (format) => {
    return format === "int" || format === "double" || format === "number" || format === "timestamp";
  };
  const getValue = (key, value, rules) => {
    const isRuleNumType = rules.find((val2) => val2.format && typeFilter(val2.format));
    const isRuleBoolType = rules.find((val2) => val2.format && val2.format === "boolean" || val2.format === "bool");
    if (!!isRuleNumType) {
      if (!value && value !== 0) {
        value = null;
      } else {
        value = isNumber(Number(value)) ? Number(value) : value;
      }
    }
    if (!!isRuleBoolType) {
      value = isBoolean(value) ? value : false;
    }
    return value;
  };
  const setDataValue = (field, formdata, value) => {
    formdata[field] = value;
    return value || "";
  };
  const getDataValue = (field, data) => {
    return objGet(data, field);
  };
  const realName = (name, data = {}) => {
    const base_name = _basePath(name);
    if (typeof base_name === "object" && Array.isArray(base_name) && base_name.length > 1) {
      const realname = base_name.reduce((a2, b2) => a2 += `#${b2}`, "_formdata_");
      return realname;
    }
    return base_name[0] || name;
  };
  const isRealName = (name) => {
    const reg = /^_formdata_#*/;
    return reg.test(name);
  };
  const rawData = (object2 = {}, name) => {
    let newData = JSON.parse(JSON.stringify(object2));
    let formData = {};
    for (let i2 in newData) {
      let path = name2arr(i2);
      objSet(formData, path, newData[i2]);
    }
    return formData;
  };
  const name2arr = (name) => {
    let field = name.replace("_formdata_#", "");
    field = field.split("#").map((v2) => isNumber(v2) ? Number(v2) : v2);
    return field;
  };
  const objSet = (object2, path, value) => {
    if (typeof object2 !== "object")
      return object2;
    _basePath(path).reduce((o2, k, i2, _2) => {
      if (i2 === _2.length - 1) {
        o2[k] = value;
        return null;
      } else if (k in o2) {
        return o2[k];
      } else {
        o2[k] = /^[0-9]{1,}$/.test(_2[i2 + 1]) ? [] : {};
        return o2[k];
      }
    }, object2);
    return object2;
  };
  function _basePath(path) {
    if (Array.isArray(path))
      return path;
    return path.replace(/\[/g, ".").replace(/\]/g, "").split(".");
  }
  const objGet = (object2, path, defaultVal = "undefined") => {
    let newPath = _basePath(path);
    let val2 = newPath.reduce((o2, k) => {
      return (o2 || {})[k];
    }, object2);
    return !val2 || val2 !== void 0 ? val2 : defaultVal;
  };
  const isNumber = (num) => {
    return !isNaN(Number(num));
  };
  const isBoolean = (bool) => {
    return typeof bool === "boolean";
  };
  const isRequiredField = (rules) => {
    let isNoField = false;
    for (let i2 = 0; i2 < rules.length; i2++) {
      const ruleData = rules[i2];
      if (ruleData.required) {
        isNoField = true;
        break;
      }
    }
    return isNoField;
  };
  const isEqual = (a2, b2) => {
    if (a2 === b2) {
      return a2 !== 0 || 1 / a2 === 1 / b2;
    }
    if (a2 == null || b2 == null) {
      return a2 === b2;
    }
    var classNameA = toString.call(a2), classNameB = toString.call(b2);
    if (classNameA !== classNameB) {
      return false;
    }
    switch (classNameA) {
      case "[object RegExp]":
      case "[object String]":
        return "" + a2 === "" + b2;
      case "[object Number]":
        if (+a2 !== +a2) {
          return +b2 !== +b2;
        }
        return +a2 === 0 ? 1 / +a2 === 1 / b2 : +a2 === +b2;
      case "[object Date]":
      case "[object Boolean]":
        return +a2 === +b2;
    }
    if (classNameA == "[object Object]") {
      var propsA = Object.getOwnPropertyNames(a2), propsB = Object.getOwnPropertyNames(b2);
      if (propsA.length != propsB.length) {
        return false;
      }
      for (var i2 = 0; i2 < propsA.length; i2++) {
        var propName = propsA[i2];
        if (a2[propName] !== b2[propName]) {
          return false;
        }
      }
      return true;
    }
    if (classNameA == "[object Array]") {
      if (a2.toString() == b2.toString()) {
        return true;
      }
      return false;
    }
  };
  const _sfc_main$e = {
    name: "uniForms",
    emits: ["validate", "submit"],
    options: {
      virtualHost: true
    },
    props: {
      // 即将弃用
      value: {
        type: Object,
        default() {
          return null;
        }
      },
      // vue3 替换 value 属性
      modelValue: {
        type: Object,
        default() {
          return null;
        }
      },
      // 1.4.0 开始将不支持 v-model ，且废弃 value 和 modelValue
      model: {
        type: Object,
        default() {
          return null;
        }
      },
      // 表单校验规则
      rules: {
        type: Object,
        default() {
          return {};
        }
      },
      //校验错误信息提示方式 默认 undertext 取值 [undertext|toast|modal]
      errShowType: {
        type: String,
        default: "undertext"
      },
      // 校验触发器方式 默认 bind 取值 [bind|submit]
      validateTrigger: {
        type: String,
        default: "submit"
      },
      // label 位置，默认 left 取值  top/left
      labelPosition: {
        type: String,
        default: "left"
      },
      // label 宽度
      labelWidth: {
        type: [String, Number],
        default: ""
      },
      // label 居中方式，默认 left 取值 left/center/right
      labelAlign: {
        type: String,
        default: "left"
      },
      border: {
        type: Boolean,
        default: false
      }
    },
    provide() {
      return {
        uniForm: this
      };
    },
    data() {
      return {
        // 表单本地值的记录，不应该与传如的值进行关联
        formData: {},
        formRules: {}
      };
    },
    computed: {
      // 计算数据源变化的
      localData() {
        const localVal = this.model || this.modelValue || this.value;
        if (localVal) {
          return deepCopy(localVal);
        }
        return {};
      }
    },
    watch: {
      // 监听数据变化 ,暂时不使用，需要单独赋值
      // localData: {},
      // 监听规则变化
      rules: {
        handler: function(val2, oldVal) {
          this.setRules(val2);
        },
        deep: true,
        immediate: true
      }
    },
    created() {
      let getbinddata = getApp().$vm.$.appContext.config.globalProperties.binddata;
      if (!getbinddata) {
        getApp().$vm.$.appContext.config.globalProperties.binddata = function(name, value, formName) {
          if (formName) {
            this.$refs[formName].setValue(name, value);
          } else {
            let formVm;
            for (let i2 in this.$refs) {
              const vm = this.$refs[i2];
              if (vm && vm.$options && vm.$options.name === "uniForms") {
                formVm = vm;
                break;
              }
            }
            if (!formVm)
              return formatAppLog("error", "at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:187", "当前 uni-froms 组件缺少 ref 属性");
            if (formVm.model)
              formVm.model[name] = value;
            if (formVm.modelValue)
              formVm.modelValue[name] = value;
            if (formVm.value)
              formVm.value[name] = value;
          }
        };
      }
      this.childrens = [];
      this.inputChildrens = [];
      this.setRules(this.rules);
    },
    methods: {
      /**
       * 外部调用方法
       * 设置规则 ，主要用于小程序自定义检验规则
       * @param {Array} rules 规则源数据
       */
      setRules(rules) {
        this.formRules = Object.assign({}, this.formRules, rules);
        this.validator = new SchemaValidator(rules);
      },
      /**
       * 外部调用方法
       * 设置数据，用于设置表单数据，公开给用户使用 ， 不支持在动态表单中使用
       * @param {Object} key
       * @param {Object} value
       */
      setValue(key, value) {
        let example = this.childrens.find((child) => child.name === key);
        if (!example)
          return null;
        this.formData[key] = getValue(key, value, this.formRules[key] && this.formRules[key].rules || []);
        return example.onFieldChange(this.formData[key]);
      },
      /**
       * 外部调用方法
       * 手动提交校验表单
       * 对整个表单进行校验的方法，参数为一个回调函数。
       * @param {Array} keepitem 保留不参与校验的字段
       * @param {type} callback 方法回调
       */
      validate(keepitem, callback) {
        return this.checkAll(this.formData, keepitem, callback);
      },
      /**
       * 外部调用方法
       * 部分表单校验
       * @param {Array|String} props 需要校验的字段
       * @param {Function} 回调函数
       */
      validateField(props = [], callback) {
        props = [].concat(props);
        let invalidFields = {};
        this.childrens.forEach((item) => {
          const name = realName(item.name);
          if (props.indexOf(name) !== -1) {
            invalidFields = Object.assign({}, invalidFields, {
              [name]: this.formData[name]
            });
          }
        });
        return this.checkAll(invalidFields, [], callback);
      },
      /**
       * 外部调用方法
       * 移除表单项的校验结果。传入待移除的表单项的 prop 属性或者 prop 组成的数组，如不传则移除整个表单的校验结果
       * @param {Array|String} props 需要移除校验的字段 ，不填为所有
       */
      clearValidate(props = []) {
        props = [].concat(props);
        this.childrens.forEach((item) => {
          if (props.length === 0) {
            item.errMsg = "";
          } else {
            const name = realName(item.name);
            if (props.indexOf(name) !== -1) {
              item.errMsg = "";
            }
          }
        });
      },
      /**
       * 外部调用方法 ，即将废弃
       * 手动提交校验表单
       * 对整个表单进行校验的方法，参数为一个回调函数。
       * @param {Array} keepitem 保留不参与校验的字段
       * @param {type} callback 方法回调
       */
      submit(keepitem, callback, type) {
        for (let i2 in this.dataValue) {
          const itemData = this.childrens.find((v2) => v2.name === i2);
          if (itemData) {
            if (this.formData[i2] === void 0) {
              this.formData[i2] = this._getValue(i2, this.dataValue[i2]);
            }
          }
        }
        if (!type) {
          formatAppLog("warn", "at uni_modules/uni-forms/components/uni-forms/uni-forms.vue:296", "submit 方法即将废弃，请使用validate方法代替！");
        }
        return this.checkAll(this.formData, keepitem, callback, "submit");
      },
      // 校验所有
      async checkAll(invalidFields, keepitem, callback, type) {
        if (!this.validator)
          return;
        let childrens = [];
        for (let i2 in invalidFields) {
          const item = this.childrens.find((v2) => realName(v2.name) === i2);
          if (item) {
            childrens.push(item);
          }
        }
        if (!callback && typeof keepitem === "function") {
          callback = keepitem;
        }
        let promise2;
        if (!callback && typeof callback !== "function" && Promise) {
          promise2 = new Promise((resolve, reject) => {
            callback = function(valid, invalidFields2) {
              !valid ? resolve(invalidFields2) : reject(valid);
            };
          });
        }
        let results = [];
        let tempFormData = JSON.parse(JSON.stringify(invalidFields));
        for (let i2 in childrens) {
          const child = childrens[i2];
          let name = realName(child.name);
          const result = await child.onFieldChange(tempFormData[name]);
          if (result) {
            results.push(result);
            if (this.errShowType === "toast" || this.errShowType === "modal")
              break;
          }
        }
        if (Array.isArray(results)) {
          if (results.length === 0)
            results = null;
        }
        if (Array.isArray(keepitem)) {
          keepitem.forEach((v2) => {
            let vName = realName(v2);
            let value = getDataValue(v2, this.localData);
            if (value !== void 0) {
              tempFormData[vName] = value;
            }
          });
        }
        if (type === "submit") {
          this.$emit("submit", {
            detail: {
              value: tempFormData,
              errors: results
            }
          });
        } else {
          this.$emit("validate", results);
        }
        let resetFormData = {};
        resetFormData = rawData(tempFormData, this.name);
        callback && typeof callback === "function" && callback(results, resetFormData);
        if (promise2 && callback) {
          return promise2;
        } else {
          return null;
        }
      },
      /**
       * 返回validate事件
       * @param {Object} result
       */
      validateCheck(result) {
        this.$emit("validate", result);
      },
      _getValue: getValue,
      _isRequiredField: isRequiredField,
      _setDataValue: setDataValue,
      _getDataValue: getDataValue,
      _realName: realName,
      _isRealName: isRealName,
      _isEqual: isEqual
    }
  };
  function _sfc_render$d(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-forms" }, [
      vue.createElementVNode("form", null, [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ])
    ]);
  }
  const __easycom_4 = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["render", _sfc_render$d], ["__scopeId", "data-v-9a1e3c32"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-forms/components/uni-forms/uni-forms.vue"]]);
  const _sfc_main$d = {
    __name: "bank-card",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "9a0896a2-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const formData = vue.ref({
        realName: "",
        cardNo: "",
        bankName: ""
      });
      const rules = vue.reactive({
        realName: {
          rules: [{
            required: true,
            errorMessage: "请输入真实姓名"
          }]
        },
        cardNo: {
          rules: [{
            required: true,
            errorMessage: "请输入银行卡卡号"
          }]
        },
        bankName: {
          rules: [{
            required: true,
            errorMessage: "请输入开户行"
          }]
        }
      });
      onShow(() => {
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const butBankCard = async () => {
        try {
          const res2 = await addBank(formData.value);
          if (res2.success) {
            uni.showToast({
              title: "添加成功",
              icon: "none",
              // 可选值 'success', 'loading', 'none'
              duration: 2e3
              // 持续时长，单位ms
            });
            backFn();
          }
        } catch (err) {
          formatAppLog("log", "at pages/my/wallet/bank-card.vue:106", err);
        }
      };
      const __returned__ = { globalStore, statusBarHeight, formData, rules, backFn, scrollTop, butBankCard, ref: vue.ref, reactive: vue.reactive, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get addBank() {
        return addBank;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$c(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_easyinput = resolveEasycom(vue.resolveDynamicComponent("uni-easyinput"), __easycom_2$9);
    const _component_uni_forms_item = resolveEasycom(vue.resolveDynamicComponent("uni-forms-item"), __easycom_3);
    const _component_uni_forms = resolveEasycom(vue.resolveDynamicComponent("uni-forms"), __easycom_4);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "绑定银行卡"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createVNode(_component_uni_forms, {
          ref: "formRef",
          rules: $setup.rules,
          modelValue: $setup.formData
        }, {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "content-details" }, [
              vue.createElementVNode("view", { class: "detail-item" }, [
                vue.createElementVNode("view", null, "姓名"),
                vue.createVNode(_component_uni_forms_item, { name: "realName" }, {
                  default: vue.withCtx(() => [
                    vue.createVNode(_component_uni_easyinput, {
                      modelValue: $setup.formData.realName,
                      "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.formData.realName = $event),
                      placeholder: "请输入真实姓名"
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                  /* STABLE */
                })
              ]),
              vue.createElementVNode("view", { class: "detail-item" }, [
                vue.createElementVNode("view", null, "银行卡卡号"),
                vue.createVNode(_component_uni_forms_item, { name: "cardNo" }, {
                  default: vue.withCtx(() => [
                    vue.createVNode(_component_uni_easyinput, {
                      modelValue: $setup.formData.cardNo,
                      "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.formData.cardNo = $event),
                      placeholder: "请输入银行卡卡号"
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                  /* STABLE */
                })
              ]),
              vue.createElementVNode("view", { class: "detail-item" }, [
                vue.createElementVNode("view", null, "开户银行"),
                vue.createVNode(_component_uni_forms_item, { name: "bankName" }, {
                  default: vue.withCtx(() => [
                    vue.createVNode(_component_uni_easyinput, {
                      modelValue: $setup.formData.bankName,
                      "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.formData.bankName = $event),
                      placeholder: "请输入开户行"
                    }, null, 8, ["modelValue"])
                  ]),
                  _: 1
                  /* STABLE */
                })
              ])
            ]),
            vue.createElementVNode("view", { class: "clause" }, [
              vue.createElementVNode("view", { style: { "margin": "50rpx 0 10rpx", "color": "#9E9E9E" } }, "提现说明："),
              vue.createElementVNode("view", { style: { "font-size": "25rpx", "color": "#9E9E9E" } }, "1、在交易过程中，会向麦苗倾诉显示添加的付款方式的详细信息以进行付款，将看到您的真实姓名。请确保信息正确、真实。")
            ]),
            vue.createElementVNode("button", {
              onClick: $setup.butBankCard,
              class: "but"
            }, "确定")
          ]),
          _: 1
          /* STABLE */
        }, 8, ["rules", "modelValue"])
      ])
    ]);
  }
  const PagesMyWalletBankCard = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["render", _sfc_render$c], ["__scopeId", "data-v-9a0896a2"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/my/wallet/bank-card.vue"]]);
  const _imports_0$2 = "/static/my/mine-bill.png";
  const _sfc_main$c = {
    __name: "mine",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "5c4c0053-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const moneyData = vue.ref({
        monthlyIncome: 0,
        //本月收益
        unsettledAmount: 0,
        //未结算金额
        withdrawableAmount: 0,
        //可提现余额
        totalAssets: 0
        //我的资产
      });
      const type = vue.ref({});
      onLoad((options) => {
        type.value = JSON.parse(options.type);
      });
      const icons = vue.ref(true);
      const iconsClick = () => {
        icons.value = !icons.value;
      };
      const list = async () => {
        try {
          const { data } = await summary();
          moneyData.value = data;
        } catch (error) {
          formatAppLog("log", "at pages/my/wallet/mine.vue:77", error);
        }
      };
      vue.onMounted(() => {
        list();
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const handleWithdrawal = (url2) => {
        uni.navigateTo({ url: `${url2}&type=${JSON.stringify(type.value)}` });
      };
      const __returned__ = { globalStore, statusBarHeight, moneyData, type, icons, iconsClick, list, backFn, scrollTop, handleWithdrawal, ref: vue.ref, onMounted: vue.onMounted, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get summary() {
        return summary;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$b(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "我的钱包"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createElementVNode("view", { class: "content-details" }, [
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", null, "本月收益"),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.moneyData.monthlyIncome),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", null, "未结算金额"),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.moneyData.unsettledAmount),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "detail-item" }, [
            vue.createElementVNode("view", null, "可提现金额"),
            vue.createElementVNode(
              "text",
              null,
              vue.toDisplayString($setup.moneyData.withdrawableAmount),
              1
              /* TEXT */
            )
          ])
        ]),
        vue.createElementVNode("view", { class: "clause" }, [
          vue.createElementVNode("view", { class: "clause-item" }, [
            vue.createElementVNode("view", { class: "money" }, [
              vue.createElementVNode("view", { class: "money-tilte" }, [
                vue.createElementVNode("view", null, "我的资产(元)"),
                vue.createElementVNode("view", {
                  class: "icons",
                  onClick: $setup.iconsClick
                }, [
                  vue.createVNode(_component_uni_icons, {
                    type: $setup.icons ? "eye-filled" : "eye-slash-filled",
                    color: "#fff",
                    size: "20"
                  }, null, 8, ["type"])
                ])
              ]),
              $setup.icons ? (vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: 0,
                  class: "money-num"
                },
                vue.toDisplayString($setup.moneyData.totalAssets),
                1
                /* TEXT */
              )) : (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "money-num"
              }, "*****"))
            ]),
            vue.createElementVNode("view", {
              class: "but",
              onClick: _cache[0] || (_cache[0] = ($event) => $setup.handleWithdrawal(`/pages/my/wallet/withdrawal?amount=${$setup.moneyData.withdrawableAmount}`))
            }, "提现")
          ]),
          vue.createElementVNode("view", {
            class: "clause-bill",
            onClick: _cache[1] || (_cache[1] = ($event) => $setup.handleWithdrawal("/pages/my/wallet/bill"))
          }, [
            vue.createElementVNode("image", { src: _imports_0$2 }),
            vue.createElementVNode("view", null, "账单")
          ])
        ])
      ])
    ]);
  }
  const PagesMyWalletMine = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["render", _sfc_render$b], ["__scopeId", "data-v-5c4c0053"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/my/wallet/mine.vue"]]);
  const _sfc_main$b = {
    __name: "mall-home",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "f1939a52-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const searchFn = (e2) => {
        formatAppLog("log", "at pages/shopping-mall/mall-home.vue:145", "搜索关键词:", e2.value);
      };
      const categoryList = vue.ref([]);
      const fetchCategoryList = async () => {
        try {
          const { data } = await postCategoryList();
          categoryList.value = data;
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/mall-home.vue:155", "获取商品分类列表失败:", error);
        }
      };
      const activeFirstId = vue.ref("");
      const expandSecondIds = vue.ref([]);
      const goodsMap = vue.ref({});
      const goodsFirstMap = vue.ref({});
      const loadingMap = vue.ref({});
      const currentSecondList = vue.computed(() => {
        const currentFirst = categoryList.value.find((item) => item.id === activeFirstId.value);
        return currentFirst ? currentFirst.children : [];
      });
      const selectFirstCategory = async (item) => {
        activeFirstId.value = item.id;
        expandSecondIds.value = [];
        await fetchCategoryProducts(item.id, "first");
      };
      const toggleSecondExpand = async (secondItem) => {
        const secondId = secondItem.id;
        const idx = expandSecondIds.value.indexOf(secondId);
        if (idx > -1) {
          expandSecondIds.value.splice(idx, 1);
        } else {
          expandSecondIds.value.push(secondId);
          if (!goodsMap.value[secondId] && !loadingMap.value[`second-${secondId}`]) {
            await fetchCategoryProducts(secondId, "second");
          }
        }
      };
      const isExpanded = (secondId) => {
        return expandSecondIds.value.includes(secondId);
      };
      const getGoods = (secondId) => {
        return goodsMap.value[secondId] || [];
      };
      const getFirstGoods = (firstId) => {
        return goodsFirstMap.value[firstId] || [];
      };
      const fetchCategoryProducts = async (categoryId, level = "second") => {
        try {
          const loadingKey = `${level}-${categoryId}`;
          loadingMap.value[loadingKey] = true;
          const { data } = await getProductsByCategory({
            categoryId,
            level
            // 接口如果需要区分一级/二级分类，传该参数
          });
          if (level === "first") {
            goodsFirstMap.value[categoryId] = data.records || [];
          } else {
            goodsMap.value[categoryId] = data.records || [];
          }
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/mall-home.vue:236", `获取${level}分类${categoryId}商品失败:`, error);
          if (level === "first") {
            goodsFirstMap.value[categoryId] = [];
          } else {
            goodsMap.value[categoryId] = [];
          }
        } finally {
          const loadingKey = `${level}-${categoryId}`;
          loadingMap.value[loadingKey] = false;
        }
      };
      const fetchCartList = async () => {
        try {
          const response = await getCartList();
          formatAppLog("log", "at pages/shopping-mall/mall-home.vue:254", "购物车列表数据:", response);
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/mall-home.vue:256", "获取购物车列表失败:", error);
        }
      };
      const deleteCartFn = () => {
        uni.navigateTo({
          url: `/pages/shopping-mall/order-list`
        });
      };
      const goProductDetail = (id2) => {
        uni.navigateTo({
          url: `/pages/shopping-mall/product-details?id=${id2}`
        });
      };
      onLoad(async () => {
        await fetchCategoryList();
        if (categoryList.value.length) {
          activeFirstId.value = categoryList.value[0].id;
          await fetchCategoryProducts(categoryList.value[0].id, "first");
        }
      });
      const __returned__ = { globalStore, statusBarHeight, scrollTop, backFn, searchFn, categoryList, fetchCategoryList, activeFirstId, expandSecondIds, goodsMap, goodsFirstMap, loadingMap, currentSecondList, selectFirstCategory, toggleSecondExpand, isExpanded, getGoods, getFirstGoods, fetchCategoryProducts, fetchCartList, deleteCartFn, goProductDetail, ref: vue.ref, computed: vue.computed, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get postCategoryList() {
        return postCategoryList;
      }, get getProductsByCategory() {
        return getProductsByCategory;
      }, get getCartList() {
        return getCartList;
      }, get getRecommendedProducts() {
        return getRecommendedProducts;
      }, get deleteCartItem() {
        return deleteCartItem;
      }, get batchDeleteCartItems() {
        return batchDeleteCartItems;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$a(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": _ctx.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createVNode(_component_uni_nav_bar, {
            class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
            backgroundColor: "rgba(255,255,255,0)",
            border: false,
            title: "健康商城"
          }, {
            left: vue.withCtx(() => [
              vue.createVNode(_component_uni_icons, {
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })
            ]),
            _: 1
            /* STABLE */
          }, 8, ["class"])
        ]),
        vue.createElementVNode("view", { class: "content" }, [
          vue.createElementVNode("view", { class: "features" }, [
            vue.createVNode(_component_uni_search_bar, {
              class: "uni-mt-10",
              radius: "100",
              placeholder: "请输入商品名称搜索",
              clearButton: "auto",
              cancelButton: "none",
              onConfirm: $setup.searchFn
            }),
            vue.createElementVNode("view", {
              class: "function-icon",
              onClick: $setup.deleteCartFn
            }, [
              vue.createVNode(_component_uni_icons, {
                "custom-prefix": "iconfont",
                type: "icon-wenjianjia",
                size: "15",
                color: "#434746"
              }),
              vue.createElementVNode("view", { style: { "margin-left": "10rpx" } }, "商品订单")
            ])
          ]),
          vue.createElementVNode("view", { class: "category-container" }, [
            vue.createElementVNode("scroll-view", {
              class: "left-category",
              "scroll-y": ""
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.categoryList, (item) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: vue.normalizeClass(["first-item", { active: item.id === $setup.activeFirstId }]),
                    key: item.id,
                    onClick: ($event) => $setup.selectFirstCategory(item)
                  }, [
                    vue.createElementVNode("view", { class: "first-title" }, [
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.name),
                        1
                        /* TEXT */
                      ),
                      item.id === $setup.activeFirstId ? (vue.openBlock(), vue.createElementBlock("image", {
                        key: 0,
                        src: _imports_0$j
                      })) : vue.createCommentVNode("v-if", true)
                    ]),
                    vue.withDirectives(vue.createElementVNode(
                      "view",
                      { class: "first-line" },
                      null,
                      512
                      /* NEED_PATCH */
                    ), [
                      [vue.vShow, item.id == $setup.activeFirstId]
                    ])
                  ], 10, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ]),
            vue.createElementVNode("scroll-view", {
              class: "right-content",
              "scroll-y": ""
            }, [
              $setup.getFirstGoods($setup.activeFirstId).length ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "first-goods-list"
              }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.getFirstGoods($setup.activeFirstId), (goods) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "goods-item",
                      key: goods.id,
                      onClick: ($event) => $setup.goProductDetail(goods.id)
                    }, [
                      vue.createElementVNode("image", {
                        src: goods.thumbnail,
                        class: "goods-img"
                      }, null, 8, ["src"]),
                      vue.createElementVNode("view", { class: "goods-info" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "goods-name" },
                          vue.toDisplayString(goods.name),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "goods-tag" }, [
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(goods.tags, (tag) => {
                              return vue.openBlock(), vue.createElementBlock(
                                "text",
                                {
                                  key: tag,
                                  class: "tag-text"
                                },
                                vue.toDisplayString(tag),
                                1
                                /* TEXT */
                              );
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          ))
                        ]),
                        vue.createElementVNode("view", { class: "goods-action" }, [
                          vue.createElementVNode(
                            "text",
                            { class: "goods-price" },
                            "¥" + vue.toDisplayString(goods.minPrice),
                            1
                            /* TEXT */
                          ),
                          vue.createVNode(_component_uni_icons, {
                            type: "plus-filled",
                            size: "30",
                            color: "#EB9516",
                            class: "add-btn"
                          })
                        ])
                      ])
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : vue.createCommentVNode("v-if", true),
              $setup.currentSecondList.length ? (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.currentSecondList, (secondItem) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "second-item",
                      key: secondItem.id,
                      onClick: ($event) => $setup.toggleSecondExpand(secondItem)
                    }, [
                      vue.createElementVNode("view", { class: "second-title" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "title-text" },
                          vue.toDisplayString(secondItem.name),
                          1
                          /* TEXT */
                        ),
                        vue.createVNode(_component_uni_icons, {
                          "custom-prefix": "iconfont",
                          type: $setup.isExpanded(secondItem.id) ? "icon-chevronsdownshuangxiajiantou" : "icon-chevronsup-top",
                          size: "18",
                          color: "#A09797"
                        }, null, 8, ["type"])
                      ]),
                      $setup.isExpanded(secondItem.id) ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "goods-list"
                      }, [
                        (vue.openBlock(true), vue.createElementBlock(
                          vue.Fragment,
                          null,
                          vue.renderList($setup.getGoods(secondItem.id), (goods) => {
                            return vue.openBlock(), vue.createElementBlock("view", {
                              class: "goods-item",
                              key: goods.id,
                              onClick: ($event) => $setup.goProductDetail(goods.id)
                            }, [
                              vue.createElementVNode("image", {
                                src: goods.thumbnail,
                                class: "goods-img"
                              }, null, 8, ["src"]),
                              vue.createElementVNode("view", { class: "goods-info" }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "goods-name" },
                                  vue.toDisplayString(goods.name),
                                  1
                                  /* TEXT */
                                ),
                                vue.createElementVNode("view", { class: "goods-tag" }, [
                                  (vue.openBlock(true), vue.createElementBlock(
                                    vue.Fragment,
                                    null,
                                    vue.renderList(goods.tags, (tag) => {
                                      return vue.openBlock(), vue.createElementBlock(
                                        "text",
                                        {
                                          key: tag,
                                          class: "tag-text"
                                        },
                                        vue.toDisplayString(tag),
                                        1
                                        /* TEXT */
                                      );
                                    }),
                                    128
                                    /* KEYED_FRAGMENT */
                                  ))
                                ]),
                                vue.createElementVNode("view", { class: "goods-action" }, [
                                  vue.createElementVNode(
                                    "text",
                                    { class: "goods-price" },
                                    "¥" + vue.toDisplayString(goods.minPrice),
                                    1
                                    /* TEXT */
                                  ),
                                  vue.createVNode(_component_uni_icons, {
                                    type: "plus-filled",
                                    size: "30",
                                    color: "#EB9516",
                                    class: "add-btn"
                                  })
                                ])
                              ])
                            ], 8, ["onClick"]);
                          }),
                          128
                          /* KEYED_FRAGMENT */
                        )),
                        $setup.getGoods(secondItem.id).length == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "empty-tip"
                        }, "暂无商品")) : vue.createCommentVNode("v-if", true)
                      ])) : vue.createCommentVNode("v-if", true)
                    ], 8, ["onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])) : !$setup.getFirstGoods($setup.activeFirstId).length ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 2,
                class: "empty-tip"
              }, "暂无商品")) : vue.createCommentVNode("v-if", true)
            ])
          ])
        ])
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", {
        class: "footer",
        onClick: _cache[0] || (_cache[0] = ($event) => uni.navigateTo({ url: "/pages/shopping-mall/shopping-cart" }))
      }, [
        vue.createVNode(_component_uni_icons, {
          type: "cart",
          size: "35",
          color: "#FF9800"
        })
      ])
    ]);
  }
  const PagesShoppingMallMallHome = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$a], ["__scopeId", "data-v-f1939a52"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/mall-home.vue"]]);
  const _sfc_main$a = {
    __name: "product-details",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "834054ae-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      const top = vue.ref(0);
      const userIds = vue.ref("");
      const productDetails = vue.ref({});
      onLoad((options) => {
        fetchProductDetails(options.id);
        getCommentByTargetUserIdApi(options.id);
      });
      const backFn = () => {
        uni.navigateBack({ delta: 1 });
      };
      const fetchProductDetails = async (id2) => {
        try {
          const response = await getProductDetail(id2);
          productDetails.value = response.data;
          extractSpecOptions();
          matchCurrentSku();
        } catch (error) {
          formatAppLog("log", "at pages/shopping-mall/product-details.vue:279", "获取商品详情失败:", error);
        }
      };
      const serviceRef = vue.ref(null);
      const customerService = () => {
        serviceRef.value.open();
      };
      const evaluationList = vue.ref([]);
      const getCommentByTargetUserIdApi = async (id2) => {
        let { data } = await getCommentByTargetUserId({
          targetUserId: id2,
          page: 1,
          pageSize: 2
        });
        evaluationList.value = data.records;
      };
      const isInCart = vue.ref("purchase");
      const openStandard = () => {
        isInCart.value = "standard";
        popup.value.open();
      };
      const popup = vue.ref(null);
      const handleBuy = () => {
        popup.value.open();
        isInCart.value = "buy";
      };
      const addToCart = () => {
        popup.value.open();
        isInCart.value = "cart";
      };
      const openEvaluate = () => {
        uni.navigateTo({
          url: `/pages/consult-feel/consult-feel?userId=${userIds.value}&userInfo=${JSON.stringify(consultantInfo.value)}`
        });
      };
      const selectedSpec = vue.ref({ 颜色: "", 尺寸: "" });
      const colorOptions = vue.ref([]);
      const sizeOptions = vue.ref([]);
      const availableSizeOptions = vue.ref([]);
      const specMap = vue.ref({});
      const currentSku = vue.ref(null);
      const count = vue.ref(1);
      const extractSpecOptions = () => {
        const colorToSizes = {};
        productDetails.value.skuList.forEach((sku) => {
          const { 颜色, 尺寸 } = sku.specValues;
          if (!colorToSizes[颜色]) {
            colorToSizes[颜色] = /* @__PURE__ */ new Set();
          }
          colorToSizes[颜色].add(尺寸);
        });
        specMap.value = colorToSizes;
        colorOptions.value = Object.keys(colorToSizes);
        const allSizes = /* @__PURE__ */ new Set();
        productDetails.value.skuList.forEach((sku) => allSizes.add(sku.specValues.尺寸));
        sizeOptions.value = Array.from(allSizes);
        if (colorOptions.value.length) {
          selectedSpec.value.颜色 = colorOptions.value[0];
          availableSizeOptions.value = Array.from(colorToSizes[selectedSpec.value.颜色]);
          if (availableSizeOptions.value.length) {
            selectedSpec.value.尺寸 = availableSizeOptions.value[0];
          }
        }
      };
      const matchCurrentSku = () => {
        const { 颜色, 尺寸 } = selectedSpec.value;
        if (!颜色 || !尺寸) {
          currentSku.value = null;
          return;
        }
        currentSku.value = productDetails.value.skuList.find((sku) => {
          return sku.specValues.颜色 === 颜色 && sku.specValues.尺寸 === 尺寸;
        });
      };
      const handleSelectColor = (color2) => {
        selectedSpec.value.颜色 = color2;
        availableSizeOptions.value = Array.from(specMap.value[color2] || []);
        if (availableSizeOptions.value.length) {
          selectedSpec.value.尺寸 = availableSizeOptions.value[0];
        } else {
          selectedSpec.value.尺寸 = "";
        }
        matchCurrentSku();
      };
      const handleSelectSize = (size) => {
        selectedSpec.value.尺寸 = size;
        matchCurrentSku();
      };
      const handleMinus = () => {
        if (count.value > 1)
          count.value--;
      };
      const handlePlus = () => {
        count.value++;
      };
      const handleAddCart = async () => {
        if (!currentSku.value) {
          return showToast({ title: "请选择商品规格", icon: "none" });
        }
        try {
          const response = await addCart({
            productId: productDetails.value.id,
            // 商品主ID
            quantity: count.value,
            // 购买数量
            skuId: currentSku.value.id
            // 选中的SKU ID
          });
          uni.showToast({ title: "加入购物车成功", icon: "success" });
          popup.value.close();
        } catch (error) {
          formatAppLog("log", "at pages/shopping-mall/product-details.vue:434", error);
        }
      };
      const handleBuyNow = () => {
        if (!currentSku.value) {
          return showToast({ title: "请选择商品规格", icon: "none" });
        }
        const data = {
          ...productDetails.value,
          currentSku: {
            ...currentSku.value,
            quantity: count.value
          },
          detailImages: null
        };
        formatAppLog("log", "at pages/shopping-mall/product-details.vue:451", data);
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, top, userIds, productDetails, backFn, fetchProductDetails, serviceRef, customerService, evaluationList, getCommentByTargetUserIdApi, isInCart, openStandard, popup, handleBuy, addToCart, openEvaluate, selectedSpec, colorOptions, sizeOptions, availableSizeOptions, specMap, currentSku, count, extractSpecOptions, matchCurrentSku, handleSelectColor, handleSelectSize, handleMinus, handlePlus, handleAddCart, handleBuyNow, onMounted: vue.onMounted, ref: vue.ref, get onLoad() {
        return onLoad;
      }, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get getProductDetail() {
        return getProductDetail;
      }, get addCart() {
        return addCart;
      }, get getCommentByTargetUserId() {
        return getCommentByTargetUserId;
      }, get MoteLinesDivide() {
        return MoteLinesDivide;
      }, CustomerService };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$9(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "consult-detail-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": $setup.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createVNode(_component_uni_nav_bar, {
          backgroundColor: $setup.scrollTop > 15 ? "#fff" : "transparent",
          border: false,
          title: $setup.scrollTop > 15 ? _ctx.consultantInfo.consultantName : "",
          class: "header-bar",
          statusBar: true,
          fixed: ""
        }, {
          left: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "right" }, [
              $setup.scrollTop > 15 ? (vue.openBlock(), vue.createBlock(_component_uni_icons, {
                key: 0,
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })) : (vue.openBlock(), vue.createElementBlock("image", {
                key: 1,
                src: _imports_0$o,
                style: { "width": "56rpx", "height": "56rpx" },
                onClick: $setup.backFn
              }))
            ])
          ]),
          _: 1
          /* STABLE */
        }, 8, ["backgroundColor", "title"]),
        vue.createElementVNode("view", { class: "consult-detail-content" }, [
          vue.createElementVNode("view", { class: "swiper-content" }, [
            vue.createElementVNode("view", { class: "uni-margin-wrap" }, [
              vue.createElementVNode("swiper", {
                class: "swiper",
                circular: "",
                "indicator-dots": true,
                autoplay: true,
                interval: 5e3,
                duration: 500
              }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.productDetails.mainImages, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("swiper-item", {
                      key: index,
                      class: "swiper-item"
                    }, [
                      vue.createElementVNode("image", {
                        src: JSON.parse(item).url,
                        style: { "height": "100%", "width": "100%" }
                      }, null, 8, ["src"])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "consult-detail-info" }, [
            vue.createElementVNode(
              "view",
              { class: "detail-item-line-1" },
              vue.toDisplayString($setup.productDetails.name),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "detail-item-line-2" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.productDetails.tags, (value) => {
                  return vue.openBlock(), vue.createElementBlock("text", null, [
                    vue.createElementVNode(
                      "text",
                      null,
                      vue.toDisplayString(value),
                      1
                      /* TEXT */
                    ),
                    value !== $setup.productDetails.tags[$setup.productDetails.tags.length - 1] ? (vue.openBlock(), vue.createElementBlock("text", { key: 0 }, " | ")) : vue.createCommentVNode("v-if", true)
                  ]);
                }),
                256
                /* UNKEYED_FRAGMENT */
              ))
            ]),
            vue.createElementVNode("view", { class: "detail-item-line-3" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createVNode(_component_uni_icons, {
                  "custom-prefix": "iconfont",
                  type: "icon-xiaohuoche",
                  size: "20",
                  color: "#B5B5B5",
                  class: "icon"
                }),
                vue.createElementVNode("view", { class: "express" }, [
                  vue.createElementVNode("text", null, "48小时发货"),
                  vue.createElementVNode("view", { class: "txt" }, "快递费：包邮")
                ])
              ]),
              vue.createElementVNode("view", { class: "content" }, [
                vue.createVNode(_component_uni_icons, {
                  "custom-prefix": "iconfont",
                  type: "icon-dunpai",
                  size: "20",
                  color: "#B5B5B5",
                  class: "icon"
                }),
                vue.createElementVNode("view", { class: "guarantee" }, [
                  vue.createElementVNode("view", null, "严选好物"),
                  vue.createElementVNode("view", null, "售后无忧"),
                  vue.createElementVNode("view", null, "诚信为本"),
                  vue.createElementVNode("view", null, "货真价实")
                ])
              ]),
              vue.createElementVNode("view", {
                class: "content",
                onClick: $setup.openStandard
              }, [
                vue.createVNode(_component_uni_icons, {
                  "custom-prefix": "iconfont",
                  type: "icon-yingyongAPP_o",
                  size: "20",
                  color: "#B5B5B5",
                  class: "icon"
                }),
                vue.createElementVNode("view", { class: "standard" }, [
                  vue.createElementVNode("view", { class: "txt" }, "选择规格"),
                  vue.createVNode(_component_uni_icons, {
                    type: "down",
                    size: "10",
                    class: "icon"
                  })
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "product-details" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("text", null, "商品评价"),
                  vue.createElementVNode("text", { class: "line" })
                ]),
                vue.createElementVNode("view", {
                  class: "comment",
                  onClick: $setup.openEvaluate
                }, "全部评论 > ")
              ]),
              $setup.evaluationList.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "no-evaluation"
              }, " 暂无评价 ")) : vue.createCommentVNode("v-if", true),
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.evaluationList, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "comment-item",
                    key: index
                  }, [
                    vue.createElementVNode("view", { class: "item-header" }, [
                      vue.createElementVNode("view", { class: "user" }, [
                        vue.createElementVNode("image", {
                          src: item.avatar,
                          style: { "border-radius": "50%" }
                        }, null, 8, ["src"]),
                        vue.createElementVNode(
                          "text",
                          null,
                          vue.toDisplayString(item.nickname),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode(
                        "view",
                        { class: "date" },
                        vue.toDisplayString(item.createTime),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", { class: "comment-item-content" }, [
                      vue.createVNode(
                        $setup["MoteLinesDivide"],
                        {
                          line: 3,
                          expandText: "展开",
                          foldHint: "收起"
                        },
                        {
                          default: vue.withCtx(() => [
                            vue.createTextVNode(
                              vue.toDisplayString(item.content),
                              1
                              /* TEXT */
                            )
                          ]),
                          _: 2
                          /* DYNAMIC */
                        },
                        1024
                        /* DYNAMIC_SLOTS */
                      )
                    ])
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ]),
            vue.createElementVNode("view", { class: "product-details" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "title" }, [
                  vue.createElementVNode("text", null, "商品详情"),
                  vue.createElementVNode("text", { class: "line" })
                ])
              ]),
              $setup.productDetails.detailImages == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "no-evaluation"
              }, " 暂无商品详情 ")) : vue.createCommentVNode("v-if", true),
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($setup.productDetails.detailImages, (item) => {
                  return vue.openBlock(), vue.createElementBlock("image", {
                    key: item,
                    src: JSON.parse(item).url,
                    mode: "widthFix",
                    style: { "width": "100%" }
                  }, null, 8, ["src"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ]),
            vue.createElementVNode("view", { class: "anyway" }, [
              vue.createElementVNode("view", { class: "content" }, [
                vue.createElementVNode("view", { class: "wire" }, "这里到底啦")
              ])
            ])
          ])
        ])
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", { class: "follow" }, [
          vue.createElementVNode("image", { src: _imports_1$f }),
          vue.createElementVNode("text", null, "关注")
        ]),
        vue.createElementVNode("view", {
          class: "contact",
          onClick: $setup.customerService
        }, [
          vue.createElementVNode("image", { src: _imports_2$7 }),
          vue.createElementVNode("text", null, "客服")
        ]),
        vue.createElementVNode("view", { class: "message-but" }, [
          vue.createElementVNode("view", {
            class: "btn-cart",
            onClick: $setup.addToCart
          }, "加入购物车"),
          vue.createElementVNode("view", {
            class: "btn-buy",
            onClick: $setup.handleBuy
          }, "立即购买")
        ])
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "bottom",
          "border-radius": "20rpx 20rpx 0 0"
        },
        {
          default: vue.withCtx(() => {
            var _a2;
            return [
              vue.createElementVNode("view", { class: "goods-container" }, [
                vue.createElementVNode("view", { class: "goods-header" }, [
                  vue.createElementVNode("image", {
                    class: "goods-img",
                    src: $setup.productDetails.thumbnail,
                    mode: "widthFix"
                  }, null, 8, ["src"]),
                  vue.createElementVNode("view", { class: "goods-info" }, [
                    vue.createElementVNode("text", { class: "goods-title" }, "温馨坐凳居家必备首选"),
                    vue.createElementVNode(
                      "text",
                      { class: "goods-price" },
                      "¥" + vue.toDisplayString(((_a2 = $setup.currentSku) == null ? void 0 : _a2.price) || 0),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "count-group" }, [
                      vue.createElementVNode("view", {
                        class: "count-btn",
                        onClick: $setup.handleMinus,
                        disabled: $setup.count <= 1
                      }, "-", 8, ["disabled"]),
                      vue.createElementVNode(
                        "view",
                        { class: "count" },
                        vue.toDisplayString($setup.count),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", {
                        class: "count-btn",
                        onClick: $setup.handlePlus
                      }, "+")
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "spec-group" }, [
                  vue.createElementVNode("view", { class: "spec-item" }, [
                    vue.createElementVNode("text", { class: "spec-label" }, "颜色"),
                    vue.createElementVNode("view", { class: "spec-options" }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.colorOptions, (color2, idx) => {
                          return vue.openBlock(), vue.createElementBlock("view", {
                            class: vue.normalizeClass(["spec-option", { active: $setup.selectedSpec.颜色 === color2 }]),
                            key: idx,
                            onClick: ($event) => $setup.handleSelectColor(color2)
                          }, vue.toDisplayString(color2), 11, ["onClick"]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "spec-item" }, [
                    vue.createElementVNode("text", { class: "spec-label" }, "尺寸"),
                    vue.createElementVNode("view", { class: "spec-options" }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList($setup.availableSizeOptions, (size, idx) => {
                          return vue.openBlock(), vue.createElementBlock("view", {
                            class: vue.normalizeClass(["spec-option", { active: $setup.selectedSpec.尺寸 === size }]),
                            key: idx,
                            onClick: ($event) => $setup.handleSelectSize(size)
                          }, vue.toDisplayString(size), 11, ["onClick"]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])
                  ])
                ]),
                vue.createElementVNode("view", { class: "btn-group" }, [
                  vue.withDirectives(vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["cart-btn", $setup.isInCart == "cart" ? "actives" : ""]),
                      onClick: $setup.handleAddCart
                    },
                    "加入购物车",
                    2
                    /* CLASS */
                  ), [
                    [vue.vShow, $setup.isInCart == "cart" || $setup.isInCart == "standard"]
                  ]),
                  vue.withDirectives(vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["buy-btn", $setup.isInCart == "buy" ? "actives" : ""]),
                      onClick: $setup.handleBuyNow
                    },
                    "立即购买",
                    2
                    /* CLASS */
                  ), [
                    [vue.vShow, $setup.isInCart == "buy" || $setup.isInCart == "standard"]
                  ])
                ])
              ])
            ];
          }),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      ),
      vue.createVNode(
        $setup["CustomerService"],
        { ref: "serviceRef" },
        null,
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesShoppingMallProductDetails = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$9], ["__scopeId", "data-v-834054ae"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/product-details.vue"]]);
  const useOrderStore = defineStore("order", () => {
    const orderList2 = vue.ref([]);
    const setOrderList = (list) => {
      orderList2.value = list;
    };
    const clearOrderList = () => {
      orderList2.value = [];
    };
    return {
      orderList: orderList2,
      setOrderList,
      clearOrderList
    };
  });
  const _sfc_main$9 = {
    __name: "Recommended-Product",
    setup(__props, { expose: __expose }) {
      __expose();
      const recommendedProducts = vue.ref([]);
      const fetchRecommendedProducts = async () => {
        try {
          const { data } = await getRecommendedProducts();
          recommendedProducts.value = data;
        } catch (error) {
          formatAppLog("error", "at components/Recommended-Product.vue:25", "获取推荐商品失败:", error);
        }
      };
      const addCartFn = (item, type) => {
        uni.navigateTo({
          url: `/pages/shopping-mall/product-details?id=${item.id}`
        });
      };
      vue.onMounted(() => {
        fetchRecommendedProducts();
      });
      const __returned__ = { recommendedProducts, fetchRecommendedProducts, addCartFn, ref: vue.ref, onMounted: vue.onMounted, get getRecommendedProducts() {
        return getRecommendedProducts;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$8(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "recommend" }, [
      vue.createElementVNode("view", { class: "title" }, "更多推荐"),
      vue.createElementVNode("view", { class: "products" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.recommendedProducts, (item) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: item.id,
              onClick: ($event) => $setup.addCartFn(item, "recommend"),
              class: "product-item"
            }, [
              vue.createElementVNode("image", {
                src: item.thumbnail,
                alt: item.productName,
                class: "products-img"
              }, null, 8, ["src", "alt"]),
              vue.createElementVNode(
                "view",
                { class: "products-name" },
                vue.toDisplayString(item.name),
                1
                /* TEXT */
              )
            ], 8, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const RecommendedProduct = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$8], ["__scopeId", "data-v-7f09e3f8"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/components/Recommended-Product.vue"]]);
  const _imports_0$1 = "/static/settled/shopping-cart.png";
  const deleteWidth = 120;
  const _sfc_main$8 = {
    __name: "shopping-cart",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "02c31558-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const cartList = vue.ref([]);
      const searchFn = (e2) => {
        formatAppLog("log", "at pages/shopping-mall/shopping-cart.vue:156", "搜索关键词:", e2.value);
      };
      const fetchCartList = async () => {
        try {
          const { data } = await getCartList();
          data.forEach((item) => {
            item.checked = false;
          });
          cartList.value = data;
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/shopping-cart.vue:168", "获取购物车列表失败:", error);
        }
      };
      const recommendedProducts = vue.ref([]);
      const fetchRecommendedProducts = async () => {
        try {
          const { data } = await getRecommendedProducts();
          recommendedProducts.value = data;
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/shopping-cart.vue:179", "获取推荐商品失败:", error);
        }
      };
      const isAllChecked = vue.computed(() => {
        return cartList.value.every((item) => item.checked);
      });
      const totalPrice = vue.computed(() => {
        return cartList.value.filter((item) => item.checked).reduce((sum, item) => sum + item.price * item.quantity, 0).toFixed(2);
      });
      const handleCheckToggle = (index) => {
        resetAllSlide();
        cartList.value[index].checked = !cartList.value[index].checked;
      };
      const selectAll = vue.ref(false);
      const handleAllCheck = (e2) => {
        resetAllSlide();
        const checkedStatus = !isAllChecked.value;
        selectAll.value = checkedStatus;
        cartList.value.forEach((item) => {
          item.checked = checkedStatus;
        });
      };
      const handleMinus = (index) => {
        resetAllSlide();
        if (cartList.value[index].quantity > 1) {
          cartList.value[index].quantity--;
          updateCartItemApi(cartList.value[index].id, cartList.value[index].quantity);
        } else {
          showToast({ title: "数量不能少于1", icon: "none" });
        }
      };
      const handlePlus = (index) => {
        resetAllSlide();
        cartList.value[index].quantity++;
        updateCartItemApi(cartList.value[index].id, cartList.value[index].quantity);
      };
      const updateCartItemApi = async (id2, quantity) => {
        try {
          await updateCartItem({ id: id2, quantity });
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/shopping-cart.vue:240", "更新购物车失败:", error);
        }
      };
      const handleSingleDelete = async (item) => {
        try {
          await deleteCartItem({ id: item.id });
          fetchCartList();
          saveCart();
          showToast({ title: "删除成功", icon: "success" });
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/shopping-cart.vue:252", "删除购物车商品失败:", error);
        }
      };
      let startX = 0;
      const handleTouchStart = (index, e2) => {
        resetAllSlide();
        startX = e2.touches[0].clientX;
        cartList.value[index].isSliding = true;
      };
      const handleTouchMove = (index, e2) => {
        const item = cartList.value[index];
        if (!item.isSliding)
          return;
        const moveX = e2.touches[0].clientX;
        const diffX = startX - moveX;
        if (diffX <= 0) {
          item.slideX = 0;
        } else if (diffX >= deleteWidth) {
          item.slideX = -deleteWidth;
        } else {
          item.slideX = -diffX;
        }
      };
      const handleTouchEnd = (index) => {
        const item = cartList.value[index];
        item.isSliding = false;
        if (Math.abs(item.slideX) > deleteWidth / 2) {
          item.slideX = -deleteWidth;
        } else {
          item.slideX = 0;
        }
      };
      const resetAllSlide = () => {
        cartList.value.forEach((item) => {
          item.slideX = 0;
          item.isSliding = false;
        });
      };
      const saveCart = () => {
      };
      const deleteCartFn = async () => {
        const selectedIds = cartList.value.filter((item) => item.checked).map((item) => item.id);
        if (selectedIds.length === 0) {
          uni.showToast({ title: "请选择要删除的商品", icon: "none" });
          return;
        }
        uni.showModal({
          title: "确认删除",
          content: "是否删除选中的商品？",
          async success(res2) {
            if (res2.confirm) {
              try {
                await batchDeleteCartItems({ ids: selectedIds });
                await fetchCartList();
                uni.showToast({ title: "删除成功", icon: "success" });
              } catch (error) {
                formatAppLog("error", "at pages/shopping-mall/shopping-cart.vue:329", "批量删除失败:", error);
                uni.showToast({ title: "删除失败", icon: "none" });
              }
            }
          }
        });
      };
      const clearCartFn = async () => {
        const allIds = cartList.value.map((item) => item.id);
        if (allIds.length === 0) {
          uni.showToast({ title: "购物车已为空", icon: "none" });
          return;
        }
        uni.showModal({
          title: "确认清空",
          content: "是否清空整个购物车？",
          async success(res2) {
            if (res2.confirm) {
              try {
                await batchDeleteCartItems({ ids: allIds });
                cartList.value = [];
                uni.showToast({ title: "清空成功", icon: "success" });
              } catch (error) {
                formatAppLog("error", "at pages/shopping-mall/shopping-cart.vue:356", "清空购物车失败:", error);
                uni.showToast({ title: "清空失败", icon: "none" });
              }
            }
          }
        });
      };
      const addCartFn = (item) => {
        uni.navigateTo({
          url: `/pages/shopping-mall/product-details?id=${item.productId}`
        });
        formatAppLog("log", "at pages/shopping-mall/shopping-cart.vue:369", "添加到购物车:", item);
      };
      const orderStore = useOrderStore();
      const handleBuy = () => {
        const selectedIds = cartList.value.filter((item) => item.checked);
        if (selectedIds.length === 0) {
          uni.showToast({ title: "请选择要购买的商品", icon: "none" });
          return;
        }
        orderStore.setOrderList(selectedIds);
        uni.navigateTo({
          url: `/pages/shopping-mall/order-confirmation`
        });
      };
      onShow(() => {
        fetchCartList();
        fetchRecommendedProducts();
      });
      const __returned__ = { globalStore, statusBarHeight, scrollTop, backFn, cartList, searchFn, fetchCartList, recommendedProducts, fetchRecommendedProducts, isAllChecked, totalPrice, handleCheckToggle, selectAll, handleAllCheck, handleMinus, handlePlus, updateCartItemApi, handleSingleDelete, get startX() {
        return startX;
      }, set startX(v2) {
        startX = v2;
      }, deleteWidth, handleTouchStart, handleTouchMove, handleTouchEnd, resetAllSlide, saveCart, deleteCartFn, clearCartFn, addCartFn, orderStore, handleBuy, ref: vue.ref, computed: vue.computed, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get useOrderStore() {
        return useOrderStore;
      }, get onShow() {
        return onShow;
      }, get onPageScroll() {
        return onPageScroll;
      }, get getCartList() {
        return getCartList;
      }, get getRecommendedProducts() {
        return getRecommendedProducts;
      }, get deleteCartItem() {
        return deleteCartItem;
      }, get batchDeleteCartItems() {
        return batchDeleteCartItems;
      }, get updateCartItem() {
        return updateCartItem;
      }, RecommendedProduct };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_search_bar = resolveEasycom(vue.resolveDynamicComponent("uni-search-bar"), __easycom_2$e);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": _ctx.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createVNode(_component_uni_nav_bar, {
            class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
            backgroundColor: "rgba(255,255,255,0)",
            border: false,
            title: "购物车"
          }, {
            left: vue.withCtx(() => [
              vue.createVNode(_component_uni_icons, {
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })
            ]),
            _: 1
            /* STABLE */
          }, 8, ["class"])
        ]),
        vue.createElementVNode("view", { class: "content" }, [
          vue.createElementVNode("view", { class: "features" }, [
            vue.createVNode(_component_uni_search_bar, {
              class: "uni-mt-10",
              radius: "100",
              placeholder: "请输入商品名称搜索",
              clearButton: "auto",
              cancelButton: "none",
              onConfirm: $setup.searchFn
            }),
            vue.createElementVNode("view", {
              class: "function-icon",
              onClick: $setup.deleteCartFn
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "trash-filled",
                size: "20",
                color: "#ff0000"
              }),
              vue.createElementVNode("view", null, "删除")
            ]),
            vue.createElementVNode("view", { class: "boundary" }),
            vue.createElementVNode("view", {
              class: "function-icon clear",
              onClick: $setup.clearCartFn
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "clear",
                color: "#34C759",
                size: "20"
              }),
              vue.createElementVNode("view", null, "清空")
            ])
          ]),
          vue.createElementVNode("view", { class: "lists" }, [
            $setup.cartList.length == 0 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "empty-cart"
            }, [
              vue.createElementVNode("image", { src: _imports_0$1 }),
              vue.createElementVNode("view", null, "小车空空啦，快去加购吧")
            ])) : vue.createCommentVNode("v-if", true),
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.cartList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "cart-item",
                  key: item.id
                }, [
                  vue.createElementVNode("movable-area", { class: "movable-area" }, [
                    vue.createElementVNode("movable-view", {
                      class: "movable-view",
                      direction: "horizontal",
                      x: item.slideX,
                      onTouchstart: ($event) => $setup.handleTouchStart(index, $event),
                      onTouchmove: ($event) => $setup.handleTouchMove(index, $event),
                      onTouchend: ($event) => $setup.handleTouchEnd(index)
                    }, [
                      vue.createElementVNode("view", { class: "cart-item-content" }, [
                        vue.createElementVNode(
                          "view",
                          {
                            class: vue.normalizeClass({ "cart-item-show": Math.abs(item.slideX) > 0 })
                          },
                          null,
                          2
                          /* CLASS */
                        ),
                        vue.createElementVNode("view", {
                          class: "cart-radio-wrap",
                          onClick: ($event) => $setup.handleCheckToggle(index)
                        }, [
                          vue.createVNode(_component_uni_icons, {
                            type: item.checked ? "checkbox-filled" : "circle",
                            size: "25",
                            color: item.checked ? "#ff9900" : "#ccc"
                          }, null, 8, ["type", "color"])
                        ], 8, ["onClick"]),
                        vue.createElementVNode("view", { class: "cart-item-info" }, [
                          vue.createElementVNode("image", {
                            class: "cart-item-img",
                            src: item.thumbnail,
                            mode: "widthFix",
                            onClick: ($event) => $setup.addCartFn(item, "cart")
                          }, null, 8, ["src", "onClick"]),
                          vue.createElementVNode("view", { class: "cart-item-detail" }, [
                            vue.createElementVNode("text", {
                              class: "cart-item-title",
                              onClick: ($event) => $setup.addCartFn(item, "cart")
                            }, vue.toDisplayString(item.productName), 9, ["onClick"]),
                            vue.createElementVNode("view", {
                              class: "cart-item-spec",
                              onClick: ($event) => $setup.addCartFn(item, "cart")
                            }, [
                              vue.createElementVNode(
                                "text",
                                null,
                                vue.toDisplayString(Object.values(item.specValues).join(";")),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "text",
                                { class: "cart-item-price" },
                                "¥" + vue.toDisplayString(item.price),
                                1
                                /* TEXT */
                              )
                            ], 8, ["onClick"]),
                            vue.createElementVNode("view", { class: "count-group" }, [
                              vue.createElementVNode("view", {
                                class: "count-btn minus-btn",
                                onClick: ($event) => $setup.handleMinus(index),
                                disabled: item.quantity <= 1
                              }, [
                                vue.createElementVNode("view", null, "-"),
                                vue.createElementVNode("view", { class: "line" })
                              ], 8, ["onClick", "disabled"]),
                              vue.createElementVNode(
                                "view",
                                { class: "count" },
                                vue.toDisplayString(item.quantity),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode("view", {
                                class: "count-btn plus-btn",
                                onClick: ($event) => $setup.handlePlus(index)
                              }, [
                                vue.createElementVNode("view", { class: "line" }),
                                vue.createElementVNode("view", null, "+")
                              ], 8, ["onClick"])
                            ])
                          ])
                        ])
                      ]),
                      vue.createElementVNode("view", {
                        class: "cart-item-delete",
                        onClick: ($event) => $setup.handleSingleDelete(item)
                      }, [
                        vue.createVNode(_component_uni_icons, {
                          type: "trash-filled",
                          size: "25",
                          color: "#fff"
                        }),
                        vue.createElementVNode("text", { class: "delete-text" }, "删除")
                      ], 8, ["onClick"])
                    ], 40, ["x", "onTouchstart", "onTouchmove", "onTouchend"])
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ]),
          vue.createVNode($setup["RecommendedProduct"])
        ])
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", {
          class: "all-check",
          onClick: _cache[0] || (_cache[0] = ($event) => $setup.handleAllCheck())
        }, [
          vue.createVNode(_component_uni_icons, {
            type: $setup.selectAll ? "checkbox-filled" : "circle",
            size: "25",
            color: $setup.selectAll ? "#ff9900" : "#ccc"
          }, null, 8, ["type", "color"]),
          vue.createTextVNode(" 全选 ")
        ]),
        vue.createElementVNode("view", { class: "message-but" }, [
          vue.createElementVNode("view", {
            class: "btn-cart",
            onClick: _cache[1] || (_cache[1] = (...args) => _ctx.addToCart && _ctx.addToCart(...args))
          }, [
            vue.createElementVNode("view", null, "合计："),
            vue.createElementVNode(
              "view",
              { class: "total-price" },
              "¥" + vue.toDisplayString($setup.totalPrice),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", {
            class: "btn-buy",
            onClick: $setup.handleBuy
          }, "结算")
        ])
      ])
    ]);
  }
  const PagesShoppingMallShoppingCart = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render$7], ["__scopeId", "data-v-02c31558"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/shopping-cart.vue"]]);
  const _imports_0 = "/static/register/default.png";
  const _sfc_main$7 = {
    __name: "delivery-address",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "dc1ea2a4-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const addressList = vue.ref([]);
      const getAddressListFn = async () => {
        try {
          const res2 = await getAddressList();
          addressList.value = res2.data.map((item) => ({
            ...item,
            checked: false
          }));
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/delivery-address.vue:96", "获取地址列表失败:", error);
        }
      };
      const handleEdit = (item) => {
        uni.navigateTo({
          url: `/pages/shopping-mall/operation-address?info=${JSON.stringify(item)}`
        });
      };
      const handleAdd = () => {
        uni.navigateTo({
          url: `/pages/shopping-mall/operation-address`
        });
      };
      const checkedAddress = vue.ref(null);
      const handleCheckToggle = (item) => {
        addressList.value = addressList.value.map((addr) => ({
          ...addr,
          checked: addr.id === item.id
        }));
        checkedAddress.value = item;
      };
      const handleDelete = async () => {
        if (!checkedAddress.value) {
          uni.showToast({ title: "请选择要删除的地址", icon: "none" });
          return;
        }
        try {
          await deleteAddress(checkedAddress.value);
          uni.showToast({ title: "删除成功", icon: "none" });
          getAddressListFn();
        } catch (error) {
          formatAppLog("error", "at pages/shopping-mall/delivery-address.vue:135", "删除地址失败:", error);
        }
      };
      onShow(() => {
        getAddressListFn();
      });
      const __returned__ = { globalStore, statusBarHeight, scrollTop, backFn, addressList, getAddressListFn, handleEdit, handleAdd, checkedAddress, handleCheckToggle, handleDelete, ref: vue.ref, computed: vue.computed, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get getAddressList() {
        return getAddressList;
      }, get deleteAddress() {
        return deleteAddress;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": _ctx.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createVNode(_component_uni_nav_bar, {
            class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
            backgroundColor: "rgba(255,255,255,0)",
            border: false,
            title: "收货地址"
          }, {
            left: vue.withCtx(() => [
              vue.createVNode(_component_uni_icons, {
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })
            ]),
            right: vue.withCtx(() => [
              vue.createElementVNode("view", {
                class: "function-icon",
                onClick: $setup.handleDelete
              }, [
                vue.createVNode(_component_uni_icons, {
                  type: "trash-filled",
                  size: "20",
                  color: "#ff0000"
                }),
                vue.createElementVNode("view", null, "删除")
              ])
            ]),
            _: 1
            /* STABLE */
          }, 8, ["class"])
        ]),
        vue.createElementVNode("view", { class: "content" }, [
          vue.createElementVNode("view", { class: "content-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.addressList, (item) => {
                return vue.openBlock(), vue.createElementBlock("view", { class: "content-item" }, [
                  item.isDefault == 1 ? (vue.openBlock(), vue.createElementBlock("image", {
                    key: 0,
                    src: _imports_0,
                    class: "content-tag"
                  })) : vue.createCommentVNode("v-if", true),
                  vue.createVNode(_component_uni_icons, {
                    type: item.checked ? "checkbox-filled" : "circle",
                    color: item.checked ? "#ff9900" : "#ccc",
                    size: "25",
                    onClick: ($event) => $setup.handleCheckToggle(item)
                  }, null, 8, ["type", "color", "onClick"]),
                  vue.createElementVNode("view", { class: "item-info" }, [
                    vue.createElementVNode("view", { class: "item-address" }, [
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.province),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.city),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.district),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode(
                      "view",
                      { class: "item-detail" },
                      vue.toDisplayString(item.detailAddress),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "item-receiver" }, [
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.receiverName),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString(item.receiverPhone),
                        1
                        /* TEXT */
                      )
                    ])
                  ]),
                  vue.createVNode(_component_uni_icons, {
                    type: "compose",
                    size: "30",
                    color: "#a7a7a7",
                    onClick: ($event) => $setup.handleEdit(item)
                  }, null, 8, ["onClick"])
                ]);
              }),
              256
              /* UNKEYED_FRAGMENT */
            ))
          ])
        ]),
        vue.createElementVNode("view", { class: "boundary" }, "删除地址，需在列表框选中对应地址再点击删除")
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", {
          class: "btn-buy",
          onClick: $setup.handleAdd
        }, "新增收货地址")
      ])
    ]);
  }
  const PagesShoppingMallDeliveryAddress = /* @__PURE__ */ _export_sfc(_sfc_main$7, [["render", _sfc_render$6], ["__scopeId", "data-v-dc1ea2a4"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/delivery-address.vue"]]);
  const dataPicker = {
    props: {
      localdata: {
        type: [Array, Object],
        default() {
          return [];
        }
      },
      spaceInfo: {
        type: Object,
        default() {
          return {};
        }
      },
      collection: {
        type: String,
        default: ""
      },
      action: {
        type: String,
        default: ""
      },
      field: {
        type: String,
        default: ""
      },
      orderby: {
        type: String,
        default: ""
      },
      where: {
        type: [String, Object],
        default: ""
      },
      pageData: {
        type: String,
        default: "add"
      },
      pageCurrent: {
        type: Number,
        default: 1
      },
      pageSize: {
        type: Number,
        default: 500
      },
      getcount: {
        type: [Boolean, String],
        default: false
      },
      getone: {
        type: [Boolean, String],
        default: false
      },
      gettree: {
        type: [Boolean, String],
        default: false
      },
      manual: {
        type: Boolean,
        default: false
      },
      value: {
        type: [Array, String, Number],
        default() {
          return [];
        }
      },
      modelValue: {
        type: [Array, String, Number],
        default() {
          return [];
        }
      },
      preload: {
        type: Boolean,
        default: false
      },
      stepSearh: {
        type: Boolean,
        default: true
      },
      selfField: {
        type: String,
        default: ""
      },
      parentField: {
        type: String,
        default: ""
      },
      multiple: {
        type: Boolean,
        default: false
      },
      map: {
        type: Object,
        default() {
          return {
            text: "text",
            value: "value"
          };
        }
      }
    },
    data() {
      return {
        loading: false,
        errorMessage: "",
        loadMore: {
          contentdown: "",
          contentrefresh: "",
          contentnomore: ""
        },
        dataList: [],
        selected: [],
        selectedIndex: 0,
        page: {
          current: this.pageCurrent,
          size: this.pageSize,
          count: 0
        }
      };
    },
    computed: {
      isLocalData() {
        return !this.collection.length;
      },
      isCloudData() {
        return this.collection.length > 0;
      },
      isCloudDataList() {
        return this.isCloudData && (!this.parentField && !this.selfField);
      },
      isCloudDataTree() {
        return this.isCloudData && this.parentField && this.selfField;
      },
      dataValue() {
        let isModelValue = Array.isArray(this.modelValue) ? this.modelValue.length > 0 : this.modelValue !== null || this.modelValue !== void 0;
        return isModelValue ? this.modelValue : this.value;
      },
      hasValue() {
        if (typeof this.dataValue === "number") {
          return true;
        }
        return this.dataValue != null && this.dataValue.length > 0;
      }
    },
    created() {
      this.$watch(() => {
        var al = [];
        [
          "pageCurrent",
          "pageSize",
          "spaceInfo",
          "value",
          "modelValue",
          "localdata",
          "collection",
          "action",
          "field",
          "orderby",
          "where",
          "getont",
          "getcount",
          "gettree"
        ].forEach((key) => {
          al.push(this[key]);
        });
        return al;
      }, (newValue, oldValue) => {
        for (let i2 = 2; i2 < newValue.length; i2++) {
          if (newValue[i2] != oldValue[i2]) {
            break;
          }
        }
        if (newValue[0] != oldValue[0]) {
          this.page.current = this.pageCurrent;
        }
        this.page.size = this.pageSize;
        this.onPropsChange();
      });
      this._treeData = [];
    },
    methods: {
      onPropsChange() {
        this._treeData = [];
      },
      // 填充 pickview 数据
      async loadData() {
        if (this.isLocalData) {
          this.loadLocalData();
        } else if (this.isCloudDataList) {
          this.loadCloudDataList();
        } else if (this.isCloudDataTree) {
          this.loadCloudDataTree();
        }
      },
      // 加载本地数据
      async loadLocalData() {
        this._treeData = [];
        this._extractTree(this.localdata, this._treeData);
        let inputValue = this.dataValue;
        if (inputValue === void 0) {
          return;
        }
        if (Array.isArray(inputValue)) {
          inputValue = inputValue[inputValue.length - 1];
          if (typeof inputValue === "object" && inputValue[this.map.value]) {
            inputValue = inputValue[this.map.value];
          }
        }
        this.selected = this._findNodePath(inputValue, this.localdata);
      },
      // 加载 Cloud 数据 (单列)
      async loadCloudDataList() {
        if (this.loading) {
          return;
        }
        this.loading = true;
        try {
          let response = await this.getCommand();
          let responseData = response.result.data;
          this._treeData = responseData;
          this._updateBindData();
          this._updateSelected();
          this.onDataChange();
        } catch (e2) {
          this.errorMessage = e2;
        } finally {
          this.loading = false;
        }
      },
      // 加载 Cloud 数据 (树形)
      async loadCloudDataTree() {
        if (this.loading) {
          return;
        }
        this.loading = true;
        try {
          let commandOptions = {
            field: this._cloudDataPostField(),
            where: this._cloudDataTreeWhere()
          };
          if (this.gettree) {
            commandOptions.startwith = `${this.selfField}=='${this.dataValue}'`;
          }
          let response = await this.getCommand(commandOptions);
          let responseData = response.result.data;
          this._treeData = responseData;
          this._updateBindData();
          this._updateSelected();
          this.onDataChange();
        } catch (e2) {
          this.errorMessage = e2;
        } finally {
          this.loading = false;
        }
      },
      // 加载 Cloud 数据 (节点)
      async loadCloudDataNode(callback) {
        if (this.loading) {
          return;
        }
        this.loading = true;
        try {
          let commandOptions = {
            field: this._cloudDataPostField(),
            where: this._cloudDataNodeWhere()
          };
          let response = await this.getCommand(commandOptions);
          let responseData = response.result.data;
          callback(responseData);
        } catch (e2) {
          this.errorMessage = e2;
        } finally {
          this.loading = false;
        }
      },
      // 回显 Cloud 数据
      getCloudDataValue() {
        if (this.isCloudDataList) {
          return this.getCloudDataListValue();
        }
        if (this.isCloudDataTree) {
          return this.getCloudDataTreeValue();
        }
      },
      // 回显 Cloud 数据 (单列)
      getCloudDataListValue() {
        let where = [];
        let whereField = this._getForeignKeyByField();
        if (whereField) {
          where.push(`${whereField} == '${this.dataValue}'`);
        }
        where = where.join(" || ");
        if (this.where) {
          where = `(${this.where}) && (${where})`;
        }
        return this.getCommand({
          field: this._cloudDataPostField(),
          where
        }).then((res2) => {
          this.selected = res2.result.data;
          return res2.result.data;
        });
      },
      // 回显 Cloud 数据 (树形)
      getCloudDataTreeValue() {
        return this.getCommand({
          field: this._cloudDataPostField(),
          getTreePath: {
            startWith: `${this.selfField}=='${this.dataValue}'`
          }
        }).then((res2) => {
          let treePath = [];
          this._extractTreePath(res2.result.data, treePath);
          this.selected = treePath;
          return treePath;
        });
      },
      getCommand(options = {}) {
        let db = tr.database(this.spaceInfo);
        const action = options.action || this.action;
        if (action) {
          db = db.action(action);
        }
        const collection = options.collection || this.collection;
        db = db.collection(collection);
        const where = options.where || this.where;
        if (!(!where || !Object.keys(where).length)) {
          db = db.where(where);
        }
        const field = options.field || this.field;
        if (field) {
          db = db.field(field);
        }
        const orderby = options.orderby || this.orderby;
        if (orderby) {
          db = db.orderBy(orderby);
        }
        const current = options.pageCurrent !== void 0 ? options.pageCurrent : this.page.current;
        const size = options.pageSize !== void 0 ? options.pageSize : this.page.size;
        const getCount = options.getcount !== void 0 ? options.getcount : this.getcount;
        const getTree = options.gettree !== void 0 ? options.gettree : this.gettree;
        const getOptions = {
          getCount,
          getTree
        };
        if (options.getTreePath) {
          getOptions.getTreePath = options.getTreePath;
        }
        db = db.skip(size * (current - 1)).limit(size).get(getOptions);
        return db;
      },
      _cloudDataPostField() {
        let fields = [this.field];
        if (this.parentField) {
          fields.push(`${this.parentField} as parent_value`);
        }
        return fields.join(",");
      },
      _cloudDataTreeWhere() {
        let result = [];
        let selected = this.selected;
        let parentField = this.parentField;
        if (parentField) {
          result.push(`${parentField} == null || ${parentField} == ""`);
        }
        if (selected.length) {
          for (var i2 = 0; i2 < selected.length - 1; i2++) {
            result.push(`${parentField} == '${selected[i2].value}'`);
          }
        }
        let where = [];
        if (this.where) {
          where.push(`(${this.where})`);
        }
        if (result.length) {
          where.push(`(${result.join(" || ")})`);
        }
        return where.join(" && ");
      },
      _cloudDataNodeWhere() {
        let where = [];
        let selected = this.selected;
        if (selected.length) {
          where.push(`${this.parentField} == '${selected[selected.length - 1].value}'`);
        }
        where = where.join(" || ");
        if (this.where) {
          return `(${this.where}) && (${where})`;
        }
        return where;
      },
      _getWhereByForeignKey() {
        let result = [];
        let whereField = this._getForeignKeyByField();
        if (whereField) {
          result.push(`${whereField} == '${this.dataValue}'`);
        }
        if (this.where) {
          return `(${this.where}) && (${result.join(" || ")})`;
        }
        return result.join(" || ");
      },
      _getForeignKeyByField() {
        let fields = this.field.split(",");
        let whereField = null;
        for (let i2 = 0; i2 < fields.length; i2++) {
          const items = fields[i2].split("as");
          if (items.length < 2) {
            continue;
          }
          if (items[1].trim() === "value") {
            whereField = items[0].trim();
            break;
          }
        }
        return whereField;
      },
      _updateBindData(node) {
        const {
          dataList,
          hasNodes
        } = this._filterData(this._treeData, this.selected);
        let isleaf = this._stepSearh === false && !hasNodes;
        if (node) {
          node.isleaf = isleaf;
        }
        this.dataList = dataList;
        this.selectedIndex = dataList.length - 1;
        if (!isleaf && this.selected.length < dataList.length) {
          this.selected.push({
            value: null,
            text: "请选择"
          });
        }
        return {
          isleaf,
          hasNodes
        };
      },
      _updateSelected() {
        let dl = this.dataList;
        let sl = this.selected;
        let textField = this.map.text;
        let valueField = this.map.value;
        for (let i2 = 0; i2 < sl.length; i2++) {
          let value = sl[i2].value;
          let dl2 = dl[i2];
          for (let j2 = 0; j2 < dl2.length; j2++) {
            let item2 = dl2[j2];
            if (item2[valueField] === value) {
              sl[i2].text = item2[textField];
              break;
            }
          }
        }
      },
      _filterData(data, paths) {
        let dataList = [];
        let hasNodes = true;
        dataList.push(data.filter((item) => {
          return item.parent_value === null || item.parent_value === void 0 || item.parent_value === "";
        }));
        for (let i2 = 0; i2 < paths.length; i2++) {
          let value = paths[i2].value;
          let nodes = data.filter((item) => {
            return item.parent_value === value;
          });
          if (nodes.length) {
            dataList.push(nodes);
          } else {
            hasNodes = false;
          }
        }
        return {
          dataList,
          hasNodes
        };
      },
      _extractTree(nodes, result, parent_value) {
        let valueField = this.map.value;
        for (let i2 = 0; i2 < nodes.length; i2++) {
          let node = nodes[i2];
          let child = {};
          for (let key in node) {
            if (key !== "children") {
              child[key] = node[key];
            }
          }
          if (parent_value !== null && parent_value !== void 0 && parent_value !== "") {
            child.parent_value = parent_value;
          }
          result.push(child);
          let children = node.children;
          if (children) {
            this._extractTree(children, result, node[valueField]);
          }
        }
      },
      _extractTreePath(nodes, result) {
        for (let i2 = 0; i2 < nodes.length; i2++) {
          let node = nodes[i2];
          let child = {};
          for (let key in node) {
            if (key !== "children") {
              child[key] = node[key];
            }
          }
          result.push(child);
          let children = node.children;
          if (children) {
            this._extractTreePath(children, result);
          }
        }
      },
      _findNodePath(key, nodes, path = []) {
        let textField = this.map.text;
        let valueField = this.map.value;
        for (let i2 = 0; i2 < nodes.length; i2++) {
          let node = nodes[i2];
          let children = node.children;
          let text = node[textField];
          let value = node[valueField];
          path.push({
            value,
            text
          });
          if (value === key) {
            return path;
          }
          if (children) {
            const p2 = this._findNodePath(key, children, path);
            if (p2.length) {
              return p2;
            }
          }
          path.pop();
        }
        return [];
      }
    }
  };
  const _sfc_main$6 = {
    name: "UniDataPickerView",
    emits: ["nodeclick", "change", "datachange", "update:modelValue"],
    mixins: [dataPicker],
    props: {
      managedMode: {
        type: Boolean,
        default: false
      },
      ellipsis: {
        type: Boolean,
        default: true
      }
    },
    created() {
      if (!this.managedMode) {
        this.$nextTick(() => {
          this.loadData();
        });
      }
    },
    methods: {
      onPropsChange() {
        this._treeData = [];
        this.selectedIndex = 0;
        this.$nextTick(() => {
          this.loadData();
        });
      },
      handleSelect(index) {
        this.selectedIndex = index;
      },
      handleNodeClick(item, i2, j2) {
        if (item.disable) {
          return;
        }
        const node = this.dataList[i2][j2];
        const text = node[this.map.text];
        const value = node[this.map.value];
        if (i2 < this.selected.length - 1) {
          this.selected.splice(i2, this.selected.length - i2);
          this.selected.push({
            text,
            value
          });
        } else if (i2 === this.selected.length - 1) {
          this.selected.splice(i2, 1, {
            text,
            value
          });
        }
        if (node.isleaf) {
          this.onSelectedChange(node, node.isleaf);
          return;
        }
        const {
          isleaf,
          hasNodes
        } = this._updateBindData();
        if (this.isLocalData) {
          this.onSelectedChange(node, !hasNodes || isleaf);
        } else if (this.isCloudDataList) {
          this.onSelectedChange(node, true);
        } else if (this.isCloudDataTree) {
          if (isleaf) {
            this.onSelectedChange(node, node.isleaf);
          } else if (!hasNodes) {
            this.loadCloudDataNode((data) => {
              if (!data.length) {
                node.isleaf = true;
              } else {
                this._treeData.push(...data);
                this._updateBindData(node);
              }
              this.onSelectedChange(node, node.isleaf);
            });
          }
        }
      },
      updateData(data) {
        this._treeData = data.treeData;
        this.selected = data.selected;
        if (!this._treeData.length) {
          this.loadData();
        } else {
          this._updateBindData();
        }
      },
      onDataChange() {
        this.$emit("datachange");
      },
      onSelectedChange(node, isleaf) {
        if (isleaf) {
          this._dispatchEvent();
        }
        if (node) {
          this.$emit("nodeclick", node);
        }
      },
      _dispatchEvent() {
        this.$emit("change", this.selected.slice(0));
      }
    }
  };
  function _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_load_more = resolveEasycom(vue.resolveDynamicComponent("uni-load-more"), __easycom_0$7);
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-data-pickerview" }, [
      !_ctx.isCloudDataList ? (vue.openBlock(), vue.createElementBlock("scroll-view", {
        key: 0,
        class: "selected-area",
        "scroll-x": "true"
      }, [
        vue.createElementVNode("view", { class: "selected-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(_ctx.selected, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["selected-item", {
                  "selected-item-active": index == _ctx.selectedIndex
                }]),
                key: index,
                onClick: ($event) => $options.handleSelect(index)
              }, [
                vue.createElementVNode(
                  "text",
                  null,
                  vue.toDisplayString(item.text || ""),
                  1
                  /* TEXT */
                )
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createElementVNode("view", { class: "tab-c" }, [
        vue.createElementVNode("scroll-view", {
          class: "list",
          "scroll-y": true
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(_ctx.dataList[_ctx.selectedIndex], (item, j2) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["item", { "is-disabled": !!item.disable }]),
                key: j2,
                onClick: ($event) => $options.handleNodeClick(item, _ctx.selectedIndex, j2)
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "item-text" },
                  vue.toDisplayString(item[_ctx.map.text]),
                  1
                  /* TEXT */
                ),
                _ctx.selected.length > _ctx.selectedIndex && item[_ctx.map.value] == _ctx.selected[_ctx.selectedIndex].value ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "check"
                })) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        _ctx.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-cover"
        }, [
          vue.createVNode(_component_uni_load_more, {
            class: "load-more",
            contentText: _ctx.loadMore,
            status: "loading"
          }, null, 8, ["contentText"])
        ])) : vue.createCommentVNode("v-if", true),
        _ctx.errorMessage ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-message"
        }, [
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString(_ctx.errorMessage),
            1
            /* TEXT */
          )
        ])) : vue.createCommentVNode("v-if", true)
      ])
    ]);
  }
  const DataPickerView = /* @__PURE__ */ _export_sfc(_sfc_main$6, [["render", _sfc_render$5], ["__scopeId", "data-v-91ec6a82"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-data-picker/components/uni-data-pickerview/uni-data-pickerview.vue"]]);
  const _sfc_main$5 = {
    name: "UniDataPicker",
    emits: ["popupopened", "popupclosed", "nodeclick", "input", "change", "update:modelValue", "inputclick"],
    mixins: [dataPicker],
    components: {
      DataPickerView
    },
    props: {
      options: {
        type: [Object, Array],
        default() {
          return {};
        }
      },
      popupTitle: {
        type: String,
        default: "请选择"
      },
      placeholder: {
        type: String,
        default: "请选择"
      },
      heightMobile: {
        type: String,
        default: ""
      },
      readonly: {
        type: Boolean,
        default: false
      },
      clearIcon: {
        type: Boolean,
        default: true
      },
      border: {
        type: Boolean,
        default: true
      },
      split: {
        type: String,
        default: "/"
      },
      ellipsis: {
        type: Boolean,
        default: true
      }
    },
    data() {
      return {
        isOpened: false,
        inputSelected: []
      };
    },
    created() {
      this.$nextTick(() => {
        this.load();
      });
    },
    watch: {
      localdata: {
        handler() {
          this.load();
        },
        deep: true
      }
    },
    methods: {
      clear() {
        this._dispatchEvent([]);
      },
      onPropsChange() {
        this._treeData = [];
        this.selectedIndex = 0;
        this.load();
      },
      load() {
        if (this.readonly) {
          this._processReadonly(this.localdata, this.dataValue);
          return;
        }
        if (this.isLocalData) {
          this.loadData();
          this.inputSelected = this.selected.slice(0);
        } else if (this.isCloudDataList || this.isCloudDataTree) {
          this.loading = true;
          this.getCloudDataValue().then((res2) => {
            this.loading = false;
            this.inputSelected = res2;
          }).catch((err) => {
            this.loading = false;
            this.errorMessage = err;
          });
        }
      },
      show() {
        this.isOpened = true;
        setTimeout(() => {
          this.$refs.pickerView.updateData({
            treeData: this._treeData,
            selected: this.selected,
            selectedIndex: this.selectedIndex
          });
        }, 200);
        this.$emit("popupopened");
      },
      hide() {
        this.isOpened = false;
        this.$emit("popupclosed");
      },
      handleInput() {
        if (this.readonly) {
          this.$emit("inputclick");
          return;
        }
        this.show();
      },
      handleClose(e2) {
        this.hide();
      },
      onnodeclick(e2) {
        this.$emit("nodeclick", e2);
      },
      ondatachange(e2) {
        this._treeData = this.$refs.pickerView._treeData;
      },
      onchange(e2) {
        this.hide();
        this.$nextTick(() => {
          this.inputSelected = e2;
        });
        this._dispatchEvent(e2);
      },
      _processReadonly(dataList, value) {
        var isTree = dataList.findIndex((item2) => {
          return item2.children;
        });
        if (isTree > -1) {
          let inputValue;
          if (Array.isArray(value)) {
            inputValue = value[value.length - 1];
            if (typeof inputValue === "object" && inputValue.value) {
              inputValue = inputValue.value;
            }
          } else {
            inputValue = value;
          }
          this.inputSelected = this._findNodePath(inputValue, this.localdata);
          return;
        }
        if (!this.hasValue) {
          this.inputSelected = [];
          return;
        }
        let result = [];
        if (Array.isArray(value)) {
          for (let i2 = 0; i2 < value.length; i2++) {
            var val2 = value[i2];
            var item = dataList.find((v2) => {
              return v2.value == val2;
            });
            if (item) {
              result.push(item);
            }
          }
        } else {
          let item2 = dataList.find((v2) => {
            return v2.value == value;
          });
          if (item2) {
            result.push(item2);
          }
        }
        if (result.length) {
          this.inputSelected = result;
        }
      },
      _filterForArray(data, valueArray) {
        var result = [];
        for (let i2 = 0; i2 < valueArray.length; i2++) {
          var value = valueArray[i2];
          var found = data.find((item) => {
            return item.value == value;
          });
          if (found) {
            result.push(found);
          }
        }
        return result;
      },
      _dispatchEvent(selected) {
        let item = {};
        if (selected.length) {
          var value = new Array(selected.length);
          for (var i2 = 0; i2 < selected.length; i2++) {
            value[i2] = selected[i2].value;
          }
          item = selected[selected.length - 1];
        } else {
          item.value = "";
        }
        if (this.formItem) {
          this.formItem.setValue(item.value);
        }
        this.$emit("input", item.value);
        this.$emit("update:modelValue", item.value);
        this.$emit("change", {
          detail: {
            value: selected
          }
        });
      }
    }
  };
  function _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_load_more = resolveEasycom(vue.resolveDynamicComponent("uni-load-more"), __easycom_0$7);
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_data_picker_view = vue.resolveComponent("data-picker-view");
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-data-tree" }, [
      vue.createElementVNode("view", {
        class: "uni-data-tree-input",
        onClick: _cache[1] || (_cache[1] = (...args) => $options.handleInput && $options.handleInput(...args))
      }, [
        vue.renderSlot(_ctx.$slots, "default", {
          options: $props.options,
          data: $data.inputSelected,
          error: _ctx.errorMessage
        }, () => [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["input-value", { "input-value-border": $props.border }])
            },
            [
              _ctx.errorMessage ? (vue.openBlock(), vue.createElementBlock(
                "text",
                {
                  key: 0,
                  class: "selected-area error-text"
                },
                vue.toDisplayString(_ctx.errorMessage),
                1
                /* TEXT */
              )) : _ctx.loading && !$data.isOpened ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "selected-area"
              }, [
                vue.createVNode(_component_uni_load_more, {
                  class: "load-more",
                  contentText: _ctx.loadMore,
                  status: "loading"
                }, null, 8, ["contentText"])
              ])) : $data.inputSelected.length ? (vue.openBlock(), vue.createElementBlock("scroll-view", {
                key: 2,
                class: "selected-area",
                "scroll-x": "true"
              }, [
                vue.createElementVNode("view", { class: "selected-list" }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList($data.inputSelected, (item, index) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: "selected-item",
                        key: index
                      }, [
                        vue.createElementVNode(
                          "text",
                          { class: "text-color" },
                          vue.toDisplayString(item.text),
                          1
                          /* TEXT */
                        ),
                        index < $data.inputSelected.length - 1 ? (vue.openBlock(), vue.createElementBlock(
                          "text",
                          {
                            key: 0,
                            class: "input-split-line"
                          },
                          vue.toDisplayString($props.split),
                          1
                          /* TEXT */
                        )) : vue.createCommentVNode("v-if", true)
                      ]);
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])
              ])) : (vue.openBlock(), vue.createElementBlock(
                "text",
                {
                  key: 3,
                  class: "selected-area placeholder"
                },
                vue.toDisplayString($props.placeholder),
                1
                /* TEXT */
              )),
              $props.clearIcon && !$props.readonly && $data.inputSelected.length ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 4,
                class: "icon-clear",
                onClick: _cache[0] || (_cache[0] = vue.withModifiers((...args) => $options.clear && $options.clear(...args), ["stop"]))
              }, [
                vue.createVNode(_component_uni_icons, {
                  type: "clear",
                  color: "#c0c4cc",
                  size: "24"
                })
              ])) : vue.createCommentVNode("v-if", true),
              (!$props.clearIcon || !$data.inputSelected.length) && !$props.readonly ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 5,
                class: "arrow-area"
              }, [
                vue.createElementVNode("view", { class: "input-arrow" })
              ])) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          )
        ], true)
      ]),
      $data.isOpened ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "uni-data-tree-cover",
        onClick: _cache[2] || (_cache[2] = (...args) => $options.handleClose && $options.handleClose(...args))
      })) : vue.createCommentVNode("v-if", true),
      $data.isOpened ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "uni-data-tree-dialog"
      }, [
        vue.createElementVNode("view", { class: "uni-popper__arrow" }),
        vue.createElementVNode("view", { class: "dialog-caption" }, [
          vue.createElementVNode("view", { class: "title-area" }, [
            vue.createElementVNode(
              "text",
              { class: "dialog-title" },
              vue.toDisplayString($props.popupTitle),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", {
            class: "dialog-close",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.handleClose && $options.handleClose(...args))
          }, [
            vue.createElementVNode("view", {
              class: "dialog-close-plus",
              "data-id": "close"
            }),
            vue.createElementVNode("view", {
              class: "dialog-close-plus dialog-close-rotate",
              "data-id": "close"
            })
          ])
        ]),
        vue.createVNode(_component_data_picker_view, {
          class: "picker-view",
          ref: "pickerView",
          modelValue: _ctx.dataValue,
          "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => _ctx.dataValue = $event),
          localdata: _ctx.localdata,
          preload: _ctx.preload,
          collection: _ctx.collection,
          field: _ctx.field,
          orderby: _ctx.orderby,
          where: _ctx.where,
          "step-searh": _ctx.stepSearh,
          "self-field": _ctx.selfField,
          "parent-field": _ctx.parentField,
          "managed-mode": true,
          map: _ctx.map,
          ellipsis: $props.ellipsis,
          onChange: $options.onchange,
          onDatachange: $options.ondatachange,
          onNodeclick: $options.onnodeclick
        }, null, 8, ["modelValue", "localdata", "preload", "collection", "field", "orderby", "where", "step-searh", "self-field", "parent-field", "map", "ellipsis", "onChange", "onDatachange", "onNodeclick"])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const __easycom_2 = /* @__PURE__ */ _export_sfc(_sfc_main$5, [["render", _sfc_render$4], ["__scopeId", "data-v-2653531e"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/uni_modules/uni-data-picker/components/uni-data-picker/uni-data-picker.vue"]]);
  const areaList = [
    {
      "value": "11",
      "text": "北京市",
      "children": [
        {
          "value": "1101",
          "text": "市辖区",
          "children": [
            {
              "value": "110101",
              "text": "东城区"
            },
            {
              "value": "110102",
              "text": "西城区"
            },
            {
              "value": "110105",
              "text": "朝阳区"
            },
            {
              "value": "110106",
              "text": "丰台区"
            },
            {
              "value": "110107",
              "text": "石景山区"
            },
            {
              "value": "110108",
              "text": "海淀区"
            },
            {
              "value": "110109",
              "text": "门头沟区"
            },
            {
              "value": "110111",
              "text": "房山区"
            },
            {
              "value": "110112",
              "text": "通州区"
            },
            {
              "value": "110113",
              "text": "顺义区"
            },
            {
              "value": "110114",
              "text": "昌平区"
            },
            {
              "value": "110115",
              "text": "大兴区"
            },
            {
              "value": "110116",
              "text": "怀柔区"
            },
            {
              "value": "110117",
              "text": "平谷区"
            },
            {
              "value": "110118",
              "text": "密云区"
            },
            {
              "value": "110119",
              "text": "延庆区"
            }
          ]
        }
      ]
    },
    {
      "value": "12",
      "text": "天津市",
      "children": [
        {
          "value": "1201",
          "text": "市辖区",
          "children": [
            {
              "value": "120101",
              "text": "和平区"
            },
            {
              "value": "120102",
              "text": "河东区"
            },
            {
              "value": "120103",
              "text": "河西区"
            },
            {
              "value": "120104",
              "text": "南开区"
            },
            {
              "value": "120105",
              "text": "河北区"
            },
            {
              "value": "120106",
              "text": "红桥区"
            },
            {
              "value": "120110",
              "text": "东丽区"
            },
            {
              "value": "120111",
              "text": "西青区"
            },
            {
              "value": "120112",
              "text": "津南区"
            },
            {
              "value": "120113",
              "text": "北辰区"
            },
            {
              "value": "120114",
              "text": "武清区"
            },
            {
              "value": "120115",
              "text": "宝坻区"
            },
            {
              "value": "120116",
              "text": "滨海新区"
            },
            {
              "value": "120117",
              "text": "宁河区"
            },
            {
              "value": "120118",
              "text": "静海区"
            },
            {
              "value": "120119",
              "text": "蓟州区"
            }
          ]
        }
      ]
    },
    {
      "value": "13",
      "text": "河北省",
      "children": [
        {
          "value": "1301",
          "text": "石家庄市",
          "children": [
            {
              "value": "130102",
              "text": "长安区"
            },
            {
              "value": "130104",
              "text": "桥西区"
            },
            {
              "value": "130105",
              "text": "新华区"
            },
            {
              "value": "130107",
              "text": "井陉矿区"
            },
            {
              "value": "130108",
              "text": "裕华区"
            },
            {
              "value": "130109",
              "text": "藁城区"
            },
            {
              "value": "130110",
              "text": "鹿泉区"
            },
            {
              "value": "130111",
              "text": "栾城区"
            },
            {
              "value": "130121",
              "text": "井陉县"
            },
            {
              "value": "130123",
              "text": "正定县"
            },
            {
              "value": "130125",
              "text": "行唐县"
            },
            {
              "value": "130126",
              "text": "灵寿县"
            },
            {
              "value": "130127",
              "text": "高邑县"
            },
            {
              "value": "130128",
              "text": "深泽县"
            },
            {
              "value": "130129",
              "text": "赞皇县"
            },
            {
              "value": "130130",
              "text": "无极县"
            },
            {
              "value": "130131",
              "text": "平山县"
            },
            {
              "value": "130132",
              "text": "元氏县"
            },
            {
              "value": "130133",
              "text": "赵县"
            },
            {
              "value": "130171",
              "text": "石家庄高新技术产业开发区"
            },
            {
              "value": "130172",
              "text": "石家庄循环化工园区"
            },
            {
              "value": "130181",
              "text": "辛集市"
            },
            {
              "value": "130183",
              "text": "晋州市"
            },
            {
              "value": "130184",
              "text": "新乐市"
            }
          ]
        },
        {
          "value": "1302",
          "text": "唐山市",
          "children": [
            {
              "value": "130202",
              "text": "路南区"
            },
            {
              "value": "130203",
              "text": "路北区"
            },
            {
              "value": "130204",
              "text": "古冶区"
            },
            {
              "value": "130205",
              "text": "开平区"
            },
            {
              "value": "130207",
              "text": "丰南区"
            },
            {
              "value": "130208",
              "text": "丰润区"
            },
            {
              "value": "130209",
              "text": "曹妃甸区"
            },
            {
              "value": "130224",
              "text": "滦南县"
            },
            {
              "value": "130225",
              "text": "乐亭县"
            },
            {
              "value": "130227",
              "text": "迁西县"
            },
            {
              "value": "130229",
              "text": "玉田县"
            },
            {
              "value": "130271",
              "text": "河北唐山芦台经济开发区"
            },
            {
              "value": "130272",
              "text": "唐山市汉沽管理区"
            },
            {
              "value": "130273",
              "text": "唐山高新技术产业开发区"
            },
            {
              "value": "130274",
              "text": "河北唐山海港经济开发区"
            },
            {
              "value": "130281",
              "text": "遵化市"
            },
            {
              "value": "130283",
              "text": "迁安市"
            },
            {
              "value": "130284",
              "text": "滦州市"
            }
          ]
        },
        {
          "value": "1303",
          "text": "秦皇岛市",
          "children": [
            {
              "value": "130302",
              "text": "海港区"
            },
            {
              "value": "130303",
              "text": "山海关区"
            },
            {
              "value": "130304",
              "text": "北戴河区"
            },
            {
              "value": "130306",
              "text": "抚宁区"
            },
            {
              "value": "130321",
              "text": "青龙满族自治县"
            },
            {
              "value": "130322",
              "text": "昌黎县"
            },
            {
              "value": "130324",
              "text": "卢龙县"
            },
            {
              "value": "130371",
              "text": "秦皇岛市经济技术开发区"
            },
            {
              "value": "130372",
              "text": "北戴河新区"
            }
          ]
        },
        {
          "value": "1304",
          "text": "邯郸市",
          "children": [
            {
              "value": "130402",
              "text": "邯山区"
            },
            {
              "value": "130403",
              "text": "丛台区"
            },
            {
              "value": "130404",
              "text": "复兴区"
            },
            {
              "value": "130406",
              "text": "峰峰矿区"
            },
            {
              "value": "130407",
              "text": "肥乡区"
            },
            {
              "value": "130408",
              "text": "永年区"
            },
            {
              "value": "130423",
              "text": "临漳县"
            },
            {
              "value": "130424",
              "text": "成安县"
            },
            {
              "value": "130425",
              "text": "大名县"
            },
            {
              "value": "130426",
              "text": "涉县"
            },
            {
              "value": "130427",
              "text": "磁县"
            },
            {
              "value": "130430",
              "text": "邱县"
            },
            {
              "value": "130431",
              "text": "鸡泽县"
            },
            {
              "value": "130432",
              "text": "广平县"
            },
            {
              "value": "130433",
              "text": "馆陶县"
            },
            {
              "value": "130434",
              "text": "魏县"
            },
            {
              "value": "130435",
              "text": "曲周县"
            },
            {
              "value": "130471",
              "text": "邯郸经济技术开发区"
            },
            {
              "value": "130473",
              "text": "邯郸冀南新区"
            },
            {
              "value": "130481",
              "text": "武安市"
            }
          ]
        },
        {
          "value": "1305",
          "text": "邢台市",
          "children": [
            {
              "value": "130502",
              "text": "襄都区"
            },
            {
              "value": "130503",
              "text": "信都区"
            },
            {
              "value": "130505",
              "text": "任泽区"
            },
            {
              "value": "130506",
              "text": "南和区"
            },
            {
              "value": "130522",
              "text": "临城县"
            },
            {
              "value": "130523",
              "text": "内丘县"
            },
            {
              "value": "130524",
              "text": "柏乡县"
            },
            {
              "value": "130525",
              "text": "隆尧县"
            },
            {
              "value": "130528",
              "text": "宁晋县"
            },
            {
              "value": "130529",
              "text": "巨鹿县"
            },
            {
              "value": "130530",
              "text": "新河县"
            },
            {
              "value": "130531",
              "text": "广宗县"
            },
            {
              "value": "130532",
              "text": "平乡县"
            },
            {
              "value": "130533",
              "text": "威县"
            },
            {
              "value": "130534",
              "text": "清河县"
            },
            {
              "value": "130535",
              "text": "临西县"
            },
            {
              "value": "130571",
              "text": "河北邢台经济开发区"
            },
            {
              "value": "130581",
              "text": "南宫市"
            },
            {
              "value": "130582",
              "text": "沙河市"
            }
          ]
        },
        {
          "value": "1306",
          "text": "保定市",
          "children": [
            {
              "value": "130602",
              "text": "竞秀区"
            },
            {
              "value": "130606",
              "text": "莲池区"
            },
            {
              "value": "130607",
              "text": "满城区"
            },
            {
              "value": "130608",
              "text": "清苑区"
            },
            {
              "value": "130609",
              "text": "徐水区"
            },
            {
              "value": "130623",
              "text": "涞水县"
            },
            {
              "value": "130624",
              "text": "阜平县"
            },
            {
              "value": "130626",
              "text": "定兴县"
            },
            {
              "value": "130627",
              "text": "唐县"
            },
            {
              "value": "130628",
              "text": "高阳县"
            },
            {
              "value": "130629",
              "text": "容城县"
            },
            {
              "value": "130630",
              "text": "涞源县"
            },
            {
              "value": "130631",
              "text": "望都县"
            },
            {
              "value": "130632",
              "text": "安新县"
            },
            {
              "value": "130633",
              "text": "易县"
            },
            {
              "value": "130634",
              "text": "曲阳县"
            },
            {
              "value": "130635",
              "text": "蠡县"
            },
            {
              "value": "130636",
              "text": "顺平县"
            },
            {
              "value": "130637",
              "text": "博野县"
            },
            {
              "value": "130638",
              "text": "雄县"
            },
            {
              "value": "130671",
              "text": "保定高新技术产业开发区"
            },
            {
              "value": "130672",
              "text": "保定白沟新城"
            },
            {
              "value": "130681",
              "text": "涿州市"
            },
            {
              "value": "130682",
              "text": "定州市"
            },
            {
              "value": "130683",
              "text": "安国市"
            },
            {
              "value": "130684",
              "text": "高碑店市"
            }
          ]
        },
        {
          "value": "1307",
          "text": "张家口市",
          "children": [
            {
              "value": "130702",
              "text": "桥东区"
            },
            {
              "value": "130703",
              "text": "桥西区"
            },
            {
              "value": "130705",
              "text": "宣化区"
            },
            {
              "value": "130706",
              "text": "下花园区"
            },
            {
              "value": "130708",
              "text": "万全区"
            },
            {
              "value": "130709",
              "text": "崇礼区"
            },
            {
              "value": "130722",
              "text": "张北县"
            },
            {
              "value": "130723",
              "text": "康保县"
            },
            {
              "value": "130724",
              "text": "沽源县"
            },
            {
              "value": "130725",
              "text": "尚义县"
            },
            {
              "value": "130726",
              "text": "蔚县"
            },
            {
              "value": "130727",
              "text": "阳原县"
            },
            {
              "value": "130728",
              "text": "怀安县"
            },
            {
              "value": "130730",
              "text": "怀来县"
            },
            {
              "value": "130731",
              "text": "涿鹿县"
            },
            {
              "value": "130732",
              "text": "赤城县"
            },
            {
              "value": "130771",
              "text": "张家口经济开发区"
            },
            {
              "value": "130772",
              "text": "张家口市察北管理区"
            },
            {
              "value": "130773",
              "text": "张家口市塞北管理区"
            }
          ]
        },
        {
          "value": "1308",
          "text": "承德市",
          "children": [
            {
              "value": "130802",
              "text": "双桥区"
            },
            {
              "value": "130803",
              "text": "双滦区"
            },
            {
              "value": "130804",
              "text": "鹰手营子矿区"
            },
            {
              "value": "130821",
              "text": "承德县"
            },
            {
              "value": "130822",
              "text": "兴隆县"
            },
            {
              "value": "130824",
              "text": "滦平县"
            },
            {
              "value": "130825",
              "text": "隆化县"
            },
            {
              "value": "130826",
              "text": "丰宁满族自治县"
            },
            {
              "value": "130827",
              "text": "宽城满族自治县"
            },
            {
              "value": "130828",
              "text": "围场满族蒙古族自治县"
            },
            {
              "value": "130871",
              "text": "承德高新技术产业开发区"
            },
            {
              "value": "130881",
              "text": "平泉市"
            }
          ]
        },
        {
          "value": "1309",
          "text": "沧州市",
          "children": [
            {
              "value": "130902",
              "text": "新华区"
            },
            {
              "value": "130903",
              "text": "运河区"
            },
            {
              "value": "130921",
              "text": "沧县"
            },
            {
              "value": "130922",
              "text": "青县"
            },
            {
              "value": "130923",
              "text": "东光县"
            },
            {
              "value": "130924",
              "text": "海兴县"
            },
            {
              "value": "130925",
              "text": "盐山县"
            },
            {
              "value": "130926",
              "text": "肃宁县"
            },
            {
              "value": "130927",
              "text": "南皮县"
            },
            {
              "value": "130928",
              "text": "吴桥县"
            },
            {
              "value": "130929",
              "text": "献县"
            },
            {
              "value": "130930",
              "text": "孟村回族自治县"
            },
            {
              "value": "130971",
              "text": "河北沧州经济开发区"
            },
            {
              "value": "130972",
              "text": "沧州高新技术产业开发区"
            },
            {
              "value": "130973",
              "text": "沧州渤海新区"
            },
            {
              "value": "130981",
              "text": "泊头市"
            },
            {
              "value": "130982",
              "text": "任丘市"
            },
            {
              "value": "130983",
              "text": "黄骅市"
            },
            {
              "value": "130984",
              "text": "河间市"
            }
          ]
        },
        {
          "value": "1310",
          "text": "廊坊市",
          "children": [
            {
              "value": "131002",
              "text": "安次区"
            },
            {
              "value": "131003",
              "text": "广阳区"
            },
            {
              "value": "131022",
              "text": "固安县"
            },
            {
              "value": "131023",
              "text": "永清县"
            },
            {
              "value": "131024",
              "text": "香河县"
            },
            {
              "value": "131025",
              "text": "大城县"
            },
            {
              "value": "131026",
              "text": "文安县"
            },
            {
              "value": "131028",
              "text": "大厂回族自治县"
            },
            {
              "value": "131071",
              "text": "廊坊经济技术开发区"
            },
            {
              "value": "131081",
              "text": "霸州市"
            },
            {
              "value": "131082",
              "text": "三河市"
            }
          ]
        },
        {
          "value": "1311",
          "text": "衡水市",
          "children": [
            {
              "value": "131102",
              "text": "桃城区"
            },
            {
              "value": "131103",
              "text": "冀州区"
            },
            {
              "value": "131121",
              "text": "枣强县"
            },
            {
              "value": "131122",
              "text": "武邑县"
            },
            {
              "value": "131123",
              "text": "武强县"
            },
            {
              "value": "131124",
              "text": "饶阳县"
            },
            {
              "value": "131125",
              "text": "安平县"
            },
            {
              "value": "131126",
              "text": "故城县"
            },
            {
              "value": "131127",
              "text": "景县"
            },
            {
              "value": "131128",
              "text": "阜城县"
            },
            {
              "value": "131171",
              "text": "河北衡水高新技术产业开发区"
            },
            {
              "value": "131172",
              "text": "衡水滨湖新区"
            },
            {
              "value": "131182",
              "text": "深州市"
            }
          ]
        }
      ]
    },
    {
      "value": "14",
      "text": "山西省",
      "children": [
        {
          "value": "1401",
          "text": "太原市",
          "children": [
            {
              "value": "140105",
              "text": "小店区"
            },
            {
              "value": "140106",
              "text": "迎泽区"
            },
            {
              "value": "140107",
              "text": "杏花岭区"
            },
            {
              "value": "140108",
              "text": "尖草坪区"
            },
            {
              "value": "140109",
              "text": "万柏林区"
            },
            {
              "value": "140110",
              "text": "晋源区"
            },
            {
              "value": "140121",
              "text": "清徐县"
            },
            {
              "value": "140122",
              "text": "阳曲县"
            },
            {
              "value": "140123",
              "text": "娄烦县"
            },
            {
              "value": "140171",
              "text": "山西转型综合改革示范区"
            },
            {
              "value": "140181",
              "text": "古交市"
            }
          ]
        },
        {
          "value": "1402",
          "text": "大同市",
          "children": [
            {
              "value": "140212",
              "text": "新荣区"
            },
            {
              "value": "140213",
              "text": "平城区"
            },
            {
              "value": "140214",
              "text": "云冈区"
            },
            {
              "value": "140215",
              "text": "云州区"
            },
            {
              "value": "140221",
              "text": "阳高县"
            },
            {
              "value": "140222",
              "text": "天镇县"
            },
            {
              "value": "140223",
              "text": "广灵县"
            },
            {
              "value": "140224",
              "text": "灵丘县"
            },
            {
              "value": "140225",
              "text": "浑源县"
            },
            {
              "value": "140226",
              "text": "左云县"
            },
            {
              "value": "140271",
              "text": "山西大同经济开发区"
            }
          ]
        },
        {
          "value": "1403",
          "text": "阳泉市",
          "children": [
            {
              "value": "140302",
              "text": "城区"
            },
            {
              "value": "140303",
              "text": "矿区"
            },
            {
              "value": "140311",
              "text": "郊区"
            },
            {
              "value": "140321",
              "text": "平定县"
            },
            {
              "value": "140322",
              "text": "盂县"
            }
          ]
        },
        {
          "value": "1404",
          "text": "长治市",
          "children": [
            {
              "value": "140403",
              "text": "潞州区"
            },
            {
              "value": "140404",
              "text": "上党区"
            },
            {
              "value": "140405",
              "text": "屯留区"
            },
            {
              "value": "140406",
              "text": "潞城区"
            },
            {
              "value": "140423",
              "text": "襄垣县"
            },
            {
              "value": "140425",
              "text": "平顺县"
            },
            {
              "value": "140426",
              "text": "黎城县"
            },
            {
              "value": "140427",
              "text": "壶关县"
            },
            {
              "value": "140428",
              "text": "长子县"
            },
            {
              "value": "140429",
              "text": "武乡县"
            },
            {
              "value": "140430",
              "text": "沁县"
            },
            {
              "value": "140431",
              "text": "沁源县"
            }
          ]
        },
        {
          "value": "1405",
          "text": "晋城市",
          "children": [
            {
              "value": "140502",
              "text": "城区"
            },
            {
              "value": "140521",
              "text": "沁水县"
            },
            {
              "value": "140522",
              "text": "阳城县"
            },
            {
              "value": "140524",
              "text": "陵川县"
            },
            {
              "value": "140525",
              "text": "泽州县"
            },
            {
              "value": "140581",
              "text": "高平市"
            }
          ]
        },
        {
          "value": "1406",
          "text": "朔州市",
          "children": [
            {
              "value": "140602",
              "text": "朔城区"
            },
            {
              "value": "140603",
              "text": "平鲁区"
            },
            {
              "value": "140621",
              "text": "山阴县"
            },
            {
              "value": "140622",
              "text": "应县"
            },
            {
              "value": "140623",
              "text": "右玉县"
            },
            {
              "value": "140671",
              "text": "山西朔州经济开发区"
            },
            {
              "value": "140681",
              "text": "怀仁市"
            }
          ]
        },
        {
          "value": "1407",
          "text": "晋中市",
          "children": [
            {
              "value": "140702",
              "text": "榆次区"
            },
            {
              "value": "140703",
              "text": "太谷区"
            },
            {
              "value": "140721",
              "text": "榆社县"
            },
            {
              "value": "140722",
              "text": "左权县"
            },
            {
              "value": "140723",
              "text": "和顺县"
            },
            {
              "value": "140724",
              "text": "昔阳县"
            },
            {
              "value": "140725",
              "text": "寿阳县"
            },
            {
              "value": "140727",
              "text": "祁县"
            },
            {
              "value": "140728",
              "text": "平遥县"
            },
            {
              "value": "140729",
              "text": "灵石县"
            },
            {
              "value": "140781",
              "text": "介休市"
            }
          ]
        },
        {
          "value": "1408",
          "text": "运城市",
          "children": [
            {
              "value": "140802",
              "text": "盐湖区"
            },
            {
              "value": "140821",
              "text": "临猗县"
            },
            {
              "value": "140822",
              "text": "万荣县"
            },
            {
              "value": "140823",
              "text": "闻喜县"
            },
            {
              "value": "140824",
              "text": "稷山县"
            },
            {
              "value": "140825",
              "text": "新绛县"
            },
            {
              "value": "140826",
              "text": "绛县"
            },
            {
              "value": "140827",
              "text": "垣曲县"
            },
            {
              "value": "140828",
              "text": "夏县"
            },
            {
              "value": "140829",
              "text": "平陆县"
            },
            {
              "value": "140830",
              "text": "芮城县"
            },
            {
              "value": "140881",
              "text": "永济市"
            },
            {
              "value": "140882",
              "text": "河津市"
            }
          ]
        },
        {
          "value": "1409",
          "text": "忻州市",
          "children": [
            {
              "value": "140902",
              "text": "忻府区"
            },
            {
              "value": "140921",
              "text": "定襄县"
            },
            {
              "value": "140922",
              "text": "五台县"
            },
            {
              "value": "140923",
              "text": "代县"
            },
            {
              "value": "140924",
              "text": "繁峙县"
            },
            {
              "value": "140925",
              "text": "宁武县"
            },
            {
              "value": "140926",
              "text": "静乐县"
            },
            {
              "value": "140927",
              "text": "神池县"
            },
            {
              "value": "140928",
              "text": "五寨县"
            },
            {
              "value": "140929",
              "text": "岢岚县"
            },
            {
              "value": "140930",
              "text": "河曲县"
            },
            {
              "value": "140931",
              "text": "保德县"
            },
            {
              "value": "140932",
              "text": "偏关县"
            },
            {
              "value": "140971",
              "text": "五台山风景名胜区"
            },
            {
              "value": "140981",
              "text": "原平市"
            }
          ]
        },
        {
          "value": "1410",
          "text": "临汾市",
          "children": [
            {
              "value": "141002",
              "text": "尧都区"
            },
            {
              "value": "141021",
              "text": "曲沃县"
            },
            {
              "value": "141022",
              "text": "翼城县"
            },
            {
              "value": "141023",
              "text": "襄汾县"
            },
            {
              "value": "141024",
              "text": "洪洞县"
            },
            {
              "value": "141025",
              "text": "古县"
            },
            {
              "value": "141026",
              "text": "安泽县"
            },
            {
              "value": "141027",
              "text": "浮山县"
            },
            {
              "value": "141028",
              "text": "吉县"
            },
            {
              "value": "141029",
              "text": "乡宁县"
            },
            {
              "value": "141030",
              "text": "大宁县"
            },
            {
              "value": "141031",
              "text": "隰县"
            },
            {
              "value": "141032",
              "text": "永和县"
            },
            {
              "value": "141033",
              "text": "蒲县"
            },
            {
              "value": "141034",
              "text": "汾西县"
            },
            {
              "value": "141081",
              "text": "侯马市"
            },
            {
              "value": "141082",
              "text": "霍州市"
            }
          ]
        },
        {
          "value": "1411",
          "text": "吕梁市",
          "children": [
            {
              "value": "141102",
              "text": "离石区"
            },
            {
              "value": "141121",
              "text": "文水县"
            },
            {
              "value": "141122",
              "text": "交城县"
            },
            {
              "value": "141123",
              "text": "兴县"
            },
            {
              "value": "141124",
              "text": "临县"
            },
            {
              "value": "141125",
              "text": "柳林县"
            },
            {
              "value": "141126",
              "text": "石楼县"
            },
            {
              "value": "141127",
              "text": "岚县"
            },
            {
              "value": "141128",
              "text": "方山县"
            },
            {
              "value": "141129",
              "text": "中阳县"
            },
            {
              "value": "141130",
              "text": "交口县"
            },
            {
              "value": "141181",
              "text": "孝义市"
            },
            {
              "value": "141182",
              "text": "汾阳市"
            }
          ]
        }
      ]
    },
    {
      "value": "15",
      "text": "内蒙古自治区",
      "children": [
        {
          "value": "1501",
          "text": "呼和浩特市",
          "children": [
            {
              "value": "150102",
              "text": "新城区"
            },
            {
              "value": "150103",
              "text": "回民区"
            },
            {
              "value": "150104",
              "text": "玉泉区"
            },
            {
              "value": "150105",
              "text": "赛罕区"
            },
            {
              "value": "150121",
              "text": "土默特左旗"
            },
            {
              "value": "150122",
              "text": "托克托县"
            },
            {
              "value": "150123",
              "text": "和林格尔县"
            },
            {
              "value": "150124",
              "text": "清水河县"
            },
            {
              "value": "150125",
              "text": "武川县"
            },
            {
              "value": "150172",
              "text": "呼和浩特经济技术开发区"
            }
          ]
        },
        {
          "value": "1502",
          "text": "包头市",
          "children": [
            {
              "value": "150202",
              "text": "东河区"
            },
            {
              "value": "150203",
              "text": "昆都仑区"
            },
            {
              "value": "150204",
              "text": "青山区"
            },
            {
              "value": "150205",
              "text": "石拐区"
            },
            {
              "value": "150206",
              "text": "白云鄂博矿区"
            },
            {
              "value": "150207",
              "text": "九原区"
            },
            {
              "value": "150221",
              "text": "土默特右旗"
            },
            {
              "value": "150222",
              "text": "固阳县"
            },
            {
              "value": "150223",
              "text": "达尔罕茂明安联合旗"
            },
            {
              "value": "150271",
              "text": "包头稀土高新技术产业开发区"
            }
          ]
        },
        {
          "value": "1503",
          "text": "乌海市",
          "children": [
            {
              "value": "150302",
              "text": "海勃湾区"
            },
            {
              "value": "150303",
              "text": "海南区"
            },
            {
              "value": "150304",
              "text": "乌达区"
            }
          ]
        },
        {
          "value": "1504",
          "text": "赤峰市",
          "children": [
            {
              "value": "150402",
              "text": "红山区"
            },
            {
              "value": "150403",
              "text": "元宝山区"
            },
            {
              "value": "150404",
              "text": "松山区"
            },
            {
              "value": "150421",
              "text": "阿鲁科尔沁旗"
            },
            {
              "value": "150422",
              "text": "巴林左旗"
            },
            {
              "value": "150423",
              "text": "巴林右旗"
            },
            {
              "value": "150424",
              "text": "林西县"
            },
            {
              "value": "150425",
              "text": "克什克腾旗"
            },
            {
              "value": "150426",
              "text": "翁牛特旗"
            },
            {
              "value": "150428",
              "text": "喀喇沁旗"
            },
            {
              "value": "150429",
              "text": "宁城县"
            },
            {
              "value": "150430",
              "text": "敖汉旗"
            }
          ]
        },
        {
          "value": "1505",
          "text": "通辽市",
          "children": [
            {
              "value": "150502",
              "text": "科尔沁区"
            },
            {
              "value": "150521",
              "text": "科尔沁左翼中旗"
            },
            {
              "value": "150522",
              "text": "科尔沁左翼后旗"
            },
            {
              "value": "150523",
              "text": "开鲁县"
            },
            {
              "value": "150524",
              "text": "库伦旗"
            },
            {
              "value": "150525",
              "text": "奈曼旗"
            },
            {
              "value": "150526",
              "text": "扎鲁特旗"
            },
            {
              "value": "150571",
              "text": "通辽经济技术开发区"
            },
            {
              "value": "150581",
              "text": "霍林郭勒市"
            }
          ]
        },
        {
          "value": "1506",
          "text": "鄂尔多斯市",
          "children": [
            {
              "value": "150602",
              "text": "东胜区"
            },
            {
              "value": "150603",
              "text": "康巴什区"
            },
            {
              "value": "150621",
              "text": "达拉特旗"
            },
            {
              "value": "150622",
              "text": "准格尔旗"
            },
            {
              "value": "150623",
              "text": "鄂托克前旗"
            },
            {
              "value": "150624",
              "text": "鄂托克旗"
            },
            {
              "value": "150625",
              "text": "杭锦旗"
            },
            {
              "value": "150626",
              "text": "乌审旗"
            },
            {
              "value": "150627",
              "text": "伊金霍洛旗"
            }
          ]
        },
        {
          "value": "1507",
          "text": "呼伦贝尔市",
          "children": [
            {
              "value": "150702",
              "text": "海拉尔区"
            },
            {
              "value": "150703",
              "text": "扎赉诺尔区"
            },
            {
              "value": "150721",
              "text": "阿荣旗"
            },
            {
              "value": "150722",
              "text": "莫力达瓦达斡尔族自治旗"
            },
            {
              "value": "150723",
              "text": "鄂伦春自治旗"
            },
            {
              "value": "150724",
              "text": "鄂温克族自治旗"
            },
            {
              "value": "150725",
              "text": "陈巴尔虎旗"
            },
            {
              "value": "150726",
              "text": "新巴尔虎左旗"
            },
            {
              "value": "150727",
              "text": "新巴尔虎右旗"
            },
            {
              "value": "150781",
              "text": "满洲里市"
            },
            {
              "value": "150782",
              "text": "牙克石市"
            },
            {
              "value": "150783",
              "text": "扎兰屯市"
            },
            {
              "value": "150784",
              "text": "额尔古纳市"
            },
            {
              "value": "150785",
              "text": "根河市"
            }
          ]
        },
        {
          "value": "1508",
          "text": "巴彦淖尔市",
          "children": [
            {
              "value": "150802",
              "text": "临河区"
            },
            {
              "value": "150821",
              "text": "五原县"
            },
            {
              "value": "150822",
              "text": "磴口县"
            },
            {
              "value": "150823",
              "text": "乌拉特前旗"
            },
            {
              "value": "150824",
              "text": "乌拉特中旗"
            },
            {
              "value": "150825",
              "text": "乌拉特后旗"
            },
            {
              "value": "150826",
              "text": "杭锦后旗"
            }
          ]
        },
        {
          "value": "1509",
          "text": "乌兰察布市",
          "children": [
            {
              "value": "150902",
              "text": "集宁区"
            },
            {
              "value": "150921",
              "text": "卓资县"
            },
            {
              "value": "150922",
              "text": "化德县"
            },
            {
              "value": "150923",
              "text": "商都县"
            },
            {
              "value": "150924",
              "text": "兴和县"
            },
            {
              "value": "150925",
              "text": "凉城县"
            },
            {
              "value": "150926",
              "text": "察哈尔右翼前旗"
            },
            {
              "value": "150927",
              "text": "察哈尔右翼中旗"
            },
            {
              "value": "150928",
              "text": "察哈尔右翼后旗"
            },
            {
              "value": "150929",
              "text": "四子王旗"
            },
            {
              "value": "150981",
              "text": "丰镇市"
            }
          ]
        },
        {
          "value": "1522",
          "text": "兴安盟",
          "children": [
            {
              "value": "152201",
              "text": "乌兰浩特市"
            },
            {
              "value": "152202",
              "text": "阿尔山市"
            },
            {
              "value": "152221",
              "text": "科尔沁右翼前旗"
            },
            {
              "value": "152222",
              "text": "科尔沁右翼中旗"
            },
            {
              "value": "152223",
              "text": "扎赉特旗"
            },
            {
              "value": "152224",
              "text": "突泉县"
            }
          ]
        },
        {
          "value": "1525",
          "text": "锡林郭勒盟",
          "children": [
            {
              "value": "152501",
              "text": "二连浩特市"
            },
            {
              "value": "152502",
              "text": "锡林浩特市"
            },
            {
              "value": "152522",
              "text": "阿巴嘎旗"
            },
            {
              "value": "152523",
              "text": "苏尼特左旗"
            },
            {
              "value": "152524",
              "text": "苏尼特右旗"
            },
            {
              "value": "152525",
              "text": "东乌珠穆沁旗"
            },
            {
              "value": "152526",
              "text": "西乌珠穆沁旗"
            },
            {
              "value": "152527",
              "text": "太仆寺旗"
            },
            {
              "value": "152528",
              "text": "镶黄旗"
            },
            {
              "value": "152529",
              "text": "正镶白旗"
            },
            {
              "value": "152530",
              "text": "正蓝旗"
            },
            {
              "value": "152531",
              "text": "多伦县"
            },
            {
              "value": "152571",
              "text": "乌拉盖管理区管委会"
            }
          ]
        },
        {
          "value": "1529",
          "text": "阿拉善盟",
          "children": [
            {
              "value": "152921",
              "text": "阿拉善左旗"
            },
            {
              "value": "152922",
              "text": "阿拉善右旗"
            },
            {
              "value": "152923",
              "text": "额济纳旗"
            },
            {
              "value": "152971",
              "text": "内蒙古阿拉善高新技术产业开发区"
            }
          ]
        }
      ]
    },
    {
      "value": "21",
      "text": "辽宁省",
      "children": [
        {
          "value": "2101",
          "text": "沈阳市",
          "children": [
            {
              "value": "210102",
              "text": "和平区"
            },
            {
              "value": "210103",
              "text": "沈河区"
            },
            {
              "value": "210104",
              "text": "大东区"
            },
            {
              "value": "210105",
              "text": "皇姑区"
            },
            {
              "value": "210106",
              "text": "铁西区"
            },
            {
              "value": "210111",
              "text": "苏家屯区"
            },
            {
              "value": "210112",
              "text": "浑南区"
            },
            {
              "value": "210113",
              "text": "沈北新区"
            },
            {
              "value": "210114",
              "text": "于洪区"
            },
            {
              "value": "210115",
              "text": "辽中区"
            },
            {
              "value": "210123",
              "text": "康平县"
            },
            {
              "value": "210124",
              "text": "法库县"
            },
            {
              "value": "210181",
              "text": "新民市"
            }
          ]
        },
        {
          "value": "2102",
          "text": "大连市",
          "children": [
            {
              "value": "210202",
              "text": "中山区"
            },
            {
              "value": "210203",
              "text": "西岗区"
            },
            {
              "value": "210204",
              "text": "沙河口区"
            },
            {
              "value": "210211",
              "text": "甘井子区"
            },
            {
              "value": "210212",
              "text": "旅顺口区"
            },
            {
              "value": "210213",
              "text": "金州区"
            },
            {
              "value": "210214",
              "text": "普兰店区"
            },
            {
              "value": "210224",
              "text": "长海县"
            },
            {
              "value": "210281",
              "text": "瓦房店市"
            },
            {
              "value": "210283",
              "text": "庄河市"
            }
          ]
        },
        {
          "value": "2103",
          "text": "鞍山市",
          "children": [
            {
              "value": "210302",
              "text": "铁东区"
            },
            {
              "value": "210303",
              "text": "铁西区"
            },
            {
              "value": "210304",
              "text": "立山区"
            },
            {
              "value": "210311",
              "text": "千山区"
            },
            {
              "value": "210321",
              "text": "台安县"
            },
            {
              "value": "210323",
              "text": "岫岩满族自治县"
            },
            {
              "value": "210381",
              "text": "海城市"
            }
          ]
        },
        {
          "value": "2104",
          "text": "抚顺市",
          "children": [
            {
              "value": "210402",
              "text": "新抚区"
            },
            {
              "value": "210403",
              "text": "东洲区"
            },
            {
              "value": "210404",
              "text": "望花区"
            },
            {
              "value": "210411",
              "text": "顺城区"
            },
            {
              "value": "210421",
              "text": "抚顺县"
            },
            {
              "value": "210422",
              "text": "新宾满族自治县"
            },
            {
              "value": "210423",
              "text": "清原满族自治县"
            }
          ]
        },
        {
          "value": "2105",
          "text": "本溪市",
          "children": [
            {
              "value": "210502",
              "text": "平山区"
            },
            {
              "value": "210503",
              "text": "溪湖区"
            },
            {
              "value": "210504",
              "text": "明山区"
            },
            {
              "value": "210505",
              "text": "南芬区"
            },
            {
              "value": "210521",
              "text": "本溪满族自治县"
            },
            {
              "value": "210522",
              "text": "桓仁满族自治县"
            }
          ]
        },
        {
          "value": "2106",
          "text": "丹东市",
          "children": [
            {
              "value": "210602",
              "text": "元宝区"
            },
            {
              "value": "210603",
              "text": "振兴区"
            },
            {
              "value": "210604",
              "text": "振安区"
            },
            {
              "value": "210624",
              "text": "宽甸满族自治县"
            },
            {
              "value": "210681",
              "text": "东港市"
            },
            {
              "value": "210682",
              "text": "凤城市"
            }
          ]
        },
        {
          "value": "2107",
          "text": "锦州市",
          "children": [
            {
              "value": "210702",
              "text": "古塔区"
            },
            {
              "value": "210703",
              "text": "凌河区"
            },
            {
              "value": "210711",
              "text": "太和区"
            },
            {
              "value": "210726",
              "text": "黑山县"
            },
            {
              "value": "210727",
              "text": "义县"
            },
            {
              "value": "210781",
              "text": "凌海市"
            },
            {
              "value": "210782",
              "text": "北镇市"
            }
          ]
        },
        {
          "value": "2108",
          "text": "营口市",
          "children": [
            {
              "value": "210802",
              "text": "站前区"
            },
            {
              "value": "210803",
              "text": "西市区"
            },
            {
              "value": "210804",
              "text": "鲅鱼圈区"
            },
            {
              "value": "210811",
              "text": "老边区"
            },
            {
              "value": "210881",
              "text": "盖州市"
            },
            {
              "value": "210882",
              "text": "大石桥市"
            }
          ]
        },
        {
          "value": "2109",
          "text": "阜新市",
          "children": [
            {
              "value": "210902",
              "text": "海州区"
            },
            {
              "value": "210903",
              "text": "新邱区"
            },
            {
              "value": "210904",
              "text": "太平区"
            },
            {
              "value": "210905",
              "text": "清河门区"
            },
            {
              "value": "210911",
              "text": "细河区"
            },
            {
              "value": "210921",
              "text": "阜新蒙古族自治县"
            },
            {
              "value": "210922",
              "text": "彰武县"
            }
          ]
        },
        {
          "value": "2110",
          "text": "辽阳市",
          "children": [
            {
              "value": "211002",
              "text": "白塔区"
            },
            {
              "value": "211003",
              "text": "文圣区"
            },
            {
              "value": "211004",
              "text": "宏伟区"
            },
            {
              "value": "211005",
              "text": "弓长岭区"
            },
            {
              "value": "211011",
              "text": "太子河区"
            },
            {
              "value": "211021",
              "text": "辽阳县"
            },
            {
              "value": "211081",
              "text": "灯塔市"
            }
          ]
        },
        {
          "value": "2111",
          "text": "盘锦市",
          "children": [
            {
              "value": "211102",
              "text": "双台子区"
            },
            {
              "value": "211103",
              "text": "兴隆台区"
            },
            {
              "value": "211104",
              "text": "大洼区"
            },
            {
              "value": "211122",
              "text": "盘山县"
            }
          ]
        },
        {
          "value": "2112",
          "text": "铁岭市",
          "children": [
            {
              "value": "211202",
              "text": "银州区"
            },
            {
              "value": "211204",
              "text": "清河区"
            },
            {
              "value": "211221",
              "text": "铁岭县"
            },
            {
              "value": "211223",
              "text": "西丰县"
            },
            {
              "value": "211224",
              "text": "昌图县"
            },
            {
              "value": "211281",
              "text": "调兵山市"
            },
            {
              "value": "211282",
              "text": "开原市"
            }
          ]
        },
        {
          "value": "2113",
          "text": "朝阳市",
          "children": [
            {
              "value": "211302",
              "text": "双塔区"
            },
            {
              "value": "211303",
              "text": "龙城区"
            },
            {
              "value": "211321",
              "text": "朝阳县"
            },
            {
              "value": "211322",
              "text": "建平县"
            },
            {
              "value": "211324",
              "text": "喀喇沁左翼蒙古族自治县"
            },
            {
              "value": "211381",
              "text": "北票市"
            },
            {
              "value": "211382",
              "text": "凌源市"
            }
          ]
        },
        {
          "value": "2114",
          "text": "葫芦岛市",
          "children": [
            {
              "value": "211402",
              "text": "连山区"
            },
            {
              "value": "211403",
              "text": "龙港区"
            },
            {
              "value": "211404",
              "text": "南票区"
            },
            {
              "value": "211421",
              "text": "绥中县"
            },
            {
              "value": "211422",
              "text": "建昌县"
            },
            {
              "value": "211481",
              "text": "兴城市"
            }
          ]
        }
      ]
    },
    {
      "value": "22",
      "text": "吉林省",
      "children": [
        {
          "value": "2201",
          "text": "长春市",
          "children": [
            {
              "value": "220102",
              "text": "南关区"
            },
            {
              "value": "220103",
              "text": "宽城区"
            },
            {
              "value": "220104",
              "text": "朝阳区"
            },
            {
              "value": "220105",
              "text": "二道区"
            },
            {
              "value": "220106",
              "text": "绿园区"
            },
            {
              "value": "220112",
              "text": "双阳区"
            },
            {
              "value": "220113",
              "text": "九台区"
            },
            {
              "value": "220122",
              "text": "农安县"
            },
            {
              "value": "220171",
              "text": "长春经济技术开发区"
            },
            {
              "value": "220172",
              "text": "长春净月高新技术产业开发区"
            },
            {
              "value": "220173",
              "text": "长春高新技术产业开发区"
            },
            {
              "value": "220174",
              "text": "长春汽车经济技术开发区"
            },
            {
              "value": "220182",
              "text": "榆树市"
            },
            {
              "value": "220183",
              "text": "德惠市"
            },
            {
              "value": "220184",
              "text": "公主岭市"
            }
          ]
        },
        {
          "value": "2202",
          "text": "吉林市",
          "children": [
            {
              "value": "220202",
              "text": "昌邑区"
            },
            {
              "value": "220203",
              "text": "龙潭区"
            },
            {
              "value": "220204",
              "text": "船营区"
            },
            {
              "value": "220211",
              "text": "丰满区"
            },
            {
              "value": "220221",
              "text": "永吉县"
            },
            {
              "value": "220271",
              "text": "吉林经济开发区"
            },
            {
              "value": "220272",
              "text": "吉林高新技术产业开发区"
            },
            {
              "value": "220273",
              "text": "吉林中国新加坡食品区"
            },
            {
              "value": "220281",
              "text": "蛟河市"
            },
            {
              "value": "220282",
              "text": "桦甸市"
            },
            {
              "value": "220283",
              "text": "舒兰市"
            },
            {
              "value": "220284",
              "text": "磐石市"
            }
          ]
        },
        {
          "value": "2203",
          "text": "四平市",
          "children": [
            {
              "value": "220302",
              "text": "铁西区"
            },
            {
              "value": "220303",
              "text": "铁东区"
            },
            {
              "value": "220322",
              "text": "梨树县"
            },
            {
              "value": "220323",
              "text": "伊通满族自治县"
            },
            {
              "value": "220382",
              "text": "双辽市"
            }
          ]
        },
        {
          "value": "2204",
          "text": "辽源市",
          "children": [
            {
              "value": "220402",
              "text": "龙山区"
            },
            {
              "value": "220403",
              "text": "西安区"
            },
            {
              "value": "220421",
              "text": "东丰县"
            },
            {
              "value": "220422",
              "text": "东辽县"
            }
          ]
        },
        {
          "value": "2205",
          "text": "通化市",
          "children": [
            {
              "value": "220502",
              "text": "东昌区"
            },
            {
              "value": "220503",
              "text": "二道江区"
            },
            {
              "value": "220521",
              "text": "通化县"
            },
            {
              "value": "220523",
              "text": "辉南县"
            },
            {
              "value": "220524",
              "text": "柳河县"
            },
            {
              "value": "220581",
              "text": "梅河口市"
            },
            {
              "value": "220582",
              "text": "集安市"
            }
          ]
        },
        {
          "value": "2206",
          "text": "白山市",
          "children": [
            {
              "value": "220602",
              "text": "浑江区"
            },
            {
              "value": "220605",
              "text": "江源区"
            },
            {
              "value": "220621",
              "text": "抚松县"
            },
            {
              "value": "220622",
              "text": "靖宇县"
            },
            {
              "value": "220623",
              "text": "长白朝鲜族自治县"
            },
            {
              "value": "220681",
              "text": "临江市"
            }
          ]
        },
        {
          "value": "2207",
          "text": "松原市",
          "children": [
            {
              "value": "220702",
              "text": "宁江区"
            },
            {
              "value": "220721",
              "text": "前郭尔罗斯蒙古族自治县"
            },
            {
              "value": "220722",
              "text": "长岭县"
            },
            {
              "value": "220723",
              "text": "乾安县"
            },
            {
              "value": "220771",
              "text": "吉林松原经济开发区"
            },
            {
              "value": "220781",
              "text": "扶余市"
            }
          ]
        },
        {
          "value": "2208",
          "text": "白城市",
          "children": [
            {
              "value": "220802",
              "text": "洮北区"
            },
            {
              "value": "220821",
              "text": "镇赉县"
            },
            {
              "value": "220822",
              "text": "通榆县"
            },
            {
              "value": "220871",
              "text": "吉林白城经济开发区"
            },
            {
              "value": "220881",
              "text": "洮南市"
            },
            {
              "value": "220882",
              "text": "大安市"
            }
          ]
        },
        {
          "value": "2224",
          "text": "延边朝鲜族自治州",
          "children": [
            {
              "value": "222401",
              "text": "延吉市"
            },
            {
              "value": "222402",
              "text": "图们市"
            },
            {
              "value": "222403",
              "text": "敦化市"
            },
            {
              "value": "222404",
              "text": "珲春市"
            },
            {
              "value": "222405",
              "text": "龙井市"
            },
            {
              "value": "222406",
              "text": "和龙市"
            },
            {
              "value": "222424",
              "text": "汪清县"
            },
            {
              "value": "222426",
              "text": "安图县"
            }
          ]
        }
      ]
    },
    {
      "value": "23",
      "text": "黑龙江省",
      "children": [
        {
          "value": "2301",
          "text": "哈尔滨市",
          "children": [
            {
              "value": "230102",
              "text": "道里区"
            },
            {
              "value": "230103",
              "text": "南岗区"
            },
            {
              "value": "230104",
              "text": "道外区"
            },
            {
              "value": "230108",
              "text": "平房区"
            },
            {
              "value": "230109",
              "text": "松北区"
            },
            {
              "value": "230110",
              "text": "香坊区"
            },
            {
              "value": "230111",
              "text": "呼兰区"
            },
            {
              "value": "230112",
              "text": "阿城区"
            },
            {
              "value": "230113",
              "text": "双城区"
            },
            {
              "value": "230123",
              "text": "依兰县"
            },
            {
              "value": "230124",
              "text": "方正县"
            },
            {
              "value": "230125",
              "text": "宾县"
            },
            {
              "value": "230126",
              "text": "巴彦县"
            },
            {
              "value": "230127",
              "text": "木兰县"
            },
            {
              "value": "230128",
              "text": "通河县"
            },
            {
              "value": "230129",
              "text": "延寿县"
            },
            {
              "value": "230183",
              "text": "尚志市"
            },
            {
              "value": "230184",
              "text": "五常市"
            }
          ]
        },
        {
          "value": "2302",
          "text": "齐齐哈尔市",
          "children": [
            {
              "value": "230202",
              "text": "龙沙区"
            },
            {
              "value": "230203",
              "text": "建华区"
            },
            {
              "value": "230204",
              "text": "铁锋区"
            },
            {
              "value": "230205",
              "text": "昂昂溪区"
            },
            {
              "value": "230206",
              "text": "富拉尔基区"
            },
            {
              "value": "230207",
              "text": "碾子山区"
            },
            {
              "value": "230208",
              "text": "梅里斯达斡尔族区"
            },
            {
              "value": "230221",
              "text": "龙江县"
            },
            {
              "value": "230223",
              "text": "依安县"
            },
            {
              "value": "230224",
              "text": "泰来县"
            },
            {
              "value": "230225",
              "text": "甘南县"
            },
            {
              "value": "230227",
              "text": "富裕县"
            },
            {
              "value": "230229",
              "text": "克山县"
            },
            {
              "value": "230230",
              "text": "克东县"
            },
            {
              "value": "230231",
              "text": "拜泉县"
            },
            {
              "value": "230281",
              "text": "讷河市"
            }
          ]
        },
        {
          "value": "2303",
          "text": "鸡西市",
          "children": [
            {
              "value": "230302",
              "text": "鸡冠区"
            },
            {
              "value": "230303",
              "text": "恒山区"
            },
            {
              "value": "230304",
              "text": "滴道区"
            },
            {
              "value": "230305",
              "text": "梨树区"
            },
            {
              "value": "230306",
              "text": "城子河区"
            },
            {
              "value": "230307",
              "text": "麻山区"
            },
            {
              "value": "230321",
              "text": "鸡东县"
            },
            {
              "value": "230381",
              "text": "虎林市"
            },
            {
              "value": "230382",
              "text": "密山市"
            }
          ]
        },
        {
          "value": "2304",
          "text": "鹤岗市",
          "children": [
            {
              "value": "230402",
              "text": "向阳区"
            },
            {
              "value": "230403",
              "text": "工农区"
            },
            {
              "value": "230404",
              "text": "南山区"
            },
            {
              "value": "230405",
              "text": "兴安区"
            },
            {
              "value": "230406",
              "text": "东山区"
            },
            {
              "value": "230407",
              "text": "兴山区"
            },
            {
              "value": "230421",
              "text": "萝北县"
            },
            {
              "value": "230422",
              "text": "绥滨县"
            }
          ]
        },
        {
          "value": "2305",
          "text": "双鸭山市",
          "children": [
            {
              "value": "230502",
              "text": "尖山区"
            },
            {
              "value": "230503",
              "text": "岭东区"
            },
            {
              "value": "230505",
              "text": "四方台区"
            },
            {
              "value": "230506",
              "text": "宝山区"
            },
            {
              "value": "230521",
              "text": "集贤县"
            },
            {
              "value": "230522",
              "text": "友谊县"
            },
            {
              "value": "230523",
              "text": "宝清县"
            },
            {
              "value": "230524",
              "text": "饶河县"
            }
          ]
        },
        {
          "value": "2306",
          "text": "大庆市",
          "children": [
            {
              "value": "230602",
              "text": "萨尔图区"
            },
            {
              "value": "230603",
              "text": "龙凤区"
            },
            {
              "value": "230604",
              "text": "让胡路区"
            },
            {
              "value": "230605",
              "text": "红岗区"
            },
            {
              "value": "230606",
              "text": "大同区"
            },
            {
              "value": "230621",
              "text": "肇州县"
            },
            {
              "value": "230622",
              "text": "肇源县"
            },
            {
              "value": "230623",
              "text": "林甸县"
            },
            {
              "value": "230624",
              "text": "杜尔伯特蒙古族自治县"
            },
            {
              "value": "230671",
              "text": "大庆高新技术产业开发区"
            }
          ]
        },
        {
          "value": "2307",
          "text": "伊春市",
          "children": [
            {
              "value": "230717",
              "text": "伊美区"
            },
            {
              "value": "230718",
              "text": "乌翠区"
            },
            {
              "value": "230719",
              "text": "友好区"
            },
            {
              "value": "230722",
              "text": "嘉荫县"
            },
            {
              "value": "230723",
              "text": "汤旺县"
            },
            {
              "value": "230724",
              "text": "丰林县"
            },
            {
              "value": "230725",
              "text": "大箐山县"
            },
            {
              "value": "230726",
              "text": "南岔县"
            },
            {
              "value": "230751",
              "text": "金林区"
            },
            {
              "value": "230781",
              "text": "铁力市"
            }
          ]
        },
        {
          "value": "2308",
          "text": "佳木斯市",
          "children": [
            {
              "value": "230803",
              "text": "向阳区"
            },
            {
              "value": "230804",
              "text": "前进区"
            },
            {
              "value": "230805",
              "text": "东风区"
            },
            {
              "value": "230811",
              "text": "郊区"
            },
            {
              "value": "230822",
              "text": "桦南县"
            },
            {
              "value": "230826",
              "text": "桦川县"
            },
            {
              "value": "230828",
              "text": "汤原县"
            },
            {
              "value": "230881",
              "text": "同江市"
            },
            {
              "value": "230882",
              "text": "富锦市"
            },
            {
              "value": "230883",
              "text": "抚远市"
            }
          ]
        },
        {
          "value": "2309",
          "text": "七台河市",
          "children": [
            {
              "value": "230902",
              "text": "新兴区"
            },
            {
              "value": "230903",
              "text": "桃山区"
            },
            {
              "value": "230904",
              "text": "茄子河区"
            },
            {
              "value": "230921",
              "text": "勃利县"
            }
          ]
        },
        {
          "value": "2310",
          "text": "牡丹江市",
          "children": [
            {
              "value": "231002",
              "text": "东安区"
            },
            {
              "value": "231003",
              "text": "阳明区"
            },
            {
              "value": "231004",
              "text": "爱民区"
            },
            {
              "value": "231005",
              "text": "西安区"
            },
            {
              "value": "231025",
              "text": "林口县"
            },
            {
              "value": "231081",
              "text": "绥芬河市"
            },
            {
              "value": "231083",
              "text": "海林市"
            },
            {
              "value": "231084",
              "text": "宁安市"
            },
            {
              "value": "231085",
              "text": "穆棱市"
            },
            {
              "value": "231086",
              "text": "东宁市"
            }
          ]
        },
        {
          "value": "2311",
          "text": "黑河市",
          "children": [
            {
              "value": "231102",
              "text": "爱辉区"
            },
            {
              "value": "231123",
              "text": "逊克县"
            },
            {
              "value": "231124",
              "text": "孙吴县"
            },
            {
              "value": "231181",
              "text": "北安市"
            },
            {
              "value": "231182",
              "text": "五大连池市"
            },
            {
              "value": "231183",
              "text": "嫩江市"
            }
          ]
        },
        {
          "value": "2312",
          "text": "绥化市",
          "children": [
            {
              "value": "231202",
              "text": "北林区"
            },
            {
              "value": "231221",
              "text": "望奎县"
            },
            {
              "value": "231222",
              "text": "兰西县"
            },
            {
              "value": "231223",
              "text": "青冈县"
            },
            {
              "value": "231224",
              "text": "庆安县"
            },
            {
              "value": "231225",
              "text": "明水县"
            },
            {
              "value": "231226",
              "text": "绥棱县"
            },
            {
              "value": "231281",
              "text": "安达市"
            },
            {
              "value": "231282",
              "text": "肇东市"
            },
            {
              "value": "231283",
              "text": "海伦市"
            }
          ]
        },
        {
          "value": "2327",
          "text": "大兴安岭地区",
          "children": [
            {
              "value": "232701",
              "text": "漠河市"
            },
            {
              "value": "232721",
              "text": "呼玛县"
            },
            {
              "value": "232722",
              "text": "塔河县"
            },
            {
              "value": "232761",
              "text": "加格达奇区"
            },
            {
              "value": "232762",
              "text": "松岭区"
            },
            {
              "value": "232763",
              "text": "新林区"
            },
            {
              "value": "232764",
              "text": "呼中区"
            }
          ]
        }
      ]
    },
    {
      "value": "31",
      "text": "上海市",
      "children": [
        {
          "value": "3101",
          "text": "市辖区",
          "children": [
            {
              "value": "310101",
              "text": "黄浦区"
            },
            {
              "value": "310104",
              "text": "徐汇区"
            },
            {
              "value": "310105",
              "text": "长宁区"
            },
            {
              "value": "310106",
              "text": "静安区"
            },
            {
              "value": "310107",
              "text": "普陀区"
            },
            {
              "value": "310109",
              "text": "虹口区"
            },
            {
              "value": "310110",
              "text": "杨浦区"
            },
            {
              "value": "310112",
              "text": "闵行区"
            },
            {
              "value": "310113",
              "text": "宝山区"
            },
            {
              "value": "310114",
              "text": "嘉定区"
            },
            {
              "value": "310115",
              "text": "浦东新区"
            },
            {
              "value": "310116",
              "text": "金山区"
            },
            {
              "value": "310117",
              "text": "松江区"
            },
            {
              "value": "310118",
              "text": "青浦区"
            },
            {
              "value": "310120",
              "text": "奉贤区"
            },
            {
              "value": "310151",
              "text": "崇明区"
            }
          ]
        }
      ]
    },
    {
      "value": "32",
      "text": "江苏省",
      "children": [
        {
          "value": "3201",
          "text": "南京市",
          "children": [
            {
              "value": "320102",
              "text": "玄武区"
            },
            {
              "value": "320104",
              "text": "秦淮区"
            },
            {
              "value": "320105",
              "text": "建邺区"
            },
            {
              "value": "320106",
              "text": "鼓楼区"
            },
            {
              "value": "320111",
              "text": "浦口区"
            },
            {
              "value": "320113",
              "text": "栖霞区"
            },
            {
              "value": "320114",
              "text": "雨花台区"
            },
            {
              "value": "320115",
              "text": "江宁区"
            },
            {
              "value": "320116",
              "text": "六合区"
            },
            {
              "value": "320117",
              "text": "溧水区"
            },
            {
              "value": "320118",
              "text": "高淳区"
            }
          ]
        },
        {
          "value": "3202",
          "text": "无锡市",
          "children": [
            {
              "value": "320205",
              "text": "锡山区"
            },
            {
              "value": "320206",
              "text": "惠山区"
            },
            {
              "value": "320211",
              "text": "滨湖区"
            },
            {
              "value": "320213",
              "text": "梁溪区"
            },
            {
              "value": "320214",
              "text": "新吴区"
            },
            {
              "value": "320281",
              "text": "江阴市"
            },
            {
              "value": "320282",
              "text": "宜兴市"
            }
          ]
        },
        {
          "value": "3203",
          "text": "徐州市",
          "children": [
            {
              "value": "320302",
              "text": "鼓楼区"
            },
            {
              "value": "320303",
              "text": "云龙区"
            },
            {
              "value": "320305",
              "text": "贾汪区"
            },
            {
              "value": "320311",
              "text": "泉山区"
            },
            {
              "value": "320312",
              "text": "铜山区"
            },
            {
              "value": "320321",
              "text": "丰县"
            },
            {
              "value": "320322",
              "text": "沛县"
            },
            {
              "value": "320324",
              "text": "睢宁县"
            },
            {
              "value": "320371",
              "text": "徐州经济技术开发区"
            },
            {
              "value": "320381",
              "text": "新沂市"
            },
            {
              "value": "320382",
              "text": "邳州市"
            }
          ]
        },
        {
          "value": "3204",
          "text": "常州市",
          "children": [
            {
              "value": "320402",
              "text": "天宁区"
            },
            {
              "value": "320404",
              "text": "钟楼区"
            },
            {
              "value": "320411",
              "text": "新北区"
            },
            {
              "value": "320412",
              "text": "武进区"
            },
            {
              "value": "320413",
              "text": "金坛区"
            },
            {
              "value": "320481",
              "text": "溧阳市"
            }
          ]
        },
        {
          "value": "3205",
          "text": "苏州市",
          "children": [
            {
              "value": "320505",
              "text": "虎丘区"
            },
            {
              "value": "320506",
              "text": "吴中区"
            },
            {
              "value": "320507",
              "text": "相城区"
            },
            {
              "value": "320508",
              "text": "姑苏区"
            },
            {
              "value": "320509",
              "text": "吴江区"
            },
            {
              "value": "320576",
              "text": "苏州工业园区"
            },
            {
              "value": "320581",
              "text": "常熟市"
            },
            {
              "value": "320582",
              "text": "张家港市"
            },
            {
              "value": "320583",
              "text": "昆山市"
            },
            {
              "value": "320585",
              "text": "太仓市"
            }
          ]
        },
        {
          "value": "3206",
          "text": "南通市",
          "children": [
            {
              "value": "320612",
              "text": "通州区"
            },
            {
              "value": "320613",
              "text": "崇川区"
            },
            {
              "value": "320614",
              "text": "海门区"
            },
            {
              "value": "320623",
              "text": "如东县"
            },
            {
              "value": "320671",
              "text": "南通经济技术开发区"
            },
            {
              "value": "320681",
              "text": "启东市"
            },
            {
              "value": "320682",
              "text": "如皋市"
            },
            {
              "value": "320685",
              "text": "海安市"
            }
          ]
        },
        {
          "value": "3207",
          "text": "连云港市",
          "children": [
            {
              "value": "320703",
              "text": "连云区"
            },
            {
              "value": "320706",
              "text": "海州区"
            },
            {
              "value": "320707",
              "text": "赣榆区"
            },
            {
              "value": "320722",
              "text": "东海县"
            },
            {
              "value": "320723",
              "text": "灌云县"
            },
            {
              "value": "320724",
              "text": "灌南县"
            },
            {
              "value": "320771",
              "text": "连云港经济技术开发区"
            }
          ]
        },
        {
          "value": "3208",
          "text": "淮安市",
          "children": [
            {
              "value": "320803",
              "text": "淮安区"
            },
            {
              "value": "320804",
              "text": "淮阴区"
            },
            {
              "value": "320812",
              "text": "清江浦区"
            },
            {
              "value": "320813",
              "text": "洪泽区"
            },
            {
              "value": "320826",
              "text": "涟水县"
            },
            {
              "value": "320830",
              "text": "盱眙县"
            },
            {
              "value": "320831",
              "text": "金湖县"
            },
            {
              "value": "320871",
              "text": "淮安经济技术开发区"
            }
          ]
        },
        {
          "value": "3209",
          "text": "盐城市",
          "children": [
            {
              "value": "320902",
              "text": "亭湖区"
            },
            {
              "value": "320903",
              "text": "盐都区"
            },
            {
              "value": "320904",
              "text": "大丰区"
            },
            {
              "value": "320921",
              "text": "响水县"
            },
            {
              "value": "320922",
              "text": "滨海县"
            },
            {
              "value": "320923",
              "text": "阜宁县"
            },
            {
              "value": "320924",
              "text": "射阳县"
            },
            {
              "value": "320925",
              "text": "建湖县"
            },
            {
              "value": "320971",
              "text": "盐城经济技术开发区"
            },
            {
              "value": "320981",
              "text": "东台市"
            }
          ]
        },
        {
          "value": "3210",
          "text": "扬州市",
          "children": [
            {
              "value": "321002",
              "text": "广陵区"
            },
            {
              "value": "321003",
              "text": "邗江区"
            },
            {
              "value": "321012",
              "text": "江都区"
            },
            {
              "value": "321023",
              "text": "宝应县"
            },
            {
              "value": "321071",
              "text": "扬州经济技术开发区"
            },
            {
              "value": "321081",
              "text": "仪征市"
            },
            {
              "value": "321084",
              "text": "高邮市"
            }
          ]
        },
        {
          "value": "3211",
          "text": "镇江市",
          "children": [
            {
              "value": "321102",
              "text": "京口区"
            },
            {
              "value": "321111",
              "text": "润州区"
            },
            {
              "value": "321112",
              "text": "丹徒区"
            },
            {
              "value": "321171",
              "text": "镇江新区"
            },
            {
              "value": "321181",
              "text": "丹阳市"
            },
            {
              "value": "321182",
              "text": "扬中市"
            },
            {
              "value": "321183",
              "text": "句容市"
            }
          ]
        },
        {
          "value": "3212",
          "text": "泰州市",
          "children": [
            {
              "value": "321202",
              "text": "海陵区"
            },
            {
              "value": "321203",
              "text": "高港区"
            },
            {
              "value": "321204",
              "text": "姜堰区"
            },
            {
              "value": "321281",
              "text": "兴化市"
            },
            {
              "value": "321282",
              "text": "靖江市"
            },
            {
              "value": "321283",
              "text": "泰兴市"
            }
          ]
        },
        {
          "value": "3213",
          "text": "宿迁市",
          "children": [
            {
              "value": "321302",
              "text": "宿城区"
            },
            {
              "value": "321311",
              "text": "宿豫区"
            },
            {
              "value": "321322",
              "text": "沭阳县"
            },
            {
              "value": "321323",
              "text": "泗阳县"
            },
            {
              "value": "321324",
              "text": "泗洪县"
            },
            {
              "value": "321371",
              "text": "宿迁经济技术开发区"
            }
          ]
        }
      ]
    },
    {
      "value": "33",
      "text": "浙江省",
      "children": [
        {
          "value": "3301",
          "text": "杭州市",
          "children": [
            {
              "value": "330102",
              "text": "上城区"
            },
            {
              "value": "330105",
              "text": "拱墅区"
            },
            {
              "value": "330106",
              "text": "西湖区"
            },
            {
              "value": "330108",
              "text": "滨江区"
            },
            {
              "value": "330109",
              "text": "萧山区"
            },
            {
              "value": "330110",
              "text": "余杭区"
            },
            {
              "value": "330111",
              "text": "富阳区"
            },
            {
              "value": "330112",
              "text": "临安区"
            },
            {
              "value": "330113",
              "text": "临平区"
            },
            {
              "value": "330114",
              "text": "钱塘区"
            },
            {
              "value": "330122",
              "text": "桐庐县"
            },
            {
              "value": "330127",
              "text": "淳安县"
            },
            {
              "value": "330182",
              "text": "建德市"
            }
          ]
        },
        {
          "value": "3302",
          "text": "宁波市",
          "children": [
            {
              "value": "330203",
              "text": "海曙区"
            },
            {
              "value": "330205",
              "text": "江北区"
            },
            {
              "value": "330206",
              "text": "北仑区"
            },
            {
              "value": "330211",
              "text": "镇海区"
            },
            {
              "value": "330212",
              "text": "鄞州区"
            },
            {
              "value": "330213",
              "text": "奉化区"
            },
            {
              "value": "330225",
              "text": "象山县"
            },
            {
              "value": "330226",
              "text": "宁海县"
            },
            {
              "value": "330281",
              "text": "余姚市"
            },
            {
              "value": "330282",
              "text": "慈溪市"
            }
          ]
        },
        {
          "value": "3303",
          "text": "温州市",
          "children": [
            {
              "value": "330302",
              "text": "鹿城区"
            },
            {
              "value": "330303",
              "text": "龙湾区"
            },
            {
              "value": "330304",
              "text": "瓯海区"
            },
            {
              "value": "330305",
              "text": "洞头区"
            },
            {
              "value": "330324",
              "text": "永嘉县"
            },
            {
              "value": "330326",
              "text": "平阳县"
            },
            {
              "value": "330327",
              "text": "苍南县"
            },
            {
              "value": "330328",
              "text": "文成县"
            },
            {
              "value": "330329",
              "text": "泰顺县"
            },
            {
              "value": "330381",
              "text": "瑞安市"
            },
            {
              "value": "330382",
              "text": "乐清市"
            },
            {
              "value": "330383",
              "text": "龙港市"
            }
          ]
        },
        {
          "value": "3304",
          "text": "嘉兴市",
          "children": [
            {
              "value": "330402",
              "text": "南湖区"
            },
            {
              "value": "330411",
              "text": "秀洲区"
            },
            {
              "value": "330421",
              "text": "嘉善县"
            },
            {
              "value": "330424",
              "text": "海盐县"
            },
            {
              "value": "330481",
              "text": "海宁市"
            },
            {
              "value": "330482",
              "text": "平湖市"
            },
            {
              "value": "330483",
              "text": "桐乡市"
            }
          ]
        },
        {
          "value": "3305",
          "text": "湖州市",
          "children": [
            {
              "value": "330502",
              "text": "吴兴区"
            },
            {
              "value": "330503",
              "text": "南浔区"
            },
            {
              "value": "330521",
              "text": "德清县"
            },
            {
              "value": "330522",
              "text": "长兴县"
            },
            {
              "value": "330523",
              "text": "安吉县"
            }
          ]
        },
        {
          "value": "3306",
          "text": "绍兴市",
          "children": [
            {
              "value": "330602",
              "text": "越城区"
            },
            {
              "value": "330603",
              "text": "柯桥区"
            },
            {
              "value": "330604",
              "text": "上虞区"
            },
            {
              "value": "330624",
              "text": "新昌县"
            },
            {
              "value": "330681",
              "text": "诸暨市"
            },
            {
              "value": "330683",
              "text": "嵊州市"
            }
          ]
        },
        {
          "value": "3307",
          "text": "金华市",
          "children": [
            {
              "value": "330702",
              "text": "婺城区"
            },
            {
              "value": "330703",
              "text": "金东区"
            },
            {
              "value": "330723",
              "text": "武义县"
            },
            {
              "value": "330726",
              "text": "浦江县"
            },
            {
              "value": "330727",
              "text": "磐安县"
            },
            {
              "value": "330781",
              "text": "兰溪市"
            },
            {
              "value": "330782",
              "text": "义乌市"
            },
            {
              "value": "330783",
              "text": "东阳市"
            },
            {
              "value": "330784",
              "text": "永康市"
            }
          ]
        },
        {
          "value": "3308",
          "text": "衢州市",
          "children": [
            {
              "value": "330802",
              "text": "柯城区"
            },
            {
              "value": "330803",
              "text": "衢江区"
            },
            {
              "value": "330822",
              "text": "常山县"
            },
            {
              "value": "330824",
              "text": "开化县"
            },
            {
              "value": "330825",
              "text": "龙游县"
            },
            {
              "value": "330881",
              "text": "江山市"
            }
          ]
        },
        {
          "value": "3309",
          "text": "舟山市",
          "children": [
            {
              "value": "330902",
              "text": "定海区"
            },
            {
              "value": "330903",
              "text": "普陀区"
            },
            {
              "value": "330921",
              "text": "岱山县"
            },
            {
              "value": "330922",
              "text": "嵊泗县"
            }
          ]
        },
        {
          "value": "3310",
          "text": "台州市",
          "children": [
            {
              "value": "331002",
              "text": "椒江区"
            },
            {
              "value": "331003",
              "text": "黄岩区"
            },
            {
              "value": "331004",
              "text": "路桥区"
            },
            {
              "value": "331022",
              "text": "三门县"
            },
            {
              "value": "331023",
              "text": "天台县"
            },
            {
              "value": "331024",
              "text": "仙居县"
            },
            {
              "value": "331081",
              "text": "温岭市"
            },
            {
              "value": "331082",
              "text": "临海市"
            },
            {
              "value": "331083",
              "text": "玉环市"
            }
          ]
        },
        {
          "value": "3311",
          "text": "丽水市",
          "children": [
            {
              "value": "331102",
              "text": "莲都区"
            },
            {
              "value": "331121",
              "text": "青田县"
            },
            {
              "value": "331122",
              "text": "缙云县"
            },
            {
              "value": "331123",
              "text": "遂昌县"
            },
            {
              "value": "331124",
              "text": "松阳县"
            },
            {
              "value": "331125",
              "text": "云和县"
            },
            {
              "value": "331126",
              "text": "庆元县"
            },
            {
              "value": "331127",
              "text": "景宁畲族自治县"
            },
            {
              "value": "331181",
              "text": "龙泉市"
            }
          ]
        }
      ]
    },
    {
      "value": "34",
      "text": "安徽省",
      "children": [
        {
          "value": "3401",
          "text": "合肥市",
          "children": [
            {
              "value": "340102",
              "text": "瑶海区"
            },
            {
              "value": "340103",
              "text": "庐阳区"
            },
            {
              "value": "340104",
              "text": "蜀山区"
            },
            {
              "value": "340111",
              "text": "包河区"
            },
            {
              "value": "340121",
              "text": "长丰县"
            },
            {
              "value": "340122",
              "text": "肥东县"
            },
            {
              "value": "340123",
              "text": "肥西县"
            },
            {
              "value": "340124",
              "text": "庐江县"
            },
            {
              "value": "340176",
              "text": "合肥高新技术产业开发区"
            },
            {
              "value": "340177",
              "text": "合肥经济技术开发区"
            },
            {
              "value": "340178",
              "text": "合肥新站高新技术产业开发区"
            },
            {
              "value": "340181",
              "text": "巢湖市"
            }
          ]
        },
        {
          "value": "3402",
          "text": "芜湖市",
          "children": [
            {
              "value": "340202",
              "text": "镜湖区"
            },
            {
              "value": "340207",
              "text": "鸠江区"
            },
            {
              "value": "340209",
              "text": "弋江区"
            },
            {
              "value": "340210",
              "text": "湾沚区"
            },
            {
              "value": "340212",
              "text": "繁昌区"
            },
            {
              "value": "340223",
              "text": "南陵县"
            },
            {
              "value": "340271",
              "text": "芜湖经济技术开发区"
            },
            {
              "value": "340272",
              "text": "安徽芜湖三山经济开发区"
            },
            {
              "value": "340281",
              "text": "无为市"
            }
          ]
        },
        {
          "value": "3403",
          "text": "蚌埠市",
          "children": [
            {
              "value": "340302",
              "text": "龙子湖区"
            },
            {
              "value": "340303",
              "text": "蚌山区"
            },
            {
              "value": "340304",
              "text": "禹会区"
            },
            {
              "value": "340311",
              "text": "淮上区"
            },
            {
              "value": "340321",
              "text": "怀远县"
            },
            {
              "value": "340322",
              "text": "五河县"
            },
            {
              "value": "340323",
              "text": "固镇县"
            },
            {
              "value": "340371",
              "text": "蚌埠市高新技术开发区"
            },
            {
              "value": "340372",
              "text": "蚌埠市经济开发区"
            }
          ]
        },
        {
          "value": "3404",
          "text": "淮南市",
          "children": [
            {
              "value": "340402",
              "text": "大通区"
            },
            {
              "value": "340403",
              "text": "田家庵区"
            },
            {
              "value": "340404",
              "text": "谢家集区"
            },
            {
              "value": "340405",
              "text": "八公山区"
            },
            {
              "value": "340406",
              "text": "潘集区"
            },
            {
              "value": "340421",
              "text": "凤台县"
            },
            {
              "value": "340422",
              "text": "寿县"
            }
          ]
        },
        {
          "value": "3405",
          "text": "马鞍山市",
          "children": [
            {
              "value": "340503",
              "text": "花山区"
            },
            {
              "value": "340504",
              "text": "雨山区"
            },
            {
              "value": "340506",
              "text": "博望区"
            },
            {
              "value": "340521",
              "text": "当涂县"
            },
            {
              "value": "340522",
              "text": "含山县"
            },
            {
              "value": "340523",
              "text": "和县"
            }
          ]
        },
        {
          "value": "3406",
          "text": "淮北市",
          "children": [
            {
              "value": "340602",
              "text": "杜集区"
            },
            {
              "value": "340603",
              "text": "相山区"
            },
            {
              "value": "340604",
              "text": "烈山区"
            },
            {
              "value": "340621",
              "text": "濉溪县"
            }
          ]
        },
        {
          "value": "3407",
          "text": "铜陵市",
          "children": [
            {
              "value": "340705",
              "text": "铜官区"
            },
            {
              "value": "340706",
              "text": "义安区"
            },
            {
              "value": "340711",
              "text": "郊区"
            },
            {
              "value": "340722",
              "text": "枞阳县"
            }
          ]
        },
        {
          "value": "3408",
          "text": "安庆市",
          "children": [
            {
              "value": "340802",
              "text": "迎江区"
            },
            {
              "value": "340803",
              "text": "大观区"
            },
            {
              "value": "340811",
              "text": "宜秀区"
            },
            {
              "value": "340822",
              "text": "怀宁县"
            },
            {
              "value": "340825",
              "text": "太湖县"
            },
            {
              "value": "340826",
              "text": "宿松县"
            },
            {
              "value": "340827",
              "text": "望江县"
            },
            {
              "value": "340828",
              "text": "岳西县"
            },
            {
              "value": "340871",
              "text": "安徽安庆经济开发区"
            },
            {
              "value": "340881",
              "text": "桐城市"
            },
            {
              "value": "340882",
              "text": "潜山市"
            }
          ]
        },
        {
          "value": "3410",
          "text": "黄山市",
          "children": [
            {
              "value": "341002",
              "text": "屯溪区"
            },
            {
              "value": "341003",
              "text": "黄山区"
            },
            {
              "value": "341004",
              "text": "徽州区"
            },
            {
              "value": "341021",
              "text": "歙县"
            },
            {
              "value": "341022",
              "text": "休宁县"
            },
            {
              "value": "341023",
              "text": "黟县"
            },
            {
              "value": "341024",
              "text": "祁门县"
            }
          ]
        },
        {
          "value": "3411",
          "text": "滁州市",
          "children": [
            {
              "value": "341102",
              "text": "琅琊区"
            },
            {
              "value": "341103",
              "text": "南谯区"
            },
            {
              "value": "341122",
              "text": "来安县"
            },
            {
              "value": "341124",
              "text": "全椒县"
            },
            {
              "value": "341125",
              "text": "定远县"
            },
            {
              "value": "341126",
              "text": "凤阳县"
            },
            {
              "value": "341171",
              "text": "中新苏滁高新技术产业开发区"
            },
            {
              "value": "341172",
              "text": "滁州经济技术开发区"
            },
            {
              "value": "341181",
              "text": "天长市"
            },
            {
              "value": "341182",
              "text": "明光市"
            }
          ]
        },
        {
          "value": "3412",
          "text": "阜阳市",
          "children": [
            {
              "value": "341202",
              "text": "颍州区"
            },
            {
              "value": "341203",
              "text": "颍东区"
            },
            {
              "value": "341204",
              "text": "颍泉区"
            },
            {
              "value": "341221",
              "text": "临泉县"
            },
            {
              "value": "341222",
              "text": "太和县"
            },
            {
              "value": "341225",
              "text": "阜南县"
            },
            {
              "value": "341226",
              "text": "颍上县"
            },
            {
              "value": "341271",
              "text": "阜阳合肥现代产业园区"
            },
            {
              "value": "341272",
              "text": "阜阳经济技术开发区"
            },
            {
              "value": "341282",
              "text": "界首市"
            }
          ]
        },
        {
          "value": "3413",
          "text": "宿州市",
          "children": [
            {
              "value": "341302",
              "text": "埇桥区"
            },
            {
              "value": "341321",
              "text": "砀山县"
            },
            {
              "value": "341322",
              "text": "萧县"
            },
            {
              "value": "341323",
              "text": "灵璧县"
            },
            {
              "value": "341324",
              "text": "泗县"
            },
            {
              "value": "341371",
              "text": "宿州马鞍山现代产业园区"
            },
            {
              "value": "341372",
              "text": "宿州经济技术开发区"
            }
          ]
        },
        {
          "value": "3415",
          "text": "六安市",
          "children": [
            {
              "value": "341502",
              "text": "金安区"
            },
            {
              "value": "341503",
              "text": "裕安区"
            },
            {
              "value": "341504",
              "text": "叶集区"
            },
            {
              "value": "341522",
              "text": "霍邱县"
            },
            {
              "value": "341523",
              "text": "舒城县"
            },
            {
              "value": "341524",
              "text": "金寨县"
            },
            {
              "value": "341525",
              "text": "霍山县"
            }
          ]
        },
        {
          "value": "3416",
          "text": "亳州市",
          "children": [
            {
              "value": "341602",
              "text": "谯城区"
            },
            {
              "value": "341621",
              "text": "涡阳县"
            },
            {
              "value": "341622",
              "text": "蒙城县"
            },
            {
              "value": "341623",
              "text": "利辛县"
            }
          ]
        },
        {
          "value": "3417",
          "text": "池州市",
          "children": [
            {
              "value": "341702",
              "text": "贵池区"
            },
            {
              "value": "341721",
              "text": "东至县"
            },
            {
              "value": "341722",
              "text": "石台县"
            },
            {
              "value": "341723",
              "text": "青阳县"
            }
          ]
        },
        {
          "value": "3418",
          "text": "宣城市",
          "children": [
            {
              "value": "341802",
              "text": "宣州区"
            },
            {
              "value": "341821",
              "text": "郎溪县"
            },
            {
              "value": "341823",
              "text": "泾县"
            },
            {
              "value": "341824",
              "text": "绩溪县"
            },
            {
              "value": "341825",
              "text": "旌德县"
            },
            {
              "value": "341871",
              "text": "宣城市经济开发区"
            },
            {
              "value": "341881",
              "text": "宁国市"
            },
            {
              "value": "341882",
              "text": "广德市"
            }
          ]
        }
      ]
    },
    {
      "value": "35",
      "text": "福建省",
      "children": [
        {
          "value": "3501",
          "text": "福州市",
          "children": [
            {
              "value": "350102",
              "text": "鼓楼区"
            },
            {
              "value": "350103",
              "text": "台江区"
            },
            {
              "value": "350104",
              "text": "仓山区"
            },
            {
              "value": "350105",
              "text": "马尾区"
            },
            {
              "value": "350111",
              "text": "晋安区"
            },
            {
              "value": "350112",
              "text": "长乐区"
            },
            {
              "value": "350121",
              "text": "闽侯县"
            },
            {
              "value": "350122",
              "text": "连江县"
            },
            {
              "value": "350123",
              "text": "罗源县"
            },
            {
              "value": "350124",
              "text": "闽清县"
            },
            {
              "value": "350125",
              "text": "永泰县"
            },
            {
              "value": "350128",
              "text": "平潭县"
            },
            {
              "value": "350181",
              "text": "福清市"
            }
          ]
        },
        {
          "value": "3502",
          "text": "厦门市",
          "children": [
            {
              "value": "350203",
              "text": "思明区"
            },
            {
              "value": "350205",
              "text": "海沧区"
            },
            {
              "value": "350206",
              "text": "湖里区"
            },
            {
              "value": "350211",
              "text": "集美区"
            },
            {
              "value": "350212",
              "text": "同安区"
            },
            {
              "value": "350213",
              "text": "翔安区"
            }
          ]
        },
        {
          "value": "3503",
          "text": "莆田市",
          "children": [
            {
              "value": "350302",
              "text": "城厢区"
            },
            {
              "value": "350303",
              "text": "涵江区"
            },
            {
              "value": "350304",
              "text": "荔城区"
            },
            {
              "value": "350305",
              "text": "秀屿区"
            },
            {
              "value": "350322",
              "text": "仙游县"
            }
          ]
        },
        {
          "value": "3504",
          "text": "三明市",
          "children": [
            {
              "value": "350404",
              "text": "三元区"
            },
            {
              "value": "350405",
              "text": "沙县区"
            },
            {
              "value": "350421",
              "text": "明溪县"
            },
            {
              "value": "350423",
              "text": "清流县"
            },
            {
              "value": "350424",
              "text": "宁化县"
            },
            {
              "value": "350425",
              "text": "大田县"
            },
            {
              "value": "350426",
              "text": "尤溪县"
            },
            {
              "value": "350428",
              "text": "将乐县"
            },
            {
              "value": "350429",
              "text": "泰宁县"
            },
            {
              "value": "350430",
              "text": "建宁县"
            },
            {
              "value": "350481",
              "text": "永安市"
            }
          ]
        },
        {
          "value": "3505",
          "text": "泉州市",
          "children": [
            {
              "value": "350502",
              "text": "鲤城区"
            },
            {
              "value": "350503",
              "text": "丰泽区"
            },
            {
              "value": "350504",
              "text": "洛江区"
            },
            {
              "value": "350505",
              "text": "泉港区"
            },
            {
              "value": "350521",
              "text": "惠安县"
            },
            {
              "value": "350524",
              "text": "安溪县"
            },
            {
              "value": "350525",
              "text": "永春县"
            },
            {
              "value": "350526",
              "text": "德化县"
            },
            {
              "value": "350527",
              "text": "金门县"
            },
            {
              "value": "350581",
              "text": "石狮市"
            },
            {
              "value": "350582",
              "text": "晋江市"
            },
            {
              "value": "350583",
              "text": "南安市"
            }
          ]
        },
        {
          "value": "3506",
          "text": "漳州市",
          "children": [
            {
              "value": "350602",
              "text": "芗城区"
            },
            {
              "value": "350603",
              "text": "龙文区"
            },
            {
              "value": "350604",
              "text": "龙海区"
            },
            {
              "value": "350605",
              "text": "长泰区"
            },
            {
              "value": "350622",
              "text": "云霄县"
            },
            {
              "value": "350623",
              "text": "漳浦县"
            },
            {
              "value": "350624",
              "text": "诏安县"
            },
            {
              "value": "350626",
              "text": "东山县"
            },
            {
              "value": "350627",
              "text": "南靖县"
            },
            {
              "value": "350628",
              "text": "平和县"
            },
            {
              "value": "350629",
              "text": "华安县"
            }
          ]
        },
        {
          "value": "3507",
          "text": "南平市",
          "children": [
            {
              "value": "350702",
              "text": "延平区"
            },
            {
              "value": "350703",
              "text": "建阳区"
            },
            {
              "value": "350721",
              "text": "顺昌县"
            },
            {
              "value": "350722",
              "text": "浦城县"
            },
            {
              "value": "350723",
              "text": "光泽县"
            },
            {
              "value": "350724",
              "text": "松溪县"
            },
            {
              "value": "350725",
              "text": "政和县"
            },
            {
              "value": "350781",
              "text": "邵武市"
            },
            {
              "value": "350782",
              "text": "武夷山市"
            },
            {
              "value": "350783",
              "text": "建瓯市"
            }
          ]
        },
        {
          "value": "3508",
          "text": "龙岩市",
          "children": [
            {
              "value": "350802",
              "text": "新罗区"
            },
            {
              "value": "350803",
              "text": "永定区"
            },
            {
              "value": "350821",
              "text": "长汀县"
            },
            {
              "value": "350823",
              "text": "上杭县"
            },
            {
              "value": "350824",
              "text": "武平县"
            },
            {
              "value": "350825",
              "text": "连城县"
            },
            {
              "value": "350881",
              "text": "漳平市"
            }
          ]
        },
        {
          "value": "3509",
          "text": "宁德市",
          "children": [
            {
              "value": "350902",
              "text": "蕉城区"
            },
            {
              "value": "350921",
              "text": "霞浦县"
            },
            {
              "value": "350922",
              "text": "古田县"
            },
            {
              "value": "350923",
              "text": "屏南县"
            },
            {
              "value": "350924",
              "text": "寿宁县"
            },
            {
              "value": "350925",
              "text": "周宁县"
            },
            {
              "value": "350926",
              "text": "柘荣县"
            },
            {
              "value": "350981",
              "text": "福安市"
            },
            {
              "value": "350982",
              "text": "福鼎市"
            }
          ]
        }
      ]
    },
    {
      "value": "36",
      "text": "江西省",
      "children": [
        {
          "value": "3601",
          "text": "南昌市",
          "children": [
            {
              "value": "360102",
              "text": "东湖区"
            },
            {
              "value": "360103",
              "text": "西湖区"
            },
            {
              "value": "360104",
              "text": "青云谱区"
            },
            {
              "value": "360111",
              "text": "青山湖区"
            },
            {
              "value": "360112",
              "text": "新建区"
            },
            {
              "value": "360113",
              "text": "红谷滩区"
            },
            {
              "value": "360121",
              "text": "南昌县"
            },
            {
              "value": "360123",
              "text": "安义县"
            },
            {
              "value": "360124",
              "text": "进贤县"
            }
          ]
        },
        {
          "value": "3602",
          "text": "景德镇市",
          "children": [
            {
              "value": "360202",
              "text": "昌江区"
            },
            {
              "value": "360203",
              "text": "珠山区"
            },
            {
              "value": "360222",
              "text": "浮梁县"
            },
            {
              "value": "360281",
              "text": "乐平市"
            }
          ]
        },
        {
          "value": "3603",
          "text": "萍乡市",
          "children": [
            {
              "value": "360302",
              "text": "安源区"
            },
            {
              "value": "360313",
              "text": "湘东区"
            },
            {
              "value": "360321",
              "text": "莲花县"
            },
            {
              "value": "360322",
              "text": "上栗县"
            },
            {
              "value": "360323",
              "text": "芦溪县"
            }
          ]
        },
        {
          "value": "3604",
          "text": "九江市",
          "children": [
            {
              "value": "360402",
              "text": "濂溪区"
            },
            {
              "value": "360403",
              "text": "浔阳区"
            },
            {
              "value": "360404",
              "text": "柴桑区"
            },
            {
              "value": "360423",
              "text": "武宁县"
            },
            {
              "value": "360424",
              "text": "修水县"
            },
            {
              "value": "360425",
              "text": "永修县"
            },
            {
              "value": "360426",
              "text": "德安县"
            },
            {
              "value": "360428",
              "text": "都昌县"
            },
            {
              "value": "360429",
              "text": "湖口县"
            },
            {
              "value": "360430",
              "text": "彭泽县"
            },
            {
              "value": "360481",
              "text": "瑞昌市"
            },
            {
              "value": "360482",
              "text": "共青城市"
            },
            {
              "value": "360483",
              "text": "庐山市"
            }
          ]
        },
        {
          "value": "3605",
          "text": "新余市",
          "children": [
            {
              "value": "360502",
              "text": "渝水区"
            },
            {
              "value": "360521",
              "text": "分宜县"
            }
          ]
        },
        {
          "value": "3606",
          "text": "鹰潭市",
          "children": [
            {
              "value": "360602",
              "text": "月湖区"
            },
            {
              "value": "360603",
              "text": "余江区"
            },
            {
              "value": "360681",
              "text": "贵溪市"
            }
          ]
        },
        {
          "value": "3607",
          "text": "赣州市",
          "children": [
            {
              "value": "360702",
              "text": "章贡区"
            },
            {
              "value": "360703",
              "text": "南康区"
            },
            {
              "value": "360704",
              "text": "赣县区"
            },
            {
              "value": "360722",
              "text": "信丰县"
            },
            {
              "value": "360723",
              "text": "大余县"
            },
            {
              "value": "360724",
              "text": "上犹县"
            },
            {
              "value": "360725",
              "text": "崇义县"
            },
            {
              "value": "360726",
              "text": "安远县"
            },
            {
              "value": "360728",
              "text": "定南县"
            },
            {
              "value": "360729",
              "text": "全南县"
            },
            {
              "value": "360730",
              "text": "宁都县"
            },
            {
              "value": "360731",
              "text": "于都县"
            },
            {
              "value": "360732",
              "text": "兴国县"
            },
            {
              "value": "360733",
              "text": "会昌县"
            },
            {
              "value": "360734",
              "text": "寻乌县"
            },
            {
              "value": "360735",
              "text": "石城县"
            },
            {
              "value": "360781",
              "text": "瑞金市"
            },
            {
              "value": "360783",
              "text": "龙南市"
            }
          ]
        },
        {
          "value": "3608",
          "text": "吉安市",
          "children": [
            {
              "value": "360802",
              "text": "吉州区"
            },
            {
              "value": "360803",
              "text": "青原区"
            },
            {
              "value": "360821",
              "text": "吉安县"
            },
            {
              "value": "360822",
              "text": "吉水县"
            },
            {
              "value": "360823",
              "text": "峡江县"
            },
            {
              "value": "360824",
              "text": "新干县"
            },
            {
              "value": "360825",
              "text": "永丰县"
            },
            {
              "value": "360826",
              "text": "泰和县"
            },
            {
              "value": "360827",
              "text": "遂川县"
            },
            {
              "value": "360828",
              "text": "万安县"
            },
            {
              "value": "360829",
              "text": "安福县"
            },
            {
              "value": "360830",
              "text": "永新县"
            },
            {
              "value": "360881",
              "text": "井冈山市"
            }
          ]
        },
        {
          "value": "3609",
          "text": "宜春市",
          "children": [
            {
              "value": "360902",
              "text": "袁州区"
            },
            {
              "value": "360921",
              "text": "奉新县"
            },
            {
              "value": "360922",
              "text": "万载县"
            },
            {
              "value": "360923",
              "text": "上高县"
            },
            {
              "value": "360924",
              "text": "宜丰县"
            },
            {
              "value": "360925",
              "text": "靖安县"
            },
            {
              "value": "360926",
              "text": "铜鼓县"
            },
            {
              "value": "360981",
              "text": "丰城市"
            },
            {
              "value": "360982",
              "text": "樟树市"
            },
            {
              "value": "360983",
              "text": "高安市"
            }
          ]
        },
        {
          "value": "3610",
          "text": "抚州市",
          "children": [
            {
              "value": "361002",
              "text": "临川区"
            },
            {
              "value": "361003",
              "text": "东乡区"
            },
            {
              "value": "361021",
              "text": "南城县"
            },
            {
              "value": "361022",
              "text": "黎川县"
            },
            {
              "value": "361023",
              "text": "南丰县"
            },
            {
              "value": "361024",
              "text": "崇仁县"
            },
            {
              "value": "361025",
              "text": "乐安县"
            },
            {
              "value": "361026",
              "text": "宜黄县"
            },
            {
              "value": "361027",
              "text": "金溪县"
            },
            {
              "value": "361028",
              "text": "资溪县"
            },
            {
              "value": "361030",
              "text": "广昌县"
            }
          ]
        },
        {
          "value": "3611",
          "text": "上饶市",
          "children": [
            {
              "value": "361102",
              "text": "信州区"
            },
            {
              "value": "361103",
              "text": "广丰区"
            },
            {
              "value": "361104",
              "text": "广信区"
            },
            {
              "value": "361123",
              "text": "玉山县"
            },
            {
              "value": "361124",
              "text": "铅山县"
            },
            {
              "value": "361125",
              "text": "横峰县"
            },
            {
              "value": "361126",
              "text": "弋阳县"
            },
            {
              "value": "361127",
              "text": "余干县"
            },
            {
              "value": "361128",
              "text": "鄱阳县"
            },
            {
              "value": "361129",
              "text": "万年县"
            },
            {
              "value": "361130",
              "text": "婺源县"
            },
            {
              "value": "361181",
              "text": "德兴市"
            }
          ]
        }
      ]
    },
    {
      "value": "37",
      "text": "山东省",
      "children": [
        {
          "value": "3701",
          "text": "济南市",
          "children": [
            {
              "value": "370102",
              "text": "历下区"
            },
            {
              "value": "370103",
              "text": "市中区"
            },
            {
              "value": "370104",
              "text": "槐荫区"
            },
            {
              "value": "370105",
              "text": "天桥区"
            },
            {
              "value": "370112",
              "text": "历城区"
            },
            {
              "value": "370113",
              "text": "长清区"
            },
            {
              "value": "370114",
              "text": "章丘区"
            },
            {
              "value": "370115",
              "text": "济阳区"
            },
            {
              "value": "370116",
              "text": "莱芜区"
            },
            {
              "value": "370117",
              "text": "钢城区"
            },
            {
              "value": "370124",
              "text": "平阴县"
            },
            {
              "value": "370126",
              "text": "商河县"
            },
            {
              "value": "370176",
              "text": "济南高新技术产业开发区"
            }
          ]
        },
        {
          "value": "3702",
          "text": "青岛市",
          "children": [
            {
              "value": "370202",
              "text": "市南区"
            },
            {
              "value": "370203",
              "text": "市北区"
            },
            {
              "value": "370211",
              "text": "黄岛区"
            },
            {
              "value": "370212",
              "text": "崂山区"
            },
            {
              "value": "370213",
              "text": "李沧区"
            },
            {
              "value": "370214",
              "text": "城阳区"
            },
            {
              "value": "370215",
              "text": "即墨区"
            },
            {
              "value": "370281",
              "text": "胶州市"
            },
            {
              "value": "370283",
              "text": "平度市"
            },
            {
              "value": "370285",
              "text": "莱西市"
            }
          ]
        },
        {
          "value": "3703",
          "text": "淄博市",
          "children": [
            {
              "value": "370302",
              "text": "淄川区"
            },
            {
              "value": "370303",
              "text": "张店区"
            },
            {
              "value": "370304",
              "text": "博山区"
            },
            {
              "value": "370305",
              "text": "临淄区"
            },
            {
              "value": "370306",
              "text": "周村区"
            },
            {
              "value": "370321",
              "text": "桓台县"
            },
            {
              "value": "370322",
              "text": "高青县"
            },
            {
              "value": "370323",
              "text": "沂源县"
            }
          ]
        },
        {
          "value": "3704",
          "text": "枣庄市",
          "children": [
            {
              "value": "370402",
              "text": "市中区"
            },
            {
              "value": "370403",
              "text": "薛城区"
            },
            {
              "value": "370404",
              "text": "峄城区"
            },
            {
              "value": "370405",
              "text": "台儿庄区"
            },
            {
              "value": "370406",
              "text": "山亭区"
            },
            {
              "value": "370481",
              "text": "滕州市"
            }
          ]
        },
        {
          "value": "3705",
          "text": "东营市",
          "children": [
            {
              "value": "370502",
              "text": "东营区"
            },
            {
              "value": "370503",
              "text": "河口区"
            },
            {
              "value": "370505",
              "text": "垦利区"
            },
            {
              "value": "370522",
              "text": "利津县"
            },
            {
              "value": "370523",
              "text": "广饶县"
            },
            {
              "value": "370571",
              "text": "东营经济技术开发区"
            },
            {
              "value": "370572",
              "text": "东营港经济开发区"
            }
          ]
        },
        {
          "value": "3706",
          "text": "烟台市",
          "children": [
            {
              "value": "370602",
              "text": "芝罘区"
            },
            {
              "value": "370611",
              "text": "福山区"
            },
            {
              "value": "370612",
              "text": "牟平区"
            },
            {
              "value": "370613",
              "text": "莱山区"
            },
            {
              "value": "370614",
              "text": "蓬莱区"
            },
            {
              "value": "370671",
              "text": "烟台高新技术产业开发区"
            },
            {
              "value": "370676",
              "text": "烟台经济技术开发区"
            },
            {
              "value": "370681",
              "text": "龙口市"
            },
            {
              "value": "370682",
              "text": "莱阳市"
            },
            {
              "value": "370683",
              "text": "莱州市"
            },
            {
              "value": "370685",
              "text": "招远市"
            },
            {
              "value": "370686",
              "text": "栖霞市"
            },
            {
              "value": "370687",
              "text": "海阳市"
            }
          ]
        },
        {
          "value": "3707",
          "text": "潍坊市",
          "children": [
            {
              "value": "370702",
              "text": "潍城区"
            },
            {
              "value": "370703",
              "text": "寒亭区"
            },
            {
              "value": "370704",
              "text": "坊子区"
            },
            {
              "value": "370705",
              "text": "奎文区"
            },
            {
              "value": "370724",
              "text": "临朐县"
            },
            {
              "value": "370725",
              "text": "昌乐县"
            },
            {
              "value": "370772",
              "text": "潍坊滨海经济技术开发区"
            },
            {
              "value": "370781",
              "text": "青州市"
            },
            {
              "value": "370782",
              "text": "诸城市"
            },
            {
              "value": "370783",
              "text": "寿光市"
            },
            {
              "value": "370784",
              "text": "安丘市"
            },
            {
              "value": "370785",
              "text": "高密市"
            },
            {
              "value": "370786",
              "text": "昌邑市"
            }
          ]
        },
        {
          "value": "3708",
          "text": "济宁市",
          "children": [
            {
              "value": "370811",
              "text": "任城区"
            },
            {
              "value": "370812",
              "text": "兖州区"
            },
            {
              "value": "370826",
              "text": "微山县"
            },
            {
              "value": "370827",
              "text": "鱼台县"
            },
            {
              "value": "370828",
              "text": "金乡县"
            },
            {
              "value": "370829",
              "text": "嘉祥县"
            },
            {
              "value": "370830",
              "text": "汶上县"
            },
            {
              "value": "370831",
              "text": "泗水县"
            },
            {
              "value": "370832",
              "text": "梁山县"
            },
            {
              "value": "370871",
              "text": "济宁高新技术产业开发区"
            },
            {
              "value": "370881",
              "text": "曲阜市"
            },
            {
              "value": "370883",
              "text": "邹城市"
            }
          ]
        },
        {
          "value": "3709",
          "text": "泰安市",
          "children": [
            {
              "value": "370902",
              "text": "泰山区"
            },
            {
              "value": "370911",
              "text": "岱岳区"
            },
            {
              "value": "370921",
              "text": "宁阳县"
            },
            {
              "value": "370923",
              "text": "东平县"
            },
            {
              "value": "370982",
              "text": "新泰市"
            },
            {
              "value": "370983",
              "text": "肥城市"
            }
          ]
        },
        {
          "value": "3710",
          "text": "威海市",
          "children": [
            {
              "value": "371002",
              "text": "环翠区"
            },
            {
              "value": "371003",
              "text": "文登区"
            },
            {
              "value": "371071",
              "text": "威海火炬高技术产业开发区"
            },
            {
              "value": "371072",
              "text": "威海经济技术开发区"
            },
            {
              "value": "371073",
              "text": "威海临港经济技术开发区"
            },
            {
              "value": "371082",
              "text": "荣成市"
            },
            {
              "value": "371083",
              "text": "乳山市"
            }
          ]
        },
        {
          "value": "3711",
          "text": "日照市",
          "children": [
            {
              "value": "371102",
              "text": "东港区"
            },
            {
              "value": "371103",
              "text": "岚山区"
            },
            {
              "value": "371121",
              "text": "五莲县"
            },
            {
              "value": "371122",
              "text": "莒县"
            },
            {
              "value": "371171",
              "text": "日照经济技术开发区"
            }
          ]
        },
        {
          "value": "3713",
          "text": "临沂市",
          "children": [
            {
              "value": "371302",
              "text": "兰山区"
            },
            {
              "value": "371311",
              "text": "罗庄区"
            },
            {
              "value": "371312",
              "text": "河东区"
            },
            {
              "value": "371321",
              "text": "沂南县"
            },
            {
              "value": "371322",
              "text": "郯城县"
            },
            {
              "value": "371323",
              "text": "沂水县"
            },
            {
              "value": "371324",
              "text": "兰陵县"
            },
            {
              "value": "371325",
              "text": "费县"
            },
            {
              "value": "371326",
              "text": "平邑县"
            },
            {
              "value": "371327",
              "text": "莒南县"
            },
            {
              "value": "371328",
              "text": "蒙阴县"
            },
            {
              "value": "371329",
              "text": "临沭县"
            },
            {
              "value": "371371",
              "text": "临沂高新技术产业开发区"
            }
          ]
        },
        {
          "value": "3714",
          "text": "德州市",
          "children": [
            {
              "value": "371402",
              "text": "德城区"
            },
            {
              "value": "371403",
              "text": "陵城区"
            },
            {
              "value": "371422",
              "text": "宁津县"
            },
            {
              "value": "371423",
              "text": "庆云县"
            },
            {
              "value": "371424",
              "text": "临邑县"
            },
            {
              "value": "371425",
              "text": "齐河县"
            },
            {
              "value": "371426",
              "text": "平原县"
            },
            {
              "value": "371427",
              "text": "夏津县"
            },
            {
              "value": "371428",
              "text": "武城县"
            },
            {
              "value": "371471",
              "text": "德州天衢新区"
            },
            {
              "value": "371481",
              "text": "乐陵市"
            },
            {
              "value": "371482",
              "text": "禹城市"
            }
          ]
        },
        {
          "value": "3715",
          "text": "聊城市",
          "children": [
            {
              "value": "371502",
              "text": "东昌府区"
            },
            {
              "value": "371503",
              "text": "茌平区"
            },
            {
              "value": "371521",
              "text": "阳谷县"
            },
            {
              "value": "371522",
              "text": "莘县"
            },
            {
              "value": "371524",
              "text": "东阿县"
            },
            {
              "value": "371525",
              "text": "冠县"
            },
            {
              "value": "371526",
              "text": "高唐县"
            },
            {
              "value": "371581",
              "text": "临清市"
            }
          ]
        },
        {
          "value": "3716",
          "text": "滨州市",
          "children": [
            {
              "value": "371602",
              "text": "滨城区"
            },
            {
              "value": "371603",
              "text": "沾化区"
            },
            {
              "value": "371621",
              "text": "惠民县"
            },
            {
              "value": "371622",
              "text": "阳信县"
            },
            {
              "value": "371623",
              "text": "无棣县"
            },
            {
              "value": "371625",
              "text": "博兴县"
            },
            {
              "value": "371681",
              "text": "邹平市"
            }
          ]
        },
        {
          "value": "3717",
          "text": "菏泽市",
          "children": [
            {
              "value": "371702",
              "text": "牡丹区"
            },
            {
              "value": "371703",
              "text": "定陶区"
            },
            {
              "value": "371721",
              "text": "曹县"
            },
            {
              "value": "371722",
              "text": "单县"
            },
            {
              "value": "371723",
              "text": "成武县"
            },
            {
              "value": "371724",
              "text": "巨野县"
            },
            {
              "value": "371725",
              "text": "郓城县"
            },
            {
              "value": "371726",
              "text": "鄄城县"
            },
            {
              "value": "371728",
              "text": "东明县"
            },
            {
              "value": "371771",
              "text": "菏泽经济技术开发区"
            },
            {
              "value": "371772",
              "text": "菏泽高新技术开发区"
            }
          ]
        }
      ]
    },
    {
      "value": "41",
      "text": "河南省",
      "children": [
        {
          "value": "4101",
          "text": "郑州市",
          "children": [
            {
              "value": "410102",
              "text": "中原区"
            },
            {
              "value": "410103",
              "text": "二七区"
            },
            {
              "value": "410104",
              "text": "管城回族区"
            },
            {
              "value": "410105",
              "text": "金水区"
            },
            {
              "value": "410106",
              "text": "上街区"
            },
            {
              "value": "410108",
              "text": "惠济区"
            },
            {
              "value": "410122",
              "text": "中牟县"
            },
            {
              "value": "410171",
              "text": "郑州经济技术开发区"
            },
            {
              "value": "410172",
              "text": "郑州高新技术产业开发区"
            },
            {
              "value": "410173",
              "text": "郑州航空港经济综合实验区"
            },
            {
              "value": "410181",
              "text": "巩义市"
            },
            {
              "value": "410182",
              "text": "荥阳市"
            },
            {
              "value": "410183",
              "text": "新密市"
            },
            {
              "value": "410184",
              "text": "新郑市"
            },
            {
              "value": "410185",
              "text": "登封市"
            }
          ]
        },
        {
          "value": "4102",
          "text": "开封市",
          "children": [
            {
              "value": "410202",
              "text": "龙亭区"
            },
            {
              "value": "410203",
              "text": "顺河回族区"
            },
            {
              "value": "410204",
              "text": "鼓楼区"
            },
            {
              "value": "410205",
              "text": "禹王台区"
            },
            {
              "value": "410212",
              "text": "祥符区"
            },
            {
              "value": "410221",
              "text": "杞县"
            },
            {
              "value": "410222",
              "text": "通许县"
            },
            {
              "value": "410223",
              "text": "尉氏县"
            },
            {
              "value": "410225",
              "text": "兰考县"
            }
          ]
        },
        {
          "value": "4103",
          "text": "洛阳市",
          "children": [
            {
              "value": "410302",
              "text": "老城区"
            },
            {
              "value": "410303",
              "text": "西工区"
            },
            {
              "value": "410304",
              "text": "瀍河回族区"
            },
            {
              "value": "410305",
              "text": "涧西区"
            },
            {
              "value": "410307",
              "text": "偃师区"
            },
            {
              "value": "410308",
              "text": "孟津区"
            },
            {
              "value": "410311",
              "text": "洛龙区"
            },
            {
              "value": "410323",
              "text": "新安县"
            },
            {
              "value": "410324",
              "text": "栾川县"
            },
            {
              "value": "410325",
              "text": "嵩县"
            },
            {
              "value": "410326",
              "text": "汝阳县"
            },
            {
              "value": "410327",
              "text": "宜阳县"
            },
            {
              "value": "410328",
              "text": "洛宁县"
            },
            {
              "value": "410329",
              "text": "伊川县"
            },
            {
              "value": "410371",
              "text": "洛阳高新技术产业开发区"
            }
          ]
        },
        {
          "value": "4104",
          "text": "平顶山市",
          "children": [
            {
              "value": "410402",
              "text": "新华区"
            },
            {
              "value": "410403",
              "text": "卫东区"
            },
            {
              "value": "410404",
              "text": "石龙区"
            },
            {
              "value": "410411",
              "text": "湛河区"
            },
            {
              "value": "410421",
              "text": "宝丰县"
            },
            {
              "value": "410422",
              "text": "叶县"
            },
            {
              "value": "410423",
              "text": "鲁山县"
            },
            {
              "value": "410425",
              "text": "郏县"
            },
            {
              "value": "410471",
              "text": "平顶山高新技术产业开发区"
            },
            {
              "value": "410472",
              "text": "平顶山市城乡一体化示范区"
            },
            {
              "value": "410481",
              "text": "舞钢市"
            },
            {
              "value": "410482",
              "text": "汝州市"
            }
          ]
        },
        {
          "value": "4105",
          "text": "安阳市",
          "children": [
            {
              "value": "410502",
              "text": "文峰区"
            },
            {
              "value": "410503",
              "text": "北关区"
            },
            {
              "value": "410505",
              "text": "殷都区"
            },
            {
              "value": "410506",
              "text": "龙安区"
            },
            {
              "value": "410522",
              "text": "安阳县"
            },
            {
              "value": "410523",
              "text": "汤阴县"
            },
            {
              "value": "410526",
              "text": "滑县"
            },
            {
              "value": "410527",
              "text": "内黄县"
            },
            {
              "value": "410571",
              "text": "安阳高新技术产业开发区"
            },
            {
              "value": "410581",
              "text": "林州市"
            }
          ]
        },
        {
          "value": "4106",
          "text": "鹤壁市",
          "children": [
            {
              "value": "410602",
              "text": "鹤山区"
            },
            {
              "value": "410603",
              "text": "山城区"
            },
            {
              "value": "410611",
              "text": "淇滨区"
            },
            {
              "value": "410621",
              "text": "浚县"
            },
            {
              "value": "410622",
              "text": "淇县"
            },
            {
              "value": "410671",
              "text": "鹤壁经济技术开发区"
            }
          ]
        },
        {
          "value": "4107",
          "text": "新乡市",
          "children": [
            {
              "value": "410702",
              "text": "红旗区"
            },
            {
              "value": "410703",
              "text": "卫滨区"
            },
            {
              "value": "410704",
              "text": "凤泉区"
            },
            {
              "value": "410711",
              "text": "牧野区"
            },
            {
              "value": "410721",
              "text": "新乡县"
            },
            {
              "value": "410724",
              "text": "获嘉县"
            },
            {
              "value": "410725",
              "text": "原阳县"
            },
            {
              "value": "410726",
              "text": "延津县"
            },
            {
              "value": "410727",
              "text": "封丘县"
            },
            {
              "value": "410771",
              "text": "新乡高新技术产业开发区"
            },
            {
              "value": "410772",
              "text": "新乡经济技术开发区"
            },
            {
              "value": "410773",
              "text": "新乡市平原城乡一体化示范区"
            },
            {
              "value": "410781",
              "text": "卫辉市"
            },
            {
              "value": "410782",
              "text": "辉县市"
            },
            {
              "value": "410783",
              "text": "长垣市"
            }
          ]
        },
        {
          "value": "4108",
          "text": "焦作市",
          "children": [
            {
              "value": "410802",
              "text": "解放区"
            },
            {
              "value": "410803",
              "text": "中站区"
            },
            {
              "value": "410804",
              "text": "马村区"
            },
            {
              "value": "410811",
              "text": "山阳区"
            },
            {
              "value": "410821",
              "text": "修武县"
            },
            {
              "value": "410822",
              "text": "博爱县"
            },
            {
              "value": "410823",
              "text": "武陟县"
            },
            {
              "value": "410825",
              "text": "温县"
            },
            {
              "value": "410871",
              "text": "焦作城乡一体化示范区"
            },
            {
              "value": "410882",
              "text": "沁阳市"
            },
            {
              "value": "410883",
              "text": "孟州市"
            }
          ]
        },
        {
          "value": "4109",
          "text": "濮阳市",
          "children": [
            {
              "value": "410902",
              "text": "华龙区"
            },
            {
              "value": "410922",
              "text": "清丰县"
            },
            {
              "value": "410923",
              "text": "南乐县"
            },
            {
              "value": "410926",
              "text": "范县"
            },
            {
              "value": "410927",
              "text": "台前县"
            },
            {
              "value": "410928",
              "text": "濮阳县"
            },
            {
              "value": "410971",
              "text": "河南濮阳工业园区"
            },
            {
              "value": "410972",
              "text": "濮阳经济技术开发区"
            }
          ]
        },
        {
          "value": "4110",
          "text": "许昌市",
          "children": [
            {
              "value": "411002",
              "text": "魏都区"
            },
            {
              "value": "411003",
              "text": "建安区"
            },
            {
              "value": "411024",
              "text": "鄢陵县"
            },
            {
              "value": "411025",
              "text": "襄城县"
            },
            {
              "value": "411071",
              "text": "许昌经济技术开发区"
            },
            {
              "value": "411081",
              "text": "禹州市"
            },
            {
              "value": "411082",
              "text": "长葛市"
            }
          ]
        },
        {
          "value": "4111",
          "text": "漯河市",
          "children": [
            {
              "value": "411102",
              "text": "源汇区"
            },
            {
              "value": "411103",
              "text": "郾城区"
            },
            {
              "value": "411104",
              "text": "召陵区"
            },
            {
              "value": "411121",
              "text": "舞阳县"
            },
            {
              "value": "411122",
              "text": "临颍县"
            },
            {
              "value": "411171",
              "text": "漯河经济技术开发区"
            }
          ]
        },
        {
          "value": "4112",
          "text": "三门峡市",
          "children": [
            {
              "value": "411202",
              "text": "湖滨区"
            },
            {
              "value": "411203",
              "text": "陕州区"
            },
            {
              "value": "411221",
              "text": "渑池县"
            },
            {
              "value": "411224",
              "text": "卢氏县"
            },
            {
              "value": "411271",
              "text": "河南三门峡经济开发区"
            },
            {
              "value": "411281",
              "text": "义马市"
            },
            {
              "value": "411282",
              "text": "灵宝市"
            }
          ]
        },
        {
          "value": "4113",
          "text": "南阳市",
          "children": [
            {
              "value": "411302",
              "text": "宛城区"
            },
            {
              "value": "411303",
              "text": "卧龙区"
            },
            {
              "value": "411321",
              "text": "南召县"
            },
            {
              "value": "411322",
              "text": "方城县"
            },
            {
              "value": "411323",
              "text": "西峡县"
            },
            {
              "value": "411324",
              "text": "镇平县"
            },
            {
              "value": "411325",
              "text": "内乡县"
            },
            {
              "value": "411326",
              "text": "淅川县"
            },
            {
              "value": "411327",
              "text": "社旗县"
            },
            {
              "value": "411328",
              "text": "唐河县"
            },
            {
              "value": "411329",
              "text": "新野县"
            },
            {
              "value": "411330",
              "text": "桐柏县"
            },
            {
              "value": "411371",
              "text": "南阳高新技术产业开发区"
            },
            {
              "value": "411372",
              "text": "南阳市城乡一体化示范区"
            },
            {
              "value": "411381",
              "text": "邓州市"
            }
          ]
        },
        {
          "value": "4114",
          "text": "商丘市",
          "children": [
            {
              "value": "411402",
              "text": "梁园区"
            },
            {
              "value": "411403",
              "text": "睢阳区"
            },
            {
              "value": "411421",
              "text": "民权县"
            },
            {
              "value": "411422",
              "text": "睢县"
            },
            {
              "value": "411423",
              "text": "宁陵县"
            },
            {
              "value": "411424",
              "text": "柘城县"
            },
            {
              "value": "411425",
              "text": "虞城县"
            },
            {
              "value": "411426",
              "text": "夏邑县"
            },
            {
              "value": "411471",
              "text": "豫东综合物流产业聚集区"
            },
            {
              "value": "411472",
              "text": "河南商丘经济开发区"
            },
            {
              "value": "411481",
              "text": "永城市"
            }
          ]
        },
        {
          "value": "4115",
          "text": "信阳市",
          "children": [
            {
              "value": "411502",
              "text": "浉河区"
            },
            {
              "value": "411503",
              "text": "平桥区"
            },
            {
              "value": "411521",
              "text": "罗山县"
            },
            {
              "value": "411522",
              "text": "光山县"
            },
            {
              "value": "411523",
              "text": "新县"
            },
            {
              "value": "411524",
              "text": "商城县"
            },
            {
              "value": "411525",
              "text": "固始县"
            },
            {
              "value": "411526",
              "text": "潢川县"
            },
            {
              "value": "411527",
              "text": "淮滨县"
            },
            {
              "value": "411528",
              "text": "息县"
            },
            {
              "value": "411571",
              "text": "信阳高新技术产业开发区"
            }
          ]
        },
        {
          "value": "4116",
          "text": "周口市",
          "children": [
            {
              "value": "411602",
              "text": "川汇区"
            },
            {
              "value": "411603",
              "text": "淮阳区"
            },
            {
              "value": "411621",
              "text": "扶沟县"
            },
            {
              "value": "411622",
              "text": "西华县"
            },
            {
              "value": "411623",
              "text": "商水县"
            },
            {
              "value": "411624",
              "text": "沈丘县"
            },
            {
              "value": "411625",
              "text": "郸城县"
            },
            {
              "value": "411627",
              "text": "太康县"
            },
            {
              "value": "411628",
              "text": "鹿邑县"
            },
            {
              "value": "411671",
              "text": "周口临港开发区"
            },
            {
              "value": "411681",
              "text": "项城市"
            }
          ]
        },
        {
          "value": "4117",
          "text": "驻马店市",
          "children": [
            {
              "value": "411702",
              "text": "驿城区"
            },
            {
              "value": "411721",
              "text": "西平县"
            },
            {
              "value": "411722",
              "text": "上蔡县"
            },
            {
              "value": "411723",
              "text": "平舆县"
            },
            {
              "value": "411724",
              "text": "正阳县"
            },
            {
              "value": "411725",
              "text": "确山县"
            },
            {
              "value": "411726",
              "text": "泌阳县"
            },
            {
              "value": "411727",
              "text": "汝南县"
            },
            {
              "value": "411728",
              "text": "遂平县"
            },
            {
              "value": "411729",
              "text": "新蔡县"
            },
            {
              "value": "411771",
              "text": "河南驻马店经济开发区"
            }
          ]
        },
        {
          "value": "4190",
          "text": "省直辖县级行政区划",
          "children": [
            {
              "value": "419001",
              "text": "济源市"
            }
          ]
        }
      ]
    },
    {
      "value": "42",
      "text": "湖北省",
      "children": [
        {
          "value": "4201",
          "text": "武汉市",
          "children": [
            {
              "value": "420102",
              "text": "江岸区"
            },
            {
              "value": "420103",
              "text": "江汉区"
            },
            {
              "value": "420104",
              "text": "硚口区"
            },
            {
              "value": "420105",
              "text": "汉阳区"
            },
            {
              "value": "420106",
              "text": "武昌区"
            },
            {
              "value": "420107",
              "text": "青山区"
            },
            {
              "value": "420111",
              "text": "洪山区"
            },
            {
              "value": "420112",
              "text": "东西湖区"
            },
            {
              "value": "420113",
              "text": "汉南区"
            },
            {
              "value": "420114",
              "text": "蔡甸区"
            },
            {
              "value": "420115",
              "text": "江夏区"
            },
            {
              "value": "420116",
              "text": "黄陂区"
            },
            {
              "value": "420117",
              "text": "新洲区"
            }
          ]
        },
        {
          "value": "4202",
          "text": "黄石市",
          "children": [
            {
              "value": "420202",
              "text": "黄石港区"
            },
            {
              "value": "420203",
              "text": "西塞山区"
            },
            {
              "value": "420204",
              "text": "下陆区"
            },
            {
              "value": "420205",
              "text": "铁山区"
            },
            {
              "value": "420222",
              "text": "阳新县"
            },
            {
              "value": "420281",
              "text": "大冶市"
            }
          ]
        },
        {
          "value": "4203",
          "text": "十堰市",
          "children": [
            {
              "value": "420302",
              "text": "茅箭区"
            },
            {
              "value": "420303",
              "text": "张湾区"
            },
            {
              "value": "420304",
              "text": "郧阳区"
            },
            {
              "value": "420322",
              "text": "郧西县"
            },
            {
              "value": "420323",
              "text": "竹山县"
            },
            {
              "value": "420324",
              "text": "竹溪县"
            },
            {
              "value": "420325",
              "text": "房县"
            },
            {
              "value": "420381",
              "text": "丹江口市"
            }
          ]
        },
        {
          "value": "4205",
          "text": "宜昌市",
          "children": [
            {
              "value": "420502",
              "text": "西陵区"
            },
            {
              "value": "420503",
              "text": "伍家岗区"
            },
            {
              "value": "420504",
              "text": "点军区"
            },
            {
              "value": "420505",
              "text": "猇亭区"
            },
            {
              "value": "420506",
              "text": "夷陵区"
            },
            {
              "value": "420525",
              "text": "远安县"
            },
            {
              "value": "420526",
              "text": "兴山县"
            },
            {
              "value": "420527",
              "text": "秭归县"
            },
            {
              "value": "420528",
              "text": "长阳土家族自治县"
            },
            {
              "value": "420529",
              "text": "五峰土家族自治县"
            },
            {
              "value": "420581",
              "text": "宜都市"
            },
            {
              "value": "420582",
              "text": "当阳市"
            },
            {
              "value": "420583",
              "text": "枝江市"
            }
          ]
        },
        {
          "value": "4206",
          "text": "襄阳市",
          "children": [
            {
              "value": "420602",
              "text": "襄城区"
            },
            {
              "value": "420606",
              "text": "樊城区"
            },
            {
              "value": "420607",
              "text": "襄州区"
            },
            {
              "value": "420624",
              "text": "南漳县"
            },
            {
              "value": "420625",
              "text": "谷城县"
            },
            {
              "value": "420626",
              "text": "保康县"
            },
            {
              "value": "420682",
              "text": "老河口市"
            },
            {
              "value": "420683",
              "text": "枣阳市"
            },
            {
              "value": "420684",
              "text": "宜城市"
            }
          ]
        },
        {
          "value": "4207",
          "text": "鄂州市",
          "children": [
            {
              "value": "420702",
              "text": "梁子湖区"
            },
            {
              "value": "420703",
              "text": "华容区"
            },
            {
              "value": "420704",
              "text": "鄂城区"
            }
          ]
        },
        {
          "value": "4208",
          "text": "荆门市",
          "children": [
            {
              "value": "420802",
              "text": "东宝区"
            },
            {
              "value": "420804",
              "text": "掇刀区"
            },
            {
              "value": "420822",
              "text": "沙洋县"
            },
            {
              "value": "420881",
              "text": "钟祥市"
            },
            {
              "value": "420882",
              "text": "京山市"
            }
          ]
        },
        {
          "value": "4209",
          "text": "孝感市",
          "children": [
            {
              "value": "420902",
              "text": "孝南区"
            },
            {
              "value": "420921",
              "text": "孝昌县"
            },
            {
              "value": "420922",
              "text": "大悟县"
            },
            {
              "value": "420923",
              "text": "云梦县"
            },
            {
              "value": "420981",
              "text": "应城市"
            },
            {
              "value": "420982",
              "text": "安陆市"
            },
            {
              "value": "420984",
              "text": "汉川市"
            }
          ]
        },
        {
          "value": "4210",
          "text": "荆州市",
          "children": [
            {
              "value": "421002",
              "text": "沙市区"
            },
            {
              "value": "421003",
              "text": "荆州区"
            },
            {
              "value": "421022",
              "text": "公安县"
            },
            {
              "value": "421024",
              "text": "江陵县"
            },
            {
              "value": "421071",
              "text": "荆州经济技术开发区"
            },
            {
              "value": "421081",
              "text": "石首市"
            },
            {
              "value": "421083",
              "text": "洪湖市"
            },
            {
              "value": "421087",
              "text": "松滋市"
            },
            {
              "value": "421088",
              "text": "监利市"
            }
          ]
        },
        {
          "value": "4211",
          "text": "黄冈市",
          "children": [
            {
              "value": "421102",
              "text": "黄州区"
            },
            {
              "value": "421121",
              "text": "团风县"
            },
            {
              "value": "421122",
              "text": "红安县"
            },
            {
              "value": "421123",
              "text": "罗田县"
            },
            {
              "value": "421124",
              "text": "英山县"
            },
            {
              "value": "421125",
              "text": "浠水县"
            },
            {
              "value": "421126",
              "text": "蕲春县"
            },
            {
              "value": "421127",
              "text": "黄梅县"
            },
            {
              "value": "421171",
              "text": "龙感湖管理区"
            },
            {
              "value": "421181",
              "text": "麻城市"
            },
            {
              "value": "421182",
              "text": "武穴市"
            }
          ]
        },
        {
          "value": "4212",
          "text": "咸宁市",
          "children": [
            {
              "value": "421202",
              "text": "咸安区"
            },
            {
              "value": "421221",
              "text": "嘉鱼县"
            },
            {
              "value": "421222",
              "text": "通城县"
            },
            {
              "value": "421223",
              "text": "崇阳县"
            },
            {
              "value": "421224",
              "text": "通山县"
            },
            {
              "value": "421281",
              "text": "赤壁市"
            }
          ]
        },
        {
          "value": "4213",
          "text": "随州市",
          "children": [
            {
              "value": "421303",
              "text": "曾都区"
            },
            {
              "value": "421321",
              "text": "随县"
            },
            {
              "value": "421381",
              "text": "广水市"
            }
          ]
        },
        {
          "value": "4228",
          "text": "恩施土家族苗族自治州",
          "children": [
            {
              "value": "422801",
              "text": "恩施市"
            },
            {
              "value": "422802",
              "text": "利川市"
            },
            {
              "value": "422822",
              "text": "建始县"
            },
            {
              "value": "422823",
              "text": "巴东县"
            },
            {
              "value": "422825",
              "text": "宣恩县"
            },
            {
              "value": "422826",
              "text": "咸丰县"
            },
            {
              "value": "422827",
              "text": "来凤县"
            },
            {
              "value": "422828",
              "text": "鹤峰县"
            }
          ]
        },
        {
          "value": "4290",
          "text": "省直辖县级行政区划",
          "children": [
            {
              "value": "429004",
              "text": "仙桃市"
            },
            {
              "value": "429005",
              "text": "潜江市"
            },
            {
              "value": "429006",
              "text": "天门市"
            },
            {
              "value": "429021",
              "text": "神农架林区"
            }
          ]
        }
      ]
    },
    {
      "value": "43",
      "text": "湖南省",
      "children": [
        {
          "value": "4301",
          "text": "长沙市",
          "children": [
            {
              "value": "430102",
              "text": "芙蓉区"
            },
            {
              "value": "430103",
              "text": "天心区"
            },
            {
              "value": "430104",
              "text": "岳麓区"
            },
            {
              "value": "430105",
              "text": "开福区"
            },
            {
              "value": "430111",
              "text": "雨花区"
            },
            {
              "value": "430112",
              "text": "望城区"
            },
            {
              "value": "430121",
              "text": "长沙县"
            },
            {
              "value": "430181",
              "text": "浏阳市"
            },
            {
              "value": "430182",
              "text": "宁乡市"
            }
          ]
        },
        {
          "value": "4302",
          "text": "株洲市",
          "children": [
            {
              "value": "430202",
              "text": "荷塘区"
            },
            {
              "value": "430203",
              "text": "芦淞区"
            },
            {
              "value": "430204",
              "text": "石峰区"
            },
            {
              "value": "430211",
              "text": "天元区"
            },
            {
              "value": "430212",
              "text": "渌口区"
            },
            {
              "value": "430223",
              "text": "攸县"
            },
            {
              "value": "430224",
              "text": "茶陵县"
            },
            {
              "value": "430225",
              "text": "炎陵县"
            },
            {
              "value": "430281",
              "text": "醴陵市"
            }
          ]
        },
        {
          "value": "4303",
          "text": "湘潭市",
          "children": [
            {
              "value": "430302",
              "text": "雨湖区"
            },
            {
              "value": "430304",
              "text": "岳塘区"
            },
            {
              "value": "430321",
              "text": "湘潭县"
            },
            {
              "value": "430371",
              "text": "湖南湘潭高新技术产业园区"
            },
            {
              "value": "430372",
              "text": "湘潭昭山示范区"
            },
            {
              "value": "430373",
              "text": "湘潭九华示范区"
            },
            {
              "value": "430381",
              "text": "湘乡市"
            },
            {
              "value": "430382",
              "text": "韶山市"
            }
          ]
        },
        {
          "value": "4304",
          "text": "衡阳市",
          "children": [
            {
              "value": "430405",
              "text": "珠晖区"
            },
            {
              "value": "430406",
              "text": "雁峰区"
            },
            {
              "value": "430407",
              "text": "石鼓区"
            },
            {
              "value": "430408",
              "text": "蒸湘区"
            },
            {
              "value": "430412",
              "text": "南岳区"
            },
            {
              "value": "430421",
              "text": "衡阳县"
            },
            {
              "value": "430422",
              "text": "衡南县"
            },
            {
              "value": "430423",
              "text": "衡山县"
            },
            {
              "value": "430424",
              "text": "衡东县"
            },
            {
              "value": "430426",
              "text": "祁东县"
            },
            {
              "value": "430473",
              "text": "湖南衡阳松木经济开发区"
            },
            {
              "value": "430476",
              "text": "湖南衡阳高新技术产业园区"
            },
            {
              "value": "430481",
              "text": "耒阳市"
            },
            {
              "value": "430482",
              "text": "常宁市"
            }
          ]
        },
        {
          "value": "4305",
          "text": "邵阳市",
          "children": [
            {
              "value": "430502",
              "text": "双清区"
            },
            {
              "value": "430503",
              "text": "大祥区"
            },
            {
              "value": "430511",
              "text": "北塔区"
            },
            {
              "value": "430522",
              "text": "新邵县"
            },
            {
              "value": "430523",
              "text": "邵阳县"
            },
            {
              "value": "430524",
              "text": "隆回县"
            },
            {
              "value": "430525",
              "text": "洞口县"
            },
            {
              "value": "430527",
              "text": "绥宁县"
            },
            {
              "value": "430528",
              "text": "新宁县"
            },
            {
              "value": "430529",
              "text": "城步苗族自治县"
            },
            {
              "value": "430581",
              "text": "武冈市"
            },
            {
              "value": "430582",
              "text": "邵东市"
            }
          ]
        },
        {
          "value": "4306",
          "text": "岳阳市",
          "children": [
            {
              "value": "430602",
              "text": "岳阳楼区"
            },
            {
              "value": "430603",
              "text": "云溪区"
            },
            {
              "value": "430611",
              "text": "君山区"
            },
            {
              "value": "430621",
              "text": "岳阳县"
            },
            {
              "value": "430623",
              "text": "华容县"
            },
            {
              "value": "430624",
              "text": "湘阴县"
            },
            {
              "value": "430626",
              "text": "平江县"
            },
            {
              "value": "430671",
              "text": "岳阳市屈原管理区"
            },
            {
              "value": "430681",
              "text": "汨罗市"
            },
            {
              "value": "430682",
              "text": "临湘市"
            }
          ]
        },
        {
          "value": "4307",
          "text": "常德市",
          "children": [
            {
              "value": "430702",
              "text": "武陵区"
            },
            {
              "value": "430703",
              "text": "鼎城区"
            },
            {
              "value": "430721",
              "text": "安乡县"
            },
            {
              "value": "430722",
              "text": "汉寿县"
            },
            {
              "value": "430723",
              "text": "澧县"
            },
            {
              "value": "430724",
              "text": "临澧县"
            },
            {
              "value": "430725",
              "text": "桃源县"
            },
            {
              "value": "430726",
              "text": "石门县"
            },
            {
              "value": "430771",
              "text": "常德市西洞庭管理区"
            },
            {
              "value": "430781",
              "text": "津市市"
            }
          ]
        },
        {
          "value": "4308",
          "text": "张家界市",
          "children": [
            {
              "value": "430802",
              "text": "永定区"
            },
            {
              "value": "430811",
              "text": "武陵源区"
            },
            {
              "value": "430821",
              "text": "慈利县"
            },
            {
              "value": "430822",
              "text": "桑植县"
            }
          ]
        },
        {
          "value": "4309",
          "text": "益阳市",
          "children": [
            {
              "value": "430902",
              "text": "资阳区"
            },
            {
              "value": "430903",
              "text": "赫山区"
            },
            {
              "value": "430921",
              "text": "南县"
            },
            {
              "value": "430922",
              "text": "桃江县"
            },
            {
              "value": "430923",
              "text": "安化县"
            },
            {
              "value": "430971",
              "text": "益阳市大通湖管理区"
            },
            {
              "value": "430972",
              "text": "湖南益阳高新技术产业园区"
            },
            {
              "value": "430981",
              "text": "沅江市"
            }
          ]
        },
        {
          "value": "4310",
          "text": "郴州市",
          "children": [
            {
              "value": "431002",
              "text": "北湖区"
            },
            {
              "value": "431003",
              "text": "苏仙区"
            },
            {
              "value": "431021",
              "text": "桂阳县"
            },
            {
              "value": "431022",
              "text": "宜章县"
            },
            {
              "value": "431023",
              "text": "永兴县"
            },
            {
              "value": "431024",
              "text": "嘉禾县"
            },
            {
              "value": "431025",
              "text": "临武县"
            },
            {
              "value": "431026",
              "text": "汝城县"
            },
            {
              "value": "431027",
              "text": "桂东县"
            },
            {
              "value": "431028",
              "text": "安仁县"
            },
            {
              "value": "431081",
              "text": "资兴市"
            }
          ]
        },
        {
          "value": "4311",
          "text": "永州市",
          "children": [
            {
              "value": "431102",
              "text": "零陵区"
            },
            {
              "value": "431103",
              "text": "冷水滩区"
            },
            {
              "value": "431122",
              "text": "东安县"
            },
            {
              "value": "431123",
              "text": "双牌县"
            },
            {
              "value": "431124",
              "text": "道县"
            },
            {
              "value": "431125",
              "text": "江永县"
            },
            {
              "value": "431126",
              "text": "宁远县"
            },
            {
              "value": "431127",
              "text": "蓝山县"
            },
            {
              "value": "431128",
              "text": "新田县"
            },
            {
              "value": "431129",
              "text": "江华瑶族自治县"
            },
            {
              "value": "431171",
              "text": "永州经济技术开发区"
            },
            {
              "value": "431173",
              "text": "永州市回龙圩管理区"
            },
            {
              "value": "431181",
              "text": "祁阳市"
            }
          ]
        },
        {
          "value": "4312",
          "text": "怀化市",
          "children": [
            {
              "value": "431202",
              "text": "鹤城区"
            },
            {
              "value": "431221",
              "text": "中方县"
            },
            {
              "value": "431222",
              "text": "沅陵县"
            },
            {
              "value": "431223",
              "text": "辰溪县"
            },
            {
              "value": "431224",
              "text": "溆浦县"
            },
            {
              "value": "431225",
              "text": "会同县"
            },
            {
              "value": "431226",
              "text": "麻阳苗族自治县"
            },
            {
              "value": "431227",
              "text": "新晃侗族自治县"
            },
            {
              "value": "431228",
              "text": "芷江侗族自治县"
            },
            {
              "value": "431229",
              "text": "靖州苗族侗族自治县"
            },
            {
              "value": "431230",
              "text": "通道侗族自治县"
            },
            {
              "value": "431271",
              "text": "怀化市洪江管理区"
            },
            {
              "value": "431281",
              "text": "洪江市"
            }
          ]
        },
        {
          "value": "4313",
          "text": "娄底市",
          "children": [
            {
              "value": "431302",
              "text": "娄星区"
            },
            {
              "value": "431321",
              "text": "双峰县"
            },
            {
              "value": "431322",
              "text": "新化县"
            },
            {
              "value": "431381",
              "text": "冷水江市"
            },
            {
              "value": "431382",
              "text": "涟源市"
            }
          ]
        },
        {
          "value": "4331",
          "text": "湘西土家族苗族自治州",
          "children": [
            {
              "value": "433101",
              "text": "吉首市"
            },
            {
              "value": "433122",
              "text": "泸溪县"
            },
            {
              "value": "433123",
              "text": "凤凰县"
            },
            {
              "value": "433124",
              "text": "花垣县"
            },
            {
              "value": "433125",
              "text": "保靖县"
            },
            {
              "value": "433126",
              "text": "古丈县"
            },
            {
              "value": "433127",
              "text": "永顺县"
            },
            {
              "value": "433130",
              "text": "龙山县"
            }
          ]
        }
      ]
    },
    {
      "value": "44",
      "text": "广东省",
      "children": [
        {
          "value": "4401",
          "text": "广州市",
          "children": [
            {
              "value": "440103",
              "text": "荔湾区"
            },
            {
              "value": "440104",
              "text": "越秀区"
            },
            {
              "value": "440105",
              "text": "海珠区"
            },
            {
              "value": "440106",
              "text": "天河区"
            },
            {
              "value": "440111",
              "text": "白云区"
            },
            {
              "value": "440112",
              "text": "黄埔区"
            },
            {
              "value": "440113",
              "text": "番禺区"
            },
            {
              "value": "440114",
              "text": "花都区"
            },
            {
              "value": "440115",
              "text": "南沙区"
            },
            {
              "value": "440117",
              "text": "从化区"
            },
            {
              "value": "440118",
              "text": "增城区"
            }
          ]
        },
        {
          "value": "4402",
          "text": "韶关市",
          "children": [
            {
              "value": "440203",
              "text": "武江区"
            },
            {
              "value": "440204",
              "text": "浈江区"
            },
            {
              "value": "440205",
              "text": "曲江区"
            },
            {
              "value": "440222",
              "text": "始兴县"
            },
            {
              "value": "440224",
              "text": "仁化县"
            },
            {
              "value": "440229",
              "text": "翁源县"
            },
            {
              "value": "440232",
              "text": "乳源瑶族自治县"
            },
            {
              "value": "440233",
              "text": "新丰县"
            },
            {
              "value": "440281",
              "text": "乐昌市"
            },
            {
              "value": "440282",
              "text": "南雄市"
            }
          ]
        },
        {
          "value": "4403",
          "text": "深圳市",
          "children": [
            {
              "value": "440303",
              "text": "罗湖区"
            },
            {
              "value": "440304",
              "text": "福田区"
            },
            {
              "value": "440305",
              "text": "南山区"
            },
            {
              "value": "440306",
              "text": "宝安区"
            },
            {
              "value": "440307",
              "text": "龙岗区"
            },
            {
              "value": "440308",
              "text": "盐田区"
            },
            {
              "value": "440309",
              "text": "龙华区"
            },
            {
              "value": "440310",
              "text": "坪山区"
            },
            {
              "value": "440311",
              "text": "光明区"
            }
          ]
        },
        {
          "value": "4404",
          "text": "珠海市",
          "children": [
            {
              "value": "440402",
              "text": "香洲区"
            },
            {
              "value": "440403",
              "text": "斗门区"
            },
            {
              "value": "440404",
              "text": "金湾区"
            }
          ]
        },
        {
          "value": "4405",
          "text": "汕头市",
          "children": [
            {
              "value": "440507",
              "text": "龙湖区"
            },
            {
              "value": "440511",
              "text": "金平区"
            },
            {
              "value": "440512",
              "text": "濠江区"
            },
            {
              "value": "440513",
              "text": "潮阳区"
            },
            {
              "value": "440514",
              "text": "潮南区"
            },
            {
              "value": "440515",
              "text": "澄海区"
            },
            {
              "value": "440523",
              "text": "南澳县"
            }
          ]
        },
        {
          "value": "4406",
          "text": "佛山市",
          "children": [
            {
              "value": "440604",
              "text": "禅城区"
            },
            {
              "value": "440605",
              "text": "南海区"
            },
            {
              "value": "440606",
              "text": "顺德区"
            },
            {
              "value": "440607",
              "text": "三水区"
            },
            {
              "value": "440608",
              "text": "高明区"
            }
          ]
        },
        {
          "value": "4407",
          "text": "江门市",
          "children": [
            {
              "value": "440703",
              "text": "蓬江区"
            },
            {
              "value": "440704",
              "text": "江海区"
            },
            {
              "value": "440705",
              "text": "新会区"
            },
            {
              "value": "440781",
              "text": "台山市"
            },
            {
              "value": "440783",
              "text": "开平市"
            },
            {
              "value": "440784",
              "text": "鹤山市"
            },
            {
              "value": "440785",
              "text": "恩平市"
            }
          ]
        },
        {
          "value": "4408",
          "text": "湛江市",
          "children": [
            {
              "value": "440802",
              "text": "赤坎区"
            },
            {
              "value": "440803",
              "text": "霞山区"
            },
            {
              "value": "440804",
              "text": "坡头区"
            },
            {
              "value": "440811",
              "text": "麻章区"
            },
            {
              "value": "440823",
              "text": "遂溪县"
            },
            {
              "value": "440825",
              "text": "徐闻县"
            },
            {
              "value": "440881",
              "text": "廉江市"
            },
            {
              "value": "440882",
              "text": "雷州市"
            },
            {
              "value": "440883",
              "text": "吴川市"
            }
          ]
        },
        {
          "value": "4409",
          "text": "茂名市",
          "children": [
            {
              "value": "440902",
              "text": "茂南区"
            },
            {
              "value": "440904",
              "text": "电白区"
            },
            {
              "value": "440981",
              "text": "高州市"
            },
            {
              "value": "440982",
              "text": "化州市"
            },
            {
              "value": "440983",
              "text": "信宜市"
            }
          ]
        },
        {
          "value": "4412",
          "text": "肇庆市",
          "children": [
            {
              "value": "441202",
              "text": "端州区"
            },
            {
              "value": "441203",
              "text": "鼎湖区"
            },
            {
              "value": "441204",
              "text": "高要区"
            },
            {
              "value": "441223",
              "text": "广宁县"
            },
            {
              "value": "441224",
              "text": "怀集县"
            },
            {
              "value": "441225",
              "text": "封开县"
            },
            {
              "value": "441226",
              "text": "德庆县"
            },
            {
              "value": "441284",
              "text": "四会市"
            }
          ]
        },
        {
          "value": "4413",
          "text": "惠州市",
          "children": [
            {
              "value": "441302",
              "text": "惠城区"
            },
            {
              "value": "441303",
              "text": "惠阳区"
            },
            {
              "value": "441322",
              "text": "博罗县"
            },
            {
              "value": "441323",
              "text": "惠东县"
            },
            {
              "value": "441324",
              "text": "龙门县"
            }
          ]
        },
        {
          "value": "4414",
          "text": "梅州市",
          "children": [
            {
              "value": "441402",
              "text": "梅江区"
            },
            {
              "value": "441403",
              "text": "梅县区"
            },
            {
              "value": "441422",
              "text": "大埔县"
            },
            {
              "value": "441423",
              "text": "丰顺县"
            },
            {
              "value": "441424",
              "text": "五华县"
            },
            {
              "value": "441426",
              "text": "平远县"
            },
            {
              "value": "441427",
              "text": "蕉岭县"
            },
            {
              "value": "441481",
              "text": "兴宁市"
            }
          ]
        },
        {
          "value": "4415",
          "text": "汕尾市",
          "children": [
            {
              "value": "441502",
              "text": "城区"
            },
            {
              "value": "441521",
              "text": "海丰县"
            },
            {
              "value": "441523",
              "text": "陆河县"
            },
            {
              "value": "441581",
              "text": "陆丰市"
            }
          ]
        },
        {
          "value": "4416",
          "text": "河源市",
          "children": [
            {
              "value": "441602",
              "text": "源城区"
            },
            {
              "value": "441621",
              "text": "紫金县"
            },
            {
              "value": "441622",
              "text": "龙川县"
            },
            {
              "value": "441623",
              "text": "连平县"
            },
            {
              "value": "441624",
              "text": "和平县"
            },
            {
              "value": "441625",
              "text": "东源县"
            }
          ]
        },
        {
          "value": "4417",
          "text": "阳江市",
          "children": [
            {
              "value": "441702",
              "text": "江城区"
            },
            {
              "value": "441704",
              "text": "阳东区"
            },
            {
              "value": "441721",
              "text": "阳西县"
            },
            {
              "value": "441781",
              "text": "阳春市"
            }
          ]
        },
        {
          "value": "4418",
          "text": "清远市",
          "children": [
            {
              "value": "441802",
              "text": "清城区"
            },
            {
              "value": "441803",
              "text": "清新区"
            },
            {
              "value": "441821",
              "text": "佛冈县"
            },
            {
              "value": "441823",
              "text": "阳山县"
            },
            {
              "value": "441825",
              "text": "连山壮族瑶族自治县"
            },
            {
              "value": "441826",
              "text": "连南瑶族自治县"
            },
            {
              "value": "441881",
              "text": "英德市"
            },
            {
              "value": "441882",
              "text": "连州市"
            }
          ]
        },
        {
          "value": "4419",
          "text": "东莞市",
          "children": [
            {
              "value": "441900003",
              "text": "东城街道"
            },
            {
              "value": "441900004",
              "text": "南城街道"
            },
            {
              "value": "441900005",
              "text": "万江街道"
            },
            {
              "value": "441900006",
              "text": "莞城街道"
            },
            {
              "value": "441900101",
              "text": "石碣镇"
            },
            {
              "value": "441900102",
              "text": "石龙镇"
            },
            {
              "value": "441900103",
              "text": "茶山镇"
            },
            {
              "value": "441900104",
              "text": "石排镇"
            },
            {
              "value": "441900105",
              "text": "企石镇"
            },
            {
              "value": "441900106",
              "text": "横沥镇"
            },
            {
              "value": "441900107",
              "text": "桥头镇"
            },
            {
              "value": "441900108",
              "text": "谢岗镇"
            },
            {
              "value": "441900109",
              "text": "东坑镇"
            },
            {
              "value": "441900110",
              "text": "常平镇"
            },
            {
              "value": "441900111",
              "text": "寮步镇"
            },
            {
              "value": "441900112",
              "text": "樟木头镇"
            },
            {
              "value": "441900113",
              "text": "大朗镇"
            },
            {
              "value": "441900114",
              "text": "黄江镇"
            },
            {
              "value": "441900115",
              "text": "清溪镇"
            },
            {
              "value": "441900116",
              "text": "塘厦镇"
            },
            {
              "value": "441900117",
              "text": "凤岗镇"
            },
            {
              "value": "441900118",
              "text": "大岭山镇"
            },
            {
              "value": "441900119",
              "text": "长安镇"
            },
            {
              "value": "441900121",
              "text": "虎门镇"
            },
            {
              "value": "441900122",
              "text": "厚街镇"
            },
            {
              "value": "441900123",
              "text": "沙田镇"
            },
            {
              "value": "441900124",
              "text": "道滘镇"
            },
            {
              "value": "441900125",
              "text": "洪梅镇"
            },
            {
              "value": "441900126",
              "text": "麻涌镇"
            },
            {
              "value": "441900127",
              "text": "望牛墩镇"
            },
            {
              "value": "441900128",
              "text": "中堂镇"
            },
            {
              "value": "441900129",
              "text": "高埗镇"
            },
            {
              "value": "441900401",
              "text": "松山湖"
            },
            {
              "value": "441900402",
              "text": "东莞港"
            },
            {
              "value": "441900403",
              "text": "东莞生态园"
            },
            {
              "value": "441900404",
              "text": "东莞滨海湾新区"
            }
          ]
        },
        {
          "value": "4420",
          "text": "中山市",
          "children": [
            {
              "value": "442000001",
              "text": "石岐街道"
            },
            {
              "value": "442000002",
              "text": "东区街道"
            },
            {
              "value": "442000003",
              "text": "中山港街道"
            },
            {
              "value": "442000004",
              "text": "西区街道"
            },
            {
              "value": "442000005",
              "text": "南区街道"
            },
            {
              "value": "442000006",
              "text": "五桂山街道"
            },
            {
              "value": "442000007",
              "text": "民众街道"
            },
            {
              "value": "442000008",
              "text": "南朗街道"
            },
            {
              "value": "442000101",
              "text": "黄圃镇"
            },
            {
              "value": "442000103",
              "text": "东凤镇"
            },
            {
              "value": "442000105",
              "text": "古镇镇"
            },
            {
              "value": "442000106",
              "text": "沙溪镇"
            },
            {
              "value": "442000107",
              "text": "坦洲镇"
            },
            {
              "value": "442000108",
              "text": "港口镇"
            },
            {
              "value": "442000109",
              "text": "三角镇"
            },
            {
              "value": "442000110",
              "text": "横栏镇"
            },
            {
              "value": "442000111",
              "text": "南头镇"
            },
            {
              "value": "442000112",
              "text": "阜沙镇"
            },
            {
              "value": "442000114",
              "text": "三乡镇"
            },
            {
              "value": "442000115",
              "text": "板芙镇"
            },
            {
              "value": "442000116",
              "text": "大涌镇"
            },
            {
              "value": "442000117",
              "text": "神湾镇"
            },
            {
              "value": "442000118",
              "text": "小榄镇"
            }
          ]
        },
        {
          "value": "4451",
          "text": "潮州市",
          "children": [
            {
              "value": "445102",
              "text": "湘桥区"
            },
            {
              "value": "445103",
              "text": "潮安区"
            },
            {
              "value": "445122",
              "text": "饶平县"
            }
          ]
        },
        {
          "value": "4452",
          "text": "揭阳市",
          "children": [
            {
              "value": "445202",
              "text": "榕城区"
            },
            {
              "value": "445203",
              "text": "揭东区"
            },
            {
              "value": "445222",
              "text": "揭西县"
            },
            {
              "value": "445224",
              "text": "惠来县"
            },
            {
              "value": "445281",
              "text": "普宁市"
            }
          ]
        },
        {
          "value": "4453",
          "text": "云浮市",
          "children": [
            {
              "value": "445302",
              "text": "云城区"
            },
            {
              "value": "445303",
              "text": "云安区"
            },
            {
              "value": "445321",
              "text": "新兴县"
            },
            {
              "value": "445322",
              "text": "郁南县"
            },
            {
              "value": "445381",
              "text": "罗定市"
            }
          ]
        }
      ]
    },
    {
      "value": "45",
      "text": "广西壮族自治区",
      "children": [
        {
          "value": "4501",
          "text": "南宁市",
          "children": [
            {
              "value": "450102",
              "text": "兴宁区"
            },
            {
              "value": "450103",
              "text": "青秀区"
            },
            {
              "value": "450105",
              "text": "江南区"
            },
            {
              "value": "450107",
              "text": "西乡塘区"
            },
            {
              "value": "450108",
              "text": "良庆区"
            },
            {
              "value": "450109",
              "text": "邕宁区"
            },
            {
              "value": "450110",
              "text": "武鸣区"
            },
            {
              "value": "450123",
              "text": "隆安县"
            },
            {
              "value": "450124",
              "text": "马山县"
            },
            {
              "value": "450125",
              "text": "上林县"
            },
            {
              "value": "450126",
              "text": "宾阳县"
            },
            {
              "value": "450181",
              "text": "横州市"
            }
          ]
        },
        {
          "value": "4502",
          "text": "柳州市",
          "children": [
            {
              "value": "450202",
              "text": "城中区"
            },
            {
              "value": "450203",
              "text": "鱼峰区"
            },
            {
              "value": "450204",
              "text": "柳南区"
            },
            {
              "value": "450205",
              "text": "柳北区"
            },
            {
              "value": "450206",
              "text": "柳江区"
            },
            {
              "value": "450222",
              "text": "柳城县"
            },
            {
              "value": "450223",
              "text": "鹿寨县"
            },
            {
              "value": "450224",
              "text": "融安县"
            },
            {
              "value": "450225",
              "text": "融水苗族自治县"
            },
            {
              "value": "450226",
              "text": "三江侗族自治县"
            }
          ]
        },
        {
          "value": "4503",
          "text": "桂林市",
          "children": [
            {
              "value": "450302",
              "text": "秀峰区"
            },
            {
              "value": "450303",
              "text": "叠彩区"
            },
            {
              "value": "450304",
              "text": "象山区"
            },
            {
              "value": "450305",
              "text": "七星区"
            },
            {
              "value": "450311",
              "text": "雁山区"
            },
            {
              "value": "450312",
              "text": "临桂区"
            },
            {
              "value": "450321",
              "text": "阳朔县"
            },
            {
              "value": "450323",
              "text": "灵川县"
            },
            {
              "value": "450324",
              "text": "全州县"
            },
            {
              "value": "450325",
              "text": "兴安县"
            },
            {
              "value": "450326",
              "text": "永福县"
            },
            {
              "value": "450327",
              "text": "灌阳县"
            },
            {
              "value": "450328",
              "text": "龙胜各族自治县"
            },
            {
              "value": "450329",
              "text": "资源县"
            },
            {
              "value": "450330",
              "text": "平乐县"
            },
            {
              "value": "450332",
              "text": "恭城瑶族自治县"
            },
            {
              "value": "450381",
              "text": "荔浦市"
            }
          ]
        },
        {
          "value": "4504",
          "text": "梧州市",
          "children": [
            {
              "value": "450403",
              "text": "万秀区"
            },
            {
              "value": "450405",
              "text": "长洲区"
            },
            {
              "value": "450406",
              "text": "龙圩区"
            },
            {
              "value": "450421",
              "text": "苍梧县"
            },
            {
              "value": "450422",
              "text": "藤县"
            },
            {
              "value": "450423",
              "text": "蒙山县"
            },
            {
              "value": "450481",
              "text": "岑溪市"
            }
          ]
        },
        {
          "value": "4505",
          "text": "北海市",
          "children": [
            {
              "value": "450502",
              "text": "海城区"
            },
            {
              "value": "450503",
              "text": "银海区"
            },
            {
              "value": "450512",
              "text": "铁山港区"
            },
            {
              "value": "450521",
              "text": "合浦县"
            }
          ]
        },
        {
          "value": "4506",
          "text": "防城港市",
          "children": [
            {
              "value": "450602",
              "text": "港口区"
            },
            {
              "value": "450603",
              "text": "防城区"
            },
            {
              "value": "450621",
              "text": "上思县"
            },
            {
              "value": "450681",
              "text": "东兴市"
            }
          ]
        },
        {
          "value": "4507",
          "text": "钦州市",
          "children": [
            {
              "value": "450702",
              "text": "钦南区"
            },
            {
              "value": "450703",
              "text": "钦北区"
            },
            {
              "value": "450721",
              "text": "灵山县"
            },
            {
              "value": "450722",
              "text": "浦北县"
            }
          ]
        },
        {
          "value": "4508",
          "text": "贵港市",
          "children": [
            {
              "value": "450802",
              "text": "港北区"
            },
            {
              "value": "450803",
              "text": "港南区"
            },
            {
              "value": "450804",
              "text": "覃塘区"
            },
            {
              "value": "450821",
              "text": "平南县"
            },
            {
              "value": "450881",
              "text": "桂平市"
            }
          ]
        },
        {
          "value": "4509",
          "text": "玉林市",
          "children": [
            {
              "value": "450902",
              "text": "玉州区"
            },
            {
              "value": "450903",
              "text": "福绵区"
            },
            {
              "value": "450921",
              "text": "容县"
            },
            {
              "value": "450922",
              "text": "陆川县"
            },
            {
              "value": "450923",
              "text": "博白县"
            },
            {
              "value": "450924",
              "text": "兴业县"
            },
            {
              "value": "450981",
              "text": "北流市"
            }
          ]
        },
        {
          "value": "4510",
          "text": "百色市",
          "children": [
            {
              "value": "451002",
              "text": "右江区"
            },
            {
              "value": "451003",
              "text": "田阳区"
            },
            {
              "value": "451022",
              "text": "田东县"
            },
            {
              "value": "451024",
              "text": "德保县"
            },
            {
              "value": "451026",
              "text": "那坡县"
            },
            {
              "value": "451027",
              "text": "凌云县"
            },
            {
              "value": "451028",
              "text": "乐业县"
            },
            {
              "value": "451029",
              "text": "田林县"
            },
            {
              "value": "451030",
              "text": "西林县"
            },
            {
              "value": "451031",
              "text": "隆林各族自治县"
            },
            {
              "value": "451081",
              "text": "靖西市"
            },
            {
              "value": "451082",
              "text": "平果市"
            }
          ]
        },
        {
          "value": "4511",
          "text": "贺州市",
          "children": [
            {
              "value": "451102",
              "text": "八步区"
            },
            {
              "value": "451103",
              "text": "平桂区"
            },
            {
              "value": "451121",
              "text": "昭平县"
            },
            {
              "value": "451122",
              "text": "钟山县"
            },
            {
              "value": "451123",
              "text": "富川瑶族自治县"
            }
          ]
        },
        {
          "value": "4512",
          "text": "河池市",
          "children": [
            {
              "value": "451202",
              "text": "金城江区"
            },
            {
              "value": "451203",
              "text": "宜州区"
            },
            {
              "value": "451221",
              "text": "南丹县"
            },
            {
              "value": "451222",
              "text": "天峨县"
            },
            {
              "value": "451223",
              "text": "凤山县"
            },
            {
              "value": "451224",
              "text": "东兰县"
            },
            {
              "value": "451225",
              "text": "罗城仫佬族自治县"
            },
            {
              "value": "451226",
              "text": "环江毛南族自治县"
            },
            {
              "value": "451227",
              "text": "巴马瑶族自治县"
            },
            {
              "value": "451228",
              "text": "都安瑶族自治县"
            },
            {
              "value": "451229",
              "text": "大化瑶族自治县"
            }
          ]
        },
        {
          "value": "4513",
          "text": "来宾市",
          "children": [
            {
              "value": "451302",
              "text": "兴宾区"
            },
            {
              "value": "451321",
              "text": "忻城县"
            },
            {
              "value": "451322",
              "text": "象州县"
            },
            {
              "value": "451323",
              "text": "武宣县"
            },
            {
              "value": "451324",
              "text": "金秀瑶族自治县"
            },
            {
              "value": "451381",
              "text": "合山市"
            }
          ]
        },
        {
          "value": "4514",
          "text": "崇左市",
          "children": [
            {
              "value": "451402",
              "text": "江州区"
            },
            {
              "value": "451421",
              "text": "扶绥县"
            },
            {
              "value": "451422",
              "text": "宁明县"
            },
            {
              "value": "451423",
              "text": "龙州县"
            },
            {
              "value": "451424",
              "text": "大新县"
            },
            {
              "value": "451425",
              "text": "天等县"
            },
            {
              "value": "451481",
              "text": "凭祥市"
            }
          ]
        }
      ]
    },
    {
      "value": "46",
      "text": "海南省",
      "children": [
        {
          "value": "4601",
          "text": "海口市",
          "children": [
            {
              "value": "460105",
              "text": "秀英区"
            },
            {
              "value": "460106",
              "text": "龙华区"
            },
            {
              "value": "460107",
              "text": "琼山区"
            },
            {
              "value": "460108",
              "text": "美兰区"
            }
          ]
        },
        {
          "value": "4602",
          "text": "三亚市",
          "children": [
            {
              "value": "460202",
              "text": "海棠区"
            },
            {
              "value": "460203",
              "text": "吉阳区"
            },
            {
              "value": "460204",
              "text": "天涯区"
            },
            {
              "value": "460205",
              "text": "崖州区"
            }
          ]
        },
        {
          "value": "4603",
          "text": "三沙市",
          "children": [
            {
              "value": "460321",
              "text": "西沙群岛"
            },
            {
              "value": "460322",
              "text": "南沙群岛"
            },
            {
              "value": "460323",
              "text": "中沙群岛的岛礁及其海域"
            }
          ]
        },
        {
          "value": "4604",
          "text": "儋州市",
          "children": [
            {
              "value": "460400100",
              "text": "那大镇"
            },
            {
              "value": "460400101",
              "text": "和庆镇"
            },
            {
              "value": "460400102",
              "text": "南丰镇"
            },
            {
              "value": "460400103",
              "text": "大成镇"
            },
            {
              "value": "460400104",
              "text": "雅星镇"
            },
            {
              "value": "460400105",
              "text": "兰洋镇"
            },
            {
              "value": "460400106",
              "text": "光村镇"
            },
            {
              "value": "460400107",
              "text": "木棠镇"
            },
            {
              "value": "460400108",
              "text": "海头镇"
            },
            {
              "value": "460400109",
              "text": "峨蔓镇"
            },
            {
              "value": "460400111",
              "text": "王五镇"
            },
            {
              "value": "460400112",
              "text": "白马井镇"
            },
            {
              "value": "460400113",
              "text": "中和镇"
            },
            {
              "value": "460400114",
              "text": "排浦镇"
            },
            {
              "value": "460400115",
              "text": "东成镇"
            },
            {
              "value": "460400116",
              "text": "新州镇"
            },
            {
              "value": "460400499",
              "text": "洋浦经济开发区"
            },
            {
              "value": "460400500",
              "text": "华南热作学院"
            }
          ]
        },
        {
          "value": "4690",
          "text": "省直辖县级行政区划",
          "children": [
            {
              "value": "469001",
              "text": "五指山市"
            },
            {
              "value": "469002",
              "text": "琼海市"
            },
            {
              "value": "469005",
              "text": "文昌市"
            },
            {
              "value": "469006",
              "text": "万宁市"
            },
            {
              "value": "469007",
              "text": "东方市"
            },
            {
              "value": "469021",
              "text": "定安县"
            },
            {
              "value": "469022",
              "text": "屯昌县"
            },
            {
              "value": "469023",
              "text": "澄迈县"
            },
            {
              "value": "469024",
              "text": "临高县"
            },
            {
              "value": "469025",
              "text": "白沙黎族自治县"
            },
            {
              "value": "469026",
              "text": "昌江黎族自治县"
            },
            {
              "value": "469027",
              "text": "乐东黎族自治县"
            },
            {
              "value": "469028",
              "text": "陵水黎族自治县"
            },
            {
              "value": "469029",
              "text": "保亭黎族苗族自治县"
            },
            {
              "value": "469030",
              "text": "琼中黎族苗族自治县"
            }
          ]
        }
      ]
    },
    {
      "value": "50",
      "text": "重庆市",
      "children": [
        {
          "value": "5001",
          "text": "市辖区",
          "children": [
            {
              "value": "500101",
              "text": "万州区"
            },
            {
              "value": "500102",
              "text": "涪陵区"
            },
            {
              "value": "500103",
              "text": "渝中区"
            },
            {
              "value": "500104",
              "text": "大渡口区"
            },
            {
              "value": "500105",
              "text": "江北区"
            },
            {
              "value": "500106",
              "text": "沙坪坝区"
            },
            {
              "value": "500107",
              "text": "九龙坡区"
            },
            {
              "value": "500108",
              "text": "南岸区"
            },
            {
              "value": "500109",
              "text": "北碚区"
            },
            {
              "value": "500110",
              "text": "綦江区"
            },
            {
              "value": "500111",
              "text": "大足区"
            },
            {
              "value": "500112",
              "text": "渝北区"
            },
            {
              "value": "500113",
              "text": "巴南区"
            },
            {
              "value": "500114",
              "text": "黔江区"
            },
            {
              "value": "500115",
              "text": "长寿区"
            },
            {
              "value": "500116",
              "text": "江津区"
            },
            {
              "value": "500117",
              "text": "合川区"
            },
            {
              "value": "500118",
              "text": "永川区"
            },
            {
              "value": "500119",
              "text": "南川区"
            },
            {
              "value": "500120",
              "text": "璧山区"
            },
            {
              "value": "500151",
              "text": "铜梁区"
            },
            {
              "value": "500152",
              "text": "潼南区"
            },
            {
              "value": "500153",
              "text": "荣昌区"
            },
            {
              "value": "500154",
              "text": "开州区"
            },
            {
              "value": "500155",
              "text": "梁平区"
            },
            {
              "value": "500156",
              "text": "武隆区"
            }
          ]
        },
        {
          "value": "5002",
          "text": "县",
          "children": [
            {
              "value": "500229",
              "text": "城口县"
            },
            {
              "value": "500230",
              "text": "丰都县"
            },
            {
              "value": "500231",
              "text": "垫江县"
            },
            {
              "value": "500233",
              "text": "忠县"
            },
            {
              "value": "500235",
              "text": "云阳县"
            },
            {
              "value": "500236",
              "text": "奉节县"
            },
            {
              "value": "500237",
              "text": "巫山县"
            },
            {
              "value": "500238",
              "text": "巫溪县"
            },
            {
              "value": "500240",
              "text": "石柱土家族自治县"
            },
            {
              "value": "500241",
              "text": "秀山土家族苗族自治县"
            },
            {
              "value": "500242",
              "text": "酉阳土家族苗族自治县"
            },
            {
              "value": "500243",
              "text": "彭水苗族土家族自治县"
            }
          ]
        }
      ]
    },
    {
      "value": "51",
      "text": "四川省",
      "children": [
        {
          "value": "5101",
          "text": "成都市",
          "children": [
            {
              "value": "510104",
              "text": "锦江区"
            },
            {
              "value": "510105",
              "text": "青羊区"
            },
            {
              "value": "510106",
              "text": "金牛区"
            },
            {
              "value": "510107",
              "text": "武侯区"
            },
            {
              "value": "510108",
              "text": "成华区"
            },
            {
              "value": "510112",
              "text": "龙泉驿区"
            },
            {
              "value": "510113",
              "text": "青白江区"
            },
            {
              "value": "510114",
              "text": "新都区"
            },
            {
              "value": "510115",
              "text": "温江区"
            },
            {
              "value": "510116",
              "text": "双流区"
            },
            {
              "value": "510117",
              "text": "郫都区"
            },
            {
              "value": "510118",
              "text": "新津区"
            },
            {
              "value": "510121",
              "text": "金堂县"
            },
            {
              "value": "510129",
              "text": "大邑县"
            },
            {
              "value": "510131",
              "text": "蒲江县"
            },
            {
              "value": "510181",
              "text": "都江堰市"
            },
            {
              "value": "510182",
              "text": "彭州市"
            },
            {
              "value": "510183",
              "text": "邛崃市"
            },
            {
              "value": "510184",
              "text": "崇州市"
            },
            {
              "value": "510185",
              "text": "简阳市"
            }
          ]
        },
        {
          "value": "5103",
          "text": "自贡市",
          "children": [
            {
              "value": "510302",
              "text": "自流井区"
            },
            {
              "value": "510303",
              "text": "贡井区"
            },
            {
              "value": "510304",
              "text": "大安区"
            },
            {
              "value": "510311",
              "text": "沿滩区"
            },
            {
              "value": "510321",
              "text": "荣县"
            },
            {
              "value": "510322",
              "text": "富顺县"
            }
          ]
        },
        {
          "value": "5104",
          "text": "攀枝花市",
          "children": [
            {
              "value": "510402",
              "text": "东区"
            },
            {
              "value": "510403",
              "text": "西区"
            },
            {
              "value": "510411",
              "text": "仁和区"
            },
            {
              "value": "510421",
              "text": "米易县"
            },
            {
              "value": "510422",
              "text": "盐边县"
            }
          ]
        },
        {
          "value": "5105",
          "text": "泸州市",
          "children": [
            {
              "value": "510502",
              "text": "江阳区"
            },
            {
              "value": "510503",
              "text": "纳溪区"
            },
            {
              "value": "510504",
              "text": "龙马潭区"
            },
            {
              "value": "510521",
              "text": "泸县"
            },
            {
              "value": "510522",
              "text": "合江县"
            },
            {
              "value": "510524",
              "text": "叙永县"
            },
            {
              "value": "510525",
              "text": "古蔺县"
            }
          ]
        },
        {
          "value": "5106",
          "text": "德阳市",
          "children": [
            {
              "value": "510603",
              "text": "旌阳区"
            },
            {
              "value": "510604",
              "text": "罗江区"
            },
            {
              "value": "510623",
              "text": "中江县"
            },
            {
              "value": "510681",
              "text": "广汉市"
            },
            {
              "value": "510682",
              "text": "什邡市"
            },
            {
              "value": "510683",
              "text": "绵竹市"
            }
          ]
        },
        {
          "value": "5107",
          "text": "绵阳市",
          "children": [
            {
              "value": "510703",
              "text": "涪城区"
            },
            {
              "value": "510704",
              "text": "游仙区"
            },
            {
              "value": "510705",
              "text": "安州区"
            },
            {
              "value": "510722",
              "text": "三台县"
            },
            {
              "value": "510723",
              "text": "盐亭县"
            },
            {
              "value": "510725",
              "text": "梓潼县"
            },
            {
              "value": "510726",
              "text": "北川羌族自治县"
            },
            {
              "value": "510727",
              "text": "平武县"
            },
            {
              "value": "510781",
              "text": "江油市"
            }
          ]
        },
        {
          "value": "5108",
          "text": "广元市",
          "children": [
            {
              "value": "510802",
              "text": "利州区"
            },
            {
              "value": "510811",
              "text": "昭化区"
            },
            {
              "value": "510812",
              "text": "朝天区"
            },
            {
              "value": "510821",
              "text": "旺苍县"
            },
            {
              "value": "510822",
              "text": "青川县"
            },
            {
              "value": "510823",
              "text": "剑阁县"
            },
            {
              "value": "510824",
              "text": "苍溪县"
            }
          ]
        },
        {
          "value": "5109",
          "text": "遂宁市",
          "children": [
            {
              "value": "510903",
              "text": "船山区"
            },
            {
              "value": "510904",
              "text": "安居区"
            },
            {
              "value": "510921",
              "text": "蓬溪县"
            },
            {
              "value": "510923",
              "text": "大英县"
            },
            {
              "value": "510981",
              "text": "射洪市"
            }
          ]
        },
        {
          "value": "5110",
          "text": "内江市",
          "children": [
            {
              "value": "511002",
              "text": "市中区"
            },
            {
              "value": "511011",
              "text": "东兴区"
            },
            {
              "value": "511024",
              "text": "威远县"
            },
            {
              "value": "511025",
              "text": "资中县"
            },
            {
              "value": "511083",
              "text": "隆昌市"
            }
          ]
        },
        {
          "value": "5111",
          "text": "乐山市",
          "children": [
            {
              "value": "511102",
              "text": "市中区"
            },
            {
              "value": "511111",
              "text": "沙湾区"
            },
            {
              "value": "511112",
              "text": "五通桥区"
            },
            {
              "value": "511113",
              "text": "金口河区"
            },
            {
              "value": "511123",
              "text": "犍为县"
            },
            {
              "value": "511124",
              "text": "井研县"
            },
            {
              "value": "511126",
              "text": "夹江县"
            },
            {
              "value": "511129",
              "text": "沐川县"
            },
            {
              "value": "511132",
              "text": "峨边彝族自治县"
            },
            {
              "value": "511133",
              "text": "马边彝族自治县"
            },
            {
              "value": "511181",
              "text": "峨眉山市"
            }
          ]
        },
        {
          "value": "5113",
          "text": "南充市",
          "children": [
            {
              "value": "511302",
              "text": "顺庆区"
            },
            {
              "value": "511303",
              "text": "高坪区"
            },
            {
              "value": "511304",
              "text": "嘉陵区"
            },
            {
              "value": "511321",
              "text": "南部县"
            },
            {
              "value": "511322",
              "text": "营山县"
            },
            {
              "value": "511323",
              "text": "蓬安县"
            },
            {
              "value": "511324",
              "text": "仪陇县"
            },
            {
              "value": "511325",
              "text": "西充县"
            },
            {
              "value": "511381",
              "text": "阆中市"
            }
          ]
        },
        {
          "value": "5114",
          "text": "眉山市",
          "children": [
            {
              "value": "511402",
              "text": "东坡区"
            },
            {
              "value": "511403",
              "text": "彭山区"
            },
            {
              "value": "511421",
              "text": "仁寿县"
            },
            {
              "value": "511423",
              "text": "洪雅县"
            },
            {
              "value": "511424",
              "text": "丹棱县"
            },
            {
              "value": "511425",
              "text": "青神县"
            }
          ]
        },
        {
          "value": "5115",
          "text": "宜宾市",
          "children": [
            {
              "value": "511502",
              "text": "翠屏区"
            },
            {
              "value": "511503",
              "text": "南溪区"
            },
            {
              "value": "511504",
              "text": "叙州区"
            },
            {
              "value": "511523",
              "text": "江安县"
            },
            {
              "value": "511524",
              "text": "长宁县"
            },
            {
              "value": "511525",
              "text": "高县"
            },
            {
              "value": "511526",
              "text": "珙县"
            },
            {
              "value": "511527",
              "text": "筠连县"
            },
            {
              "value": "511528",
              "text": "兴文县"
            },
            {
              "value": "511529",
              "text": "屏山县"
            }
          ]
        },
        {
          "value": "5116",
          "text": "广安市",
          "children": [
            {
              "value": "511602",
              "text": "广安区"
            },
            {
              "value": "511603",
              "text": "前锋区"
            },
            {
              "value": "511621",
              "text": "岳池县"
            },
            {
              "value": "511622",
              "text": "武胜县"
            },
            {
              "value": "511623",
              "text": "邻水县"
            },
            {
              "value": "511681",
              "text": "华蓥市"
            }
          ]
        },
        {
          "value": "5117",
          "text": "达州市",
          "children": [
            {
              "value": "511702",
              "text": "通川区"
            },
            {
              "value": "511703",
              "text": "达川区"
            },
            {
              "value": "511722",
              "text": "宣汉县"
            },
            {
              "value": "511723",
              "text": "开江县"
            },
            {
              "value": "511724",
              "text": "大竹县"
            },
            {
              "value": "511725",
              "text": "渠县"
            },
            {
              "value": "511781",
              "text": "万源市"
            }
          ]
        },
        {
          "value": "5118",
          "text": "雅安市",
          "children": [
            {
              "value": "511802",
              "text": "雨城区"
            },
            {
              "value": "511803",
              "text": "名山区"
            },
            {
              "value": "511822",
              "text": "荥经县"
            },
            {
              "value": "511823",
              "text": "汉源县"
            },
            {
              "value": "511824",
              "text": "石棉县"
            },
            {
              "value": "511825",
              "text": "天全县"
            },
            {
              "value": "511826",
              "text": "芦山县"
            },
            {
              "value": "511827",
              "text": "宝兴县"
            }
          ]
        },
        {
          "value": "5119",
          "text": "巴中市",
          "children": [
            {
              "value": "511902",
              "text": "巴州区"
            },
            {
              "value": "511903",
              "text": "恩阳区"
            },
            {
              "value": "511921",
              "text": "通江县"
            },
            {
              "value": "511922",
              "text": "南江县"
            },
            {
              "value": "511923",
              "text": "平昌县"
            }
          ]
        },
        {
          "value": "5120",
          "text": "资阳市",
          "children": [
            {
              "value": "512002",
              "text": "雁江区"
            },
            {
              "value": "512021",
              "text": "安岳县"
            },
            {
              "value": "512022",
              "text": "乐至县"
            }
          ]
        },
        {
          "value": "5132",
          "text": "阿坝藏族羌族自治州",
          "children": [
            {
              "value": "513201",
              "text": "马尔康市"
            },
            {
              "value": "513221",
              "text": "汶川县"
            },
            {
              "value": "513222",
              "text": "理县"
            },
            {
              "value": "513223",
              "text": "茂县"
            },
            {
              "value": "513224",
              "text": "松潘县"
            },
            {
              "value": "513225",
              "text": "九寨沟县"
            },
            {
              "value": "513226",
              "text": "金川县"
            },
            {
              "value": "513227",
              "text": "小金县"
            },
            {
              "value": "513228",
              "text": "黑水县"
            },
            {
              "value": "513230",
              "text": "壤塘县"
            },
            {
              "value": "513231",
              "text": "阿坝县"
            },
            {
              "value": "513232",
              "text": "若尔盖县"
            },
            {
              "value": "513233",
              "text": "红原县"
            }
          ]
        },
        {
          "value": "5133",
          "text": "甘孜藏族自治州",
          "children": [
            {
              "value": "513301",
              "text": "康定市"
            },
            {
              "value": "513322",
              "text": "泸定县"
            },
            {
              "value": "513323",
              "text": "丹巴县"
            },
            {
              "value": "513324",
              "text": "九龙县"
            },
            {
              "value": "513325",
              "text": "雅江县"
            },
            {
              "value": "513326",
              "text": "道孚县"
            },
            {
              "value": "513327",
              "text": "炉霍县"
            },
            {
              "value": "513328",
              "text": "甘孜县"
            },
            {
              "value": "513329",
              "text": "新龙县"
            },
            {
              "value": "513330",
              "text": "德格县"
            },
            {
              "value": "513331",
              "text": "白玉县"
            },
            {
              "value": "513332",
              "text": "石渠县"
            },
            {
              "value": "513333",
              "text": "色达县"
            },
            {
              "value": "513334",
              "text": "理塘县"
            },
            {
              "value": "513335",
              "text": "巴塘县"
            },
            {
              "value": "513336",
              "text": "乡城县"
            },
            {
              "value": "513337",
              "text": "稻城县"
            },
            {
              "value": "513338",
              "text": "得荣县"
            }
          ]
        },
        {
          "value": "5134",
          "text": "凉山彝族自治州",
          "children": [
            {
              "value": "513401",
              "text": "西昌市"
            },
            {
              "value": "513402",
              "text": "会理市"
            },
            {
              "value": "513422",
              "text": "木里藏族自治县"
            },
            {
              "value": "513423",
              "text": "盐源县"
            },
            {
              "value": "513424",
              "text": "德昌县"
            },
            {
              "value": "513426",
              "text": "会东县"
            },
            {
              "value": "513427",
              "text": "宁南县"
            },
            {
              "value": "513428",
              "text": "普格县"
            },
            {
              "value": "513429",
              "text": "布拖县"
            },
            {
              "value": "513430",
              "text": "金阳县"
            },
            {
              "value": "513431",
              "text": "昭觉县"
            },
            {
              "value": "513432",
              "text": "喜德县"
            },
            {
              "value": "513433",
              "text": "冕宁县"
            },
            {
              "value": "513434",
              "text": "越西县"
            },
            {
              "value": "513435",
              "text": "甘洛县"
            },
            {
              "value": "513436",
              "text": "美姑县"
            },
            {
              "value": "513437",
              "text": "雷波县"
            }
          ]
        }
      ]
    },
    {
      "value": "52",
      "text": "贵州省",
      "children": [
        {
          "value": "5201",
          "text": "贵阳市",
          "children": [
            {
              "value": "520102",
              "text": "南明区"
            },
            {
              "value": "520103",
              "text": "云岩区"
            },
            {
              "value": "520111",
              "text": "花溪区"
            },
            {
              "value": "520112",
              "text": "乌当区"
            },
            {
              "value": "520113",
              "text": "白云区"
            },
            {
              "value": "520115",
              "text": "观山湖区"
            },
            {
              "value": "520121",
              "text": "开阳县"
            },
            {
              "value": "520122",
              "text": "息烽县"
            },
            {
              "value": "520123",
              "text": "修文县"
            },
            {
              "value": "520181",
              "text": "清镇市"
            }
          ]
        },
        {
          "value": "5202",
          "text": "六盘水市",
          "children": [
            {
              "value": "520201",
              "text": "钟山区"
            },
            {
              "value": "520203",
              "text": "六枝特区"
            },
            {
              "value": "520204",
              "text": "水城区"
            },
            {
              "value": "520281",
              "text": "盘州市"
            }
          ]
        },
        {
          "value": "5203",
          "text": "遵义市",
          "children": [
            {
              "value": "520302",
              "text": "红花岗区"
            },
            {
              "value": "520303",
              "text": "汇川区"
            },
            {
              "value": "520304",
              "text": "播州区"
            },
            {
              "value": "520322",
              "text": "桐梓县"
            },
            {
              "value": "520323",
              "text": "绥阳县"
            },
            {
              "value": "520324",
              "text": "正安县"
            },
            {
              "value": "520325",
              "text": "道真仡佬族苗族自治县"
            },
            {
              "value": "520326",
              "text": "务川仡佬族苗族自治县"
            },
            {
              "value": "520327",
              "text": "凤冈县"
            },
            {
              "value": "520328",
              "text": "湄潭县"
            },
            {
              "value": "520329",
              "text": "余庆县"
            },
            {
              "value": "520330",
              "text": "习水县"
            },
            {
              "value": "520381",
              "text": "赤水市"
            },
            {
              "value": "520382",
              "text": "仁怀市"
            }
          ]
        },
        {
          "value": "5204",
          "text": "安顺市",
          "children": [
            {
              "value": "520402",
              "text": "西秀区"
            },
            {
              "value": "520403",
              "text": "平坝区"
            },
            {
              "value": "520422",
              "text": "普定县"
            },
            {
              "value": "520423",
              "text": "镇宁布依族苗族自治县"
            },
            {
              "value": "520424",
              "text": "关岭布依族苗族自治县"
            },
            {
              "value": "520425",
              "text": "紫云苗族布依族自治县"
            }
          ]
        },
        {
          "value": "5205",
          "text": "毕节市",
          "children": [
            {
              "value": "520502",
              "text": "七星关区"
            },
            {
              "value": "520521",
              "text": "大方县"
            },
            {
              "value": "520523",
              "text": "金沙县"
            },
            {
              "value": "520524",
              "text": "织金县"
            },
            {
              "value": "520525",
              "text": "纳雍县"
            },
            {
              "value": "520526",
              "text": "威宁彝族回族苗族自治县"
            },
            {
              "value": "520527",
              "text": "赫章县"
            },
            {
              "value": "520581",
              "text": "黔西市"
            }
          ]
        },
        {
          "value": "5206",
          "text": "铜仁市",
          "children": [
            {
              "value": "520602",
              "text": "碧江区"
            },
            {
              "value": "520603",
              "text": "万山区"
            },
            {
              "value": "520621",
              "text": "江口县"
            },
            {
              "value": "520622",
              "text": "玉屏侗族自治县"
            },
            {
              "value": "520623",
              "text": "石阡县"
            },
            {
              "value": "520624",
              "text": "思南县"
            },
            {
              "value": "520625",
              "text": "印江土家族苗族自治县"
            },
            {
              "value": "520626",
              "text": "德江县"
            },
            {
              "value": "520627",
              "text": "沿河土家族自治县"
            },
            {
              "value": "520628",
              "text": "松桃苗族自治县"
            }
          ]
        },
        {
          "value": "5223",
          "text": "黔西南布依族苗族自治州",
          "children": [
            {
              "value": "522301",
              "text": "兴义市"
            },
            {
              "value": "522302",
              "text": "兴仁市"
            },
            {
              "value": "522323",
              "text": "普安县"
            },
            {
              "value": "522324",
              "text": "晴隆县"
            },
            {
              "value": "522325",
              "text": "贞丰县"
            },
            {
              "value": "522326",
              "text": "望谟县"
            },
            {
              "value": "522327",
              "text": "册亨县"
            },
            {
              "value": "522328",
              "text": "安龙县"
            }
          ]
        },
        {
          "value": "5226",
          "text": "黔东南苗族侗族自治州",
          "children": [
            {
              "value": "522601",
              "text": "凯里市"
            },
            {
              "value": "522622",
              "text": "黄平县"
            },
            {
              "value": "522623",
              "text": "施秉县"
            },
            {
              "value": "522624",
              "text": "三穗县"
            },
            {
              "value": "522625",
              "text": "镇远县"
            },
            {
              "value": "522626",
              "text": "岑巩县"
            },
            {
              "value": "522627",
              "text": "天柱县"
            },
            {
              "value": "522628",
              "text": "锦屏县"
            },
            {
              "value": "522629",
              "text": "剑河县"
            },
            {
              "value": "522630",
              "text": "台江县"
            },
            {
              "value": "522631",
              "text": "黎平县"
            },
            {
              "value": "522632",
              "text": "榕江县"
            },
            {
              "value": "522633",
              "text": "从江县"
            },
            {
              "value": "522634",
              "text": "雷山县"
            },
            {
              "value": "522635",
              "text": "麻江县"
            },
            {
              "value": "522636",
              "text": "丹寨县"
            }
          ]
        },
        {
          "value": "5227",
          "text": "黔南布依族苗族自治州",
          "children": [
            {
              "value": "522701",
              "text": "都匀市"
            },
            {
              "value": "522702",
              "text": "福泉市"
            },
            {
              "value": "522722",
              "text": "荔波县"
            },
            {
              "value": "522723",
              "text": "贵定县"
            },
            {
              "value": "522725",
              "text": "瓮安县"
            },
            {
              "value": "522726",
              "text": "独山县"
            },
            {
              "value": "522727",
              "text": "平塘县"
            },
            {
              "value": "522728",
              "text": "罗甸县"
            },
            {
              "value": "522729",
              "text": "长顺县"
            },
            {
              "value": "522730",
              "text": "龙里县"
            },
            {
              "value": "522731",
              "text": "惠水县"
            },
            {
              "value": "522732",
              "text": "三都水族自治县"
            }
          ]
        }
      ]
    },
    {
      "value": "53",
      "text": "云南省",
      "children": [
        {
          "value": "5301",
          "text": "昆明市",
          "children": [
            {
              "value": "530102",
              "text": "五华区"
            },
            {
              "value": "530103",
              "text": "盘龙区"
            },
            {
              "value": "530111",
              "text": "官渡区"
            },
            {
              "value": "530112",
              "text": "西山区"
            },
            {
              "value": "530113",
              "text": "东川区"
            },
            {
              "value": "530114",
              "text": "呈贡区"
            },
            {
              "value": "530115",
              "text": "晋宁区"
            },
            {
              "value": "530124",
              "text": "富民县"
            },
            {
              "value": "530125",
              "text": "宜良县"
            },
            {
              "value": "530126",
              "text": "石林彝族自治县"
            },
            {
              "value": "530127",
              "text": "嵩明县"
            },
            {
              "value": "530128",
              "text": "禄劝彝族苗族自治县"
            },
            {
              "value": "530129",
              "text": "寻甸回族彝族自治县"
            },
            {
              "value": "530181",
              "text": "安宁市"
            }
          ]
        },
        {
          "value": "5303",
          "text": "曲靖市",
          "children": [
            {
              "value": "530302",
              "text": "麒麟区"
            },
            {
              "value": "530303",
              "text": "沾益区"
            },
            {
              "value": "530304",
              "text": "马龙区"
            },
            {
              "value": "530322",
              "text": "陆良县"
            },
            {
              "value": "530323",
              "text": "师宗县"
            },
            {
              "value": "530324",
              "text": "罗平县"
            },
            {
              "value": "530325",
              "text": "富源县"
            },
            {
              "value": "530326",
              "text": "会泽县"
            },
            {
              "value": "530381",
              "text": "宣威市"
            }
          ]
        },
        {
          "value": "5304",
          "text": "玉溪市",
          "children": [
            {
              "value": "530402",
              "text": "红塔区"
            },
            {
              "value": "530403",
              "text": "江川区"
            },
            {
              "value": "530423",
              "text": "通海县"
            },
            {
              "value": "530424",
              "text": "华宁县"
            },
            {
              "value": "530425",
              "text": "易门县"
            },
            {
              "value": "530426",
              "text": "峨山彝族自治县"
            },
            {
              "value": "530427",
              "text": "新平彝族傣族自治县"
            },
            {
              "value": "530428",
              "text": "元江哈尼族彝族傣族自治县"
            },
            {
              "value": "530481",
              "text": "澄江市"
            }
          ]
        },
        {
          "value": "5305",
          "text": "保山市",
          "children": [
            {
              "value": "530502",
              "text": "隆阳区"
            },
            {
              "value": "530521",
              "text": "施甸县"
            },
            {
              "value": "530523",
              "text": "龙陵县"
            },
            {
              "value": "530524",
              "text": "昌宁县"
            },
            {
              "value": "530581",
              "text": "腾冲市"
            }
          ]
        },
        {
          "value": "5306",
          "text": "昭通市",
          "children": [
            {
              "value": "530602",
              "text": "昭阳区"
            },
            {
              "value": "530621",
              "text": "鲁甸县"
            },
            {
              "value": "530622",
              "text": "巧家县"
            },
            {
              "value": "530623",
              "text": "盐津县"
            },
            {
              "value": "530624",
              "text": "大关县"
            },
            {
              "value": "530625",
              "text": "永善县"
            },
            {
              "value": "530626",
              "text": "绥江县"
            },
            {
              "value": "530627",
              "text": "镇雄县"
            },
            {
              "value": "530628",
              "text": "彝良县"
            },
            {
              "value": "530629",
              "text": "威信县"
            },
            {
              "value": "530681",
              "text": "水富市"
            }
          ]
        },
        {
          "value": "5307",
          "text": "丽江市",
          "children": [
            {
              "value": "530702",
              "text": "古城区"
            },
            {
              "value": "530721",
              "text": "玉龙纳西族自治县"
            },
            {
              "value": "530722",
              "text": "永胜县"
            },
            {
              "value": "530723",
              "text": "华坪县"
            },
            {
              "value": "530724",
              "text": "宁蒗彝族自治县"
            }
          ]
        },
        {
          "value": "5308",
          "text": "普洱市",
          "children": [
            {
              "value": "530802",
              "text": "思茅区"
            },
            {
              "value": "530821",
              "text": "宁洱哈尼族彝族自治县"
            },
            {
              "value": "530822",
              "text": "墨江哈尼族自治县"
            },
            {
              "value": "530823",
              "text": "景东彝族自治县"
            },
            {
              "value": "530824",
              "text": "景谷傣族彝族自治县"
            },
            {
              "value": "530825",
              "text": "镇沅彝族哈尼族拉祜族自治县"
            },
            {
              "value": "530826",
              "text": "江城哈尼族彝族自治县"
            },
            {
              "value": "530827",
              "text": "孟连傣族拉祜族佤族自治县"
            },
            {
              "value": "530828",
              "text": "澜沧拉祜族自治县"
            },
            {
              "value": "530829",
              "text": "西盟佤族自治县"
            }
          ]
        },
        {
          "value": "5309",
          "text": "临沧市",
          "children": [
            {
              "value": "530902",
              "text": "临翔区"
            },
            {
              "value": "530921",
              "text": "凤庆县"
            },
            {
              "value": "530922",
              "text": "云县"
            },
            {
              "value": "530923",
              "text": "永德县"
            },
            {
              "value": "530924",
              "text": "镇康县"
            },
            {
              "value": "530925",
              "text": "双江拉祜族佤族布朗族傣族自治县"
            },
            {
              "value": "530926",
              "text": "耿马傣族佤族自治县"
            },
            {
              "value": "530927",
              "text": "沧源佤族自治县"
            }
          ]
        },
        {
          "value": "5323",
          "text": "楚雄彝族自治州",
          "children": [
            {
              "value": "532301",
              "text": "楚雄市"
            },
            {
              "value": "532302",
              "text": "禄丰市"
            },
            {
              "value": "532322",
              "text": "双柏县"
            },
            {
              "value": "532323",
              "text": "牟定县"
            },
            {
              "value": "532324",
              "text": "南华县"
            },
            {
              "value": "532325",
              "text": "姚安县"
            },
            {
              "value": "532326",
              "text": "大姚县"
            },
            {
              "value": "532327",
              "text": "永仁县"
            },
            {
              "value": "532328",
              "text": "元谋县"
            },
            {
              "value": "532329",
              "text": "武定县"
            }
          ]
        },
        {
          "value": "5325",
          "text": "红河哈尼族彝族自治州",
          "children": [
            {
              "value": "532501",
              "text": "个旧市"
            },
            {
              "value": "532502",
              "text": "开远市"
            },
            {
              "value": "532503",
              "text": "蒙自市"
            },
            {
              "value": "532504",
              "text": "弥勒市"
            },
            {
              "value": "532523",
              "text": "屏边苗族自治县"
            },
            {
              "value": "532524",
              "text": "建水县"
            },
            {
              "value": "532525",
              "text": "石屏县"
            },
            {
              "value": "532527",
              "text": "泸西县"
            },
            {
              "value": "532528",
              "text": "元阳县"
            },
            {
              "value": "532529",
              "text": "红河县"
            },
            {
              "value": "532530",
              "text": "金平苗族瑶族傣族自治县"
            },
            {
              "value": "532531",
              "text": "绿春县"
            },
            {
              "value": "532532",
              "text": "河口瑶族自治县"
            }
          ]
        },
        {
          "value": "5326",
          "text": "文山壮族苗族自治州",
          "children": [
            {
              "value": "532601",
              "text": "文山市"
            },
            {
              "value": "532622",
              "text": "砚山县"
            },
            {
              "value": "532623",
              "text": "西畴县"
            },
            {
              "value": "532624",
              "text": "麻栗坡县"
            },
            {
              "value": "532625",
              "text": "马关县"
            },
            {
              "value": "532626",
              "text": "丘北县"
            },
            {
              "value": "532627",
              "text": "广南县"
            },
            {
              "value": "532628",
              "text": "富宁县"
            }
          ]
        },
        {
          "value": "5328",
          "text": "西双版纳傣族自治州",
          "children": [
            {
              "value": "532801",
              "text": "景洪市"
            },
            {
              "value": "532822",
              "text": "勐海县"
            },
            {
              "value": "532823",
              "text": "勐腊县"
            }
          ]
        },
        {
          "value": "5329",
          "text": "大理白族自治州",
          "children": [
            {
              "value": "532901",
              "text": "大理市"
            },
            {
              "value": "532922",
              "text": "漾濞彝族自治县"
            },
            {
              "value": "532923",
              "text": "祥云县"
            },
            {
              "value": "532924",
              "text": "宾川县"
            },
            {
              "value": "532925",
              "text": "弥渡县"
            },
            {
              "value": "532926",
              "text": "南涧彝族自治县"
            },
            {
              "value": "532927",
              "text": "巍山彝族回族自治县"
            },
            {
              "value": "532928",
              "text": "永平县"
            },
            {
              "value": "532929",
              "text": "云龙县"
            },
            {
              "value": "532930",
              "text": "洱源县"
            },
            {
              "value": "532931",
              "text": "剑川县"
            },
            {
              "value": "532932",
              "text": "鹤庆县"
            }
          ]
        },
        {
          "value": "5331",
          "text": "德宏傣族景颇族自治州",
          "children": [
            {
              "value": "533102",
              "text": "瑞丽市"
            },
            {
              "value": "533103",
              "text": "芒市"
            },
            {
              "value": "533122",
              "text": "梁河县"
            },
            {
              "value": "533123",
              "text": "盈江县"
            },
            {
              "value": "533124",
              "text": "陇川县"
            }
          ]
        },
        {
          "value": "5333",
          "text": "怒江傈僳族自治州",
          "children": [
            {
              "value": "533301",
              "text": "泸水市"
            },
            {
              "value": "533323",
              "text": "福贡县"
            },
            {
              "value": "533324",
              "text": "贡山独龙族怒族自治县"
            },
            {
              "value": "533325",
              "text": "兰坪白族普米族自治县"
            }
          ]
        },
        {
          "value": "5334",
          "text": "迪庆藏族自治州",
          "children": [
            {
              "value": "533401",
              "text": "香格里拉市"
            },
            {
              "value": "533422",
              "text": "德钦县"
            },
            {
              "value": "533423",
              "text": "维西傈僳族自治县"
            }
          ]
        }
      ]
    },
    {
      "value": "54",
      "text": "西藏自治区",
      "children": [
        {
          "value": "5401",
          "text": "拉萨市",
          "children": [
            {
              "value": "540102",
              "text": "城关区"
            },
            {
              "value": "540103",
              "text": "堆龙德庆区"
            },
            {
              "value": "540104",
              "text": "达孜区"
            },
            {
              "value": "540121",
              "text": "林周县"
            },
            {
              "value": "540122",
              "text": "当雄县"
            },
            {
              "value": "540123",
              "text": "尼木县"
            },
            {
              "value": "540124",
              "text": "曲水县"
            },
            {
              "value": "540127",
              "text": "墨竹工卡县"
            },
            {
              "value": "540171",
              "text": "格尔木藏青工业园区"
            },
            {
              "value": "540172",
              "text": "拉萨经济技术开发区"
            },
            {
              "value": "540173",
              "text": "西藏文化旅游创意园区"
            },
            {
              "value": "540174",
              "text": "达孜工业园区"
            }
          ]
        },
        {
          "value": "5402",
          "text": "日喀则市",
          "children": [
            {
              "value": "540202",
              "text": "桑珠孜区"
            },
            {
              "value": "540221",
              "text": "南木林县"
            },
            {
              "value": "540222",
              "text": "江孜县"
            },
            {
              "value": "540223",
              "text": "定日县"
            },
            {
              "value": "540224",
              "text": "萨迦县"
            },
            {
              "value": "540225",
              "text": "拉孜县"
            },
            {
              "value": "540226",
              "text": "昂仁县"
            },
            {
              "value": "540227",
              "text": "谢通门县"
            },
            {
              "value": "540228",
              "text": "白朗县"
            },
            {
              "value": "540229",
              "text": "仁布县"
            },
            {
              "value": "540230",
              "text": "康马县"
            },
            {
              "value": "540231",
              "text": "定结县"
            },
            {
              "value": "540232",
              "text": "仲巴县"
            },
            {
              "value": "540233",
              "text": "亚东县"
            },
            {
              "value": "540234",
              "text": "吉隆县"
            },
            {
              "value": "540235",
              "text": "聂拉木县"
            },
            {
              "value": "540236",
              "text": "萨嘎县"
            },
            {
              "value": "540237",
              "text": "岗巴县"
            }
          ]
        },
        {
          "value": "5403",
          "text": "昌都市",
          "children": [
            {
              "value": "540302",
              "text": "卡若区"
            },
            {
              "value": "540321",
              "text": "江达县"
            },
            {
              "value": "540322",
              "text": "贡觉县"
            },
            {
              "value": "540323",
              "text": "类乌齐县"
            },
            {
              "value": "540324",
              "text": "丁青县"
            },
            {
              "value": "540325",
              "text": "察雅县"
            },
            {
              "value": "540326",
              "text": "八宿县"
            },
            {
              "value": "540327",
              "text": "左贡县"
            },
            {
              "value": "540328",
              "text": "芒康县"
            },
            {
              "value": "540329",
              "text": "洛隆县"
            },
            {
              "value": "540330",
              "text": "边坝县"
            }
          ]
        },
        {
          "value": "5404",
          "text": "林芝市",
          "children": [
            {
              "value": "540402",
              "text": "巴宜区"
            },
            {
              "value": "540421",
              "text": "工布江达县"
            },
            {
              "value": "540423",
              "text": "墨脱县"
            },
            {
              "value": "540424",
              "text": "波密县"
            },
            {
              "value": "540425",
              "text": "察隅县"
            },
            {
              "value": "540426",
              "text": "朗县"
            },
            {
              "value": "540481",
              "text": "米林市"
            }
          ]
        },
        {
          "value": "5405",
          "text": "山南市",
          "children": [
            {
              "value": "540502",
              "text": "乃东区"
            },
            {
              "value": "540521",
              "text": "扎囊县"
            },
            {
              "value": "540522",
              "text": "贡嘎县"
            },
            {
              "value": "540523",
              "text": "桑日县"
            },
            {
              "value": "540524",
              "text": "琼结县"
            },
            {
              "value": "540525",
              "text": "曲松县"
            },
            {
              "value": "540526",
              "text": "措美县"
            },
            {
              "value": "540527",
              "text": "洛扎县"
            },
            {
              "value": "540528",
              "text": "加查县"
            },
            {
              "value": "540529",
              "text": "隆子县"
            },
            {
              "value": "540531",
              "text": "浪卡子县"
            },
            {
              "value": "540581",
              "text": "错那市"
            }
          ]
        },
        {
          "value": "5406",
          "text": "那曲市",
          "children": [
            {
              "value": "540602",
              "text": "色尼区"
            },
            {
              "value": "540621",
              "text": "嘉黎县"
            },
            {
              "value": "540622",
              "text": "比如县"
            },
            {
              "value": "540623",
              "text": "聂荣县"
            },
            {
              "value": "540624",
              "text": "安多县"
            },
            {
              "value": "540625",
              "text": "申扎县"
            },
            {
              "value": "540626",
              "text": "索县"
            },
            {
              "value": "540627",
              "text": "班戈县"
            },
            {
              "value": "540628",
              "text": "巴青县"
            },
            {
              "value": "540629",
              "text": "尼玛县"
            },
            {
              "value": "540630",
              "text": "双湖县"
            }
          ]
        },
        {
          "value": "5425",
          "text": "阿里地区",
          "children": [
            {
              "value": "542521",
              "text": "普兰县"
            },
            {
              "value": "542522",
              "text": "札达县"
            },
            {
              "value": "542523",
              "text": "噶尔县"
            },
            {
              "value": "542524",
              "text": "日土县"
            },
            {
              "value": "542525",
              "text": "革吉县"
            },
            {
              "value": "542526",
              "text": "改则县"
            },
            {
              "value": "542527",
              "text": "措勤县"
            }
          ]
        }
      ]
    },
    {
      "value": "61",
      "text": "陕西省",
      "children": [
        {
          "value": "6101",
          "text": "西安市",
          "children": [
            {
              "value": "610102",
              "text": "新城区"
            },
            {
              "value": "610103",
              "text": "碑林区"
            },
            {
              "value": "610104",
              "text": "莲湖区"
            },
            {
              "value": "610111",
              "text": "灞桥区"
            },
            {
              "value": "610112",
              "text": "未央区"
            },
            {
              "value": "610113",
              "text": "雁塔区"
            },
            {
              "value": "610114",
              "text": "阎良区"
            },
            {
              "value": "610115",
              "text": "临潼区"
            },
            {
              "value": "610116",
              "text": "长安区"
            },
            {
              "value": "610117",
              "text": "高陵区"
            },
            {
              "value": "610118",
              "text": "鄠邑区"
            },
            {
              "value": "610122",
              "text": "蓝田县"
            },
            {
              "value": "610124",
              "text": "周至县"
            }
          ]
        },
        {
          "value": "6102",
          "text": "铜川市",
          "children": [
            {
              "value": "610202",
              "text": "王益区"
            },
            {
              "value": "610203",
              "text": "印台区"
            },
            {
              "value": "610204",
              "text": "耀州区"
            },
            {
              "value": "610222",
              "text": "宜君县"
            }
          ]
        },
        {
          "value": "6103",
          "text": "宝鸡市",
          "children": [
            {
              "value": "610302",
              "text": "渭滨区"
            },
            {
              "value": "610303",
              "text": "金台区"
            },
            {
              "value": "610304",
              "text": "陈仓区"
            },
            {
              "value": "610305",
              "text": "凤翔区"
            },
            {
              "value": "610323",
              "text": "岐山县"
            },
            {
              "value": "610324",
              "text": "扶风县"
            },
            {
              "value": "610326",
              "text": "眉县"
            },
            {
              "value": "610327",
              "text": "陇县"
            },
            {
              "value": "610328",
              "text": "千阳县"
            },
            {
              "value": "610329",
              "text": "麟游县"
            },
            {
              "value": "610330",
              "text": "凤县"
            },
            {
              "value": "610331",
              "text": "太白县"
            }
          ]
        },
        {
          "value": "6104",
          "text": "咸阳市",
          "children": [
            {
              "value": "610402",
              "text": "秦都区"
            },
            {
              "value": "610403",
              "text": "杨陵区"
            },
            {
              "value": "610404",
              "text": "渭城区"
            },
            {
              "value": "610422",
              "text": "三原县"
            },
            {
              "value": "610423",
              "text": "泾阳县"
            },
            {
              "value": "610424",
              "text": "乾县"
            },
            {
              "value": "610425",
              "text": "礼泉县"
            },
            {
              "value": "610426",
              "text": "永寿县"
            },
            {
              "value": "610428",
              "text": "长武县"
            },
            {
              "value": "610429",
              "text": "旬邑县"
            },
            {
              "value": "610430",
              "text": "淳化县"
            },
            {
              "value": "610431",
              "text": "武功县"
            },
            {
              "value": "610481",
              "text": "兴平市"
            },
            {
              "value": "610482",
              "text": "彬州市"
            }
          ]
        },
        {
          "value": "6105",
          "text": "渭南市",
          "children": [
            {
              "value": "610502",
              "text": "临渭区"
            },
            {
              "value": "610503",
              "text": "华州区"
            },
            {
              "value": "610522",
              "text": "潼关县"
            },
            {
              "value": "610523",
              "text": "大荔县"
            },
            {
              "value": "610524",
              "text": "合阳县"
            },
            {
              "value": "610525",
              "text": "澄城县"
            },
            {
              "value": "610526",
              "text": "蒲城县"
            },
            {
              "value": "610527",
              "text": "白水县"
            },
            {
              "value": "610528",
              "text": "富平县"
            },
            {
              "value": "610581",
              "text": "韩城市"
            },
            {
              "value": "610582",
              "text": "华阴市"
            }
          ]
        },
        {
          "value": "6106",
          "text": "延安市",
          "children": [
            {
              "value": "610602",
              "text": "宝塔区"
            },
            {
              "value": "610603",
              "text": "安塞区"
            },
            {
              "value": "610621",
              "text": "延长县"
            },
            {
              "value": "610622",
              "text": "延川县"
            },
            {
              "value": "610625",
              "text": "志丹县"
            },
            {
              "value": "610626",
              "text": "吴起县"
            },
            {
              "value": "610627",
              "text": "甘泉县"
            },
            {
              "value": "610628",
              "text": "富县"
            },
            {
              "value": "610629",
              "text": "洛川县"
            },
            {
              "value": "610630",
              "text": "宜川县"
            },
            {
              "value": "610631",
              "text": "黄龙县"
            },
            {
              "value": "610632",
              "text": "黄陵县"
            },
            {
              "value": "610681",
              "text": "子长市"
            }
          ]
        },
        {
          "value": "6107",
          "text": "汉中市",
          "children": [
            {
              "value": "610702",
              "text": "汉台区"
            },
            {
              "value": "610703",
              "text": "南郑区"
            },
            {
              "value": "610722",
              "text": "城固县"
            },
            {
              "value": "610723",
              "text": "洋县"
            },
            {
              "value": "610724",
              "text": "西乡县"
            },
            {
              "value": "610725",
              "text": "勉县"
            },
            {
              "value": "610726",
              "text": "宁强县"
            },
            {
              "value": "610727",
              "text": "略阳县"
            },
            {
              "value": "610728",
              "text": "镇巴县"
            },
            {
              "value": "610729",
              "text": "留坝县"
            },
            {
              "value": "610730",
              "text": "佛坪县"
            }
          ]
        },
        {
          "value": "6108",
          "text": "榆林市",
          "children": [
            {
              "value": "610802",
              "text": "榆阳区"
            },
            {
              "value": "610803",
              "text": "横山区"
            },
            {
              "value": "610822",
              "text": "府谷县"
            },
            {
              "value": "610824",
              "text": "靖边县"
            },
            {
              "value": "610825",
              "text": "定边县"
            },
            {
              "value": "610826",
              "text": "绥德县"
            },
            {
              "value": "610827",
              "text": "米脂县"
            },
            {
              "value": "610828",
              "text": "佳县"
            },
            {
              "value": "610829",
              "text": "吴堡县"
            },
            {
              "value": "610830",
              "text": "清涧县"
            },
            {
              "value": "610831",
              "text": "子洲县"
            },
            {
              "value": "610881",
              "text": "神木市"
            }
          ]
        },
        {
          "value": "6109",
          "text": "安康市",
          "children": [
            {
              "value": "610902",
              "text": "汉滨区"
            },
            {
              "value": "610921",
              "text": "汉阴县"
            },
            {
              "value": "610922",
              "text": "石泉县"
            },
            {
              "value": "610923",
              "text": "宁陕县"
            },
            {
              "value": "610924",
              "text": "紫阳县"
            },
            {
              "value": "610925",
              "text": "岚皋县"
            },
            {
              "value": "610926",
              "text": "平利县"
            },
            {
              "value": "610927",
              "text": "镇坪县"
            },
            {
              "value": "610929",
              "text": "白河县"
            },
            {
              "value": "610981",
              "text": "旬阳市"
            }
          ]
        },
        {
          "value": "6110",
          "text": "商洛市",
          "children": [
            {
              "value": "611002",
              "text": "商州区"
            },
            {
              "value": "611021",
              "text": "洛南县"
            },
            {
              "value": "611022",
              "text": "丹凤县"
            },
            {
              "value": "611023",
              "text": "商南县"
            },
            {
              "value": "611024",
              "text": "山阳县"
            },
            {
              "value": "611025",
              "text": "镇安县"
            },
            {
              "value": "611026",
              "text": "柞水县"
            }
          ]
        }
      ]
    },
    {
      "value": "62",
      "text": "甘肃省",
      "children": [
        {
          "value": "6201",
          "text": "兰州市",
          "children": [
            {
              "value": "620102",
              "text": "城关区"
            },
            {
              "value": "620103",
              "text": "七里河区"
            },
            {
              "value": "620104",
              "text": "西固区"
            },
            {
              "value": "620105",
              "text": "安宁区"
            },
            {
              "value": "620111",
              "text": "红古区"
            },
            {
              "value": "620121",
              "text": "永登县"
            },
            {
              "value": "620122",
              "text": "皋兰县"
            },
            {
              "value": "620123",
              "text": "榆中县"
            },
            {
              "value": "620171",
              "text": "兰州新区"
            }
          ]
        },
        {
          "value": "6202",
          "text": "嘉峪关市",
          "children": [
            {
              "value": "620201001",
              "text": "雄关街道"
            },
            {
              "value": "620201002",
              "text": "钢城街道"
            },
            {
              "value": "620201100",
              "text": "新城镇"
            },
            {
              "value": "620201101",
              "text": "峪泉镇"
            },
            {
              "value": "620201102",
              "text": "文殊镇"
            }
          ]
        },
        {
          "value": "6203",
          "text": "金昌市",
          "children": [
            {
              "value": "620302",
              "text": "金川区"
            },
            {
              "value": "620321",
              "text": "永昌县"
            }
          ]
        },
        {
          "value": "6204",
          "text": "白银市",
          "children": [
            {
              "value": "620402",
              "text": "白银区"
            },
            {
              "value": "620403",
              "text": "平川区"
            },
            {
              "value": "620421",
              "text": "靖远县"
            },
            {
              "value": "620422",
              "text": "会宁县"
            },
            {
              "value": "620423",
              "text": "景泰县"
            }
          ]
        },
        {
          "value": "6205",
          "text": "天水市",
          "children": [
            {
              "value": "620502",
              "text": "秦州区"
            },
            {
              "value": "620503",
              "text": "麦积区"
            },
            {
              "value": "620521",
              "text": "清水县"
            },
            {
              "value": "620522",
              "text": "秦安县"
            },
            {
              "value": "620523",
              "text": "甘谷县"
            },
            {
              "value": "620524",
              "text": "武山县"
            },
            {
              "value": "620525",
              "text": "张家川回族自治县"
            }
          ]
        },
        {
          "value": "6206",
          "text": "武威市",
          "children": [
            {
              "value": "620602",
              "text": "凉州区"
            },
            {
              "value": "620621",
              "text": "民勤县"
            },
            {
              "value": "620622",
              "text": "古浪县"
            },
            {
              "value": "620623",
              "text": "天祝藏族自治县"
            }
          ]
        },
        {
          "value": "6207",
          "text": "张掖市",
          "children": [
            {
              "value": "620702",
              "text": "甘州区"
            },
            {
              "value": "620721",
              "text": "肃南裕固族自治县"
            },
            {
              "value": "620722",
              "text": "民乐县"
            },
            {
              "value": "620723",
              "text": "临泽县"
            },
            {
              "value": "620724",
              "text": "高台县"
            },
            {
              "value": "620725",
              "text": "山丹县"
            }
          ]
        },
        {
          "value": "6208",
          "text": "平凉市",
          "children": [
            {
              "value": "620802",
              "text": "崆峒区"
            },
            {
              "value": "620821",
              "text": "泾川县"
            },
            {
              "value": "620822",
              "text": "灵台县"
            },
            {
              "value": "620823",
              "text": "崇信县"
            },
            {
              "value": "620825",
              "text": "庄浪县"
            },
            {
              "value": "620826",
              "text": "静宁县"
            },
            {
              "value": "620881",
              "text": "华亭市"
            }
          ]
        },
        {
          "value": "6209",
          "text": "酒泉市",
          "children": [
            {
              "value": "620902",
              "text": "肃州区"
            },
            {
              "value": "620921",
              "text": "金塔县"
            },
            {
              "value": "620922",
              "text": "瓜州县"
            },
            {
              "value": "620923",
              "text": "肃北蒙古族自治县"
            },
            {
              "value": "620924",
              "text": "阿克塞哈萨克族自治县"
            },
            {
              "value": "620981",
              "text": "玉门市"
            },
            {
              "value": "620982",
              "text": "敦煌市"
            }
          ]
        },
        {
          "value": "6210",
          "text": "庆阳市",
          "children": [
            {
              "value": "621002",
              "text": "西峰区"
            },
            {
              "value": "621021",
              "text": "庆城县"
            },
            {
              "value": "621022",
              "text": "环县"
            },
            {
              "value": "621023",
              "text": "华池县"
            },
            {
              "value": "621024",
              "text": "合水县"
            },
            {
              "value": "621025",
              "text": "正宁县"
            },
            {
              "value": "621026",
              "text": "宁县"
            },
            {
              "value": "621027",
              "text": "镇原县"
            }
          ]
        },
        {
          "value": "6211",
          "text": "定西市",
          "children": [
            {
              "value": "621102",
              "text": "安定区"
            },
            {
              "value": "621121",
              "text": "通渭县"
            },
            {
              "value": "621122",
              "text": "陇西县"
            },
            {
              "value": "621123",
              "text": "渭源县"
            },
            {
              "value": "621124",
              "text": "临洮县"
            },
            {
              "value": "621125",
              "text": "漳县"
            },
            {
              "value": "621126",
              "text": "岷县"
            }
          ]
        },
        {
          "value": "6212",
          "text": "陇南市",
          "children": [
            {
              "value": "621202",
              "text": "武都区"
            },
            {
              "value": "621221",
              "text": "成县"
            },
            {
              "value": "621222",
              "text": "文县"
            },
            {
              "value": "621223",
              "text": "宕昌县"
            },
            {
              "value": "621224",
              "text": "康县"
            },
            {
              "value": "621225",
              "text": "西和县"
            },
            {
              "value": "621226",
              "text": "礼县"
            },
            {
              "value": "621227",
              "text": "徽县"
            },
            {
              "value": "621228",
              "text": "两当县"
            }
          ]
        },
        {
          "value": "6229",
          "text": "临夏回族自治州",
          "children": [
            {
              "value": "622901",
              "text": "临夏市"
            },
            {
              "value": "622921",
              "text": "临夏县"
            },
            {
              "value": "622922",
              "text": "康乐县"
            },
            {
              "value": "622923",
              "text": "永靖县"
            },
            {
              "value": "622924",
              "text": "广河县"
            },
            {
              "value": "622925",
              "text": "和政县"
            },
            {
              "value": "622926",
              "text": "东乡族自治县"
            },
            {
              "value": "622927",
              "text": "积石山保安族东乡族撒拉族自治县"
            }
          ]
        },
        {
          "value": "6230",
          "text": "甘南藏族自治州",
          "children": [
            {
              "value": "623001",
              "text": "合作市"
            },
            {
              "value": "623021",
              "text": "临潭县"
            },
            {
              "value": "623022",
              "text": "卓尼县"
            },
            {
              "value": "623023",
              "text": "舟曲县"
            },
            {
              "value": "623024",
              "text": "迭部县"
            },
            {
              "value": "623025",
              "text": "玛曲县"
            },
            {
              "value": "623026",
              "text": "碌曲县"
            },
            {
              "value": "623027",
              "text": "夏河县"
            }
          ]
        }
      ]
    },
    {
      "value": "63",
      "text": "青海省",
      "children": [
        {
          "value": "6301",
          "text": "西宁市",
          "children": [
            {
              "value": "630102",
              "text": "城东区"
            },
            {
              "value": "630103",
              "text": "城中区"
            },
            {
              "value": "630104",
              "text": "城西区"
            },
            {
              "value": "630105",
              "text": "城北区"
            },
            {
              "value": "630106",
              "text": "湟中区"
            },
            {
              "value": "630121",
              "text": "大通回族土族自治县"
            },
            {
              "value": "630123",
              "text": "湟源县"
            }
          ]
        },
        {
          "value": "6302",
          "text": "海东市",
          "children": [
            {
              "value": "630202",
              "text": "乐都区"
            },
            {
              "value": "630203",
              "text": "平安区"
            },
            {
              "value": "630222",
              "text": "民和回族土族自治县"
            },
            {
              "value": "630223",
              "text": "互助土族自治县"
            },
            {
              "value": "630224",
              "text": "化隆回族自治县"
            },
            {
              "value": "630225",
              "text": "循化撒拉族自治县"
            }
          ]
        },
        {
          "value": "6322",
          "text": "海北藏族自治州",
          "children": [
            {
              "value": "632221",
              "text": "门源回族自治县"
            },
            {
              "value": "632222",
              "text": "祁连县"
            },
            {
              "value": "632223",
              "text": "海晏县"
            },
            {
              "value": "632224",
              "text": "刚察县"
            }
          ]
        },
        {
          "value": "6323",
          "text": "黄南藏族自治州",
          "children": [
            {
              "value": "632301",
              "text": "同仁市"
            },
            {
              "value": "632322",
              "text": "尖扎县"
            },
            {
              "value": "632323",
              "text": "泽库县"
            },
            {
              "value": "632324",
              "text": "河南蒙古族自治县"
            }
          ]
        },
        {
          "value": "6325",
          "text": "海南藏族自治州",
          "children": [
            {
              "value": "632521",
              "text": "共和县"
            },
            {
              "value": "632522",
              "text": "同德县"
            },
            {
              "value": "632523",
              "text": "贵德县"
            },
            {
              "value": "632524",
              "text": "兴海县"
            },
            {
              "value": "632525",
              "text": "贵南县"
            }
          ]
        },
        {
          "value": "6326",
          "text": "果洛藏族自治州",
          "children": [
            {
              "value": "632621",
              "text": "玛沁县"
            },
            {
              "value": "632622",
              "text": "班玛县"
            },
            {
              "value": "632623",
              "text": "甘德县"
            },
            {
              "value": "632624",
              "text": "达日县"
            },
            {
              "value": "632625",
              "text": "久治县"
            },
            {
              "value": "632626",
              "text": "玛多县"
            }
          ]
        },
        {
          "value": "6327",
          "text": "玉树藏族自治州",
          "children": [
            {
              "value": "632701",
              "text": "玉树市"
            },
            {
              "value": "632722",
              "text": "杂多县"
            },
            {
              "value": "632723",
              "text": "称多县"
            },
            {
              "value": "632724",
              "text": "治多县"
            },
            {
              "value": "632725",
              "text": "囊谦县"
            },
            {
              "value": "632726",
              "text": "曲麻莱县"
            }
          ]
        },
        {
          "value": "6328",
          "text": "海西蒙古族藏族自治州",
          "children": [
            {
              "value": "632801",
              "text": "格尔木市"
            },
            {
              "value": "632802",
              "text": "德令哈市"
            },
            {
              "value": "632803",
              "text": "茫崖市"
            },
            {
              "value": "632821",
              "text": "乌兰县"
            },
            {
              "value": "632822",
              "text": "都兰县"
            },
            {
              "value": "632823",
              "text": "天峻县"
            },
            {
              "value": "632857",
              "text": "大柴旦行政委员会"
            }
          ]
        }
      ]
    },
    {
      "value": "64",
      "text": "宁夏回族自治区",
      "children": [
        {
          "value": "6401",
          "text": "银川市",
          "children": [
            {
              "value": "640104",
              "text": "兴庆区"
            },
            {
              "value": "640105",
              "text": "西夏区"
            },
            {
              "value": "640106",
              "text": "金凤区"
            },
            {
              "value": "640121",
              "text": "永宁县"
            },
            {
              "value": "640122",
              "text": "贺兰县"
            },
            {
              "value": "640181",
              "text": "灵武市"
            }
          ]
        },
        {
          "value": "6402",
          "text": "石嘴山市",
          "children": [
            {
              "value": "640202",
              "text": "大武口区"
            },
            {
              "value": "640205",
              "text": "惠农区"
            },
            {
              "value": "640221",
              "text": "平罗县"
            }
          ]
        },
        {
          "value": "6403",
          "text": "吴忠市",
          "children": [
            {
              "value": "640302",
              "text": "利通区"
            },
            {
              "value": "640303",
              "text": "红寺堡区"
            },
            {
              "value": "640323",
              "text": "盐池县"
            },
            {
              "value": "640324",
              "text": "同心县"
            },
            {
              "value": "640381",
              "text": "青铜峡市"
            }
          ]
        },
        {
          "value": "6404",
          "text": "固原市",
          "children": [
            {
              "value": "640402",
              "text": "原州区"
            },
            {
              "value": "640422",
              "text": "西吉县"
            },
            {
              "value": "640423",
              "text": "隆德县"
            },
            {
              "value": "640424",
              "text": "泾源县"
            },
            {
              "value": "640425",
              "text": "彭阳县"
            }
          ]
        },
        {
          "value": "6405",
          "text": "中卫市",
          "children": [
            {
              "value": "640502",
              "text": "沙坡头区"
            },
            {
              "value": "640521",
              "text": "中宁县"
            },
            {
              "value": "640522",
              "text": "海原县"
            }
          ]
        }
      ]
    },
    {
      "value": "65",
      "text": "新疆维吾尔自治区",
      "children": [
        {
          "value": "6501",
          "text": "乌鲁木齐市",
          "children": [
            {
              "value": "650102",
              "text": "天山区"
            },
            {
              "value": "650103",
              "text": "沙依巴克区"
            },
            {
              "value": "650104",
              "text": "新市区"
            },
            {
              "value": "650105",
              "text": "水磨沟区"
            },
            {
              "value": "650106",
              "text": "头屯河区"
            },
            {
              "value": "650107",
              "text": "达坂城区"
            },
            {
              "value": "650109",
              "text": "米东区"
            },
            {
              "value": "650121",
              "text": "乌鲁木齐县"
            }
          ]
        },
        {
          "value": "6502",
          "text": "克拉玛依市",
          "children": [
            {
              "value": "650202",
              "text": "独山子区"
            },
            {
              "value": "650203",
              "text": "克拉玛依区"
            },
            {
              "value": "650204",
              "text": "白碱滩区"
            },
            {
              "value": "650205",
              "text": "乌尔禾区"
            }
          ]
        },
        {
          "value": "6504",
          "text": "吐鲁番市",
          "children": [
            {
              "value": "650402",
              "text": "高昌区"
            },
            {
              "value": "650421",
              "text": "鄯善县"
            },
            {
              "value": "650422",
              "text": "托克逊县"
            }
          ]
        },
        {
          "value": "6505",
          "text": "哈密市",
          "children": [
            {
              "value": "650502",
              "text": "伊州区"
            },
            {
              "value": "650521",
              "text": "巴里坤哈萨克自治县"
            },
            {
              "value": "650522",
              "text": "伊吾县"
            }
          ]
        },
        {
          "value": "6523",
          "text": "昌吉回族自治州",
          "children": [
            {
              "value": "652301",
              "text": "昌吉市"
            },
            {
              "value": "652302",
              "text": "阜康市"
            },
            {
              "value": "652323",
              "text": "呼图壁县"
            },
            {
              "value": "652324",
              "text": "玛纳斯县"
            },
            {
              "value": "652325",
              "text": "奇台县"
            },
            {
              "value": "652327",
              "text": "吉木萨尔县"
            },
            {
              "value": "652328",
              "text": "木垒哈萨克自治县"
            }
          ]
        },
        {
          "value": "6527",
          "text": "博尔塔拉蒙古自治州",
          "children": [
            {
              "value": "652701",
              "text": "博乐市"
            },
            {
              "value": "652702",
              "text": "阿拉山口市"
            },
            {
              "value": "652722",
              "text": "精河县"
            },
            {
              "value": "652723",
              "text": "温泉县"
            }
          ]
        },
        {
          "value": "6528",
          "text": "巴音郭楞蒙古自治州",
          "children": [
            {
              "value": "652801",
              "text": "库尔勒市"
            },
            {
              "value": "652822",
              "text": "轮台县"
            },
            {
              "value": "652823",
              "text": "尉犁县"
            },
            {
              "value": "652824",
              "text": "若羌县"
            },
            {
              "value": "652825",
              "text": "且末县"
            },
            {
              "value": "652826",
              "text": "焉耆回族自治县"
            },
            {
              "value": "652827",
              "text": "和静县"
            },
            {
              "value": "652828",
              "text": "和硕县"
            },
            {
              "value": "652829",
              "text": "博湖县"
            }
          ]
        },
        {
          "value": "6529",
          "text": "阿克苏地区",
          "children": [
            {
              "value": "652901",
              "text": "阿克苏市"
            },
            {
              "value": "652902",
              "text": "库车市"
            },
            {
              "value": "652922",
              "text": "温宿县"
            },
            {
              "value": "652924",
              "text": "沙雅县"
            },
            {
              "value": "652925",
              "text": "新和县"
            },
            {
              "value": "652926",
              "text": "拜城县"
            },
            {
              "value": "652927",
              "text": "乌什县"
            },
            {
              "value": "652928",
              "text": "阿瓦提县"
            },
            {
              "value": "652929",
              "text": "柯坪县"
            }
          ]
        },
        {
          "value": "6530",
          "text": "克孜勒苏柯尔克孜自治州",
          "children": [
            {
              "value": "653001",
              "text": "阿图什市"
            },
            {
              "value": "653022",
              "text": "阿克陶县"
            },
            {
              "value": "653023",
              "text": "阿合奇县"
            },
            {
              "value": "653024",
              "text": "乌恰县"
            }
          ]
        },
        {
          "value": "6531",
          "text": "喀什地区",
          "children": [
            {
              "value": "653101",
              "text": "喀什市"
            },
            {
              "value": "653121",
              "text": "疏附县"
            },
            {
              "value": "653122",
              "text": "疏勒县"
            },
            {
              "value": "653123",
              "text": "英吉沙县"
            },
            {
              "value": "653124",
              "text": "泽普县"
            },
            {
              "value": "653125",
              "text": "莎车县"
            },
            {
              "value": "653126",
              "text": "叶城县"
            },
            {
              "value": "653127",
              "text": "麦盖提县"
            },
            {
              "value": "653128",
              "text": "岳普湖县"
            },
            {
              "value": "653129",
              "text": "伽师县"
            },
            {
              "value": "653130",
              "text": "巴楚县"
            },
            {
              "value": "653131",
              "text": "塔什库尔干塔吉克自治县"
            }
          ]
        },
        {
          "value": "6532",
          "text": "和田地区",
          "children": [
            {
              "value": "653201",
              "text": "和田市"
            },
            {
              "value": "653221",
              "text": "和田县"
            },
            {
              "value": "653222",
              "text": "墨玉县"
            },
            {
              "value": "653223",
              "text": "皮山县"
            },
            {
              "value": "653224",
              "text": "洛浦县"
            },
            {
              "value": "653225",
              "text": "策勒县"
            },
            {
              "value": "653226",
              "text": "于田县"
            },
            {
              "value": "653227",
              "text": "民丰县"
            }
          ]
        },
        {
          "value": "6540",
          "text": "伊犁哈萨克自治州",
          "children": [
            {
              "value": "654002",
              "text": "伊宁市"
            },
            {
              "value": "654003",
              "text": "奎屯市"
            },
            {
              "value": "654004",
              "text": "霍尔果斯市"
            },
            {
              "value": "654021",
              "text": "伊宁县"
            },
            {
              "value": "654022",
              "text": "察布查尔锡伯自治县"
            },
            {
              "value": "654023",
              "text": "霍城县"
            },
            {
              "value": "654024",
              "text": "巩留县"
            },
            {
              "value": "654025",
              "text": "新源县"
            },
            {
              "value": "654026",
              "text": "昭苏县"
            },
            {
              "value": "654027",
              "text": "特克斯县"
            },
            {
              "value": "654028",
              "text": "尼勒克县"
            }
          ]
        },
        {
          "value": "6542",
          "text": "塔城地区",
          "children": [
            {
              "value": "654201",
              "text": "塔城市"
            },
            {
              "value": "654202",
              "text": "乌苏市"
            },
            {
              "value": "654203",
              "text": "沙湾市"
            },
            {
              "value": "654221",
              "text": "额敏县"
            },
            {
              "value": "654224",
              "text": "托里县"
            },
            {
              "value": "654225",
              "text": "裕民县"
            },
            {
              "value": "654226",
              "text": "和布克赛尔蒙古自治县"
            }
          ]
        },
        {
          "value": "6543",
          "text": "阿勒泰地区",
          "children": [
            {
              "value": "654301",
              "text": "阿勒泰市"
            },
            {
              "value": "654321",
              "text": "布尔津县"
            },
            {
              "value": "654322",
              "text": "富蕴县"
            },
            {
              "value": "654323",
              "text": "福海县"
            },
            {
              "value": "654324",
              "text": "哈巴河县"
            },
            {
              "value": "654325",
              "text": "青河县"
            },
            {
              "value": "654326",
              "text": "吉木乃县"
            }
          ]
        },
        {
          "value": "6590",
          "text": "自治区直辖县级行政区划",
          "children": [
            {
              "value": "659001",
              "text": "石河子市"
            },
            {
              "value": "659002",
              "text": "阿拉尔市"
            },
            {
              "value": "659003",
              "text": "图木舒克市"
            },
            {
              "value": "659004",
              "text": "五家渠市"
            },
            {
              "value": "659005",
              "text": "北屯市"
            },
            {
              "value": "659006",
              "text": "铁门关市"
            },
            {
              "value": "659007",
              "text": "双河市"
            },
            {
              "value": "659008",
              "text": "可克达拉市"
            },
            {
              "value": "659009",
              "text": "昆玉市"
            },
            {
              "value": "659010",
              "text": "胡杨河市"
            },
            {
              "value": "659011",
              "text": "新星市"
            },
            {
              "value": "659012",
              "text": "白杨市"
            }
          ]
        }
      ]
    }
  ];
  const findAreaValue = (list, matchTexts) => {
    for (const item of list) {
      if (item.text === matchTexts[0]) {
        if (matchTexts.length === 1) {
          return item.value;
        }
        if (item.children && item.children.length) {
          const res2 = findAreaValue(item.children, matchTexts.slice(1));
          if (res2)
            return res2;
        }
      }
    }
    return "";
  };
  const _sfc_main$4 = {
    __name: "operation-address",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "e022323c-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const scrollTop = vue.ref(0);
      onPageScroll((e2) => {
        scrollTop.value = e2.scrollTop;
      });
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const handleCheckToggle = () => {
        addressFrom.value.isDefault = addressFrom.value.isDefault == 1 ? 0 : 1;
      };
      const classes = vue.ref("");
      const addressFrom = vue.ref({
        city: "",
        detailAddress: "",
        district: "",
        isDefault: 0,
        province: "",
        receiverName: "",
        receiverPhone: ""
      });
      const handleBuy = async () => {
        if (!validateAddressForm())
          return;
        try {
          const api = addressFrom.value.id ? updateAddress : addAddress;
          const res2 = await api(addressFrom.value);
          uni.showToast({
            title: `${addressFrom.value.id ? "修改" : "新增"}成功`,
            icon: "none"
          });
          backFn();
        } catch (err) {
          formatAppLog("log", "at pages/shopping-mall/operation-address.vue:119", err);
        }
      };
      const onchange = (e2) => {
        const [province, city, district] = e2.detail.value;
        addressFrom.value.province = province.text;
        addressFrom.value.city = city.text;
        addressFrom.value.district = district.text;
        classes.value = district.value;
      };
      onLoad((options) => {
        if (options.info) {
          const info = JSON.parse(options.info);
          addressFrom.value = info;
          const { province, city, district } = info;
          classes.value = findAreaValue(areaList, [province, city, district]);
        }
      });
      const validateAddressForm = () => {
        const { receiverName, receiverPhone, province, city, district, detailAddress } = addressFrom.value;
        if (!receiverName.trim()) {
          uni.showToast({
            title: "请填写收件人姓名",
            icon: "none"
          });
          return false;
        }
        const phoneReg = /^1[3-9]\d{9}$/;
        if (!receiverPhone.trim()) {
          uni.showToast({
            title: "请填写收件人手机号",
            icon: "none"
          });
          return false;
        } else if (!phoneReg.test(receiverPhone.trim())) {
          uni.showToast({
            title: "请填写正确的11位手机号",
            icon: "none"
          });
          return false;
        }
        if (!province) {
          uni.showToast({
            title: "请选择省份",
            icon: "none"
          });
          return false;
        }
        if (!city) {
          uni.showToast({
            title: "请选择城市",
            icon: "none"
          });
          return false;
        }
        if (!district) {
          uni.showToast({
            title: "请选择区县",
            icon: "none"
          });
          return false;
        }
        if (!detailAddress.trim()) {
          uni.showToast({
            title: "请填写详细收货地址（街道/小区/门牌号）",
            icon: "none"
          });
          return false;
        }
        return true;
      };
      const __returned__ = { globalStore, statusBarHeight, scrollTop, backFn, handleCheckToggle, classes, addressFrom, handleBuy, onchange, validateAddressForm, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onLoad() {
        return onLoad;
      }, get onPageScroll() {
        return onPageScroll;
      }, get addAddress() {
        return addAddress;
      }, get updateAddress() {
        return updateAddress;
      }, get areaList() {
        return areaList;
      }, get findAreaValue() {
        return findAreaValue;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_data_picker = resolveEasycom(vue.resolveDynamicComponent("uni-data-picker"), __easycom_2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "scroll-content",
        "scroll-top": _ctx.top,
        "show-scrollbar": false,
        "scroll-with-animation": "",
        id: "scrollView"
      }, [
        vue.createElementVNode("view", { class: "header" }, [
          vue.createVNode(_component_uni_nav_bar, {
            class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
            backgroundColor: "rgba(255,255,255,0)",
            border: false,
            title: `${$setup.addressFrom.id ? "修改" : "新增"}收货地址`
          }, {
            left: vue.withCtx(() => [
              vue.createVNode(_component_uni_icons, {
                type: "left",
                size: "24",
                onClick: $setup.backFn
              })
            ]),
            _: 1
            /* STABLE */
          }, 8, ["class", "title"])
        ]),
        vue.createElementVNode("view", { class: "content" }, [
          vue.createElementVNode("view", { class: "address-item" }, [
            vue.createElementVNode("view", { class: "address-info" }, [
              vue.createElementVNode("view", null, "收货人"),
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.addressFrom.receiverName = $event),
                  type: "text",
                  placeholder: "请填写收货人姓名",
                  class: "address-boder"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $setup.addressFrom.receiverName]
              ])
            ]),
            vue.createElementVNode("view", { class: "address-info" }, [
              vue.createElementVNode("view", null, "手机号"),
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.addressFrom.receiverPhone = $event),
                  type: "text",
                  placeholder: "请填写收货人手机号"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $setup.addressFrom.receiverPhone]
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "address-item" }, [
            vue.createElementVNode("view", null, "地址信息"),
            vue.createElementVNode("view", { class: "address-info" }, [
              vue.createElementVNode("view", { style: { "margin-right": "20rpx" } }, "省-市-区"),
              vue.createVNode(_component_uni_data_picker, {
                placeholder: "请选择所在地区",
                "popup-title": "请选择所在地区",
                localdata: $setup.areaList,
                modelValue: $setup.classes,
                "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $setup.classes = $event),
                onChange: $setup.onchange
              }, null, 8, ["localdata", "modelValue"])
            ]),
            vue.createElementVNode("view", { class: "address-info" }, [
              vue.createElementVNode("view", null, "详细地址"),
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $setup.addressFrom.detailAddress = $event),
                  type: "text",
                  placeholder: "请填写详细地址信息",
                  style: { "width": "75%" }
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $setup.addressFrom.detailAddress]
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "address-item" }, [
            vue.createElementVNode("view", { class: "address-default" }, [
              vue.createElementVNode("view", null, [
                vue.createElementVNode("view", null, "设为默认地址"),
                vue.createElementVNode("view", { class: "default-tips" }, [
                  vue.createVNode(_component_uni_icons, {
                    type: "sound-filled",
                    size: "16",
                    color: "#89898a"
                  }),
                  vue.createTextVNode(" 下单时会优先使用该地址 ")
                ])
              ]),
              vue.createVNode(_component_uni_icons, {
                type: $setup.addressFrom.isDefault ? "checkbox-filled" : "circle",
                color: $setup.addressFrom.isDefault ? "#ff9900" : "#ccc",
                size: "25",
                onClick: $setup.handleCheckToggle
              }, null, 8, ["type", "color"])
            ])
          ])
        ])
      ], 8, ["scroll-top"]),
      vue.createElementVNode("view", { class: "footer" }, [
        vue.createElementVNode("view", {
          class: "btn-buy",
          onClick: $setup.handleBuy
        }, "保存")
      ])
    ]);
  }
  const PagesShoppingMallOperationAddress = /* @__PURE__ */ _export_sfc(_sfc_main$4, [["render", _sfc_render$3], ["__scopeId", "data-v-e022323c"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/operation-address.vue"]]);
  const _sfc_main$3 = {
    __name: "order-details",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "eede6ebf-statusBarHeight": statusBarHeight.value
      }));
      const globalStore = useGlobalDataStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const orderInfo = vue.ref({});
      const getStatusInstruction = (status) => {
        const statusTextMap = {
          1: "未付款订单自动取消剩余：15分钟",
          2: "您订单的商品正在紧锣密鼓打包中",
          3: "快递正在途中快马加鞭，小主耐心等待",
          4: "感谢小主的耐心等待，希望商品让您满意",
          7: "非常抱歉没有让您选中满意的商品"
        };
        return statusTextMap[status] || "订单状态更新中...";
      };
      const scrollTopTitle = (val2) => {
        const titleMap = {
          1: "待付款",
          2: "待发货",
          3: "待收货",
          4: "待评价",
          5: "已完成",
          6: "已取消",
          7: "售后中"
        };
        return titleMap[val2] || "订单详情";
      };
      const refundProgress = (refundType, status) => {
        var _a2;
        const progressMap = {
          1: {
            // 1:仅退款
            1: "退款审核中",
            2: "退款请求通过",
            3: "退款申请拒绝",
            4: "退款成功"
          },
          2: {
            // 2:退货退款
            1: "退货审核中",
            2: "退货请求通过",
            3: "退货申请拒绝",
            4: "退款成功"
          },
          3: {
            // 3:换货
            1: "换货审核中",
            2: "换货请求通过",
            3: "换货申请拒绝",
            4: "换货成功"
          }
        };
        return ((_a2 = progressMap[val]) == null ? void 0 : _a2[status]) || "退款中";
      };
      const refundContent = (refundType, status) => {
        var _a2;
        const contentMap = {
          1: {
            // 1:仅退款
            1: "请耐心等待工作人员审核",
            2: "仅退款请求已通过",
            3: "仅退款申请已拒绝",
            4: "退款金额已原路退回"
          },
          2: {
            // 2:退货退款
            1: "请耐心等待工作人员审核",
            2: "请及时上传退货物流信息",
            3: "退货退款申请已拒绝",
            4: "退款金额已原路退回"
          },
          3: {
            // 3:换货
            1: "请耐心等待工作人员审核换货申请",
            2: "请及时上传退货物流信息",
            3: "换货申请已拒绝",
            4: "退款金额已原路退回"
          }
        };
        return ((_a2 = contentMap[refundType]) == null ? void 0 : _a2[status]) || "退款中";
      };
      const logisticsList = vue.ref({});
      const expressApi = async () => {
        try {
          const { expressCompany, expressNo } = orderInfo.value;
          const { data } = await express({ expressCompany: "韵达快递", expressNo: "428163465007284" });
          data.tracks.forEach((item, index) => {
            item.isCompleted = index === 0;
          });
          logisticsList.value = data;
        } catch (e2) {
          formatAppLog("log", "at pages/shopping-mall/order-details.vue:261", e2);
        }
      };
      onLoad((options) => {
        expressApi();
        getOrderDetail(options.id).then((res2) => {
          orderInfo.value = res2.data;
          formatAppLog("log", "at pages/shopping-mall/order-details.vue:269", res2.data);
          if (res2.data.orderStatus == 7) {
            getRefundDetailApi();
          }
          if (res2.data.orderStatus == 3) {
            expressApi();
          }
        });
      });
      onShow(() => {
      });
      const scrollTop = vue.ref(0);
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const showRefundInfo = vue.ref({});
      const getRefundDetailApi = async () => {
        try {
          const { data } = await getRefundDetail(orderInfo.value.id);
          showRefundInfo.value = data;
        } catch (err) {
          formatAppLog("log", "at pages/shopping-mall/order-details.vue:307", err);
        }
      };
      const gotoPrivacy = (type) => {
        uni.navigateTo({
          url: `/pages/webview/webview?type=${type}`
        });
      };
      const handleComplaint = () => {
        uni.navigateTo({
          url: "/pages/settings/complaint?id=" + orderInfo.value.userId
        });
      };
      const handleComment = () => {
        uni.navigateTo({
          url: `/pages/payment/order/evaluation-order?order=${JSON.stringify(orderInfo.value)}&colorType=1`
        });
      };
      const handleChat = () => {
        const { userId, teacherName, teacherAvatar } = orderInfo.value;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${userId}&name=${teacherName}&avatar=${teacherAvatar}`
        });
      };
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const popup = vue.ref(null);
      const handleClause = (val2) => {
        popup.value.open("center");
      };
      const closePopup = () => {
        uni.navigateTo({
          url: `/pages/payment/order/refund-order?order=${JSON.stringify(orderInfo.value)}`
        });
        popup.value.close();
      };
      const paymentMethod = vue.ref("weixin");
      const {
        isLoading,
        paymentStatus,
        initPaymentChannels,
        wechatPay,
        alipay,
        PAYMENT_STATUS: PAYMENT_STATUS2
      } = usePayment();
      const getAlipayOrder = async (val2) => {
        const { data } = await aliPay(val2);
        return data.orderString;
      };
      const orderPay = async (id2) => {
        try {
          const { data } = await payment({ userId: "1018" });
          const orderInfo2 = await getAlipayOrder({
            amount: 0.01,
            orderId: data.records[0].orderId
          });
          const result = await alipay(orderInfo2);
          if (result.status === PAYMENT_STATUS2.SUCCESS) {
            message.value = "支付宝支付成功";
          }
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleCancel = async () => {
        try {
          const res2 = await cancel({ orderSn: orderInfo.value.orderSn });
          uni.showToast({
            title: "取消成功",
            icon: "none"
          });
        } catch (err) {
          formatAppLog("log", "at pages/shopping-mall/order-details.vue:444", err);
        }
      };
      const __returned__ = { globalStore, statusBarHeight, orderInfo, getStatusInstruction, scrollTopTitle, refundProgress, refundContent, logisticsList, expressApi, scrollTop, onPageScroll: onPageScroll2, backFn, showRefundInfo, getRefundDetailApi, gotoPrivacy, handleComplaint, handleComment, handleChat, copyText, popup, handleClause, closePopup, paymentMethod, isLoading, paymentStatus, initPaymentChannels, wechatPay, alipay, PAYMENT_STATUS: PAYMENT_STATUS2, getAlipayOrder, orderPay, handleCancel, ref: vue.ref, watch: vue.watch, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get payment() {
        return payment;
      }, get wxPay() {
        return wxPay;
      }, get aliPay() {
        return aliPay;
      }, get express() {
        return express;
      }, get usePayment() {
        return usePayment;
      }, get getOrderDetail() {
        return getOrderDetail;
      }, get getRefundDetail() {
        return getRefundDetail;
      }, get cancel() {
        return cancel;
      }, RecommendedProduct };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_2$c);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: $setup.scrollTopTitle($setup.orderInfo.orderStatus)
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class", "title"])
      ]),
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          onScroll: $setup.onPageScroll,
          style: { "height": "calc(100vh - 130rpx)" },
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "consultation-content" }, [
            vue.createElementVNode("view", { class: "notice-bar" }, [
              vue.createVNode(_component_uni_icons, {
                type: "sound",
                size: "20",
                color: "#F87171"
              }),
              vue.createElementVNode(
                "view",
                { class: "notice-text" },
                vue.toDisplayString($setup.getStatusInstruction($setup.orderInfo.orderStatus)),
                1
                /* TEXT */
              )
            ]),
            $setup.orderInfo.orderStatus == 7 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "refund-info"
            }, [
              vue.createElementVNode(
                "view",
                { class: "refund-title" },
                vue.toDisplayString($setup.refundProgress($setup.showRefundInfo.refundType, $setup.showRefundInfo.status)),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "view",
                { class: "refund-text" },
                vue.toDisplayString($setup.refundContent($setup.showRefundInfo.refundType, $setup.showRefundInfo.status)),
                1
                /* TEXT */
              )
            ])) : vue.createCommentVNode("v-if", true),
            vue.createElementVNode("view", {
              class: "appointment-info",
              style: { "display": "flex", "padding": "30rpx 50rpx" }
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "location",
                size: "23",
                color: "#888888",
                style: { "margin-right": "10rpx" }
              }),
              vue.createElementVNode("view", {
                class: "info-item",
                style: { "width": "100%", "align-items": "normal", "flex-direction": "column", "margin-top": "0" }
              }, [
                vue.createElementVNode(
                  "view",
                  { class: "info-label" },
                  vue.toDisplayString($setup.orderInfo.receiverAddress),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", { class: "info-label info-text" }, [
                  vue.createElementVNode(
                    "text",
                    null,
                    vue.toDisplayString($setup.orderInfo.receiverName),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    null,
                    vue.toDisplayString($setup.orderInfo.receiverPhone),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "user-info-section" }, [
              vue.createElementVNode("view", { class: "user-details" }, [
                vue.createElementVNode("image", {
                  src: $setup.orderInfo.items[0].thumbnail,
                  class: "user-avatar"
                }, null, 8, ["src"]),
                vue.createElementVNode("view", { class: "user-info" }, [
                  vue.createElementVNode(
                    "view",
                    null,
                    vue.toDisplayString($setup.orderInfo.items[0].productName),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "info-item" }, [
                    vue.createElementVNode(
                      "view",
                      { class: "item-text" },
                      vue.toDisplayString(Object.values(JSON.parse($setup.orderInfo.items[0].specValues)).join(";")),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "view",
                      null,
                      "¥" + vue.toDisplayString($setup.orderInfo.items[0].price),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode(
                    "view",
                    { class: "item-text" },
                    "x " + vue.toDisplayString($setup.orderInfo.items[0].quantity),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "appointment-info" }, [
              vue.createElementVNode("view", { class: "info-title" }, [
                vue.createElementVNode("view", null, "订单信息"),
                $setup.orderInfo.status == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "info-refund",
                  onClick: $setup.handleClause
                }, "我要退款")) : vue.createCommentVNode("v-if", true)
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "订单编号"),
                vue.createElementVNode("view", {
                  class: "consultation-methods",
                  style: { "display": "block" }
                }, [
                  vue.createElementVNode("image", {
                    src: _imports_0$5,
                    style: { "width": "22rpx", "height": "22rpx", "margin-right": "10rpx" },
                    onClick: _cache[0] || (_cache[0] = ($event) => $setup.copyText($setup.orderInfo.orderSn))
                  }),
                  vue.createElementVNode(
                    "text",
                    { class: "method-text" },
                    vue.toDisplayString($setup.orderInfo.orderSn),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "创建时间"),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  vue.toDisplayString($setup.orderInfo.createTime),
                  1
                  /* TEXT */
                )
              ]),
              $setup.orderInfo.payTime ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "info-item"
              }, [
                vue.createElementVNode("view", { class: "info-label" }, "支付时间"),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  vue.toDisplayString($setup.orderInfo.payTime),
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode("view", { class: "info-item" }, [
                vue.createElementVNode("view", { class: "info-label" }, "订单金额"),
                vue.createElementVNode(
                  "view",
                  { class: "info-value" },
                  "￥" + vue.toDisplayString($setup.orderInfo.totalAmount),
                  1
                  /* TEXT */
                )
              ]),
              $setup.orderInfo.orderStatus != 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "info-item"
              }, [
                vue.createElementVNode("view", { class: "info-label" }, "支付方式"),
                vue.createElementVNode("view", { class: "consultation-methods" }, [
                  $setup.orderInfo.payType == "wxpay" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "method-item"
                  }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-wechatimg.png" }),
                    vue.createElementVNode("text", { class: "method-text" }, "微信支付")
                  ])) : (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "method-item"
                  }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-alipayimg.png" }),
                    vue.createElementVNode("text", { class: "method-text" }, "支付宝支付")
                  ]))
                ])
              ])) : vue.createCommentVNode("v-if", true)
            ]),
            $setup.orderInfo.expressNo ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "appointment-info"
            }, [
              vue.createElementVNode("view", { class: "info-express" }, [
                vue.createVNode(_component_uni_icons, {
                  "custom-prefix": "iconfont",
                  type: "icon-xiaohuoche",
                  size: "20",
                  color: "#9a9a9a",
                  class: "icon"
                }),
                vue.createElementVNode(
                  "view",
                  { class: "express-text" },
                  vue.toDisplayString($setup.orderInfo.expressCompany),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", { class: "express-code" }, [
                  vue.createElementVNode(
                    "view",
                    null,
                    vue.toDisplayString($setup.orderInfo.expressNo),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("image", {
                    src: _imports_0$5,
                    style: { "width": "22rpx", "height": "22rpx", "margin-left": "10rpx" },
                    onClick: _cache[1] || (_cache[1] = ($event) => $setup.copyText($setup.orderInfo.orderSn))
                  })
                ])
              ]),
              vue.createElementVNode("view", { class: "logistics-container" }, [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($setup.logisticsList.tracks, (item, index) => {
                    return vue.openBlock(), vue.createElementBlock("view", {
                      class: "logistics-item",
                      key: index
                    }, [
                      vue.createElementVNode("view", { class: "logistics-node-wrap" }, [
                        vue.createElementVNode(
                          "view",
                          {
                            class: vue.normalizeClass(["logistics-node", { "completed": item.isCompleted }])
                          },
                          null,
                          2
                          /* CLASS */
                        ),
                        index < $setup.logisticsList.tracks.length - 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "logistics-line"
                        })) : vue.createCommentVNode("v-if", true)
                      ]),
                      vue.createElementVNode("view", { class: "logistics-info" }, [
                        vue.createElementVNode(
                          "view",
                          { class: "logistics-time" },
                          vue.toDisplayString(item.time),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "logistics-status" },
                          vue.toDisplayString(item.context),
                          1
                          /* TEXT */
                        )
                      ])
                    ]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])) : vue.createCommentVNode("v-if", true),
            !$setup.orderInfo.expressNo ? (vue.openBlock(), vue.createBlock($setup["RecommendedProduct"], {
              key: 2,
              style: { "margin-bottom": "50rpx" }
            })) : vue.createCommentVNode("v-if", true)
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createElementVNode("view", { class: "footer" }, [
        $setup.orderInfo.orderStatus == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "btn-cart",
          onClick: $setup.handleCancel
        }, "取消订单")) : vue.createCommentVNode("v-if", true),
        $setup.orderInfo.orderStatus == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "btn-buy",
          onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleBuy && _ctx.handleBuy(...args))
        }, "继续支付")) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createVNode(
        _component_uni_popup,
        {
          ref: "popup",
          type: "center",
          animation: false
        },
        {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { class: "popup-container" }, [
              vue.createElementVNode("view", { class: "popup-title" }, [
                vue.createElementVNode("view", null, "退款须知"),
                vue.createElementVNode("image", {
                  src: _imports_1$1,
                  style: { "width": "33rpx", "height": "33rpx", "margin-right": "10rpx" }
                })
              ]),
              vue.createElementVNode("view", { class: "popup-content" }, [
                vue.createElementVNode("view", { class: "list-item" }, "订单剩余未服务时长在有效期内可退"),
                vue.createElementVNode("view", { class: "list-item" }, "如拨打过且通话时长>3分钟，根据实际使用时长，按照原价进行扣减后退费;"),
                vue.createElementVNode("view", { class: "list-item" }, "文字倾诉订单下单后未回复的，自动退款;")
              ]),
              vue.createElementVNode("view", { class: "popup-btn" }, [
                vue.createElementVNode("view", {
                  class: "popup-btn-text",
                  onClick: $setup.closePopup
                }, "我知道了")
              ])
            ])
          ]),
          _: 1
          /* STABLE */
        },
        512
        /* NEED_PATCH */
      )
    ]);
  }
  const PagesShoppingMallOrderDetails = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["render", _sfc_render$2], ["__scopeId", "data-v-eede6ebf"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/order-details.vue"]]);
  const _sfc_main$2 = {
    __name: "order-list",
    setup(__props, { expose: __expose }) {
      __expose();
      const tabs = vue.ref([
        { name: "全部" },
        { name: "待付款" },
        { name: "待发货" },
        { name: "待收货" },
        { name: "待评价" },
        { name: "已完成" },
        { name: "已取消" },
        { name: "售后中" }
      ]);
      const orderService = vue.ref(false);
      const currentTab = vue.ref(0);
      const orderList2 = vue.ref([]);
      const paramsData = vue.ref({
        pageNum: 1,
        pageSize: 10
      });
      const changeTab = (e2) => {
        paramsData.value.pageNum = 1;
        paramsData.value.orderStatus = e2;
        currentTab.value = e2;
        orderList2.value = [];
        if (e2 == 0) {
          delete paramsData.value.orderStatus;
        }
        postList();
      };
      const listEmpty = vue.ref(false);
      onReachBottom(() => {
        if (!listEmpty.value) {
          paramsData.value.current += 1;
          postList();
        }
      });
      const postList = async () => {
        try {
          const res2 = await orderMy(paramsData.value);
          orderList2.value = [...orderList2.value, ...res2.data.records];
          listEmpty.value = res2.data.records.length === 0 ? true : false;
        } catch (e2) {
          formatAppLog("log", "at pages/shopping-mall/order-list.vue:182", e2);
        }
      };
      const getStatusText = (status) => {
        switch (status) {
          case 1:
            return "待付款";
          case 2:
            return "待发货";
          case 3:
            return "待收货";
          case 4:
            return "待评价";
          case 5:
            return "已完成";
          case 6:
            return "已取消";
          case 7:
            return "售后中";
          default:
            return "";
        }
      };
      const copyText = (text) => {
        uni.setClipboardData({
          data: text,
          success(e2) {
            uni.showToast({
              title: "已复制"
            });
          }
        });
      };
      const getStatusClass = (status) => {
        return {
          待支付: "",
          待咨询: "",
          待评价: "",
          已完成: "",
          未完成: ""
        }[status];
      };
      const typeId = vue.ref({});
      onLoad((options) => {
      });
      const toDetail = (item) => {
        formatAppLog("log", "at pages/shopping-mall/order-list.vue:243", item);
        uni.navigateTo({
          url: `/pages/shopping-mall/order-details?id=${item.id}`
        });
      };
      const toComment = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order/evaluation-order?type=${JSON.stringify(
            typeId.value
          )}&colorType=1`
        });
      };
      const handleChat = (val2) => {
        const { teacherUserId, teacherName, teacherAvatar } = val2;
        uni.navigateTo({
          url: `/pages/message/private-chat?to=${teacherUserId}&name=${teacherName}&avatar=${teacherAvatar}`
        });
      };
      const cancelOrder = async (item) => {
        try {
          const res2 = await cancel({ orderSn: item.orderSn });
          uni.showToast({
            title: "取消成功",
            icon: "none"
          });
          postList();
        } catch (e2) {
          formatAppLog("log", "at pages/shopping-mall/order-list.vue:276", e2);
        }
      };
      const toRefund = (item) => {
        uni.navigateTo({
          url: `/pages/payment/order/refund-order?order=${JSON.stringify(item)}`
        });
      };
      vue.onMounted(() => {
        postList();
      });
      const __returned__ = { tabs, orderService, currentTab, orderList: orderList2, paramsData, changeTab, listEmpty, postList, getStatusText, copyText, getStatusClass, typeId, toDetail, toComment, handleChat, cancelOrder, toRefund, ref: vue.ref, onMounted: vue.onMounted, get onLoad() {
        return onLoad;
      }, get onReachBottom() {
        return onReachBottom;
      }, get postOrder() {
        return postOrder;
      }, get cancel() {
        return cancel;
      }, get orderMy() {
        return orderMy;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_u_navbar = resolveEasycom(vue.resolveDynamicComponent("u-navbar"), __easycom_0$1);
    const _component_u_tabs = resolveEasycom(vue.resolveDynamicComponent("u-tabs"), __easycom_1$1);
    return vue.openBlock(), vue.createElementBlock("view", { class: "order-page" }, [
      vue.createVNode(_component_u_navbar, {
        title: "商品订单",
        autoBack: true
      }),
      vue.createVNode(_component_u_tabs, {
        list: $setup.tabs,
        onChange: $setup.changeTab,
        current: $setup.currentTab,
        lineColor: "#00C28A",
        activeStyle: "color:#000;font-weight:600",
        inactiveStyle: "color:#666"
      }, null, 8, ["list", "current"]),
      vue.createElementVNode("scroll-view", {
        "scroll-y": "",
        class: "order-list"
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($setup.orderList, (item, index) => {
            return vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: index,
                class: vue.normalizeClass(["order-card", $setup.getStatusClass(item.status)])
              },
              [
                vue.createElementVNode("view", { class: "order-header" }, [
                  vue.createElementVNode("text", { class: "order-no" }, [
                    vue.createTextVNode(
                      "订单号：" + vue.toDisplayString(item.orderSn) + " ",
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("image", {
                      src: _imports_0$5,
                      style: { "width": "25rpx", "height": "25rpx", "margin-left": "15rpx" },
                      onClick: ($event) => $setup.copyText(item.orderSn)
                    }, null, 8, ["onClick"])
                  ]),
                  vue.createElementVNode(
                    "text",
                    { class: "status orange" },
                    vue.toDisplayString($setup.getStatusText(item.status)),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "order-body" }, [
                  vue.createElementVNode("view", {
                    class: "order-item",
                    onClick: ($event) => $setup.toDetail(item)
                  }, [
                    vue.createElementVNode("image", {
                      src: item.items[0].thumbnail,
                      class: "cover"
                    }, null, 8, ["src"]),
                    vue.createElementVNode("view", { class: "info" }, [
                      vue.createElementVNode(
                        "view",
                        { class: "title" },
                        vue.toDisplayString(item.items[0].productName),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", { class: "price" }, [
                        vue.createElementVNode(
                          "view",
                          { class: "text" },
                          vue.toDisplayString(Object.values(JSON.parse(item.items[0].specValues)).join(";")),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "view",
                          { class: "price-num" },
                          "¥" + vue.toDisplayString(item.items[0].price),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode(
                        "view",
                        { class: "count" },
                        "x" + vue.toDisplayString(item.items[0].quantity),
                        1
                        /* TEXT */
                      )
                    ])
                  ], 8, ["onClick"])
                ]),
                vue.createElementVNode("view", { class: "desc" }, [
                  vue.createElementVNode("view", { class: "text" }, "感谢小主的耐心等待，希望商品让您满意"),
                  vue.createElementVNode(
                    "view",
                    { class: "price" },
                    "实付款¥" + vue.toDisplayString(item.items[0].totalAmount),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "btn-group" }, [
                  vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "gap": "20rpx" } }, [
                    item.orderStatus == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "btn-2",
                      size: "small",
                      shape: "circle",
                      plain: "",
                      type: "info",
                      onClick: ($event) => $setup.cancelOrder(item)
                    }, "取消订单", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 1,
                      class: "btn-1",
                      size: "small",
                      shape: "circle",
                      type: "warning"
                    }, "继续支付")) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 2,
                      class: "btn-1",
                      size: "small",
                      shape: "circle",
                      plain: "",
                      type: "info",
                      onClick: ($event) => $setup.toRefund(item)
                    }, "退款", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 4 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 3,
                      class: "btn-1",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.toComment(item)
                    }, "去评价", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 4,
                      class: "btn-1",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.toComment(item)
                    }, "确认收货", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 3 || item.orderStatus == 4 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 5,
                      class: "btn-2",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.toComment(item)
                    }, "查看物流", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 6,
                      class: "btn-2",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.toComment(item)
                    }, "退换", 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    item.orderStatus == 6 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 7,
                      class: "btn-1",
                      size: "small",
                      shape: "circle",
                      type: "warning",
                      onClick: ($event) => $setup.toComment(item)
                    }, "加入购物车", 8, ["onClick"])) : vue.createCommentVNode("v-if", true)
                  ])
                ])
              ],
              2
              /* CLASS */
            );
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])
    ]);
  }
  const PagesShoppingMallOrderList = /* @__PURE__ */ _export_sfc(_sfc_main$2, [["render", _sfc_render$1], ["__scopeId", "data-v-31ecd985"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/order-list.vue"]]);
  const _sfc_main$1 = {
    __name: "order-confirmation",
    setup(__props, { expose: __expose }) {
      __expose();
      vue.useCssVars((_ctx) => ({
        "90dd0d93-statusBarHeight": statusBarHeight.value
      }));
      const scrollTop = vue.ref(0);
      const globalStore = useGlobalDataStore();
      const orderStore = useOrderStore();
      const statusBarHeight = vue.ref(globalStore.statusBarHeight + "px");
      const orderData2 = vue.ref([]);
      orderData2.value = orderStore.orderList;
      formatAppLog("log", "at pages/shopping-mall/order-confirmation.vue:133", orderStore.orderList);
      const onPageScroll2 = (e2) => {
        scrollTop.value = e2.detail.scrollTop;
      };
      const backFn = () => {
        uni.navigateBack({
          delta: 1
        });
      };
      const selectImg = vue.ref("select-green");
      const address = vue.ref({});
      const getDefaultAddressFn = async () => {
        try {
          const { data } = await getDefaultAddress();
          if (!data)
            return;
          orderData2.value.addressId = data.id;
          address.value = data;
        } catch (err) {
          formatAppLog("log", "at pages/shopping-mall/order-confirmation.vue:154", err);
        }
      };
      const handleAddress = () => {
        uni.navigateTo({
          url: "/pages/shopping-mall/delivery-address"
        });
      };
      const handlePlus = (index) => {
        orderData2.value[index].quantity++;
      };
      const handleMinus = (index) => {
        if (orderData2.value[index].quantity > 1) {
          orderData2.value[index].quantity--;
        }
      };
      const paymentMethod = vue.ref("weixin");
      const handlePayment = (val2) => {
        paymentMethod.value = val2;
      };
      const {
        isLoading,
        paymentStatus,
        initPaymentChannels,
        wechatPay,
        alipay,
        PAYMENT_STATUS: PAYMENT_STATUS2
      } = usePayment();
      const orderPay = async (id2) => {
        if (address.value.id == null) {
          uni.showToast({
            title: "请选择收货地址",
            icon: "none"
          });
          return;
        }
        try {
          const api = paymentMethod.value == "weixin" ? wxPay : aliPay;
          const type = paymentMethod.value == "weixin" ? "wxPay" : "aliPay";
          const { id: id3, addressId, currentSku, remark } = orderData2.value;
          const OrderInfo = {
            addressId,
            directBuyItem: {
              productId: id3,
              quantity: currentSku.quantity,
              skuId: currentSku.id
            },
            remark
          };
          const res2 = await submitOrder(OrderInfo);
          const { data } = await api({
            orderId: res2.data.orderId,
            amount: res2.data.orderAmount,
            type,
            status: 1
          });
          if (paymentMethod.value == "weixin") {
            handleWechatPay(data.orderString);
          } else {
            handleAlipay(data.orderString, res2.data.orderSn);
          }
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleAlipay = async (orderInfo, orderSn) => {
        try {
          const result = await alipay(orderInfo);
          payResultApi(orderSn);
        } catch (err) {
          message.value = err.message || "支付宝支付失败";
        }
      };
      const handleWechatPay = async (orderInfo) => {
        try {
          const result = await wechatPay(orderInfo);
          if (result.status === PAYMENT_STATUS2.SUCCESS) {
            message.value = "微信支付成功";
          }
        } catch (err) {
          message.value = err.message || "微信支付失败";
        }
      };
      const payResultApi = async (orderSn) => {
        try {
          const result = await payResult({ orderSn });
          if (result.data.status == 2) {
          }
        } catch (err) {
          message.value = err.message || "支付失败";
        }
      };
      onLoad((options) => {
        const order = uni.getStorageSync("orderTempData");
        formatAppLog("log", "at pages/shopping-mall/order-confirmation.vue:266", order);
      });
      onShow(() => {
        getDefaultAddressFn();
      });
      const __returned__ = { scrollTop, globalStore, orderStore, statusBarHeight, orderData: orderData2, onPageScroll: onPageScroll2, backFn, selectImg, address, getDefaultAddressFn, handleAddress, handlePlus, handleMinus, paymentMethod, handlePayment, isLoading, paymentStatus, initPaymentChannels, wechatPay, alipay, PAYMENT_STATUS: PAYMENT_STATUS2, orderPay, handleAlipay, handleWechatPay, payResultApi, ref: vue.ref, get useGlobalDataStore() {
        return useGlobalDataStore;
      }, get useOrderStore() {
        return useOrderStore;
      }, get onShow() {
        return onShow;
      }, get onLoad() {
        return onLoad;
      }, get payment() {
        return payment;
      }, get wxPay() {
        return wxPay;
      }, get aliPay() {
        return aliPay;
      }, get payResult() {
        return payResult;
      }, get usePayment() {
        return usePayment;
      }, get getDefaultAddress() {
        return getDefaultAddress;
      }, get submitOrder() {
        return submitOrder;
      } };
      Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
      return __returned__;
    }
  };
  function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$8);
    const _component_uni_nav_bar = resolveEasycom(vue.resolveDynamicComponent("uni-nav-bar"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "settled-box" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createVNode(_component_uni_nav_bar, {
          class: vue.normalizeClass([$setup.scrollTop > 15 ? "scrollClass" : "", "header-bar"]),
          backgroundColor: "rgba(255,255,255,0)",
          border: false,
          title: "确认订单"
        }, {
          left: vue.withCtx(() => [
            vue.createVNode(_component_uni_icons, {
              type: "left",
              size: "24",
              onClick: $setup.backFn
            })
          ]),
          _: 1
          /* STABLE */
        }, 8, ["class"])
      ]),
      vue.createElementVNode(
        "scroll-view",
        {
          "scroll-y": "",
          onScroll: $setup.onPageScroll,
          style: { "height": "100vh" },
          "show-scrollbar": false
        },
        [
          vue.createElementVNode("view", { class: "consultation-content" }, [
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-list-container" }, [
                vue.createElementVNode("view", { class: "address-item" }, [
                  $setup.address.receiverPhone ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "address-info"
                  }, [
                    vue.createVNode(_component_uni_icons, {
                      type: "location",
                      size: "30",
                      color: "#8D8D8D",
                      class: "icon"
                    }),
                    vue.createElementVNode("view", null, [
                      vue.createElementVNode(
                        "view",
                        null,
                        vue.toDisplayString($setup.address.detailAddress),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", { class: "info-user" }, [
                        vue.createElementVNode(
                          "view",
                          null,
                          vue.toDisplayString($setup.address.receiverName),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode(
                          "view",
                          null,
                          vue.toDisplayString($setup.address.receiverPhone),
                          1
                          /* TEXT */
                        )
                      ])
                    ])
                  ])) : (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "address-info"
                  }, "请添加默认收货地址")),
                  vue.createVNode(_component_uni_icons, {
                    type: "right",
                    size: "30",
                    onClick: $setup.handleAddress
                  })
                ])
              ])
            ]),
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($setup.orderData, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", { class: "consultation-plan-section" }, [
                  vue.createElementVNode("view", {
                    class: "plan-list-container",
                    style: { "padding": "20rpx" }
                  }, [
                    vue.createElementVNode("view", { class: "cart-item-info" }, [
                      vue.createElementVNode("image", {
                        class: "cart-item-img",
                        src: item.thumbnail,
                        mode: "widthFix"
                      }, null, 8, ["src"]),
                      vue.createElementVNode("view", { class: "cart-item-detail" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "cart-item-title" },
                          vue.toDisplayString(item.productName),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "cart-item-spec" }, [
                          vue.createElementVNode(
                            "text",
                            null,
                            vue.toDisplayString(Object.values(item.specValues).join(";")),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode(
                            "text",
                            { class: "cart-item-price" },
                            "¥" + vue.toDisplayString(item.totalAmount),
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode("view", { class: "count-group" }, [
                          vue.createElementVNode("view", {
                            class: "count-btn minus-btn",
                            onClick: ($event) => $setup.handleMinus(index),
                            disabled: item.quantity <= 1
                          }, [
                            vue.createElementVNode("view", null, "-"),
                            vue.createElementVNode("view", { class: "line" })
                          ], 8, ["onClick", "disabled"]),
                          vue.createElementVNode(
                            "view",
                            { class: "count" },
                            vue.toDisplayString(item.quantity),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode("view", {
                            class: "count-btn plus-btn",
                            onClick: ($event) => $setup.handlePlus(index)
                          }, [
                            vue.createElementVNode("view", { class: "line" }),
                            vue.createElementVNode("view", null, "+")
                          ], 8, ["onClick"])
                        ])
                      ])
                    ])
                  ])
                ]);
              }),
              256
              /* UNKEYED_FRAGMENT */
            )),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-list-container" }, [
                vue.createElementVNode("view", { class: "plan-item" }, [
                  vue.createElementVNode("view", null, "配送"),
                  vue.createElementVNode("view", null, "48小时发货")
                ]),
                vue.createElementVNode("view", { class: "plan-item" }, [
                  vue.createElementVNode("view", null, "运费"),
                  vue.createElementVNode(
                    "view",
                    null,
                    vue.toDisplayString($setup.orderData.freeShipping == 1 ? "免运费" : "¥0.00"),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "plan-item" }, [
                  vue.createElementVNode("view", null, "商品总价"),
                  vue.createElementVNode(
                    "view",
                    { style: { "color": "#de1718" } },
                    "¥" + vue.toDisplayString($setup.orderData.currentSku.price * $setup.orderData.currentSku.quantity),
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode("view", { class: "plan-item" }, [
                  vue.createElementVNode("view", null, "应付金额"),
                  vue.createElementVNode(
                    "view",
                    { style: { "color": "#de1718" } },
                    "¥" + vue.toDisplayString($setup.orderData.currentSku.price * $setup.orderData.currentSku.quantity),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "please-note" }, [
                vue.createTextVNode(" 备注 "),
                vue.withDirectives(vue.createElementVNode(
                  "textarea",
                  {
                    "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.orderData.remark = $event),
                    "placeholder-style": "color:#9E9E9E;padding: 20rpx",
                    placeholder: "这里是备注内容"
                  },
                  null,
                  512
                  /* NEED_PATCH */
                ), [
                  [vue.vModelText, $setup.orderData.remark]
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "consultation-plan-section" }, [
              vue.createElementVNode("view", { class: "plan-title" }, "支付方式"),
              vue.createElementVNode("view", { class: "please-note" }, [
                vue.createElementVNode("view", {
                  class: "note-pay",
                  onClick: _cache[1] || (_cache[1] = ($event) => $setup.handlePayment("weixin"))
                }, [
                  vue.createElementVNode("view", { class: "pay-item" }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-wechatimg.png" }),
                    vue.createElementVNode("view", null, "微信支付")
                  ]),
                  vue.createElementVNode("image", {
                    src: `/static/auth/${$setup.paymentMethod == "weixin" ? $setup.selectImg : "not-selected"}.png`,
                    style: { "width": "25rpx", "height": "25rpx" }
                  }, null, 8, ["src"])
                ]),
                vue.createElementVNode("view", {
                  class: "note-pay",
                  onClick: _cache[2] || (_cache[2] = ($event) => $setup.handlePayment("alipay"))
                }, [
                  vue.createElementVNode("view", { class: "pay-item" }, [
                    vue.createElementVNode("image", { src: "http://cdn.yupao.com/pc/images/zgp/recharge-pay-alipayimg.png" }),
                    vue.createElementVNode("view", null, "支付宝支付")
                  ]),
                  vue.createElementVNode("image", {
                    src: `/static/auth/${$setup.paymentMethod == "alipay" ? $setup.selectImg : "not-selected"}.png`,
                    style: { "width": "25rpx", "height": "25rpx" }
                  }, null, 8, ["src"])
                ])
              ])
            ])
          ])
        ],
        32
        /* NEED_HYDRATION */
      ),
      vue.createElementVNode("view", { class: "recharge-pay-footer" }, [
        vue.createElementVNode(
          "button",
          {
            class: "recharge-sure-price",
            onClick: $setup.orderPay
          },
          "立即支付 ¥" + vue.toDisplayString($setup.orderData.currentSku.price * $setup.orderData.currentSku.quantity),
          1
          /* TEXT */
        )
      ])
    ]);
  }
  const PagesShoppingMallOrderConfirmation = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["render", _sfc_render], ["__scopeId", "data-v-90dd0d93"], ["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/pages/shopping-mall/order-confirmation.vue"]]);
  __definePage("pages/login/login", PagesLoginLogin);
  __definePage("pages/confide/index", PagesConfideIndex);
  __definePage("pages/confide/detail", PagesConfideDetail);
  __definePage("pages/consult/index", PagesConsultIndex);
  __definePage("pages/consult/detail", PagesConsultDetail);
  __definePage("pages/index/index", PagesIndexIndex);
  __definePage("pages/message/index", PagesMessageIndex);
  __definePage("pages/my/index", PagesMyIndex);
  __definePage("pages/readArticle/readArticle", PagesReadArticleReadArticle);
  __definePage("pages/readArticle/articleDetail", PagesReadArticleArticleDetail);
  __definePage("pages/settled/settled", PagesSettledSettled);
  __definePage("pages/settled/application", PagesSettledApplication);
  __definePage("pages/consult-feel/consult-feel", PagesConsultFeelConsultFeel);
  __definePage("pages/evaluate/evaluate", PagesEvaluateEvaluate);
  __definePage("pages/forum/index/index", PagesForumIndexIndex);
  __definePage("pages/forum/write/write", PagesForumWriteWrite);
  __definePage("pages/forum/my/my", PagesForumMyMy);
  __definePage("pages/forum/other/other", PagesForumOtherOther);
  __definePage("pages/forum/mailbox/mailbox", PagesForumMailboxMailbox);
  __definePage("pages/forum/write/ask-question/ask-question", PagesForumWriteAskQuestionAskQuestion);
  __definePage("pages/forum/write/send-dynamics/send-dynamics", PagesForumWriteSendDynamicsSendDynamics);
  __definePage("pages/forum/write/write-mailbox/write-mailbox", PagesForumWriteWriteMailboxWriteMailbox);
  __definePage("pages/forum/my/userInfo", PagesForumMyUserInfo);
  __definePage("pages/forum/my/info", PagesForumMyInfo);
  __definePage("pages/forum/write/choose-topic/choose-topic", PagesForumWriteChooseTopicChooseTopic);
  __definePage("pages/forum/index/qaDetail", PagesForumIndexQaDetail);
  __definePage("pages/psychological-test/index/index", PagesPsychologicalTestIndexIndex);
  __definePage("pages/psychological-test/order/order", PagesPsychologicalTestOrderOrder);
  __definePage("pages/psychological-test/test-type/test-type", PagesPsychologicalTestTestTypeTestType);
  __definePage("pages/psychological-test/start-test/start-test", PagesPsychologicalTestStartTestStartTest);
  __definePage("pages/psychological-test/comment/comment", PagesPsychologicalTestCommentComment);
  __definePage("pages/psychological-test/contact-consult/contact-consult", PagesPsychologicalTestContactConsultContactConsult);
  __definePage("pages/psychological-test/test-result/test-result", PagesPsychologicalTestTestResultTestResult);
  __definePage("pages/psychological-test/charge-test/charge-test", PagesPsychologicalTestChargeTestChargeTest);
  __definePage("pages/psychological-test/free-test/free-test", PagesPsychologicalTestFreeTestFreeTest);
  __definePage("pages/message/private-chat", PagesMessagePrivateChat);
  __definePage("pages/supplementInfo/supplementInfo", PagesSupplementInfoSupplementInfo);
  __definePage("pages/settings/serviceSettings", PagesSettingsServiceSettings);
  __definePage("pages/settings/help-center", PagesSettingsHelpCenter);
  __definePage("pages/settings/service-setup", PagesSettingsServiceSetup);
  __definePage("pages/settings/service-price", PagesSettingsServicePrice);
  __definePage("pages/settings/feedback", PagesSettingsFeedback);
  __definePage("pages/settings/complaint", PagesSettingsComplaint);
  __definePage("pages/payment/order/refund-order", PagesPaymentOrderRefundOrder);
  __definePage("pages/settings/record", PagesSettingsRecord);
  __definePage("pages/payment/order/consult-order", PagesPaymentOrderConsultOrder);
  __definePage("pages/payment/order/exam-order", PagesPaymentOrderExamOrder);
  __definePage("pages/payment/order/listener-order", PagesPaymentOrderListenerOrder);
  __definePage("pages/payment/order/bill-order", PagesPaymentOrderBillOrder);
  __definePage("pages/payment/order/evaluation-order", PagesPaymentOrderEvaluationOrder);
  __definePage("pages/settings/services", PagesSettingsServices);
  __definePage("pages/auth/auth", PagesAuthAuth);
  __definePage("pages/auth/cityChoose", PagesAuthCityChoose);
  __definePage("pages/payment/payment", PagesPaymentPayment);
  __definePage("pages/payment/payment-records", PagesPaymentPaymentRecords);
  __definePage("pages/payment/order-details", PagesPaymentOrderDetails);
  __definePage("pages/register/register", PagesRegisterRegister);
  __definePage("pages/settings/settings", PagesSettingsSettings);
  __definePage("pages/account/security", PagesAccountSecurity);
  __definePage("pages/webview/webview", PagesWebviewWebview);
  __definePage("pages/my/wallet/bill", PagesMyWalletBill);
  __definePage("pages/my/wallet/withdrawal", PagesMyWalletWithdrawal);
  __definePage("pages/my/wallet/bank-card", PagesMyWalletBankCard);
  __definePage("pages/my/wallet/mine", PagesMyWalletMine);
  __definePage("pages/shopping-mall/mall-home", PagesShoppingMallMallHome);
  __definePage("pages/shopping-mall/product-details", PagesShoppingMallProductDetails);
  __definePage("pages/shopping-mall/shopping-cart", PagesShoppingMallShoppingCart);
  __definePage("pages/shopping-mall/delivery-address", PagesShoppingMallDeliveryAddress);
  __definePage("pages/shopping-mall/operation-address", PagesShoppingMallOperationAddress);
  __definePage("pages/shopping-mall/order-details", PagesShoppingMallOrderDetails);
  __definePage("pages/shopping-mall/order-list", PagesShoppingMallOrderList);
  __definePage("pages/shopping-mall/order-confirmation", PagesShoppingMallOrderConfirmation);
  const config$1 = {
    // 黑白名单只能二选一
    // 白名单，不需要登录的页面路径
    whiteList: [
      // '/pages/tabPage/index',
      "/pages/login/login",
      // '/pages/login/register'
      { "pattern": RegExp(/register/) }
    ],
    // 黑名单，需要登录的页面路径
    blackList: [
      "/pages/index/index",
      // '/pages/index/detail',
      { "pattern": RegExp(/detail/) }
    ],
    // getStorageSync 获取本地存储的用户登录标识
    uInfo: "token",
    // 登录页面地址，用于未登录时跳转
    loginPath: "/pages/login/login",
    // 点击跳转到需要登录的页面时，未登录是否跳转到登录页面，true | false
    toLogin: true
  };
  const routeList = ["navigateTo", "redirectTo", "reLaunch", "switchTab"];
  function lgen_intercept({ path, query }) {
    if (!config$1.whiteList && !config$1.blackList)
      return;
    {
      path = "/" + path;
      const uInfo = uni.getStorageSync(config$1.uInfo);
      if (!uInfo) {
        if (config$1.whiteList && !config$1.whiteList.includes(path)) {
          handleInit(path, query);
        } else if (config$1.blackList && config$1.blackList.includes(path)) {
          handleInit(path, query);
        }
      } else {
        if (path == "/pages/login/login") {
          uni.reLaunch({
            url: "/pages/index/index"
          });
        }
      }
    }
    routeList.forEach((rItem) => {
      uni.addInterceptor(rItem, {
        // 拦截前
        invoke(args) {
          const uInfo = uni.getStorageSync(config$1.uInfo), url2 = args.url.split("?")[0];
          let pass = true;
          if (config$1.whiteList) {
            pass = config$1.whiteList.some((item) => {
              if (typeof item == "object" && item.pattern) {
                return item.pattern.test(url2);
              }
              return url2 == item;
            });
          } else if (config$1.blackList) {
            pass = config$1.blackList.every((item) => {
              if (typeof item == "object" && item.pattern) {
                return !item.pattern.test(url2);
              }
              return url2 != item;
            });
          }
          if (!pass && !uInfo) {
            {
              jumpLogin(args.url, 1);
            }
            return false;
          }
          return args;
        }
      });
    });
  }
  function handleInit(path, query) {
    let paramStr = "";
    for (let key in query) {
      paramStr += `&${key}=${query[key]}`;
    }
    paramStr = paramStr.replace("&", "?");
    let newPath = path + paramStr;
    jumpLogin(newPath);
  }
  function jumpLogin(path, type = 0) {
    let pagePath = encodeURIComponent(path);
    let toUrl = config$1.loginPath + "?path=" + pagePath;
    if (type) {
      uni.navigateTo({
        url: toUrl
      });
    } else {
      uni.reLaunch({
        url: toUrl
      });
    }
  }
  const _sfc_main = {
    onLaunch: function(e2) {
      lgen_intercept(e2);
    },
    onShow: function() {
    },
    onHide: function() {
    },
    globalData: {
      httpImageUrl: "https://odd.dzjob.net/profile/upload"
    }
  };
  const App = /* @__PURE__ */ _export_sfc(_sfc_main, [["__file", "/Users/gaomingxin/Documents/项目/wheatconfide-uniapp/App.vue"]]);
  const mixin = {
    data() {
      return {};
    },
    onLoad() {
      this.$u.getRect = this.$uGetRect;
    },
    methods: {
      // 查询节点信息
      // 目前此方法在支付宝小程序中无法获取组件跟接点的尺寸，为支付宝的bug(2020-07-21)
      // 解决办法为在组件根部再套一个没有任何作用的view元素
      $uGetRect(selector, all) {
        return new Promise((resolve) => {
          uni.createSelectorQuery().in(this)[all ? "selectAll" : "select"](selector).boundingClientRect((rect) => {
            if (all && Array.isArray(rect) && rect.length) {
              resolve(rect);
            }
            if (!all && rect) {
              resolve(rect);
            }
          }).exec();
        });
      },
      getParentData(parentName = "") {
        if (!this.parent)
          this.parent = false;
        this.parent = this.$u.$parent.call(this, parentName);
        if (this.parent) {
          Object.keys(this.parentData).map((key) => {
            this.parentData[key] = this.parent[key];
          });
          this.parentData.value = this.parent.modelValue;
        }
      },
      // 阻止事件冒泡
      preventEvent(e2) {
        e2 && e2.stopPropagation && e2.stopPropagation();
      }
    },
    onReachBottom() {
      uni.$emit("uOnReachBottom");
    },
    beforeUnmount() {
      if (this.parent && uni.$u.test.array(this.parent.children)) {
        const childrenList = this.parent.children;
        childrenList.map((child, index) => {
          if (child === this) {
            childrenList.splice(index, 1);
          }
        });
      }
    }
  };
  function isArray(arr) {
    return Object.prototype.toString.call(arr) === "[object Array]";
  }
  function deepClone(obj) {
    if ([null, void 0, NaN, false].includes(obj))
      return obj;
    if (typeof obj !== "object" && typeof obj !== "function") {
      return obj;
    }
    var o2 = isArray(obj) ? [] : {};
    for (let i2 in obj) {
      if (obj.hasOwnProperty(i2)) {
        o2[i2] = typeof obj[i2] === "object" ? deepClone(obj[i2]) : obj[i2];
      }
    }
    return o2;
  }
  function deepMerge(target = {}, source = {}) {
    target = deepClone(target);
    if (typeof target !== "object" || typeof source !== "object")
      return false;
    for (var prop in source) {
      if (!source.hasOwnProperty(prop))
        continue;
      if (prop in target) {
        if (typeof target[prop] !== "object") {
          target[prop] = source[prop];
        } else {
          if (typeof source[prop] !== "object") {
            target[prop] = source[prop];
          } else {
            if (target[prop].concat && source[prop].concat) {
              target[prop] = target[prop].concat(source[prop]);
            } else {
              target[prop] = deepMerge(target[prop], source[prop]);
            }
          }
        }
      } else {
        target[prop] = source[prop];
      }
    }
    return target;
  }
  function email(value) {
    return /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(value);
  }
  function mobile(value) {
    return /^1[23456789]\d{9}$/.test(value);
  }
  function url(value) {
    return /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(value);
  }
  function date(value) {
    if (!value)
      return false;
    if (number(value))
      value = +value;
    return !/Invalid|NaN/.test(new Date(value).toString());
  }
  function dateISO(value) {
    return /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value);
  }
  function number(value) {
    return /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);
  }
  function digits(value) {
    return /^\d+$/.test(value);
  }
  function idCard(value) {
    return /^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(
      value
    );
  }
  function carNo(value) {
    const xreg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/;
    const creg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;
    if (value.length === 7) {
      return creg.test(value);
    } else if (value.length === 8) {
      return xreg.test(value);
    } else {
      return false;
    }
  }
  function amount(value) {
    return /^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(value);
  }
  function chinese(value) {
    let reg = /^[\u4e00-\u9fa5]+$/gi;
    return reg.test(value);
  }
  function letter(value) {
    return /^[a-zA-Z]*$/.test(value);
  }
  function enOrNum(value) {
    let reg = /^[0-9a-zA-Z]*$/g;
    return reg.test(value);
  }
  function contains(value, param) {
    return value.indexOf(param) >= 0;
  }
  function range(value, param) {
    return value >= param[0] && value <= param[1];
  }
  function rangeLength(value, param) {
    return value.length >= param[0] && value.length <= param[1];
  }
  function landline(value) {
    let reg = /^\d{3,4}-\d{7,8}(-\d{3,4})?$/;
    return reg.test(value);
  }
  function empty(value) {
    switch (typeof value) {
      case "undefined":
        return true;
      case "string":
        if (value.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g, "").length == 0)
          return true;
        break;
      case "boolean":
        if (!value)
          return true;
        break;
      case "number":
        if (0 === value || isNaN(value))
          return true;
        break;
      case "object":
        if (null === value || value.length === 0)
          return true;
        for (var i2 in value) {
          return false;
        }
        return true;
    }
    return false;
  }
  function jsonString(value) {
    if (typeof value == "string") {
      try {
        var obj = JSON.parse(value);
        if (typeof obj == "object" && obj) {
          return true;
        } else {
          return false;
        }
      } catch (e2) {
        return false;
      }
    }
    return false;
  }
  function array(value) {
    if (typeof Array.isArray === "function") {
      return Array.isArray(value);
    } else {
      return Object.prototype.toString.call(value) === "[object Array]";
    }
  }
  function object(value) {
    return Object.prototype.toString.call(value) === "[object Object]";
  }
  function code(value, len = 6) {
    return new RegExp(`^\\d{${len}}$`).test(value);
  }
  function func(value) {
    return typeof value === "function";
  }
  function promise(value) {
    return object(value) && func(value.then) && func(value.catch);
  }
  function image(value) {
    const newValue = value.split("?")[0];
    return new RegExp(/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)$/).test(newValue);
  }
  function video(value) {
    const newValue = value.split("?")[0];
    return new RegExp(/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8|3gp)$/).test(newValue);
  }
  function regExp(o2) {
    return o2 && Object.prototype.toString.call(o2) === "[object RegExp]";
  }
  function string(value) {
    return typeof value === "string";
  }
  const test = {
    email,
    mobile,
    url,
    date,
    dateISO,
    number,
    digits,
    idCard,
    carNo,
    amount,
    chinese,
    letter,
    enOrNum,
    contains,
    range,
    rangeLength,
    empty,
    isEmpty: empty,
    jsonString,
    landline,
    object,
    array,
    code,
    func,
    promise,
    video,
    image,
    regExp,
    string
  };
  class Request {
    // 设置全局默认配置
    setConfig(customConfig) {
      this.config = deepMerge(this.config, customConfig);
    }
    // 主要请求部分
    request(options = {}) {
      if (this.interceptor.request && typeof this.interceptor.request === "function") {
        let interceptorRequest = this.interceptor.request(options);
        if (interceptorRequest === false) {
          return new Promise(() => {
          });
        }
        this.options = interceptorRequest;
      }
      options.dataType = options.dataType || this.config.dataType;
      options.responseType = options.responseType || this.config.responseType;
      options.url = options.url || "";
      options.params = options.params || {};
      options.header = Object.assign({}, this.config.header, options.header);
      options.method = options.method || this.config.method;
      return new Promise((resolve, reject) => {
        options.complete = (response) => {
          uni.hideLoading();
          clearTimeout(this.config.timer);
          this.config.timer = null;
          if (this.config.originalData) {
            if (this.interceptor.response && typeof this.interceptor.response === "function") {
              let resInterceptors = this.interceptor.response(response);
              if (resInterceptors !== false) {
                resolve(resInterceptors);
              } else {
                reject(response);
              }
            } else {
              resolve(response);
            }
          } else {
            if (response.statusCode == 200) {
              if (this.interceptor.response && typeof this.interceptor.response === "function") {
                let resInterceptors = this.interceptor.response(response.data);
                if (resInterceptors !== false) {
                  resolve(resInterceptors);
                } else {
                  reject(response.data);
                }
              } else {
                resolve(response.data);
              }
            } else {
              reject(response);
            }
          }
        };
        options.url = test.url(options.url) ? options.url : this.config.baseUrl + (options.url.indexOf("/") == 0 ? options.url : "/" + options.url);
        if (this.config.showLoading && !this.config.timer) {
          this.config.timer = setTimeout(() => {
            uni.showLoading({
              title: this.config.loadingText,
              mask: this.config.loadingMask
            });
            this.config.timer = null;
          }, this.config.loadingTime);
        }
        uni.request(options);
      });
    }
    constructor() {
      this.config = {
        baseUrl: "",
        // 请求的根域名
        // 默认的请求头
        header: {},
        method: "POST",
        // 设置为json，返回后uni.request会对数据进行一次JSON.parse
        dataType: "json",
        // 此参数无需处理，因为5+和支付宝小程序不支持，默认为text即可
        responseType: "text",
        showLoading: true,
        // 是否显示请求中的loading
        loadingText: "请求中...",
        loadingTime: 800,
        // 在此时间内，请求还没回来的话，就显示加载中动画，单位ms
        timer: null,
        // 定时器
        originalData: false,
        // 是否在拦截器中返回服务端的原始数据，见文档说明
        loadingMask: true
        // 展示loading的时候，是否给一个透明的蒙层，防止触摸穿透
      };
      this.interceptor = {
        // 请求前的拦截
        request: null,
        // 请求后的拦截
        response: null
      };
      this.get = (url2, data = {}, header = {}) => {
        return this.request({
          method: "GET",
          url: url2,
          header,
          data
        });
      };
      this.post = (url2, data = {}, header = {}) => {
        return this.request({
          url: url2,
          method: "POST",
          header,
          data
        });
      };
      this.put = (url2, data = {}, header = {}) => {
        return this.request({
          url: url2,
          method: "PUT",
          header,
          data
        });
      };
      this.delete = (url2, data = {}, header = {}) => {
        return this.request({
          url: url2,
          method: "DELETE",
          header,
          data
        });
      };
    }
  }
  const http = new Request();
  function queryParams(data = {}, isPrefix = true, arrayFormat = "brackets") {
    let prefix = isPrefix ? "?" : "";
    let _result = [];
    if (["indices", "brackets", "repeat", "comma"].indexOf(arrayFormat) == -1)
      arrayFormat = "brackets";
    for (let key in data) {
      let value = data[key];
      if (["", void 0, null].indexOf(value) >= 0) {
        continue;
      }
      if (value.constructor === Array) {
        switch (arrayFormat) {
          case "indices":
            for (let i2 = 0; i2 < value.length; i2++) {
              _result.push(key + "[" + i2 + "]=" + value[i2]);
            }
            break;
          case "brackets":
            value.forEach((_value) => {
              _result.push(key + "[]=" + _value);
            });
            break;
          case "repeat":
            value.forEach((_value) => {
              _result.push(key + "=" + _value);
            });
            break;
          case "comma":
            let commaStr = "";
            value.forEach((_value) => {
              commaStr += (commaStr ? "," : "") + _value;
            });
            _result.push(key + "=" + commaStr);
            break;
          default:
            value.forEach((_value) => {
              _result.push(key + "[]=" + _value);
            });
        }
      } else {
        _result.push(key + "=" + value);
      }
    }
    return _result.length ? prefix + _result.join("&") : "";
  }
  class Router {
    constructor() {
      this.config = {
        type: "navigateTo",
        url: "",
        delta: 1,
        // navigateBack页面后退时,回退的层数
        params: {},
        // 传递的参数
        animationType: "pop-in",
        // 窗口动画,只在APP有效
        animationDuration: 300,
        // 窗口动画持续时间,单位毫秒,只在APP有效
        intercept: false
        // 是否需要拦截
      };
      this.route = this.route.bind(this);
    }
    // 判断url前面是否有"/"，如果没有则加上，否则无法跳转
    addRootPath(url2) {
      return url2[0] === "/" ? url2 : `/${url2}`;
    }
    // 整合路由参数
    mixinParam(url2, params) {
      url2 = url2 && this.addRootPath(url2);
      let query = "";
      if (/.*\/.*\?.*=.*/.test(url2)) {
        query = uni.$u.queryParams(params, false);
        return url2 += "&" + query;
      } else {
        query = uni.$u.queryParams(params);
        return url2 += query;
      }
    }
    // 对外的方法名称
    async route(options = {}, params = {}) {
      let mergeConfig = {};
      if (typeof options === "string") {
        mergeConfig.url = this.mixinParam(options, params);
        mergeConfig.type = "navigateTo";
      } else {
        mergeConfig = uni.$u.deepClone(options, this.config);
        mergeConfig.url = this.mixinParam(options.url, options.params);
      }
      if (params.intercept) {
        this.config.intercept = params.intercept;
      }
      mergeConfig.params = params;
      mergeConfig = uni.$u.deepMerge(this.config, mergeConfig);
      if (typeof uni.$u.routeIntercept === "function") {
        const isNext = await new Promise((resolve, reject) => {
          uni.$u.routeIntercept(mergeConfig, resolve);
        });
        isNext && this.openPage(mergeConfig);
      } else {
        this.openPage(mergeConfig);
      }
    }
    // 执行路由跳转
    openPage(config2) {
      const {
        url: url2,
        type,
        delta,
        animationType,
        animationDuration
      } = config2;
      if (config2.type == "navigateTo" || config2.type == "to") {
        uni.navigateTo({
          url: url2,
          animationType,
          animationDuration
        });
      }
      if (config2.type == "redirectTo" || config2.type == "redirect") {
        uni.redirectTo({
          url: url2
        });
      }
      if (config2.type == "switchTab" || config2.type == "tab") {
        uni.switchTab({
          url: url2
        });
      }
      if (config2.type == "reLaunch" || config2.type == "launch") {
        uni.reLaunch({
          url: url2
        });
      }
      if (config2.type == "navigateBack" || config2.type == "back") {
        uni.navigateBack({
          delta
        });
      }
    }
  }
  const route = new Router().route;
  function timeFrom(dateTime = null, format = "yyyy-mm-dd") {
    if (!dateTime)
      dateTime = Number(/* @__PURE__ */ new Date());
    if (dateTime.toString().length == 10)
      dateTime *= 1e3;
    let timestamp = +new Date(Number(dateTime));
    let timer = (Number(/* @__PURE__ */ new Date()) - timestamp) / 1e3;
    let tips = "";
    switch (true) {
      case timer < 300:
        tips = "刚刚";
        break;
      case (timer >= 300 && timer < 3600):
        tips = parseInt(timer / 60) + "分钟前";
        break;
      case (timer >= 3600 && timer < 86400):
        tips = parseInt(timer / 3600) + "小时前";
        break;
      case (timer >= 86400 && timer < 2592e3):
        tips = parseInt(timer / 86400) + "天前";
        break;
      default:
        if (format === false) {
          if (timer >= 2592e3 && timer < 365 * 86400) {
            tips = parseInt(timer / (86400 * 30)) + "个月前";
          } else {
            tips = parseInt(timer / (86400 * 365)) + "年前";
          }
        } else {
          tips = timeFormat(timestamp, format);
        }
    }
    return tips;
  }
  function colorGradient(startColor = "rgb(0, 0, 0)", endColor = "rgb(255, 255, 255)", step = 10) {
    let startRGB = hexToRgb(startColor, false);
    let startR = startRGB[0];
    let startG = startRGB[1];
    let startB = startRGB[2];
    let endRGB = hexToRgb(endColor, false);
    let endR = endRGB[0];
    let endG = endRGB[1];
    let endB = endRGB[2];
    let sR = (endR - startR) / step;
    let sG = (endG - startG) / step;
    let sB = (endB - startB) / step;
    let colorArr = [];
    for (let i2 = 0; i2 < step; i2++) {
      let hex = rgbToHex("rgb(" + Math.round(sR * i2 + startR) + "," + Math.round(sG * i2 + startG) + "," + Math.round(sB * i2 + startB) + ")");
      colorArr.push(hex);
    }
    return colorArr;
  }
  function hexToRgb(sColor, str = true) {
    let reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
    sColor = sColor.toLowerCase();
    if (sColor && reg.test(sColor)) {
      if (sColor.length === 4) {
        let sColorNew = "#";
        for (let i2 = 1; i2 < 4; i2 += 1) {
          sColorNew += sColor.slice(i2, i2 + 1).concat(sColor.slice(i2, i2 + 1));
        }
        sColor = sColorNew;
      }
      let sColorChange = [];
      for (let i2 = 1; i2 < 7; i2 += 2) {
        sColorChange.push(parseInt("0x" + sColor.slice(i2, i2 + 2)));
      }
      if (!str) {
        return sColorChange;
      } else {
        return `rgb(${sColorChange[0]},${sColorChange[1]},${sColorChange[2]})`;
      }
    } else if (/^(rgb|RGB)/.test(sColor)) {
      let arr = sColor.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
      return arr.map((val2) => Number(val2));
    } else {
      return sColor;
    }
  }
  function rgbToHex(rgb) {
    let _this = rgb;
    let reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
    if (/^(rgb|RGB)/.test(_this)) {
      let aColor = _this.replace(/(?:\(|\)|rgb|RGB)*/g, "").split(",");
      let strHex = "#";
      for (let i2 = 0; i2 < aColor.length; i2++) {
        let hex = Number(aColor[i2]).toString(16);
        hex = String(hex).length == 1 ? "0" + hex : hex;
        if (hex === "0") {
          hex += hex;
        }
        strHex += hex;
      }
      if (strHex.length !== 7) {
        strHex = _this;
      }
      return strHex;
    } else if (reg.test(_this)) {
      let aNum = _this.replace(/#/, "").split("");
      if (aNum.length === 6) {
        return _this;
      } else if (aNum.length === 3) {
        let numHex = "#";
        for (let i2 = 0; i2 < aNum.length; i2 += 1) {
          numHex += aNum[i2] + aNum[i2];
        }
        return numHex;
      }
    } else {
      return _this;
    }
  }
  function colorToRgba(color2, alpha = 0.3) {
    color2 = rgbToHex(color2);
    var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;
    let sColor = color2.toLowerCase();
    if (sColor && reg.test(sColor)) {
      if (sColor.length === 4) {
        var sColorNew = "#";
        for (let i2 = 1; i2 < 4; i2 += 1) {
          sColorNew += sColor.slice(i2, i2 + 1).concat(sColor.slice(i2, i2 + 1));
        }
        sColor = sColorNew;
      }
      var sColorChange = [];
      for (let i2 = 1; i2 < 7; i2 += 2) {
        sColorChange.push(parseInt("0x" + sColor.slice(i2, i2 + 2)));
      }
      return "rgba(" + sColorChange.join(",") + "," + alpha + ")";
    } else {
      return sColor;
    }
  }
  const colorGradient$1 = {
    colorGradient,
    hexToRgb,
    rgbToHex,
    colorToRgba
  };
  function guid(len = 32, firstU = true, radix = null) {
    let chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");
    let uuid = [];
    radix = radix || chars.length;
    if (len) {
      for (let i2 = 0; i2 < len; i2++)
        uuid[i2] = chars[0 | Math.random() * radix];
    } else {
      let r2;
      uuid[8] = uuid[13] = uuid[18] = uuid[23] = "-";
      uuid[14] = "4";
      for (let i2 = 0; i2 < 36; i2++) {
        if (!uuid[i2]) {
          r2 = 0 | Math.random() * 16;
          uuid[i2] = chars[i2 == 19 ? r2 & 3 | 8 : r2];
        }
      }
    }
    if (firstU) {
      uuid.shift();
      return "u" + uuid.join("");
    } else {
      return uuid.join("");
    }
  }
  let color = {
    primary: "#2979ff",
    primaryDark: "#2b85e4",
    primaryDisabled: "#a0cfff",
    primaryLight: "#ecf5ff",
    bgColor: "#f3f4f6",
    info: "#909399",
    infoDark: "#82848a",
    infoDisabled: "#c8c9cc",
    infoLight: "#f4f4f5",
    warning: "#ff9900",
    warningDark: "#f29100",
    warningDisabled: "#fcbd71",
    warningLight: "#fdf6ec",
    error: "#fa3534",
    errorDark: "#dd6161",
    errorDisabled: "#fab6b6",
    errorLight: "#fef0f0",
    success: "#19be6b",
    successDark: "#18b566",
    successDisabled: "#71d5a1",
    successLight: "#dbf1e1",
    mainColor: "#303133",
    contentColor: "#606266",
    tipsColor: "#909399",
    lightColor: "#c0c4cc",
    borderColor: "#e4e7ed"
  };
  function type2icon(type = "success", fill = false) {
    if (["primary", "info", "error", "warning", "success"].indexOf(type) == -1)
      type = "success";
    let iconName = "";
    switch (type) {
      case "primary":
        iconName = "info-circle";
        break;
      case "info":
        iconName = "info-circle";
        break;
      case "error":
        iconName = "close-circle";
        break;
      case "warning":
        iconName = "error-circle";
        break;
      case "success":
        iconName = "checkmark-circle";
        break;
      default:
        iconName = "checkmark-circle";
    }
    if (fill)
      iconName += "-fill";
    return iconName;
  }
  function randomArray(array2 = []) {
    return array2.sort(() => Math.random() - 0.5);
  }
  const addUnit = function(value = "auto", unit = "rpx") {
    value = String(value);
    return test.number(value) ? `${value}${unit}` : value;
  };
  function random(min, max) {
    if (min >= 0 && max > 0 && max >= min) {
      let gab = max - min + 1;
      return Math.floor(Math.random() * gab + min);
    } else {
      return 0;
    }
  }
  function trim$1(str, pos = "both") {
    if (pos == "both") {
      return str.replace(/^\s+|\s+$/g, "");
    } else if (pos == "left") {
      return str.replace(/^\s*/, "");
    } else if (pos == "right") {
      return str.replace(/(\s*$)/g, "");
    } else if (pos == "all") {
      return str.replace(/\s+/g, "");
    } else {
      return str;
    }
  }
  function toast(title, duration = 1500) {
    uni.showToast({
      title,
      icon: "none",
      duration
    });
  }
  function getParent(name, keys) {
    let parent = this.$parent;
    while (parent) {
      if (parent.$options.name !== name) {
        parent = parent.$parent;
      } else {
        let data = {};
        if (Array.isArray(keys)) {
          keys.map((val2) => {
            data[val2] = parent[val2] ? parent[val2] : "";
          });
        } else {
          for (let i2 in keys) {
            if (Array.isArray(keys[i2])) {
              if (keys[i2].length) {
                data[i2] = keys[i2];
              } else {
                data[i2] = parent[i2];
              }
            } else if (keys[i2].constructor === Object) {
              if (Object.keys(keys[i2]).length) {
                data[i2] = keys[i2];
              } else {
                data[i2] = parent[i2];
              }
            } else {
              data[i2] = keys[i2] || keys[i2] === false ? keys[i2] : parent[i2];
            }
          }
        }
        return data;
      }
    }
    return {};
  }
  function $parent(name = void 0) {
    let parent = this.$parent;
    while (parent) {
      if (parent.$options && parent.$options.name !== name) {
        parent = parent.$parent;
      } else {
        return parent;
      }
    }
    return false;
  }
  function os() {
    return getSystemInfoSync().platform;
  }
  function sys() {
    return getSystemInfoSync();
  }
  let timeout = null;
  function debounce(func2, wait = 500, immediate = false) {
    if (timeout !== null)
      clearTimeout(timeout);
    if (immediate) {
      var callNow = !timeout;
      timeout = setTimeout(function() {
        timeout = null;
      }, wait);
      if (callNow)
        typeof func2 === "function" && func2();
    } else {
      timeout = setTimeout(function() {
        typeof func2 === "function" && func2();
      }, wait);
    }
  }
  let timeoutArr = [];
  let flagArr = [];
  function throttle(fn, time = 500, isImmediate = true, timeoutName = "default") {
    if (!timeoutArr[timeoutName])
      timeoutArr[timeoutName] = null;
    if (isImmediate) {
      if (!flagArr[timeoutName]) {
        flagArr[timeoutName] = true;
        if (typeof fn === "function")
          fn();
        timeoutArr[timeoutName] = setTimeout(() => {
          flagArr[timeoutName] = false;
        }, time);
      }
    } else {
      if (!flagArr[timeoutName]) {
        flagArr[timeoutName] = true;
        timeoutArr[timeoutName] = setTimeout(() => {
          flagArr[timeoutName] = false;
          if (typeof fn === "function")
            fn();
        }, time);
      }
    }
  }
  function trim(str, pos = "both") {
    str = String(str);
    if (pos == "both") {
      return str.replace(/^\s+|\s+$/g, "");
    }
    if (pos == "left") {
      return str.replace(/^\s*/, "");
    }
    if (pos == "right") {
      return str.replace(/(\s*$)/g, "");
    }
    if (pos == "all") {
      return str.replace(/\s+/g, "");
    }
    return str;
  }
  function addStyle(customStyle, target = "object") {
    if (test.empty(customStyle) || typeof customStyle === "object" && target === "object" || target === "string" && typeof customStyle === "string") {
      return customStyle;
    }
    if (target === "object") {
      customStyle = trim(customStyle);
      const styleArray = customStyle.split(";");
      const style = {};
      for (let i2 = 0; i2 < styleArray.length; i2++) {
        if (styleArray[i2]) {
          const item = styleArray[i2].split(":");
          style[trim(item[0])] = trim(item[1]);
        }
      }
      return style;
    }
    let string2 = "";
    for (const i2 in customStyle) {
      const key = i2.replace(/([A-Z])/g, "-$1").toLowerCase();
      string2 += `${key}:${customStyle[i2]};`;
    }
    return trim(string2);
  }
  let version = "1.10.1";
  const config = {
    v: version,
    version,
    // 主题名称
    type: [
      "primary",
      "success",
      "info",
      "error",
      "warning"
    ]
  };
  const zIndex = {
    toast: 10090,
    noNetwork: 10080,
    // popup包含popup，actionsheet，keyboard，picker的值
    popup: 10075,
    mask: 10070,
    navbar: 980,
    topTips: 975,
    sticky: 970,
    indexListSticky: 965
  };
  function wranning(str) {
    {
      formatAppLog("warn", "at uni_modules/vk-uview-ui/index.js:26", str);
    }
  }
  const $u = {
    queryParams,
    route,
    timeFormat,
    date: timeFormat,
    // 另名date
    timeFrom,
    colorGradient: colorGradient$1.colorGradient,
    colorToRgba: colorGradient$1.colorToRgba,
    guid,
    color,
    sys,
    os,
    type2icon,
    randomArray,
    wranning,
    get: http.get,
    post: http.post,
    put: http.put,
    "delete": http.delete,
    hexToRgb: colorGradient$1.hexToRgb,
    rgbToHex: colorGradient$1.rgbToHex,
    test,
    random,
    deepClone,
    deepMerge,
    getParent,
    $parent,
    addUnit,
    trim: trim$1,
    type: ["primary", "success", "error", "warning", "info"],
    http,
    toast,
    config,
    // uView配置信息相关，比如版本号
    zIndex,
    debounce,
    throttle,
    addStyle,
    getSystemInfoSync
  };
  uni.$u = $u;
  const install = (Vue2) => {
    Vue2.mixin(mixin);
    Vue2.config.globalProperties.$u = $u;
  };
  const uView = {
    install
  };
  uni.getStorageSync("currentUser");
  function createApp() {
    const app = vue.createVueApp(App);
    const pinia = createPinia();
    app.use(uView);
    app.use(pinia);
    return {
      app
    };
  }
  const { app: __app__, Vuex: __Vuex__, Pinia: __Pinia__ } = createApp();
  uni.Vuex = __Vuex__;
  uni.Pinia = __Pinia__;
  __app__.provide("__globalStyles", __uniConfig.styles);
  __app__._component.mpType = "app";
  __app__._component.render = () => {
  };
  __app__.mount("#app");
})(Vue);
